ARM GAS  C:\usertemp\cc1HxZCP.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"sockets.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "Middlewares/Third_Party/LwIP/src/api/sockets.c"
  19              		.section	.text.tryget_socket_unconn_nouse,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	tryget_socket_unconn_nouse:
  26              	.LVL0:
  27              	.LFB366:
   1:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
   2:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Sockets BSD-Like API module
   4:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
   5:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
   6:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /*
   7:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   8:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * All rights reserved.
   9:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  10:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Redistribution and use in source and binary forms, with or without modification,
  11:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * are permitted provided that the following conditions are met:
  12:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  13:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  14:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    this list of conditions and the following disclaimer.
  15:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  16:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    this list of conditions and the following disclaimer in the documentation
  17:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    and/or other materials provided with the distribution.
  18:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * 3. The name of the author may not be used to endorse or promote products
  19:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    derived from this software without specific prior written permission.
  20:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  21:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  22:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  23:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  24:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  25:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  26:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  27:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  28:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  29:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  30:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * OF SUCH DAMAGE.
  31:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 2


  32:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This file is part of the lwIP TCP/IP stack.
  33:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  34:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Author: Adam Dunkels <adam@sics.se>
  35:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  36:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Improved by Marc Boucher <marc@mbsi.ca> and David Haas <dhaas@alum.rpi.edu>
  37:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  38:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
  39:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  40:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/opt.h"
  41:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  42:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET /* don't build if not configured for use in lwipopts.h */
  43:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  44:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/sockets.h"
  45:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/priv/sockets_priv.h"
  46:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/api.h"
  47:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/igmp.h"
  48:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/inet.h"
  49:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/tcp.h"
  50:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/raw.h"
  51:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/udp.h"
  52:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/memp.h"
  53:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/pbuf.h"
  54:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/netif.h"
  55:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/priv/tcpip_priv.h"
  56:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/mld6.h"
  57:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
  58:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/inet_chksum.h"
  59:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  60:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  61:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_COMPAT_SOCKETS == 2 && LWIP_POSIX_SOCKETS_IO_NAMES
  62:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include <stdarg.h>
  63:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  64:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  65:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include <string.h>
  66:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  67:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifdef LWIP_HOOK_FILENAME
  68:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include LWIP_HOOK_FILENAME
  69:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  70:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  71:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* If the netconn API is not required publicly, then we include the necessary
  72:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    files here to get the implementation */
  73:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_NETCONN
  74:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #undef LWIP_NETCONN
  75:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_NETCONN 1
  76:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "api_msg.c"
  77:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "api_lib.c"
  78:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "netbuf.c"
  79:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #undef LWIP_NETCONN
  80:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_NETCONN 0
  81:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  82:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  83:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define API_SELECT_CB_VAR_REF(name)               API_VAR_REF(name)
  84:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define API_SELECT_CB_VAR_DECLARE(name)           API_VAR_DECLARE(struct lwip_select_cb, name)
  85:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define API_SELECT_CB_VAR_ALLOC(name, retblock)   API_VAR_ALLOC_EXT(struct lwip_select_cb, MEMP_SEL
  86:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define API_SELECT_CB_VAR_FREE(name)              API_VAR_FREE(MEMP_SELECT_CB, name)
  87:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  88:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 3


  89:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IP4ADDR_PORT_TO_SOCKADDR(sin, ipaddr, port) do { \
  90:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin)->sin_len = sizeof(struct sockaddr_in); \
  91:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin)->sin_family = AF_INET; \
  92:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin)->sin_port = lwip_htons((port)); \
  93:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       inet_addr_from_ip4addr(&(sin)->sin_addr, ipaddr); \
  94:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       memset((sin)->sin_zero, 0, SIN_ZERO_LEN); }while(0)
  95:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR4_TO_IP4ADDR_PORT(sin, ipaddr, port) do { \
  96:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     inet_addr_to_ip4addr(ip_2_ip4(ipaddr), &((sin)->sin_addr)); \
  97:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     (port) = lwip_ntohs((sin)->sin_port); }while(0)
  98:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 */
  99:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 100:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
 101:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IP6ADDR_PORT_TO_SOCKADDR(sin6, ipaddr, port) do { \
 102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_len = sizeof(struct sockaddr_in6); \
 103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_family = AF_INET6; \
 104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_port = lwip_htons((port)); \
 105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_flowinfo = 0; \
 106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       inet6_addr_from_ip6addr(&(sin6)->sin6_addr, ipaddr); \
 107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_scope_id = ip6_addr_zone(ipaddr); }while(0)
 108:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR6_TO_IP6ADDR_PORT(sin6, ipaddr, port) do { \
 109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     inet6_addr_to_ip6addr(ip_2_ip6(ipaddr), &((sin6)->sin6_addr)); \
 110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (ip6_addr_has_scope(ip_2_ip6(ipaddr), IP6_UNKNOWN)) { \
 111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ip6_addr_set_zone(ip_2_ip6(ipaddr), (u8_t)((sin6)->sin6_scope_id)); \
 112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } \
 113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     (port) = lwip_ntohs((sin6)->sin6_port); }while(0)
 114:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
 115:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 116:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 117:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void sockaddr_to_ipaddr_port(const struct sockaddr *sockaddr, ip_addr_t *ipaddr, u16_t *port
 118:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 119:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  (((namelen) == sizeof(struct sockaddr_in)) || \
 120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                          ((namelen) == sizeof(struct sockaddr_in6)))
 121:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    (((name)->sa_family == AF_INET) || \
 122:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                          ((name)->sa_family == AF_INET6))
 123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) \
 124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        ((((name)->sa_family == AF_INET) && !(NETCONNTYPE_ISIPV6((sock)->conn->type))) || \
 125:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        (((name)->sa_family == AF_INET6) && (NETCONNTYPE_ISIPV6((sock)->conn->type))))
 126:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) do { \
 127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (IP_IS_ANY_TYPE_VAL(*ipaddr) || IP_IS_V6_VAL(*ipaddr)) { \
 128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP6ADDR_PORT_TO_SOCKADDR((struct sockaddr_in6*)(void*)(sockaddr), ip_2_ip6(ipaddr), port); \
 129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else { \
 130:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP4ADDR_PORT_TO_SOCKADDR((struct sockaddr_in*)(void*)(sockaddr), ip_2_ip4(ipaddr), port); \
 131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } } while(0)
 132:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) sockaddr_to_ipaddr_port(sockaddr, ipaddr, &
 133:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, type) (((domain) == AF_INET) ? \
 134:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   (type) : (enum netconn_type)((type) | NETCONN_TYPE_IPV6))
 135:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #elif LWIP_IPV6 /* LWIP_IPV4 && LWIP_IPV6 */
 136:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  ((namelen) == sizeof(struct sockaddr_in6))
 137:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    ((name)->sa_family == AF_INET6)
 138:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) 1
 139:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) \
 140:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IP6ADDR_PORT_TO_SOCKADDR((struct sockaddr_in6*)(void*)(sockaddr), ip_2_ip6(ipaddr), port)
 141:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) \
 142:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SOCKADDR6_TO_IP6ADDR_PORT((const struct sockaddr_in6*)(const void*)(sockaddr), ipaddr, port
 143:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, netconn_type) (netconn_type)
 144:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /*-> LWIP_IPV4: LWIP_IPV4 && LWIP_IPV6 */
 145:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  ((namelen) == sizeof(struct sockaddr_in))
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 4


 146:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    ((name)->sa_family == AF_INET)
 147:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) 1
 148:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) \
 149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IP4ADDR_PORT_TO_SOCKADDR((struct sockaddr_in*)(void*)(sockaddr), ip_2_ip4(ipaddr), port)
 150:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) \
 151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SOCKADDR4_TO_IP4ADDR_PORT((const struct sockaddr_in*)(const void*)(sockaddr), ipaddr, port)
 152:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, netconn_type) (netconn_type)
 153:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
 154:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 155:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name)    (((name)->sa_family == AF_UNSPEC) || \
 156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                                     IS_SOCK_ADDR_TYPE_VALID(name))
 157:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH_OR_UNSPEC(name, sock) (((name)->sa_family == AF_UNSPEC) || \
 158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                                     SOCK_ADDR_TYPE_MATCH(name, sock))
 159:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_ALIGNED(name)      ((((mem_ptr_t)(name)) % 4) == 0)
 160:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 161:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 162:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN(sock, optlen, opttype) do { if ((optlen) < sizeof(opttype)) { don
 163:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, opttype) do { \
 164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN(sock, optlen, opttype); \
 165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((sock)->conn == NULL) { done_socket(sock); return EINVAL; } }while(0)
 166:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, opttype) do { \
 167:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN(sock, optlen, opttype); \
 168:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (((sock)->conn == NULL) || ((sock)->conn->pcb.tcp == NULL)) { done_socket(sock); return EINVAL
 169:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, opttype, netconntype) do { \
 170:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, opttype); \
 171:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type((sock)->conn)) != netconntype) { done_socket(sock); return ENO
 172:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 173:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 174:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_REF(name)     API_VAR_REF(name)
 175:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(name) API_VAR_DECLARE(struct lwip_setgetsockopt_data, n
 176:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_FREE(name)    API_VAR_FREE(MEMP_SOCKET_SETGETSOCKOPT_DATA, name
 177:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
 178:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(name, sock) do { \
 179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   name = (struct lwip_setgetsockopt_data *)memp_malloc(MEMP_SOCKET_SETGETSOCKOPT_DATA); \
 180:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (name == NULL) { \
 181:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOMEM); \
 182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock); \
 183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1; \
 184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } }while(0)
 185:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
 186:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(name, sock)
 187:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
 188:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 189:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_SNDRCVTIMEO_NONSTANDARD
 190:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_OPTTYPE int
 191:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_SET(optval, val) (*(int *)(optval) = (val))
 192:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_GET_MS(optval)   ((long)*(const int*)(optval))
 193:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 194:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_OPTTYPE struct timeval
 195:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_SET(optval, val)  do { \
 196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t loc = (val); \
 197:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ((struct timeval *)(optval))->tv_sec = (long)((loc) / 1000U); \
 198:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ((struct timeval *)(optval))->tv_usec = (long)(((loc) % 1000U) * 1000U); }while(0)
 199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_GET_MS(optval) ((((const struct timeval *)(optval))->tv_sec * 1000) + (
 200:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 201:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 202:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 5


 203:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** A struct sockaddr replacement that has the same alignment as sockaddr_in/
 204:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *  sockaddr_in6 if instantiated.
 205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 206:Middlewares/Third_Party/LwIP/src/api/sockets.c **** union sockaddr_aligned {
 207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct sockaddr sa;
 208:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
 209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct sockaddr_in6 sin6;
 210:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
 211:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
 212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct sockaddr_in sin;
 213:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 */
 214:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 215:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 216:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Define the number of IPv4 multicast memberships, default is one per socket */
 217:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifndef LWIP_SOCKET_MAX_MEMBERSHIPS
 218:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_MAX_MEMBERSHIPS NUM_SOCKETS
 219:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 220:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 221:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IGMP
 222:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* This is to keep track of IP_ADD_MEMBERSHIP calls to drop the membership when
 223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    a socket is closed */
 224:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_socket_multicast_pair {
 225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the socket */
 226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the interface address */
 228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip4_addr_t if_addr;
 229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the group address */
 230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip4_addr_t multi_addr;
 231:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 232:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 233:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_socket_multicast_pair socket_ipv4_multicast_memberships[LWIP_SOCKET_MAX_MEMBERSH
 234:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 235:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int  lwip_socket_register_membership(int s, const ip4_addr_t *if_addr, const ip4_addr_t *mul
 236:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_unregister_membership(int s, const ip4_addr_t *if_addr, const ip4_addr_t *m
 237:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_drop_registered_memberships(int s);
 238:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IGMP */
 239:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 240:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6_MLD
 241:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* This is to keep track of IP_JOIN_GROUP calls to drop the membership when
 242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    a socket is closed */
 243:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_socket_multicast_mld6_pair {
 244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the socket */
 245:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the interface index */
 247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t if_idx;
 248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the group address */
 249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip6_addr_t multi_addr;
 250:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 251:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 252:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_socket_multicast_mld6_pair socket_ipv6_multicast_memberships[LWIP_SOCKET_MAX_MEM
 253:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int  lwip_socket_register_mld6_membership(int s, unsigned int if_idx, const ip6_addr_t *mult
 255:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_unregister_mld6_membership(int s, unsigned int if_idx, const ip6_addr_t *mu
 256:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_drop_registered_mld6_memberships(int s);
 257:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6_MLD */
 258:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 259:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** The global array of available sockets */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 6


 260:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock sockets[NUM_SOCKETS];
 261:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 262:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 263:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 264:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* protect the select_cb_list using core lock */
 265:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_DECL_PROTECT(lev)
 266:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_PROTECT(lev)   LOCK_TCPIP_CORE()
 267:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_UNPROTECT(lev) UNLOCK_TCPIP_CORE()
 268:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
 269:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* protect the select_cb_list using SYS_LIGHTWEIGHT_PROT */
 270:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_DECL_PROTECT(lev)  SYS_ARCH_DECL_PROTECT(lev)
 271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_PROTECT(lev)       SYS_ARCH_PROTECT(lev)
 272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_UNPROTECT(lev)     SYS_ARCH_UNPROTECT(lev)
 273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** This counter is increased from lwip_select when the list is changed
 274:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     and checked in select_check_waiters to see if it has changed. */
 275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static volatile int select_cb_ctr;
 276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** The global list of tasks waiting for select */
 278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_select_cb *select_cb_list;
 279:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 280:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 281:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define sock_set_errno(sk, e) do { \
 282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   const int sockerr = (e); \
 283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(sockerr); \
 284:Middlewares/Third_Party/LwIP/src/api/sockets.c **** } while (0)
 285:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 286:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Forward declaration of some functions */
 287:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 288:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void event_callback(struct netconn *conn, enum netconn_evt evt, u16_t len);
 289:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DEFAULT_SOCKET_EVENTCB event_callback
 290:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void select_check_waiters(int s, int has_recvevent, int has_sendevent, int has_errevent);
 291:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 292:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DEFAULT_SOCKET_EVENTCB NULL
 293:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 294:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 295:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_getsockopt_callback(void *arg);
 296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_setsockopt_callback(void *arg);
 297:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 298:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int lwip_getsockopt_impl(int s, int level, int optname, void *optval, socklen_t *optlen);
 299:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int lwip_setsockopt_impl(int s, int level, int optname, const void *optval, socklen_t optlen
 300:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int free_socket_locked(struct lwip_sock *sock, int is_tcp, struct netconn **conn,
 301:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               union lwip_sock_lastdata *lastdata);
 302:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void free_socket_free_elements(int is_tcp, struct netconn *conn, union lwip_sock_lastdata *l
 303:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 304:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 305:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 306:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sockaddr_to_ipaddr_port(const struct sockaddr *sockaddr, ip_addr_t *ipaddr, u16_t *port)
 307:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((sockaddr->sa_family) == AF_INET6) {
 309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR6_TO_IP6ADDR_PORT((const struct sockaddr_in6 *)(const void *)(sockaddr), ipaddr, *port)
 310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ipaddr->type = IPADDR_TYPE_V6;
 311:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR4_TO_IP4ADDR_PORT((const struct sockaddr_in *)(const void *)(sockaddr), ipaddr, *port);
 313:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ipaddr->type = IPADDR_TYPE_V4;
 314:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 7


 317:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** LWIP_NETCONN_SEM_PER_THREAD==1: initialize thread-local semaphore */
 319:Middlewares/Third_Party/LwIP/src/api/sockets.c **** void
 320:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket_thread_init(void)
 321:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netconn_thread_init();
 323:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 324:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 325:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** LWIP_NETCONN_SEM_PER_THREAD==1: destroy thread-local semaphore */
 326:Middlewares/Third_Party/LwIP/src/api/sockets.c **** void
 327:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket_thread_cleanup(void)
 328:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netconn_thread_cleanup();
 330:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 331:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 332:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 333:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Thread-safe increment of sock->fd_used, with overflow check */
 334:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 335:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sock_inc_used(struct lwip_sock *sock)
 336:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int ret;
 338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 339:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock != NULL", sock != NULL);
 341:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->fd_free_pending) {
 344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* prevent new usage of this socket if free is pending */
 345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = 0;
 346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 347:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ++sock->fd_used;
 348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = 1;
 349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("sock->fd_used != 0", sock->fd_used != 0);
 350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 351:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
 353:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 354:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 355:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Like sock_inc_used(), but called under SYS_ARCH_PROTECT lock. */
 356:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 357:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sock_inc_used_locked(struct lwip_sock *sock)
 358:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock != NULL", sock != NULL);
 360:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->fd_free_pending) {
 362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("sock->fd_used != 0", sock->fd_used != 0);
 363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 365:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ++sock->fd_used;
 367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock->fd_used != 0", sock->fd_used != 0);
 368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 1;
 369:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 370:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 371:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* In full-duplex mode,sock->fd_used != 0 prevents a socket descriptor from being
 372:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * released (and possibly reused) when used from more than one thread
 373:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * (e.g. read-while-write or close-while-write, etc)
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 8


 374:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This function is called at the end of functions using (try)get_socket*().
 375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 376:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 377:Middlewares/Third_Party/LwIP/src/api/sockets.c **** done_socket(struct lwip_sock *sock)
 378:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 379:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int freed = 0;
 380:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int is_tcp = 0;
 381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn = NULL;
 382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union lwip_sock_lastdata lastdata;
 383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock != NULL", sock != NULL);
 385:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock->fd_used > 0", sock->fd_used > 0);
 388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (--sock->fd_used == 0) {
 389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->fd_free_pending) {
 390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* free the socket */
 391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->fd_used = 1;
 392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       is_tcp = sock->fd_free_pending & LWIP_SOCK_FD_FREE_TCP;
 393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       freed = free_socket_locked(sock, is_tcp, &conn, &lastdata);
 394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 396:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 397:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (freed) {
 399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 400:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 402:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 403:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
 404:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define sock_inc_used(sock)         1
 405:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define sock_inc_used_locked(sock)  1
 406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define done_socket(sock)
 407:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 408:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 409:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Translate a socket 'int' into a pointer (only fails if the index is invalid) */
 410:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 411:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket_unconn_nouse(int fd)
 412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
  28              		.loc 1 412 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s = fd - LWIP_SOCKET_OFFSET;
  33              		.loc 1 413 3 view .LVU1
 414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((s < 0) || (s >= NUM_SOCKETS)) {
  34              		.loc 1 414 3 view .LVU2
  35              		.loc 1 414 6 is_stmt 0 view .LVU3
  36 0000 0328     		cmp	r0, #3
  37 0002 03D8     		bhi	.L3
 415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("tryget_socket_unconn(%d): invalid\n", fd));
 416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 418:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return &sockets[s];
  38              		.loc 1 418 3 is_stmt 1 view .LVU4
  39              		.loc 1 418 10 is_stmt 0 view .LVU5
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 9


  40 0004 024B     		ldr	r3, .L4
  41 0006 03EB0010 		add	r0, r3, r0, lsl #4
  42              	.LVL1:
  43              		.loc 1 418 10 view .LVU6
  44 000a 7047     		bx	lr
  45              	.LVL2:
  46              	.L3:
 416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
  47              		.loc 1 416 12 view .LVU7
  48 000c 0020     		movs	r0, #0
  49              	.LVL3:
 419:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
  50              		.loc 1 419 1 view .LVU8
  51 000e 7047     		bx	lr
  52              	.L5:
  53              		.align	2
  54              	.L4:
  55 0010 00000000 		.word	sockets
  56              		.cfi_endproc
  57              	.LFE366:
  59              		.section	.text.tryget_socket_unconn,"ax",%progbits
  60              		.align	1
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  65              	tryget_socket_unconn:
  66              	.LVL4:
  67              	.LFB368:
 420:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 421:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_sock *
 422:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket_dbg_get_socket(int fd)
 423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 424:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return tryget_socket_unconn_nouse(fd);
 425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 426:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 427:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Translate a socket 'int' into a pointer (only fails if the index is invalid) */
 428:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 429:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket_unconn(int fd)
 430:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
  68              		.loc 1 430 1 is_stmt 1 view -0
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 0
  71              		@ frame_needed = 0, uses_anonymous_args = 0
  72              		.loc 1 430 1 is_stmt 0 view .LVU10
  73 0000 08B5     		push	{r3, lr}
  74              	.LCFI0:
  75              		.cfi_def_cfa_offset 8
  76              		.cfi_offset 3, -8
  77              		.cfi_offset 14, -4
 431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *ret = tryget_socket_unconn_nouse(fd);
  78              		.loc 1 431 3 is_stmt 1 view .LVU11
  79              		.loc 1 431 27 is_stmt 0 view .LVU12
  80 0002 FFF7FEFF 		bl	tryget_socket_unconn_nouse
  81              	.LVL5:
 432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (ret != NULL) {
  82              		.loc 1 432 3 is_stmt 1 view .LVU13
 433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock_inc_used(ret)) {
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 10


  83              		.loc 1 433 5 view .LVU14
 434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return NULL;
 435:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 437:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
  84              		.loc 1 437 3 view .LVU15
 438:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
  85              		.loc 1 438 1 is_stmt 0 view .LVU16
  86 0006 08BD     		pop	{r3, pc}
  87              		.cfi_endproc
  88              	.LFE368:
  90              		.section	.text.tryget_socket_unconn_locked,"ax",%progbits
  91              		.align	1
  92              		.syntax unified
  93              		.thumb
  94              		.thumb_func
  96              	tryget_socket_unconn_locked:
  97              	.LVL6:
  98              	.LFB369:
 439:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 440:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Like tryget_socket_unconn(), but called under SYS_ARCH_PROTECT lock. */
 441:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 442:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket_unconn_locked(int fd)
 443:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
  99              		.loc 1 443 1 is_stmt 1 view -0
 100              		.cfi_startproc
 101              		@ args = 0, pretend = 0, frame = 0
 102              		@ frame_needed = 0, uses_anonymous_args = 0
 103              		.loc 1 443 1 is_stmt 0 view .LVU18
 104 0000 08B5     		push	{r3, lr}
 105              	.LCFI1:
 106              		.cfi_def_cfa_offset 8
 107              		.cfi_offset 3, -8
 108              		.cfi_offset 14, -4
 444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *ret = tryget_socket_unconn_nouse(fd);
 109              		.loc 1 444 3 is_stmt 1 view .LVU19
 110              		.loc 1 444 27 is_stmt 0 view .LVU20
 111 0002 FFF7FEFF 		bl	tryget_socket_unconn_nouse
 112              	.LVL7:
 445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (ret != NULL) {
 113              		.loc 1 445 3 is_stmt 1 view .LVU21
 446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock_inc_used_locked(ret)) {
 114              		.loc 1 446 5 view .LVU22
 447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return NULL;
 448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
 115              		.loc 1 450 3 view .LVU23
 451:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 116              		.loc 1 451 1 is_stmt 0 view .LVU24
 117 0006 08BD     		pop	{r3, pc}
 118              		.cfi_endproc
 119              	.LFE369:
 121              		.section	.text.tryget_socket,"ax",%progbits
 122              		.align	1
 123              		.syntax unified
 124              		.thumb
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 11


 125              		.thumb_func
 127              	tryget_socket:
 128              	.LVL8:
 129              	.LFB370:
 452:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 453:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Same as get_socket but doesn't set errno
 455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param fd externally used socket index
 457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return struct lwip_sock for the socket or NULL if not found
 458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 459:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket(int fd)
 461:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 130              		.loc 1 461 1 is_stmt 1 view -0
 131              		.cfi_startproc
 132              		@ args = 0, pretend = 0, frame = 0
 133              		@ frame_needed = 0, uses_anonymous_args = 0
 134              		.loc 1 461 1 is_stmt 0 view .LVU26
 135 0000 08B5     		push	{r3, lr}
 136              	.LCFI2:
 137              		.cfi_def_cfa_offset 8
 138              		.cfi_offset 3, -8
 139              		.cfi_offset 14, -4
 462:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket_unconn(fd);
 140              		.loc 1 462 3 is_stmt 1 view .LVU27
 141              		.loc 1 462 28 is_stmt 0 view .LVU28
 142 0002 FFF7FEFF 		bl	tryget_socket_unconn
 143              	.LVL9:
 463:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock != NULL) {
 144              		.loc 1 463 3 is_stmt 1 view .LVU29
 145              		.loc 1 463 6 is_stmt 0 view .LVU30
 146 0006 0346     		mov	r3, r0
 147 0008 08B1     		cbz	r0, .L10
 464:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn) {
 148              		.loc 1 464 5 is_stmt 1 view .LVU31
 149              		.loc 1 464 13 is_stmt 0 view .LVU32
 150 000a 0268     		ldr	r2, [r0]
 151              		.loc 1 464 8 view .LVU33
 152 000c 0AB1     		cbz	r2, .L13
 153              	.L10:
 465:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return sock;
 466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return NULL;
 470:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 154              		.loc 1 470 1 view .LVU34
 155 000e 1846     		mov	r0, r3
 156              	.LVL10:
 157              		.loc 1 470 1 view .LVU35
 158 0010 08BD     		pop	{r3, pc}
 159              	.LVL11:
 160              	.L13:
 469:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 161              		.loc 1 469 10 view .LVU36
 162 0012 1346     		mov	r3, r2
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 12


 163 0014 FBE7     		b	.L10
 164              		.cfi_endproc
 165              	.LFE370:
 167              		.section	.text.get_socket,"ax",%progbits
 168              		.align	1
 169              		.syntax unified
 170              		.thumb
 171              		.thumb_func
 173              	get_socket:
 174              	.LVL12:
 175              	.LFB371:
 471:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 472:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Map a externally used socket index to the internal socket representation.
 474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param fd externally used socket index
 476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return struct lwip_sock for the socket or NULL if not found
 477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 478:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 479:Middlewares/Third_Party/LwIP/src/api/sockets.c **** get_socket(int fd)
 480:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 176              		.loc 1 480 1 is_stmt 1 view -0
 177              		.cfi_startproc
 178              		@ args = 0, pretend = 0, frame = 0
 179              		@ frame_needed = 0, uses_anonymous_args = 0
 180              		.loc 1 480 1 is_stmt 0 view .LVU38
 181 0000 08B5     		push	{r3, lr}
 182              	.LCFI3:
 183              		.cfi_def_cfa_offset 8
 184              		.cfi_offset 3, -8
 185              		.cfi_offset 14, -4
 481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(fd);
 186              		.loc 1 481 3 is_stmt 1 view .LVU39
 187              		.loc 1 481 28 is_stmt 0 view .LVU40
 188 0002 FFF7FEFF 		bl	tryget_socket
 189              	.LVL13:
 482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 190              		.loc 1 482 3 is_stmt 1 view .LVU41
 191              		.loc 1 482 6 is_stmt 0 view .LVU42
 192 0006 00B1     		cbz	r0, .L17
 193              	.L14:
 483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((fd < LWIP_SOCKET_OFFSET) || (fd >= (LWIP_SOCKET_OFFSET + NUM_SOCKETS))) {
 484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("get_socket(%d): invalid\n", fd));
 485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EBADF);
 487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return sock;
 490:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 194              		.loc 1 490 1 view .LVU43
 195 0008 08BD     		pop	{r3, pc}
 196              	.L17:
 483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((fd < LWIP_SOCKET_OFFSET) || (fd >= (LWIP_SOCKET_OFFSET + NUM_SOCKETS))) {
 197              		.loc 1 483 5 is_stmt 1 view .LVU44
 484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 198              		.loc 1 484 68 view .LVU45
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 13


 199              		.loc 1 486 5 view .LVU46
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 200              		.loc 1 486 5 view .LVU47
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 201              		.loc 1 486 5 discriminator 1 view .LVU48
 202 000a 024B     		ldr	r3, .L18
 203 000c 0922     		movs	r2, #9
 204 000e 1A60     		str	r2, [r3]
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 205              		.loc 1 486 5 discriminator 3 view .LVU49
 487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 206              		.loc 1 487 5 view .LVU50
 487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 207              		.loc 1 487 12 is_stmt 0 view .LVU51
 208 0010 FAE7     		b	.L14
 209              	.L19:
 210 0012 00BF     		.align	2
 211              	.L18:
 212 0014 00000000 		.word	errno
 213              		.cfi_endproc
 214              	.LFE371:
 216              		.section	.text.free_socket_locked,"ax",%progbits
 217              		.align	1
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 222              	free_socket_locked:
 223              	.LVL14:
 224              	.LFB373:
 491:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 492:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Allocate a new socket for a given netconn.
 494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param newconn the netconn for which to allocate a socket
 496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param accepted 1 if socket has been created by accept(),
 497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *                 0 if socket has been created by socket()
 498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return the index of the new socket; -1 on error
 499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 500:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 501:Middlewares/Third_Party/LwIP/src/api/sockets.c **** alloc_socket(struct netconn *newconn, int accepted)
 502:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(accepted);
 506:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* allocate a new socket identifier */
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; i < NUM_SOCKETS; ++i) {
 509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sockets[i].conn) {
 512:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sockets[i].fd_used) {
 514:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
 515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         continue;
 516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].fd_used    = 1;
 518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].fd_free_pending = 0;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 14


 519:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].conn       = newconn;
 521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          after having marked it as used. */
 523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].lastdata.pbuf = NULL;
 525:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("sockets[i].select_waiting == 0", sockets[i].select_waiting == 0);
 527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * (unless it has been created by accept()). */
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].sendevent  = (NETCONNTYPE_GROUP(newconn->type) == NETCONN_TCP ? (accepted != 0) : 
 531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 532:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return i + LWIP_SOCKET_OFFSET;
 534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
 538:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 539:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 540:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Free a socket (under lock)
 541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param sock the socket to free
 543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param is_tcp != 0 for TCP sockets, used to free lastdata
 544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param conn the socekt's netconn is stored here, must be freed externally
 545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param lastdata lastdata is stored here, must be freed externally
 546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 547:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 548:Middlewares/Third_Party/LwIP/src/api/sockets.c **** free_socket_locked(struct lwip_sock *sock, int is_tcp, struct netconn **conn,
 549:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                    union lwip_sock_lastdata *lastdata)
 550:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 225              		.loc 1 550 1 is_stmt 1 view -0
 226              		.cfi_startproc
 227              		@ args = 0, pretend = 0, frame = 0
 228              		@ frame_needed = 0, uses_anonymous_args = 0
 229              		@ link register save eliminated.
 551:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock->fd_used > 0", sock->fd_used > 0);
 553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->fd_used--;
 554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->fd_used > 0) {
 555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->fd_free_pending = LWIP_SOCK_FD_FREE_FREE | (is_tcp ? LWIP_SOCK_FD_FREE_TCP : 0);
 556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 558:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
 559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(is_tcp);
 230              		.loc 1 559 3 view .LVU53
 560:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 561:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *lastdata = sock->lastdata;
 231              		.loc 1 562 3 view .LVU54
 232              		.loc 1 562 13 is_stmt 0 view .LVU55
 233 0000 4168     		ldr	r1, [r0, #4]
 234              	.LVL15:
 235              		.loc 1 562 13 view .LVU56
 236 0002 1960     		str	r1, [r3]
 563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->lastdata.pbuf = NULL;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 15


 237              		.loc 1 563 3 is_stmt 1 view .LVU57
 238              		.loc 1 563 23 is_stmt 0 view .LVU58
 239 0004 0023     		movs	r3, #0
 240              	.LVL16:
 241              		.loc 1 563 23 view .LVU59
 242 0006 4360     		str	r3, [r0, #4]
 564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *conn = sock->conn;
 243              		.loc 1 564 3 is_stmt 1 view .LVU60
 244              		.loc 1 564 15 is_stmt 0 view .LVU61
 245 0008 0168     		ldr	r1, [r0]
 246              		.loc 1 564 9 view .LVU62
 247 000a 1160     		str	r1, [r2]
 565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->conn = NULL;
 248              		.loc 1 565 3 is_stmt 1 view .LVU63
 249              		.loc 1 565 14 is_stmt 0 view .LVU64
 250 000c 0360     		str	r3, [r0]
 566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 1;
 251              		.loc 1 566 3 is_stmt 1 view .LVU65
 567:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 252              		.loc 1 567 1 is_stmt 0 view .LVU66
 253 000e 0120     		movs	r0, #1
 254              	.LVL17:
 255              		.loc 1 567 1 view .LVU67
 256 0010 7047     		bx	lr
 257              		.cfi_endproc
 258              	.LFE373:
 260              		.section	.text.lwip_poll_should_wake,"ax",%progbits
 261              		.align	1
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 266              	lwip_poll_should_wake:
 267              	.LVL18:
 268              	.LFB402:
 568:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 569:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Free a socket's leftover members.
 570:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 571:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 572:Middlewares/Third_Party/LwIP/src/api/sockets.c **** free_socket_free_elements(int is_tcp, struct netconn *conn, union lwip_sock_lastdata *lastdata)
 573:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (lastdata->pbuf != NULL) {
 575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       pbuf_free(lastdata->pbuf);
 577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_delete(lastdata->netbuf);
 579:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (conn != NULL) {
 582:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* netconn_prepare_delete() has already been called, here we only free the conn */
 583:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
 584:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 586:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 587:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Free a socket. The socket's netconn must have been
 588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * delete before!
 589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param sock the socket to free
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 16


 591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param is_tcp != 0 for TCP sockets, used to free lastdata
 592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 593:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 594:Middlewares/Third_Party/LwIP/src/api/sockets.c **** free_socket(struct lwip_sock *sock, int is_tcp)
 595:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int freed;
 597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union lwip_sock_lastdata lastdata;
 599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 600:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Protect socket array */
 602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 603:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   freed = free_socket_locked(sock, is_tcp, &conn, &lastdata);
 605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 607:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (freed) {
 609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 610:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 611:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 612:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 613:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Below this, the well-known socket functions are implemented.
 614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Use google.com or opengroup.org to get a good description :-)
 615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Exceptions are documented!
 617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 618:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 619:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 620:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_accept(int s, struct sockaddr *addr, socklen_t *addrlen)
 621:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *newconn;
 624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
 625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port = 0;
 626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int newsock;
 627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int recvevent;
 629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 630:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d)...\n", s));
 632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 636:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 637:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* wait for a new connection */
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_accept(sock->conn, &newconn);
 639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EINVAL);
 645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 647:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 17


 648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("newconn != NULL", newconn != NULL);
 652:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newsock = alloc_socket(newconn, 1);
 654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newsock == -1) {
 655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(newconn);
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENFILE);
 657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("invalid socket index", (newsock >= LWIP_SOCKET_OFFSET) && (newsock < NUM_SOCKETS + L
 661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 662:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* See event_callback: If data comes in right away after an accept, even
 664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * though the server task might not have created a new socket yet.
 665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * In that case, newconn->socket is counted down (newconn->socket--),
 666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * so nsock->rcvevent is >= 1 here!
 667:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    */
 668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   recvevent = (s16_t)(-1 - newconn->socket);
 670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 672:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newconn->callback) {
 674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LOCK_TCPIP_CORE();
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     while (recvevent > 0) {
 676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recvevent--;
 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       newconn->callback(newconn, NETCONN_EVT_RCVPLUS, 0);
 678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     UNLOCK_TCPIP_CORE();
 680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Note that POSIX only requires us to check addr is non-NULL. addrlen must
 683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * not be NULL if addr is valid.
 684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    */
 685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((addr != NULL) && (addrlen != NULL)) {
 686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     union sockaddr_aligned tempaddr;
 687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* get the IP address and port of the remote host */
 688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_peer(newconn, &naddr, &port);
 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_delete(newconn);
 692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       free_socket(nsock, 1);
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 696:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 697:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IPADDR_PORT_TO_SOCKADDR(&tempaddr, &naddr, port);
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 700:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     MEMCPY(addr, &tempaddr, *addrlen);
 703:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d) returning new sock=%d addr=", s, newsock));
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 18


 705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", port));
 707:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d) returning new sock=%d", s, newsock));
 709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 710:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 711:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(nsock);
 714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return newsock;
 715:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 716:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 717:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 718:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_bind(int s, const struct sockaddr *name, socklen_t namelen)
 719:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t local_addr;
 722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t local_port;
 723:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 724:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 729:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!SOCK_ADDR_TYPE_MATCH(name, sock)) {
 731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_VAL));
 733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 736:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* check size, family and alignment of 'name' */
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_bind: invalid address", (IS_SOCK_ADDR_LEN_VALID(namelen) &&
 739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 740:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(namelen);
 742:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SOCKADDR_TO_IPADDR_PORT(name, &local_addr, local_port);
 744:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 745:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, local_addr);
 746:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", local_port));
 747:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 748:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 749:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
 750:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (IP_IS_V6_VAL(local_addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&local_addr))) {
 751:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     unmap_ipv4_mapped_ipv6(ip_2_ip4(&local_addr), ip_2_ip6(&local_addr));
 752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IP_SET_TYPE_VAL(local_addr, IPADDR_TYPE_V4);
 753:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 755:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_bind(sock->conn, &local_addr, local_port);
 757:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 19


 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 764:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) succeeded\n", s));
 766:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 767:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 769:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 770:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 771:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 772:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_close(int s)
 773:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int is_tcp = 0;
 776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 777:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 778:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_close(%d)\n", s));
 779:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 783:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->conn != NULL) {
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 787:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("sock->lastdata == NULL", sock->lastdata.pbuf == NULL);
 789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 790:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IGMP
 792:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* drop all possibly joined IGMP memberships */
 793:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_socket_drop_registered_memberships(s);
 794:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IGMP */
 795:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6_MLD
 796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* drop all possibly joined MLD6 memberships */
 797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_socket_drop_registered_mld6_memberships(s);
 798:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6_MLD */
 799:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_prepare_delete(sock->conn);
 801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 806:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   free_socket(sock, is_tcp);
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 810:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 811:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 812:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 813:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_connect(int s, const struct sockaddr *name, socklen_t namelen)
 814:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 816:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 817:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 20


 819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 820:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 822:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 823:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!SOCK_ADDR_TYPE_MATCH_OR_UNSPEC(name, sock)) {
 824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_VAL));
 826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 828:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 829:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(namelen);
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (name->sa_family == AF_UNSPEC) {
 832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_disconnect(sock->conn);
 834:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 835:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_t remote_addr;
 836:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t remote_port;
 837:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* check size, family and alignment of 'name' */
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ERROR("lwip_connect: invalid address", IS_SOCK_ADDR_LEN_VALID(namelen) &&
 840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 841:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 842:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(name, &remote_addr, remote_port);
 844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 845:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, remote_addr);
 846:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", remote_port));
 847:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 848:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
 850:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (IP_IS_V6_VAL(remote_addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&remote_addr))) {
 851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       unmap_ipv4_mapped_ipv6(ip_2_ip4(&remote_addr), ip_2_ip6(&remote_addr));
 852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP_SET_TYPE_VAL(remote_addr, IPADDR_TYPE_V4);
 853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 854:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 855:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_connect(sock->conn, &remote_addr, remote_port);
 857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 858:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 865:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) succeeded\n", s));
 867:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 870:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 871:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 872:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Set a socket into listen mode.
 874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * The socket may not have been used for another connection previously.
 875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 21


 876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param s the socket to set to listening mode
 877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param backlog (ATTENTION: needs TCP_LISTEN_BACKLOG=1)
 878:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return 0 on success, non-zero on failure
 879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 880:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 881:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_listen(int s, int backlog)
 882:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 885:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d, backlog=%d)\n", s, backlog));
 887:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 892:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* limit the "backlog" parameter to fit in an u8_t */
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   backlog = LWIP_MIN(LWIP_MAX(backlog, 0), 0xff);
 895:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_listen_with_backlog(sock->conn, (u8_t)backlog);
 897:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 902:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 908:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 912:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 913:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 914:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 915:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Helper function to loop over receiving pbufs from netconn
 916:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * until "len" bytes are received or we're otherwise done.
 917:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Keeps sock->lastdata for peeking or partly copying.
 918:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 919:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static ssize_t
 920:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp(struct lwip_sock *sock, void *mem, size_t len, int flags)
 921:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags = NETCONN_NOAUTORCVD;
 923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recvd = 0;
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recv_left = (len <= SSIZE_MAX) ? (ssize_t)len : SSIZE_MAX;
 925:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("no socket given", sock != NULL);
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (flags & MSG_DONTWAIT) {
 930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK;
 931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 932:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 22


 933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   do {
 934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct pbuf *p;
 935:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 936:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t copylen;
 937:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: top while sock->lastdata=%p\n", (void *)sock->lastd
 939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check if there is data left from the last recv operation. */
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->lastdata.pbuf) {
 941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = sock->lastdata.pbuf;
 942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 943:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* No data was left from the previous operation, so we try to get
 944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          some from the network. */
 945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = netconn_recv_tcp_pbuf_flags(sock->conn, &p, apiflags);
 946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: netconn_recv err=%d, pbuf=%p\n",
 947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   err, (void *)p));
 948:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (err != ERR_OK) {
 950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (recvd > 0) {
 951:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 952:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              netconn layer again next time netconn_recv is called) */
 953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           goto lwip_recv_tcp_done;
 954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* We should really do some error checking here. */
 956:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: p == NULL, error is \"%s\"!\n",
 957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                     lwip_strerr(err)));
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, err_to_errno(err));
 959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return 0;
 961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return -1;
 963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 964:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("p != NULL", p != NULL);
 966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 968:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: buflen=%"U16_F" recv_left=%d off=%d\n",
 970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                 p->tot_len, (int)recv_left, (int)recvd));
 971:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (recv_left > p->tot_len) {
 973:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = p->tot_len;
 974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = (u16_t)recv_left;
 976:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (recvd + copylen < recvd) {
 978:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* overflow */
 979:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = (u16_t)(SSIZE_MAX - recvd);
 980:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 981:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 982:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* copy the contents of the received buffer into
 983:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     the supplied memory pointer mem */
 984:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     pbuf_copy_partial(p, (u8_t *)mem + recvd, copylen, 0);
 985:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recvd += copylen;
 987:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* TCP combines multiple pbufs for one recv */
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("invalid copylen, len would underflow", recv_left >= copylen);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 23


 990:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 991:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 992:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Unless we peek the incoming message... */
 993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((flags & MSG_PEEK) == 0) {
 994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... check if there is data left in the pbuf */
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("invalid copylen", p->tot_len >= copylen);
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            We store the pbuf but hide/free the consumed data: */
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastdata.pbuf = pbuf_free_header(p, copylen);
1000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
1001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
1002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastdata.pbuf = NULL;
1003:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: deleting pbuf=%p\n", (void *)p));
1004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         pbuf_free(p);
1005:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1006:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* once we have some data to return, only add more if we don't need to wait */
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK | NETCONN_NOFIN;
1009:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
1010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } while ((recv_left > 0) && !(flags & MSG_PEEK));
1011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_done:
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((recvd > 0) && !(flags & MSG_PEEK)) {
1013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* ensure window update after copying all data */
1014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_tcp_recvd(sock->conn, (size_t)recvd);
1015:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1016:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
1017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return recvd;
1018:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1019:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1020:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1021:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Convert a netbuf's address data to struct sockaddr */
1022:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
1023:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sock_make_addr(struct netconn *conn, ip_addr_t *fromaddr, u16_t port,
1024:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                     struct sockaddr *from, socklen_t *fromlen)
1025:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int truncated = 0;
1027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
1028:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(conn);
1030:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromaddr != NULL", fromaddr != NULL);
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
1034:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1035:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1036:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Dual-stack: Map IPv4 addresses to IPv4 mapped IPv6 */
1037:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(conn)) && IP_IS_V4(fromaddr)) {
1038:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip4_2_ipv4_mapped_ipv6(ip_2_ip6(fromaddr), ip_2_ip4(fromaddr));
1039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IP_SET_TYPE(fromaddr, IPADDR_TYPE_V6);
1040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1041:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1042:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   IPADDR_PORT_TO_SOCKADDR(&saddr, fromaddr, port);
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
1045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
1046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (*fromlen > saddr.sa.sa_len) {
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 24


1047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *fromlen = saddr.sa.sa_len;
1048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(from, &saddr, *fromlen);
1050:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return truncated;
1051:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1052:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1053:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1054:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Helper function to get a tcp socket's remote address info */
1055:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
1056:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_from(struct lwip_sock *sock, struct sockaddr *from, socklen_t *fromlen, const char *d
1057:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock == NULL) {
1059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
1060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_fn);
1062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_s);
1063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_ret);
1064:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1065:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !SOCKETS_DEBUG
1066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (from && fromlen)
1067:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
1068:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1069:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* get remote addr/port from tcp_pcb */
1070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t port;
1071:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_t tmpaddr;
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_getaddr(sock->conn, &tmpaddr, &port, 0);
1073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
1074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, tmpaddr);
1075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", port, (int)dbg_ret));
1076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (from && fromlen) {
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return lwip_sock_make_addr(sock->conn, &tmpaddr, port, from, fromlen);
1078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1079:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
1081:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1082:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1083:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1084:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Helper function to receive a netbuf from a udp or raw netconn.
1085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Keeps sock->lastdata for peeking.
1086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1087:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static err_t
1088:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recvfrom_udp_raw(struct lwip_sock *sock, int flags, struct msghdr *msg, u16_t *datagram_len, i
1089:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf *buf;
1091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags;
1092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
1093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t buflen, copylen, copied;
1094:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1095:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1096:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_s);
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvfrom_udp_raw: invalid arguments", (msg->msg_iov != NULL) || (msg->msg_iovlen
1098:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (flags & MSG_DONTWAIT) {
1100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags = NETCONN_DONTBLOCK;
1101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags = 0;
1103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 25


1104:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: top sock->lastdata=%p\n", (void *)so
1106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Check if there is data left from the last recv operation. */
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buf = sock->lastdata.netbuf;
1108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (buf == NULL) {
1109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* No data was left from the previous operation, so we try to get
1110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         some from the network. */
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_recv_udp_raw_netbuf_flags(sock->conn, &buf, apiflags);
1112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
1113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                 err, (void *)buf));
1114:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
1116:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return err;
1117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("buf != NULL", buf != NULL);
1119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
1120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buflen = buf->p->tot_len;
1122:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
1123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   copied = 0;
1125:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy the pbuf payload into the iovs */
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; (i < msg->msg_iovlen) && (copied < buflen); i++) {
1127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_iov[i].iov_len > len_left) {
1129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
1130:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = (u16_t)msg->msg_iov[i].iov_len;
1132:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1133:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1134:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* copy the contents of the received buffer into
1135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         the supplied memory buffer */
1136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     pbuf_copy_partial(buf->p, (u8_t *)msg->msg_iov[i].iov_base, copylen, copied);
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     copied = (u16_t)(copied + copylen);
1138:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1139:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1140:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Check to see from where the data was.*/
1141:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !SOCKETS_DEBUG
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (msg->msg_name && msg->msg_namelen)
1143:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
1144:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw(%d):  addr=", dbg_s));
1146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, *netbuf_fromaddr(buf));
1147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", netbuf_fromport(buf), copied));
1148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name && msg->msg_namelen) {
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_sock_make_addr(sock->conn, netbuf_fromaddr(buf), netbuf_fromport(buf),
1150:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
1151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1152:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1153:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Initialize flag output */
1155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg->msg_flags = 0;
1156:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (msg->msg_control) {
1158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u8_t wrote_msg = 0;
1159:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
1160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check if packet info was recorded */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 26


1161:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (buf->flags & NETBUF_FLAG_DESTADDR) {
1162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (IP_IS_V4(&buf->toaddr)) {
1163:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
1164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (msg->msg_controllen >= CMSG_SPACE(sizeof(struct in_pktinfo))) {
1165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct cmsghdr *chdr = CMSG_FIRSTHDR(msg); /* This will always return a header!! */
1166:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct in_pktinfo *pkti = (struct in_pktinfo *)CMSG_DATA(chdr);
1167:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           chdr->cmsg_level = IPPROTO_IP;
1168:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           chdr->cmsg_type = IP_PKTINFO;
1169:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           chdr->cmsg_len = CMSG_LEN(sizeof(struct in_pktinfo));
1170:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           pkti->ipi_ifindex = buf->p->if_idx;
1171:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_from_ip4addr(&pkti->ipi_addr, ip_2_ip4(netbuf_destaddr(buf)));
1172:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           msg->msg_controllen = CMSG_SPACE(sizeof(struct in_pktinfo));
1173:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           wrote_msg = 1;
1174:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
1175:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           msg->msg_flags |= MSG_CTRUNC;
1176:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1177:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 */
1178:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1180:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETBUF_RECVINFO */
1181:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!wrote_msg) {
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       msg->msg_controllen = 0;
1184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1185:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1186:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1187:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* If we don't peek the incoming message: zero lastdata pointer and free the netbuf */
1188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((flags & MSG_PEEK) == 0) {
1189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = NULL;
1190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_delete(buf);
1191:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (datagram_len) {
1193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *datagram_len = buflen;
1194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ERR_OK;
1196:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1197:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1198:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recvfrom(int s, void *mem, size_t len, int flags,
1200:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               struct sockaddr *from, socklen_t *fromlen)
1201:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t ret;
1204:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom(%d, %p, %"SZT_F", 0x%x, ..)\n", s, mem, len, flags));
1206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1210:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
1213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
1214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return ret;
1216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else
1217:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 27


1218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t datagram_len = 0;
1220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct iovec vec;
1221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct msghdr msg;
1222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
1223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_base = mem;
1224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_len = len;
1225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_control = NULL;
1226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_controllen = 0;
1227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_flags = 0;
1228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iov = &vec;
1229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iovlen = 1;
1230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_name = from;
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_namelen = (fromlen ? *fromlen : 0);
1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
1234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
1235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, lwip_strerr(err)));
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
1237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1239:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = (ssize_t)LWIP_MIN(LWIP_MIN(len, datagram_len), SSIZE_MAX);
1241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *fromlen = msg.msg_namelen;
1243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1245:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
1247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
1249:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1250:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1251:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1252:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_read(int s, void *mem, size_t len)
1253:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
1255:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1256:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1257:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1258:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_readv(int s, const struct iovec *iov, int iovcnt)
1259:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1260:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
1261:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_name = NULL;
1263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
1264:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
1265:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      Blame the opengroup standard for this inconsistency. */
1266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iov = LWIP_CONST_CAST(struct iovec *, iov);
1267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
1268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
1269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
1270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvmsg(s, &msg, 0);
1272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1274:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 28


1275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv(int s, void *mem, size_t len, int flags)
1276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1277:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
1278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1279:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1280:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1281:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recvmsg(int s, struct msghdr *message, int flags)
1282:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1284:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1285:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t buflen;
1286:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1287:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg(%d, message=%p, flags=0x%x)\n", s, (void *)message, fla
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: invalid message pointer", message != NULL, return ERR_ARG;);
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
1290:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
1291:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((message->msg_iovlen <= 0) || (message->msg_iovlen > IOV_MAX)) {
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1295:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1297:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1298:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1299:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1300:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1301:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1302:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* check for valid vectors */
1303:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buflen = 0;
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; i < message->msg_iovlen; i++) {
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
1306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
1307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((ssize_t)(buflen + (ssize_t)message->msg_iov[i].iov_len) <= 0)) {
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(ERR_VAL));
1309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
1310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1311:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     buflen = (ssize_t)(buflen + (ssize_t)message->msg_iov[i].iov_len);
1313:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1314:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int recv_flags = flags;
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     message->msg_flags = 0;
1319:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* recv the data */
1320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     buflen = 0;
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < message->msg_iovlen; i++) {
1322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ssize_t recvd_local = lwip_recv_tcp(sock, message->msg_iov[i].iov_base, message->msg_iov[i].i
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
1325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* sum up received bytes */
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         buflen += recvd_local;
1327:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((recvd_local < 0) || (recvd_local < (int)message->msg_iov[i].iov_len) ||
1329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
1330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* returned prematurely (or peeking, which might actually be limitated to the first iov) */
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (buflen <= 0) {
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 29


1332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
1333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           buflen = recvd_local;
1334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1335:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
1336:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* pass MSG_DONTWAIT to lwip_recv_tcp() to prevent waiting for more data */
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recv_flags |= MSG_DONTWAIT;
1339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (buflen > 0) {
1341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* reset socket error since we have received something */
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
1343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* " If the socket is connected, the msg_name and msg_namelen members shall be ignored." */
1345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return buflen;
1347:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
1348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1351:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
1352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* else, UDP and RAW NETCONNs */
1354:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP || LWIP_RAW
1355:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t datagram_len = 0;
1357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
1358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, message, &datagram_len, s);
1359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
1360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
1361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, lwip_strerr(err)));
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
1363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (datagram_len > buflen) {
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
1368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1369:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, 0);
1371:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1372:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (int)datagram_len;
1373:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1374:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_UDP || LWIP_RAW */
1375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(ERR_ARG));
1376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1377:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
1378:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP || LWIP_RAW */
1379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1380:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1381:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1382:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_send(int s, const void *data, size_t size, int flags)
1383:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
1386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t write_flags;
1387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
1388:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 30


1389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_send(%d, data=%p, size=%"SZT_F", flags=0x%x)\n",
1390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               s, data, size, flags));
1391:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1396:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
1398:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
1399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_sendto(s, data, size, flags, NULL, 0);
1401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
1402:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1403:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1404:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1405:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
1406:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1407:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   write_flags = (u8_t)(NETCONN_COPY |
1409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
1410:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
1411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   written = 0;
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
1413:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_send(%d) err=%d written=%"SZT_F"\n", s, err, written));
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
1416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? (ssize_t)written : -1);
1419:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1420:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1421:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1422:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sendmsg(int s, const struct msghdr *msg, int flags)
1423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1424:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1426:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t write_flags;
1427:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
1428:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err = ERR_OK;
1430:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1435:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: invalid msghdr", msg != NULL,
1437:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: invalid msghdr iov", msg->msg_iov != NULL,
1439:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: maximum iovs exceeded", (msg->msg_iovlen > 0) && (msg->msg_iovlen <= IO
1441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: unsupported flags", (flags & ~(MSG_DONTWAIT | MSG_MORE)) == 0,
1443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
1444:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_control);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 31


1446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_controllen);
1447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_flags);
1448:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1450:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     write_flags = (u8_t)(NETCONN_COPY |
1452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
1453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
1454:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     written = 0;
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
1458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1459:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (err == ERR_OK ? (ssize_t)written : -1);
1461:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
1462:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1463:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1464:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1465:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
1466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* else, UDP and RAW NETCONNs */
1468:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP || LWIP_RAW
1469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct netbuf chain_buf;
1471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int i;
1472:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ssize_t size = 0;
1473:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_UNUSED_ARG(flags);
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ERROR("lwip_sendmsg: invalid msghdr name", (((msg->msg_name == NULL) && (msg->msg_namelen 
1476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
1477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1478:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* initialize chain buffer with destination */
1480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     memset(&chain_buf, 0, sizeof(struct netbuf));
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name) {
1482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SOCKADDR_TO_IPADDR_PORT((const struct sockaddr *)msg->msg_name, &chain_buf.addr, remote_port)
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
1485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1486:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
1487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < msg->msg_iovlen; i++) {
1488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size += msg->msg_iov[i].iov_len;
1489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((msg->msg_iov[i].iov_len > INT_MAX) || (size < (int)msg->msg_iov[i].iov_len)) {
1490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
1491:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         goto sendmsg_emsgsize;
1492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (size > 0xFFFF) {
1495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* overflow */
1496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto sendmsg_emsgsize;
1497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Allocate a new netbuf and copy the data into it. */
1499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (netbuf_alloc(&chain_buf, (u16_t)size) == NULL) {
1500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ERR_MEM;
1501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
1502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* flatten the IO vectors */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 32


1503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size_t offset = 0;
1504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = 0; i < msg->msg_iovlen; i++) {
1505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         MEMCPY(&((u8_t *)chain_buf.p->payload)[offset], msg->msg_iov[i].iov_base, msg->msg_iov[i].i
1506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         offset += msg->msg_iov[i].iov_len;
1507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1508:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       {
1510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This can be improved by using LWIP_CHKSUM_COPY() and aggregating the checksum for each I
1511:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t chksum = ~inet_chksum_pbuf(chain_buf.p);
1512:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         netbuf_set_chksum(&chain_buf, chksum);
1513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1514:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ERR_OK;
1516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1517:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
1518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* create a chained netbuf from the IO vectors. NOTE: we assemble a pbuf chain
1519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        manually to avoid having to allocate, chain, and delete a netbuf for each iov */
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < msg->msg_iovlen; i++) {
1521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (msg->msg_iov[i].iov_len > 0xFFFF) {
1523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
1524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         goto sendmsg_emsgsize;
1525:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = pbuf_alloc(PBUF_TRANSPORT, 0, PBUF_REF);
1527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p == NULL) {
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
1529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
1530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->payload = msg->msg_iov[i].iov_base;
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
1533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (chain_buf.p == NULL) {
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
1536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
1537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (chain_buf.p->tot_len + p->len > 0xffff) {
1539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
1540:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           pbuf_free(p);
1541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           goto sendmsg_emsgsize;
1542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         pbuf_cat(chain_buf.p, p);
1544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* save size of total chain */
1547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err == ERR_OK) {
1548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size = netbuf_len(&chain_buf);
1549:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1550:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
1551:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err == ERR_OK) {
1553:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
1555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (IP_IS_V6_VAL(chain_buf.addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&chain_buf.addr))) {
1556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         unmap_ipv4_mapped_ipv6(ip_2_ip4(&chain_buf.addr), ip_2_ip6(&chain_buf.addr));
1557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IP_SET_TYPE_VAL(chain_buf.addr, IPADDR_TYPE_V4);
1558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1559:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 33


1560:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* send the data */
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = netconn_send(sock->conn, &chain_buf);
1563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1564:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* deallocated the buffer */
1566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
1567:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
1569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (err == ERR_OK ? size : -1);
1571:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EMSGSIZE);
1573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
1574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1577:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_UDP || LWIP_RAW */
1578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(ERR_ARG));
1579:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
1581:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP || LWIP_RAW */
1582:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1583:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1584:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sendto(int s, const void *data, size_t size, int flags,
1586:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             const struct sockaddr *to, socklen_t tolen)
1587:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
1590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t short_size;
1591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t remote_port;
1592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf buf;
1593:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1598:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1600:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_send(s, data, size, flags);
1603:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
1604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_UNUSED_ARG(flags);
1605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1608:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
1609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1610:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (size > LWIP_MIN(0xFFFF, SSIZE_MAX)) {
1612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* cannot fit into one datagram (at least for us) */
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EMSGSIZE);
1614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 34


1617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   short_size = (u16_t)size;
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
1619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
1620:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               ((to != NULL) && (IS_SOCK_ADDR_TYPE_VALID(to) && IS_SOCK_ADDR_ALIGNED(to))))),
1621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(tolen);
1623:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* initialize a buffer */
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buf.p = buf.ptr = NULL;
1626:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buf.flags = 0;
1628:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (to) {
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
1631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     remote_port = 0;
1633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_set_any(NETCONNTYPE_ISIPV6(netconn_type(sock->conn)), &buf.addr);
1634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netbuf_fromport(&buf) = remote_port;
1636:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1637:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_sendto(%d, data=%p, short_size=%"U16_F", flags=0x%x to=",
1639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               s, data, short_size, flags));
1640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, buf.addr);
1641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", remote_port));
1642:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* make the buffer point to the data that should be sent */
1644:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
1645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Allocate a new netbuf and copy the data into it. */
1646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (netbuf_alloc(&buf, short_size) == NULL) {
1647:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = ERR_MEM;
1648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1649:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_RAW) {
1651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t chksum = LWIP_CHKSUM_COPY(buf.p->payload, data, short_size);
1652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_set_chksum(&buf, chksum);
1653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else
1654:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     {
1656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       MEMCPY(buf.p->payload, data, short_size);
1657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = ERR_OK;
1659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1660:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netbuf_ref(&buf, data, short_size);
1662:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
1663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err == ERR_OK) {
1664:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
1666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (IP_IS_V6_VAL(buf.addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&buf.addr))) {
1667:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       unmap_ipv4_mapped_ipv6(ip_2_ip4(&buf.addr), ip_2_ip6(&buf.addr));
1668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP_SET_TYPE_VAL(buf.addr, IPADDR_TYPE_V4);
1669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1670:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1671:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* send the data */
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_send(sock->conn, &buf);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 35


1674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1675:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* deallocated the buffer */
1677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netbuf_free(&buf);
1678:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
1680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? short_size : -1);
1682:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1683:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1684:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1685:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket(int domain, int type, int protocol)
1686:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
1688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1689:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(domain); /* @todo: check this */
1691:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* create a netconn */
1693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (type) {
1694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_RAW:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       conn = netconn_new_with_proto_and_callback(DOMAIN_TO_NETCONN_TYPE(domain, NETCONN_RAW),
1696:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
1697:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_RAW, %d) = ",
1698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1700:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_DGRAM:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       conn = netconn_new_with_callback(DOMAIN_TO_NETCONN_TYPE(domain,
1702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
1703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        DEFAULT_SOCKET_EVENTCB);
1704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_DGRAM, %d) = ",
1705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1706:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
1707:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (conn) {
1708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* netconn layer enables pktinfo by default, sockets default to off */
1709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         conn->flags &= ~NETCONN_FLAG_PKTINFO;
1710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1711:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETBUF_RECVINFO */
1712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_STREAM:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       conn = netconn_new_with_callback(DOMAIN_TO_NETCONN_TYPE(domain, NETCONN_TCP), DEFAULT_SOCKET_
1715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
1716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
1719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%d, %d/UNKNOWN, %d) = -1\n",
1720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   domain, type, protocol));
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EINVAL);
1722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1723:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1724:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!conn) {
1726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENOBUFS);
1728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1729:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 36


1731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   i = alloc_socket(conn, 0);
1732:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (i == -1) {
1734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENFILE);
1736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   conn->socket = i;
1739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(&sockets[i - LWIP_SOCKET_OFFSET]);
1740:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("%d\n", i));
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
1742:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
1743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1745:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1746:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_write(int s, const void *data, size_t size)
1747:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_send(s, data, size, 0);
1749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1750:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1751:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1752:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_writev(int s, const struct iovec *iov, int iovcnt)
1753:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1754:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
1755:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_name = NULL;
1757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
1758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
1759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      Blame the opengroup standard for this inconsistency. */
1760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iov = LWIP_CONST_CAST(struct iovec *, iov);
1761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
1762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
1763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
1764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
1766:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1767:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1768:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
1769:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Add select_cb to select_cb_list. */
1770:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1771:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_link_select_cb(struct lwip_select_cb *select_cb)
1772:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
1774:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Protect the select_cb_list */
1776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_PROTECT(lev);
1777:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1778:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Put this select_cb on top of list */
1779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   select_cb->next = select_cb_list;
1780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb_list != NULL) {
1781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list->prev = select_cb;
1782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1783:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   select_cb_list = select_cb;
1784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
1785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Increasing this counter tells select_check_waiters that the list has changed. */
1786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   select_cb_ctr++;
1787:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 37


1788:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Now we can safely unprotect */
1790:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_UNPROTECT(lev);
1791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1792:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1793:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Remove select_cb from select_cb_list. */
1794:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1795:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_unlink_select_cb(struct lwip_select_cb *select_cb)
1796:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
1798:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1799:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Take us off the list */
1800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_PROTECT(lev);
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb->next != NULL) {
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
1803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb_list == select_cb) {
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
1807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev != NULL", select_cb->prev != NULL);
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
1810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1811:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
1812:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Increasing this counter tells select_check_waiters that the list has changed. */
1813:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   select_cb_ctr++;
1814:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_UNPROTECT(lev);
1816:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1817:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
1818:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1819:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT
1820:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
1821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Go through the readset and writeset lists and see which socket of the sockets
1822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * set in the sets has events. On return, readset, writeset and exceptset have
1823:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * the sockets enabled that had events.
1824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
1825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param maxfdp1 the highest socket index in the sets
1826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param readset_in    set of sockets to check for read events
1827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param writeset_in   set of sockets to check for write events
1828:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param exceptset_in  set of sockets to check for error events
1829:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param readset_out   set of sockets that had read events
1830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param writeset_out  set of sockets that had write events
1831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param exceptset_out set os sockets that had error events
1832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return number of sockets that had events (read/write/exception) (>= 0)
1833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1834:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
1835:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_selscan(int maxfdp1, fd_set *readset_in, fd_set *writeset_in, fd_set *exceptset_in,
1836:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              fd_set *readset_out, fd_set *writeset_out, fd_set *exceptset_out)
1837:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i, nready = 0;
1839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
1840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1841:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1842:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lreadset);
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 38


1845:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
1846:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1847:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each socket in each list to count number of sockets which
1848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      currently match */
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
1850:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!(readset_in && FD_ISSET(i, readset_in)) &&
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
1854:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
1855:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* First get the socket's status (protected)... */
1857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock = tryget_socket_unconn_locked(i);
1859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
1860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       void *lastdata = sock->lastdata.pbuf;
1861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
1862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t sendevent = sock->sendevent;
1863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
1864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
1865:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... then examine it: */
1867:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* See if netconn of this socket is ready for read */
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (readset_in && FD_ISSET(i, readset_in) && ((lastdata != NULL) || (rcvevent > 0))) {
1869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
1870:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for reading\n", i));
1871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
1872:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* See if netconn of this socket is ready for write */
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (writeset_in && FD_ISSET(i, writeset_in) && (sendevent != 0)) {
1875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
1876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for writing\n", i));
1877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
1878:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* See if netconn of this socket had an error */
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (exceptset_in && FD_ISSET(i, exceptset_in) && (errevent != 0)) {
1881:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
1882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for exception\n", i));
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
1884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
1886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
1887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
1888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* no a valid open socket */
1889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy local sets to the ones provided as arguments */
1893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *readset_out = lreadset;
1894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *writeset_out = lwriteset;
1895:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *exceptset_out = lexceptset;
1896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("nready >= 0", nready >= 0);
1898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
1899:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1900:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1901:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 39


1902:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Mark all of the set sockets in one of the three fdsets passed to select as used.
1903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * All sockets are marked (and later unmarked), whether they are open or not.
1904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This is OK as lwip_selscan aborts select when non-open sockets are found.
1905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1906:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1907:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select_inc_sockets_used_set(int maxfdp, fd_set *fdset, fd_set *used_sockets)
1908:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (fdset) {
1911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int i;
1912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = LWIP_SOCKET_OFFSET; i < maxfdp; i++) {
1913:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* if this FD is in the set, lock it (unless already done) */
1914:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (FD_ISSET(i, fdset) && !FD_ISSET(i, used_sockets)) {
1915:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         struct lwip_sock *sock;
1916:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_PROTECT(lev);
1917:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock = tryget_socket_unconn_locked(i);
1918:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock != NULL) {
1919:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* leave the socket used until released by lwip_select_dec_sockets_used */
1920:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           FD_SET(i, used_sockets);
1921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
1923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1926:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Mark all sockets passed to select as used to prevent them from being freed
1929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * from other threads while select is running.
1930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Marked sockets are added to 'used_sockets' to mark them only once an be able
1931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * to unmark them correctly.
1932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1933:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1934:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select_inc_sockets_used(int maxfdp, fd_set *fdset1, fd_set *fdset2, fd_set *fdset3, fd_set *us
1935:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1936:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(used_sockets);
1937:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_inc_sockets_used_set(maxfdp, fdset1, used_sockets);
1938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_inc_sockets_used_set(maxfdp, fdset2, used_sockets);
1939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_inc_sockets_used_set(maxfdp, fdset3, used_sockets);
1940:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1941:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1942:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Let go all sockets that were marked as used when starting select */
1943:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1944:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select_dec_sockets_used(int maxfdp, fd_set *used_sockets)
1945:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = LWIP_SOCKET_OFFSET; i < maxfdp; i++) {
1948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
1949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (FD_ISSET(i, used_sockets)) {
1950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct lwip_sock *sock = tryget_socket_unconn_nouse(i);
1951:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("socket gone at the end of select", sock != NULL);
1952:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
1953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
1954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1956:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1957:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1958:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 40


1959:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define lwip_select_inc_sockets_used(maxfdp1, readset, writeset, exceptset, used_sockets)
1960:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define lwip_select_dec_sockets_used(maxfdp1, used_sockets)
1961:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1962:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1963:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1964:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select(int maxfdp1, fd_set *readset, fd_set *writeset, fd_set *exceptset,
1965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             struct timeval *timeout)
1966:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
1968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
1969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
1970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
1971:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int maxfdp2;
1973:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
1974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int waited = 0;
1975:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1976:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
1977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set used_sockets;
1978:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1979:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1980:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1981:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select(%d, %p, %p, %p, tvsec=%"S32_F" tvusec=%"S32_F")\n",
1982:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               maxfdp1, (void *)readset, (void *) writeset, (void *) exceptset,
1983:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               timeout ? (s32_t)timeout->tv_sec : (s32_t) - 1,
1984:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               timeout ? (s32_t)timeout->tv_usec : (s32_t) - 1));
1985:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((maxfdp1 < 0) || (maxfdp1 > LWIP_SELECT_MAXNFDS)) {
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EINVAL);
1988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1990:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1991:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_inc_sockets_used(maxfdp1, readset, writeset, exceptset, &used_sockets);
1992:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each socket in each list to count number of sockets which
1994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      currently match */
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexceptset);
1996:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (nready < 0) {
1998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one of the sockets in one of the fd_sets was invalid */
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EBADF);
2000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (nready > 0) {
2003:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one or more sockets are set, no need to wait */
2004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
2005:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2006:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* If we don't have any current events, then suspend if we are supposed to */
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (timeout && timeout->tv_sec == 0 && timeout->tv_usec == 0) {
2008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
2009:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This is OK as the local fdsets are empty and nready is zero,
2010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          or we would have returned earlier. */
2011:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
2012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* None ready: add our semaphore to list:
2013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          We don't actually need any dynamic memory. Our entry on the
2014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          list is only valid while we are in this function, so it's ok
2015:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          to use local variables (unless we're running in MPU compatible
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 41


2016:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          mode). */
2017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_DECLARE(select_cb);
2018:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_ALLOC(select_cb, set_errno(ENOMEM); lwip_select_dec_sockets_used(maxfdp1, &
2019:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
2020:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).readset = readset;
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).writeset = writeset;
2023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).exceptset = exceptset;
2024:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).sem = LWIP_NETCONN_THREAD_SEM_GET();
2026:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sys_sem_new(&API_SELECT_CB_VAR_REF(select_cb).sem, 0) != ERR_OK) {
2028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* failed to create semaphore */
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOMEM);
2030:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         API_SELECT_CB_VAR_FREE(select_cb);
2032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
2033:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2034:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2035:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2036:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_link_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2037:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2038:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Increase select_waiting for each socket we are interested in */
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       maxfdp2 = maxfdp1;
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
2044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
2045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
2047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting++;
2049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting == 0) {
2050:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* overflow - too many threads waiting */
2051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               nready = -1;
2053:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               maxfdp2 = i;
2054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               SYS_ARCH_UNPROTECT(lev);
2055:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               set_errno(EBUSY);
2057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
2058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
2059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Not a valid socket */
2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
2064:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             maxfdp2 = i;
2065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
2067:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
2068:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2069:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2071:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (nready >= 0) {
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 42


2073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
2074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            the last scan (without us on the list) and putting us on the list! */
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexcep
2076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!nready) {
2077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Still none ready, just wait to be woken */
2078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (timeout == 0) {
2079:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Wait forever */
2080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             msectimeout = 0;
2081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             long msecs_long = ((timeout->tv_sec * 1000) + ((timeout->tv_usec + 500) / 1000));
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
2084:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               msectimeout = 1;
2086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
2087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               msectimeout = (u32_t)msecs_long;
2088:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
2089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2090:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           waitres = sys_arch_sem_wait(SELECT_SEM_PTR(API_SELECT_CB_VAR_REF(select_cb).sem), msectim
2092:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           waited = 1;
2094:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2095:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2096:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2098:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Decrease select_waiting for each socket we are interested in */
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp2; i++) {
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
2103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
2104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
2106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
2107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* for now, handle select_waiting==0... */
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             LWIP_ASSERT("sock->select_waiting > 0", sock->select_waiting > 0);
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
2110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
2111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
2112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2114:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2116:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Not a valid socket */
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
2119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2122:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2123:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_unlink_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2124:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2125:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (API_SELECT_CB_VAR_REF(select_cb).sem_signalled && (!waited || (waitres == SYS_ARCH_TIMEOU
2127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* don't leave the thread-local semaphore signalled */
2128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sys_arch_sem_wait(API_SELECT_CB_VAR_REF(select_cb).sem, 1);
2129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 43


2130:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sys_sem_free(&API_SELECT_CB_VAR_REF(select_cb).sem);
2132:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2133:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_FREE(select_cb);
2134:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (nready < 0) {
2136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This happens when a socket got closed while waiting */
2137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2138:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
2139:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2140:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2141:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (waitres == SYS_ARCH_TIMEOUT) {
2142:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Timeout */
2143:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: timeout expired\n"));
2144:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This is OK as the local fdsets are empty and nready is zero,
2145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            or we would have returned earlier. */
2146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* See what's set now after waiting */
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexcep
2149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
2150:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2152:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2153:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
2156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
2157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *readset = lreadset;
2158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (writeset) {
2160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *writeset = lwriteset;
2161:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (exceptset) {
2163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *exceptset = lexceptset;
2164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
2166:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2167:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT */
2168:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2169:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_POLL
2170:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Options for the lwip_pollscan function. */
2171:Middlewares/Third_Party/LwIP/src/api/sockets.c **** enum lwip_pollscan_opts
2172:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2173:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** Clear revents in each struct pollfd. */
2174:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_POLLSCAN_CLEAR = 1,
2175:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2176:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** Increment select_waiting in each struct lwip_sock. */
2177:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_POLLSCAN_INC_WAIT = 2,
2178:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** Decrement select_waiting in each struct lwip_sock. */
2180:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_POLLSCAN_DEC_WAIT = 4
2181:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
2182:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2183:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Update revents in each struct pollfd.
2185:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Optionally update select_waiting in struct lwip_sock.
2186:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 44


2187:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param fds          array of structures to update
2188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param nfds         number of structures in fds
2189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param opts         what to update and how
2190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return number of structures that have revents != 0
2191:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2192:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2193:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_pollscan(struct pollfd *fds, nfds_t nfds, enum lwip_pollscan_opts opts)
2194:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready = 0;
2196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
2197:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
2198:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2200:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each struct pollfd in the array. */
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < nfds; fdi++) {
2202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       fds[fdi].revents = 0;
2204:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2205:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Negative fd means the caller wants us to ignore this struct.
2207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        POLLNVAL means we already detected that the fd is invalid;
2208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        if another thread has since opened a new socket with that fd,
2209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        we must not use that socket. */
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fds[fdi].fd >= 0 && (fds[fdi].revents & POLLNVAL) == 0) {
2211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
2212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_PROTECT(lev);
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock = tryget_socket_unconn_locked(fds[fdi].fd);
2214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
2215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         void* lastdata = sock->lastdata.pbuf;
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         s16_t rcvevent = sock->rcvevent;
2217:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t sendevent = sock->sendevent;
2218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t errevent = sock->errevent;
2219:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((opts & LWIP_POLLSCAN_INC_WAIT) != 0) {
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->select_waiting++;
2222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting == 0) {
2223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* overflow - too many threads waiting */
2224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
2226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
2229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else if ((opts & LWIP_POLLSCAN_DEC_WAIT) != 0) {
2231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* for now, handle select_waiting==0... */
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_ASSERT("sock->select_waiting > 0", sock->select_waiting > 0);
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
2234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
2235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
2238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
2239:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* ... then examine it: */
2241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* See if netconn of this socket is ready for read */
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((fds[fdi].events & POLLIN) != 0 && ((lastdata != NULL) || (rcvevent > 0))) {
2243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 45


2244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
2245:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* See if netconn of this socket is ready for write */
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((fds[fdi].events & POLLOUT) != 0 && (sendevent != 0)) {
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
2249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
2250:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2251:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* See if netconn of this socket had an error */
2252:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (errevent != 0) {
2253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* POLLERR is output only. */
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLERR;
2255:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
2256:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2257:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2258:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Not a valid socket */
2259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
2260:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* POLLNVAL is output only. */
2261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         fds[fdi].revents |= POLLNVAL;
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
2263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2264:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2265:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Will return the number of structures that have events,
2267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        not the number of events. */
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fds[fdi].revents != 0) {
2269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready++;
2270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("nready >= 0", nready >= 0);
2274:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
2275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
2278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Mark all sockets as used.
2279:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
2280:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * All sockets are marked (and later unmarked), whether they are open or not.
2281:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This is OK as lwip_pollscan aborts select when non-open sockets are found.
2282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2283:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2284:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_poll_inc_sockets_used(struct pollfd *fds, nfds_t nfds)
2285:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2286:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
2287:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if(fds) {
2289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Go through each struct pollfd in the array. */
2290:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (fdi = 0; fdi < nfds; fdi++) {
2291:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Increase the reference counter */
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       tryget_socket_unconn(fds[fdi].fd);
2293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2295:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2297:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Let go all sockets that were marked as used when starting poll */
2298:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2299:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_poll_dec_sockets_used(struct pollfd *fds, nfds_t nfds)
2300:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 46


2301:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
2302:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2303:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if(fds) {
2304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Go through each struct pollfd in the array. */
2305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (fdi = 0; fdi < nfds; fdi++) {
2306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct lwip_sock *sock = tryget_socket_unconn_nouse(fds[fdi].fd);
2307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
2308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
2309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2311:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2312:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2313:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
2314:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define lwip_poll_inc_sockets_used(fds, nfds)
2315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define lwip_poll_dec_sockets_used(fds, nfds)
2316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
2317:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2319:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_poll(struct pollfd *fds, nfds_t nfds, int timeout)
2320:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
2322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
2323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
2324:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int waited = 0;
2326:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2327:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll(%p, %d, %d)\n",
2329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   (void*)fds, (int)nfds, timeout));
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_poll: invalid fds", ((fds != NULL && nfds > 0) || (fds == NULL && nfds == 0)),
2331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
2332:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_poll_inc_sockets_used(fds, nfds);
2334:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2335:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each struct pollfd to count number of structures
2336:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      which currently match */
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nready = lwip_pollscan(fds, nfds, LWIP_POLLSCAN_CLEAR);
2338:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (nready < 0) {
2340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_poll_dec_sockets_used(fds, nfds);
2341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2343:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* If we don't have any current events, then suspend if we are supposed to */
2345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!nready) {
2346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_DECLARE(select_cb);
2347:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (timeout == 0) {
2349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
2350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto return_success;
2351:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_ALLOC(select_cb, set_errno(EAGAIN); lwip_poll_dec_sockets_used(fds, nfds); re
2353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
2354:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2355:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* None ready: add our semaphore to list:
2356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        We don't actually need any dynamic memory. Our entry on the
2357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        list is only valid while we are in this function, so it's ok
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 47


2358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        to use local variables. */
2359:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_fds = fds;
2361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_nfds = nfds;
2362:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).sem = LWIP_NETCONN_THREAD_SEM_GET();
2364:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sys_sem_new(&API_SELECT_CB_VAR_REF(select_cb).sem, 0) != ERR_OK) {
2366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAGAIN);
2368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
2369:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_FREE(select_cb);
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
2371:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2372:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2373:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2374:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_link_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2375:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Increase select_waiting for each socket we are interested in.
2377:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        Also, check for events again: there could have been events between
2378:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        the last scan (without us on the list) and putting us on the list! */
2379:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     nready = lwip_pollscan(fds, nfds, LWIP_POLLSCAN_INC_WAIT);
2380:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!nready) {
2382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Still none ready, just wait to be woken */
2383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (timeout < 0) {
2384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Wait forever */
2385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = 0;
2386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* timeout == 0 would have been handled earlier. */
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_ASSERT("timeout > 0", timeout > 0);
2389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
2390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       waitres = sys_arch_sem_wait(SELECT_SEM_PTR(API_SELECT_CB_VAR_REF(select_cb).sem), msectimeout
2392:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       waited = 1;
2394:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2396:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Decrease select_waiting for each socket we are interested in,
2398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        and check which events occurred while we waited. */
2399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     nready = lwip_pollscan(fds, nfds, LWIP_POLLSCAN_DEC_WAIT);
2400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2401:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_unlink_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2402:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2403:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2404:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (select_cb.sem_signalled && (!waited || (waitres == SYS_ARCH_TIMEOUT))) {
2405:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* don't leave the thread-local semaphore signalled */
2406:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sys_arch_sem_wait(API_SELECT_CB_VAR_REF(select_cb).sem, 1);
2407:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2408:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sys_sem_free(&API_SELECT_CB_VAR_REF(select_cb).sem);
2410:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_FREE(select_cb);
2412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (nready < 0) {
2414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This happens when a socket got closed while waiting */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 48


2415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
2416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
2417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2419:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (waitres == SYS_ARCH_TIMEOUT) {
2420:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Timeout */
2421:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: timeout expired\n"));
2422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto return_success;
2423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2424:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2426:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: nready=%d\n", nready));
2427:Middlewares/Third_Party/LwIP/src/api/sockets.c **** return_success:
2428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_poll_dec_sockets_used(fds, nfds);
2429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
2430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
2431:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2432:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2433:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Check whether event_callback should wake up a thread waiting in
2435:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * lwip_poll.
2436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2437:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2438:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_poll_should_wake(const struct lwip_select_cb *scb, int fd, int has_recvevent, int has_sendeven
2439:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 269              		.loc 1 2439 1 is_stmt 1 view -0
 270              		.cfi_startproc
 271              		@ args = 4, pretend = 0, frame = 0
 272              		@ frame_needed = 0, uses_anonymous_args = 0
 273              		.loc 1 2439 1 is_stmt 0 view .LVU69
 274 0000 30B5     		push	{r4, r5, lr}
 275              	.LCFI4:
 276              		.cfi_def_cfa_offset 12
 277              		.cfi_offset 4, -12
 278              		.cfi_offset 5, -8
 279              		.cfi_offset 14, -4
 280 0002 039D     		ldr	r5, [sp, #12]
2440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
 281              		.loc 1 2440 3 is_stmt 1 view .LVU70
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 282              		.loc 1 2441 3 view .LVU71
 283              	.LVL19:
 284              		.loc 1 2441 12 is_stmt 0 view .LVU72
 285 0004 4FF0000C 		mov	ip, #0
 286              		.loc 1 2441 3 view .LVU73
 287 0008 02E0     		b	.L22
 288              	.LVL20:
 289              	.L26:
 290              	.LBB2:
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (pollfd->fd == fd) {
2444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Do not update pollfd->revents right here;
2445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          that would be a data race because lwip_pollscan
2446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          accesses revents without protecting. */
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (has_recvevent && (pollfd->events & POLLIN) != 0) {
2448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
2449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 49


2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (has_sendevent && (pollfd->events & POLLOUT) != 0) {
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
2452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (has_errevent) {
 291              		.loc 1 2453 7 is_stmt 1 view .LVU74
 292              		.loc 1 2453 10 is_stmt 0 view .LVU75
 293 000a F5B9     		cbnz	r5, .L30
 294              	.L23:
 295              	.LBE2:
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 296              		.loc 1 2441 42 is_stmt 1 discriminator 2 view .LVU76
 297 000c 0CF1010C 		add	ip, ip, #1
 298              	.LVL21:
 299              	.L22:
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 300              		.loc 1 2441 21 discriminator 1 view .LVU77
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 301              		.loc 1 2441 26 is_stmt 0 discriminator 1 view .LVU78
 302 0010 8469     		ldr	r4, [r0, #24]
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 303              		.loc 1 2441 21 discriminator 1 view .LVU79
 304 0012 6445     		cmp	r4, ip
 305 0014 15D9     		bls	.L32
 306              	.LBB3:
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
 307              		.loc 1 2442 5 is_stmt 1 view .LVU80
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
 308              		.loc 1 2442 39 is_stmt 0 view .LVU81
 309 0016 4469     		ldr	r4, [r0, #20]
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
 310              		.loc 1 2442 26 view .LVU82
 311 0018 04EBCC0E 		add	lr, r4, ip, lsl #3
 312              	.LVL22:
2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Do not update pollfd->revents right here;
 313              		.loc 1 2443 5 is_stmt 1 view .LVU83
2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Do not update pollfd->revents right here;
 314              		.loc 1 2443 15 is_stmt 0 view .LVU84
 315 001c 54F83C40 		ldr	r4, [r4, ip, lsl #3]
2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Do not update pollfd->revents right here;
 316              		.loc 1 2443 8 view .LVU85
 317 0020 8C42     		cmp	r4, r1
 318 0022 F3D1     		bne	.L23
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 319              		.loc 1 2447 7 is_stmt 1 view .LVU86
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 320              		.loc 1 2447 10 is_stmt 0 view .LVU87
 321 0024 22B1     		cbz	r2, .L24
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 322              		.loc 1 2447 35 discriminator 1 view .LVU88
 323 0026 BEF90440 		ldrsh	r4, [lr, #4]
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 324              		.loc 1 2447 25 discriminator 1 view .LVU89
 325 002a 14F0010F 		tst	r4, #1
 326 002e 0AD1     		bne	.L28
 327              	.L24:
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 328              		.loc 1 2450 7 is_stmt 1 view .LVU90
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 50


2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 329              		.loc 1 2450 10 is_stmt 0 view .LVU91
 330 0030 002B     		cmp	r3, #0
 331 0032 EAD0     		beq	.L26
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 332              		.loc 1 2450 35 discriminator 1 view .LVU92
 333 0034 BEF90440 		ldrsh	r4, [lr, #4]
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 334              		.loc 1 2450 25 discriminator 1 view .LVU93
 335 0038 14F0020F 		tst	r4, #2
 336 003c E5D0     		beq	.L26
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 337              		.loc 1 2451 16 view .LVU94
 338 003e 0120     		movs	r0, #1
 339              	.LVL23:
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 340              		.loc 1 2451 16 view .LVU95
 341 0040 00E0     		b	.L21
 342              	.LVL24:
 343              	.L32:
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 344              		.loc 1 2451 16 view .LVU96
 345              	.LBE3:
2454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* POLLERR is output only. */
2455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
2456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2459:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 346              		.loc 1 2459 10 view .LVU97
 347 0042 0020     		movs	r0, #0
 348              	.LVL25:
 349              	.L21:
2460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 350              		.loc 1 2460 1 view .LVU98
 351 0044 30BD     		pop	{r4, r5, pc}
 352              	.LVL26:
 353              	.L28:
 354              	.LBB4:
2448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 355              		.loc 1 2448 16 view .LVU99
 356 0046 0120     		movs	r0, #1
 357              	.LVL27:
2448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 358              		.loc 1 2448 16 view .LVU100
 359 0048 FCE7     		b	.L21
 360              	.LVL28:
 361              	.L30:
2455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 362              		.loc 1 2455 16 view .LVU101
 363 004a 0120     		movs	r0, #1
 364              	.LVL29:
2455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 365              		.loc 1 2455 16 view .LVU102
 366 004c FAE7     		b	.L21
 367              	.LBE4:
 368              		.cfi_endproc
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 51


 369              	.LFE402:
 371              		.section	.rodata.lwip_sockopt_to_ipopt.str1.4,"aMS",%progbits,1
 372              		.align	2
 373              	.LC0:
 374 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/api/sockets.c\000"
 374      6C657761 
 374      7265732F 
 374      54686972 
 374      645F5061 
 375 002f 00       		.align	2
 376              	.LC1:
 377 0030 556E6B6E 		.ascii	"Unknown socket option\000"
 377      6F776E20 
 377      736F636B 
 377      6574206F 
 377      7074696F 
 378 0046 0000     		.align	2
 379              	.LC2:
 380 0048 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 380      7274696F 
 380      6E202225 
 380      73222066 
 380      61696C65 
 381              		.section	.text.lwip_sockopt_to_ipopt,"ax",%progbits
 382              		.align	1
 383              		.syntax unified
 384              		.thumb
 385              		.thumb_func
 387              	lwip_sockopt_to_ipopt:
 388              	.LVL30:
 389              	.LFB410:
2461:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_POLL */
2462:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2463:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
2464:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2465:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Callback registered in the netconn layer for each socket-netconn.
2466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Processes recvevent (data available) and wakes up tasks waiting for select.
2467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
2468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @note for LWIP_TCPIP_CORE_LOCKING any caller of this function
2469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * must have the core lock held when signaling the following events
2470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * as they might cause select_list_cb to be checked:
2471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *   NETCONN_EVT_RCVPLUS
2472:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *   NETCONN_EVT_SENDPLUS
2473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *   NETCONN_EVT_ERROR
2474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This requirement will be asserted in select_check_waiters()
2475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2476:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2477:Middlewares/Third_Party/LwIP/src/api/sockets.c **** event_callback(struct netconn *conn, enum netconn_evt evt, u16_t len)
2478:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s, check_waiters;
2480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
2481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2482:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(len);
2484:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Get socket */
2486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (conn) {
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 52


2487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     s = conn->socket;
2488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (s < 0) {
2489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Data comes in right away after an accept, even though
2490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * the server task might not have created a new socket yet.
2491:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * Just count down (or up) if that's the case and we
2492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * will use the data later. Note that only receive events
2493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * can happen before the new socket is set up. */
2494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_PROTECT(lev);
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (conn->socket < 0) {
2496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
2497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* conn->socket is -1 on initialization
2498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              lwip_accept adjusts sock->recvevent if conn->socket < -1 */
2499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           conn->socket--;
2500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
2502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return;
2503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s = conn->socket;
2505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
2506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2507:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock = get_socket(s);
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock) {
2510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
2511:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2512:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return;
2514:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2515:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   check_waiters = 1;
2517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
2518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Set event as required */
2519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (evt) {
2520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_RCVPLUS:
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->rcvevent++;
2522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 1) {
2523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
2524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2525:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_RCVMINUS:
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->rcvevent--;
2528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
2529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDPLUS:
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->sendevent) {
2532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
2533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->sendevent = 1;
2535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDMINUS:
2537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->sendevent = 0;
2538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
2539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2540:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_ERROR:
2541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->errevent = 1;
2542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 53


2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("unknown event", 0);
2545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2547:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->select_waiting && check_waiters) {
2549:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
2550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int has_recvevent, has_sendevent, has_errevent;
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_recvevent = sock->rcvevent > 0;
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_errevent = sock->errevent != 0;
2554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
2555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check any select calls waiting on this socket */
2556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_check_waiters(s, has_recvevent, has_sendevent, has_errevent);
2557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
2559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
2561:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2562:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2563:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Check if any select waiters are waiting on this socket and its events
2565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
2566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @note on synchronization of select_cb_list:
2567:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * LWIP_TCPIP_CORE_LOCKING: the select_cb_list must only be accessed while holding
2568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * the core lock. We do a single pass through the list and signal any waiters.
2569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Core lock should already be held when calling here!!!!
2570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2571:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * !LWIP_TCPIP_CORE_LOCKING: we use SYS_ARCH_PROTECT but unlock on each iteration
2572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * of the loop, thus creating a possibility where a thread could modify the
2573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * select_cb_list during our UNPROTECT/PROTECT. We use a generational counter to
2574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * detect this change and restart the list walk. The list is expected to be small
2575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2576:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void select_check_waiters(int s, int has_recvevent, int has_sendevent, int has_errevent)
2577:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb *scb;
2579:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int last_select_cb_ctr;
2581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2582:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2583:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2584:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT_CORE_LOCKED();
2585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2586:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
2588:Middlewares/Third_Party/LwIP/src/api/sockets.c **** again:
2589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* remember the state of select_cb_list to detect changes */
2590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   last_select_cb_ctr = select_cb_ctr;
2591:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (scb = select_cb_list; scb != NULL; scb = scb->next) {
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
2594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
2595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       int do_signal = 0;
2596:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_POLL
2597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (scb->poll_fds != NULL) {
2598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
2599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2600:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_POLL */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 54


2601:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT && LWIP_SOCKET_POLL
2602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       else
2603:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT && LWIP_SOCKET_POLL */
2604:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT
2605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       {
2606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Test this select call for our socket */
2607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (has_recvevent) {
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (scb->readset && FD_ISSET(s, scb->readset)) {
2609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
2610:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (has_sendevent) {
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
2614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
2615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (has_errevent) {
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
2619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
2620:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2623:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT */
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (do_signal) {
2625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
2626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* For !LWIP_TCPIP_CORE_LOCKING, we don't call SYS_ARCH_UNPROTECT() before signaling
2627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            the semaphore, as this might lead to the select thread taking itself off the list,
2628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            invalidating the semaphore. */
2629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sys_sem_signal(SELECT_SEM_PTR(scb->sem));
2630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2632:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
2633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2634:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
2635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* unlock interrupts with each step */
2636:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
2637:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* this makes sure interrupt protection time is short */
2638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
2639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (last_select_cb_ctr != select_cb_ctr) {
2640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* someone has changed select_cb_list, restart at the beginning */
2641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto again;
2642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* remember the state of select_cb_list to detect changes */
2644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     last_select_cb_ctr = select_cb_ctr;
2645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
2647:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2649:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
2650:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Close one end of a full-duplex connection.
2653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2654:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2655:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_shutdown(int s, int how)
2656:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 55


2658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
2659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t shut_rx = 0, shut_tx = 0;
2660:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_shutdown(%d, how=%d)\n", s, how));
2662:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
2664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
2665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2667:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->conn != NULL) {
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
2671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
2672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
2673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOTCONN);
2676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2679:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (how == SHUT_RD) {
2681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
2682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_WR) {
2683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
2684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_RDWR) {
2685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
2686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
2687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EINVAL);
2689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_shutdown(sock->conn, shut_rx, shut_tx);
2693:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
2695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? 0 : -1);
2697:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2698:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2699:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2700:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getaddrname(int s, struct sockaddr *name, socklen_t *namelen, u8_t local)
2701:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
2703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
2704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
2705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port;
2706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
2707:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
2709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
2710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2711:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2712:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* get the IP address and port */
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_getaddr(sock->conn, &naddr, &port, local);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 56


2715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
2717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2720:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2721:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
2722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Dual-stack: Map IPv4 addresses to IPv4 mapped IPv6 */
2723:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(sock->conn)) &&
2724:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP_IS_V4_VAL(naddr)) {
2725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip4_2_ipv4_mapped_ipv6(ip_2_ip6(&naddr), ip_2_ip4(&naddr));
2726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IP_SET_TYPE_VAL(naddr, IPADDR_TYPE_V6);
2727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2728:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
2729:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   IPADDR_PORT_TO_SOCKADDR(&saddr, &naddr, port);
2731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getaddrname(%d, addr=", s));
2733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
2734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", port));
2735:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*namelen > saddr.sa.sa_len) {
2737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
2738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(name, &saddr, *namelen);
2740:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
2742:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
2743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
2744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2745:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2746:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2747:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getpeername(int s, struct sockaddr *name, socklen_t *namelen)
2748:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2749:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
2750:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2751:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2752:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2753:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockname(int s, struct sockaddr *name, socklen_t *namelen)
2754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2755:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
2756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2757:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2758:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2759:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockopt(int s, int level, int optname, void *optval, socklen_t *optlen)
2760:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err;
2762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
2763:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t cberr;
2765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(data);
2766:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2767:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
2769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2770:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2771:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 57


2772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((NULL == optval) || (NULL == optlen)) {
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
2774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2777:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2778:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
2779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* core-locking can just call the -impl function */
2780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LOCK_TCPIP_CORE();
2781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
2782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
2783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
2785:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2786:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2787:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* MPU_COMPATIBLE copies the optval data, so check for max size here */
2788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*optlen > LWIP_SETGETSOCKOPT_MAXOPTLEN) {
2789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOBUFS);
2790:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2791:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2792:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2793:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2794:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2795:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(data, sock);
2796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).s = s;
2797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).level = level;
2798:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optname = optname;
2799:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen = *optlen;
2800:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_MPU_COMPATIBLE
2801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval.p = optval;
2802:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_MPU_COMPATIBLE */
2803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err = 0;
2804:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = LWIP_NETCONN_THREAD_SEM_GET();
2806:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
2807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = &sock->conn->op_completed;
2808:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   cberr = tcpip_callback(lwip_getsockopt_callback, &LWIP_SETGETSOCKOPT_DATA_VAR_REF(data));
2810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (cberr != ERR_OK) {
2811:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
2812:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(cberr));
2813:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2816:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_arch_sem_wait((sys_sem_t *)(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem), 0);
2817:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* write back optlen and optval */
2819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *optlen = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen;
2820:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(optval, LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval,
2822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen);
2823:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2824:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* maybe lwip_getsockopt_internal has changed err */
2826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err;
2827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
2828:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 58


2829:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err);
2831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
2833:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2834:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2835:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2836:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_getsockopt_callback: only used without CORE_LOCKING
2837:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * to get into the tcpip_thread
2838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2839:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2840:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockopt_callback(void *arg)
2841:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2842:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_setgetsockopt_data *data;
2843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("arg != NULL", arg != NULL);
2844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data = (struct lwip_setgetsockopt_data *)arg;
2845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2846:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data->err = lwip_getsockopt_impl(data->s, data->level, data->optname,
2847:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optval,
2849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
2850:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optval.p,
2851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    &data->optlen);
2853:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2854:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_sem_signal((sys_sem_t *)(data->completed_sem));
2855:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2856:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
2857:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2858:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2859:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sockopt_to_ipopt(int optname)
2860:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 390              		.loc 1 2860 1 is_stmt 1 view -0
 391              		.cfi_startproc
 392              		@ args = 0, pretend = 0, frame = 0
 393              		@ frame_needed = 0, uses_anonymous_args = 0
2861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Map SO_* values to our internal SOF_* values
2862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * We should not rely on #defines in socket.h
2863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * being in sync with ip.h.
2864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    */
2865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (optname) {
 394              		.loc 1 2865 3 view .LVU104
 395 0000 0828     		cmp	r0, #8
 396 0002 0DD0     		beq	.L36
 397 0004 2028     		cmp	r0, #32
 398 0006 0BD0     		beq	.L36
 399 0008 0428     		cmp	r0, #4
 400 000a 09D0     		beq	.L36
2860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Map SO_* values to our internal SOF_* values
 401              		.loc 1 2860 1 is_stmt 0 view .LVU105
 402 000c 08B5     		push	{r3, lr}
 403              	.LCFI5:
 404              		.cfi_def_cfa_offset 8
 405              		.cfi_offset 3, -8
 406              		.cfi_offset 14, -4
2866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SO_BROADCAST:
2867:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return SOF_BROADCAST;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 59


2868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SO_KEEPALIVE:
2869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return SOF_KEEPALIVE;
2870:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SO_REUSEADDR:
2871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return SOF_REUSEADDR;
2872:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   default:
2873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("Unknown socket option", 0);
 407              		.loc 1 2873 5 is_stmt 1 view .LVU106
 408              		.loc 1 2873 5 view .LVU107
 409              		.loc 1 2873 5 discriminator 1 view .LVU108
 410              		.loc 1 2873 5 discriminator 1 view .LVU109
 411 000e 054B     		ldr	r3, .L39
 412 0010 40F63932 		movw	r2, #2873
 413 0014 0449     		ldr	r1, .L39+4
 414 0016 0548     		ldr	r0, .L39+8
 415              	.LVL31:
 416              		.loc 1 2873 5 is_stmt 0 discriminator 1 view .LVU110
 417 0018 FFF7FEFF 		bl	printf
 418              	.LVL32:
 419              		.loc 1 2873 5 is_stmt 1 discriminator 3 view .LVU111
 420              		.loc 1 2873 5 discriminator 3 view .LVU112
2874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 421              		.loc 1 2874 5 view .LVU113
 422              		.loc 1 2874 12 is_stmt 0 view .LVU114
 423 001c 0020     		movs	r0, #0
2875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2876:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 424              		.loc 1 2876 1 view .LVU115
 425 001e 08BD     		pop	{r3, pc}
 426              	.LVL33:
 427              	.L36:
 428              	.LCFI6:
 429              		.cfi_def_cfa_offset 0
 430              		.cfi_restore 3
 431              		.cfi_restore 14
 432              		.loc 1 2876 1 view .LVU116
 433 0020 7047     		bx	lr
 434              	.L40:
 435 0022 00BF     		.align	2
 436              	.L39:
 437 0024 00000000 		.word	.LC0
 438 0028 30000000 		.word	.LC1
 439 002c 48000000 		.word	.LC2
 440              		.cfi_endproc
 441              	.LFE410:
 443              		.section	.rodata.alloc_socket.str1.4,"aMS",%progbits,1
 444              		.align	2
 445              	.LC3:
 446 0000 736F636B 		.ascii	"sockets[i].select_waiting == 0\000"
 446      6574735B 
 446      695D2E73 
 446      656C6563 
 446      745F7761 
 447              		.section	.text.alloc_socket,"ax",%progbits
 448              		.align	1
 449              		.syntax unified
 450              		.thumb
 451              		.thumb_func
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 60


 453              	alloc_socket:
 454              	.LVL34:
 455              	.LFB372:
 502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 456              		.loc 1 502 1 is_stmt 1 view -0
 457              		.cfi_startproc
 458              		@ args = 0, pretend = 0, frame = 0
 459              		@ frame_needed = 0, uses_anonymous_args = 0
 502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 460              		.loc 1 502 1 is_stmt 0 view .LVU118
 461 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 462              	.LCFI7:
 463              		.cfi_def_cfa_offset 24
 464              		.cfi_offset 3, -24
 465              		.cfi_offset 4, -20
 466              		.cfi_offset 5, -16
 467              		.cfi_offset 6, -12
 468              		.cfi_offset 7, -8
 469              		.cfi_offset 14, -4
 470 0002 0646     		mov	r6, r0
 471 0004 0D46     		mov	r5, r1
 503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 472              		.loc 1 503 3 is_stmt 1 view .LVU119
 504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(accepted);
 473              		.loc 1 504 3 view .LVU120
 505:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 474              		.loc 1 505 3 view .LVU121
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 475              		.loc 1 508 3 view .LVU122
 476              	.LVL35:
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 477              		.loc 1 508 10 is_stmt 0 view .LVU123
 478 0006 0024     		movs	r4, #0
 479              	.LVL36:
 480              	.L42:
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 481              		.loc 1 508 17 is_stmt 1 discriminator 1 view .LVU124
 482 0008 032C     		cmp	r4, #3
 483 000a 31DC     		bgt	.L50
 510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sockets[i].conn) {
 484              		.loc 1 510 5 view .LVU125
 485 000c FFF7FEFF 		bl	sys_arch_protect
 486              	.LVL37:
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 487              		.loc 1 511 5 view .LVU126
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 488              		.loc 1 511 20 is_stmt 0 view .LVU127
 489 0010 2301     		lsls	r3, r4, #4
 490 0012 194A     		ldr	r2, .L54
 491 0014 D358     		ldr	r3, [r2, r3]
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 492              		.loc 1 511 8 view .LVU128
 493 0016 1BB1     		cbz	r3, .L51
 535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 494              		.loc 1 535 5 is_stmt 1 view .LVU129
 495 0018 FFF7FEFF 		bl	sys_arch_unprotect
 496              	.LVL38:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 61


 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 497              		.loc 1 508 32 discriminator 2 view .LVU130
 498 001c 0134     		adds	r4, r4, #1
 499              	.LVL39:
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 500              		.loc 1 508 32 is_stmt 0 discriminator 2 view .LVU131
 501 001e F3E7     		b	.L42
 502              	.LVL40:
 503              	.L51:
 520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 504              		.loc 1 520 7 is_stmt 1 view .LVU132
 520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 505              		.loc 1 520 29 is_stmt 0 view .LVU133
 506 0020 2301     		lsls	r3, r4, #4
 507 0022 02EB0417 		add	r7, r2, r4, lsl #4
 508 0026 D650     		str	r6, [r2, r3]
 523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].lastdata.pbuf = NULL;
 509              		.loc 1 523 7 is_stmt 1 view .LVU134
 510 0028 FFF7FEFF 		bl	sys_arch_unprotect
 511              	.LVL41:
 524:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 512              		.loc 1 524 7 view .LVU135
 524:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 513              		.loc 1 524 32 is_stmt 0 view .LVU136
 514 002c 0023     		movs	r3, #0
 515 002e 7B60     		str	r3, [r7, #4]
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 516              		.loc 1 526 7 is_stmt 1 view .LVU137
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 517              		.loc 1 526 7 view .LVU138
 518 0030 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 519 0032 8BB9     		cbnz	r3, .L52
 520              	.L44:
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 521              		.loc 1 526 7 discriminator 3 view .LVU139
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 522              		.loc 1 526 7 discriminator 3 view .LVU140
 527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 523              		.loc 1 527 7 view .LVU141
 527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 524              		.loc 1 527 29 is_stmt 0 view .LVU142
 525 0034 104B     		ldr	r3, .L54
 526 0036 03EB0413 		add	r3, r3, r4, lsl #4
 527 003a 0022     		movs	r2, #0
 528 003c 1A81     		strh	r2, [r3, #8]	@ movhi
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 529              		.loc 1 530 7 is_stmt 1 view .LVU143
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 530              		.loc 1 530 32 is_stmt 0 view .LVU144
 531 003e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 532              		.loc 1 530 98 view .LVU145
 533 0040 03F0F003 		and	r3, r3, #240
 534 0044 102B     		cmp	r3, #16
 535 0046 0FD0     		beq	.L53
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 536              		.loc 1 530 98 discriminator 3 view .LVU146
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 62


 537 0048 0125     		movs	r5, #1
 538              	.LVL42:
 539              	.L45:
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 540              		.loc 1 530 29 discriminator 6 view .LVU147
 541 004a 0B4B     		ldr	r3, .L54
 542 004c 03EB0413 		add	r3, r3, r4, lsl #4
 543 0050 5D81     		strh	r5, [r3, #10]	@ movhi
 531:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 544              		.loc 1 531 7 is_stmt 1 view .LVU148
 531:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 545              		.loc 1 531 29 is_stmt 0 view .LVU149
 546 0052 0022     		movs	r2, #0
 547 0054 9A81     		strh	r2, [r3, #12]	@ movhi
 533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 548              		.loc 1 533 7 is_stmt 1 view .LVU150
 533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 549              		.loc 1 533 16 is_stmt 0 view .LVU151
 550 0056 0DE0     		b	.L41
 551              	.LVL43:
 552              	.L52:
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 553              		.loc 1 526 7 is_stmt 1 discriminator 1 view .LVU152
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 554              		.loc 1 526 7 discriminator 1 view .LVU153
 555 0058 084B     		ldr	r3, .L54+4
 556 005a 40F20E22 		movw	r2, #526
 557 005e 0849     		ldr	r1, .L54+8
 558 0060 0848     		ldr	r0, .L54+12
 559 0062 FFF7FEFF 		bl	printf
 560              	.LVL44:
 561 0066 E5E7     		b	.L44
 562              	.L53:
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 563              		.loc 1 530 98 is_stmt 0 discriminator 2 view .LVU154
 564 0068 002D     		cmp	r5, #0
 565 006a EED0     		beq	.L45
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 566              		.loc 1 530 98 discriminator 3 view .LVU155
 567 006c 0125     		movs	r5, #1
 568              	.LVL45:
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 569              		.loc 1 530 98 discriminator 3 view .LVU156
 570 006e ECE7     		b	.L45
 571              	.LVL46:
 572              	.L50:
 537:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 573              		.loc 1 537 10 view .LVU157
 574 0070 4FF0FF34 		mov	r4, #-1
 575              	.LVL47:
 576              	.L41:
 538:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 577              		.loc 1 538 1 view .LVU158
 578 0074 2046     		mov	r0, r4
 579 0076 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 580              	.LVL48:
 581              	.L55:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 63


 538:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 582              		.loc 1 538 1 view .LVU159
 583              		.align	2
 584              	.L54:
 585 0078 00000000 		.word	sockets
 586 007c 00000000 		.word	.LC0
 587 0080 00000000 		.word	.LC3
 588 0084 48000000 		.word	.LC2
 589              		.cfi_endproc
 590              	.LFE372:
 592              		.section	.rodata.lwip_selscan.str1.4,"aMS",%progbits,1
 593              		.align	2
 594              	.LC4:
 595 0000 6E726561 		.ascii	"nready >= 0\000"
 595      6479203E 
 595      3D203000 
 596              		.section	.text.lwip_selscan,"ax",%progbits
 597              		.align	1
 598              		.syntax unified
 599              		.thumb
 600              		.thumb_func
 602              	lwip_selscan:
 603              	.LVL49:
 604              	.LFB398:
1837:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i, nready = 0;
 605              		.loc 1 1837 1 is_stmt 1 view -0
 606              		.cfi_startproc
 607              		@ args = 12, pretend = 0, frame = 40
 608              		@ frame_needed = 0, uses_anonymous_args = 0
1837:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i, nready = 0;
 609              		.loc 1 1837 1 is_stmt 0 view .LVU161
 610 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 611              	.LCFI8:
 612              		.cfi_def_cfa_offset 36
 613              		.cfi_offset 4, -36
 614              		.cfi_offset 5, -32
 615              		.cfi_offset 6, -28
 616              		.cfi_offset 7, -24
 617              		.cfi_offset 8, -20
 618              		.cfi_offset 9, -16
 619              		.cfi_offset 10, -12
 620              		.cfi_offset 11, -8
 621              		.cfi_offset 14, -4
 622 0004 8BB0     		sub	sp, sp, #44
 623              	.LCFI9:
 624              		.cfi_def_cfa_offset 80
 625 0006 8146     		mov	r9, r0
 626 0008 0D46     		mov	r5, r1
 627 000a 1746     		mov	r7, r2
 628 000c 9846     		mov	r8, r3
1838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 629              		.loc 1 1838 3 is_stmt 1 view .LVU162
 630              	.LVL50:
1839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 631              		.loc 1 1839 3 view .LVU163
1840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 632              		.loc 1 1840 3 view .LVU164
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 64


1841:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 633              		.loc 1 1841 3 view .LVU165
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 634              		.loc 1 1843 3 view .LVU166
 635              	.LBB5:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 636              		.loc 1 1843 3 view .LVU167
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 637              		.loc 1 1843 3 view .LVU168
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 638              		.loc 1 1843 3 view .LVU169
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 639              		.loc 1 1843 3 view .LVU170
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 640              		.loc 1 1843 3 view .LVU171
 641 000e 0223     		movs	r3, #2
 642              	.LVL51:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 643              		.loc 1 1843 3 is_stmt 0 view .LVU172
 644 0010 06E0     		b	.L57
 645              	.LVL52:
 646              	.L58:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 647              		.loc 1 1843 3 is_stmt 1 discriminator 3 view .LVU173
 648 0012 013B     		subs	r3, r3, #1
 649              	.LVL53:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 650              		.loc 1 1843 3 is_stmt 0 discriminator 3 view .LVU174
 651 0014 0AAA     		add	r2, sp, #40
 652 0016 02EB8302 		add	r2, r2, r3, lsl #2
 653 001a 0021     		movs	r1, #0
 654 001c 42F8081C 		str	r1, [r2, #-8]
 655              	.LVL54:
 656              	.L57:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 657              		.loc 1 1843 3 is_stmt 1 discriminator 1 view .LVU175
 658 0020 002B     		cmp	r3, #0
 659 0022 F6D1     		bne	.L58
 660              	.LBE5:
 661              	.LBB6:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 662              		.loc 1 1844 3 is_stmt 0 view .LVU176
 663 0024 0223     		movs	r3, #2
 664              	.LVL55:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 665              		.loc 1 1844 3 view .LVU177
 666 0026 06E0     		b	.L59
 667              	.LVL56:
 668              	.L60:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 669              		.loc 1 1844 3 is_stmt 1 discriminator 3 view .LVU178
 670 0028 013B     		subs	r3, r3, #1
 671              	.LVL57:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 672              		.loc 1 1844 3 is_stmt 0 discriminator 3 view .LVU179
 673 002a 0AAA     		add	r2, sp, #40
 674 002c 02EB8302 		add	r2, r2, r3, lsl #2
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 65


 675 0030 0021     		movs	r1, #0
 676 0032 42F8101C 		str	r1, [r2, #-16]
 677              	.LVL58:
 678              	.L59:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 679              		.loc 1 1844 3 is_stmt 1 discriminator 1 view .LVU180
 680 0036 002B     		cmp	r3, #0
 681 0038 F6D1     		bne	.L60
 682              	.LBE6:
 683              	.LBB7:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 684              		.loc 1 1845 3 is_stmt 0 view .LVU181
 685 003a 0223     		movs	r3, #2
 686              	.LVL59:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 687              		.loc 1 1845 3 view .LVU182
 688 003c 06E0     		b	.L61
 689              	.LVL60:
 690              	.L62:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 691              		.loc 1 1845 3 is_stmt 1 discriminator 3 view .LVU183
 692 003e 013B     		subs	r3, r3, #1
 693              	.LVL61:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 694              		.loc 1 1845 3 is_stmt 0 discriminator 3 view .LVU184
 695 0040 0AAA     		add	r2, sp, #40
 696 0042 02EB8302 		add	r2, r2, r3, lsl #2
 697 0046 0021     		movs	r1, #0
 698 0048 42F8181C 		str	r1, [r2, #-24]
 699              	.LVL62:
 700              	.L61:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 701              		.loc 1 1845 3 is_stmt 1 discriminator 1 view .LVU185
 702 004c 002B     		cmp	r3, #0
 703 004e F6D1     		bne	.L62
 704              	.LBE7:
1838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 705              		.loc 1 1838 10 is_stmt 0 view .LVU186
 706 0050 4FF0000A 		mov	r10, #0
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 707              		.loc 1 1849 10 view .LVU187
 708 0054 5446     		mov	r4, r10
 709 0056 1BE0     		b	.L63
 710              	.LVL63:
 711              	.L81:
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 712              		.loc 1 1851 25 discriminator 2 view .LVU188
 713 0058 04F11F03 		add	r3, r4, #31
 714              	.LVL64:
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 715              		.loc 1 1851 25 discriminator 2 view .LVU189
 716 005c 1FE0     		b	.L65
 717              	.LVL65:
 718              	.L82:
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 719              		.loc 1 1852 26 view .LVU190
 720 005e 04F11F03 		add	r3, r4, #31
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 66


 721              	.LVL66:
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 722              		.loc 1 1852 26 view .LVU191
 723 0062 29E0     		b	.L68
 724              	.LVL67:
 725              	.L83:
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
 726              		.loc 1 1853 27 view .LVU192
 727 0064 04F11F03 		add	r3, r4, #31
 728              	.LVL68:
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
 729              		.loc 1 1853 27 view .LVU193
 730 0068 35E0     		b	.L70
 731              	.LVL69:
 732              	.L84:
 733              	.LBB8:
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 734              		.loc 1 1868 25 discriminator 1 view .LVU194
 735 006a 04F11F03 		add	r3, r4, #31
 736              	.LVL70:
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 737              		.loc 1 1868 25 discriminator 1 view .LVU195
 738 006e 51E0     		b	.L73
 739              	.LVL71:
 740              	.L85:
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 741              		.loc 1 1874 26 discriminator 1 view .LVU196
 742 0070 04F11F03 		add	r3, r4, #31
 743              	.LVL72:
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 744              		.loc 1 1874 26 discriminator 1 view .LVU197
 745 0074 6DE0     		b	.L75
 746              	.LVL73:
 747              	.L86:
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 748              		.loc 1 1880 27 discriminator 1 view .LVU198
 749 0076 04F11F03 		add	r3, r4, #31
 750              	.LVL74:
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 751              		.loc 1 1880 27 discriminator 1 view .LVU199
 752 007a 88E0     		b	.L76
 753              	.LVL75:
 754              	.L71:
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 755              		.loc 1 1880 27 discriminator 1 view .LVU200
 756              	.LBE8:
1887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* no a valid open socket */
 757              		.loc 1 1887 7 is_stmt 1 view .LVU201
 758 007c 0198     		ldr	r0, [sp, #4]
 759              	.LVL76:
1887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* no a valid open socket */
 760              		.loc 1 1887 7 is_stmt 0 view .LVU202
 761 007e FFF7FEFF 		bl	sys_arch_unprotect
 762              	.LVL77:
1889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 763              		.loc 1 1889 7 is_stmt 1 view .LVU203
1889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 67


 764              		.loc 1 1889 14 is_stmt 0 view .LVU204
 765 0082 4FF0FF3A 		mov	r10, #-1
 766              	.LVL78:
 767              	.L56:
1899:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 768              		.loc 1 1899 1 view .LVU205
 769 0086 5046     		mov	r0, r10
 770 0088 0BB0     		add	sp, sp, #44
 771              	.LCFI10:
 772              		.cfi_remember_state
 773              		.cfi_def_cfa_offset 36
 774              		@ sp needed
 775 008a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 776              	.LVL79:
 777              	.L69:
 778              	.LCFI11:
 779              		.cfi_restore_state
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 780              		.loc 1 1849 46 is_stmt 1 discriminator 2 view .LVU206
 781 008e 0134     		adds	r4, r4, #1
 782              	.LVL80:
 783              	.L63:
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 784              		.loc 1 1849 34 discriminator 1 view .LVU207
 785 0090 4C45     		cmp	r4, r9
 786 0092 80F29680 		bge	.L80
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 787              		.loc 1 1851 5 view .LVU208
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 788              		.loc 1 1851 8 is_stmt 0 view .LVU209
 789 0096 5DB1     		cbz	r5, .L64
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 790              		.loc 1 1851 25 discriminator 2 view .LVU210
 791 0098 2346     		mov	r3, r4
 792 009a 002C     		cmp	r4, #0
 793 009c DCDB     		blt	.L81
 794              	.L65:
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 795              		.loc 1 1851 25 discriminator 2 view .LVU211
 796 009e 5B11     		asrs	r3, r3, #5
 797 00a0 55F82330 		ldr	r3, [r5, r3, lsl #2]
 798 00a4 04F01F02 		and	r2, r4, #31
 799 00a8 D340     		lsrs	r3, r3, r2
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 800              		.loc 1 1851 9 discriminator 2 view .LVU212
 801 00aa 13F0010F 		tst	r3, #1
 802 00ae 1BD1     		bne	.L66
 803              	.L64:
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 804              		.loc 1 1851 50 discriminator 3 view .LVU213
 805 00b0 5FB1     		cbz	r7, .L67
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 806              		.loc 1 1852 26 view .LVU214
 807 00b2 2346     		mov	r3, r4
 808 00b4 002C     		cmp	r4, #0
 809 00b6 D2DB     		blt	.L82
 810              	.L68:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 68


 811 00b8 5B11     		asrs	r3, r3, #5
 812 00ba 57F82330 		ldr	r3, [r7, r3, lsl #2]
 813 00be 04F01F02 		and	r2, r4, #31
 814 00c2 D340     		lsrs	r3, r3, r2
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 815              		.loc 1 1852 9 view .LVU215
 816 00c4 13F0010F 		tst	r3, #1
 817 00c8 0ED1     		bne	.L66
 818              	.L67:
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 819              		.loc 1 1852 52 discriminator 1 view .LVU216
 820 00ca B8F1000F 		cmp	r8, #0
 821 00ce DED0     		beq	.L69
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
 822              		.loc 1 1853 27 view .LVU217
 823 00d0 2346     		mov	r3, r4
 824 00d2 002C     		cmp	r4, #0
 825 00d4 C6DB     		blt	.L83
 826              	.L70:
 827 00d6 5B11     		asrs	r3, r3, #5
 828 00d8 58F82330 		ldr	r3, [r8, r3, lsl #2]
 829 00dc 04F01F02 		and	r2, r4, #31
 830 00e0 D340     		lsrs	r3, r3, r2
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
 831              		.loc 1 1853 9 view .LVU218
 832 00e2 13F0010F 		tst	r3, #1
 833 00e6 D2D0     		beq	.L69
 834              	.L66:
1857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock = tryget_socket_unconn_locked(i);
 835              		.loc 1 1857 5 is_stmt 1 view .LVU219
 836 00e8 FFF7FEFF 		bl	sys_arch_protect
 837              	.LVL81:
 838 00ec 0190     		str	r0, [sp, #4]
 839              	.LVL82:
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
 840              		.loc 1 1858 5 view .LVU220
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
 841              		.loc 1 1858 12 is_stmt 0 view .LVU221
 842 00ee 2046     		mov	r0, r4
 843              	.LVL83:
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
 844              		.loc 1 1858 12 view .LVU222
 845 00f0 FFF7FEFF 		bl	tryget_socket_unconn_locked
 846              	.LVL84:
1859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       void *lastdata = sock->lastdata.pbuf;
 847              		.loc 1 1859 5 is_stmt 1 view .LVU223
1859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       void *lastdata = sock->lastdata.pbuf;
 848              		.loc 1 1859 8 is_stmt 0 view .LVU224
 849 00f4 0028     		cmp	r0, #0
 850 00f6 C1D0     		beq	.L71
 851              	.LBB9:
1860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
 852              		.loc 1 1860 7 is_stmt 1 view .LVU225
1860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
 853              		.loc 1 1860 13 is_stmt 0 view .LVU226
 854 00f8 4268     		ldr	r2, [r0, #4]
 855 00fa 0292     		str	r2, [sp, #8]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 69


 856              	.LVL85:
1861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t sendevent = sock->sendevent;
 857              		.loc 1 1861 7 is_stmt 1 view .LVU227
1861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t sendevent = sock->sendevent;
 858              		.loc 1 1861 13 is_stmt 0 view .LVU228
 859 00fc B0F908B0 		ldrsh	fp, [r0, #8]
 860              	.LVL86:
1862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
 861              		.loc 1 1862 7 is_stmt 1 view .LVU229
1862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
 862              		.loc 1 1862 13 is_stmt 0 view .LVU230
 863 0100 4289     		ldrh	r2, [r0, #10]
 864              	.LVL87:
1862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
 865              		.loc 1 1862 13 view .LVU231
 866 0102 0392     		str	r2, [sp, #12]
 867              	.LVL88:
1863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 868              		.loc 1 1863 7 is_stmt 1 view .LVU232
1863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 869              		.loc 1 1863 13 is_stmt 0 view .LVU233
 870 0104 8689     		ldrh	r6, [r0, #12]
 871              	.LVL89:
1864:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 872              		.loc 1 1864 7 is_stmt 1 view .LVU234
 873 0106 0198     		ldr	r0, [sp, #4]
 874              	.LVL90:
1864:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 875              		.loc 1 1864 7 is_stmt 0 view .LVU235
 876 0108 FFF7FEFF 		bl	sys_arch_unprotect
 877              	.LVL91:
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 878              		.loc 1 1868 7 is_stmt 1 view .LVU236
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 879              		.loc 1 1868 10 is_stmt 0 view .LVU237
 880 010c EDB1     		cbz	r5, .L72
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 881              		.loc 1 1868 25 discriminator 1 view .LVU238
 882 010e 2346     		mov	r3, r4
 883 0110 002C     		cmp	r4, #0
 884 0112 AADB     		blt	.L84
 885              	.L73:
 886 0114 5B11     		asrs	r3, r3, #5
 887 0116 55F82320 		ldr	r2, [r5, r3, lsl #2]
 888 011a 04F01F01 		and	r1, r4, #31
 889 011e CA40     		lsrs	r2, r2, r1
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 890              		.loc 1 1868 22 discriminator 1 view .LVU239
 891 0120 12F0010F 		tst	r2, #1
 892 0124 11D0     		beq	.L72
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 893              		.loc 1 1868 49 discriminator 2 view .LVU240
 894 0126 029A     		ldr	r2, [sp, #8]
 895 0128 BBF1000F 		cmp	fp, #0
 896 012c D8BF     		it	le
 897 012e 002A     		cmple	r2, #0
 898 0130 0BD0     		beq	.L72
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 70


1869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for reading\n", i));
 899              		.loc 1 1869 9 is_stmt 1 view .LVU241
 900 0132 0AAA     		add	r2, sp, #40
 901 0134 02EB8303 		add	r3, r2, r3, lsl #2
 902 0138 53F8082C 		ldr	r2, [r3, #-8]
 903 013c 0120     		movs	r0, #1
 904 013e 00FA01F1 		lsl	r1, r0, r1
 905 0142 0A43     		orrs	r2, r2, r1
 906 0144 43F8082C 		str	r2, [r3, #-8]
1870:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
 907              		.loc 1 1870 83 view .LVU242
1871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 908              		.loc 1 1871 9 view .LVU243
1871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 909              		.loc 1 1871 15 is_stmt 0 view .LVU244
 910 0148 8244     		add	r10, r10, r0
 911              	.LVL92:
 912              	.L72:
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 913              		.loc 1 1874 7 is_stmt 1 view .LVU245
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 914              		.loc 1 1874 10 is_stmt 0 view .LVU246
 915 014a CFB1     		cbz	r7, .L74
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 916              		.loc 1 1874 26 discriminator 1 view .LVU247
 917 014c 2346     		mov	r3, r4
 918 014e 002C     		cmp	r4, #0
 919 0150 8EDB     		blt	.L85
 920              	.L75:
 921 0152 5B11     		asrs	r3, r3, #5
 922 0154 57F82320 		ldr	r2, [r7, r3, lsl #2]
 923 0158 04F01F01 		and	r1, r4, #31
 924 015c CA40     		lsrs	r2, r2, r1
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 925              		.loc 1 1874 23 discriminator 1 view .LVU248
 926 015e 12F0010F 		tst	r2, #1
 927 0162 0DD0     		beq	.L74
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 928              		.loc 1 1874 51 discriminator 2 view .LVU249
 929 0164 039A     		ldr	r2, [sp, #12]
 930 0166 5AB1     		cbz	r2, .L74
1875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for writing\n", i));
 931              		.loc 1 1875 9 is_stmt 1 view .LVU250
 932 0168 0AAA     		add	r2, sp, #40
 933 016a 02EB8303 		add	r3, r2, r3, lsl #2
 934 016e 53F8102C 		ldr	r2, [r3, #-16]
 935 0172 0120     		movs	r0, #1
 936 0174 00FA01F1 		lsl	r1, r0, r1
 937 0178 0A43     		orrs	r2, r2, r1
 938 017a 43F8102C 		str	r2, [r3, #-16]
1876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
 939              		.loc 1 1876 83 view .LVU251
1877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 940              		.loc 1 1877 9 view .LVU252
1877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 941              		.loc 1 1877 15 is_stmt 0 view .LVU253
 942 017e 8244     		add	r10, r10, r0
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 71


 943              	.LVL93:
 944              	.L74:
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 945              		.loc 1 1880 7 is_stmt 1 view .LVU254
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 946              		.loc 1 1880 10 is_stmt 0 view .LVU255
 947 0180 B8F1000F 		cmp	r8, #0
 948 0184 83D0     		beq	.L69
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 949              		.loc 1 1880 27 discriminator 1 view .LVU256
 950 0186 2346     		mov	r3, r4
 951 0188 002C     		cmp	r4, #0
 952 018a FFF674AF 		blt	.L86
 953              	.L76:
 954 018e 5B11     		asrs	r3, r3, #5
 955 0190 58F82320 		ldr	r2, [r8, r3, lsl #2]
 956 0194 04F01F01 		and	r1, r4, #31
 957 0198 CA40     		lsrs	r2, r2, r1
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 958              		.loc 1 1880 24 discriminator 1 view .LVU257
 959 019a 12F0010F 		tst	r2, #1
 960 019e 3FF476AF 		beq	.L69
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 961              		.loc 1 1880 53 discriminator 2 view .LVU258
 962 01a2 002E     		cmp	r6, #0
 963 01a4 3FF473AF 		beq	.L69
1881:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for exception\n", i));
 964              		.loc 1 1881 9 is_stmt 1 view .LVU259
 965 01a8 0AAA     		add	r2, sp, #40
 966 01aa 02EB8303 		add	r3, r2, r3, lsl #2
 967 01ae 53F8182C 		ldr	r2, [r3, #-24]
 968 01b2 0120     		movs	r0, #1
 969 01b4 00FA01F1 		lsl	r1, r0, r1
 970 01b8 0A43     		orrs	r2, r2, r1
 971 01ba 43F8182C 		str	r2, [r3, #-24]
1882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
 972              		.loc 1 1882 85 view .LVU260
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 973              		.loc 1 1883 9 view .LVU261
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 974              		.loc 1 1883 15 is_stmt 0 view .LVU262
 975 01be 8244     		add	r10, r10, r0
 976              	.LVL94:
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 977              		.loc 1 1883 15 view .LVU263
 978 01c0 65E7     		b	.L69
 979              	.LVL95:
 980              	.L80:
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 981              		.loc 1 1883 15 view .LVU264
 982              	.LBE9:
1893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *writeset_out = lwriteset;
 983              		.loc 1 1893 3 is_stmt 1 view .LVU265
1893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *writeset_out = lwriteset;
 984              		.loc 1 1893 16 is_stmt 0 view .LVU266
 985 01c2 0AAB     		add	r3, sp, #40
 986 01c4 13E90300 		ldmdb	r3, {r0, r1}
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 72


 987 01c8 149B     		ldr	r3, [sp, #80]
 988 01ca 83E80300 		stm	r3, {r0, r1}
1894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *exceptset_out = lexceptset;
 989              		.loc 1 1894 3 is_stmt 1 view .LVU267
1894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *exceptset_out = lexceptset;
 990              		.loc 1 1894 17 is_stmt 0 view .LVU268
 991 01ce 06AB     		add	r3, sp, #24
 992 01d0 93E80300 		ldm	r3, {r0, r1}
 993 01d4 159B     		ldr	r3, [sp, #84]
 994 01d6 83E80300 		stm	r3, {r0, r1}
1895:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 995              		.loc 1 1895 3 is_stmt 1 view .LVU269
1895:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 996              		.loc 1 1895 18 is_stmt 0 view .LVU270
 997 01da 04AB     		add	r3, sp, #16
 998 01dc 93E80300 		ldm	r3, {r0, r1}
 999 01e0 169B     		ldr	r3, [sp, #88]
 1000 01e2 83E80300 		stm	r3, {r0, r1}
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1001              		.loc 1 1897 3 is_stmt 1 view .LVU271
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1002              		.loc 1 1897 3 view .LVU272
 1003 01e6 BAF1000F 		cmp	r10, #0
 1004 01ea BFF64CAF 		bge	.L56
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1005              		.loc 1 1897 3 discriminator 1 view .LVU273
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1006              		.loc 1 1897 3 discriminator 1 view .LVU274
 1007 01ee 044B     		ldr	r3, .L87
 1008 01f0 40F26972 		movw	r2, #1897
 1009 01f4 0349     		ldr	r1, .L87+4
 1010 01f6 0448     		ldr	r0, .L87+8
 1011 01f8 FFF7FEFF 		bl	printf
 1012              	.LVL96:
 1013 01fc 43E7     		b	.L56
 1014              	.L88:
 1015 01fe 00BF     		.align	2
 1016              	.L87:
 1017 0200 00000000 		.word	.LC0
 1018 0204 00000000 		.word	.LC4
 1019 0208 48000000 		.word	.LC2
 1020              		.cfi_endproc
 1021              	.LFE398:
 1023              		.section	.rodata.lwip_pollscan.str1.4,"aMS",%progbits,1
 1024              		.align	2
 1025              	.LC5:
 1026 0000 736F636B 		.ascii	"sock->select_waiting > 0\000"
 1026      2D3E7365 
 1026      6C656374 
 1026      5F776169 
 1026      74696E67 
 1027              		.section	.text.lwip_pollscan,"ax",%progbits
 1028              		.align	1
 1029              		.syntax unified
 1030              		.thumb
 1031              		.thumb_func
 1033              	lwip_pollscan:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 73


 1034              	.LVL97:
 1035              	.LFB400:
2194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready = 0;
 1036              		.loc 1 2194 1 view -0
 1037              		.cfi_startproc
 1038              		@ args = 0, pretend = 0, frame = 16
 1039              		@ frame_needed = 0, uses_anonymous_args = 0
2194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready = 0;
 1040              		.loc 1 2194 1 is_stmt 0 view .LVU276
 1041 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1042              	.LCFI12:
 1043              		.cfi_def_cfa_offset 36
 1044              		.cfi_offset 4, -36
 1045              		.cfi_offset 5, -32
 1046              		.cfi_offset 6, -28
 1047              		.cfi_offset 7, -24
 1048              		.cfi_offset 8, -20
 1049              		.cfi_offset 9, -16
 1050              		.cfi_offset 10, -12
 1051              		.cfi_offset 11, -8
 1052              		.cfi_offset 14, -4
 1053 0004 85B0     		sub	sp, sp, #20
 1054              	.LCFI13:
 1055              		.cfi_def_cfa_offset 56
 1056 0006 0646     		mov	r6, r0
 1057 0008 8A46     		mov	r10, r1
 1058 000a 1746     		mov	r7, r2
2195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
 1059              		.loc 1 2195 3 is_stmt 1 view .LVU277
 1060              	.LVL98:
2196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 1061              		.loc 1 2196 3 view .LVU278
2197:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 1062              		.loc 1 2197 3 view .LVU279
2198:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1063              		.loc 1 2198 3 view .LVU280
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1064              		.loc 1 2201 3 view .LVU281
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1065              		.loc 1 2201 12 is_stmt 0 view .LVU282
 1066 000c 0024     		movs	r4, #0
2195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
 1067              		.loc 1 2195 7 view .LVU283
 1068 000e A346     		mov	fp, r4
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1069              		.loc 1 2201 3 view .LVU284
 1070 0010 30E0     		b	.L90
 1071              	.LVL99:
 1072              	.L106:
 1073              	.LBB10:
2224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
 1074              		.loc 1 2224 13 is_stmt 1 view .LVU285
2224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
 1075              		.loc 1 2224 33 is_stmt 0 view .LVU286
 1076 0012 8273     		strb	r2, [r0, #14]
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 1077              		.loc 1 2225 13 is_stmt 1 view .LVU287
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 74


 1078              	.LVL100:
2226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 1079              		.loc 1 2226 13 view .LVU288
 1080 0014 0098     		ldr	r0, [sp]
 1081              	.LVL101:
2226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 1082              		.loc 1 2226 13 is_stmt 0 view .LVU289
 1083 0016 FFF7FEFF 		bl	sys_arch_unprotect
 1084              	.LVL102:
2227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 1085              		.loc 1 2227 30 is_stmt 1 view .LVU290
2228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 1086              		.loc 1 2228 13 view .LVU291
2228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 1087              		.loc 1 2228 13 is_stmt 0 view .LVU292
 1088              	.LBE10:
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1089              		.loc 1 2273 3 is_stmt 1 view .LVU293
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1090              		.loc 1 2273 3 view .LVU294
 1091              	.LBB11:
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 1092              		.loc 1 2225 20 is_stmt 0 view .LVU295
 1093 001a 4FF0FF3B 		mov	fp, #-1
 1094              	.LVL103:
 1095              	.L96:
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 1096              		.loc 1 2225 20 view .LVU296
 1097              	.LBE11:
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1098              		.loc 1 2273 3 is_stmt 1 discriminator 1 view .LVU297
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1099              		.loc 1 2273 3 discriminator 1 view .LVU298
 1100 001e 474B     		ldr	r3, .L107
 1101 0020 40F6E102 		movw	r2, #2273
 1102 0024 4649     		ldr	r1, .L107+4
 1103 0026 4748     		ldr	r0, .L107+8
 1104 0028 FFF7FEFF 		bl	printf
 1105              	.LVL104:
 1106 002c 82E0     		b	.L89
 1107              	.LVL105:
 1108              	.L94:
 1109              	.LBB12:
2230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* for now, handle select_waiting==0... */
 1110              		.loc 1 2230 16 view .LVU299
2230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* for now, handle select_waiting==0... */
 1111              		.loc 1 2230 19 is_stmt 0 view .LVU300
 1112 002e 17F0040F 		tst	r7, #4
 1113 0032 51D0     		beq	.L95
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1114              		.loc 1 2232 11 is_stmt 1 view .LVU301
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1115              		.loc 1 2232 11 view .LVU302
 1116 0034 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 1117 0036 3BB1     		cbz	r3, .L104
 1118              	.LVL106:
 1119              	.L97:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 75


2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1120              		.loc 1 2232 11 discriminator 3 view .LVU303
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1121              		.loc 1 2232 11 discriminator 3 view .LVU304
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
 1122              		.loc 1 2233 11 view .LVU305
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
 1123              		.loc 1 2233 19 is_stmt 0 view .LVU306
 1124 0038 99F80E30 		ldrb	r3, [r9, #14]	@ zero_extendqisi2
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
 1125              		.loc 1 2233 14 view .LVU307
 1126 003c 002B     		cmp	r3, #0
 1127 003e 4BD0     		beq	.L95
2234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 1128              		.loc 1 2234 13 is_stmt 1 view .LVU308
2234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 1129              		.loc 1 2234 33 is_stmt 0 view .LVU309
 1130 0040 013B     		subs	r3, r3, #1
 1131 0042 89F80E30 		strb	r3, [r9, #14]
 1132 0046 47E0     		b	.L95
 1133              	.LVL107:
 1134              	.L104:
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1135              		.loc 1 2232 11 is_stmt 1 discriminator 1 view .LVU310
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1136              		.loc 1 2232 11 discriminator 1 view .LVU311
 1137 0048 3C4B     		ldr	r3, .L107
 1138 004a 40F6B802 		movw	r2, #2232
 1139 004e 3E49     		ldr	r1, .L107+12
 1140 0050 3C48     		ldr	r0, .L107+8
 1141              	.LVL108:
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1142              		.loc 1 2232 11 is_stmt 0 discriminator 1 view .LVU312
 1143 0052 FFF7FEFF 		bl	printf
 1144              	.LVL109:
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1145              		.loc 1 2232 11 discriminator 1 view .LVU313
 1146 0056 EFE7     		b	.L97
 1147              	.L99:
2249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 1148              		.loc 1 2249 96 is_stmt 1 view .LVU314
2252:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* POLLERR is output only. */
 1149              		.loc 1 2252 9 view .LVU315
2252:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* POLLERR is output only. */
 1150              		.loc 1 2252 12 is_stmt 0 view .LVU316
 1151 0058 B8F1000F 		cmp	r8, #0
 1152 005c 04D0     		beq	.L92
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1153              		.loc 1 2254 11 is_stmt 1 view .LVU317
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1154              		.loc 1 2254 19 is_stmt 0 view .LVU318
 1155 005e B5F90630 		ldrsh	r3, [r5, #6]
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1156              		.loc 1 2254 28 view .LVU319
 1157 0062 43F00403 		orr	r3, r3, #4
 1158 0066 EB80     		strh	r3, [r5, #6]	@ movhi
 1159              	.LVL110:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 76


 1160              	.L92:
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1161              		.loc 1 2254 28 view .LVU320
 1162              	.LBE12:
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready++;
 1163              		.loc 1 2268 5 is_stmt 1 view .LVU321
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready++;
 1164              		.loc 1 2268 17 is_stmt 0 view .LVU322
 1165 0068 B5F90630 		ldrsh	r3, [r5, #6]
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready++;
 1166              		.loc 1 2268 8 view .LVU323
 1167 006c 0BB1     		cbz	r3, .L101
2269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1168              		.loc 1 2269 7 is_stmt 1 view .LVU324
2269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1169              		.loc 1 2269 13 is_stmt 0 view .LVU325
 1170 006e 0BF1010B 		add	fp, fp, #1
 1171              	.LVL111:
 1172              	.L101:
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1173              		.loc 1 2201 32 is_stmt 1 discriminator 2 view .LVU326
 1174 0072 0134     		adds	r4, r4, #1
 1175              	.LVL112:
 1176              	.L90:
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1177              		.loc 1 2201 21 discriminator 1 view .LVU327
 1178 0074 5445     		cmp	r4, r10
 1179 0076 59D2     		bcs	.L105
2202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       fds[fdi].revents = 0;
 1180              		.loc 1 2202 5 view .LVU328
2202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       fds[fdi].revents = 0;
 1181              		.loc 1 2202 8 is_stmt 0 view .LVU329
 1182 0078 17F0010F 		tst	r7, #1
 1183 007c 03D0     		beq	.L91
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1184              		.loc 1 2203 7 is_stmt 1 view .LVU330
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1185              		.loc 1 2203 10 is_stmt 0 view .LVU331
 1186 007e 06EBC403 		add	r3, r6, r4, lsl #3
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1187              		.loc 1 2203 24 view .LVU332
 1188 0082 0022     		movs	r2, #0
 1189 0084 DA80     		strh	r2, [r3, #6]	@ movhi
 1190              	.L91:
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1191              		.loc 1 2210 5 is_stmt 1 view .LVU333
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1192              		.loc 1 2210 12 is_stmt 0 view .LVU334
 1193 0086 4FEAC408 		lsl	r8, r4, #3
 1194 008a 06EBC405 		add	r5, r6, r4, lsl #3
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1195              		.loc 1 2210 17 view .LVU335
 1196 008e 56F83430 		ldr	r3, [r6, r4, lsl #3]
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1197              		.loc 1 2210 8 view .LVU336
 1198 0092 002B     		cmp	r3, #0
 1199 0094 E8DB     		blt	.L92
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 77


2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1200              		.loc 1 2210 38 discriminator 1 view .LVU337
 1201 0096 B5F90630 		ldrsh	r3, [r5, #6]
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1202              		.loc 1 2210 26 discriminator 1 view .LVU338
 1203 009a 13F0080F 		tst	r3, #8
 1204 009e E3D1     		bne	.L92
2212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock = tryget_socket_unconn_locked(fds[fdi].fd);
 1205              		.loc 1 2212 7 is_stmt 1 view .LVU339
 1206 00a0 FFF7FEFF 		bl	sys_arch_protect
 1207              	.LVL113:
 1208 00a4 0090     		str	r0, [sp]
 1209              	.LVL114:
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
 1210              		.loc 1 2213 7 view .LVU340
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
 1211              		.loc 1 2213 14 is_stmt 0 view .LVU341
 1212 00a6 56F80800 		ldr	r0, [r6, r8]
 1213              	.LVL115:
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
 1214              		.loc 1 2213 14 view .LVU342
 1215 00aa FFF7FEFF 		bl	tryget_socket_unconn_locked
 1216              	.LVL116:
2214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         void* lastdata = sock->lastdata.pbuf;
 1217              		.loc 1 2214 7 is_stmt 1 view .LVU343
2214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         void* lastdata = sock->lastdata.pbuf;
 1218              		.loc 1 2214 10 is_stmt 0 view .LVU344
 1219 00ae 8146     		mov	r9, r0
 1220 00b0 0028     		cmp	r0, #0
 1221 00b2 30D0     		beq	.L93
 1222              	.LBB13:
2215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         s16_t rcvevent = sock->rcvevent;
 1223              		.loc 1 2215 9 is_stmt 1 view .LVU345
2215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         s16_t rcvevent = sock->rcvevent;
 1224              		.loc 1 2215 15 is_stmt 0 view .LVU346
 1225 00b4 4368     		ldr	r3, [r0, #4]
 1226 00b6 0193     		str	r3, [sp, #4]
 1227              	.LVL117:
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t sendevent = sock->sendevent;
 1228              		.loc 1 2216 9 is_stmt 1 view .LVU347
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t sendevent = sock->sendevent;
 1229              		.loc 1 2216 15 is_stmt 0 view .LVU348
 1230 00b8 B0F90830 		ldrsh	r3, [r0, #8]
 1231              	.LVL118:
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t sendevent = sock->sendevent;
 1232              		.loc 1 2216 15 view .LVU349
 1233 00bc 0293     		str	r3, [sp, #8]
 1234              	.LVL119:
2217:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t errevent = sock->errevent;
 1235              		.loc 1 2217 9 is_stmt 1 view .LVU350
2217:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t errevent = sock->errevent;
 1236              		.loc 1 2217 15 is_stmt 0 view .LVU351
 1237 00be 4389     		ldrh	r3, [r0, #10]
 1238 00c0 0393     		str	r3, [sp, #12]
 1239              	.LVL120:
2218:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1240              		.loc 1 2218 9 is_stmt 1 view .LVU352
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 78


2218:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1241              		.loc 1 2218 15 is_stmt 0 view .LVU353
 1242 00c2 B0F80C80 		ldrh	r8, [r0, #12]
 1243              	.LVL121:
2220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->select_waiting++;
 1244              		.loc 1 2220 9 is_stmt 1 view .LVU354
2220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->select_waiting++;
 1245              		.loc 1 2220 12 is_stmt 0 view .LVU355
 1246 00c6 17F0020F 		tst	r7, #2
 1247 00ca B0D0     		beq	.L94
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting == 0) {
 1248              		.loc 1 2221 11 is_stmt 1 view .LVU356
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting == 0) {
 1249              		.loc 1 2221 15 is_stmt 0 view .LVU357
 1250 00cc 827B     		ldrb	r2, [r0, #14]	@ zero_extendqisi2
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting == 0) {
 1251              		.loc 1 2221 31 view .LVU358
 1252 00ce 531C     		adds	r3, r2, #1
 1253 00d0 DBB2     		uxtb	r3, r3
 1254 00d2 8373     		strb	r3, [r0, #14]
2222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* overflow - too many threads waiting */
 1255              		.loc 1 2222 11 is_stmt 1 view .LVU359
2222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* overflow - too many threads waiting */
 1256              		.loc 1 2222 14 is_stmt 0 view .LVU360
 1257 00d4 002B     		cmp	r3, #0
 1258 00d6 9CD0     		beq	.L106
 1259              	.LVL122:
 1260              	.L95:
2237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 1261              		.loc 1 2237 9 is_stmt 1 view .LVU361
 1262 00d8 0098     		ldr	r0, [sp]
 1263 00da FFF7FEFF 		bl	sys_arch_unprotect
 1264              	.LVL123:
2238:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1265              		.loc 1 2238 26 view .LVU362
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1266              		.loc 1 2242 9 view .LVU363
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1267              		.loc 1 2242 22 is_stmt 0 view .LVU364
 1268 00de B5F90430 		ldrsh	r3, [r5, #4]
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1269              		.loc 1 2242 12 view .LVU365
 1270 00e2 13F0010F 		tst	r3, #1
 1271 00e6 0AD0     		beq	.L98
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1272              		.loc 1 2242 45 discriminator 1 view .LVU366
 1273 00e8 019A     		ldr	r2, [sp, #4]
 1274 00ea 0299     		ldr	r1, [sp, #8]
 1275 00ec 0029     		cmp	r1, #0
 1276 00ee D8BF     		it	le
 1277 00f0 002A     		cmple	r2, #0
 1278 00f2 04D0     		beq	.L98
2243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
 1279              		.loc 1 2243 11 is_stmt 1 view .LVU367
2243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
 1280              		.loc 1 2243 19 is_stmt 0 view .LVU368
 1281 00f4 B5F90620 		ldrsh	r2, [r5, #6]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 79


2243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
 1282              		.loc 1 2243 28 view .LVU369
 1283 00f8 42F00102 		orr	r2, r2, #1
 1284 00fc EA80     		strh	r2, [r5, #6]	@ movhi
 1285              	.L98:
2244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 1286              		.loc 1 2244 96 is_stmt 1 view .LVU370
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1287              		.loc 1 2247 9 view .LVU371
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1288              		.loc 1 2247 12 is_stmt 0 view .LVU372
 1289 00fe 13F0020F 		tst	r3, #2
 1290 0102 A9D0     		beq	.L99
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1291              		.loc 1 2247 46 discriminator 1 view .LVU373
 1292 0104 039B     		ldr	r3, [sp, #12]
 1293 0106 002B     		cmp	r3, #0
 1294 0108 A6D0     		beq	.L99
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
 1295              		.loc 1 2248 11 is_stmt 1 view .LVU374
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
 1296              		.loc 1 2248 19 is_stmt 0 view .LVU375
 1297 010a B5F90630 		ldrsh	r3, [r5, #6]
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
 1298              		.loc 1 2248 28 view .LVU376
 1299 010e 43F00203 		orr	r3, r3, #2
 1300 0112 EB80     		strh	r3, [r5, #6]	@ movhi
 1301 0114 A0E7     		b	.L99
 1302              	.LVL124:
 1303              	.L93:
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
 1304              		.loc 1 2248 28 view .LVU377
 1305              	.LBE13:
2259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* POLLNVAL is output only. */
 1306              		.loc 1 2259 9 is_stmt 1 view .LVU378
 1307 0116 0098     		ldr	r0, [sp]
 1308              	.LVL125:
2259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* POLLNVAL is output only. */
 1309              		.loc 1 2259 9 is_stmt 0 view .LVU379
 1310 0118 FFF7FEFF 		bl	sys_arch_unprotect
 1311              	.LVL126:
2261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
 1312              		.loc 1 2261 9 is_stmt 1 view .LVU380
2261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
 1313              		.loc 1 2261 17 is_stmt 0 view .LVU381
 1314 011c B5F90630 		ldrsh	r3, [r5, #6]
2261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
 1315              		.loc 1 2261 26 view .LVU382
 1316 0120 43F00803 		orr	r3, r3, #8
 1317 0124 EB80     		strh	r3, [r5, #6]	@ movhi
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1318              		.loc 1 2262 9 is_stmt 1 view .LVU383
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1319              		.loc 1 2262 16 is_stmt 0 view .LVU384
 1320 0126 4FF0FF3B 		mov	fp, #-1
 1321              	.LVL127:
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 80


 1322              		.loc 1 2262 16 view .LVU385
 1323 012a 03E0     		b	.L89
 1324              	.LVL128:
 1325              	.L105:
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1326              		.loc 1 2273 3 is_stmt 1 view .LVU386
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1327              		.loc 1 2273 3 view .LVU387
 1328 012c BBF1000F 		cmp	fp, #0
 1329 0130 FFF675AF 		blt	.L96
 1330              	.LVL129:
 1331              	.L89:
2275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1332              		.loc 1 2275 1 is_stmt 0 view .LVU388
 1333 0134 5846     		mov	r0, fp
 1334 0136 05B0     		add	sp, sp, #20
 1335              	.LCFI14:
 1336              		.cfi_def_cfa_offset 36
 1337              		@ sp needed
 1338 0138 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1339              	.LVL130:
 1340              	.L108:
2275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1341              		.loc 1 2275 1 view .LVU389
 1342              		.align	2
 1343              	.L107:
 1344 013c 00000000 		.word	.LC0
 1345 0140 00000000 		.word	.LC4
 1346 0144 48000000 		.word	.LC2
 1347 0148 00000000 		.word	.LC5
 1348              		.cfi_endproc
 1349              	.LFE400:
 1351              		.section	.text.lwip_link_select_cb,"ax",%progbits
 1352              		.align	1
 1353              		.syntax unified
 1354              		.thumb
 1355              		.thumb_func
 1357              	lwip_link_select_cb:
 1358              	.LVL131:
 1359              	.LFB396:
1772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1360              		.loc 1 1772 1 is_stmt 1 view -0
 1361              		.cfi_startproc
 1362              		@ args = 0, pretend = 0, frame = 0
 1363              		@ frame_needed = 0, uses_anonymous_args = 0
1772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1364              		.loc 1 1772 1 is_stmt 0 view .LVU391
 1365 0000 10B5     		push	{r4, lr}
 1366              	.LCFI15:
 1367              		.cfi_def_cfa_offset 8
 1368              		.cfi_offset 4, -8
 1369              		.cfi_offset 14, -4
 1370 0002 0446     		mov	r4, r0
1773:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1371              		.loc 1 1773 39 is_stmt 1 view .LVU392
1776:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1372              		.loc 1 1776 3 view .LVU393
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 81


 1373 0004 0648     		ldr	r0, .L112
 1374              	.LVL132:
1776:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1375              		.loc 1 1776 3 is_stmt 0 view .LVU394
 1376 0006 FFF7FEFF 		bl	sys_mutex_lock
 1377              	.LVL133:
1779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb_list != NULL) {
 1378              		.loc 1 1779 3 is_stmt 1 view .LVU395
1779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb_list != NULL) {
 1379              		.loc 1 1779 19 is_stmt 0 view .LVU396
 1380 000a 064B     		ldr	r3, .L112+4
 1381 000c 1B68     		ldr	r3, [r3]
 1382 000e 2360     		str	r3, [r4]
1780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list->prev = select_cb;
 1383              		.loc 1 1780 3 is_stmt 1 view .LVU397
1780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list->prev = select_cb;
 1384              		.loc 1 1780 6 is_stmt 0 view .LVU398
 1385 0010 03B1     		cbz	r3, .L110
1781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1386              		.loc 1 1781 5 is_stmt 1 view .LVU399
1781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1387              		.loc 1 1781 26 is_stmt 0 view .LVU400
 1388 0012 5C60     		str	r4, [r3, #4]
 1389              	.L110:
1783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 1390              		.loc 1 1783 3 is_stmt 1 view .LVU401
1783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 1391              		.loc 1 1783 18 is_stmt 0 view .LVU402
 1392 0014 034B     		ldr	r3, .L112+4
 1393 0016 1C60     		str	r4, [r3]
1790:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1394              		.loc 1 1790 3 is_stmt 1 view .LVU403
 1395 0018 0148     		ldr	r0, .L112
 1396 001a FFF7FEFF 		bl	sys_mutex_unlock
 1397              	.LVL134:
1791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1398              		.loc 1 1791 1 is_stmt 0 view .LVU404
 1399 001e 10BD     		pop	{r4, pc}
 1400              	.LVL135:
 1401              	.L113:
1791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1402              		.loc 1 1791 1 view .LVU405
 1403              		.align	2
 1404              	.L112:
 1405 0020 00000000 		.word	lock_tcpip_core
 1406 0024 00000000 		.word	select_cb_list
 1407              		.cfi_endproc
 1408              	.LFE396:
 1410              		.section	.rodata.lwip_unlink_select_cb.str1.4,"aMS",%progbits,1
 1411              		.align	2
 1412              	.LC6:
 1413 0000 73656C65 		.ascii	"select_cb->prev == NULL\000"
 1413      63745F63 
 1413      622D3E70 
 1413      72657620 
 1413      3D3D204E 
 1414              		.align	2
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 82


 1415              	.LC7:
 1416 0018 73656C65 		.ascii	"select_cb->prev != NULL\000"
 1416      63745F63 
 1416      622D3E70 
 1416      72657620 
 1416      213D204E 
 1417              		.section	.text.lwip_unlink_select_cb,"ax",%progbits
 1418              		.align	1
 1419              		.syntax unified
 1420              		.thumb
 1421              		.thumb_func
 1423              	lwip_unlink_select_cb:
 1424              	.LVL136:
 1425              	.LFB397:
1796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1426              		.loc 1 1796 1 is_stmt 1 view -0
 1427              		.cfi_startproc
 1428              		@ args = 0, pretend = 0, frame = 0
 1429              		@ frame_needed = 0, uses_anonymous_args = 0
1796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1430              		.loc 1 1796 1 is_stmt 0 view .LVU407
 1431 0000 10B5     		push	{r4, lr}
 1432              	.LCFI16:
 1433              		.cfi_def_cfa_offset 8
 1434              		.cfi_offset 4, -8
 1435              		.cfi_offset 14, -4
 1436 0002 0446     		mov	r4, r0
1797:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1437              		.loc 1 1797 39 is_stmt 1 view .LVU408
1800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb->next != NULL) {
 1438              		.loc 1 1800 3 view .LVU409
 1439 0004 1448     		ldr	r0, .L123
 1440              	.LVL137:
1800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb->next != NULL) {
 1441              		.loc 1 1800 3 is_stmt 0 view .LVU410
 1442 0006 FFF7FEFF 		bl	sys_mutex_lock
 1443              	.LVL138:
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
 1444              		.loc 1 1801 3 is_stmt 1 view .LVU411
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
 1445              		.loc 1 1801 16 is_stmt 0 view .LVU412
 1446 000a 2368     		ldr	r3, [r4]
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
 1447              		.loc 1 1801 6 view .LVU413
 1448 000c 0BB1     		cbz	r3, .L115
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1449              		.loc 1 1802 5 is_stmt 1 view .LVU414
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1450              		.loc 1 1802 38 is_stmt 0 view .LVU415
 1451 000e 6268     		ldr	r2, [r4, #4]
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1452              		.loc 1 1802 27 view .LVU416
 1453 0010 5A60     		str	r2, [r3, #4]
 1454              	.L115:
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
 1455              		.loc 1 1804 3 is_stmt 1 view .LVU417
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 83


 1456              		.loc 1 1804 22 is_stmt 0 view .LVU418
 1457 0012 124B     		ldr	r3, .L123+4
 1458 0014 1B68     		ldr	r3, [r3]
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
 1459              		.loc 1 1804 6 view .LVU419
 1460 0016 A342     		cmp	r3, r4
 1461 0018 08D0     		beq	.L121
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1462              		.loc 1 1808 5 is_stmt 1 view .LVU420
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1463              		.loc 1 1808 5 view .LVU421
 1464 001a 6368     		ldr	r3, [r4, #4]
 1465 001c 9BB1     		cbz	r3, .L122
 1466              	.L119:
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1467              		.loc 1 1808 5 discriminator 3 view .LVU422
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1468              		.loc 1 1808 5 discriminator 3 view .LVU423
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1469              		.loc 1 1809 5 view .LVU424
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1470              		.loc 1 1809 14 is_stmt 0 view .LVU425
 1471 001e 6368     		ldr	r3, [r4, #4]
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1472              		.loc 1 1809 38 view .LVU426
 1473 0020 2268     		ldr	r2, [r4]
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1474              		.loc 1 1809 27 view .LVU427
 1475 0022 1A60     		str	r2, [r3]
 1476              	.L118:
1815:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1477              		.loc 1 1815 3 is_stmt 1 view .LVU428
 1478 0024 0C48     		ldr	r0, .L123
 1479 0026 FFF7FEFF 		bl	sys_mutex_unlock
 1480              	.LVL139:
1816:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 1481              		.loc 1 1816 1 is_stmt 0 view .LVU429
 1482 002a 10BD     		pop	{r4, pc}
 1483              	.LVL140:
 1484              	.L121:
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1485              		.loc 1 1805 5 is_stmt 1 view .LVU430
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1486              		.loc 1 1805 5 view .LVU431
 1487 002c 6368     		ldr	r3, [r4, #4]
 1488 002e 33B1     		cbz	r3, .L117
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1489              		.loc 1 1805 5 discriminator 1 view .LVU432
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1490              		.loc 1 1805 5 discriminator 1 view .LVU433
 1491 0030 0B4B     		ldr	r3, .L123+8
 1492 0032 40F20D72 		movw	r2, #1805
 1493 0036 0B49     		ldr	r1, .L123+12
 1494 0038 0B48     		ldr	r0, .L123+16
 1495 003a FFF7FEFF 		bl	printf
 1496              	.LVL141:
 1497              	.L117:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 84


1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1498              		.loc 1 1805 5 discriminator 3 view .LVU434
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1499              		.loc 1 1805 5 discriminator 3 view .LVU435
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 1500              		.loc 1 1806 5 view .LVU436
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 1501              		.loc 1 1806 31 is_stmt 0 view .LVU437
 1502 003e 2268     		ldr	r2, [r4]
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 1503              		.loc 1 1806 20 view .LVU438
 1504 0040 064B     		ldr	r3, .L123+4
 1505 0042 1A60     		str	r2, [r3]
 1506 0044 EEE7     		b	.L118
 1507              	.L122:
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1508              		.loc 1 1808 5 is_stmt 1 discriminator 1 view .LVU439
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1509              		.loc 1 1808 5 discriminator 1 view .LVU440
 1510 0046 064B     		ldr	r3, .L123+8
 1511 0048 4FF4E262 		mov	r2, #1808
 1512 004c 0749     		ldr	r1, .L123+20
 1513 004e 0648     		ldr	r0, .L123+16
 1514 0050 FFF7FEFF 		bl	printf
 1515              	.LVL142:
 1516 0054 E3E7     		b	.L119
 1517              	.L124:
 1518 0056 00BF     		.align	2
 1519              	.L123:
 1520 0058 00000000 		.word	lock_tcpip_core
 1521 005c 00000000 		.word	select_cb_list
 1522 0060 00000000 		.word	.LC0
 1523 0064 00000000 		.word	.LC6
 1524 0068 48000000 		.word	.LC2
 1525 006c 18000000 		.word	.LC7
 1526              		.cfi_endproc
 1527              	.LFE397:
 1529              		.section	.rodata.lwip_sock_make_addr.str1.4,"aMS",%progbits,1
 1530              		.align	2
 1531              	.LC8:
 1532 0000 66726F6D 		.ascii	"fromaddr != NULL\000"
 1532      61646472 
 1532      20213D20 
 1532      4E554C4C 
 1532      00
 1533 0011 000000   		.align	2
 1534              	.LC9:
 1535 0014 66726F6D 		.ascii	"from != NULL\000"
 1535      20213D20 
 1535      4E554C4C 
 1535      00
 1536 0021 000000   		.align	2
 1537              	.LC10:
 1538 0024 66726F6D 		.ascii	"fromlen != NULL\000"
 1538      6C656E20 
 1538      213D204E 
 1538      554C4C00 
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 85


 1539              		.section	.text.lwip_sock_make_addr,"ax",%progbits
 1540              		.align	1
 1541              		.syntax unified
 1542              		.thumb
 1543              		.thumb_func
 1545              	lwip_sock_make_addr:
 1546              	.LVL143:
 1547              	.LFB382:
1025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int truncated = 0;
 1548              		.loc 1 1025 1 view -0
 1549              		.cfi_startproc
 1550              		@ args = 4, pretend = 0, frame = 16
 1551              		@ frame_needed = 0, uses_anonymous_args = 0
1025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int truncated = 0;
 1552              		.loc 1 1025 1 is_stmt 0 view .LVU442
 1553 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1554              	.LCFI17:
 1555              		.cfi_def_cfa_offset 20
 1556              		.cfi_offset 4, -20
 1557              		.cfi_offset 5, -16
 1558              		.cfi_offset 6, -12
 1559              		.cfi_offset 7, -8
 1560              		.cfi_offset 14, -4
 1561 0002 85B0     		sub	sp, sp, #20
 1562              	.LCFI18:
 1563              		.cfi_def_cfa_offset 40
 1564 0004 1646     		mov	r6, r2
 1565 0006 1C46     		mov	r4, r3
 1566 0008 0A9D     		ldr	r5, [sp, #40]
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1567              		.loc 1 1026 3 is_stmt 1 view .LVU443
 1568              	.LVL144:
1027:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1569              		.loc 1 1027 3 view .LVU444
1029:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1570              		.loc 1 1029 3 view .LVU445
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1571              		.loc 1 1031 3 view .LVU446
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1572              		.loc 1 1031 3 view .LVU447
 1573 000a 0F46     		mov	r7, r1
 1574 000c D1B1     		cbz	r1, .L133
 1575              	.LVL145:
 1576              	.L126:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1577              		.loc 1 1031 3 discriminator 3 view .LVU448
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1578              		.loc 1 1031 3 discriminator 3 view .LVU449
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1579              		.loc 1 1032 3 view .LVU450
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1580              		.loc 1 1032 3 view .LVU451
 1581 000e 0CB3     		cbz	r4, .L134
 1582              	.L127:
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1583              		.loc 1 1032 3 discriminator 3 view .LVU452
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 86


 1584              		.loc 1 1032 3 discriminator 3 view .LVU453
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1585              		.loc 1 1033 3 view .LVU454
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1586              		.loc 1 1033 3 view .LVU455
 1587 0010 45B3     		cbz	r5, .L135
 1588              	.L128:
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1589              		.loc 1 1033 3 discriminator 3 view .LVU456
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1590              		.loc 1 1033 3 discriminator 3 view .LVU457
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1591              		.loc 1 1043 3 view .LVU458
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1592              		.loc 1 1043 3 view .LVU459
 1593 0012 1023     		movs	r3, #16
 1594 0014 8DF80030 		strb	r3, [sp]
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1595              		.loc 1 1043 3 view .LVU460
 1596 0018 0223     		movs	r3, #2
 1597 001a 8DF80130 		strb	r3, [sp, #1]
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1598              		.loc 1 1043 3 view .LVU461
 1599 001e 3046     		mov	r0, r6
 1600 0020 FFF7FEFF 		bl	lwip_htons
 1601              	.LVL146:
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1602              		.loc 1 1043 3 is_stmt 0 discriminator 1 view .LVU462
 1603 0024 ADF80200 		strh	r0, [sp, #2]	@ movhi
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1604              		.loc 1 1043 3 is_stmt 1 discriminator 1 view .LVU463
 1605 0028 3B68     		ldr	r3, [r7]
 1606 002a 0193     		str	r3, [sp, #4]
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1607              		.loc 1 1043 3 discriminator 1 view .LVU464
 1608 002c 0023     		movs	r3, #0
 1609 002e 0293     		str	r3, [sp, #8]
 1610 0030 0393     		str	r3, [sp, #12]
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1611              		.loc 1 1043 3 discriminator 2 view .LVU465
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
 1612              		.loc 1 1044 3 view .LVU466
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
 1613              		.loc 1 1044 7 is_stmt 0 view .LVU467
 1614 0032 2A68     		ldr	r2, [r5]
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
 1615              		.loc 1 1044 26 view .LVU468
 1616 0034 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
 1617              		.loc 1 1044 6 view .LVU469
 1618 0038 9A42     		cmp	r2, r3
 1619 003a 1BD3     		bcc	.L130
1046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *fromlen = saddr.sa.sa_len;
 1620              		.loc 1 1046 10 is_stmt 1 view .LVU470
1046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *fromlen = saddr.sa.sa_len;
 1621              		.loc 1 1046 13 is_stmt 0 view .LVU471
 1622 003c 23D9     		bls	.L131
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 87


1047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1623              		.loc 1 1047 5 is_stmt 1 view .LVU472
1047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1624              		.loc 1 1047 14 is_stmt 0 view .LVU473
 1625 003e 2B60     		str	r3, [r5]
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1626              		.loc 1 1026 7 view .LVU474
 1627 0040 0026     		movs	r6, #0
 1628              	.LVL147:
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1629              		.loc 1 1026 7 view .LVU475
 1630 0042 18E0     		b	.L129
 1631              	.LVL148:
 1632              	.L133:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1633              		.loc 1 1031 3 is_stmt 1 discriminator 1 view .LVU476
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1634              		.loc 1 1031 3 discriminator 1 view .LVU477
 1635 0044 114B     		ldr	r3, .L136
 1636              	.LVL149:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1637              		.loc 1 1031 3 is_stmt 0 discriminator 1 view .LVU478
 1638 0046 40F20742 		movw	r2, #1031
 1639              	.LVL150:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1640              		.loc 1 1031 3 discriminator 1 view .LVU479
 1641 004a 1149     		ldr	r1, .L136+4
 1642              	.LVL151:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1643              		.loc 1 1031 3 discriminator 1 view .LVU480
 1644 004c 1148     		ldr	r0, .L136+8
 1645              	.LVL152:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1646              		.loc 1 1031 3 discriminator 1 view .LVU481
 1647 004e FFF7FEFF 		bl	printf
 1648              	.LVL153:
 1649 0052 DCE7     		b	.L126
 1650              	.L134:
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1651              		.loc 1 1032 3 is_stmt 1 discriminator 1 view .LVU482
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1652              		.loc 1 1032 3 discriminator 1 view .LVU483
 1653 0054 0D4B     		ldr	r3, .L136
 1654 0056 4FF48162 		mov	r2, #1032
 1655 005a 0F49     		ldr	r1, .L136+12
 1656 005c 0D48     		ldr	r0, .L136+8
 1657 005e FFF7FEFF 		bl	printf
 1658              	.LVL154:
 1659 0062 D5E7     		b	.L127
 1660              	.L135:
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1661              		.loc 1 1033 3 discriminator 1 view .LVU484
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1662              		.loc 1 1033 3 discriminator 1 view .LVU485
 1663 0064 094B     		ldr	r3, .L136
 1664 0066 40F20942 		movw	r2, #1033
 1665 006a 0C49     		ldr	r1, .L136+16
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 88


 1666 006c 0948     		ldr	r0, .L136+8
 1667 006e FFF7FEFF 		bl	printf
 1668              	.LVL155:
 1669 0072 CEE7     		b	.L128
 1670              	.L130:
1045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (*fromlen > saddr.sa.sa_len) {
 1671              		.loc 1 1045 15 is_stmt 0 view .LVU486
 1672 0074 0126     		movs	r6, #1
 1673              	.LVL156:
 1674              	.L129:
1049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return truncated;
 1675              		.loc 1 1049 3 is_stmt 1 view .LVU487
 1676 0076 2A68     		ldr	r2, [r5]
 1677 0078 6946     		mov	r1, sp
 1678 007a 2046     		mov	r0, r4
 1679 007c FFF7FEFF 		bl	memcpy
 1680              	.LVL157:
1050:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1681              		.loc 1 1050 3 view .LVU488
1051:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1682              		.loc 1 1051 1 is_stmt 0 view .LVU489
 1683 0080 3046     		mov	r0, r6
 1684 0082 05B0     		add	sp, sp, #20
 1685              	.LCFI19:
 1686              		.cfi_remember_state
 1687              		.cfi_def_cfa_offset 20
 1688              		@ sp needed
 1689 0084 F0BD     		pop	{r4, r5, r6, r7, pc}
 1690              	.LVL158:
 1691              	.L131:
 1692              	.LCFI20:
 1693              		.cfi_restore_state
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1694              		.loc 1 1026 7 view .LVU490
 1695 0086 0026     		movs	r6, #0
 1696 0088 F5E7     		b	.L129
 1697              	.L137:
 1698 008a 00BF     		.align	2
 1699              	.L136:
 1700 008c 00000000 		.word	.LC0
 1701 0090 00000000 		.word	.LC8
 1702 0094 48000000 		.word	.LC2
 1703 0098 14000000 		.word	.LC9
 1704 009c 24000000 		.word	.LC10
 1705              		.cfi_endproc
 1706              	.LFE382:
 1708              		.section	.text.lwip_recv_tcp_from,"ax",%progbits
 1709              		.align	1
 1710              		.syntax unified
 1711              		.thumb
 1712              		.thumb_func
 1714              	lwip_recv_tcp_from:
 1715              	.LVL159:
 1716              	.LFB383:
1057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock == NULL) {
 1717              		.loc 1 1057 1 is_stmt 1 view -0
 1718              		.cfi_startproc
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 89


 1719              		@ args = 8, pretend = 0, frame = 8
 1720              		@ frame_needed = 0, uses_anonymous_args = 0
1058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 1721              		.loc 1 1058 3 view .LVU492
1058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 1722              		.loc 1 1058 6 is_stmt 0 view .LVU493
 1723 0000 D8B1     		cbz	r0, .L140
1057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock == NULL) {
 1724              		.loc 1 1057 1 view .LVU494
 1725 0002 70B5     		push	{r4, r5, r6, lr}
 1726              	.LCFI21:
 1727              		.cfi_def_cfa_offset 16
 1728              		.cfi_offset 4, -16
 1729              		.cfi_offset 5, -12
 1730              		.cfi_offset 6, -8
 1731              		.cfi_offset 14, -4
 1732 0004 84B0     		sub	sp, sp, #16
 1733              	.LCFI22:
 1734              		.cfi_def_cfa_offset 32
 1735 0006 0C46     		mov	r4, r1
 1736 0008 1546     		mov	r5, r2
 1737 000a 0646     		mov	r6, r0
1061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_s);
 1738              		.loc 1 1061 3 is_stmt 1 view .LVU495
1062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_ret);
 1739              		.loc 1 1062 3 view .LVU496
1063:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1740              		.loc 1 1063 3 view .LVU497
1066:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 1741              		.loc 1 1066 3 view .LVU498
1066:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 1742              		.loc 1 1066 6 is_stmt 0 view .LVU499
 1743 000c 0029     		cmp	r1, #0
 1744 000e 18BF     		it	ne
 1745 0010 002A     		cmpne	r2, #0
 1746 0012 02D1     		bne	.L146
1080:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1747              		.loc 1 1080 10 view .LVU500
 1748 0014 0020     		movs	r0, #0
 1749              	.LVL160:
 1750              	.L138:
1081:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 1751              		.loc 1 1081 1 view .LVU501
 1752 0016 04B0     		add	sp, sp, #16
 1753              	.LCFI23:
 1754              		.cfi_remember_state
 1755              		.cfi_def_cfa_offset 16
 1756              		@ sp needed
 1757 0018 70BD     		pop	{r4, r5, r6, pc}
 1758              	.LVL161:
 1759              	.L146:
 1760              	.LCFI24:
 1761              		.cfi_restore_state
 1762              	.LBB14:
1070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_t tmpaddr;
 1763              		.loc 1 1070 5 is_stmt 1 view .LVU502
1071:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_getaddr(sock->conn, &tmpaddr, &port, 0);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 90


 1764              		.loc 1 1071 5 view .LVU503
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1765              		.loc 1 1072 5 view .LVU504
 1766 001a 0023     		movs	r3, #0
 1767              	.LVL162:
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1768              		.loc 1 1072 5 is_stmt 0 view .LVU505
 1769 001c 0DF10A02 		add	r2, sp, #10
 1770              	.LVL163:
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1771              		.loc 1 1072 5 view .LVU506
 1772 0020 03A9     		add	r1, sp, #12
 1773              	.LVL164:
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1774              		.loc 1 1072 5 view .LVU507
 1775 0022 0068     		ldr	r0, [r0]
 1776              	.LVL165:
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1777              		.loc 1 1072 5 view .LVU508
 1778 0024 FFF7FEFF 		bl	netconn_getaddr
 1779              	.LVL166:
1073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, tmpaddr);
 1780              		.loc 1 1073 66 is_stmt 1 view .LVU509
1074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", port, (int)dbg_ret));
 1781              		.loc 1 1074 52 view .LVU510
1075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (from && fromlen) {
 1782              		.loc 1 1075 80 view .LVU511
1076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return lwip_sock_make_addr(sock->conn, &tmpaddr, port, from, fromlen);
 1783              		.loc 1 1076 5 view .LVU512
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1784              		.loc 1 1077 7 view .LVU513
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1785              		.loc 1 1077 14 is_stmt 0 view .LVU514
 1786 0028 0095     		str	r5, [sp]
 1787 002a 2346     		mov	r3, r4
 1788 002c BDF80A20 		ldrh	r2, [sp, #10]
 1789 0030 03A9     		add	r1, sp, #12
 1790 0032 3068     		ldr	r0, [r6]
 1791 0034 FFF7FEFF 		bl	lwip_sock_make_addr
 1792              	.LVL167:
 1793 0038 EDE7     		b	.L138
 1794              	.LVL168:
 1795              	.L140:
 1796              	.LCFI25:
 1797              		.cfi_def_cfa_offset 0
 1798              		.cfi_restore 4
 1799              		.cfi_restore 5
 1800              		.cfi_restore 6
 1801              		.cfi_restore 14
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1802              		.loc 1 1077 14 view .LVU515
 1803              	.LBE14:
1059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1804              		.loc 1 1059 12 view .LVU516
 1805 003a 0020     		movs	r0, #0
 1806              	.LVL169:
1081:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 91


 1807              		.loc 1 1081 1 view .LVU517
 1808 003c 7047     		bx	lr
 1809              		.cfi_endproc
 1810              	.LFE383:
 1812              		.section	.text.lwip_getaddrname,"ax",%progbits
 1813              		.align	1
 1814              		.syntax unified
 1815              		.thumb
 1816              		.thumb_func
 1818              	lwip_getaddrname:
 1819              	.LVL170:
 1820              	.LFB406:
2701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 1821              		.loc 1 2701 1 is_stmt 1 view -0
 1822              		.cfi_startproc
 1823              		@ args = 0, pretend = 0, frame = 24
 1824              		@ frame_needed = 0, uses_anonymous_args = 0
2701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 1825              		.loc 1 2701 1 is_stmt 0 view .LVU519
 1826 0000 70B5     		push	{r4, r5, r6, lr}
 1827              	.LCFI26:
 1828              		.cfi_def_cfa_offset 16
 1829              		.cfi_offset 4, -16
 1830              		.cfi_offset 5, -12
 1831              		.cfi_offset 6, -8
 1832              		.cfi_offset 14, -4
 1833 0002 86B0     		sub	sp, sp, #24
 1834              	.LCFI27:
 1835              		.cfi_def_cfa_offset 40
 1836 0004 0E46     		mov	r6, r1
 1837 0006 1446     		mov	r4, r2
 1838 0008 1D46     		mov	r5, r3
2702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1839              		.loc 1 2702 3 is_stmt 1 view .LVU520
2703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
 1840              		.loc 1 2703 3 view .LVU521
2704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port;
 1841              		.loc 1 2704 3 view .LVU522
2705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 1842              		.loc 1 2705 3 view .LVU523
2706:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1843              		.loc 1 2706 3 view .LVU524
2708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 1844              		.loc 1 2708 3 view .LVU525
2708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 1845              		.loc 1 2708 10 is_stmt 0 view .LVU526
 1846 000a FFF7FEFF 		bl	get_socket
 1847              	.LVL171:
2709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 1848              		.loc 1 2709 3 is_stmt 1 view .LVU527
2709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 1849              		.loc 1 2709 6 is_stmt 0 view .LVU528
 1850 000e 70B3     		cbz	r0, .L152
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 1851              		.loc 1 2714 3 is_stmt 1 view .LVU529
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 1852              		.loc 1 2714 9 is_stmt 0 view .LVU530
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 92


 1853 0010 2B46     		mov	r3, r5
 1854 0012 0DF10202 		add	r2, sp, #2
 1855 0016 01A9     		add	r1, sp, #4
 1856 0018 0068     		ldr	r0, [r0]
 1857              	.LVL172:
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 1858              		.loc 1 2714 9 view .LVU531
 1859 001a FFF7FEFF 		bl	netconn_getaddr
 1860              	.LVL173:
2715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 1861              		.loc 1 2715 3 is_stmt 1 view .LVU532
2715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 1862              		.loc 1 2715 6 is_stmt 0 view .LVU533
 1863 001e F0B9     		cbnz	r0, .L154
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1864              		.loc 1 2730 3 is_stmt 1 view .LVU534
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1865              		.loc 1 2730 3 view .LVU535
 1866 0020 1023     		movs	r3, #16
 1867 0022 8DF80830 		strb	r3, [sp, #8]
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1868              		.loc 1 2730 3 view .LVU536
 1869 0026 0223     		movs	r3, #2
 1870 0028 8DF80930 		strb	r3, [sp, #9]
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1871              		.loc 1 2730 3 view .LVU537
 1872 002c BDF80200 		ldrh	r0, [sp, #2]
 1873              	.LVL174:
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1874              		.loc 1 2730 3 is_stmt 0 view .LVU538
 1875 0030 FFF7FEFF 		bl	lwip_htons
 1876              	.LVL175:
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1877              		.loc 1 2730 3 discriminator 1 view .LVU539
 1878 0034 ADF80A00 		strh	r0, [sp, #10]	@ movhi
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1879              		.loc 1 2730 3 is_stmt 1 discriminator 1 view .LVU540
 1880 0038 019B     		ldr	r3, [sp, #4]
 1881 003a 0393     		str	r3, [sp, #12]
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1882              		.loc 1 2730 3 discriminator 1 view .LVU541
 1883 003c 0023     		movs	r3, #0
 1884 003e 0493     		str	r3, [sp, #16]
 1885 0040 0593     		str	r3, [sp, #20]
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1886              		.loc 1 2730 3 discriminator 2 view .LVU542
2732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 1887              		.loc 1 2732 64 view .LVU543
2733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", port));
 1888              		.loc 1 2733 48 view .LVU544
2734:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1889              		.loc 1 2734 58 view .LVU545
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1890              		.loc 1 2736 3 view .LVU546
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1891              		.loc 1 2736 7 is_stmt 0 view .LVU547
 1892 0042 2268     		ldr	r2, [r4]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 93


2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1893              		.loc 1 2736 26 view .LVU548
 1894 0044 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1895              		.loc 1 2736 6 view .LVU549
 1896 0048 9A42     		cmp	r2, r3
 1897 004a 00D9     		bls	.L151
2737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1898              		.loc 1 2737 5 is_stmt 1 view .LVU550
2737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1899              		.loc 1 2737 14 is_stmt 0 view .LVU551
 1900 004c 2360     		str	r3, [r4]
 1901              	.L151:
2739:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1902              		.loc 1 2739 3 is_stmt 1 view .LVU552
 1903 004e 2268     		ldr	r2, [r4]
 1904 0050 02A9     		add	r1, sp, #8
 1905 0052 3046     		mov	r0, r6
 1906 0054 FFF7FEFF 		bl	memcpy
 1907              	.LVL176:
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1908              		.loc 1 2741 3 view .LVU553
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1909              		.loc 1 2741 3 view .LVU554
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1910              		.loc 1 2741 3 view .LVU555
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1911              		.loc 1 2741 3 view .LVU556
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1912              		.loc 1 2741 3 discriminator 3 view .LVU557
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1913              		.loc 1 2741 3 discriminator 3 view .LVU558
2742:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 1914              		.loc 1 2742 20 view .LVU559
2743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1915              		.loc 1 2743 3 view .LVU560
2743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1916              		.loc 1 2743 10 is_stmt 0 view .LVU561
 1917 0058 0020     		movs	r0, #0
 1918              	.LVL177:
 1919              	.L147:
2744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1920              		.loc 1 2744 1 view .LVU562
 1921 005a 06B0     		add	sp, sp, #24
 1922              	.LCFI28:
 1923              		.cfi_remember_state
 1924              		.cfi_def_cfa_offset 16
 1925              		@ sp needed
 1926 005c 70BD     		pop	{r4, r5, r6, pc}
 1927              	.LVL178:
 1928              	.L154:
 1929              	.LCFI29:
 1930              		.cfi_restore_state
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1931              		.loc 1 2716 5 is_stmt 1 view .LVU563
 1932              	.LBB15:
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 94


 1933              		.loc 1 2716 5 view .LVU564
 1934 005e FFF7FEFF 		bl	err_to_errno
 1935              	.LVL179:
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1936              		.loc 1 2716 5 discriminator 1 view .LVU565
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1937              		.loc 1 2716 5 discriminator 1 view .LVU566
 1938 0062 08B1     		cbz	r0, .L150
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1939              		.loc 1 2716 5 discriminator 1 view .LVU567
 1940 0064 034A     		ldr	r2, .L155
 1941 0066 1060     		str	r0, [r2]
 1942              	.L150:
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1943              		.loc 1 2716 5 discriminator 3 view .LVU568
 1944              	.LBE15:
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1945              		.loc 1 2716 5 discriminator 3 view .LVU569
2717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 1946              		.loc 1 2717 22 view .LVU570
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1947              		.loc 1 2718 5 view .LVU571
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1948              		.loc 1 2718 12 is_stmt 0 view .LVU572
 1949 0068 4FF0FF30 		mov	r0, #-1
 1950              	.LVL180:
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1951              		.loc 1 2718 12 view .LVU573
 1952 006c F5E7     		b	.L147
 1953              	.LVL181:
 1954              	.L152:
2710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1955              		.loc 1 2710 12 view .LVU574
 1956 006e 4FF0FF30 		mov	r0, #-1
 1957              	.LVL182:
2710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1958              		.loc 1 2710 12 view .LVU575
 1959 0072 F2E7     		b	.L147
 1960              	.L156:
 1961              		.align	2
 1962              	.L155:
 1963 0074 00000000 		.word	errno
 1964              		.cfi_endproc
 1965              	.LFE406:
 1967              		.section	.text.free_socket_free_elements,"ax",%progbits
 1968              		.align	1
 1969              		.syntax unified
 1970              		.thumb
 1971              		.thumb_func
 1973              	free_socket_free_elements:
 1974              	.LVL183:
 1975              	.LFB374:
 573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (lastdata->pbuf != NULL) {
 1976              		.loc 1 573 1 is_stmt 1 view -0
 1977              		.cfi_startproc
 1978              		@ args = 0, pretend = 0, frame = 0
 1979              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 95


 573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (lastdata->pbuf != NULL) {
 1980              		.loc 1 573 1 is_stmt 0 view .LVU577
 1981 0000 10B5     		push	{r4, lr}
 1982              	.LCFI30:
 1983              		.cfi_def_cfa_offset 8
 1984              		.cfi_offset 4, -8
 1985              		.cfi_offset 14, -4
 1986 0002 0346     		mov	r3, r0
 1987 0004 0C46     		mov	r4, r1
 574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 1988              		.loc 1 574 3 is_stmt 1 view .LVU578
 574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 1989              		.loc 1 574 15 is_stmt 0 view .LVU579
 1990 0006 1068     		ldr	r0, [r2]
 1991              	.LVL184:
 574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 1992              		.loc 1 574 6 view .LVU580
 1993 0008 10B1     		cbz	r0, .L158
 575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       pbuf_free(lastdata->pbuf);
 1994              		.loc 1 575 5 is_stmt 1 view .LVU581
 575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       pbuf_free(lastdata->pbuf);
 1995              		.loc 1 575 8 is_stmt 0 view .LVU582
 1996 000a 33B1     		cbz	r3, .L159
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 1997              		.loc 1 576 7 is_stmt 1 view .LVU583
 1998 000c FFF7FEFF 		bl	pbuf_free
 1999              	.LVL185:
 2000              	.L158:
 581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* netconn_prepare_delete() has already been called, here we only free the conn */
 2001              		.loc 1 581 3 view .LVU584
 581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* netconn_prepare_delete() has already been called, here we only free the conn */
 2002              		.loc 1 581 6 is_stmt 0 view .LVU585
 2003 0010 14B1     		cbz	r4, .L157
 583:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2004              		.loc 1 583 5 is_stmt 1 view .LVU586
 2005 0012 2046     		mov	r0, r4
 2006 0014 FFF7FEFF 		bl	netconn_delete
 2007              	.LVL186:
 2008              	.L157:
 585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2009              		.loc 1 585 1 is_stmt 0 view .LVU587
 2010 0018 10BD     		pop	{r4, pc}
 2011              	.LVL187:
 2012              	.L159:
 578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2013              		.loc 1 578 7 is_stmt 1 view .LVU588
 2014 001a FFF7FEFF 		bl	netbuf_delete
 2015              	.LVL188:
 578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2016              		.loc 1 578 7 is_stmt 0 view .LVU589
 2017 001e F7E7     		b	.L158
 2018              		.cfi_endproc
 2019              	.LFE374:
 2021              		.section	.text.free_socket,"ax",%progbits
 2022              		.align	1
 2023              		.syntax unified
 2024              		.thumb
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 96


 2025              		.thumb_func
 2027              	free_socket:
 2028              	.LVL189:
 2029              	.LFB375:
 595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int freed;
 2030              		.loc 1 595 1 is_stmt 1 view -0
 2031              		.cfi_startproc
 2032              		@ args = 0, pretend = 0, frame = 8
 2033              		@ frame_needed = 0, uses_anonymous_args = 0
 595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int freed;
 2034              		.loc 1 595 1 is_stmt 0 view .LVU591
 2035 0000 70B5     		push	{r4, r5, r6, lr}
 2036              	.LCFI31:
 2037              		.cfi_def_cfa_offset 16
 2038              		.cfi_offset 4, -16
 2039              		.cfi_offset 5, -12
 2040              		.cfi_offset 6, -8
 2041              		.cfi_offset 14, -4
 2042 0002 82B0     		sub	sp, sp, #8
 2043              	.LCFI32:
 2044              		.cfi_def_cfa_offset 24
 2045 0004 0546     		mov	r5, r0
 2046 0006 0C46     		mov	r4, r1
 596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 2047              		.loc 1 596 3 is_stmt 1 view .LVU592
 597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union lwip_sock_lastdata lastdata;
 2048              		.loc 1 597 3 view .LVU593
 598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 2049              		.loc 1 598 3 view .LVU594
 599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2050              		.loc 1 599 3 view .LVU595
 602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2051              		.loc 1 602 3 view .LVU596
 2052 0008 FFF7FEFF 		bl	sys_arch_protect
 2053              	.LVL190:
 602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2054              		.loc 1 602 3 is_stmt 0 view .LVU597
 2055 000c 0646     		mov	r6, r0
 2056              	.LVL191:
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2057              		.loc 1 604 3 is_stmt 1 view .LVU598
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2058              		.loc 1 604 11 is_stmt 0 view .LVU599
 2059 000e 6B46     		mov	r3, sp
 2060 0010 01AA     		add	r2, sp, #4
 2061 0012 2146     		mov	r1, r4
 2062 0014 2846     		mov	r0, r5
 2063              	.LVL192:
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2064              		.loc 1 604 11 view .LVU600
 2065 0016 FFF7FEFF 		bl	free_socket_locked
 2066              	.LVL193:
 2067 001a 0546     		mov	r5, r0
 2068              	.LVL194:
 605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 2069              		.loc 1 605 3 is_stmt 1 view .LVU601
 2070 001c 3046     		mov	r0, r6
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 97


 2071              	.LVL195:
 605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 2072              		.loc 1 605 3 is_stmt 0 view .LVU602
 2073 001e FFF7FEFF 		bl	sys_arch_unprotect
 2074              	.LVL196:
 608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 2075              		.loc 1 608 3 is_stmt 1 view .LVU603
 608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 2076              		.loc 1 608 6 is_stmt 0 view .LVU604
 2077 0022 0DB9     		cbnz	r5, .L165
 2078              	.L162:
 611:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2079              		.loc 1 611 1 view .LVU605
 2080 0024 02B0     		add	sp, sp, #8
 2081              	.LCFI33:
 2082              		.cfi_remember_state
 2083              		.cfi_def_cfa_offset 16
 2084              		@ sp needed
 2085 0026 70BD     		pop	{r4, r5, r6, pc}
 2086              	.LVL197:
 2087              	.L165:
 2088              	.LCFI34:
 2089              		.cfi_restore_state
 609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2090              		.loc 1 609 5 is_stmt 1 view .LVU606
 2091 0028 6A46     		mov	r2, sp
 2092 002a 0199     		ldr	r1, [sp, #4]
 2093 002c 2046     		mov	r0, r4
 2094 002e FFF7FEFF 		bl	free_socket_free_elements
 2095              	.LVL198:
 611:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2096              		.loc 1 611 1 is_stmt 0 view .LVU607
 2097 0032 F7E7     		b	.L162
 2098              		.cfi_endproc
 2099              	.LFE375:
 2101              		.section	.rodata.lwip_recv_tcp.str1.4,"aMS",%progbits,1
 2102              		.align	2
 2103              	.LC11:
 2104 0000 6E6F2073 		.ascii	"no socket given\000"
 2104      6F636B65 
 2104      74206769 
 2104      76656E00 
 2105              		.align	2
 2106              	.LC12:
 2107 0010 74686973 		.ascii	"this should be checked internally\000"
 2107      2073686F 
 2107      756C6420 
 2107      62652063 
 2107      6865636B 
 2108 0032 0000     		.align	2
 2109              	.LC13:
 2110 0034 7020213D 		.ascii	"p != NULL\000"
 2110      204E554C 
 2110      4C00
 2111 003e 0000     		.align	2
 2112              	.LC14:
 2113 0040 696E7661 		.ascii	"invalid copylen, len would underflow\000"
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 98


 2113      6C696420 
 2113      636F7079 
 2113      6C656E2C 
 2113      206C656E 
 2114 0065 000000   		.align	2
 2115              	.LC15:
 2116 0068 696E7661 		.ascii	"invalid copylen\000"
 2116      6C696420 
 2116      636F7079 
 2116      6C656E00 
 2117              		.section	.text.lwip_recv_tcp,"ax",%progbits
 2118              		.align	1
 2119              		.syntax unified
 2120              		.thumb
 2121              		.thumb_func
 2123              	lwip_recv_tcp:
 2124              	.LVL199:
 2125              	.LFB381:
 921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags = NETCONN_NOAUTORCVD;
 2126              		.loc 1 921 1 is_stmt 1 view -0
 2127              		.cfi_startproc
 2128              		@ args = 0, pretend = 0, frame = 16
 2129              		@ frame_needed = 0, uses_anonymous_args = 0
 921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags = NETCONN_NOAUTORCVD;
 2130              		.loc 1 921 1 is_stmt 0 view .LVU609
 2131 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2132              	.LCFI35:
 2133              		.cfi_def_cfa_offset 36
 2134              		.cfi_offset 4, -36
 2135              		.cfi_offset 5, -32
 2136              		.cfi_offset 6, -28
 2137              		.cfi_offset 7, -24
 2138              		.cfi_offset 8, -20
 2139              		.cfi_offset 9, -16
 2140              		.cfi_offset 10, -12
 2141              		.cfi_offset 11, -8
 2142              		.cfi_offset 14, -4
 2143 0004 85B0     		sub	sp, sp, #20
 2144              	.LCFI36:
 2145              		.cfi_def_cfa_offset 56
 2146 0006 8146     		mov	r9, r0
 2147 0008 0191     		str	r1, [sp, #4]
 2148 000a 9846     		mov	r8, r3
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recvd = 0;
 2149              		.loc 1 922 3 is_stmt 1 view .LVU610
 2150              	.LVL200:
 923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recv_left = (len <= SSIZE_MAX) ? (ssize_t)len : SSIZE_MAX;
 2151              		.loc 1 923 3 view .LVU611
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2152              		.loc 1 924 3 view .LVU612
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2153              		.loc 1 924 28 is_stmt 0 view .LVU613
 2154 000c 1546     		mov	r5, r2
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2155              		.loc 1 924 57 view .LVU614
 2156 000e 002A     		cmp	r2, #0
 2157 0010 10DB     		blt	.L191
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 99


 2158              	.L167:
 2159              	.LVL201:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2160              		.loc 1 926 3 is_stmt 1 view .LVU615
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2161              		.loc 1 926 3 view .LVU616
 2162 0012 B9F1000F 		cmp	r9, #0
 2163 0016 10D0     		beq	.L192
 2164              	.LVL202:
 2165              	.L168:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2166              		.loc 1 926 3 discriminator 3 view .LVU617
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2167              		.loc 1 926 3 discriminator 3 view .LVU618
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2168              		.loc 1 927 3 view .LVU619
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2169              		.loc 1 927 3 view .LVU620
 2170 0018 D9F80030 		ldr	r3, [r9]
 2171 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2172 001e 03F0F003 		and	r3, r3, #240
 2173 0022 102B     		cmp	r3, #16
 2174 0024 11D1     		bne	.L193
 2175              	.L169:
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2176              		.loc 1 927 3 discriminator 3 view .LVU621
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2177              		.loc 1 927 3 discriminator 3 view .LVU622
 929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK;
 2178              		.loc 1 929 3 view .LVU623
 929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK;
 2179              		.loc 1 929 6 is_stmt 0 view .LVU624
 2180 0026 18F0080F 		tst	r8, #8
 2181 002a 16D1     		bne	.L189
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recvd = 0;
 2182              		.loc 1 922 8 view .LVU625
 2183 002c 4FF0080A 		mov	r10, #8
 2184              	.L170:
 2185              	.LVL203:
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recvd = 0;
 2186              		.loc 1 922 8 view .LVU626
 2187 0030 0026     		movs	r6, #0
 2188 0032 54E0     		b	.L188
 2189              	.LVL204:
 2190              	.L191:
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2191              		.loc 1 924 57 discriminator 2 view .LVU627
 2192 0034 6FF00045 		mvn	r5, #-2147483648
 2193 0038 EBE7     		b	.L167
 2194              	.LVL205:
 2195              	.L192:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2196              		.loc 1 926 3 is_stmt 1 discriminator 1 view .LVU628
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2197              		.loc 1 926 3 discriminator 1 view .LVU629
 2198 003a 454B     		ldr	r3, .L199
 2199              	.LVL206:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 100


 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2200              		.loc 1 926 3 is_stmt 0 discriminator 1 view .LVU630
 2201 003c 40F29E32 		movw	r2, #926
 2202              	.LVL207:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2203              		.loc 1 926 3 discriminator 1 view .LVU631
 2204 0040 4449     		ldr	r1, .L199+4
 2205              	.LVL208:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2206              		.loc 1 926 3 discriminator 1 view .LVU632
 2207 0042 4548     		ldr	r0, .L199+8
 2208              	.LVL209:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2209              		.loc 1 926 3 discriminator 1 view .LVU633
 2210 0044 FFF7FEFF 		bl	printf
 2211              	.LVL210:
 2212 0048 E6E7     		b	.L168
 2213              	.L193:
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2214              		.loc 1 927 3 is_stmt 1 discriminator 1 view .LVU634
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2215              		.loc 1 927 3 discriminator 1 view .LVU635
 2216 004a 414B     		ldr	r3, .L199
 2217 004c 40F29F32 		movw	r2, #927
 2218 0050 4249     		ldr	r1, .L199+12
 2219 0052 4148     		ldr	r0, .L199+8
 2220 0054 FFF7FEFF 		bl	printf
 2221              	.LVL211:
 2222 0058 E5E7     		b	.L169
 2223              	.L189:
 930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2224              		.loc 1 930 14 is_stmt 0 view .LVU636
 2225 005a 4FF00C0A 		mov	r10, #12
 2226 005e E7E7     		b	.L170
 2227              	.LVL212:
 2228              	.L171:
 2229              	.LBB16:
 945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: netconn_recv err=%d, pbuf=%p\n",
 2230              		.loc 1 945 7 is_stmt 1 view .LVU637
 945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: netconn_recv err=%d, pbuf=%p\n",
 2231              		.loc 1 945 13 is_stmt 0 view .LVU638
 2232 0060 5246     		mov	r2, r10
 2233 0062 03A9     		add	r1, sp, #12
 2234 0064 D9F80000 		ldr	r0, [r9]
 2235 0068 FFF7FEFF 		bl	netconn_recv_tcp_pbuf_flags
 2236              	.LVL213:
 947:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2237              		.loc 1 947 51 is_stmt 1 view .LVU639
 949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (recvd > 0) {
 2238              		.loc 1 949 7 view .LVU640
 949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (recvd > 0) {
 2239              		.loc 1 949 10 is_stmt 0 view .LVU641
 2240 006c 0446     		mov	r4, r0
 2241 006e 28B9     		cbnz	r0, .L194
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2242              		.loc 1 965 7 is_stmt 1 view .LVU642
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 101


 2243              		.loc 1 965 7 view .LVU643
 2244 0070 039B     		ldr	r3, [sp, #12]
 2245 0072 83B1     		cbz	r3, .L195
 2246              	.LVL214:
 2247              	.L179:
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2248              		.loc 1 965 7 discriminator 3 view .LVU644
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2249              		.loc 1 965 7 discriminator 3 view .LVU645
 966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2250              		.loc 1 966 7 view .LVU646
 966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2251              		.loc 1 966 27 is_stmt 0 view .LVU647
 2252 0074 039B     		ldr	r3, [sp, #12]
 2253 0076 C9F80430 		str	r3, [r9, #4]
 2254 007a 35E0     		b	.L172
 2255              	.LVL215:
 2256              	.L194:
 950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 2257              		.loc 1 950 9 is_stmt 1 view .LVU648
 950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 2258              		.loc 1 950 12 is_stmt 0 view .LVU649
 2259 007c 002E     		cmp	r6, #0
 2260 007e 59DC     		bgt	.L175
 957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, err_to_errno(err));
 2261              		.loc 1 957 55 is_stmt 1 view .LVU650
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2262              		.loc 1 958 9 view .LVU651
 2263              	.LBB17:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2264              		.loc 1 958 9 view .LVU652
 2265 0080 FFF7FEFF 		bl	err_to_errno
 2266              	.LVL216:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2267              		.loc 1 958 9 discriminator 1 view .LVU653
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2268              		.loc 1 958 9 discriminator 1 view .LVU654
 2269 0084 08B1     		cbz	r0, .L176
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2270              		.loc 1 958 9 discriminator 1 view .LVU655
 2271 0086 364A     		ldr	r2, .L199+16
 2272 0088 1060     		str	r0, [r2]
 2273              	.L176:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2274              		.loc 1 958 9 discriminator 3 view .LVU656
 2275              	.LBE17:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2276              		.loc 1 958 9 discriminator 3 view .LVU657
 959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return 0;
 2277              		.loc 1 959 9 view .LVU658
 959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return 0;
 2278              		.loc 1 959 12 is_stmt 0 view .LVU659
 2279 008a 14F10F0F 		cmn	r4, #15
 2280 008e 4DD0     		beq	.L177
 962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 2281              		.loc 1 962 18 view .LVU660
 2282 0090 4FF0FF36 		mov	r6, #-1
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 102


 2283              	.LVL217:
 962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 2284              		.loc 1 962 18 view .LVU661
 2285 0094 51E0     		b	.L166
 2286              	.LVL218:
 2287              	.L195:
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2288              		.loc 1 965 7 is_stmt 1 discriminator 1 view .LVU662
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2289              		.loc 1 965 7 discriminator 1 view .LVU663
 2290 0096 2E4B     		ldr	r3, .L199
 2291 0098 40F2C532 		movw	r2, #965
 2292 009c 3149     		ldr	r1, .L199+20
 2293 009e 2E48     		ldr	r0, .L199+8
 2294              	.LVL219:
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2295              		.loc 1 965 7 is_stmt 0 discriminator 1 view .LVU664
 2296 00a0 FFF7FEFF 		bl	printf
 2297              	.LVL220:
 2298 00a4 E6E7     		b	.L179
 2299              	.LVL221:
 2300              	.L196:
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2301              		.loc 1 989 5 is_stmt 1 discriminator 1 view .LVU665
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2302              		.loc 1 989 5 discriminator 1 view .LVU666
 2303 00a6 2A4B     		ldr	r3, .L199
 2304 00a8 40F2DD32 		movw	r2, #989
 2305 00ac 2E49     		ldr	r1, .L199+24
 2306 00ae 2A48     		ldr	r0, .L199+8
 2307 00b0 FFF7FEFF 		bl	printf
 2308              	.LVL222:
 2309 00b4 27E0     		b	.L181
 2310              	.L197:
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2311              		.loc 1 995 7 discriminator 1 view .LVU667
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2312              		.loc 1 995 7 discriminator 1 view .LVU668
 2313 00b6 264B     		ldr	r3, .L199
 2314 00b8 40F2E332 		movw	r2, #995
 2315 00bc 2B49     		ldr	r1, .L199+28
 2316 00be 2648     		ldr	r0, .L199+8
 2317 00c0 FFF7FEFF 		bl	printf
 2318              	.LVL223:
 2319 00c4 27E0     		b	.L183
 2320              	.L184:
1002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: deleting pbuf=%p\n", (void *)p));
 2321              		.loc 1 1002 9 view .LVU669
1002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: deleting pbuf=%p\n", (void *)p));
 2322              		.loc 1 1002 29 is_stmt 0 view .LVU670
 2323 00c6 0023     		movs	r3, #0
 2324 00c8 C9F80430 		str	r3, [r9, #4]
1003:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         pbuf_free(p);
 2325              		.loc 1 1003 85 is_stmt 1 view .LVU671
1004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2326              		.loc 1 1004 9 view .LVU672
 2327 00cc FFF7FEFF 		bl	pbuf_free
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 103


 2328              	.LVL224:
 2329              	.L182:
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
 2330              		.loc 1 1008 5 view .LVU673
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
 2331              		.loc 1 1008 14 is_stmt 0 view .LVU674
 2332 00d0 4AF0140A 		orr	r10, r10, #20
 2333              	.LVL225:
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
 2334              		.loc 1 1008 14 view .LVU675
 2335              	.LBE16:
1010:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_done:
 2336              		.loc 1 1010 28 is_stmt 1 view .LVU676
 2337 00d4 002D     		cmp	r5, #0
 2338 00d6 2BDD     		ble	.L186
1010:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_done:
 2339              		.loc 1 1010 28 is_stmt 0 discriminator 1 view .LVU677
 2340 00d8 BBF1000F 		cmp	fp, #0
 2341 00dc 28D1     		bne	.L186
 2342              	.LVL226:
 2343              	.L188:
 933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct pbuf *p;
 2344              		.loc 1 933 3 is_stmt 1 view .LVU678
 2345              	.LBB18:
 934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 2346              		.loc 1 934 5 view .LVU679
 935:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t copylen;
 2347              		.loc 1 935 5 view .LVU680
 936:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2348              		.loc 1 936 5 view .LVU681
 938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check if there is data left from the last recv operation. */
 2349              		.loc 1 938 110 view .LVU682
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = sock->lastdata.pbuf;
 2350              		.loc 1 940 5 view .LVU683
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = sock->lastdata.pbuf;
 2351              		.loc 1 940 23 is_stmt 0 view .LVU684
 2352 00de D9F80430 		ldr	r3, [r9, #4]
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = sock->lastdata.pbuf;
 2353              		.loc 1 940 8 view .LVU685
 2354 00e2 002B     		cmp	r3, #0
 2355 00e4 BCD0     		beq	.L171
 941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 2356              		.loc 1 941 7 is_stmt 1 view .LVU686
 941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 2357              		.loc 1 941 9 is_stmt 0 view .LVU687
 2358 00e6 0393     		str	r3, [sp, #12]
 2359              	.L172:
 970:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2360              		.loc 1 970 73 is_stmt 1 view .LVU688
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = p->tot_len;
 2361              		.loc 1 972 5 view .LVU689
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = p->tot_len;
 2362              		.loc 1 972 22 is_stmt 0 view .LVU690
 2363 00e8 0398     		ldr	r0, [sp, #12]
 2364 00ea 0489     		ldrh	r4, [r0, #8]
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = p->tot_len;
 2365              		.loc 1 972 8 view .LVU691
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 104


 2366 00ec AC42     		cmp	r4, r5
 2367 00ee 00DB     		blt	.L180
 975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2368              		.loc 1 975 7 is_stmt 1 view .LVU692
 975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2369              		.loc 1 975 15 is_stmt 0 view .LVU693
 2370 00f0 ACB2     		uxth	r4, r5
 2371              	.LVL227:
 2372              	.L180:
 977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* overflow */
 2373              		.loc 1 977 5 is_stmt 1 view .LVU694
 977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* overflow */
 2374              		.loc 1 977 15 is_stmt 0 view .LVU695
 2375 00f2 2746     		mov	r7, r4
 984:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2376              		.loc 1 984 5 is_stmt 1 view .LVU696
 2377 00f4 0023     		movs	r3, #0
 2378 00f6 2246     		mov	r2, r4
 2379 00f8 0199     		ldr	r1, [sp, #4]
 2380 00fa 3144     		add	r1, r1, r6
 2381 00fc FFF7FEFF 		bl	pbuf_copy_partial
 2382              	.LVL228:
 986:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2383              		.loc 1 986 5 view .LVU697
 986:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2384              		.loc 1 986 11 is_stmt 0 view .LVU698
 2385 0100 2644     		add	r6, r6, r4
 2386              	.LVL229:
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2387              		.loc 1 989 5 is_stmt 1 view .LVU699
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2388              		.loc 1 989 5 view .LVU700
 2389 0102 AC42     		cmp	r4, r5
 2390 0104 CFDC     		bgt	.L196
 2391              	.L181:
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2392              		.loc 1 989 5 discriminator 3 view .LVU701
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2393              		.loc 1 989 5 discriminator 3 view .LVU702
 990:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2394              		.loc 1 990 5 view .LVU703
 990:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2395              		.loc 1 990 15 is_stmt 0 view .LVU704
 2396 0106 ED1B     		subs	r5, r5, r7
 2397              	.LVL230:
 993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... check if there is data left in the pbuf */
 2398              		.loc 1 993 5 is_stmt 1 view .LVU705
 993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... check if there is data left in the pbuf */
 2399              		.loc 1 993 8 is_stmt 0 view .LVU706
 2400 0108 18F0010B 		ands	fp, r8, #1
 2401 010c E0D1     		bne	.L182
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2402              		.loc 1 995 7 is_stmt 1 view .LVU707
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2403              		.loc 1 995 7 view .LVU708
 2404 010e 039B     		ldr	r3, [sp, #12]
 2405 0110 1B89     		ldrh	r3, [r3, #8]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 105


 2406 0112 A342     		cmp	r3, r4
 2407 0114 CFD3     		bcc	.L197
 2408              	.L183:
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2409              		.loc 1 995 7 discriminator 3 view .LVU709
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2410              		.loc 1 995 7 discriminator 3 view .LVU710
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2411              		.loc 1 996 7 view .LVU711
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2412              		.loc 1 996 12 is_stmt 0 view .LVU712
 2413 0116 0398     		ldr	r0, [sp, #12]
 2414 0118 0389     		ldrh	r3, [r0, #8]
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2415              		.loc 1 996 22 view .LVU713
 2416 011a DB1B     		subs	r3, r3, r7
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2417              		.loc 1 996 10 view .LVU714
 2418 011c 002B     		cmp	r3, #0
 2419 011e D2DD     		ble	.L184
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
 2420              		.loc 1 999 9 is_stmt 1 view .LVU715
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
 2421              		.loc 1 999 31 is_stmt 0 view .LVU716
 2422 0120 2146     		mov	r1, r4
 2423 0122 FFF7FEFF 		bl	pbuf_free_header
 2424              	.LVL231:
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
 2425              		.loc 1 999 29 discriminator 1 view .LVU717
 2426 0126 C9F80400 		str	r0, [r9, #4]
1000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 2427              		.loc 1 1000 107 is_stmt 1 view .LVU718
 2428 012a D1E7     		b	.L182
 2429              	.LVL232:
 2430              	.L177:
 960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 2431              		.loc 1 960 18 is_stmt 0 view .LVU719
 2432 012c 0026     		movs	r6, #0
 2433              	.LVL233:
 960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 2434              		.loc 1 960 18 view .LVU720
 2435 012e 04E0     		b	.L166
 2436              	.LVL234:
 2437              	.L186:
 960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 2438              		.loc 1 960 18 view .LVU721
 2439              	.LBE18:
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* ensure window update after copying all data */
 2440              		.loc 1 1012 3 is_stmt 1 view .LVU722
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* ensure window update after copying all data */
 2441              		.loc 1 1012 6 is_stmt 0 view .LVU723
 2442 0130 002E     		cmp	r6, #0
 2443 0132 02DD     		ble	.L166
 2444              	.LVL235:
 2445              	.L175:
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* ensure window update after copying all data */
 2446              		.loc 1 1012 19 discriminator 1 view .LVU724
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 106


 2447 0134 18F0010F 		tst	r8, #1
 2448 0138 03D0     		beq	.L198
 2449              	.LVL236:
 2450              	.L166:
1018:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 2451              		.loc 1 1018 1 view .LVU725
 2452 013a 3046     		mov	r0, r6
 2453 013c 05B0     		add	sp, sp, #20
 2454              	.LCFI37:
 2455              		.cfi_remember_state
 2456              		.cfi_def_cfa_offset 36
 2457              		@ sp needed
 2458 013e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2459              	.LVL237:
 2460              	.L198:
 2461              	.LCFI38:
 2462              		.cfi_restore_state
1014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2463              		.loc 1 1014 5 is_stmt 1 view .LVU726
 2464 0142 3146     		mov	r1, r6
 2465 0144 D9F80000 		ldr	r0, [r9]
 2466 0148 FFF7FEFF 		bl	netconn_tcp_recvd
 2467              	.LVL238:
 2468 014c F5E7     		b	.L166
 2469              	.L200:
 2470 014e 00BF     		.align	2
 2471              	.L199:
 2472 0150 00000000 		.word	.LC0
 2473 0154 00000000 		.word	.LC11
 2474 0158 48000000 		.word	.LC2
 2475 015c 10000000 		.word	.LC12
 2476 0160 00000000 		.word	errno
 2477 0164 34000000 		.word	.LC13
 2478 0168 40000000 		.word	.LC14
 2479 016c 68000000 		.word	.LC15
 2480              		.cfi_endproc
 2481              	.LFE381:
 2483              		.section	.rodata.lwip_recvfrom_udp_raw.str1.4,"aMS",%progbits,1
 2484              		.align	2
 2485              	.LC16:
 2486 0000 6C776970 		.ascii	"lwip_recvfrom_udp_raw: invalid arguments\000"
 2486      5F726563 
 2486      7666726F 
 2486      6D5F7564 
 2486      705F7261 
 2487 0029 000000   		.align	2
 2488              	.LC17:
 2489 002c 62756620 		.ascii	"buf != NULL\000"
 2489      213D204E 
 2489      554C4C00 
 2490              		.section	.text.lwip_recvfrom_udp_raw,"ax",%progbits
 2491              		.align	1
 2492              		.syntax unified
 2493              		.thumb
 2494              		.thumb_func
 2496              	lwip_recvfrom_udp_raw:
 2497              	.LVL239:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 107


 2498              	.LFB384:
1089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf *buf;
 2499              		.loc 1 1089 1 view -0
 2500              		.cfi_startproc
 2501              		@ args = 4, pretend = 0, frame = 8
 2502              		@ frame_needed = 0, uses_anonymous_args = 0
1089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf *buf;
 2503              		.loc 1 1089 1 is_stmt 0 view .LVU728
 2504 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2505              	.LCFI39:
 2506              		.cfi_def_cfa_offset 36
 2507              		.cfi_offset 4, -36
 2508              		.cfi_offset 5, -32
 2509              		.cfi_offset 6, -28
 2510              		.cfi_offset 7, -24
 2511              		.cfi_offset 8, -20
 2512              		.cfi_offset 9, -16
 2513              		.cfi_offset 10, -12
 2514              		.cfi_offset 11, -8
 2515              		.cfi_offset 14, -4
 2516 0004 85B0     		sub	sp, sp, #20
 2517              	.LCFI40:
 2518              		.cfi_def_cfa_offset 56
 2519 0006 8146     		mov	r9, r0
 2520 0008 8846     		mov	r8, r1
 2521 000a 1646     		mov	r6, r2
 2522 000c 9A46     		mov	r10, r3
1090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags;
 2523              		.loc 1 1090 3 is_stmt 1 view .LVU729
1091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 2524              		.loc 1 1091 3 view .LVU730
1092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t buflen, copylen, copied;
 2525              		.loc 1 1092 3 view .LVU731
1093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 2526              		.loc 1 1093 3 view .LVU732
1094:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2527              		.loc 1 1094 3 view .LVU733
1096:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvfrom_udp_raw: invalid arguments", (msg->msg_iov != NULL) || (msg->msg_iovlen
 2528              		.loc 1 1096 3 view .LVU734
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2529              		.loc 1 1097 3 view .LVU735
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2530              		.loc 1 1097 3 view .LVU736
 2531 000e 9368     		ldr	r3, [r2, #8]
 2532              	.LVL240:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2533              		.loc 1 1097 3 is_stmt 0 view .LVU737
 2534 0010 6BB1     		cbz	r3, .L217
 2535              	.L202:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2536              		.loc 1 1097 3 is_stmt 1 discriminator 4 view .LVU738
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2537              		.loc 1 1097 3 discriminator 4 view .LVU739
1099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags = NETCONN_DONTBLOCK;
 2538              		.loc 1 1099 3 view .LVU740
1099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags = NETCONN_DONTBLOCK;
 2539              		.loc 1 1099 6 is_stmt 0 view .LVU741
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 108


 2540 0012 18F0080F 		tst	r8, #8
 2541 0016 17D0     		beq	.L214
1100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 2542              		.loc 1 1100 14 view .LVU742
 2543 0018 0422     		movs	r2, #4
 2544              	.LVL241:
 2545              	.L204:
1105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Check if there is data left from the last recv operation. */
 2546              		.loc 1 1105 121 is_stmt 1 view .LVU743
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (buf == NULL) {
 2547              		.loc 1 1107 3 view .LVU744
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (buf == NULL) {
 2548              		.loc 1 1107 23 is_stmt 0 view .LVU745
 2549 001a D9F80430 		ldr	r3, [r9, #4]
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (buf == NULL) {
 2550              		.loc 1 1107 7 view .LVU746
 2551 001e 0393     		str	r3, [sp, #12]
1108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* No data was left from the previous operation, so we try to get
 2552              		.loc 1 1108 3 is_stmt 1 view .LVU747
1108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* No data was left from the previous operation, so we try to get
 2553              		.loc 1 1108 6 is_stmt 0 view .LVU748
 2554 0020 A3B1     		cbz	r3, .L218
 2555              	.LVL242:
 2556              	.L205:
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
 2557              		.loc 1 1121 3 is_stmt 1 view .LVU749
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
 2558              		.loc 1 1121 15 is_stmt 0 view .LVU750
 2559 0022 039B     		ldr	r3, [sp, #12]
 2560 0024 1B68     		ldr	r3, [r3]
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
 2561              		.loc 1 1121 10 view .LVU751
 2562 0026 1F89     		ldrh	r7, [r3, #8]
 2563              	.LVL243:
1122:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2564              		.loc 1 1122 83 is_stmt 1 view .LVU752
1124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy the pbuf payload into the iovs */
 2565              		.loc 1 1124 3 view .LVU753
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2566              		.loc 1 1126 3 view .LVU754
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2567              		.loc 1 1126 10 is_stmt 0 view .LVU755
 2568 0028 0025     		movs	r5, #0
1124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy the pbuf payload into the iovs */
 2569              		.loc 1 1124 10 view .LVU756
 2570 002a AB46     		mov	fp, r5
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2571              		.loc 1 1126 3 view .LVU757
 2572 002c 2EE0     		b	.L207
 2573              	.LVL244:
 2574              	.L217:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2575              		.loc 1 1097 3 discriminator 1 view .LVU758
 2576 002e D368     		ldr	r3, [r2, #12]
 2577 0030 002B     		cmp	r3, #0
 2578 0032 EEDD     		ble	.L202
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 109


 2579              		.loc 1 1097 3 is_stmt 1 discriminator 3 view .LVU759
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2580              		.loc 1 1097 3 discriminator 3 view .LVU760
 2581 0034 324B     		ldr	r3, .L222
 2582 0036 40F24942 		movw	r2, #1097
 2583              	.LVL245:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2584              		.loc 1 1097 3 is_stmt 0 discriminator 3 view .LVU761
 2585 003a 3249     		ldr	r1, .L222+4
 2586              	.LVL246:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2587              		.loc 1 1097 3 discriminator 3 view .LVU762
 2588 003c 3248     		ldr	r0, .L222+8
 2589              	.LVL247:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2590              		.loc 1 1097 3 discriminator 3 view .LVU763
 2591 003e FFF7FEFF 		bl	printf
 2592              	.LVL248:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2593              		.loc 1 1097 3 is_stmt 1 discriminator 1 view .LVU764
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2594              		.loc 1 1097 3 discriminator 1 view .LVU765
 2595 0042 6FF00F00 		mvn	r0, #15
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2596              		.loc 1 1097 3 is_stmt 0 view .LVU766
 2597 0046 45E0     		b	.L203
 2598              	.LVL249:
 2599              	.L214:
1102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2600              		.loc 1 1102 14 view .LVU767
 2601 0048 0022     		movs	r2, #0
 2602              	.LVL250:
1102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2603              		.loc 1 1102 14 view .LVU768
 2604 004a E6E7     		b	.L204
 2605              	.LVL251:
 2606              	.L218:
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2607              		.loc 1 1111 5 is_stmt 1 view .LVU769
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2608              		.loc 1 1111 11 is_stmt 0 view .LVU770
 2609 004c 03A9     		add	r1, sp, #12
 2610              	.LVL252:
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2611              		.loc 1 1111 11 view .LVU771
 2612 004e D9F80000 		ldr	r0, [r9]
 2613              	.LVL253:
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2614              		.loc 1 1111 11 view .LVU772
 2615 0052 FFF7FEFF 		bl	netconn_recv_udp_raw_netbuf_flags
 2616              	.LVL254:
1113:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2617              		.loc 1 1113 51 is_stmt 1 view .LVU773
1115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return err;
 2618              		.loc 1 1115 5 view .LVU774
1115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return err;
 2619              		.loc 1 1115 8 is_stmt 0 view .LVU775
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 110


 2620 0056 0028     		cmp	r0, #0
 2621 0058 3CD1     		bne	.L203
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2622              		.loc 1 1118 5 is_stmt 1 view .LVU776
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2623              		.loc 1 1118 5 view .LVU777
 2624 005a 039B     		ldr	r3, [sp, #12]
 2625 005c 1BB1     		cbz	r3, .L219
 2626              	.LVL255:
 2627              	.L206:
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2628              		.loc 1 1118 5 discriminator 3 view .LVU778
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2629              		.loc 1 1118 5 discriminator 3 view .LVU779
1119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2630              		.loc 1 1119 5 view .LVU780
1119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2631              		.loc 1 1119 27 is_stmt 0 view .LVU781
 2632 005e 039B     		ldr	r3, [sp, #12]
 2633 0060 C9F80430 		str	r3, [r9, #4]
 2634 0064 DDE7     		b	.L205
 2635              	.LVL256:
 2636              	.L219:
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2637              		.loc 1 1118 5 is_stmt 1 discriminator 1 view .LVU782
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2638              		.loc 1 1118 5 discriminator 1 view .LVU783
 2639 0066 264B     		ldr	r3, .L222
 2640 0068 40F25E42 		movw	r2, #1118
 2641 006c 2749     		ldr	r1, .L222+12
 2642 006e 2648     		ldr	r0, .L222+8
 2643              	.LVL257:
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2644              		.loc 1 1118 5 is_stmt 0 discriminator 1 view .LVU784
 2645 0070 FFF7FEFF 		bl	printf
 2646              	.LVL258:
 2647 0074 F3E7     		b	.L206
 2648              	.LVL259:
 2649              	.L208:
 2650              	.LBB19:
1136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     copied = (u16_t)(copied + copylen);
 2651              		.loc 1 1136 5 is_stmt 1 view .LVU785
 2652 0076 5B46     		mov	r3, fp
 2653 0078 2246     		mov	r2, r4
 2654 007a 0958     		ldr	r1, [r1, r0]
 2655 007c 0398     		ldr	r0, [sp, #12]
 2656 007e 0068     		ldr	r0, [r0]
 2657 0080 FFF7FEFF 		bl	pbuf_copy_partial
 2658              	.LVL260:
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2659              		.loc 1 1137 5 view .LVU786
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2660              		.loc 1 1137 12 is_stmt 0 view .LVU787
 2661 0084 5C44     		add	r4, r4, fp
 2662              	.LVL261:
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2663              		.loc 1 1137 12 view .LVU788
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 111


 2664 0086 1FFA84FB 		uxth	fp, r4
 2665              	.LVL262:
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2666              		.loc 1 1137 12 view .LVU789
 2667              	.LBE19:
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2668              		.loc 1 1126 60 is_stmt 1 discriminator 2 view .LVU790
 2669 008a 0135     		adds	r5, r5, #1
 2670              	.LVL263:
 2671              	.L207:
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2672              		.loc 1 1126 37 discriminator 1 view .LVU791
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2673              		.loc 1 1126 23 is_stmt 0 discriminator 1 view .LVU792
 2674 008c F368     		ldr	r3, [r6, #12]
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2675              		.loc 1 1126 37 discriminator 1 view .LVU793
 2676 008e AB42     		cmp	r3, r5
 2677 0090 0DDD     		ble	.L209
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2678              		.loc 1 1126 37 discriminator 3 view .LVU794
 2679 0092 BB45     		cmp	fp, r7
 2680 0094 0BD2     		bcs	.L209
 2681              	.LBB20:
1127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_iov[i].iov_len > len_left) {
 2682              		.loc 1 1127 5 is_stmt 1 view .LVU795
1127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_iov[i].iov_len > len_left) {
 2683              		.loc 1 1127 11 is_stmt 0 view .LVU796
 2684 0096 A7EB0B04 		sub	r4, r7, fp
 2685 009a A4B2     		uxth	r4, r4
 2686              	.LVL264:
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2687              		.loc 1 1128 5 is_stmt 1 view .LVU797
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2688              		.loc 1 1128 12 is_stmt 0 view .LVU798
 2689 009c B168     		ldr	r1, [r6, #8]
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2690              		.loc 1 1128 21 view .LVU799
 2691 009e E800     		lsls	r0, r5, #3
 2692 00a0 01EBC503 		add	r3, r1, r5, lsl #3
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2693              		.loc 1 1128 24 view .LVU800
 2694 00a4 5B68     		ldr	r3, [r3, #4]
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2695              		.loc 1 1128 8 view .LVU801
 2696 00a6 A342     		cmp	r3, r4
 2697 00a8 E5D8     		bhi	.L208
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2698              		.loc 1 1131 7 is_stmt 1 view .LVU802
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2699              		.loc 1 1131 15 is_stmt 0 view .LVU803
 2700 00aa 9CB2     		uxth	r4, r3
 2701              	.LVL265:
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2702              		.loc 1 1131 15 view .LVU804
 2703 00ac E3E7     		b	.L208
 2704              	.LVL266:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 112


 2705              	.L209:
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2706              		.loc 1 1131 15 view .LVU805
 2707              	.LBE20:
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2708              		.loc 1 1142 3 is_stmt 1 view .LVU806
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2709              		.loc 1 1142 10 is_stmt 0 view .LVU807
 2710 00ae 3368     		ldr	r3, [r6]
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2711              		.loc 1 1142 6 view .LVU808
 2712 00b0 0BB1     		cbz	r3, .L211
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2713              		.loc 1 1142 27 discriminator 1 view .LVU809
 2714 00b2 7268     		ldr	r2, [r6, #4]
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2715              		.loc 1 1142 21 discriminator 1 view .LVU810
 2716 00b4 8AB9     		cbnz	r2, .L220
 2717              	.L211:
1155:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2718              		.loc 1 1155 3 is_stmt 1 view .LVU811
1155:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2719              		.loc 1 1155 18 is_stmt 0 view .LVU812
 2720 00b6 0023     		movs	r3, #0
 2721 00b8 B361     		str	r3, [r6, #24]
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u8_t wrote_msg = 0;
 2722              		.loc 1 1157 3 is_stmt 1 view .LVU813
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u8_t wrote_msg = 0;
 2723              		.loc 1 1157 10 is_stmt 0 view .LVU814
 2724 00ba 3369     		ldr	r3, [r6, #16]
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u8_t wrote_msg = 0;
 2725              		.loc 1 1157 6 view .LVU815
 2726 00bc 0BB1     		cbz	r3, .L212
 2727              	.LBB21:
1158:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 2728              		.loc 1 1158 5 is_stmt 1 view .LVU816
 2729              	.LVL267:
1182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       msg->msg_controllen = 0;
 2730              		.loc 1 1182 5 view .LVU817
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2731              		.loc 1 1183 7 view .LVU818
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2732              		.loc 1 1183 27 is_stmt 0 view .LVU819
 2733 00be 0023     		movs	r3, #0
 2734 00c0 7361     		str	r3, [r6, #20]
 2735              	.LVL268:
 2736              	.L212:
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2737              		.loc 1 1183 27 view .LVU820
 2738              	.LBE21:
1188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = NULL;
 2739              		.loc 1 1188 3 is_stmt 1 view .LVU821
1188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = NULL;
 2740              		.loc 1 1188 6 is_stmt 0 view .LVU822
 2741 00c2 18F0010F 		tst	r8, #1
 2742 00c6 12D0     		beq	.L221
 2743              	.L213:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 113


1192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *datagram_len = buflen;
 2744              		.loc 1 1192 3 is_stmt 1 view .LVU823
1192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *datagram_len = buflen;
 2745              		.loc 1 1192 6 is_stmt 0 view .LVU824
 2746 00c8 BAF1000F 		cmp	r10, #0
 2747 00cc 16D0     		beq	.L215
1193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2748              		.loc 1 1193 5 is_stmt 1 view .LVU825
1193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2749              		.loc 1 1193 19 is_stmt 0 view .LVU826
 2750 00ce AAF80070 		strh	r7, [r10]	@ movhi
1195:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 2751              		.loc 1 1195 10 view .LVU827
 2752 00d2 0020     		movs	r0, #0
 2753              	.LVL269:
 2754              	.L203:
1196:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2755              		.loc 1 1196 1 view .LVU828
 2756 00d4 05B0     		add	sp, sp, #20
 2757              	.LCFI41:
 2758              		.cfi_remember_state
 2759              		.cfi_def_cfa_offset 36
 2760              		@ sp needed
 2761 00d6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2762              	.LVL270:
 2763              	.L220:
 2764              	.LCFI42:
 2765              		.cfi_restore_state
1145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, *netbuf_fromaddr(buf));
 2766              		.loc 1 1145 77 is_stmt 1 view .LVU829
1146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", netbuf_fromport(buf), copied));
 2767              		.loc 1 1146 66 view .LVU830
1147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name && msg->msg_namelen) {
 2768              		.loc 1 1147 90 view .LVU831
1148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_sock_make_addr(sock->conn, netbuf_fromaddr(buf), netbuf_fromport(buf),
 2769              		.loc 1 1148 5 view .LVU832
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
 2770              		.loc 1 1149 7 view .LVU833
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
 2771              		.loc 1 1149 39 is_stmt 0 view .LVU834
 2772 00da 0399     		ldr	r1, [sp, #12]
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
 2773              		.loc 1 1149 7 view .LVU835
 2774 00dc 8A89     		ldrh	r2, [r1, #12]
 2775 00de 301D     		adds	r0, r6, #4
 2776 00e0 0090     		str	r0, [sp]
 2777 00e2 0831     		adds	r1, r1, #8
 2778 00e4 D9F80000 		ldr	r0, [r9]
 2779 00e8 FFF7FEFF 		bl	lwip_sock_make_addr
 2780              	.LVL271:
 2781 00ec E3E7     		b	.L211
 2782              	.L221:
1189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_delete(buf);
 2783              		.loc 1 1189 5 is_stmt 1 view .LVU836
1189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_delete(buf);
 2784              		.loc 1 1189 27 is_stmt 0 view .LVU837
 2785 00ee 0023     		movs	r3, #0
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 114


 2786 00f0 C9F80430 		str	r3, [r9, #4]
1190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2787              		.loc 1 1190 5 is_stmt 1 view .LVU838
 2788 00f4 0398     		ldr	r0, [sp, #12]
 2789 00f6 FFF7FEFF 		bl	netbuf_delete
 2790              	.LVL272:
 2791 00fa E5E7     		b	.L213
 2792              	.L215:
1195:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 2793              		.loc 1 1195 10 is_stmt 0 view .LVU839
 2794 00fc 0020     		movs	r0, #0
 2795 00fe E9E7     		b	.L203
 2796              	.L223:
 2797              		.align	2
 2798              	.L222:
 2799 0100 00000000 		.word	.LC0
 2800 0104 00000000 		.word	.LC16
 2801 0108 48000000 		.word	.LC2
 2802 010c 2C000000 		.word	.LC17
 2803              		.cfi_endproc
 2804              	.LFE384:
 2806              		.section	.text.select_check_waiters,"ax",%progbits
 2807              		.align	1
 2808              		.syntax unified
 2809              		.thumb
 2810              		.thumb_func
 2812              	select_check_waiters:
 2813              	.LVL273:
 2814              	.LFB404:
2577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb *scb;
 2815              		.loc 1 2577 1 is_stmt 1 view -0
 2816              		.cfi_startproc
 2817              		@ args = 0, pretend = 0, frame = 0
 2818              		@ frame_needed = 0, uses_anonymous_args = 0
2577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb *scb;
 2819              		.loc 1 2577 1 is_stmt 0 view .LVU841
 2820 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2821              	.LCFI43:
 2822              		.cfi_def_cfa_offset 24
 2823              		.cfi_offset 4, -24
 2824              		.cfi_offset 5, -20
 2825              		.cfi_offset 6, -16
 2826              		.cfi_offset 7, -12
 2827              		.cfi_offset 8, -8
 2828              		.cfi_offset 14, -4
 2829 0004 82B0     		sub	sp, sp, #8
 2830              	.LCFI44:
 2831              		.cfi_def_cfa_offset 32
 2832 0006 0546     		mov	r5, r0
 2833 0008 0E46     		mov	r6, r1
 2834 000a 9046     		mov	r8, r2
 2835 000c 1F46     		mov	r7, r3
2578:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 2836              		.loc 1 2578 3 is_stmt 1 view .LVU842
2584:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2837              		.loc 1 2584 28 view .LVU843
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 115


 2838              		.loc 1 2592 3 view .LVU844
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2839              		.loc 1 2592 12 is_stmt 0 view .LVU845
 2840 000e 2E4B     		ldr	r3, .L244
 2841              	.LVL274:
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2842              		.loc 1 2592 12 view .LVU846
 2843 0010 1C68     		ldr	r4, [r3]
 2844              	.LVL275:
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2845              		.loc 1 2592 3 view .LVU847
 2846 0012 3EE0     		b	.L225
 2847              	.LVL276:
 2848              	.L227:
 2849              	.LBB22:
2607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (scb->readset && FD_ISSET(s, scb->readset)) {
 2850              		.loc 1 2607 9 is_stmt 1 view .LVU848
2607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (scb->readset && FD_ISSET(s, scb->readset)) {
 2851              		.loc 1 2607 12 is_stmt 0 view .LVU849
 2852 0014 96B1     		cbz	r6, .L236
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2853              		.loc 1 2608 11 is_stmt 1 view .LVU850
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2854              		.loc 1 2608 18 is_stmt 0 view .LVU851
 2855 0016 A268     		ldr	r2, [r4, #8]
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2856              		.loc 1 2608 14 view .LVU852
 2857 0018 8AB1     		cbz	r2, .L229
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2858              		.loc 1 2608 31 discriminator 1 view .LVU853
 2859 001a 2B46     		mov	r3, r5
 2860 001c 002D     		cmp	r5, #0
 2861 001e 0ADB     		blt	.L240
 2862              	.L230:
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2863              		.loc 1 2608 31 discriminator 1 view .LVU854
 2864 0020 5B11     		asrs	r3, r3, #5
 2865 0022 52F82330 		ldr	r3, [r2, r3, lsl #2]
 2866 0026 05F01F02 		and	r2, r5, #31
 2867 002a D340     		lsrs	r3, r3, r2
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2868              		.loc 1 2608 28 discriminator 1 view .LVU855
 2869 002c 13F0010F 		tst	r3, #1
 2870 0030 05D0     		beq	.L229
2609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 2871              		.loc 1 2609 23 view .LVU856
 2872 0032 0120     		movs	r0, #1
 2873 0034 03E0     		b	.L229
 2874              	.LVL277:
 2875              	.L240:
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2876              		.loc 1 2608 31 discriminator 1 view .LVU857
 2877 0036 05F11F03 		add	r3, r5, #31
 2878              	.LVL278:
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2879              		.loc 1 2608 31 discriminator 1 view .LVU858
 2880 003a F1E7     		b	.L230
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 116


 2881              	.L236:
2595:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_POLL
 2882              		.loc 1 2595 11 view .LVU859
 2883 003c 3046     		mov	r0, r6
 2884              	.L229:
 2885              	.LVL279:
2612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
 2886              		.loc 1 2612 9 is_stmt 1 view .LVU860
2612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
 2887              		.loc 1 2612 12 is_stmt 0 view .LVU861
 2888 003e B8F1000F 		cmp	r8, #0
 2889 0042 0FD0     		beq	.L231
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2890              		.loc 1 2613 11 is_stmt 1 view .LVU862
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2891              		.loc 1 2613 14 is_stmt 0 view .LVU863
 2892 0044 70B9     		cbnz	r0, .L231
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2893              		.loc 1 2613 32 discriminator 1 view .LVU864
 2894 0046 E268     		ldr	r2, [r4, #12]
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2895              		.loc 1 2613 26 discriminator 1 view .LVU865
 2896 0048 62B1     		cbz	r2, .L231
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2897              		.loc 1 2613 46 discriminator 2 view .LVU866
 2898 004a 2B46     		mov	r3, r5
 2899 004c 002D     		cmp	r5, #0
 2900 004e 31DB     		blt	.L241
 2901              	.L232:
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2902              		.loc 1 2613 46 discriminator 2 view .LVU867
 2903 0050 5B11     		asrs	r3, r3, #5
 2904 0052 52F82330 		ldr	r3, [r2, r3, lsl #2]
 2905 0056 05F01F02 		and	r2, r5, #31
 2906 005a D340     		lsrs	r3, r3, r2
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2907              		.loc 1 2613 43 discriminator 2 view .LVU868
 2908 005c 13F0010F 		tst	r3, #1
 2909 0060 00D0     		beq	.L231
2614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 2910              		.loc 1 2614 23 view .LVU869
 2911 0062 0120     		movs	r0, #1
 2912              	.LVL280:
 2913              	.L231:
2617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
 2914              		.loc 1 2617 9 is_stmt 1 view .LVU870
2617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
 2915              		.loc 1 2617 12 is_stmt 0 view .LVU871
 2916 0064 1FB3     		cbz	r7, .L228
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2917              		.loc 1 2618 11 is_stmt 1 view .LVU872
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2918              		.loc 1 2618 14 is_stmt 0 view .LVU873
 2919 0066 68B9     		cbnz	r0, .L233
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2920              		.loc 1 2618 32 discriminator 1 view .LVU874
 2921 0068 2269     		ldr	r2, [r4, #16]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 117


2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2922              		.loc 1 2618 26 discriminator 1 view .LVU875
 2923 006a 02B3     		cbz	r2, .L228
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2924              		.loc 1 2618 47 discriminator 2 view .LVU876
 2925 006c 2B46     		mov	r3, r5
 2926 006e 002D     		cmp	r5, #0
 2927 0070 23DB     		blt	.L242
 2928              	.L234:
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2929              		.loc 1 2618 47 discriminator 2 view .LVU877
 2930 0072 5B11     		asrs	r3, r3, #5
 2931 0074 52F82330 		ldr	r3, [r2, r3, lsl #2]
 2932 0078 05F01F02 		and	r2, r5, #31
 2933 007c D340     		lsrs	r3, r3, r2
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2934              		.loc 1 2618 44 discriminator 2 view .LVU878
 2935 007e 13F0010F 		tst	r3, #1
 2936 0082 14D0     		beq	.L228
 2937              	.L233:
 2938              	.LVL281:
2625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* For !LWIP_TCPIP_CORE_LOCKING, we don't call SYS_ARCH_UNPROTECT() before signaling
 2939              		.loc 1 2625 9 is_stmt 1 view .LVU879
2625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* For !LWIP_TCPIP_CORE_LOCKING, we don't call SYS_ARCH_UNPROTECT() before signaling
 2940              		.loc 1 2625 28 is_stmt 0 view .LVU880
 2941 0084 0123     		movs	r3, #1
 2942 0086 E361     		str	r3, [r4, #28]
2629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2943              		.loc 1 2629 9 is_stmt 1 view .LVU881
 2944 0088 04F12000 		add	r0, r4, #32
 2945 008c FFF7FEFF 		bl	sys_sem_signal
 2946              	.LVL282:
 2947              	.L226:
2629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2948              		.loc 1 2629 9 is_stmt 0 view .LVU882
 2949              	.LBE22:
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2950              		.loc 1 2592 47 is_stmt 1 discriminator 2 view .LVU883
 2951 0090 2468     		ldr	r4, [r4]
 2952              	.LVL283:
 2953              	.L225:
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2954              		.loc 1 2592 34 discriminator 1 view .LVU884
 2955 0092 ACB1     		cbz	r4, .L243
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
 2956              		.loc 1 2593 5 view .LVU885
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
 2957              		.loc 1 2593 12 is_stmt 0 view .LVU886
 2958 0094 E069     		ldr	r0, [r4, #28]
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
 2959              		.loc 1 2593 8 view .LVU887
 2960 0096 0028     		cmp	r0, #0
 2961 0098 FAD1     		bne	.L226
 2962              	.LBB23:
2595:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_POLL
 2963              		.loc 1 2595 7 is_stmt 1 view .LVU888
 2964              	.LVL284:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 118


2597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
 2965              		.loc 1 2597 7 view .LVU889
2597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
 2966              		.loc 1 2597 10 is_stmt 0 view .LVU890
 2967 009a 6369     		ldr	r3, [r4, #20]
 2968 009c 002B     		cmp	r3, #0
 2969 009e B9D0     		beq	.L227
2598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2970              		.loc 1 2598 9 is_stmt 1 view .LVU891
2598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2971              		.loc 1 2598 21 is_stmt 0 view .LVU892
 2972 00a0 0097     		str	r7, [sp]
 2973 00a2 4346     		mov	r3, r8
 2974 00a4 3246     		mov	r2, r6
 2975 00a6 2946     		mov	r1, r5
 2976 00a8 2046     		mov	r0, r4
 2977 00aa FFF7FEFF 		bl	lwip_poll_should_wake
 2978              	.LVL285:
 2979              	.L228:
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
 2980              		.loc 1 2624 7 is_stmt 1 view .LVU893
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
 2981              		.loc 1 2624 10 is_stmt 0 view .LVU894
 2982 00ae 0028     		cmp	r0, #0
 2983 00b0 EED0     		beq	.L226
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
 2984              		.loc 1 2624 10 view .LVU895
 2985 00b2 E7E7     		b	.L233
 2986              	.LVL286:
 2987              	.L241:
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2988              		.loc 1 2613 46 discriminator 2 view .LVU896
 2989 00b4 05F11F03 		add	r3, r5, #31
 2990              	.LVL287:
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2991              		.loc 1 2613 46 discriminator 2 view .LVU897
 2992 00b8 CAE7     		b	.L232
 2993              	.LVL288:
 2994              	.L242:
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2995              		.loc 1 2618 47 discriminator 2 view .LVU898
 2996 00ba 05F11F03 		add	r3, r5, #31
 2997              	.LVL289:
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2998              		.loc 1 2618 47 discriminator 2 view .LVU899
 2999 00be D8E7     		b	.L234
 3000              	.LVL290:
 3001              	.L243:
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 3002              		.loc 1 2618 47 discriminator 2 view .LVU900
 3003              	.LBE23:
2648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 3004              		.loc 1 2648 1 view .LVU901
 3005 00c0 02B0     		add	sp, sp, #8
 3006              	.LCFI45:
 3007              		.cfi_def_cfa_offset 24
 3008              		@ sp needed
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 119


 3009 00c2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3010              	.LVL291:
 3011              	.L245:
2648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 3012              		.loc 1 2648 1 view .LVU902
 3013 00c6 00BF     		.align	2
 3014              	.L244:
 3015 00c8 00000000 		.word	select_cb_list
 3016              		.cfi_endproc
 3017              	.LFE404:
 3019              		.section	.rodata.event_callback.str1.4,"aMS",%progbits,1
 3020              		.align	2
 3021              	.LC18:
 3022 0000 756E6B6E 		.ascii	"unknown event\000"
 3022      6F776E20 
 3022      6576656E 
 3022      7400
 3023              		.section	.text.event_callback,"ax",%progbits
 3024              		.align	1
 3025              		.syntax unified
 3026              		.thumb
 3027              		.thumb_func
 3029              	event_callback:
 3030              	.LVL292:
 3031              	.LFB403:
2478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s, check_waiters;
 3032              		.loc 1 2478 1 is_stmt 1 view -0
 3033              		.cfi_startproc
 3034              		@ args = 0, pretend = 0, frame = 0
 3035              		@ frame_needed = 0, uses_anonymous_args = 0
2479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 3036              		.loc 1 2479 3 view .LVU904
2480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 3037              		.loc 1 2480 3 view .LVU905
2481:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3038              		.loc 1 2481 3 view .LVU906
2483:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3039              		.loc 1 2483 3 view .LVU907
2486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     s = conn->socket;
 3040              		.loc 1 2486 3 view .LVU908
2486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     s = conn->socket;
 3041              		.loc 1 2486 6 is_stmt 0 view .LVU909
 3042 0000 0028     		cmp	r0, #0
 3043 0002 6DD0     		beq	.L264
2478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s, check_waiters;
 3044              		.loc 1 2478 1 view .LVU910
 3045 0004 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3046              	.LCFI46:
 3047              		.cfi_def_cfa_offset 24
 3048              		.cfi_offset 4, -24
 3049              		.cfi_offset 5, -20
 3050              		.cfi_offset 6, -16
 3051              		.cfi_offset 7, -12
 3052              		.cfi_offset 8, -8
 3053              		.cfi_offset 14, -4
 3054 0008 0C46     		mov	r4, r1
 3055 000a 0546     		mov	r5, r0
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 120


2487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (s < 0) {
 3056              		.loc 1 2487 5 is_stmt 1 view .LVU911
2487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (s < 0) {
 3057              		.loc 1 2487 7 is_stmt 0 view .LVU912
 3058 000c 8669     		ldr	r6, [r0, #24]
 3059              	.LVL293:
2488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Data comes in right away after an accept, even though
 3060              		.loc 1 2488 5 is_stmt 1 view .LVU913
2488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Data comes in right away after an accept, even though
 3061              		.loc 1 2488 8 is_stmt 0 view .LVU914
 3062 000e 002E     		cmp	r6, #0
 3063 0010 0EDB     		blt	.L267
 3064              	.LVL294:
 3065              	.L248:
2508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock) {
 3066              		.loc 1 2508 5 is_stmt 1 view .LVU915
2508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock) {
 3067              		.loc 1 2508 12 is_stmt 0 view .LVU916
 3068 0012 3046     		mov	r0, r6
 3069 0014 FFF7FEFF 		bl	get_socket
 3070              	.LVL295:
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
 3071              		.loc 1 2509 5 is_stmt 1 view .LVU917
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
 3072              		.loc 1 2509 8 is_stmt 0 view .LVU918
 3073 0018 0546     		mov	r5, r0
 3074              	.LVL296:
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
 3075              		.loc 1 2509 8 view .LVU919
 3076 001a 68B3     		cbz	r0, .L246
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3077              		.loc 1 2516 3 is_stmt 1 view .LVU920
 3078              	.LVL297:
2517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Set event as required */
 3079              		.loc 1 2517 3 view .LVU921
 3080 001c FFF7FEFF 		bl	sys_arch_protect
 3081              	.LVL298:
2517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Set event as required */
 3082              		.loc 1 2517 3 is_stmt 0 view .LVU922
 3083 0020 0746     		mov	r7, r0
 3084              	.LVL299:
2519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_RCVPLUS:
 3085              		.loc 1 2519 3 is_stmt 1 view .LVU923
 3086 0022 042C     		cmp	r4, #4
 3087 0024 38D8     		bhi	.L251
 3088 0026 DFE804F0 		tbb	[pc, r4]
 3089              	.L253:
 3090 002a 11       		.byte	(.L257-.L253)/2
 3091 002b 1C       		.byte	(.L256-.L253)/2
 3092 002c 29       		.byte	(.L255-.L253)/2
 3093 002d 31       		.byte	(.L254-.L253)/2
 3094 002e 34       		.byte	(.L252-.L253)/2
 3095              	.LVL300:
 3096 002f 00       		.p2align 1
 3097              	.L267:
2494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (conn->socket < 0) {
 3098              		.loc 1 2494 7 view .LVU924
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 121


 3099 0030 FFF7FEFF 		bl	sys_arch_protect
 3100              	.LVL301:
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 3101              		.loc 1 2495 7 view .LVU925
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 3102              		.loc 1 2495 15 is_stmt 0 view .LVU926
 3103 0034 AE69     		ldr	r6, [r5, #24]
 3104              	.LVL302:
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 3105              		.loc 1 2495 10 view .LVU927
 3106 0036 002E     		cmp	r6, #0
 3107 0038 02DB     		blt	.L268
2504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 3108              		.loc 1 2504 7 is_stmt 1 view .LVU928
 3109              	.LVL303:
2505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3110              		.loc 1 2505 7 view .LVU929
 3111 003a FFF7FEFF 		bl	sys_arch_unprotect
 3112              	.LVL304:
2505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3113              		.loc 1 2505 7 is_stmt 0 view .LVU930
 3114 003e E8E7     		b	.L248
 3115              	.LVL305:
 3116              	.L268:
2496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* conn->socket is -1 on initialization
 3117              		.loc 1 2496 9 is_stmt 1 view .LVU931
2496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* conn->socket is -1 on initialization
 3118              		.loc 1 2496 12 is_stmt 0 view .LVU932
 3119 0040 0CB9     		cbnz	r4, .L250
2499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 3120              		.loc 1 2499 11 is_stmt 1 view .LVU933
2499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 3121              		.loc 1 2499 23 is_stmt 0 view .LVU934
 3122 0042 013E     		subs	r6, r6, #1
 3123 0044 AE61     		str	r6, [r5, #24]
 3124              	.L250:
2501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return;
 3125              		.loc 1 2501 9 is_stmt 1 view .LVU935
 3126 0046 FFF7FEFF 		bl	sys_arch_unprotect
 3127              	.LVL306:
2502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3128              		.loc 1 2502 9 view .LVU936
 3129 004a 15E0     		b	.L246
 3130              	.LVL307:
 3131              	.L257:
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 1) {
 3132              		.loc 1 2521 7 view .LVU937
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 1) {
 3133              		.loc 1 2521 11 is_stmt 0 view .LVU938
 3134 004c B5F90830 		ldrsh	r3, [r5, #8]
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 1) {
 3135              		.loc 1 2521 21 view .LVU939
 3136 0050 0133     		adds	r3, r3, #1
 3137 0052 1BB2     		sxth	r3, r3
 3138 0054 2B81     		strh	r3, [r5, #8]	@ movhi
2522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3139              		.loc 1 2522 7 is_stmt 1 view .LVU940
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 122


2522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3140              		.loc 1 2522 10 is_stmt 0 view .LVU941
 3141 0056 012B     		cmp	r3, #1
 3142 0058 01DD     		ble	.L269
2523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3143              		.loc 1 2523 23 view .LVU942
 3144 005a 0023     		movs	r3, #0
 3145 005c 06E0     		b	.L258
 3146              	.L269:
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3147              		.loc 1 2516 17 view .LVU943
 3148 005e 0123     		movs	r3, #1
 3149 0060 04E0     		b	.L258
 3150              	.L256:
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3151              		.loc 1 2527 7 is_stmt 1 view .LVU944
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3152              		.loc 1 2527 11 is_stmt 0 view .LVU945
 3153 0062 B5F90830 		ldrsh	r3, [r5, #8]
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3154              		.loc 1 2527 21 view .LVU946
 3155 0066 013B     		subs	r3, r3, #1
 3156 0068 2B81     		strh	r3, [r5, #8]	@ movhi
2528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3157              		.loc 1 2528 7 is_stmt 1 view .LVU947
 3158              	.LVL308:
2529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDPLUS:
 3159              		.loc 1 2529 7 view .LVU948
2528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3160              		.loc 1 2528 21 is_stmt 0 view .LVU949
 3161 006a 0023     		movs	r3, #0
 3162              	.LVL309:
 3163              	.L258:
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3164              		.loc 1 2548 3 is_stmt 1 view .LVU950
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3165              		.loc 1 2548 11 is_stmt 0 view .LVU951
 3166 006c AA7B     		ldrb	r2, [r5, #14]	@ zero_extendqisi2
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3167              		.loc 1 2548 6 view .LVU952
 3168 006e 02B1     		cbz	r2, .L260
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3169              		.loc 1 2548 28 discriminator 1 view .LVU953
 3170 0070 DBB9     		cbnz	r3, .L270
 3171              	.L260:
2558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3172              		.loc 1 2558 5 is_stmt 1 view .LVU954
 3173 0072 3846     		mov	r0, r7
 3174 0074 FFF7FEFF 		bl	sys_arch_unprotect
 3175              	.LVL310:
2560:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 3176              		.loc 1 2560 20 view .LVU955
 3177              	.L246:
2561:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3178              		.loc 1 2561 1 is_stmt 0 view .LVU956
 3179 0078 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3180              	.LVL311:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 123


 3181              	.L255:
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3182              		.loc 1 2531 7 is_stmt 1 view .LVU957
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3183              		.loc 1 2531 15 is_stmt 0 view .LVU958
 3184 007c 6B89     		ldrh	r3, [r5, #10]
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3185              		.loc 1 2531 10 view .LVU959
 3186 007e 1BB9     		cbnz	r3, .L262
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3187              		.loc 1 2516 17 view .LVU960
 3188 0080 0123     		movs	r3, #1
 3189              	.L259:
 3190              	.LVL312:
2534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3191              		.loc 1 2534 7 is_stmt 1 view .LVU961
2534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3192              		.loc 1 2534 23 is_stmt 0 view .LVU962
 3193 0082 0122     		movs	r2, #1
 3194 0084 6A81     		strh	r2, [r5, #10]	@ movhi
2535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDMINUS:
 3195              		.loc 1 2535 7 is_stmt 1 view .LVU963
 3196 0086 F1E7     		b	.L258
 3197              	.LVL313:
 3198              	.L262:
2532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3199              		.loc 1 2532 23 is_stmt 0 view .LVU964
 3200 0088 0023     		movs	r3, #0
 3201 008a FAE7     		b	.L259
 3202              	.L254:
2537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3203              		.loc 1 2537 7 is_stmt 1 view .LVU965
2537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3204              		.loc 1 2537 23 is_stmt 0 view .LVU966
 3205 008c 0023     		movs	r3, #0
 3206 008e 6B81     		strh	r3, [r5, #10]	@ movhi
2538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3207              		.loc 1 2538 7 is_stmt 1 view .LVU967
 3208              	.LVL314:
2539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_ERROR:
 3209              		.loc 1 2539 7 view .LVU968
 3210 0090 ECE7     		b	.L258
 3211              	.LVL315:
 3212              	.L252:
2541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3213              		.loc 1 2541 7 view .LVU969
2541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3214              		.loc 1 2541 22 is_stmt 0 view .LVU970
 3215 0092 0123     		movs	r3, #1
 3216 0094 AB81     		strh	r3, [r5, #12]	@ movhi
2542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
 3217              		.loc 1 2542 7 is_stmt 1 view .LVU971
 3218 0096 E9E7     		b	.L258
 3219              	.L251:
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3220              		.loc 1 2544 7 view .LVU972
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 124


 3221              		.loc 1 2544 7 view .LVU973
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3222              		.loc 1 2544 7 discriminator 1 view .LVU974
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3223              		.loc 1 2544 7 discriminator 1 view .LVU975
 3224 0098 124B     		ldr	r3, .L271
 3225 009a 4FF41F62 		mov	r2, #2544
 3226 009e 1249     		ldr	r1, .L271+4
 3227 00a0 1248     		ldr	r0, .L271+8
 3228              	.LVL316:
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3229              		.loc 1 2544 7 is_stmt 0 discriminator 1 view .LVU976
 3230 00a2 FFF7FEFF 		bl	printf
 3231              	.LVL317:
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3232              		.loc 1 2544 7 is_stmt 1 discriminator 3 view .LVU977
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3233              		.loc 1 2544 7 discriminator 3 view .LVU978
2545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3234              		.loc 1 2545 7 view .LVU979
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3235              		.loc 1 2516 17 is_stmt 0 view .LVU980
 3236 00a6 0123     		movs	r3, #1
2545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3237              		.loc 1 2545 7 view .LVU981
 3238 00a8 E0E7     		b	.L258
 3239              	.LVL318:
 3240              	.L270:
 3241              	.LBB24:
2550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_recvevent = sock->rcvevent > 0;
 3242              		.loc 1 2550 5 is_stmt 1 view .LVU982
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
 3243              		.loc 1 2551 5 view .LVU983
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
 3244              		.loc 1 2551 25 is_stmt 0 view .LVU984
 3245 00aa B5F90840 		ldrsh	r4, [r5, #8]
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
 3246              		.loc 1 2551 36 view .LVU985
 3247 00ae 002C     		cmp	r4, #0
 3248 00b0 D4BF     		ite	le
 3249 00b2 0024     		movle	r4, #0
 3250 00b4 0124     		movgt	r4, #1
 3251              	.LVL319:
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_errevent = sock->errevent != 0;
 3252              		.loc 1 2552 5 is_stmt 1 view .LVU986
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_errevent = sock->errevent != 0;
 3253              		.loc 1 2552 25 is_stmt 0 view .LVU987
 3254 00b6 B5F80A80 		ldrh	r8, [r5, #10]
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_errevent = sock->errevent != 0;
 3255              		.loc 1 2552 37 view .LVU988
 3256 00ba B8F10008 		subs	r8, r8, #0
 3257 00be 18BF     		it	ne
 3258 00c0 4FF00108 		movne	r8, #1
 3259              	.LVL320:
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 3260              		.loc 1 2553 5 is_stmt 1 view .LVU989
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 125


 3261              		.loc 1 2553 24 is_stmt 0 view .LVU990
 3262 00c4 AD89     		ldrh	r5, [r5, #12]
 3263              	.LVL321:
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 3264              		.loc 1 2553 35 view .LVU991
 3265 00c6 003D     		subs	r5, r5, #0
 3266 00c8 18BF     		it	ne
 3267 00ca 0125     		movne	r5, #1
 3268              	.LVL322:
2554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check any select calls waiting on this socket */
 3269              		.loc 1 2554 5 is_stmt 1 view .LVU992
 3270 00cc 3846     		mov	r0, r7
 3271 00ce FFF7FEFF 		bl	sys_arch_unprotect
 3272              	.LVL323:
2556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 3273              		.loc 1 2556 5 view .LVU993
 3274 00d2 2B46     		mov	r3, r5
 3275 00d4 4246     		mov	r2, r8
 3276 00d6 2146     		mov	r1, r4
 3277 00d8 3046     		mov	r0, r6
 3278 00da FFF7FEFF 		bl	select_check_waiters
 3279              	.LVL324:
 3280              	.LBE24:
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3281              		.loc 1 2548 46 is_stmt 0 view .LVU994
 3282 00de CBE7     		b	.L246
 3283              	.LVL325:
 3284              	.L264:
 3285              	.LCFI47:
 3286              		.cfi_def_cfa_offset 0
 3287              		.cfi_restore 4
 3288              		.cfi_restore 5
 3289              		.cfi_restore 6
 3290              		.cfi_restore 7
 3291              		.cfi_restore 8
 3292              		.cfi_restore 14
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3293              		.loc 1 2548 46 view .LVU995
 3294 00e0 7047     		bx	lr
 3295              	.L272:
 3296 00e2 00BF     		.align	2
 3297              	.L271:
 3298 00e4 00000000 		.word	.LC0
 3299 00e8 00000000 		.word	.LC18
 3300 00ec 48000000 		.word	.LC2
 3301              		.cfi_endproc
 3302              	.LFE403:
 3304              		.section	.text.lwip_getsockopt_impl,"ax",%progbits
 3305              		.align	1
 3306              		.syntax unified
 3307              		.thumb
 3308              		.thumb_func
 3310              	lwip_getsockopt_impl:
 3311              	.LVL326:
 3312              	.LFB411:
2877:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2878:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_getsockopt_impl: the actual implementation of getsockopt:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 126


2879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * same argument as lwip_getsockopt, either called directly or through callback
2880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2881:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2882:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockopt_impl(int s, int level, int optname, void *optval, socklen_t *optlen)
2883:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 3313              		.loc 1 2883 1 is_stmt 1 view -0
 3314              		.cfi_startproc
 3315              		@ args = 4, pretend = 0, frame = 0
 3316              		@ frame_needed = 0, uses_anonymous_args = 0
 3317              		.loc 1 2883 1 is_stmt 0 view .LVU997
 3318 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3319              	.LCFI48:
 3320              		.cfi_def_cfa_offset 24
 3321              		.cfi_offset 3, -24
 3322              		.cfi_offset 4, -20
 3323              		.cfi_offset 5, -16
 3324              		.cfi_offset 6, -12
 3325              		.cfi_offset 7, -8
 3326              		.cfi_offset 14, -4
 3327 0002 0C46     		mov	r4, r1
 3328 0004 1546     		mov	r5, r2
 3329 0006 1E46     		mov	r6, r3
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
 3330              		.loc 1 2884 3 is_stmt 1 view .LVU998
 3331              	.LVL327:
2885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3332              		.loc 1 2885 3 view .LVU999
 3333              		.loc 1 2885 28 is_stmt 0 view .LVU1000
 3334 0008 FFF7FEFF 		bl	tryget_socket
 3335              	.LVL328:
2886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 3336              		.loc 1 2886 3 is_stmt 1 view .LVU1001
 3337              		.loc 1 2886 6 is_stmt 0 view .LVU1002
 3338 000c 0028     		cmp	r0, #0
 3339 000e 00F0E680 		beq	.L293
 3340 0012 0746     		mov	r7, r0
2887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return EBADF;
2888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2889:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2890:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifdef LWIP_HOOK_SOCKETS_GETSOCKOPT
2891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (LWIP_HOOK_SOCKETS_GETSOCKOPT(s, sock, level, optname, optval, optlen, &err)) {
2892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return err;
2893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2895:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2896:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (level) {
 3341              		.loc 1 2896 3 is_stmt 1 view .LVU1003
 3342 0014 062C     		cmp	r4, #6
 3343 0016 00F0BF80 		beq	.L275
 3344 001a 40F6FF73 		movw	r3, #4095
 3345 001e 9C42     		cmp	r4, r3
 3346 0020 04D0     		beq	.L276
 3347 0022 002C     		cmp	r4, #0
 3348 0024 00F09880 		beq	.L277
 3349 0028 5C20     		movs	r0, #92
 3350              	.LVL329:
 3351              	.L273:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 127


2897:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: SOL_SOCKET */
2899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOL_SOCKET:
2900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
2901:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2902:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
2903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_ACCEPTCONN:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
2905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
2906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
2908:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((sock->conn->pcb.tcp != NULL) && (sock->conn->pcb.tcp->state == LISTEN)) {
2910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 1;
2911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 0;
2913:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2914:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2915:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
2916:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2917:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* The option flags */
2918:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_BROADCAST:
2919:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_KEEPALIVE:
2920:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if SO_REUSE
2921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_REUSEADDR:
2922:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* SO_REUSE */
2923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((optname == SO_BROADCAST) &&
2924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
2925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
2927:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           optname = lwip_sockopt_to_ipopt(optname);
2930:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
2932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
2933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
2934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname, (*(int *)optval ? "on" : "off")));
2935:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2936:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2937:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_TYPE:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
2939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
2940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
2941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               *(int *)optval = SOCK_RAW;
2942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
2943:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_TCP:
2944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               *(int *)optval = SOCK_STREAM;
2945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
2946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_UDP:
2947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               *(int *)optval = SOCK_DGRAM;
2948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
2949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             default: /* unrecognized socket type */
2950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               *(int *)optval = netconn_type(sock->conn);
2951:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               LWIP_DEBUGF(SOCKETS_DEBUG,
2952:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           ("lwip_getsockopt(%d, SOL_SOCKET, SO_TYPE): unrecognized socket type %d\n
2953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                            s, *(int *)optval));
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 128


2954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }  /* switch (netconn_type(sock->conn)) */
2955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_TYPE) = %d\n",
2956:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
2957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2958:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_ERROR:
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN(sock, *optlen, int);
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
2962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
2963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
2964:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2965:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2966:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_SNDTIMEO
2967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_SNDTIMEO:
2968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
2969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SO_SNDRCVTIMEO_SET(optval, netconn_get_sendtimeout(sock->conn));
2970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2971:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_SNDTIMEO */
2972:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVTIMEO
2973:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_RCVTIMEO:
2974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
2975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SO_SNDRCVTIMEO_SET(optval, netconn_get_recvtimeout(sock->conn));
2976:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2977:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVTIMEO */
2978:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
2979:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_RCVBUF:
2980:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
2981:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = netconn_get_recvbufsize(sock->conn);
2982:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2983:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
2984:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_LINGER
2985:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_LINGER: {
2986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           s16_t conn_linger;
2987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct linger *linger = (struct linger *)optval;
2988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, struct linger);
2989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           conn_linger = sock->conn->linger;
2990:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (conn_linger >= 0) {
2991:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             linger->l_onoff = 1;
2992:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             linger->l_linger = (int)conn_linger;
2993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             linger->l_onoff = 0;
2995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             linger->l_linger = 0;
2996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
2999:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_LINGER */
3000:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP
3001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_NO_CHECK:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_UDP);
3003:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
3004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (udp_is_flag_set(sock->conn->pcb.udp, UDP_FLAGS_UDPLITE)) {
3005:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* this flag is only available for UDP, not for UDP lite */
3006:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EAFNOSUPPORT;
3008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3009:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDPLITE */
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = udp_is_flag_set(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM) ? 1 : 0;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 129


3011:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3012:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
3013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, UNIMPL: optname=0x%x, ..)\n"
3015:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3016:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3018:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3019:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3020:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_IP */
3022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_IP:
3023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3024:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
3026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
3027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
3028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3030:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
3032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
3033:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
3034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3035:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3036:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
3037:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_TTL:
3038:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, u8_t);
3039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_UDP) {
3040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
3042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(u8_t *)optval = udp_get_multicast_ttl(sock->conn->pcb.udp);
3044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_TTL) = %d\n",
3045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_IF:
3048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, struct in_addr);
3049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_UDP) {
3050:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
3052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3053:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_from_ip4addr((struct in_addr *)optval, udp_get_multicast_netif_addr(sock->conn-
3054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_IF) = 0x%"X32_F
3055:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(u32_t *)optval));
3056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_LOOP:
3058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, u8_t);
3059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((sock->conn->pcb.udp->flags & UDP_FLAGS_MULTICAST_LOOP) != 0) {
3060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(u8_t *)optval = 1;
3061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(u8_t *)optval = 0;
3063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3064:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_LOOP) = %d\n",
3065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3067:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 130


3068:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3069:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, UNIMPL: optname=0x%x, ..)\n"
3070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3071:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3075:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3076:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
3077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_TCP */
3078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_TCP:
3079:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Special case: all IPPROTO_TCP option take an int */
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_TCP);
3081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
3082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return EINVAL;
3084:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
3087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = tcp_nagle_disabled(sock->conn->pcb.tcp);
3088:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
3089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(int *)optval) ? "on" : "off") );
3090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPALIVE:
3092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (int)sock->conn->pcb.tcp->keep_idle;
3093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
3094:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3095:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3096:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP_KEEPALIVE
3098:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPIDLE:
3099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (int)(sock->conn->pcb.tcp->keep_idle / 1000);
3100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPIDLE) = %d\n",
3101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPINTVL:
3104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (int)(sock->conn->pcb.tcp->keep_intvl / 1000);
3105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPINTVL) = %d\n",
3106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPCNT:
3109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (int)sock->conn->pcb.tcp->keep_cnt;
3110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPCNT) = %d\n",
3111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3113:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP_KEEPALIVE */
3114:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, UNIMPL: optname=0x%x, ..)\n
3116:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3121:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
3122:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
3124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_IPV6 */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 131


3125:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_IPV6:
3126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_V6ONLY:
3128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
3129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (netconn_get_ipv6only(sock->conn) ? 1 : 0);
3130:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IPV6, IPV6_V6ONLY) = %d\n",
3131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3132:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3133:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3134:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IPV6, UNIMPL: optname=0x%x, ..)\
3135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3138:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3139:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3140:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
3141:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP && LWIP_UDPLITE
3143:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_UDPLITE */
3144:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_UDPLITE:
3145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Special case: all IPPROTO_UDPLITE option take an int */
3146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
3147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* If this is no UDP lite socket, ignore any options. */
3148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (!NETCONNTYPE_ISUDPLITE(netconn_type(sock->conn))) {
3149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3150:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return ENOPROTOOPT;
3151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3152:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3153:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case UDPLITE_SEND_CSCOV:
3154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.udp->chksum_len_tx;
3155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UDPLITE_SEND_CSCOV) = %
3156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(int *)optval)) );
3157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case UDPLITE_RECV_CSCOV:
3159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.udp->chksum_len_rx;
3160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UDPLITE_RECV_CSCOV) = %
3161:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(int *)optval)) );
3162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UNIMPL: optname=0x%x, .
3165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3166:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3167:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3168:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3169:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3170:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP */
3171:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_RAW */
3172:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_RAW:
3173:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3174:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6 && LWIP_RAW
3175:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_CHECKSUM:
3176:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_RAW);
3177:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->conn->pcb.raw->chksum_reqd == 0) {
3178:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = -1;
3179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3180:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = sock->conn->pcb.raw->chksum_offset;
3181:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 132


3182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_RAW, IPV6_CHECKSUM) = %d\n",
3183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(int *)optval)) );
3184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3185:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 && LWIP_RAW */
3186:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3187:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_RAW, UNIMPL: optname=0x%x, ..)\n
3188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3191:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, level=0x%x, UNIMPL: optname=0x%x, ..)\n",
3195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, level, optname));
3196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
3197:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3198:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } /* switch (level) */
3199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3200:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err;
3202:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 3352              		.loc 1 3202 1 is_stmt 0 view .LVU1004
 3353 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3354              	.LVL330:
 3355              	.L276:
2900:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3356              		.loc 1 2900 7 is_stmt 1 view .LVU1005
 3357 002c 41F20703 		movw	r3, #4103
 3358 0030 9D42     		cmp	r5, r3
 3359 0032 00F08580 		beq	.L278
 3360 0036 20DC     		bgt	.L279
 3361 0038 082D     		cmp	r5, #8
 3362 003a 44D0     		beq	.L280
 3363 003c 202D     		cmp	r5, #32
 3364 003e 42D0     		beq	.L280
 3365 0040 022D     		cmp	r5, #2
 3366 0042 18D1     		bne	.L323
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3367              		.loc 1 2904 11 view .LVU1006
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3368              		.loc 1 2904 11 view .LVU1007
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3369              		.loc 1 2904 11 view .LVU1008
 3370 0044 069B     		ldr	r3, [sp, #24]
 3371 0046 1B68     		ldr	r3, [r3]
 3372 0048 032B     		cmp	r3, #3
 3373 004a 40F2CA80 		bls	.L294
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3374              		.loc 1 2904 11 discriminator 2 view .LVU1009
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3375              		.loc 1 2904 11 discriminator 2 view .LVU1010
 3376 004e 0368     		ldr	r3, [r0]
 3377 0050 002B     		cmp	r3, #0
 3378 0052 00F0C880 		beq	.L295
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3379              		.loc 1 2904 11 is_stmt 0 discriminator 4 view .LVU1011
 3380 0056 5A68     		ldr	r2, [r3, #4]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 133


 3381 0058 002A     		cmp	r2, #0
 3382 005a 00F0C680 		beq	.L296
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3383              		.loc 1 2904 11 is_stmt 1 discriminator 6 view .LVU1012
2905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 3384              		.loc 1 2905 11 view .LVU1013
2905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 3385              		.loc 1 2905 15 is_stmt 0 view .LVU1014
 3386 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 3387              		.loc 1 2905 14 view .LVU1015
 3388 0060 03F0F003 		and	r3, r3, #240
 3389 0064 102B     		cmp	r3, #16
 3390 0066 40F0C280 		bne	.L297
2909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 1;
 3391              		.loc 1 2909 11 is_stmt 1 view .LVU1016
2909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 1;
 3392              		.loc 1 2909 68 is_stmt 0 discriminator 1 view .LVU1017
 3393 006a 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
2909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 1;
 3394              		.loc 1 2909 45 discriminator 1 view .LVU1018
 3395 006c 012B     		cmp	r3, #1
 3396 006e 27D0     		beq	.L324
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3397              		.loc 1 2912 13 is_stmt 1 view .LVU1019
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3398              		.loc 1 2912 28 is_stmt 0 view .LVU1020
 3399 0070 0020     		movs	r0, #0
 3400              	.LVL331:
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3401              		.loc 1 2912 28 view .LVU1021
 3402 0072 3060     		str	r0, [r6]
 3403 0074 D9E7     		b	.L273
 3404              	.LVL332:
 3405              	.L323:
2900:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3406              		.loc 1 2900 7 view .LVU1022
 3407 0076 5C20     		movs	r0, #92
 3408              	.LVL333:
2900:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3409              		.loc 1 2900 7 view .LVU1023
 3410 0078 D7E7     		b	.L273
 3411              	.LVL334:
 3412              	.L279:
2900:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3413              		.loc 1 2900 7 view .LVU1024
 3414 007a 41F20803 		movw	r3, #4104
 3415 007e 9D42     		cmp	r5, r3
 3416 0080 3FD0     		beq	.L282
 3417 0082 41F20A03 		movw	r3, #4106
 3418 0086 9D42     		cmp	r5, r3
 3419 0088 18D1     		bne	.L325
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3420              		.loc 1 3002 11 is_stmt 1 view .LVU1025
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3421              		.loc 1 3002 11 view .LVU1026
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 134


 3422              		.loc 1 3002 11 view .LVU1027
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3423              		.loc 1 3002 11 view .LVU1028
 3424 008a 069B     		ldr	r3, [sp, #24]
 3425 008c 1B68     		ldr	r3, [r3]
 3426 008e 032B     		cmp	r3, #3
 3427 0090 40F2BD80 		bls	.L305
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3428              		.loc 1 3002 11 discriminator 2 view .LVU1029
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3429              		.loc 1 3002 11 discriminator 2 view .LVU1030
 3430 0094 0368     		ldr	r3, [r0]
 3431 0096 002B     		cmp	r3, #0
 3432 0098 00F0BB80 		beq	.L306
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3433              		.loc 1 3002 11 is_stmt 0 discriminator 4 view .LVU1031
 3434 009c 5A68     		ldr	r2, [r3, #4]
 3435 009e 002A     		cmp	r2, #0
 3436 00a0 00F0B980 		beq	.L307
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3437              		.loc 1 3002 11 is_stmt 1 discriminator 6 view .LVU1032
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3438              		.loc 1 3002 11 discriminator 6 view .LVU1033
 3439 00a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3440 00a6 03F0F003 		and	r3, r3, #240
 3441 00aa 202B     		cmp	r3, #32
 3442 00ac 40F0B580 		bne	.L308
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3443              		.loc 1 3002 11 discriminator 8 view .LVU1034
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3444              		.loc 1 3010 11 view .LVU1035
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3445              		.loc 1 3010 28 is_stmt 0 view .LVU1036
 3446 00b0 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3447              		.loc 1 3010 89 view .LVU1037
 3448 00b2 03F00103 		and	r3, r3, #1
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3449              		.loc 1 3010 26 view .LVU1038
 3450 00b6 3360     		str	r3, [r6]
3011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
 3451              		.loc 1 3011 11 is_stmt 1 view .LVU1039
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3452              		.loc 1 2884 7 is_stmt 0 view .LVU1040
 3453 00b8 0020     		movs	r0, #0
 3454              	.LVL335:
3011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
 3455              		.loc 1 3011 11 view .LVU1041
 3456 00ba B6E7     		b	.L273
 3457              	.LVL336:
 3458              	.L325:
2900:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3459              		.loc 1 2900 7 view .LVU1042
 3460 00bc 5C20     		movs	r0, #92
 3461              	.LVL337:
2900:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3462              		.loc 1 2900 7 view .LVU1043
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 135


 3463 00be B4E7     		b	.L273
 3464              	.LVL338:
 3465              	.L324:
2910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 3466              		.loc 1 2910 13 is_stmt 1 view .LVU1044
2910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 3467              		.loc 1 2910 28 is_stmt 0 view .LVU1045
 3468 00c0 3360     		str	r3, [r6]
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3469              		.loc 1 2884 7 view .LVU1046
 3470 00c2 0020     		movs	r0, #0
 3471              	.LVL339:
2910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 3472              		.loc 1 2910 28 view .LVU1047
 3473 00c4 B1E7     		b	.L273
 3474              	.LVL340:
 3475              	.L280:
2923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3476              		.loc 1 2923 11 is_stmt 1 view .LVU1048
2923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3477              		.loc 1 2923 14 is_stmt 0 view .LVU1049
 3478 00c6 202D     		cmp	r5, #32
 3479 00c8 06D1     		bne	.L285
2924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 3480              		.loc 1 2924 16 view .LVU1050
 3481 00ca 3B68     		ldr	r3, [r7]
 3482 00cc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3483              		.loc 1 2923 41 discriminator 1 view .LVU1051
 3484 00ce 03F0F003 		and	r3, r3, #240
 3485 00d2 202B     		cmp	r3, #32
 3486 00d4 40F08D80 		bne	.L298
 3487              	.L285:
2929:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3488              		.loc 1 2929 11 is_stmt 1 view .LVU1052
2929:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3489              		.loc 1 2929 21 is_stmt 0 view .LVU1053
 3490 00d8 2846     		mov	r0, r5
 3491              	.LVL341:
2929:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3492              		.loc 1 2929 21 view .LVU1054
 3493 00da FFF7FEFF 		bl	lwip_sockopt_to_ipopt
 3494              	.LVL342:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3495              		.loc 1 2931 11 is_stmt 1 view .LVU1055
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3496              		.loc 1 2931 11 view .LVU1056
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3497              		.loc 1 2931 11 view .LVU1057
 3498 00de 069B     		ldr	r3, [sp, #24]
 3499 00e0 1B68     		ldr	r3, [r3]
 3500 00e2 032B     		cmp	r3, #3
 3501 00e4 40F28780 		bls	.L299
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3502              		.loc 1 2931 11 discriminator 2 view .LVU1058
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3503              		.loc 1 2931 11 discriminator 2 view .LVU1059
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 136


 3504 00e8 3B68     		ldr	r3, [r7]
 3505 00ea 002B     		cmp	r3, #0
 3506 00ec 00F08580 		beq	.L300
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3507              		.loc 1 2931 11 is_stmt 0 discriminator 4 view .LVU1060
 3508 00f0 5B68     		ldr	r3, [r3, #4]
 3509 00f2 002B     		cmp	r3, #0
 3510 00f4 00F08380 		beq	.L301
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3511              		.loc 1 2931 11 is_stmt 1 discriminator 6 view .LVU1061
2932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 3512              		.loc 1 2932 11 view .LVU1062
2932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 3513              		.loc 1 2932 28 is_stmt 0 view .LVU1063
 3514 00f8 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 3515 00fa 0340     		ands	r3, r3, r0
2932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 3516              		.loc 1 2932 26 view .LVU1064
 3517 00fc 3360     		str	r3, [r6]
2934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3518              		.loc 1 2934 84 is_stmt 1 view .LVU1065
2935:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3519              		.loc 1 2935 11 view .LVU1066
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3520              		.loc 1 2884 7 is_stmt 0 view .LVU1067
 3521 00fe 0020     		movs	r0, #0
 3522              	.LVL343:
2935:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3523              		.loc 1 2935 11 view .LVU1068
 3524 0100 93E7     		b	.L273
 3525              	.LVL344:
 3526              	.L282:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3527              		.loc 1 2938 11 is_stmt 1 view .LVU1069
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3528              		.loc 1 2938 11 view .LVU1070
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3529              		.loc 1 2938 11 view .LVU1071
 3530 0102 069B     		ldr	r3, [sp, #24]
 3531 0104 1B68     		ldr	r3, [r3]
 3532 0106 032B     		cmp	r3, #3
 3533 0108 7BD9     		bls	.L302
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3534              		.loc 1 2938 11 discriminator 2 view .LVU1072
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3535              		.loc 1 2938 11 discriminator 2 view .LVU1073
 3536 010a 0368     		ldr	r3, [r0]
 3537 010c 002B     		cmp	r3, #0
 3538 010e 7AD0     		beq	.L303
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3539              		.loc 1 2938 11 discriminator 4 view .LVU1074
2939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
 3540              		.loc 1 2939 11 view .LVU1075
2939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
 3541              		.loc 1 2939 19 is_stmt 0 view .LVU1076
 3542 0110 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3543 0112 02F0F003 		and	r3, r2, #240
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 137


2939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
 3544              		.loc 1 2939 11 view .LVU1077
 3545 0116 202B     		cmp	r3, #32
 3546 0118 0ED0     		beq	.L286
 3547 011a 402B     		cmp	r3, #64
 3548 011c 04D0     		beq	.L287
 3549 011e 102B     		cmp	r3, #16
 3550 0120 06D0     		beq	.L288
2950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               LWIP_DEBUGF(SOCKETS_DEBUG,
 3551              		.loc 1 2950 15 is_stmt 1 view .LVU1078
2950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               LWIP_DEBUGF(SOCKETS_DEBUG,
 3552              		.loc 1 2950 30 is_stmt 0 view .LVU1079
 3553 0122 3260     		str	r2, [r6]
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3554              		.loc 1 2884 7 view .LVU1080
 3555 0124 0020     		movs	r0, #0
 3556              	.LVL345:
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3557              		.loc 1 2884 7 view .LVU1081
 3558 0126 80E7     		b	.L273
 3559              	.LVL346:
 3560              	.L287:
2941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3561              		.loc 1 2941 15 is_stmt 1 view .LVU1082
2941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3562              		.loc 1 2941 30 is_stmt 0 view .LVU1083
 3563 0128 0323     		movs	r3, #3
 3564 012a 3360     		str	r3, [r6]
2942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_TCP:
 3565              		.loc 1 2942 15 is_stmt 1 view .LVU1084
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3566              		.loc 1 2884 7 is_stmt 0 view .LVU1085
 3567 012c 0020     		movs	r0, #0
 3568              	.LVL347:
2942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_TCP:
 3569              		.loc 1 2942 15 view .LVU1086
 3570 012e 7CE7     		b	.L273
 3571              	.LVL348:
 3572              	.L288:
2944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3573              		.loc 1 2944 15 is_stmt 1 view .LVU1087
2944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3574              		.loc 1 2944 30 is_stmt 0 view .LVU1088
 3575 0130 0123     		movs	r3, #1
 3576 0132 3360     		str	r3, [r6]
2945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_UDP:
 3577              		.loc 1 2945 15 is_stmt 1 view .LVU1089
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3578              		.loc 1 2884 7 is_stmt 0 view .LVU1090
 3579 0134 0020     		movs	r0, #0
 3580              	.LVL349:
2945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_UDP:
 3581              		.loc 1 2945 15 view .LVU1091
 3582 0136 78E7     		b	.L273
 3583              	.LVL350:
 3584              	.L286:
2947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 138


 3585              		.loc 1 2947 15 is_stmt 1 view .LVU1092
2947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3586              		.loc 1 2947 30 is_stmt 0 view .LVU1093
 3587 0138 0223     		movs	r3, #2
 3588 013a 3360     		str	r3, [r6]
2948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             default: /* unrecognized socket type */
 3589              		.loc 1 2948 15 is_stmt 1 view .LVU1094
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3590              		.loc 1 2884 7 is_stmt 0 view .LVU1095
 3591 013c 0020     		movs	r0, #0
 3592              	.LVL351:
2948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             default: /* unrecognized socket type */
 3593              		.loc 1 2948 15 view .LVU1096
 3594 013e 74E7     		b	.L273
 3595              	.LVL352:
 3596              	.L278:
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3597              		.loc 1 2960 11 is_stmt 1 view .LVU1097
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3598              		.loc 1 2960 11 view .LVU1098
 3599 0140 069B     		ldr	r3, [sp, #24]
 3600 0142 1B68     		ldr	r3, [r3]
 3601 0144 032B     		cmp	r3, #3
 3602 0146 60D9     		bls	.L304
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3603              		.loc 1 2960 11 discriminator 2 view .LVU1099
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3604              		.loc 1 2961 11 view .LVU1100
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3605              		.loc 1 2961 28 is_stmt 0 view .LVU1101
 3606 0148 0068     		ldr	r0, [r0]
 3607              	.LVL353:
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3608              		.loc 1 2961 28 view .LVU1102
 3609 014a FFF7FEFF 		bl	netconn_err
 3610              	.LVL354:
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3611              		.loc 1 2961 28 discriminator 1 view .LVU1103
 3612 014e FFF7FEFF 		bl	err_to_errno
 3613              	.LVL355:
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3614              		.loc 1 2961 26 discriminator 2 view .LVU1104
 3615 0152 3060     		str	r0, [r6]
2963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3616              		.loc 1 2963 58 is_stmt 1 view .LVU1105
2964:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3617              		.loc 1 2964 11 view .LVU1106
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3618              		.loc 1 2884 7 is_stmt 0 view .LVU1107
 3619 0154 0020     		movs	r0, #0
2964:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3620              		.loc 1 2964 11 view .LVU1108
 3621 0156 68E7     		b	.L273
 3622              	.LVL356:
 3623              	.L277:
3023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
 3624              		.loc 1 3023 7 is_stmt 1 view .LVU1109
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 139


 3625 0158 012D     		cmp	r5, #1
 3626 015a 0FD0     		beq	.L290
 3627 015c 022D     		cmp	r5, #2
 3628 015e 5ED1     		bne	.L309
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3629              		.loc 1 3025 11 view .LVU1110
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3630              		.loc 1 3025 11 view .LVU1111
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3631              		.loc 1 3025 11 view .LVU1112
 3632 0160 069B     		ldr	r3, [sp, #24]
 3633 0162 1B68     		ldr	r3, [r3]
 3634 0164 032B     		cmp	r3, #3
 3635 0166 5CD9     		bls	.L310
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3636              		.loc 1 3025 11 discriminator 2 view .LVU1113
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3637              		.loc 1 3025 11 discriminator 2 view .LVU1114
 3638 0168 0368     		ldr	r3, [r0]
 3639 016a 002B     		cmp	r3, #0
 3640 016c 5BD0     		beq	.L311
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3641              		.loc 1 3025 11 is_stmt 0 discriminator 4 view .LVU1115
 3642 016e 5B68     		ldr	r3, [r3, #4]
 3643 0170 002B     		cmp	r3, #0
 3644 0172 5AD0     		beq	.L312
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3645              		.loc 1 3025 11 is_stmt 1 discriminator 6 view .LVU1116
3026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
 3646              		.loc 1 3026 11 view .LVU1117
3026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
 3647              		.loc 1 3026 46 is_stmt 0 view .LVU1118
 3648 0174 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
3026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
 3649              		.loc 1 3026 26 view .LVU1119
 3650 0176 3360     		str	r3, [r6]
3028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3651              		.loc 1 3028 58 is_stmt 1 view .LVU1120
3029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
 3652              		.loc 1 3029 11 view .LVU1121
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3653              		.loc 1 2884 7 is_stmt 0 view .LVU1122
 3654 0178 2046     		mov	r0, r4
 3655              	.LVL357:
3029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
 3656              		.loc 1 3029 11 view .LVU1123
 3657 017a 56E7     		b	.L273
 3658              	.LVL358:
 3659              	.L290:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3660              		.loc 1 3031 11 is_stmt 1 view .LVU1124
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3661              		.loc 1 3031 11 view .LVU1125
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3662              		.loc 1 3031 11 view .LVU1126
 3663 017c 069B     		ldr	r3, [sp, #24]
 3664 017e 1B68     		ldr	r3, [r3]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 140


 3665 0180 032B     		cmp	r3, #3
 3666 0182 54D9     		bls	.L313
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3667              		.loc 1 3031 11 discriminator 2 view .LVU1127
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3668              		.loc 1 3031 11 discriminator 2 view .LVU1128
 3669 0184 0368     		ldr	r3, [r0]
 3670 0186 002B     		cmp	r3, #0
 3671 0188 53D0     		beq	.L314
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3672              		.loc 1 3031 11 is_stmt 0 discriminator 4 view .LVU1129
 3673 018a 5B68     		ldr	r3, [r3, #4]
 3674 018c 002B     		cmp	r3, #0
 3675 018e 52D0     		beq	.L315
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3676              		.loc 1 3031 11 is_stmt 1 discriminator 6 view .LVU1130
3032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 3677              		.loc 1 3032 11 view .LVU1131
3032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 3678              		.loc 1 3032 46 is_stmt 0 view .LVU1132
 3679 0190 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
3032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 3680              		.loc 1 3032 26 view .LVU1133
 3681 0192 3360     		str	r3, [r6]
3034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3682              		.loc 1 3034 58 is_stmt 1 view .LVU1134
3035:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
 3683              		.loc 1 3035 11 view .LVU1135
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3684              		.loc 1 2884 7 is_stmt 0 view .LVU1136
 3685 0194 2046     		mov	r0, r4
 3686              	.LVL359:
3035:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
 3687              		.loc 1 3035 11 view .LVU1137
 3688 0196 48E7     		b	.L273
 3689              	.LVL360:
 3690              	.L275:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3691              		.loc 1 3080 7 is_stmt 1 view .LVU1138
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3692              		.loc 1 3080 7 view .LVU1139
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3693              		.loc 1 3080 7 view .LVU1140
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3694              		.loc 1 3080 7 view .LVU1141
 3695 0198 069B     		ldr	r3, [sp, #24]
 3696 019a 1B68     		ldr	r3, [r3]
 3697 019c 032B     		cmp	r3, #3
 3698 019e 4CD9     		bls	.L316
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3699              		.loc 1 3080 7 discriminator 2 view .LVU1142
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3700              		.loc 1 3080 7 discriminator 2 view .LVU1143
 3701 01a0 0368     		ldr	r3, [r0]
 3702 01a2 002B     		cmp	r3, #0
 3703 01a4 4BD0     		beq	.L317
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 141


 3704              		.loc 1 3080 7 is_stmt 0 discriminator 4 view .LVU1144
 3705 01a6 5A68     		ldr	r2, [r3, #4]
 3706 01a8 002A     		cmp	r2, #0
 3707 01aa 4AD0     		beq	.L318
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3708              		.loc 1 3080 7 is_stmt 1 discriminator 6 view .LVU1145
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3709              		.loc 1 3080 7 discriminator 6 view .LVU1146
 3710 01ac 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3711 01ae 03F0F003 		and	r3, r3, #240
 3712 01b2 102B     		cmp	r3, #16
 3713 01b4 47D1     		bne	.L319
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3714              		.loc 1 3080 7 discriminator 8 view .LVU1147
3081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 3715              		.loc 1 3081 7 view .LVU1148
3081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 3716              		.loc 1 3081 30 is_stmt 0 view .LVU1149
 3717 01b6 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
3081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 3718              		.loc 1 3081 10 view .LVU1150
 3719 01b8 012B     		cmp	r3, #1
 3720 01ba 46D0     		beq	.L320
3085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
 3721              		.loc 1 3085 7 is_stmt 1 view .LVU1151
 3722 01bc 012D     		cmp	r5, #1
 3723 01be 03D0     		beq	.L291
 3724 01c0 022D     		cmp	r5, #2
 3725 01c2 07D0     		beq	.L292
 3726 01c4 5C20     		movs	r0, #92
 3727              	.LVL361:
3085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
 3728              		.loc 1 3085 7 is_stmt 0 view .LVU1152
 3729 01c6 30E7     		b	.L273
 3730              	.LVL362:
 3731              	.L291:
3087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 3732              		.loc 1 3087 11 is_stmt 1 view .LVU1153
3087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 3733              		.loc 1 3087 28 is_stmt 0 view .LVU1154
 3734 01c8 538B     		ldrh	r3, [r2, #26]
 3735 01ca C3F38013 		ubfx	r3, r3, #6, #1
3087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 3736              		.loc 1 3087 26 view .LVU1155
 3737 01ce 3360     		str	r3, [r6]
3089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3738              		.loc 1 3089 76 is_stmt 1 view .LVU1156
3090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPALIVE:
 3739              		.loc 1 3090 11 view .LVU1157
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3740              		.loc 1 2884 7 is_stmt 0 view .LVU1158
 3741 01d0 0020     		movs	r0, #0
 3742              	.LVL363:
3090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPALIVE:
 3743              		.loc 1 3090 11 view .LVU1159
 3744 01d2 2AE7     		b	.L273
 3745              	.LVL364:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 142


 3746              	.L292:
3092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 3747              		.loc 1 3092 11 is_stmt 1 view .LVU1160
3092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 3748              		.loc 1 3092 52 is_stmt 0 view .LVU1161
 3749 01d4 D2F89430 		ldr	r3, [r2, #148]
3092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 3750              		.loc 1 3092 26 view .LVU1162
 3751 01d8 3360     		str	r3, [r6]
3094:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3752              		.loc 1 3094 58 is_stmt 1 view .LVU1163
3095:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3753              		.loc 1 3095 11 view .LVU1164
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3754              		.loc 1 2884 7 is_stmt 0 view .LVU1165
 3755 01da 0020     		movs	r0, #0
 3756              	.LVL365:
3095:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3757              		.loc 1 3095 11 view .LVU1166
 3758 01dc 25E7     		b	.L273
 3759              	.LVL366:
 3760              	.L293:
2887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3761              		.loc 1 2887 12 view .LVU1167
 3762 01de 0920     		movs	r0, #9
 3763              	.LVL367:
2887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3764              		.loc 1 2887 12 view .LVU1168
 3765 01e0 23E7     		b	.L273
 3766              	.LVL368:
 3767              	.L294:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3768              		.loc 1 2904 11 discriminator 1 view .LVU1169
 3769 01e2 1620     		movs	r0, #22
 3770              	.LVL369:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3771              		.loc 1 2904 11 discriminator 1 view .LVU1170
 3772 01e4 21E7     		b	.L273
 3773              	.LVL370:
 3774              	.L295:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3775              		.loc 1 2904 11 discriminator 5 view .LVU1171
 3776 01e6 1620     		movs	r0, #22
 3777              	.LVL371:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3778              		.loc 1 2904 11 discriminator 5 view .LVU1172
 3779 01e8 1FE7     		b	.L273
 3780              	.LVL372:
 3781              	.L296:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3782              		.loc 1 2904 11 discriminator 5 view .LVU1173
 3783 01ea 1620     		movs	r0, #22
 3784              	.LVL373:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3785              		.loc 1 2904 11 discriminator 5 view .LVU1174
 3786 01ec 1DE7     		b	.L273
 3787              	.LVL374:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 143


 3788              	.L297:
2907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3789              		.loc 1 2907 20 view .LVU1175
 3790 01ee 5C20     		movs	r0, #92
 3791              	.LVL375:
2907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3792              		.loc 1 2907 20 view .LVU1176
 3793 01f0 1BE7     		b	.L273
 3794              	.LVL376:
 3795              	.L298:
2926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3796              		.loc 1 2926 20 view .LVU1177
 3797 01f2 5C20     		movs	r0, #92
 3798              	.LVL377:
2926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3799              		.loc 1 2926 20 view .LVU1178
 3800 01f4 19E7     		b	.L273
 3801              	.LVL378:
 3802              	.L299:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3803              		.loc 1 2931 11 discriminator 1 view .LVU1179
 3804 01f6 1620     		movs	r0, #22
 3805              	.LVL379:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3806              		.loc 1 2931 11 discriminator 1 view .LVU1180
 3807 01f8 17E7     		b	.L273
 3808              	.LVL380:
 3809              	.L300:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3810              		.loc 1 2931 11 discriminator 5 view .LVU1181
 3811 01fa 1620     		movs	r0, #22
 3812              	.LVL381:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3813              		.loc 1 2931 11 discriminator 5 view .LVU1182
 3814 01fc 15E7     		b	.L273
 3815              	.LVL382:
 3816              	.L301:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3817              		.loc 1 2931 11 discriminator 5 view .LVU1183
 3818 01fe 1620     		movs	r0, #22
 3819              	.LVL383:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3820              		.loc 1 2931 11 discriminator 5 view .LVU1184
 3821 0200 13E7     		b	.L273
 3822              	.LVL384:
 3823              	.L302:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3824              		.loc 1 2938 11 discriminator 1 view .LVU1185
 3825 0202 1620     		movs	r0, #22
 3826              	.LVL385:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3827              		.loc 1 2938 11 discriminator 1 view .LVU1186
 3828 0204 11E7     		b	.L273
 3829              	.LVL386:
 3830              	.L303:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3831              		.loc 1 2938 11 discriminator 3 view .LVU1187
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 144


 3832 0206 1620     		movs	r0, #22
 3833              	.LVL387:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3834              		.loc 1 2938 11 discriminator 3 view .LVU1188
 3835 0208 0FE7     		b	.L273
 3836              	.LVL388:
 3837              	.L304:
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3838              		.loc 1 2960 11 discriminator 1 view .LVU1189
 3839 020a 1620     		movs	r0, #22
 3840              	.LVL389:
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3841              		.loc 1 2960 11 discriminator 1 view .LVU1190
 3842 020c 0DE7     		b	.L273
 3843              	.LVL390:
 3844              	.L305:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3845              		.loc 1 3002 11 discriminator 1 view .LVU1191
 3846 020e 1620     		movs	r0, #22
 3847              	.LVL391:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3848              		.loc 1 3002 11 discriminator 1 view .LVU1192
 3849 0210 0BE7     		b	.L273
 3850              	.LVL392:
 3851              	.L306:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3852              		.loc 1 3002 11 discriminator 5 view .LVU1193
 3853 0212 1620     		movs	r0, #22
 3854              	.LVL393:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3855              		.loc 1 3002 11 discriminator 5 view .LVU1194
 3856 0214 09E7     		b	.L273
 3857              	.LVL394:
 3858              	.L307:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3859              		.loc 1 3002 11 discriminator 5 view .LVU1195
 3860 0216 1620     		movs	r0, #22
 3861              	.LVL395:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3862              		.loc 1 3002 11 discriminator 5 view .LVU1196
 3863 0218 07E7     		b	.L273
 3864              	.LVL396:
 3865              	.L308:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3866              		.loc 1 3002 11 discriminator 7 view .LVU1197
 3867 021a 5C20     		movs	r0, #92
 3868              	.LVL397:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3869              		.loc 1 3002 11 discriminator 7 view .LVU1198
 3870 021c 05E7     		b	.L273
 3871              	.LVL398:
 3872              	.L309:
3023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
 3873              		.loc 1 3023 7 view .LVU1199
 3874 021e 5C20     		movs	r0, #92
 3875              	.LVL399:
3023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 145


 3876              		.loc 1 3023 7 view .LVU1200
 3877 0220 03E7     		b	.L273
 3878              	.LVL400:
 3879              	.L310:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3880              		.loc 1 3025 11 discriminator 1 view .LVU1201
 3881 0222 1620     		movs	r0, #22
 3882              	.LVL401:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3883              		.loc 1 3025 11 discriminator 1 view .LVU1202
 3884 0224 01E7     		b	.L273
 3885              	.LVL402:
 3886              	.L311:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3887              		.loc 1 3025 11 discriminator 5 view .LVU1203
 3888 0226 1620     		movs	r0, #22
 3889              	.LVL403:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3890              		.loc 1 3025 11 discriminator 5 view .LVU1204
 3891 0228 FFE6     		b	.L273
 3892              	.LVL404:
 3893              	.L312:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3894              		.loc 1 3025 11 discriminator 5 view .LVU1205
 3895 022a 1620     		movs	r0, #22
 3896              	.LVL405:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3897              		.loc 1 3025 11 discriminator 5 view .LVU1206
 3898 022c FDE6     		b	.L273
 3899              	.LVL406:
 3900              	.L313:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3901              		.loc 1 3031 11 discriminator 1 view .LVU1207
 3902 022e 1620     		movs	r0, #22
 3903              	.LVL407:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3904              		.loc 1 3031 11 discriminator 1 view .LVU1208
 3905 0230 FBE6     		b	.L273
 3906              	.LVL408:
 3907              	.L314:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3908              		.loc 1 3031 11 discriminator 5 view .LVU1209
 3909 0232 1620     		movs	r0, #22
 3910              	.LVL409:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3911              		.loc 1 3031 11 discriminator 5 view .LVU1210
 3912 0234 F9E6     		b	.L273
 3913              	.LVL410:
 3914              	.L315:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3915              		.loc 1 3031 11 discriminator 5 view .LVU1211
 3916 0236 1620     		movs	r0, #22
 3917              	.LVL411:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3918              		.loc 1 3031 11 discriminator 5 view .LVU1212
 3919 0238 F7E6     		b	.L273
 3920              	.LVL412:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 146


 3921              	.L316:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3922              		.loc 1 3080 7 discriminator 1 view .LVU1213
 3923 023a 1620     		movs	r0, #22
 3924              	.LVL413:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3925              		.loc 1 3080 7 discriminator 1 view .LVU1214
 3926 023c F5E6     		b	.L273
 3927              	.LVL414:
 3928              	.L317:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3929              		.loc 1 3080 7 discriminator 5 view .LVU1215
 3930 023e 1620     		movs	r0, #22
 3931              	.LVL415:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3932              		.loc 1 3080 7 discriminator 5 view .LVU1216
 3933 0240 F3E6     		b	.L273
 3934              	.LVL416:
 3935              	.L318:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3936              		.loc 1 3080 7 discriminator 5 view .LVU1217
 3937 0242 1620     		movs	r0, #22
 3938              	.LVL417:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3939              		.loc 1 3080 7 discriminator 5 view .LVU1218
 3940 0244 F1E6     		b	.L273
 3941              	.LVL418:
 3942              	.L319:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3943              		.loc 1 3080 7 discriminator 7 view .LVU1219
 3944 0246 5C20     		movs	r0, #92
 3945              	.LVL419:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3946              		.loc 1 3080 7 discriminator 7 view .LVU1220
 3947 0248 EFE6     		b	.L273
 3948              	.LVL420:
 3949              	.L320:
3083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3950              		.loc 1 3083 16 view .LVU1221
 3951 024a 1620     		movs	r0, #22
 3952              	.LVL421:
3083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3953              		.loc 1 3083 16 view .LVU1222
 3954 024c EDE6     		b	.L273
 3955              		.cfi_endproc
 3956              	.LFE411:
 3958              		.section	.rodata.lwip_setsockopt_impl.str1.4,"aMS",%progbits,1
 3959              		.align	2
 3960              	.LC19:
 3961 0000 556E6861 		.ascii	"Unhandled netconn type in SO_BINDTODEVICE\000"
 3961      6E646C65 
 3961      64206E65 
 3961      74636F6E 
 3961      6E207479 
 3962              		.section	.text.lwip_setsockopt_impl,"ax",%progbits
 3963              		.align	1
 3964              		.syntax unified
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 147


 3965              		.thumb
 3966              		.thumb_func
 3968              	lwip_setsockopt_impl:
 3969              	.LVL422:
 3970              	.LFB413:
3203:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3204:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3205:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_setsockopt(int s, int level, int optname, const void *optval, socklen_t optlen)
3206:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
3207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
3208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
3209:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
3210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t cberr;
3211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(data);
3212:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
3213:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
3215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3217:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NULL == optval) {
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
3220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
3221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3223:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3224:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
3225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* core-locking can just call the -impl function */
3226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LOCK_TCPIP_CORE();
3227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
3228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
3229:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3230:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
3231:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3232:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
3233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* MPU_COMPATIBLE copies the optval data, so check for max size here */
3234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (optlen > LWIP_SETGETSOCKOPT_MAXOPTLEN) {
3235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOBUFS);
3236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
3237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3239:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
3240:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(data, sock);
3242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).s = s;
3243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).level = level;
3244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optname = optname;
3245:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen = optlen;
3246:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
3247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval, optval, optlen);
3248:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
3249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval.pc = (const void *)optval;
3250:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
3251:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err = 0;
3252:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
3253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = LWIP_NETCONN_THREAD_SEM_GET();
3254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 148


3255:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = &sock->conn->op_completed;
3256:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3257:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   cberr = tcpip_callback(lwip_setsockopt_callback, &LWIP_SETGETSOCKOPT_DATA_VAR_REF(data));
3258:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (cberr != ERR_OK) {
3259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
3260:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(cberr));
3261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
3262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3264:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_arch_sem_wait((sys_sem_t *)(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem), 0);
3265:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* maybe lwip_getsockopt_internal has changed err */
3267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err;
3268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
3269:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
3270:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err);
3272:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
3274:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
3275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
3277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_setsockopt_callback: only used without CORE_LOCKING
3278:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * to get into the tcpip_thread
3279:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
3280:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
3281:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_setsockopt_callback(void *arg)
3282:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
3283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_setgetsockopt_data *data;
3284:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("arg != NULL", arg != NULL);
3285:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data = (struct lwip_setgetsockopt_data *)arg;
3286:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3287:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data->err = lwip_setsockopt_impl(data->s, data->level, data->optname,
3288:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
3289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optval,
3290:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
3291:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optval.pc,
3292:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
3293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optlen);
3294:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3295:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_sem_signal((sys_sem_t *)(data->completed_sem));
3296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
3297:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
3298:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3299:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_setsockopt_impl: the actual implementation of setsockopt:
3300:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * same argument as lwip_setsockopt, either called directly or through callback
3301:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
3302:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
3303:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_setsockopt_impl(int s, int level, int optname, const void *optval, socklen_t optlen)
3304:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 3971              		.loc 1 3304 1 is_stmt 1 view -0
 3972              		.cfi_startproc
 3973              		@ args = 4, pretend = 0, frame = 0
 3974              		@ frame_needed = 0, uses_anonymous_args = 0
 3975              		.loc 1 3304 1 is_stmt 0 view .LVU1224
 3976 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3977              	.LCFI49:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 149


 3978              		.cfi_def_cfa_offset 24
 3979              		.cfi_offset 3, -24
 3980              		.cfi_offset 4, -20
 3981              		.cfi_offset 5, -16
 3982              		.cfi_offset 6, -12
 3983              		.cfi_offset 7, -8
 3984              		.cfi_offset 14, -4
 3985 0002 0C46     		mov	r4, r1
 3986 0004 1546     		mov	r5, r2
 3987 0006 1E46     		mov	r6, r3
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
 3988              		.loc 1 3305 3 is_stmt 1 view .LVU1225
 3989              	.LVL423:
3306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3990              		.loc 1 3306 3 view .LVU1226
 3991              		.loc 1 3306 28 is_stmt 0 view .LVU1227
 3992 0008 FFF7FEFF 		bl	tryget_socket
 3993              	.LVL424:
3307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 3994              		.loc 1 3307 3 is_stmt 1 view .LVU1228
 3995              		.loc 1 3307 6 is_stmt 0 view .LVU1229
 3996 000c 0028     		cmp	r0, #0
 3997 000e 00F0D580 		beq	.L346
 3998 0012 0746     		mov	r7, r0
3308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return EBADF;
3309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3310:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3311:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifdef LWIP_HOOK_SOCKETS_SETSOCKOPT
3312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (LWIP_HOOK_SOCKETS_SETSOCKOPT(s, sock, level, optname, optval, optlen, &err)) {
3313:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return err;
3314:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (level) {
 3999              		.loc 1 3317 3 is_stmt 1 view .LVU1230
 4000 0014 062C     		cmp	r4, #6
 4001 0016 00F0A880 		beq	.L328
 4002 001a 40F6FF73 		movw	r3, #4095
 4003 001e 9C42     		cmp	r4, r3
 4004 0020 04D0     		beq	.L329
 4005 0022 002C     		cmp	r4, #0
 4006 0024 00F08380 		beq	.L330
 4007 0028 5C20     		movs	r0, #92
 4008              	.LVL425:
 4009              	.L326:
3318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3319:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: SOL_SOCKET */
3320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOL_SOCKET:
3321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3322:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* SO_ACCEPTCONN is get-only */
3324:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* The option flags */
3326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_BROADCAST:
3327:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_KEEPALIVE:
3328:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if SO_REUSE
3329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_REUSEADDR:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 150


3330:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* SO_REUSE */
3331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((optname == SO_BROADCAST) &&
3332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
3333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
3335:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3336:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           optname = lwip_sockopt_to_ipopt(optname);
3338:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
3342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_reset_option(sock->conn->pcb.ip, optname);
3344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, SOL_SOCKET, optname=0x%x, ..) -> %s\n",
3346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname, (*(const int *)optval ? "on" : "off")));
3347:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3348:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* SO_TYPE is get-only */
3350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* SO_ERROR is get-only */
3351:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3352:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_SNDTIMEO
3353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_SNDTIMEO: {
3354:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           long ms_long;
3355:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
3356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ms_long = LWIP_SO_SNDRCVTIMEO_GET_MS(optval);
3357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (ms_long < 0) {
3358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
3360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netconn_set_sendtimeout(sock->conn, ms_long);
3362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3364:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_SNDTIMEO */
3365:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVTIMEO
3366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_RCVTIMEO: {
3367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           long ms_long;
3368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
3369:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ms_long = LWIP_SO_SNDRCVTIMEO_GET_MS(optval);
3370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (ms_long < 0) {
3371:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3372:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
3373:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3374:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netconn_set_recvtimeout(sock->conn, (u32_t)ms_long);
3375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3377:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVTIMEO */
3378:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
3379:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_RCVBUF:
3380:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, int);
3381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netconn_set_recvbufsize(sock->conn, *(const int *)optval);
3382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3383:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3384:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_LINGER
3385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_LINGER: {
3386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           const struct linger *linger = (const struct linger *)optval;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 151


3387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, struct linger);
3388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (linger->l_onoff) {
3389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             int lingersec = linger->l_linger;
3390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (lingersec < 0) {
3391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
3392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               return EINVAL;
3393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (lingersec > 0xFFFF) {
3395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               lingersec = 0xFFFF;
3396:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->linger = (s16_t)lingersec;
3398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->linger = -1;
3400:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3401:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3402:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3403:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_LINGER */
3404:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP
3405:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_NO_CHECK:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_UDP);
3407:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
3408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (udp_is_flag_set(sock->conn->pcb.udp, UDP_FLAGS_UDPLITE)) {
3409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* this flag is only available for UDP, not for UDP lite */
3410:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EAFNOSUPPORT;
3412:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3413:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDPLITE */
3414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
3416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_clear_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
3418:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3419:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3420:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP */
3421:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_BINDTODEVICE: {
3422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           const struct ifreq *iface;
3423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct netif *n = NULL;
3424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, struct ifreq);
3426:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3427:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           iface = (const struct ifreq *)optval;
3428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (iface->ifr_name[0] != 0) {
3429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             n = netif_find(iface->ifr_name);
3430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (n == NULL) {
3431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
3432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               return ENODEV;
3433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3435:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
3437:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
3438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_TCP:
3439:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               tcp_bind_netif(sock->conn->pcb.tcp, n);
3440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
3441:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3442:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP
3443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_UDP:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 152


3444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               udp_bind_netif(sock->conn->pcb.udp, n);
3445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
3446:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3447:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_RAW
3448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
3449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               raw_bind_netif(sock->conn->pcb.raw, n);
3450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
3451:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             default:
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               LWIP_ASSERT("Unhandled netconn type in SO_BINDTODEVICE", 0);
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
3455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3459:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, SOL_SOCKET, UNIMPL: optname=0x%x, ..)\n"
3460:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3461:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3462:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3463:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3464:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3465:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_IP */
3467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_IP:
3468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
3472:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
3473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.ip->ttl));
3474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
3478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
3479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.ip->tos));
3480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3481:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
3482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_PKTINFO:
3483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_UDP);
3484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->flags |= NETCONN_FLAG_PKTINFO;
3486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->flags &= ~NETCONN_FLAG_PKTINFO;
3488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3490:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETBUF_RECVINFO */
3491:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
3492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_TTL:
3493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, u8_t, NETCONN_UDP);
3494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           udp_set_multicast_ttl(sock->conn->pcb.udp, (u8_t)(*(const u8_t *)optval));
3495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_IF: {
3497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip4_addr_t if_addr;
3498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct in_addr, NETCONN_UDP);
3499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_to_ip4addr(&if_addr, (const struct in_addr *)optval);
3500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           udp_set_multicast_netif_addr(sock->conn->pcb.udp, &if_addr);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 153


3501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_LOOP:
3504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, u8_t, NETCONN_UDP);
3505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const u8_t *)optval) {
3506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_MULTICAST_LOOP);
3507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_clear_flags(sock->conn->pcb.udp, UDP_FLAGS_MULTICAST_LOOP);
3509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP */
3512:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IGMP
3513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_ADD_MEMBERSHIP:
3514:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_DROP_MEMBERSHIP: {
3515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* If this is a TCP or a RAW socket, ignore these options. */
3516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err_t igmp_err;
3517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           const struct ip_mreq *imr = (const struct ip_mreq *)optval;
3518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip4_addr_t if_addr;
3519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip4_addr_t multi_addr;
3520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct ip_mreq, NETCONN_UDP);
3521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_to_ip4addr(&if_addr, &imr->imr_interface);
3522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_to_ip4addr(&multi_addr, &imr->imr_multiaddr);
3523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (optname == IP_ADD_MEMBERSHIP) {
3524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (!lwip_socket_register_membership(s, &if_addr, &multi_addr)) {
3525:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* cannot track membership (out of memory) */
3526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               err = ENOMEM;
3527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               igmp_err = ERR_OK;
3528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
3529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               igmp_err = igmp_joingroup(&if_addr, &multi_addr);
3530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             igmp_err = igmp_leavegroup(&if_addr, &multi_addr);
3533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             lwip_socket_unregister_membership(s, &if_addr, &multi_addr);
3534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (igmp_err != ERR_OK) {
3536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             err = EADDRNOTAVAIL;
3537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3540:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IGMP */
3541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, UNIMPL: optname=0x%x, ..)\n"
3543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3548:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3549:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
3550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_TCP */
3551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_TCP:
3552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Special case: all IPPROTO_TCP option take an int */
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_TCP);
3554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
3555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return EINVAL;
3557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 154


3558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
3560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
3562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_enable(sock->conn->pcb.tcp);
3564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_NODELAY) -> %s\n",
3566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(const int *)optval) ? "on" : "off") );
3567:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPALIVE:
3569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.tcp->keep_idle = (u32_t)(*(const int *)optval);
3570:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
3571:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_idle));
3572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3573:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3574:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP_KEEPALIVE
3575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPIDLE:
3576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.tcp->keep_idle = 1000 * (u32_t)(*(const int *)optval);
3577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPIDLE) -> %"U32_F"\n
3578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_idle));
3579:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPINTVL:
3581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.tcp->keep_intvl = 1000 * (u32_t)(*(const int *)optval);
3582:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPINTVL) -> %"U32_F"\
3583:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_intvl));
3584:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3585:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPCNT:
3586:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.tcp->keep_cnt = (u32_t)(*(const int *)optval);
3587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPCNT) -> %"U32_F"\n"
3588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_cnt));
3589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3590:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP_KEEPALIVE */
3591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, UNIMPL: optname=0x%x, ..)\n
3593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3598:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP*/
3599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3600:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
3601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_IPV6 */
3602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_IPV6:
3603:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_V6ONLY:
3605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             netconn_set_ipv6only(sock->conn, 1);
3608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             netconn_set_ipv6only(sock->conn, 0);
3610:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IPV6, IPV6_V6ONLY, ..) -> %d\n",
3612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (netconn_get_ipv6only(sock->conn) ? 1 : 0)));
3613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3614:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6_MLD
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 155


3615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_JOIN_GROUP:
3616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_LEAVE_GROUP: {
3617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* If this is a TCP or a RAW socket, ignore these options. */
3618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err_t mld6_err;
3619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct netif *netif;
3620:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip6_addr_t multi_addr;
3621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           const struct ipv6_mreq *imr = (const struct ipv6_mreq *)optval;
3622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct ipv6_mreq, NETCONN_UDP);
3623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet6_addr_to_ip6addr(&multi_addr, &imr->ipv6mr_multiaddr);
3624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_ASSERT("Invalid netif index", imr->ipv6mr_interface <= 0xFFu);
3625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netif = netif_get_by_index((u8_t)imr->ipv6mr_interface);
3626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (netif == NULL) {
3627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             err = EADDRNOTAVAIL;
3628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
3629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3630:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (optname == IPV6_JOIN_GROUP) {
3632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (!lwip_socket_register_mld6_membership(s, imr->ipv6mr_interface, &multi_addr)) {
3633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* cannot track membership (out of memory) */
3634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               err = ENOMEM;
3635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               mld6_err = ERR_OK;
3636:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
3637:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               mld6_err = mld6_joingroup_netif(netif, &multi_addr);
3638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             mld6_err = mld6_leavegroup_netif(netif, &multi_addr);
3641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             lwip_socket_unregister_mld6_membership(s, imr->ipv6mr_interface, &multi_addr);
3642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (mld6_err != ERR_OK) {
3644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             err = EADDRNOTAVAIL;
3645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3647:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6_MLD */
3649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IPV6, UNIMPL: optname=0x%x, ..)\
3651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3656:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
3657:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3658:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP && LWIP_UDPLITE
3659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_UDPLITE */
3660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_UDPLITE:
3661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Special case: all IPPROTO_UDPLITE option take an int */
3662:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* If this is no UDP lite socket, ignore any options. */
3664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (!NETCONNTYPE_ISUDPLITE(netconn_type(sock->conn))) {
3665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return ENOPROTOOPT;
3667:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case UDPLITE_SEND_CSCOV:
3670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((*(const int *)optval != 0) && ((*(const int *)optval < 8) || (*(const int *)optval >
3671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* don't allow illegal values! */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 156


3672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_tx = 8;
3673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_tx = (u16_t) * (const int *)optval;
3675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UDPLITE_SEND_CSCOV) -> 
3677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(const int *)optval)) );
3678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case UDPLITE_RECV_CSCOV:
3680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((*(const int *)optval != 0) && ((*(const int *)optval < 8) || (*(const int *)optval >
3681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* don't allow illegal values! */
3682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_rx = 8;
3683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_rx = (u16_t) * (const int *)optval;
3685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UDPLITE_RECV_CSCOV) -> 
3687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(const int *)optval)) );
3688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UNIMPL: optname=0x%x, .
3691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP */
3697:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_RAW */
3698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_RAW:
3699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3700:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6 && LWIP_RAW
3701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_CHECKSUM:
3702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* It should not be possible to disable the checksum generation with ICMPv6
3703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            * as per RFC 3542 chapter 3.1 */
3704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->conn->pcb.raw->protocol == IPPROTO_ICMPV6) {
3705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
3707:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3708:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_RAW);
3710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval < 0) {
3711:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.raw->chksum_reqd = 0;
3712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else if (*(const int *)optval & 1) {
3713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Per RFC3542, odd offsets are not allowed */
3714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
3716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.raw->chksum_reqd = 1;
3718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.raw->chksum_offset = (u16_t) * (const int *)optval;
3719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_RAW, IPV6_CHECKSUM, ..) -> %d\n"
3721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.raw->chksum_reqd));
3722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3723:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 && LWIP_RAW */
3724:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_RAW, UNIMPL: optname=0x%x, ..)\n
3726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 157


3729:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, level=0x%x, UNIMPL: optname=0x%x, ..)\n",
3733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, level, optname));
3734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
3735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }  /* switch (level) */
3737:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err;
3740:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4010              		.loc 1 3740 1 is_stmt 0 view .LVU1231
 4011 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4012              	.LVL426:
 4013              	.L329:
3321:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4014              		.loc 1 3321 7 is_stmt 1 view .LVU1232
 4015 002c 41F20A03 		movw	r3, #4106
 4016 0030 9D42     		cmp	r5, r3
 4017 0032 4FD0     		beq	.L331
 4018 0034 05DC     		bgt	.L332
 4019 0036 082D     		cmp	r5, #8
 4020 0038 26D0     		beq	.L333
 4021 003a 202D     		cmp	r5, #32
 4022 003c 24D0     		beq	.L333
 4023 003e 5C20     		movs	r0, #92
 4024              	.LVL427:
3321:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4025              		.loc 1 3321 7 is_stmt 0 view .LVU1233
 4026 0040 F3E7     		b	.L326
 4027              	.LVL428:
 4028              	.L332:
3321:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4029              		.loc 1 3321 7 view .LVU1234
 4030 0042 41F20B03 		movw	r3, #4107
 4031 0046 9D42     		cmp	r5, r3
 4032 0048 1CD1     		bne	.L373
 4033              	.LBB25:
3422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct netif *n = NULL;
 4034              		.loc 1 3422 11 is_stmt 1 view .LVU1235
3423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4035              		.loc 1 3423 11 view .LVU1236
 4036              	.LVL429:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4037              		.loc 1 3425 11 view .LVU1237
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4038              		.loc 1 3425 11 view .LVU1238
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4039              		.loc 1 3425 11 view .LVU1239
 4040 004a 069B     		ldr	r3, [sp, #24]
 4041 004c 052B     		cmp	r3, #5
 4042 004e 40F2C780 		bls	.L355
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4043              		.loc 1 3425 11 discriminator 2 view .LVU1240
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4044              		.loc 1 3425 11 discriminator 2 view .LVU1241
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 158


 4045 0052 0368     		ldr	r3, [r0]
 4046 0054 002B     		cmp	r3, #0
 4047 0056 00F0C580 		beq	.L356
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4048              		.loc 1 3425 11 discriminator 4 view .LVU1242
3427:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (iface->ifr_name[0] != 0) {
 4049              		.loc 1 3427 11 view .LVU1243
 4050              	.LVL430:
3428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             n = netif_find(iface->ifr_name);
 4051              		.loc 1 3428 11 view .LVU1244
3428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             n = netif_find(iface->ifr_name);
 4052              		.loc 1 3428 30 is_stmt 0 view .LVU1245
 4053 005a 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
3428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             n = netif_find(iface->ifr_name);
 4054              		.loc 1 3428 14 view .LVU1246
 4055 005c 002B     		cmp	r3, #0
 4056 005e 54D1     		bne	.L374
3423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4057              		.loc 1 3423 25 view .LVU1247
 4058 0060 0021     		movs	r1, #0
 4059              	.LVL431:
 4060              	.L338:
3436:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 4061              		.loc 1 3436 11 is_stmt 1 view .LVU1248
3436:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 4062              		.loc 1 3436 19 is_stmt 0 view .LVU1249
 4063 0062 3A68     		ldr	r2, [r7]
 4064 0064 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4065 0066 03F0F003 		and	r3, r3, #240
3436:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 4066              		.loc 1 3436 11 view .LVU1250
 4067 006a 102B     		cmp	r3, #16
 4068 006c 55D0     		beq	.L339
 4069 006e 202B     		cmp	r3, #32
 4070 0070 58D0     		beq	.L340
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4071              		.loc 1 3453 15 is_stmt 1 view .LVU1251
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4072              		.loc 1 3453 15 view .LVU1252
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4073              		.loc 1 3453 15 discriminator 1 view .LVU1253
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4074              		.loc 1 3453 15 discriminator 1 view .LVU1254
 4075 0072 694B     		ldr	r3, .L375
 4076 0074 40F67D52 		movw	r2, #3453
 4077 0078 6849     		ldr	r1, .L375+4
 4078              	.LVL432:
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4079              		.loc 1 3453 15 is_stmt 0 discriminator 1 view .LVU1255
 4080 007a 6948     		ldr	r0, .L375+8
 4081 007c FFF7FEFF 		bl	printf
 4082              	.LVL433:
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4083              		.loc 1 3453 15 is_stmt 1 discriminator 3 view .LVU1256
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4084              		.loc 1 3453 15 discriminator 3 view .LVU1257
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 159


 4085              		.loc 1 3454 15 view .LVU1258
 4086              	.LBE25:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4087              		.loc 1 3305 7 is_stmt 0 view .LVU1259
 4088 0080 0020     		movs	r0, #0
 4089              	.LBB26:
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4090              		.loc 1 3454 15 view .LVU1260
 4091 0082 D2E7     		b	.L326
 4092              	.LVL434:
 4093              	.L373:
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4094              		.loc 1 3454 15 view .LVU1261
 4095              	.LBE26:
3321:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4096              		.loc 1 3321 7 view .LVU1262
 4097 0084 5C20     		movs	r0, #92
 4098              	.LVL435:
3321:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4099              		.loc 1 3321 7 view .LVU1263
 4100 0086 D0E7     		b	.L326
 4101              	.LVL436:
 4102              	.L333:
3331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 4103              		.loc 1 3331 11 is_stmt 1 view .LVU1264
3331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 4104              		.loc 1 3331 14 is_stmt 0 view .LVU1265
 4105 0088 202D     		cmp	r5, #32
 4106 008a 06D1     		bne	.L335
3332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 4107              		.loc 1 3332 16 view .LVU1266
 4108 008c 3B68     		ldr	r3, [r7]
 4109 008e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
3331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 4110              		.loc 1 3331 41 discriminator 1 view .LVU1267
 4111 0090 03F0F003 		and	r3, r3, #240
 4112 0094 202B     		cmp	r3, #32
 4113 0096 40F09380 		bne	.L347
 4114              	.L335:
3337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4115              		.loc 1 3337 11 is_stmt 1 view .LVU1268
3337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4116              		.loc 1 3337 21 is_stmt 0 view .LVU1269
 4117 009a 2846     		mov	r0, r5
 4118              	.LVL437:
3337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4119              		.loc 1 3337 21 view .LVU1270
 4120 009c FFF7FEFF 		bl	lwip_sockopt_to_ipopt
 4121              	.LVL438:
 4122 00a0 0346     		mov	r3, r0
 4123              	.LVL439:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4124              		.loc 1 3339 11 is_stmt 1 view .LVU1271
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4125              		.loc 1 3339 11 view .LVU1272
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4126              		.loc 1 3339 11 view .LVU1273
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 160


 4127 00a2 069A     		ldr	r2, [sp, #24]
 4128 00a4 032A     		cmp	r2, #3
 4129 00a6 40F28D80 		bls	.L348
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4130              		.loc 1 3339 11 discriminator 2 view .LVU1274
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4131              		.loc 1 3339 11 discriminator 2 view .LVU1275
 4132 00aa 3A68     		ldr	r2, [r7]
 4133 00ac 002A     		cmp	r2, #0
 4134 00ae 00F08B80 		beq	.L349
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4135              		.loc 1 3339 11 is_stmt 0 discriminator 4 view .LVU1276
 4136 00b2 5268     		ldr	r2, [r2, #4]
 4137 00b4 002A     		cmp	r2, #0
 4138 00b6 00F08980 		beq	.L350
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4139              		.loc 1 3339 11 is_stmt 1 discriminator 6 view .LVU1277
3340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
 4140              		.loc 1 3340 11 view .LVU1278
3340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
 4141              		.loc 1 3340 15 is_stmt 0 view .LVU1279
 4142 00ba 3068     		ldr	r0, [r6]
 4143              	.LVL440:
3340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
 4144              		.loc 1 3340 14 view .LVU1280
 4145 00bc 20B1     		cbz	r0, .L336
3341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4146              		.loc 1 3341 13 is_stmt 1 view .LVU1281
 4147 00be 517A     		ldrb	r1, [r2, #9]	@ zero_extendqisi2
 4148 00c0 0B43     		orrs	r3, r3, r1
 4149              	.LVL441:
3341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4150              		.loc 1 3341 13 is_stmt 0 view .LVU1282
 4151 00c2 5372     		strb	r3, [r2, #9]
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4152              		.loc 1 3305 7 view .LVU1283
 4153 00c4 0020     		movs	r0, #0
 4154 00c6 B0E7     		b	.L326
 4155              	.LVL442:
 4156              	.L336:
3343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4157              		.loc 1 3343 13 is_stmt 1 view .LVU1284
 4158 00c8 517A     		ldrb	r1, [r2, #9]	@ zero_extendqisi2
 4159 00ca DB43     		mvns	r3, r3
 4160              	.LVL443:
3343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4161              		.loc 1 3343 13 is_stmt 0 view .LVU1285
 4162 00cc 5BB2     		sxtb	r3, r3
 4163              	.LVL444:
3343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4164              		.loc 1 3343 13 view .LVU1286
 4165 00ce 0B40     		ands	r3, r3, r1
 4166 00d0 5372     		strb	r3, [r2, #9]
 4167 00d2 AAE7     		b	.L326
 4168              	.LVL445:
 4169              	.L331:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 161


 4170              		.loc 1 3406 11 is_stmt 1 view .LVU1287
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4171              		.loc 1 3406 11 view .LVU1288
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4172              		.loc 1 3406 11 view .LVU1289
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4173              		.loc 1 3406 11 view .LVU1290
 4174 00d4 069B     		ldr	r3, [sp, #24]
 4175 00d6 032B     		cmp	r3, #3
 4176 00d8 7AD9     		bls	.L351
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4177              		.loc 1 3406 11 discriminator 2 view .LVU1291
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4178              		.loc 1 3406 11 discriminator 2 view .LVU1292
 4179 00da 0368     		ldr	r3, [r0]
 4180 00dc 002B     		cmp	r3, #0
 4181 00de 79D0     		beq	.L352
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4182              		.loc 1 3406 11 is_stmt 0 discriminator 4 view .LVU1293
 4183 00e0 5A68     		ldr	r2, [r3, #4]
 4184 00e2 002A     		cmp	r2, #0
 4185 00e4 78D0     		beq	.L353
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4186              		.loc 1 3406 11 is_stmt 1 discriminator 6 view .LVU1294
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4187              		.loc 1 3406 11 discriminator 6 view .LVU1295
 4188 00e6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4189 00e8 03F0F003 		and	r3, r3, #240
 4190 00ec 202B     		cmp	r3, #32
 4191 00ee 75D1     		bne	.L354
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4192              		.loc 1 3406 11 discriminator 8 view .LVU1296
3414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 4193              		.loc 1 3414 11 view .LVU1297
3414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 4194              		.loc 1 3414 15 is_stmt 0 view .LVU1298
 4195 00f0 3068     		ldr	r0, [r6]
 4196              	.LVL446:
3414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 4197              		.loc 1 3414 14 view .LVU1299
 4198 00f2 28B1     		cbz	r0, .L337
3415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4199              		.loc 1 3415 13 is_stmt 1 view .LVU1300
3415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4200              		.loc 1 3415 13 view .LVU1301
 4201 00f4 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
 4202 00f6 43F00103 		orr	r3, r3, #1
 4203 00fa 1374     		strb	r3, [r2, #16]
3415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4204              		.loc 1 3415 13 view .LVU1302
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4205              		.loc 1 3305 7 is_stmt 0 view .LVU1303
 4206 00fc 0020     		movs	r0, #0
 4207 00fe 94E7     		b	.L326
 4208              	.L337:
3417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4209              		.loc 1 3417 13 is_stmt 1 view .LVU1304
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 162


3417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4210              		.loc 1 3417 13 view .LVU1305
 4211 0100 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
 4212 0102 03F0FE03 		and	r3, r3, #254
 4213 0106 1374     		strb	r3, [r2, #16]
 4214 0108 8FE7     		b	.L326
 4215              	.LVL447:
 4216              	.L374:
 4217              	.LBB27:
3429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (n == NULL) {
 4218              		.loc 1 3429 13 view .LVU1306
3429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (n == NULL) {
 4219              		.loc 1 3429 17 is_stmt 0 view .LVU1307
 4220 010a 3046     		mov	r0, r6
 4221              	.LVL448:
3429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (n == NULL) {
 4222              		.loc 1 3429 17 view .LVU1308
 4223 010c FFF7FEFF 		bl	netif_find
 4224              	.LVL449:
3430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
 4225              		.loc 1 3430 13 is_stmt 1 view .LVU1309
3430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
 4226              		.loc 1 3430 16 is_stmt 0 view .LVU1310
 4227 0110 0146     		mov	r1, r0
 4228 0112 0028     		cmp	r0, #0
 4229 0114 A5D1     		bne	.L338
3432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 4230              		.loc 1 3432 22 view .LVU1311
 4231 0116 1320     		movs	r0, #19
 4232              	.LVL450:
3432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 4233              		.loc 1 3432 22 view .LVU1312
 4234 0118 87E7     		b	.L326
 4235              	.L339:
3439:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4236              		.loc 1 3439 15 is_stmt 1 view .LVU1313
 4237 011a 5068     		ldr	r0, [r2, #4]
 4238 011c FFF7FEFF 		bl	tcp_bind_netif
 4239              	.LVL451:
3440:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4240              		.loc 1 3440 15 view .LVU1314
 4241              	.LBE27:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4242              		.loc 1 3305 7 is_stmt 0 view .LVU1315
 4243 0120 0020     		movs	r0, #0
 4244              	.LBB28:
3440:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4245              		.loc 1 3440 15 view .LVU1316
 4246 0122 82E7     		b	.L326
 4247              	.LVL452:
 4248              	.L340:
3444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4249              		.loc 1 3444 15 is_stmt 1 view .LVU1317
 4250 0124 5068     		ldr	r0, [r2, #4]
 4251 0126 FFF7FEFF 		bl	udp_bind_netif
 4252              	.LVL453:
3445:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 163


 4253              		.loc 1 3445 15 view .LVU1318
 4254              	.LBE28:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4255              		.loc 1 3305 7 is_stmt 0 view .LVU1319
 4256 012a 0020     		movs	r0, #0
 4257              	.LBB29:
3445:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4258              		.loc 1 3445 15 view .LVU1320
 4259 012c 7DE7     		b	.L326
 4260              	.LVL454:
 4261              	.L330:
3445:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4262              		.loc 1 3445 15 view .LVU1321
 4263              	.LBE29:
3468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
 4264              		.loc 1 3468 7 is_stmt 1 view .LVU1322
 4265 012e 012D     		cmp	r5, #1
 4266 0130 0ED0     		beq	.L342
 4267 0132 022D     		cmp	r5, #2
 4268 0134 58D1     		bne	.L359
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4269              		.loc 1 3470 11 view .LVU1323
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4270              		.loc 1 3470 11 view .LVU1324
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4271              		.loc 1 3470 11 view .LVU1325
 4272 0136 069B     		ldr	r3, [sp, #24]
 4273 0138 032B     		cmp	r3, #3
 4274 013a 57D9     		bls	.L360
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4275              		.loc 1 3470 11 discriminator 2 view .LVU1326
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4276              		.loc 1 3470 11 discriminator 2 view .LVU1327
 4277 013c 0368     		ldr	r3, [r0]
 4278 013e 002B     		cmp	r3, #0
 4279 0140 56D0     		beq	.L361
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4280              		.loc 1 3470 11 is_stmt 0 discriminator 4 view .LVU1328
 4281 0142 5B68     		ldr	r3, [r3, #4]
 4282 0144 002B     		cmp	r3, #0
 4283 0146 55D0     		beq	.L362
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4284              		.loc 1 3470 11 is_stmt 1 discriminator 6 view .LVU1329
3471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 4285              		.loc 1 3471 11 view .LVU1330
3471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 4286              		.loc 1 3471 37 is_stmt 0 view .LVU1331
 4287 0148 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
3471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 4288              		.loc 1 3471 35 view .LVU1332
 4289 014a DA72     		strb	r2, [r3, #11]
3473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 4290              		.loc 1 3473 67 is_stmt 1 view .LVU1333
3474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
 4291              		.loc 1 3474 11 view .LVU1334
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4292              		.loc 1 3305 7 is_stmt 0 view .LVU1335
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 164


 4293 014c 2046     		mov	r0, r4
 4294              	.LVL455:
3474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
 4295              		.loc 1 3474 11 view .LVU1336
 4296 014e 6CE7     		b	.L326
 4297              	.LVL456:
 4298              	.L342:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4299              		.loc 1 3476 11 is_stmt 1 view .LVU1337
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4300              		.loc 1 3476 11 view .LVU1338
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4301              		.loc 1 3476 11 view .LVU1339
 4302 0150 069B     		ldr	r3, [sp, #24]
 4303 0152 032B     		cmp	r3, #3
 4304 0154 50D9     		bls	.L363
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4305              		.loc 1 3476 11 discriminator 2 view .LVU1340
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4306              		.loc 1 3476 11 discriminator 2 view .LVU1341
 4307 0156 0368     		ldr	r3, [r0]
 4308 0158 002B     		cmp	r3, #0
 4309 015a 4FD0     		beq	.L364
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4310              		.loc 1 3476 11 is_stmt 0 discriminator 4 view .LVU1342
 4311 015c 5B68     		ldr	r3, [r3, #4]
 4312 015e 002B     		cmp	r3, #0
 4313 0160 4ED0     		beq	.L365
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4314              		.loc 1 3476 11 is_stmt 1 discriminator 6 view .LVU1343
3477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 4315              		.loc 1 3477 11 view .LVU1344
3477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 4316              		.loc 1 3477 37 is_stmt 0 view .LVU1345
 4317 0162 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
3477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 4318              		.loc 1 3477 35 view .LVU1346
 4319 0164 9A72     		strb	r2, [r3, #10]
3479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 4320              		.loc 1 3479 67 is_stmt 1 view .LVU1347
3480:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 4321              		.loc 1 3480 11 view .LVU1348
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4322              		.loc 1 3305 7 is_stmt 0 view .LVU1349
 4323 0166 2046     		mov	r0, r4
 4324              	.LVL457:
3480:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 4325              		.loc 1 3480 11 view .LVU1350
 4326 0168 5FE7     		b	.L326
 4327              	.LVL458:
 4328              	.L328:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4329              		.loc 1 3553 7 is_stmt 1 view .LVU1351
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4330              		.loc 1 3553 7 view .LVU1352
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4331              		.loc 1 3553 7 view .LVU1353
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 165


3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4332              		.loc 1 3553 7 view .LVU1354
 4333 016a 069B     		ldr	r3, [sp, #24]
 4334 016c 032B     		cmp	r3, #3
 4335 016e 49D9     		bls	.L366
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4336              		.loc 1 3553 7 discriminator 2 view .LVU1355
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4337              		.loc 1 3553 7 discriminator 2 view .LVU1356
 4338 0170 0368     		ldr	r3, [r0]
 4339 0172 002B     		cmp	r3, #0
 4340 0174 48D0     		beq	.L367
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4341              		.loc 1 3553 7 is_stmt 0 discriminator 4 view .LVU1357
 4342 0176 5A68     		ldr	r2, [r3, #4]
 4343 0178 002A     		cmp	r2, #0
 4344 017a 47D0     		beq	.L368
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4345              		.loc 1 3553 7 is_stmt 1 discriminator 6 view .LVU1358
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4346              		.loc 1 3553 7 discriminator 6 view .LVU1359
 4347 017c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4348 017e 03F0F003 		and	r3, r3, #240
 4349 0182 102B     		cmp	r3, #16
 4350 0184 44D1     		bne	.L369
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4351              		.loc 1 3553 7 discriminator 8 view .LVU1360
3554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 4352              		.loc 1 3554 7 view .LVU1361
3554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 4353              		.loc 1 3554 30 is_stmt 0 view .LVU1362
 4354 0186 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
3554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 4355              		.loc 1 3554 10 view .LVU1363
 4356 0188 012B     		cmp	r3, #1
 4357 018a 43D0     		beq	.L370
3558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
 4358              		.loc 1 3558 7 is_stmt 1 view .LVU1364
 4359 018c 012D     		cmp	r5, #1
 4360 018e 03D0     		beq	.L343
 4361 0190 022D     		cmp	r5, #2
 4362 0192 0ED0     		beq	.L344
 4363 0194 5C20     		movs	r0, #92
 4364              	.LVL459:
3558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
 4365              		.loc 1 3558 7 is_stmt 0 view .LVU1365
 4366 0196 48E7     		b	.L326
 4367              	.LVL460:
 4368              	.L343:
3560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
 4369              		.loc 1 3560 11 is_stmt 1 view .LVU1366
3560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
 4370              		.loc 1 3560 15 is_stmt 0 view .LVU1367
 4371 0198 3068     		ldr	r0, [r6]
 4372              	.LVL461:
3560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
 4373              		.loc 1 3560 14 view .LVU1368
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 166


 4374 019a 28B1     		cbz	r0, .L345
3561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4375              		.loc 1 3561 13 is_stmt 1 view .LVU1369
3561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4376              		.loc 1 3561 13 view .LVU1370
 4377 019c 538B     		ldrh	r3, [r2, #26]
 4378 019e 43F04003 		orr	r3, r3, #64
 4379 01a2 5383     		strh	r3, [r2, #26]	@ movhi
3561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4380              		.loc 1 3561 13 view .LVU1371
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4381              		.loc 1 3305 7 is_stmt 0 view .LVU1372
 4382 01a4 0020     		movs	r0, #0
 4383 01a6 40E7     		b	.L326
 4384              	.L345:
3563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4385              		.loc 1 3563 13 is_stmt 1 view .LVU1373
3563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4386              		.loc 1 3563 13 view .LVU1374
 4387 01a8 538B     		ldrh	r3, [r2, #26]
 4388 01aa 23F04003 		bic	r3, r3, #64
 4389 01ae 5383     		strh	r3, [r2, #26]	@ movhi
 4390 01b0 3BE7     		b	.L326
 4391              	.LVL462:
 4392              	.L344:
3569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
 4393              		.loc 1 3569 11 view .LVU1375
3569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
 4394              		.loc 1 3569 52 is_stmt 0 view .LVU1376
 4395 01b2 3368     		ldr	r3, [r6]
3569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
 4396              		.loc 1 3569 42 view .LVU1377
 4397 01b4 C2F89430 		str	r3, [r2, #148]
3571:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 4398              		.loc 1 3571 74 is_stmt 1 view .LVU1378
3572:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4399              		.loc 1 3572 11 view .LVU1379
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4400              		.loc 1 3305 7 is_stmt 0 view .LVU1380
 4401 01b8 0020     		movs	r0, #0
 4402              	.LVL463:
3572:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4403              		.loc 1 3572 11 view .LVU1381
 4404 01ba 36E7     		b	.L326
 4405              	.LVL464:
 4406              	.L346:
3308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4407              		.loc 1 3308 12 view .LVU1382
 4408 01bc 0920     		movs	r0, #9
 4409              	.LVL465:
3308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4410              		.loc 1 3308 12 view .LVU1383
 4411 01be 34E7     		b	.L326
 4412              	.LVL466:
 4413              	.L347:
3334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4414              		.loc 1 3334 20 view .LVU1384
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 167


 4415 01c0 5C20     		movs	r0, #92
 4416              	.LVL467:
3334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4417              		.loc 1 3334 20 view .LVU1385
 4418 01c2 32E7     		b	.L326
 4419              	.LVL468:
 4420              	.L348:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4421              		.loc 1 3339 11 discriminator 1 view .LVU1386
 4422 01c4 1620     		movs	r0, #22
 4423              	.LVL469:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4424              		.loc 1 3339 11 discriminator 1 view .LVU1387
 4425 01c6 30E7     		b	.L326
 4426              	.LVL470:
 4427              	.L349:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4428              		.loc 1 3339 11 discriminator 5 view .LVU1388
 4429 01c8 1620     		movs	r0, #22
 4430              	.LVL471:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4431              		.loc 1 3339 11 discriminator 5 view .LVU1389
 4432 01ca 2EE7     		b	.L326
 4433              	.LVL472:
 4434              	.L350:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4435              		.loc 1 3339 11 discriminator 5 view .LVU1390
 4436 01cc 1620     		movs	r0, #22
 4437              	.LVL473:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4438              		.loc 1 3339 11 discriminator 5 view .LVU1391
 4439 01ce 2CE7     		b	.L326
 4440              	.LVL474:
 4441              	.L351:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4442              		.loc 1 3406 11 discriminator 1 view .LVU1392
 4443 01d0 1620     		movs	r0, #22
 4444              	.LVL475:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4445              		.loc 1 3406 11 discriminator 1 view .LVU1393
 4446 01d2 2AE7     		b	.L326
 4447              	.LVL476:
 4448              	.L352:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4449              		.loc 1 3406 11 discriminator 5 view .LVU1394
 4450 01d4 1620     		movs	r0, #22
 4451              	.LVL477:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4452              		.loc 1 3406 11 discriminator 5 view .LVU1395
 4453 01d6 28E7     		b	.L326
 4454              	.LVL478:
 4455              	.L353:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4456              		.loc 1 3406 11 discriminator 5 view .LVU1396
 4457 01d8 1620     		movs	r0, #22
 4458              	.LVL479:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 168


 4459              		.loc 1 3406 11 discriminator 5 view .LVU1397
 4460 01da 26E7     		b	.L326
 4461              	.LVL480:
 4462              	.L354:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4463              		.loc 1 3406 11 discriminator 7 view .LVU1398
 4464 01dc 5C20     		movs	r0, #92
 4465              	.LVL481:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4466              		.loc 1 3406 11 discriminator 7 view .LVU1399
 4467 01de 24E7     		b	.L326
 4468              	.LVL482:
 4469              	.L355:
 4470              	.LBB30:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4471              		.loc 1 3425 11 discriminator 1 view .LVU1400
 4472 01e0 1620     		movs	r0, #22
 4473              	.LVL483:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4474              		.loc 1 3425 11 discriminator 1 view .LVU1401
 4475 01e2 22E7     		b	.L326
 4476              	.LVL484:
 4477              	.L356:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4478              		.loc 1 3425 11 discriminator 3 view .LVU1402
 4479 01e4 1620     		movs	r0, #22
 4480              	.LVL485:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4481              		.loc 1 3425 11 discriminator 3 view .LVU1403
 4482 01e6 20E7     		b	.L326
 4483              	.LVL486:
 4484              	.L359:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4485              		.loc 1 3425 11 discriminator 3 view .LVU1404
 4486              	.LBE30:
3468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
 4487              		.loc 1 3468 7 view .LVU1405
 4488 01e8 5C20     		movs	r0, #92
 4489              	.LVL487:
3468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
 4490              		.loc 1 3468 7 view .LVU1406
 4491 01ea 1EE7     		b	.L326
 4492              	.LVL488:
 4493              	.L360:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4494              		.loc 1 3470 11 discriminator 1 view .LVU1407
 4495 01ec 1620     		movs	r0, #22
 4496              	.LVL489:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4497              		.loc 1 3470 11 discriminator 1 view .LVU1408
 4498 01ee 1CE7     		b	.L326
 4499              	.LVL490:
 4500              	.L361:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4501              		.loc 1 3470 11 discriminator 5 view .LVU1409
 4502 01f0 1620     		movs	r0, #22
 4503              	.LVL491:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 169


3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4504              		.loc 1 3470 11 discriminator 5 view .LVU1410
 4505 01f2 1AE7     		b	.L326
 4506              	.LVL492:
 4507              	.L362:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4508              		.loc 1 3470 11 discriminator 5 view .LVU1411
 4509 01f4 1620     		movs	r0, #22
 4510              	.LVL493:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4511              		.loc 1 3470 11 discriminator 5 view .LVU1412
 4512 01f6 18E7     		b	.L326
 4513              	.LVL494:
 4514              	.L363:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4515              		.loc 1 3476 11 discriminator 1 view .LVU1413
 4516 01f8 1620     		movs	r0, #22
 4517              	.LVL495:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4518              		.loc 1 3476 11 discriminator 1 view .LVU1414
 4519 01fa 16E7     		b	.L326
 4520              	.LVL496:
 4521              	.L364:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4522              		.loc 1 3476 11 discriminator 5 view .LVU1415
 4523 01fc 1620     		movs	r0, #22
 4524              	.LVL497:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4525              		.loc 1 3476 11 discriminator 5 view .LVU1416
 4526 01fe 14E7     		b	.L326
 4527              	.LVL498:
 4528              	.L365:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4529              		.loc 1 3476 11 discriminator 5 view .LVU1417
 4530 0200 1620     		movs	r0, #22
 4531              	.LVL499:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4532              		.loc 1 3476 11 discriminator 5 view .LVU1418
 4533 0202 12E7     		b	.L326
 4534              	.LVL500:
 4535              	.L366:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4536              		.loc 1 3553 7 discriminator 1 view .LVU1419
 4537 0204 1620     		movs	r0, #22
 4538              	.LVL501:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4539              		.loc 1 3553 7 discriminator 1 view .LVU1420
 4540 0206 10E7     		b	.L326
 4541              	.LVL502:
 4542              	.L367:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4543              		.loc 1 3553 7 discriminator 5 view .LVU1421
 4544 0208 1620     		movs	r0, #22
 4545              	.LVL503:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4546              		.loc 1 3553 7 discriminator 5 view .LVU1422
 4547 020a 0EE7     		b	.L326
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 170


 4548              	.LVL504:
 4549              	.L368:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4550              		.loc 1 3553 7 discriminator 5 view .LVU1423
 4551 020c 1620     		movs	r0, #22
 4552              	.LVL505:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4553              		.loc 1 3553 7 discriminator 5 view .LVU1424
 4554 020e 0CE7     		b	.L326
 4555              	.LVL506:
 4556              	.L369:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4557              		.loc 1 3553 7 discriminator 7 view .LVU1425
 4558 0210 5C20     		movs	r0, #92
 4559              	.LVL507:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4560              		.loc 1 3553 7 discriminator 7 view .LVU1426
 4561 0212 0AE7     		b	.L326
 4562              	.LVL508:
 4563              	.L370:
3556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 4564              		.loc 1 3556 16 view .LVU1427
 4565 0214 1620     		movs	r0, #22
 4566              	.LVL509:
3556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 4567              		.loc 1 3556 16 view .LVU1428
 4568 0216 08E7     		b	.L326
 4569              	.L376:
 4570              		.align	2
 4571              	.L375:
 4572 0218 00000000 		.word	.LC0
 4573 021c 00000000 		.word	.LC19
 4574 0220 48000000 		.word	.LC2
 4575              		.cfi_endproc
 4576              	.LFE413:
 4578              		.section	.text.lwip_socket_thread_init,"ax",%progbits
 4579              		.align	1
 4580              		.global	lwip_socket_thread_init
 4581              		.syntax unified
 4582              		.thumb
 4583              		.thumb_func
 4585              	lwip_socket_thread_init:
 4586              	.LFB364:
 321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netconn_thread_init();
 4587              		.loc 1 321 1 is_stmt 1 view -0
 4588              		.cfi_startproc
 4589              		@ args = 0, pretend = 0, frame = 0
 4590              		@ frame_needed = 0, uses_anonymous_args = 0
 4591              		@ link register save eliminated.
 322:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4592              		.loc 1 322 24 view .LVU1430
 323:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4593              		.loc 1 323 1 is_stmt 0 view .LVU1431
 4594 0000 7047     		bx	lr
 4595              		.cfi_endproc
 4596              	.LFE364:
 4598              		.section	.text.lwip_socket_thread_cleanup,"ax",%progbits
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 171


 4599              		.align	1
 4600              		.global	lwip_socket_thread_cleanup
 4601              		.syntax unified
 4602              		.thumb
 4603              		.thumb_func
 4605              	lwip_socket_thread_cleanup:
 4606              	.LFB365:
 328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netconn_thread_cleanup();
 4607              		.loc 1 328 1 is_stmt 1 view -0
 4608              		.cfi_startproc
 4609              		@ args = 0, pretend = 0, frame = 0
 4610              		@ frame_needed = 0, uses_anonymous_args = 0
 4611              		@ link register save eliminated.
 329:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4612              		.loc 1 329 27 view .LVU1433
 330:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4613              		.loc 1 330 1 is_stmt 0 view .LVU1434
 4614 0000 7047     		bx	lr
 4615              		.cfi_endproc
 4616              	.LFE365:
 4618              		.section	.text.lwip_socket_dbg_get_socket,"ax",%progbits
 4619              		.align	1
 4620              		.global	lwip_socket_dbg_get_socket
 4621              		.syntax unified
 4622              		.thumb
 4623              		.thumb_func
 4625              	lwip_socket_dbg_get_socket:
 4626              	.LVL510:
 4627              	.LFB367:
 423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return tryget_socket_unconn_nouse(fd);
 4628              		.loc 1 423 1 is_stmt 1 view -0
 4629              		.cfi_startproc
 4630              		@ args = 0, pretend = 0, frame = 0
 4631              		@ frame_needed = 0, uses_anonymous_args = 0
 423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return tryget_socket_unconn_nouse(fd);
 4632              		.loc 1 423 1 is_stmt 0 view .LVU1436
 4633 0000 08B5     		push	{r3, lr}
 4634              	.LCFI50:
 4635              		.cfi_def_cfa_offset 8
 4636              		.cfi_offset 3, -8
 4637              		.cfi_offset 14, -4
 424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4638              		.loc 1 424 3 is_stmt 1 view .LVU1437
 424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4639              		.loc 1 424 10 is_stmt 0 view .LVU1438
 4640 0002 FFF7FEFF 		bl	tryget_socket_unconn_nouse
 4641              	.LVL511:
 425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4642              		.loc 1 425 1 view .LVU1439
 4643 0006 08BD     		pop	{r3, pc}
 4644              		.cfi_endproc
 4645              	.LFE367:
 4647              		.section	.rodata.lwip_accept.str1.4,"aMS",%progbits,1
 4648              		.align	2
 4649              	.LC20:
 4650 0000 6E657763 		.ascii	"newconn != NULL\000"
 4650      6F6E6E20 
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 172


 4650      213D204E 
 4650      554C4C00 
 4651              		.align	2
 4652              	.LC21:
 4653 0010 696E7661 		.ascii	"invalid socket index\000"
 4653      6C696420 
 4653      736F636B 
 4653      65742069 
 4653      6E646578 
 4654              		.section	.text.lwip_accept,"ax",%progbits
 4655              		.align	1
 4656              		.global	lwip_accept
 4657              		.syntax unified
 4658              		.thumb
 4659              		.thumb_func
 4661              	lwip_accept:
 4662              	.LVL512:
 4663              	.LFB376:
 621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 4664              		.loc 1 621 1 is_stmt 1 view -0
 4665              		.cfi_startproc
 4666              		@ args = 0, pretend = 0, frame = 32
 4667              		@ frame_needed = 0, uses_anonymous_args = 0
 621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 4668              		.loc 1 621 1 is_stmt 0 view .LVU1441
 4669 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4670              	.LCFI51:
 4671              		.cfi_def_cfa_offset 24
 4672              		.cfi_offset 4, -24
 4673              		.cfi_offset 5, -20
 4674              		.cfi_offset 6, -16
 4675              		.cfi_offset 7, -12
 4676              		.cfi_offset 8, -8
 4677              		.cfi_offset 14, -4
 4678 0004 88B0     		sub	sp, sp, #32
 4679              	.LCFI52:
 4680              		.cfi_def_cfa_offset 56
 4681 0006 0F46     		mov	r7, r1
 4682 0008 1646     		mov	r6, r2
 622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *newconn;
 4683              		.loc 1 622 3 is_stmt 1 view .LVU1442
 623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
 4684              		.loc 1 623 3 view .LVU1443
 624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port = 0;
 4685              		.loc 1 624 3 view .LVU1444
 625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int newsock;
 4686              		.loc 1 625 3 view .LVU1445
 625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int newsock;
 4687              		.loc 1 625 9 is_stmt 0 view .LVU1446
 4688 000a 0023     		movs	r3, #0
 4689 000c ADF81630 		strh	r3, [sp, #22]	@ movhi
 626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 4690              		.loc 1 626 3 is_stmt 1 view .LVU1447
 627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int recvevent;
 4691              		.loc 1 627 3 view .LVU1448
 628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 4692              		.loc 1 628 3 view .LVU1449
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 173


 629:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4693              		.loc 1 629 3 view .LVU1450
 631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 4694              		.loc 1 631 58 view .LVU1451
 632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 4695              		.loc 1 632 3 view .LVU1452
 632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 4696              		.loc 1 632 10 is_stmt 0 view .LVU1453
 4697 0010 FFF7FEFF 		bl	get_socket
 4698              	.LVL513:
 633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4699              		.loc 1 633 3 is_stmt 1 view .LVU1454
 633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4700              		.loc 1 633 6 is_stmt 0 view .LVU1455
 4701 0014 0028     		cmp	r0, #0
 4702 0016 00F0A180 		beq	.L396
 4703 001a 0446     		mov	r4, r0
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 4704              		.loc 1 638 3 is_stmt 1 view .LVU1456
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 4705              		.loc 1 638 9 is_stmt 0 view .LVU1457
 4706 001c 07A9     		add	r1, sp, #28
 4707 001e 0068     		ldr	r0, [r0]
 4708              	.LVL514:
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 4709              		.loc 1 638 9 view .LVU1458
 4710 0020 FFF7FEFF 		bl	netconn_accept
 4711              	.LVL515:
 639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 4712              		.loc 1 639 3 is_stmt 1 view .LVU1459
 639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 4713              		.loc 1 639 6 is_stmt 0 view .LVU1460
 4714 0024 00BB     		cbnz	r0, .L398
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4715              		.loc 1 651 3 is_stmt 1 view .LVU1461
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4716              		.loc 1 651 3 view .LVU1462
 4717 0026 079B     		ldr	r3, [sp, #28]
 4718 0028 002B     		cmp	r3, #0
 4719 002a 37D0     		beq	.L399
 4720              	.LVL516:
 4721              	.L387:
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4722              		.loc 1 651 3 discriminator 3 view .LVU1463
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4723              		.loc 1 651 3 discriminator 3 view .LVU1464
 653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newsock == -1) {
 4724              		.loc 1 653 3 view .LVU1465
 653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newsock == -1) {
 4725              		.loc 1 653 13 is_stmt 0 view .LVU1466
 4726 002c 0121     		movs	r1, #1
 4727 002e 0798     		ldr	r0, [sp, #28]
 4728 0030 FFF7FEFF 		bl	alloc_socket
 4729              	.LVL517:
 4730 0034 0546     		mov	r5, r0
 4731              	.LVL518:
 654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(newconn);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 174


 4732              		.loc 1 654 3 is_stmt 1 view .LVU1467
 654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(newconn);
 4733              		.loc 1 654 6 is_stmt 0 view .LVU1468
 4734 0036 B0F1FF3F 		cmp	r0, #-1
 4735 003a 37D0     		beq	.L400
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4736              		.loc 1 660 3 is_stmt 1 view .LVU1469
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4737              		.loc 1 660 3 view .LVU1470
 4738 003c 0328     		cmp	r0, #3
 4739 003e 3CD8     		bhi	.L401
 4740              	.LVL519:
 4741              	.L389:
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4742              		.loc 1 660 3 discriminator 3 view .LVU1471
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4743              		.loc 1 660 3 discriminator 3 view .LVU1472
 661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4744              		.loc 1 661 3 view .LVU1473
 661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4745              		.loc 1 661 9 is_stmt 0 view .LVU1474
 4746 0040 484B     		ldr	r3, .L404
 4747 0042 03EB0518 		add	r8, r3, r5, lsl #4
 4748              	.LVL520:
 668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   recvevent = (s16_t)(-1 - newconn->socket);
 4749              		.loc 1 668 3 is_stmt 1 view .LVU1475
 4750 0046 FFF7FEFF 		bl	sys_arch_protect
 4751              	.LVL521:
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 4752              		.loc 1 669 3 view .LVU1476
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 4753              		.loc 1 669 35 is_stmt 0 view .LVU1477
 4754 004a 079B     		ldr	r3, [sp, #28]
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 4755              		.loc 1 669 26 view .LVU1478
 4756 004c B3F91840 		ldrsh	r4, [r3, #24]
 4757              	.LVL522:
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 4758              		.loc 1 669 15 view .LVU1479
 4759 0050 E443     		mvns	r4, r4
 4760              	.LVL523:
 670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 4761              		.loc 1 670 3 is_stmt 1 view .LVU1480
 670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 4762              		.loc 1 670 19 is_stmt 0 view .LVU1481
 4763 0052 9D61     		str	r5, [r3, #24]
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4764              		.loc 1 671 3 is_stmt 1 view .LVU1482
 4765 0054 FFF7FEFF 		bl	sys_arch_unprotect
 4766              	.LVL524:
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LOCK_TCPIP_CORE();
 4767              		.loc 1 673 3 view .LVU1483
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LOCK_TCPIP_CORE();
 4768              		.loc 1 673 14 is_stmt 0 view .LVU1484
 4769 0058 079B     		ldr	r3, [sp, #28]
 4770 005a 5B6A     		ldr	r3, [r3, #36]
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LOCK_TCPIP_CORE();
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 175


 4771              		.loc 1 673 6 view .LVU1485
 4772 005c 002B     		cmp	r3, #0
 4773 005e 3FD0     		beq	.L390
 674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     while (recvevent > 0) {
 4774              		.loc 1 674 5 is_stmt 1 view .LVU1486
 4775 0060 4148     		ldr	r0, .L404+4
 4776 0062 FFF7FEFF 		bl	sys_mutex_lock
 4777              	.LVL525:
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recvevent--;
 4778              		.loc 1 675 5 view .LVU1487
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recvevent--;
 4779              		.loc 1 675 11 is_stmt 0 view .LVU1488
 4780 0066 36E0     		b	.L391
 4781              	.LVL526:
 4782              	.L398:
 640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 4783              		.loc 1 640 92 is_stmt 1 view .LVU1489
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 4784              		.loc 1 641 5 view .LVU1490
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 4785              		.loc 1 641 9 is_stmt 0 view .LVU1491
 4786 0068 2268     		ldr	r2, [r4]
 4787 006a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 4788              		.loc 1 641 8 view .LVU1492
 4789 006c 02F0F002 		and	r2, r2, #240
 4790 0070 102A     		cmp	r2, #16
 4791 0072 05D0     		beq	.L384
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4792              		.loc 1 642 7 is_stmt 1 view .LVU1493
 4793              	.LBB31:
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4794              		.loc 1 642 7 view .LVU1494
 4795              	.LVL527:
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4796              		.loc 1 642 7 view .LVU1495
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4797              		.loc 1 642 7 view .LVU1496
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4798              		.loc 1 642 7 discriminator 1 view .LVU1497
 4799 0074 3D4B     		ldr	r3, .L404+8
 4800 0076 5F22     		movs	r2, #95
 4801 0078 1A60     		str	r2, [r3]
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4802              		.loc 1 642 7 discriminator 3 view .LVU1498
 4803              	.LBE31:
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4804              		.loc 1 642 7 discriminator 3 view .LVU1499
 4805              	.LVL528:
 4806              	.L385:
 4807              	.LBB32:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4808              		.loc 1 646 7 discriminator 3 view .LVU1500
 4809              	.LBE32:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4810              		.loc 1 646 7 discriminator 3 view .LVU1501
 648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 176


 4811              		.loc 1 648 22 view .LVU1502
 649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4812              		.loc 1 649 5 view .LVU1503
 649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4813              		.loc 1 649 12 is_stmt 0 view .LVU1504
 4814 007a 4FF0FF35 		mov	r5, #-1
 4815 007e 33E0     		b	.L381
 4816              	.LVL529:
 4817              	.L384:
 643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EINVAL);
 4818              		.loc 1 643 12 is_stmt 1 view .LVU1505
 643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EINVAL);
 4819              		.loc 1 643 15 is_stmt 0 view .LVU1506
 4820 0080 10F10F0F 		cmn	r0, #15
 4821 0084 03D1     		bne	.L386
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4822              		.loc 1 644 7 is_stmt 1 view .LVU1507
 4823              	.LBB33:
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4824              		.loc 1 644 7 view .LVU1508
 4825              	.LVL530:
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4826              		.loc 1 644 7 view .LVU1509
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4827              		.loc 1 644 7 view .LVU1510
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4828              		.loc 1 644 7 discriminator 1 view .LVU1511
 4829 0086 394B     		ldr	r3, .L404+8
 4830 0088 1622     		movs	r2, #22
 4831 008a 1A60     		str	r2, [r3]
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4832              		.loc 1 644 7 discriminator 3 view .LVU1512
 4833              	.LBE33:
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4834              		.loc 1 644 7 discriminator 3 view .LVU1513
 4835 008c F5E7     		b	.L385
 4836              	.LVL531:
 4837              	.L386:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4838              		.loc 1 646 7 view .LVU1514
 4839              	.LBB34:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4840              		.loc 1 646 7 view .LVU1515
 4841 008e FFF7FEFF 		bl	err_to_errno
 4842              	.LVL532:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4843              		.loc 1 646 7 discriminator 1 view .LVU1516
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4844              		.loc 1 646 7 discriminator 1 view .LVU1517
 4845 0092 0028     		cmp	r0, #0
 4846 0094 F1D0     		beq	.L385
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4847              		.loc 1 646 7 discriminator 1 view .LVU1518
 4848 0096 354B     		ldr	r3, .L404+8
 4849 0098 1860     		str	r0, [r3]
 4850 009a EEE7     		b	.L385
 4851              	.LVL533:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 177


 4852              	.L399:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4853              		.loc 1 646 7 is_stmt 0 discriminator 1 view .LVU1519
 4854              	.LBE34:
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4855              		.loc 1 651 3 is_stmt 1 discriminator 1 view .LVU1520
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4856              		.loc 1 651 3 discriminator 1 view .LVU1521
 4857 009c 344B     		ldr	r3, .L404+12
 4858 009e 40F28B22 		movw	r2, #651
 4859 00a2 3449     		ldr	r1, .L404+16
 4860 00a4 3448     		ldr	r0, .L404+20
 4861              	.LVL534:
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4862              		.loc 1 651 3 is_stmt 0 discriminator 1 view .LVU1522
 4863 00a6 FFF7FEFF 		bl	printf
 4864              	.LVL535:
 4865 00aa BFE7     		b	.L387
 4866              	.LVL536:
 4867              	.L400:
 655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENFILE);
 4868              		.loc 1 655 5 is_stmt 1 view .LVU1523
 4869 00ac 0798     		ldr	r0, [sp, #28]
 4870              	.LVL537:
 655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENFILE);
 4871              		.loc 1 655 5 is_stmt 0 view .LVU1524
 4872 00ae FFF7FEFF 		bl	netconn_delete
 4873              	.LVL538:
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4874              		.loc 1 656 5 is_stmt 1 view .LVU1525
 4875              	.LBB35:
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4876              		.loc 1 656 5 view .LVU1526
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4877              		.loc 1 656 5 view .LVU1527
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4878              		.loc 1 656 5 view .LVU1528
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4879              		.loc 1 656 5 discriminator 1 view .LVU1529
 4880 00b2 2E4B     		ldr	r3, .L404+8
 4881 00b4 1722     		movs	r2, #23
 4882 00b6 1A60     		str	r2, [r3]
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4883              		.loc 1 656 5 discriminator 3 view .LVU1530
 4884              	.LBE35:
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4885              		.loc 1 656 5 discriminator 3 view .LVU1531
 657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4886              		.loc 1 657 22 view .LVU1532
 658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4887              		.loc 1 658 5 view .LVU1533
 658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4888              		.loc 1 658 12 is_stmt 0 view .LVU1534
 4889 00b8 16E0     		b	.L381
 4890              	.LVL539:
 4891              	.L401:
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 178


 4892              		.loc 1 660 3 is_stmt 1 discriminator 1 view .LVU1535
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4893              		.loc 1 660 3 discriminator 1 view .LVU1536
 4894 00ba 2D4B     		ldr	r3, .L404+12
 4895 00bc 4FF42572 		mov	r2, #660
 4896 00c0 2E49     		ldr	r1, .L404+24
 4897 00c2 2D48     		ldr	r0, .L404+20
 4898              	.LVL540:
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4899              		.loc 1 660 3 is_stmt 0 discriminator 1 view .LVU1537
 4900 00c4 FFF7FEFF 		bl	printf
 4901              	.LVL541:
 4902 00c8 BAE7     		b	.L389
 4903              	.LVL542:
 4904              	.L392:
 676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       newconn->callback(newconn, NETCONN_EVT_RCVPLUS, 0);
 4905              		.loc 1 676 7 is_stmt 1 view .LVU1538
 676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       newconn->callback(newconn, NETCONN_EVT_RCVPLUS, 0);
 4906              		.loc 1 676 16 is_stmt 0 view .LVU1539
 4907 00ca 013C     		subs	r4, r4, #1
 4908              	.LVL543:
 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4909              		.loc 1 677 7 is_stmt 1 view .LVU1540
 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4910              		.loc 1 677 14 is_stmt 0 view .LVU1541
 4911 00cc 0798     		ldr	r0, [sp, #28]
 4912 00ce 436A     		ldr	r3, [r0, #36]
 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4913              		.loc 1 677 7 view .LVU1542
 4914 00d0 0022     		movs	r2, #0
 4915 00d2 1146     		mov	r1, r2
 4916 00d4 9847     		blx	r3
 4917              	.LVL544:
 4918              	.L391:
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recvevent--;
 4919              		.loc 1 675 22 is_stmt 1 view .LVU1543
 4920 00d6 002C     		cmp	r4, #0
 4921 00d8 F7DC     		bgt	.L392
 679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4922              		.loc 1 679 5 view .LVU1544
 4923 00da 2348     		ldr	r0, .L404+4
 4924 00dc FFF7FEFF 		bl	sys_mutex_unlock
 4925              	.LVL545:
 4926              	.L390:
 685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     union sockaddr_aligned tempaddr;
 4927              		.loc 1 685 3 view .LVU1545
 685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     union sockaddr_aligned tempaddr;
 4928              		.loc 1 685 6 is_stmt 0 view .LVU1546
 4929 00e0 002F     		cmp	r7, #0
 4930 00e2 18BF     		it	ne
 4931 00e4 002E     		cmpne	r6, #0
 4932 00e6 03D1     		bne	.L402
 4933              	.LVL546:
 4934              	.L381:
 715:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4935              		.loc 1 715 1 view .LVU1547
 4936 00e8 2846     		mov	r0, r5
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 179


 4937 00ea 08B0     		add	sp, sp, #32
 4938              	.LCFI53:
 4939              		.cfi_remember_state
 4940              		.cfi_def_cfa_offset 24
 4941              		@ sp needed
 4942 00ec BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4943              	.LVL547:
 4944              	.L402:
 4945              	.LCFI54:
 4946              		.cfi_restore_state
 4947              	.LBB36:
 686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* get the IP address and port of the remote host */
 4948              		.loc 1 686 5 is_stmt 1 view .LVU1548
 688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 4949              		.loc 1 688 5 view .LVU1549
 688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 4950              		.loc 1 688 11 is_stmt 0 view .LVU1550
 4951 00f0 0023     		movs	r3, #0
 4952 00f2 0DF11602 		add	r2, sp, #22
 4953 00f6 06A9     		add	r1, sp, #24
 4954 00f8 0798     		ldr	r0, [sp, #28]
 4955 00fa FFF7FEFF 		bl	netconn_getaddr
 4956              	.LVL548:
 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 4957              		.loc 1 689 5 is_stmt 1 view .LVU1551
 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 4958              		.loc 1 689 8 is_stmt 0 view .LVU1552
 4959 00fe 0446     		mov	r4, r0
 4960              	.LVL549:
 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 4961              		.loc 1 689 8 view .LVU1553
 4962 0100 E0B9     		cbnz	r0, .L403
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4963              		.loc 1 698 5 is_stmt 1 view .LVU1554
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4964              		.loc 1 698 5 view .LVU1555
 4965 0102 1023     		movs	r3, #16
 4966 0104 8DF80430 		strb	r3, [sp, #4]
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4967              		.loc 1 698 5 view .LVU1556
 4968 0108 0223     		movs	r3, #2
 4969 010a 8DF80530 		strb	r3, [sp, #5]
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4970              		.loc 1 698 5 view .LVU1557
 4971 010e BDF81600 		ldrh	r0, [sp, #22]
 4972              	.LVL550:
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4973              		.loc 1 698 5 is_stmt 0 view .LVU1558
 4974 0112 FFF7FEFF 		bl	lwip_htons
 4975              	.LVL551:
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4976              		.loc 1 698 5 discriminator 1 view .LVU1559
 4977 0116 ADF80600 		strh	r0, [sp, #6]	@ movhi
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4978              		.loc 1 698 5 is_stmt 1 discriminator 1 view .LVU1560
 4979 011a 069B     		ldr	r3, [sp, #24]
 4980 011c 0293     		str	r3, [sp, #8]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 180


 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4981              		.loc 1 698 5 discriminator 1 view .LVU1561
 4982 011e 0023     		movs	r3, #0
 4983 0120 0393     		str	r3, [sp, #12]
 4984 0122 0493     		str	r3, [sp, #16]
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4985              		.loc 1 698 5 discriminator 2 view .LVU1562
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 4986              		.loc 1 699 5 view .LVU1563
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 4987              		.loc 1 699 9 is_stmt 0 view .LVU1564
 4988 0124 3268     		ldr	r2, [r6]
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 4989              		.loc 1 699 31 view .LVU1565
 4990 0126 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 4991              		.loc 1 699 8 view .LVU1566
 4992 012a 9A42     		cmp	r2, r3
 4993 012c 00D9     		bls	.L395
 700:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4994              		.loc 1 700 7 is_stmt 1 view .LVU1567
 700:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4995              		.loc 1 700 16 is_stmt 0 view .LVU1568
 4996 012e 3360     		str	r3, [r6]
 4997              	.L395:
 702:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4998              		.loc 1 702 5 is_stmt 1 view .LVU1569
 4999 0130 3268     		ldr	r2, [r6]
 5000 0132 01A9     		add	r1, sp, #4
 5001 0134 3846     		mov	r0, r7
 5002 0136 FFF7FEFF 		bl	memcpy
 5003              	.LVL552:
 704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 5004              		.loc 1 704 92 view .LVU1570
 705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", port));
 5005              		.loc 1 705 50 view .LVU1571
 706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5006              		.loc 1 706 59 view .LVU1572
 5007              	.LBE36:
 5008 013a D5E7     		b	.L381
 5009              	.LVL553:
 5010              	.L403:
 5011              	.LBB38:
 690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_delete(newconn);
 5012              		.loc 1 690 93 view .LVU1573
 691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       free_socket(nsock, 1);
 5013              		.loc 1 691 7 view .LVU1574
 5014 013c 0798     		ldr	r0, [sp, #28]
 5015              	.LVL554:
 691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       free_socket(nsock, 1);
 5016              		.loc 1 691 7 is_stmt 0 view .LVU1575
 5017 013e FFF7FEFF 		bl	netconn_delete
 5018              	.LVL555:
 692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 5019              		.loc 1 692 7 is_stmt 1 view .LVU1576
 5020 0142 0121     		movs	r1, #1
 5021 0144 4046     		mov	r0, r8
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 181


 5022 0146 FFF7FEFF 		bl	free_socket
 5023              	.LVL556:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5024              		.loc 1 693 7 view .LVU1577
 5025              	.LBB37:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5026              		.loc 1 693 7 view .LVU1578
 5027 014a 2046     		mov	r0, r4
 5028 014c FFF7FEFF 		bl	err_to_errno
 5029              	.LVL557:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5030              		.loc 1 693 7 discriminator 1 view .LVU1579
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5031              		.loc 1 693 7 discriminator 1 view .LVU1580
 5032 0150 08B1     		cbz	r0, .L394
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5033              		.loc 1 693 7 discriminator 1 view .LVU1581
 5034 0152 064B     		ldr	r3, .L404+8
 5035 0154 1860     		str	r0, [r3]
 5036              	.L394:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5037              		.loc 1 693 7 discriminator 3 view .LVU1582
 5038              	.LBE37:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5039              		.loc 1 693 7 discriminator 3 view .LVU1583
 694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 5040              		.loc 1 694 24 view .LVU1584
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5041              		.loc 1 695 7 view .LVU1585
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5042              		.loc 1 695 14 is_stmt 0 view .LVU1586
 5043 0156 4FF0FF35 		mov	r5, #-1
 5044              	.LVL558:
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5045              		.loc 1 695 14 view .LVU1587
 5046 015a C5E7     		b	.L381
 5047              	.LVL559:
 5048              	.L396:
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5049              		.loc 1 695 14 view .LVU1588
 5050              	.LBE38:
 634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5051              		.loc 1 634 12 view .LVU1589
 5052 015c 4FF0FF35 		mov	r5, #-1
 5053 0160 C2E7     		b	.L381
 5054              	.L405:
 5055 0162 00BF     		.align	2
 5056              	.L404:
 5057 0164 00000000 		.word	sockets
 5058 0168 00000000 		.word	lock_tcpip_core
 5059 016c 00000000 		.word	errno
 5060 0170 00000000 		.word	.LC0
 5061 0174 00000000 		.word	.LC20
 5062 0178 48000000 		.word	.LC2
 5063 017c 10000000 		.word	.LC21
 5064              		.cfi_endproc
 5065              	.LFE376:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 182


 5067              		.section	.rodata.lwip_bind.str1.4,"aMS",%progbits,1
 5068              		.align	2
 5069              	.LC22:
 5070 0000 6C776970 		.ascii	"lwip_bind: invalid address\000"
 5070      5F62696E 
 5070      643A2069 
 5070      6E76616C 
 5070      69642061 
 5071              		.section	.text.lwip_bind,"ax",%progbits
 5072              		.align	1
 5073              		.global	lwip_bind
 5074              		.syntax unified
 5075              		.thumb
 5076              		.thumb_func
 5078              	lwip_bind:
 5079              	.LVL560:
 5080              	.LFB377:
 719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5081              		.loc 1 719 1 is_stmt 1 view -0
 5082              		.cfi_startproc
 5083              		@ args = 0, pretend = 0, frame = 8
 5084              		@ frame_needed = 0, uses_anonymous_args = 0
 719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5085              		.loc 1 719 1 is_stmt 0 view .LVU1591
 5086 0000 70B5     		push	{r4, r5, r6, lr}
 5087              	.LCFI55:
 5088              		.cfi_def_cfa_offset 16
 5089              		.cfi_offset 4, -16
 5090              		.cfi_offset 5, -12
 5091              		.cfi_offset 6, -8
 5092              		.cfi_offset 14, -4
 5093 0002 82B0     		sub	sp, sp, #8
 5094              	.LCFI56:
 5095              		.cfi_def_cfa_offset 24
 5096 0004 0C46     		mov	r4, r1
 5097 0006 1546     		mov	r5, r2
 720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t local_addr;
 5098              		.loc 1 720 3 is_stmt 1 view .LVU1592
 721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t local_port;
 5099              		.loc 1 721 3 view .LVU1593
 722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5100              		.loc 1 722 3 view .LVU1594
 723:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5101              		.loc 1 723 3 view .LVU1595
 725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5102              		.loc 1 725 3 view .LVU1596
 725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5103              		.loc 1 725 10 is_stmt 0 view .LVU1597
 5104 0008 FFF7FEFF 		bl	get_socket
 5105              	.LVL561:
 726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5106              		.loc 1 726 3 is_stmt 1 view .LVU1598
 726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5107              		.loc 1 726 6 is_stmt 0 view .LVU1599
 5108 000c 78B3     		cbz	r0, .L412
 5109 000e 0646     		mov	r6, r0
 730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 183


 5110              		.loc 1 730 3 is_stmt 1 view .LVU1600
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5111              		.loc 1 738 3 view .LVU1601
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5112              		.loc 1 738 3 view .LVU1602
 5113 0010 102D     		cmp	r5, #16
 5114 0012 13D1     		bne	.L408
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5115              		.loc 1 738 3 is_stmt 0 discriminator 2 view .LVU1603
 5116 0014 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 5117 0016 022B     		cmp	r3, #2
 5118 0018 10D1     		bne	.L408
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5119              		.loc 1 738 3 discriminator 4 view .LVU1604
 5120 001a 14F0030F 		tst	r4, #3
 5121 001e 0DD1     		bne	.L408
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5122              		.loc 1 738 3 is_stmt 1 discriminator 6 view .LVU1605
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5123              		.loc 1 738 3 discriminator 6 view .LVU1606
 741:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5124              		.loc 1 741 3 view .LVU1607
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5125              		.loc 1 743 3 view .LVU1608
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5126              		.loc 1 743 3 view .LVU1609
 5127 0020 6368     		ldr	r3, [r4, #4]
 5128 0022 0193     		str	r3, [sp, #4]
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5129              		.loc 1 743 3 view .LVU1610
 5130 0024 6088     		ldrh	r0, [r4, #2]
 5131              	.LVL562:
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5132              		.loc 1 743 3 is_stmt 0 view .LVU1611
 5133 0026 FFF7FEFF 		bl	lwip_htons
 5134              	.LVL563:
 5135 002a 0246     		mov	r2, r0
 5136              	.LVL564:
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5137              		.loc 1 743 3 is_stmt 1 discriminator 1 view .LVU1612
 744:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, local_addr);
 5138              		.loc 1 744 57 view .LVU1613
 745:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", local_port));
 5139              		.loc 1 745 53 view .LVU1614
 746:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5140              		.loc 1 746 64 view .LVU1615
 756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5141              		.loc 1 756 3 view .LVU1616
 756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5142              		.loc 1 756 9 is_stmt 0 view .LVU1617
 5143 002c 01A9     		add	r1, sp, #4
 5144 002e 3068     		ldr	r0, [r6]
 5145 0030 FFF7FEFF 		bl	netconn_bind
 5146              	.LVL565:
 758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 5147              		.loc 1 758 3 is_stmt 1 view .LVU1618
 758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 184


 5148              		.loc 1 758 6 is_stmt 0 view .LVU1619
 5149 0034 98B9     		cbnz	r0, .L415
 768:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5150              		.loc 1 768 10 view .LVU1620
 5151 0036 0020     		movs	r0, #0
 5152              	.LVL566:
 5153              	.L406:
 769:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5154              		.loc 1 769 1 view .LVU1621
 5155 0038 02B0     		add	sp, sp, #8
 5156              	.LCFI57:
 5157              		.cfi_remember_state
 5158              		.cfi_def_cfa_offset 16
 5159              		@ sp needed
 5160 003a 70BD     		pop	{r4, r5, r6, pc}
 5161              	.LVL567:
 5162              	.L408:
 5163              	.LCFI58:
 5164              		.cfi_restore_state
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5165              		.loc 1 738 3 is_stmt 1 discriminator 5 view .LVU1622
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5166              		.loc 1 738 3 discriminator 5 view .LVU1623
 5167 003c 0D4B     		ldr	r3, .L416
 5168 003e 40F2E222 		movw	r2, #738
 5169 0042 0D49     		ldr	r1, .L416+4
 5170 0044 0D48     		ldr	r0, .L416+8
 5171              	.LVL568:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5172              		.loc 1 738 3 is_stmt 0 discriminator 5 view .LVU1624
 5173 0046 FFF7FEFF 		bl	printf
 5174              	.LVL569:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5175              		.loc 1 738 3 is_stmt 1 discriminator 1 view .LVU1625
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5176              		.loc 1 738 3 discriminator 1 view .LVU1626
 5177              	.LBB39:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5178              		.loc 1 738 3 discriminator 1 view .LVU1627
 5179 004a 6FF00F00 		mvn	r0, #15
 5180 004e FFF7FEFF 		bl	err_to_errno
 5181              	.LVL570:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5182              		.loc 1 738 3 discriminator 2 view .LVU1628
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5183              		.loc 1 738 3 discriminator 2 view .LVU1629
 5184 0052 08B1     		cbz	r0, .L410
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5185              		.loc 1 738 3 discriminator 7 view .LVU1630
 5186 0054 0A4A     		ldr	r2, .L416+12
 5187 0056 1060     		str	r0, [r2]
 5188              	.L410:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5189              		.loc 1 738 3 discriminator 9 view .LVU1631
 5190              	.LBE39:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5191              		.loc 1 738 3 discriminator 9 view .LVU1632
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 185


 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5192              		.loc 1 738 3 discriminator 9 view .LVU1633
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5193              		.loc 1 738 3 discriminator 9 view .LVU1634
 5194 0058 4FF0FF30 		mov	r0, #-1
 5195              	.LVL571:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5196              		.loc 1 738 3 is_stmt 0 view .LVU1635
 5197 005c ECE7     		b	.L406
 5198              	.LVL572:
 5199              	.L415:
 759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 5200              		.loc 1 759 75 is_stmt 1 view .LVU1636
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5201              		.loc 1 760 5 view .LVU1637
 5202              	.LBB40:
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5203              		.loc 1 760 5 view .LVU1638
 5204 005e FFF7FEFF 		bl	err_to_errno
 5205              	.LVL573:
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5206              		.loc 1 760 5 discriminator 1 view .LVU1639
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5207              		.loc 1 760 5 discriminator 1 view .LVU1640
 5208 0062 08B1     		cbz	r0, .L411
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5209              		.loc 1 760 5 discriminator 1 view .LVU1641
 5210 0064 064A     		ldr	r2, .L416+12
 5211 0066 1060     		str	r0, [r2]
 5212              	.L411:
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5213              		.loc 1 760 5 discriminator 3 view .LVU1642
 5214              	.LBE40:
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5215              		.loc 1 760 5 discriminator 3 view .LVU1643
 761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5216              		.loc 1 761 22 view .LVU1644
 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5217              		.loc 1 762 5 view .LVU1645
 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5218              		.loc 1 762 12 is_stmt 0 view .LVU1646
 5219 0068 4FF0FF30 		mov	r0, #-1
 5220              	.LVL574:
 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5221              		.loc 1 762 12 view .LVU1647
 5222 006c E4E7     		b	.L406
 5223              	.LVL575:
 5224              	.L412:
 727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5225              		.loc 1 727 12 view .LVU1648
 5226 006e 4FF0FF30 		mov	r0, #-1
 5227              	.LVL576:
 727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5228              		.loc 1 727 12 view .LVU1649
 5229 0072 E1E7     		b	.L406
 5230              	.L417:
 5231              		.align	2
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 186


 5232              	.L416:
 5233 0074 00000000 		.word	.LC0
 5234 0078 00000000 		.word	.LC22
 5235 007c 48000000 		.word	.LC2
 5236 0080 00000000 		.word	errno
 5237              		.cfi_endproc
 5238              	.LFE377:
 5240              		.section	.rodata.lwip_close.str1.4,"aMS",%progbits,1
 5241              		.align	2
 5242              	.LC23:
 5243 0000 736F636B 		.ascii	"sock->lastdata == NULL\000"
 5243      2D3E6C61 
 5243      73746461 
 5243      7461203D 
 5243      3D204E55 
 5244              		.section	.text.lwip_close,"ax",%progbits
 5245              		.align	1
 5246              		.global	lwip_close
 5247              		.syntax unified
 5248              		.thumb
 5249              		.thumb_func
 5251              	lwip_close:
 5252              	.LVL577:
 5253              	.LFB378:
 773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5254              		.loc 1 773 1 is_stmt 1 view -0
 5255              		.cfi_startproc
 5256              		@ args = 0, pretend = 0, frame = 0
 5257              		@ frame_needed = 0, uses_anonymous_args = 0
 773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5258              		.loc 1 773 1 is_stmt 0 view .LVU1651
 5259 0000 38B5     		push	{r3, r4, r5, lr}
 5260              	.LCFI59:
 5261              		.cfi_def_cfa_offset 16
 5262              		.cfi_offset 3, -16
 5263              		.cfi_offset 4, -12
 5264              		.cfi_offset 5, -8
 5265              		.cfi_offset 14, -4
 774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int is_tcp = 0;
 5266              		.loc 1 774 3 is_stmt 1 view .LVU1652
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5267              		.loc 1 775 3 view .LVU1653
 5268              	.LVL578:
 776:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5269              		.loc 1 776 3 view .LVU1654
 778:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5270              		.loc 1 778 54 view .LVU1655
 780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5271              		.loc 1 780 3 view .LVU1656
 780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5272              		.loc 1 780 10 is_stmt 0 view .LVU1657
 5273 0002 FFF7FEFF 		bl	get_socket
 5274              	.LVL579:
 781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5275              		.loc 1 781 3 is_stmt 1 view .LVU1658
 781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5276              		.loc 1 781 6 is_stmt 0 view .LVU1659
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 187


 5277 0006 40B3     		cbz	r0, .L424
 5278 0008 0546     		mov	r5, r0
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 5279              		.loc 1 785 3 is_stmt 1 view .LVU1660
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 5280              		.loc 1 785 11 is_stmt 0 view .LVU1661
 5281 000a 0368     		ldr	r3, [r0]
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 5282              		.loc 1 785 6 view .LVU1662
 5283 000c 83B1     		cbz	r3, .L420
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5284              		.loc 1 786 5 is_stmt 1 view .LVU1663
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5285              		.loc 1 786 14 is_stmt 0 view .LVU1664
 5286 000e 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5287              		.loc 1 786 58 view .LVU1665
 5288 0010 04F0F004 		and	r4, r4, #240
 5289 0014 102C     		cmp	r4, #16
 5290 0016 14BF     		ite	ne
 5291 0018 0024     		movne	r4, #0
 5292 001a 0124     		moveq	r4, #1
 5293              	.LVL580:
 5294              	.L421:
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5295              		.loc 1 788 5 is_stmt 1 discriminator 3 view .LVU1666
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5296              		.loc 1 788 5 discriminator 3 view .LVU1667
 800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 5297              		.loc 1 800 3 view .LVU1668
 800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 5298              		.loc 1 800 9 is_stmt 0 view .LVU1669
 5299 001c 2868     		ldr	r0, [r5]
 5300 001e FFF7FEFF 		bl	netconn_prepare_delete
 5301              	.LVL581:
 801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 5302              		.loc 1 801 3 is_stmt 1 view .LVU1670
 801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 5303              		.loc 1 801 6 is_stmt 0 view .LVU1671
 5304 0022 90B9     		cbnz	r0, .L427
 807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 5305              		.loc 1 807 3 is_stmt 1 view .LVU1672
 5306 0024 2146     		mov	r1, r4
 5307 0026 2846     		mov	r0, r5
 5308              	.LVL582:
 807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 5309              		.loc 1 807 3 is_stmt 0 view .LVU1673
 5310 0028 FFF7FEFF 		bl	free_socket
 5311              	.LVL583:
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 5312              		.loc 1 808 3 is_stmt 1 view .LVU1674
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 5313              		.loc 1 808 3 view .LVU1675
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 5314              		.loc 1 808 3 discriminator 3 view .LVU1676
 809:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5315              		.loc 1 809 3 view .LVU1677
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 188


 809:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5316              		.loc 1 809 10 is_stmt 0 view .LVU1678
 5317 002c 0020     		movs	r0, #0
 5318              	.LVL584:
 5319              	.L418:
 810:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5320              		.loc 1 810 1 view .LVU1679
 5321 002e 38BD     		pop	{r3, r4, r5, pc}
 5322              	.LVL585:
 5323              	.L420:
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5324              		.loc 1 788 5 is_stmt 1 view .LVU1680
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5325              		.loc 1 788 5 view .LVU1681
 5326 0030 4368     		ldr	r3, [r0, #4]
 5327 0032 43B1     		cbz	r3, .L425
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5328              		.loc 1 788 5 discriminator 1 view .LVU1682
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5329              		.loc 1 788 5 discriminator 1 view .LVU1683
 5330 0034 0A4B     		ldr	r3, .L428
 5331 0036 4FF44572 		mov	r2, #788
 5332 003a 0A49     		ldr	r1, .L428+4
 5333 003c 0A48     		ldr	r0, .L428+8
 5334              	.LVL586:
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5335              		.loc 1 788 5 is_stmt 0 discriminator 1 view .LVU1684
 5336 003e FFF7FEFF 		bl	printf
 5337              	.LVL587:
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5338              		.loc 1 775 7 view .LVU1685
 5339 0042 0024     		movs	r4, #0
 5340 0044 EAE7     		b	.L421
 5341              	.LVL588:
 5342              	.L425:
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5343              		.loc 1 775 7 view .LVU1686
 5344 0046 0024     		movs	r4, #0
 5345 0048 E8E7     		b	.L421
 5346              	.LVL589:
 5347              	.L427:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5348              		.loc 1 802 5 is_stmt 1 view .LVU1687
 5349              	.LBB41:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5350              		.loc 1 802 5 view .LVU1688
 5351 004a FFF7FEFF 		bl	err_to_errno
 5352              	.LVL590:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5353              		.loc 1 802 5 discriminator 1 view .LVU1689
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5354              		.loc 1 802 5 discriminator 1 view .LVU1690
 5355 004e 08B1     		cbz	r0, .L423
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5356              		.loc 1 802 5 discriminator 1 view .LVU1691
 5357 0050 064A     		ldr	r2, .L428+12
 5358 0052 1060     		str	r0, [r2]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 189


 5359              	.L423:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5360              		.loc 1 802 5 discriminator 3 view .LVU1692
 5361              	.LBE41:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5362              		.loc 1 802 5 discriminator 3 view .LVU1693
 803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5363              		.loc 1 803 22 view .LVU1694
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5364              		.loc 1 804 5 view .LVU1695
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5365              		.loc 1 804 12 is_stmt 0 view .LVU1696
 5366 0054 4FF0FF30 		mov	r0, #-1
 5367              	.LVL591:
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5368              		.loc 1 804 12 view .LVU1697
 5369 0058 E9E7     		b	.L418
 5370              	.LVL592:
 5371              	.L424:
 782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5372              		.loc 1 782 12 view .LVU1698
 5373 005a 4FF0FF30 		mov	r0, #-1
 5374              	.LVL593:
 782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5375              		.loc 1 782 12 view .LVU1699
 5376 005e E6E7     		b	.L418
 5377              	.L429:
 5378              		.align	2
 5379              	.L428:
 5380 0060 00000000 		.word	.LC0
 5381 0064 00000000 		.word	.LC23
 5382 0068 48000000 		.word	.LC2
 5383 006c 00000000 		.word	errno
 5384              		.cfi_endproc
 5385              	.LFE378:
 5387              		.section	.rodata.lwip_connect.str1.4,"aMS",%progbits,1
 5388              		.align	2
 5389              	.LC24:
 5390 0000 6C776970 		.ascii	"lwip_connect: invalid address\000"
 5390      5F636F6E 
 5390      6E656374 
 5390      3A20696E 
 5390      76616C69 
 5391              		.section	.text.lwip_connect,"ax",%progbits
 5392              		.align	1
 5393              		.global	lwip_connect
 5394              		.syntax unified
 5395              		.thumb
 5396              		.thumb_func
 5398              	lwip_connect:
 5399              	.LVL594:
 5400              	.LFB379:
 814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5401              		.loc 1 814 1 is_stmt 1 view -0
 5402              		.cfi_startproc
 5403              		@ args = 0, pretend = 0, frame = 8
 5404              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 190


 814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5405              		.loc 1 814 1 is_stmt 0 view .LVU1701
 5406 0000 70B5     		push	{r4, r5, r6, lr}
 5407              	.LCFI60:
 5408              		.cfi_def_cfa_offset 16
 5409              		.cfi_offset 4, -16
 5410              		.cfi_offset 5, -12
 5411              		.cfi_offset 6, -8
 5412              		.cfi_offset 14, -4
 5413 0002 82B0     		sub	sp, sp, #8
 5414              	.LCFI61:
 5415              		.cfi_def_cfa_offset 24
 5416 0004 0C46     		mov	r4, r1
 5417 0006 1546     		mov	r5, r2
 815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5418              		.loc 1 815 3 is_stmt 1 view .LVU1702
 816:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5419              		.loc 1 816 3 view .LVU1703
 818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5420              		.loc 1 818 3 view .LVU1704
 818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5421              		.loc 1 818 10 is_stmt 0 view .LVU1705
 5422 0008 FFF7FEFF 		bl	get_socket
 5423              	.LVL595:
 819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5424              		.loc 1 819 3 is_stmt 1 view .LVU1706
 819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5425              		.loc 1 819 6 is_stmt 0 view .LVU1707
 5426 000c 0028     		cmp	r0, #0
 5427 000e 34D0     		beq	.L438
 5428 0010 0646     		mov	r6, r0
 823:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 5429              		.loc 1 823 3 is_stmt 1 view .LVU1708
 830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (name->sa_family == AF_UNSPEC) {
 5430              		.loc 1 830 3 view .LVU1709
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 5431              		.loc 1 831 3 view .LVU1710
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 5432              		.loc 1 831 11 is_stmt 0 view .LVU1711
 5433 0012 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 5434              		.loc 1 831 6 view .LVU1712
 5435 0014 A3B1     		cbz	r3, .L441
 5436              	.LBB42:
 835:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t remote_port;
 5437              		.loc 1 835 5 is_stmt 1 view .LVU1713
 836:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5438              		.loc 1 836 5 view .LVU1714
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5439              		.loc 1 839 5 view .LVU1715
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5440              		.loc 1 839 5 view .LVU1716
 5441 0016 102D     		cmp	r5, #16
 5442 0018 16D1     		bne	.L434
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5443              		.loc 1 839 5 is_stmt 0 discriminator 2 view .LVU1717
 5444 001a 022B     		cmp	r3, #2
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 191


 5445 001c 14D1     		bne	.L434
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5446              		.loc 1 839 5 discriminator 4 view .LVU1718
 5447 001e 14F0030F 		tst	r4, #3
 5448 0022 11D1     		bne	.L434
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5449              		.loc 1 839 5 is_stmt 1 discriminator 6 view .LVU1719
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5450              		.loc 1 839 5 discriminator 6 view .LVU1720
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5451              		.loc 1 843 5 view .LVU1721
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5452              		.loc 1 843 5 view .LVU1722
 5453 0024 6368     		ldr	r3, [r4, #4]
 5454 0026 0193     		str	r3, [sp, #4]
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5455              		.loc 1 843 5 view .LVU1723
 5456 0028 6088     		ldrh	r0, [r4, #2]
 5457              	.LVL596:
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5458              		.loc 1 843 5 is_stmt 0 view .LVU1724
 5459 002a FFF7FEFF 		bl	lwip_htons
 5460              	.LVL597:
 5461 002e 0246     		mov	r2, r0
 5462              	.LVL598:
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5463              		.loc 1 843 5 is_stmt 1 discriminator 1 view .LVU1725
 844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, remote_addr);
 5464              		.loc 1 844 62 view .LVU1726
 845:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", remote_port));
 5465              		.loc 1 845 56 view .LVU1727
 846:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5466              		.loc 1 846 67 view .LVU1728
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5467              		.loc 1 856 5 view .LVU1729
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5468              		.loc 1 856 11 is_stmt 0 view .LVU1730
 5469 0030 01A9     		add	r1, sp, #4
 5470 0032 3068     		ldr	r0, [r6]
 5471 0034 FFF7FEFF 		bl	netconn_connect
 5472              	.LVL599:
 5473              	.L433:
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5474              		.loc 1 856 11 view .LVU1731
 5475              	.LBE42:
 859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 5476              		.loc 1 859 3 is_stmt 1 view .LVU1732
 859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 5477              		.loc 1 859 6 is_stmt 0 view .LVU1733
 5478 0038 B8B9     		cbnz	r0, .L442
 869:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5479              		.loc 1 869 10 view .LVU1734
 5480 003a 0020     		movs	r0, #0
 5481              	.LVL600:
 5482              	.L430:
 870:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5483              		.loc 1 870 1 view .LVU1735
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 192


 5484 003c 02B0     		add	sp, sp, #8
 5485              	.LCFI62:
 5486              		.cfi_remember_state
 5487              		.cfi_def_cfa_offset 16
 5488              		@ sp needed
 5489 003e 70BD     		pop	{r4, r5, r6, pc}
 5490              	.LVL601:
 5491              	.L441:
 5492              	.LCFI63:
 5493              		.cfi_restore_state
 832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_disconnect(sock->conn);
 5494              		.loc 1 832 69 is_stmt 1 view .LVU1736
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5495              		.loc 1 833 5 view .LVU1737
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5496              		.loc 1 833 11 is_stmt 0 view .LVU1738
 5497 0040 0068     		ldr	r0, [r0]
 5498              	.LVL602:
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5499              		.loc 1 833 11 view .LVU1739
 5500 0042 FFF7FEFF 		bl	netconn_disconnect
 5501              	.LVL603:
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5502              		.loc 1 833 11 view .LVU1740
 5503 0046 F7E7     		b	.L433
 5504              	.LVL604:
 5505              	.L434:
 5506              	.LBB44:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5507              		.loc 1 839 5 is_stmt 1 discriminator 5 view .LVU1741
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5508              		.loc 1 839 5 discriminator 5 view .LVU1742
 5509 0048 0D4B     		ldr	r3, .L443
 5510 004a 40F24732 		movw	r2, #839
 5511 004e 0D49     		ldr	r1, .L443+4
 5512 0050 0D48     		ldr	r0, .L443+8
 5513              	.LVL605:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5514              		.loc 1 839 5 is_stmt 0 discriminator 5 view .LVU1743
 5515 0052 FFF7FEFF 		bl	printf
 5516              	.LVL606:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5517              		.loc 1 839 5 is_stmt 1 discriminator 1 view .LVU1744
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5518              		.loc 1 839 5 discriminator 1 view .LVU1745
 5519              	.LBB43:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5520              		.loc 1 839 5 discriminator 1 view .LVU1746
 5521 0056 6FF00F00 		mvn	r0, #15
 5522 005a FFF7FEFF 		bl	err_to_errno
 5523              	.LVL607:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5524              		.loc 1 839 5 discriminator 2 view .LVU1747
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5525              		.loc 1 839 5 discriminator 2 view .LVU1748
 5526 005e 08B1     		cbz	r0, .L436
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 193


 5527              		.loc 1 839 5 discriminator 7 view .LVU1749
 5528 0060 0A4A     		ldr	r2, .L443+12
 5529 0062 1060     		str	r0, [r2]
 5530              	.L436:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5531              		.loc 1 839 5 discriminator 9 view .LVU1750
 5532              	.LBE43:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5533              		.loc 1 839 5 discriminator 9 view .LVU1751
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5534              		.loc 1 839 5 discriminator 9 view .LVU1752
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5535              		.loc 1 839 5 discriminator 9 view .LVU1753
 5536 0064 4FF0FF30 		mov	r0, #-1
 5537              	.LVL608:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5538              		.loc 1 839 5 is_stmt 0 discriminator 9 view .LVU1754
 5539 0068 E8E7     		b	.L430
 5540              	.LVL609:
 5541              	.L442:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5542              		.loc 1 839 5 discriminator 9 view .LVU1755
 5543              	.LBE44:
 860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 5544              		.loc 1 860 78 is_stmt 1 view .LVU1756
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5545              		.loc 1 861 5 view .LVU1757
 5546              	.LBB45:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5547              		.loc 1 861 5 view .LVU1758
 5548 006a FFF7FEFF 		bl	err_to_errno
 5549              	.LVL610:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5550              		.loc 1 861 5 discriminator 1 view .LVU1759
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5551              		.loc 1 861 5 discriminator 1 view .LVU1760
 5552 006e 08B1     		cbz	r0, .L437
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5553              		.loc 1 861 5 discriminator 1 view .LVU1761
 5554 0070 064A     		ldr	r2, .L443+12
 5555 0072 1060     		str	r0, [r2]
 5556              	.L437:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5557              		.loc 1 861 5 discriminator 3 view .LVU1762
 5558              	.LBE45:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5559              		.loc 1 861 5 discriminator 3 view .LVU1763
 862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5560              		.loc 1 862 22 view .LVU1764
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5561              		.loc 1 863 5 view .LVU1765
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5562              		.loc 1 863 12 is_stmt 0 view .LVU1766
 5563 0074 4FF0FF30 		mov	r0, #-1
 5564              	.LVL611:
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5565              		.loc 1 863 12 view .LVU1767
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 194


 5566 0078 E0E7     		b	.L430
 5567              	.LVL612:
 5568              	.L438:
 820:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5569              		.loc 1 820 12 view .LVU1768
 5570 007a 4FF0FF30 		mov	r0, #-1
 5571              	.LVL613:
 820:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5572              		.loc 1 820 12 view .LVU1769
 5573 007e DDE7     		b	.L430
 5574              	.L444:
 5575              		.align	2
 5576              	.L443:
 5577 0080 00000000 		.word	.LC0
 5578 0084 00000000 		.word	.LC24
 5579 0088 48000000 		.word	.LC2
 5580 008c 00000000 		.word	errno
 5581              		.cfi_endproc
 5582              	.LFE379:
 5584              		.section	.text.lwip_listen,"ax",%progbits
 5585              		.align	1
 5586              		.global	lwip_listen
 5587              		.syntax unified
 5588              		.thumb
 5589              		.thumb_func
 5591              	lwip_listen:
 5592              	.LVL614:
 5593              	.LFB380:
 882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5594              		.loc 1 882 1 is_stmt 1 view -0
 5595              		.cfi_startproc
 5596              		@ args = 0, pretend = 0, frame = 0
 5597              		@ frame_needed = 0, uses_anonymous_args = 0
 882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5598              		.loc 1 882 1 is_stmt 0 view .LVU1771
 5599 0000 38B5     		push	{r3, r4, r5, lr}
 5600              	.LCFI64:
 5601              		.cfi_def_cfa_offset 16
 5602              		.cfi_offset 3, -16
 5603              		.cfi_offset 4, -12
 5604              		.cfi_offset 5, -8
 5605              		.cfi_offset 14, -4
 5606 0002 0C46     		mov	r4, r1
 883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5607              		.loc 1 883 3 is_stmt 1 view .LVU1772
 884:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5608              		.loc 1 884 3 view .LVU1773
 886:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5609              		.loc 1 886 76 view .LVU1774
 888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5610              		.loc 1 888 3 view .LVU1775
 888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5611              		.loc 1 888 10 is_stmt 0 view .LVU1776
 5612 0004 FFF7FEFF 		bl	get_socket
 5613              	.LVL615:
 889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5614              		.loc 1 889 3 is_stmt 1 view .LVU1777
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 195


 889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5615              		.loc 1 889 6 is_stmt 0 view .LVU1778
 5616 0008 00B3     		cbz	r0, .L450
 5617 000a 0546     		mov	r5, r0
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5618              		.loc 1 894 3 is_stmt 1 view .LVU1779
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5619              		.loc 1 894 13 is_stmt 0 view .LVU1780
 5620 000c FE2C     		cmp	r4, #254
 5621 000e 02DC     		bgt	.L451
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5622              		.loc 1 894 13 discriminator 1 view .LVU1781
 5623 0010 24EAE471 		bic	r1, r4, r4, asr #31
 5624 0014 00E0     		b	.L447
 5625              	.L451:
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5626              		.loc 1 894 13 discriminator 2 view .LVU1782
 5627 0016 FF21     		movs	r1, #255
 5628              	.L447:
 5629              	.LVL616:
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5630              		.loc 1 896 3 is_stmt 1 view .LVU1783
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5631              		.loc 1 896 9 is_stmt 0 view .LVU1784
 5632 0018 C9B2     		uxtb	r1, r1
 5633              	.LVL617:
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5634              		.loc 1 896 9 view .LVU1785
 5635 001a 2868     		ldr	r0, [r5]
 5636              	.LVL618:
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5637              		.loc 1 896 9 view .LVU1786
 5638 001c FFF7FEFF 		bl	netconn_listen_with_backlog
 5639              	.LVL619:
 898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 5640              		.loc 1 898 3 is_stmt 1 view .LVU1787
 898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 5641              		.loc 1 898 6 is_stmt 0 view .LVU1788
 5642 0020 08B9     		cbnz	r0, .L454
 911:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5643              		.loc 1 911 10 view .LVU1789
 5644 0022 0020     		movs	r0, #0
 5645              	.LVL620:
 5646              	.L445:
 912:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5647              		.loc 1 912 1 view .LVU1790
 5648 0024 38BD     		pop	{r3, r4, r5, pc}
 5649              	.LVL621:
 5650              	.L454:
 899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 5651              		.loc 1 899 77 is_stmt 1 view .LVU1791
 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 5652              		.loc 1 900 5 view .LVU1792
 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 5653              		.loc 1 900 9 is_stmt 0 view .LVU1793
 5654 0026 2A68     		ldr	r2, [r5]
 5655 0028 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 196


 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 5656              		.loc 1 900 8 view .LVU1794
 5657 002a 02F0F002 		and	r2, r2, #240
 5658 002e 102A     		cmp	r2, #16
 5659 0030 05D0     		beq	.L448
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5660              		.loc 1 901 7 is_stmt 1 view .LVU1795
 5661              	.LBB46:
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5662              		.loc 1 901 7 view .LVU1796
 5663              	.LVL622:
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5664              		.loc 1 901 7 view .LVU1797
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5665              		.loc 1 901 7 view .LVU1798
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5666              		.loc 1 901 7 discriminator 1 view .LVU1799
 5667 0032 084B     		ldr	r3, .L455
 5668 0034 5F22     		movs	r2, #95
 5669 0036 1A60     		str	r2, [r3]
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5670              		.loc 1 901 7 discriminator 3 view .LVU1800
 5671              	.LBE46:
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5672              		.loc 1 901 7 discriminator 3 view .LVU1801
 5673              	.LVL623:
 5674              	.L449:
 5675              	.LBB47:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5676              		.loc 1 903 7 discriminator 3 view .LVU1802
 5677              	.LBE47:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5678              		.loc 1 903 7 discriminator 3 view .LVU1803
 905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5679              		.loc 1 905 22 view .LVU1804
 906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5680              		.loc 1 906 5 view .LVU1805
 906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5681              		.loc 1 906 12 is_stmt 0 view .LVU1806
 5682 0038 4FF0FF30 		mov	r0, #-1
 5683 003c F2E7     		b	.L445
 5684              	.LVL624:
 5685              	.L448:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5686              		.loc 1 903 7 is_stmt 1 view .LVU1807
 5687              	.LBB48:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5688              		.loc 1 903 7 view .LVU1808
 5689 003e FFF7FEFF 		bl	err_to_errno
 5690              	.LVL625:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5691              		.loc 1 903 7 discriminator 1 view .LVU1809
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5692              		.loc 1 903 7 discriminator 1 view .LVU1810
 5693 0042 0028     		cmp	r0, #0
 5694 0044 F8D0     		beq	.L449
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 197


 5695              		.loc 1 903 7 discriminator 1 view .LVU1811
 5696 0046 034A     		ldr	r2, .L455
 5697 0048 1060     		str	r0, [r2]
 5698 004a F5E7     		b	.L449
 5699              	.LVL626:
 5700              	.L450:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5701              		.loc 1 903 7 is_stmt 0 discriminator 1 view .LVU1812
 5702              	.LBE48:
 890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5703              		.loc 1 890 12 view .LVU1813
 5704 004c 4FF0FF30 		mov	r0, #-1
 5705              	.LVL627:
 890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5706              		.loc 1 890 12 view .LVU1814
 5707 0050 E8E7     		b	.L445
 5708              	.L456:
 5709 0052 00BF     		.align	2
 5710              	.L455:
 5711 0054 00000000 		.word	errno
 5712              		.cfi_endproc
 5713              	.LFE380:
 5715              		.section	.rodata.lwip_recvfrom.str1.4,"aMS",%progbits,1
 5716              		.align	2
 5717              	.LC25:
 5718 0000 6C776970 		.ascii	"lwip_recvfrom\000"
 5718      5F726563 
 5718      7666726F 
 5718      6D00
 5719              		.section	.text.lwip_recvfrom,"ax",%progbits
 5720              		.align	1
 5721              		.global	lwip_recvfrom
 5722              		.syntax unified
 5723              		.thumb
 5724              		.thumb_func
 5726              	lwip_recvfrom:
 5727              	.LVL628:
 5728              	.LFB385:
1201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5729              		.loc 1 1201 1 is_stmt 1 view -0
 5730              		.cfi_startproc
 5731              		@ args = 8, pretend = 0, frame = 40
 5732              		@ frame_needed = 0, uses_anonymous_args = 0
1201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5733              		.loc 1 1201 1 is_stmt 0 view .LVU1816
 5734 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5735              	.LCFI65:
 5736              		.cfi_def_cfa_offset 28
 5737              		.cfi_offset 4, -28
 5738              		.cfi_offset 5, -24
 5739              		.cfi_offset 6, -20
 5740              		.cfi_offset 7, -16
 5741              		.cfi_offset 8, -12
 5742              		.cfi_offset 9, -8
 5743              		.cfi_offset 14, -4
 5744 0004 8DB0     		sub	sp, sp, #52
 5745              	.LCFI66:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 198


 5746              		.cfi_def_cfa_offset 80
 5747 0006 0746     		mov	r7, r0
 5748 0008 8946     		mov	r9, r1
 5749 000a 1446     		mov	r4, r2
 5750 000c 1E46     		mov	r6, r3
 5751 000e 159D     		ldr	r5, [sp, #84]
1202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t ret;
 5752              		.loc 1 1202 3 is_stmt 1 view .LVU1817
1203:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5753              		.loc 1 1203 3 view .LVU1818
1205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 5754              		.loc 1 1205 98 view .LVU1819
1206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5755              		.loc 1 1206 3 view .LVU1820
1206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5756              		.loc 1 1206 10 is_stmt 0 view .LVU1821
 5757 0010 FFF7FEFF 		bl	get_socket
 5758              	.LVL629:
1207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5759              		.loc 1 1207 3 is_stmt 1 view .LVU1822
1207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5760              		.loc 1 1207 6 is_stmt 0 view .LVU1823
 5761 0014 0028     		cmp	r0, #0
 5762 0016 4ED0     		beq	.L465
 5763 0018 8046     		mov	r8, r0
1211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
 5764              		.loc 1 1211 3 is_stmt 1 view .LVU1824
1211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
 5765              		.loc 1 1211 7 is_stmt 0 view .LVU1825
 5766 001a 0368     		ldr	r3, [r0]
 5767 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
 5768              		.loc 1 1211 6 view .LVU1826
 5769 001e 03F0F003 		and	r3, r3, #240
 5770 0022 102B     		cmp	r3, #16
 5771 0024 25D0     		beq	.L469
 5772              	.LBB49:
1219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct iovec vec;
 5773              		.loc 1 1219 5 is_stmt 1 view .LVU1827
1219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct iovec vec;
 5774              		.loc 1 1219 11 is_stmt 0 view .LVU1828
 5775 0026 0022     		movs	r2, #0
 5776 0028 ADF80A20 		strh	r2, [sp, #10]	@ movhi
1220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct msghdr msg;
 5777              		.loc 1 1220 5 is_stmt 1 view .LVU1829
1221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 5778              		.loc 1 1221 5 view .LVU1830
1222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_base = mem;
 5779              		.loc 1 1222 5 view .LVU1831
1223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_len = len;
 5780              		.loc 1 1223 5 view .LVU1832
1223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_len = len;
 5781              		.loc 1 1223 18 is_stmt 0 view .LVU1833
 5782 002c CDF80C90 		str	r9, [sp, #12]
1224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_control = NULL;
 5783              		.loc 1 1224 5 is_stmt 1 view .LVU1834
1224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_control = NULL;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 199


 5784              		.loc 1 1224 17 is_stmt 0 view .LVU1835
 5785 0030 0494     		str	r4, [sp, #16]
1225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_controllen = 0;
 5786              		.loc 1 1225 5 is_stmt 1 view .LVU1836
1225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_controllen = 0;
 5787              		.loc 1 1225 21 is_stmt 0 view .LVU1837
 5788 0032 0992     		str	r2, [sp, #36]
1226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_flags = 0;
 5789              		.loc 1 1226 5 is_stmt 1 view .LVU1838
1226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_flags = 0;
 5790              		.loc 1 1226 24 is_stmt 0 view .LVU1839
 5791 0034 0A92     		str	r2, [sp, #40]
1227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iov = &vec;
 5792              		.loc 1 1227 5 is_stmt 1 view .LVU1840
1227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iov = &vec;
 5793              		.loc 1 1227 19 is_stmt 0 view .LVU1841
 5794 0036 0B92     		str	r2, [sp, #44]
1228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iovlen = 1;
 5795              		.loc 1 1228 5 is_stmt 1 view .LVU1842
1228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iovlen = 1;
 5796              		.loc 1 1228 17 is_stmt 0 view .LVU1843
 5797 0038 03AB     		add	r3, sp, #12
 5798 003a 0793     		str	r3, [sp, #28]
1229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_name = from;
 5799              		.loc 1 1229 5 is_stmt 1 view .LVU1844
1229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_name = from;
 5800              		.loc 1 1229 20 is_stmt 0 view .LVU1845
 5801 003c 0123     		movs	r3, #1
 5802 003e 0893     		str	r3, [sp, #32]
1230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_namelen = (fromlen ? *fromlen : 0);
 5803              		.loc 1 1230 5 is_stmt 1 view .LVU1846
1230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_namelen = (fromlen ? *fromlen : 0);
 5804              		.loc 1 1230 18 is_stmt 0 view .LVU1847
 5805 0040 149B     		ldr	r3, [sp, #80]
 5806 0042 0593     		str	r3, [sp, #20]
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5807              		.loc 1 1231 5 is_stmt 1 view .LVU1848
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5808              		.loc 1 1231 43 is_stmt 0 view .LVU1849
 5809 0044 25B3     		cbz	r5, .L466
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5810              		.loc 1 1231 43 discriminator 1 view .LVU1850
 5811 0046 2B68     		ldr	r3, [r5]
 5812              	.L460:
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5813              		.loc 1 1231 21 discriminator 4 view .LVU1851
 5814 0048 0693     		str	r3, [sp, #24]
1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 5815              		.loc 1 1232 5 is_stmt 1 view .LVU1852
1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 5816              		.loc 1 1232 11 is_stmt 0 view .LVU1853
 5817 004a 0097     		str	r7, [sp]
 5818 004c 0DF10A03 		add	r3, sp, #10
 5819 0050 05AA     		add	r2, sp, #20
 5820 0052 3146     		mov	r1, r6
 5821 0054 4046     		mov	r0, r8
 5822              	.LVL630:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 200


1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 5823              		.loc 1 1232 11 view .LVU1854
 5824 0056 FFF7FEFF 		bl	lwip_recvfrom_udp_raw
 5825              	.LVL631:
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 5826              		.loc 1 1233 5 is_stmt 1 view .LVU1855
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 5827              		.loc 1 1233 8 is_stmt 0 view .LVU1856
 5828 005a D8B9     		cbnz	r0, .L470
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5829              		.loc 1 1240 5 is_stmt 1 view .LVU1857
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5830              		.loc 1 1240 20 is_stmt 0 view .LVU1858
 5831 005c BDF80A00 		ldrh	r0, [sp, #10]
 5832              	.LVL632:
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5833              		.loc 1 1240 20 view .LVU1859
 5834 0060 A042     		cmp	r0, r4
 5835 0062 28BF     		it	cs
 5836 0064 2046     		movcs	r0, r4
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5837              		.loc 1 1240 11 view .LVU1860
 5838 0066 6FF00043 		mvn	r3, #-2147483648
 5839 006a 9842     		cmp	r0, r3
 5840 006c 1AD2     		bcs	.L467
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5841              		.loc 1 1240 11 discriminator 1 view .LVU1861
 5842 006e 0446     		mov	r4, r0
 5843              	.LVL633:
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5844              		.loc 1 1240 11 discriminator 1 view .LVU1862
 5845 0070 1AE0     		b	.L463
 5846              	.LVL634:
 5847              	.L469:
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5848              		.loc 1 1240 11 discriminator 1 view .LVU1863
 5849              	.LBE49:
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
 5850              		.loc 1 1212 5 is_stmt 1 view .LVU1864
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
 5851              		.loc 1 1212 11 is_stmt 0 view .LVU1865
 5852 0072 3346     		mov	r3, r6
 5853 0074 2246     		mov	r2, r4
 5854 0076 4946     		mov	r1, r9
 5855 0078 FFF7FEFF 		bl	lwip_recv_tcp
 5856              	.LVL635:
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
 5857              		.loc 1 1212 11 view .LVU1866
 5858 007c 0446     		mov	r4, r0
 5859              	.LVL636:
1213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5860              		.loc 1 1213 5 is_stmt 1 view .LVU1867
 5861 007e 0190     		str	r0, [sp, #4]
 5862 0080 0097     		str	r7, [sp]
 5863 0082 0E4B     		ldr	r3, .L471
 5864 0084 2A46     		mov	r2, r5
 5865 0086 1499     		ldr	r1, [sp, #80]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 201


 5866 0088 4046     		mov	r0, r8
 5867              	.LVL637:
1213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5868              		.loc 1 1213 5 is_stmt 0 view .LVU1868
 5869 008a FFF7FEFF 		bl	lwip_recv_tcp_from
 5870              	.LVL638:
1214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return ret;
 5871              		.loc 1 1214 22 is_stmt 1 view .LVU1869
1215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else
 5872              		.loc 1 1215 5 view .LVU1870
1215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else
 5873              		.loc 1 1215 12 is_stmt 0 view .LVU1871
 5874 008e 0EE0     		b	.L457
 5875              	.LVL639:
 5876              	.L466:
 5877              	.LBB51:
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5878              		.loc 1 1231 43 discriminator 2 view .LVU1872
 5879 0090 0023     		movs	r3, #0
 5880 0092 D9E7     		b	.L460
 5881              	.LVL640:
 5882              	.L470:
1235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 5883              		.loc 1 1235 56 is_stmt 1 view .LVU1873
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5884              		.loc 1 1236 7 view .LVU1874
 5885              	.LBB50:
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5886              		.loc 1 1236 7 view .LVU1875
 5887 0094 FFF7FEFF 		bl	err_to_errno
 5888              	.LVL641:
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5889              		.loc 1 1236 7 discriminator 1 view .LVU1876
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5890              		.loc 1 1236 7 discriminator 1 view .LVU1877
 5891 0098 08B1     		cbz	r0, .L462
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5892              		.loc 1 1236 7 discriminator 1 view .LVU1878
 5893 009a 094A     		ldr	r2, .L471+4
 5894 009c 1060     		str	r0, [r2]
 5895              	.L462:
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5896              		.loc 1 1236 7 discriminator 3 view .LVU1879
 5897              	.LBE50:
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5898              		.loc 1 1236 7 discriminator 3 view .LVU1880
1237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 5899              		.loc 1 1237 24 view .LVU1881
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5900              		.loc 1 1238 7 view .LVU1882
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5901              		.loc 1 1238 14 is_stmt 0 view .LVU1883
 5902 009e 4FF0FF34 		mov	r4, #-1
 5903              	.LVL642:
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5904              		.loc 1 1238 14 view .LVU1884
 5905 00a2 04E0     		b	.L457
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 202


 5906              	.LVL643:
 5907              	.L467:
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5908              		.loc 1 1240 11 discriminator 2 view .LVU1885
 5909 00a4 6FF00044 		mvn	r4, #-2147483648
 5910              	.LVL644:
 5911              	.L463:
1241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *fromlen = msg.msg_namelen;
 5912              		.loc 1 1241 5 is_stmt 1 view .LVU1886
1241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *fromlen = msg.msg_namelen;
 5913              		.loc 1 1241 8 is_stmt 0 view .LVU1887
 5914 00a8 0DB1     		cbz	r5, .L457
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5915              		.loc 1 1242 7 is_stmt 1 view .LVU1888
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5916              		.loc 1 1242 21 is_stmt 0 view .LVU1889
 5917 00aa 069B     		ldr	r3, [sp, #24]
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5918              		.loc 1 1242 16 view .LVU1890
 5919 00ac 2B60     		str	r3, [r5]
 5920              	.LBE51:
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5921              		.loc 1 1246 3 is_stmt 1 view .LVU1891
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5922              		.loc 1 1246 3 view .LVU1892
 5923              	.LVL645:
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5924              		.loc 1 1246 3 view .LVU1893
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5925              		.loc 1 1246 3 view .LVU1894
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5926              		.loc 1 1246 3 discriminator 3 view .LVU1895
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5927              		.loc 1 1246 3 discriminator 3 view .LVU1896
1247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
 5928              		.loc 1 1247 20 view .LVU1897
1248:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5929              		.loc 1 1248 3 view .LVU1898
 5930              	.L457:
1249:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5931              		.loc 1 1249 1 is_stmt 0 view .LVU1899
 5932 00ae 2046     		mov	r0, r4
 5933 00b0 0DB0     		add	sp, sp, #52
 5934              	.LCFI67:
 5935              		.cfi_remember_state
 5936              		.cfi_def_cfa_offset 28
 5937              		@ sp needed
 5938 00b2 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5939              	.LVL646:
 5940              	.L465:
 5941              	.LCFI68:
 5942              		.cfi_restore_state
1208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5943              		.loc 1 1208 12 view .LVU1900
 5944 00b6 4FF0FF34 		mov	r4, #-1
 5945              	.LVL647:
1208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 203


 5946              		.loc 1 1208 12 view .LVU1901
 5947 00ba F8E7     		b	.L457
 5948              	.L472:
 5949              		.align	2
 5950              	.L471:
 5951 00bc 00000000 		.word	.LC25
 5952 00c0 00000000 		.word	errno
 5953              		.cfi_endproc
 5954              	.LFE385:
 5956              		.section	.text.lwip_read,"ax",%progbits
 5957              		.align	1
 5958              		.global	lwip_read
 5959              		.syntax unified
 5960              		.thumb
 5961              		.thumb_func
 5963              	lwip_read:
 5964              	.LVL648:
 5965              	.LFB386:
1253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
 5966              		.loc 1 1253 1 is_stmt 1 view -0
 5967              		.cfi_startproc
 5968              		@ args = 0, pretend = 0, frame = 0
 5969              		@ frame_needed = 0, uses_anonymous_args = 0
1253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
 5970              		.loc 1 1253 1 is_stmt 0 view .LVU1903
 5971 0000 00B5     		push	{lr}
 5972              	.LCFI69:
 5973              		.cfi_def_cfa_offset 4
 5974              		.cfi_offset 14, -4
 5975 0002 83B0     		sub	sp, sp, #12
 5976              	.LCFI70:
 5977              		.cfi_def_cfa_offset 16
1254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5978              		.loc 1 1254 3 is_stmt 1 view .LVU1904
1254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5979              		.loc 1 1254 10 is_stmt 0 view .LVU1905
 5980 0004 0023     		movs	r3, #0
 5981 0006 0193     		str	r3, [sp, #4]
 5982 0008 0093     		str	r3, [sp]
 5983 000a FFF7FEFF 		bl	lwip_recvfrom
 5984              	.LVL649:
1255:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5985              		.loc 1 1255 1 view .LVU1906
 5986 000e 03B0     		add	sp, sp, #12
 5987              	.LCFI71:
 5988              		.cfi_def_cfa_offset 4
 5989              		@ sp needed
 5990 0010 5DF804FB 		ldr	pc, [sp], #4
 5991              		.cfi_endproc
 5992              	.LFE386:
 5994              		.section	.text.lwip_recv,"ax",%progbits
 5995              		.align	1
 5996              		.global	lwip_recv
 5997              		.syntax unified
 5998              		.thumb
 5999              		.thumb_func
 6001              	lwip_recv:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 204


 6002              	.LVL650:
 6003              	.LFB388:
1276:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
 6004              		.loc 1 1276 1 is_stmt 1 view -0
 6005              		.cfi_startproc
 6006              		@ args = 0, pretend = 0, frame = 0
 6007              		@ frame_needed = 0, uses_anonymous_args = 0
1276:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
 6008              		.loc 1 1276 1 is_stmt 0 view .LVU1908
 6009 0000 10B5     		push	{r4, lr}
 6010              	.LCFI72:
 6011              		.cfi_def_cfa_offset 8
 6012              		.cfi_offset 4, -8
 6013              		.cfi_offset 14, -4
 6014 0002 82B0     		sub	sp, sp, #8
 6015              	.LCFI73:
 6016              		.cfi_def_cfa_offset 16
1277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6017              		.loc 1 1277 3 is_stmt 1 view .LVU1909
1277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6018              		.loc 1 1277 10 is_stmt 0 view .LVU1910
 6019 0004 0024     		movs	r4, #0
 6020 0006 0194     		str	r4, [sp, #4]
 6021 0008 0094     		str	r4, [sp]
 6022 000a FFF7FEFF 		bl	lwip_recvfrom
 6023              	.LVL651:
1278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6024              		.loc 1 1278 1 view .LVU1911
 6025 000e 02B0     		add	sp, sp, #8
 6026              	.LCFI74:
 6027              		.cfi_def_cfa_offset 8
 6028              		@ sp needed
 6029 0010 10BD     		pop	{r4, pc}
 6030              		.cfi_endproc
 6031              	.LFE388:
 6033              		.section	.rodata.lwip_recvmsg.str1.4,"aMS",%progbits,1
 6034              		.align	2
 6035              	.LC26:
 6036 0000 6C776970 		.ascii	"lwip_recvmsg: invalid message pointer\000"
 6036      5F726563 
 6036      766D7367 
 6036      3A20696E 
 6036      76616C69 
 6037 0026 0000     		.align	2
 6038              	.LC27:
 6039 0028 6C776970 		.ascii	"lwip_recvmsg: unsupported flags\000"
 6039      5F726563 
 6039      766D7367 
 6039      3A20756E 
 6039      73757070 
 6040              		.section	.text.lwip_recvmsg,"ax",%progbits
 6041              		.align	1
 6042              		.global	lwip_recvmsg
 6043              		.syntax unified
 6044              		.thumb
 6045              		.thumb_func
 6047              	lwip_recvmsg:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 205


 6048              	.LVL652:
 6049              	.LFB389:
1282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 6050              		.loc 1 1282 1 is_stmt 1 view -0
 6051              		.cfi_startproc
 6052              		@ args = 0, pretend = 0, frame = 8
 6053              		@ frame_needed = 0, uses_anonymous_args = 0
1282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 6054              		.loc 1 1282 1 is_stmt 0 view .LVU1913
 6055 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 6056              	.LCFI75:
 6057              		.cfi_def_cfa_offset 32
 6058              		.cfi_offset 4, -32
 6059              		.cfi_offset 5, -28
 6060              		.cfi_offset 6, -24
 6061              		.cfi_offset 7, -20
 6062              		.cfi_offset 8, -16
 6063              		.cfi_offset 9, -12
 6064              		.cfi_offset 10, -8
 6065              		.cfi_offset 14, -4
 6066 0004 84B0     		sub	sp, sp, #16
 6067              	.LCFI76:
 6068              		.cfi_def_cfa_offset 48
1283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 6069              		.loc 1 1283 3 is_stmt 1 view .LVU1914
1284:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t buflen;
 6070              		.loc 1 1284 3 view .LVU1915
1285:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6071              		.loc 1 1285 3 view .LVU1916
1287:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: invalid message pointer", message != NULL, return ERR_ARG;);
 6072              		.loc 1 1287 104 view .LVU1917
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6073              		.loc 1 1288 3 view .LVU1918
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6074              		.loc 1 1288 3 view .LVU1919
 6075 0006 19B3     		cbz	r1, .L499
 6076 0008 8046     		mov	r8, r0
 6077 000a 1746     		mov	r7, r2
 6078 000c 0D46     		mov	r5, r1
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6079              		.loc 1 1288 3 discriminator 2 view .LVU1920
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6080              		.loc 1 1288 3 discriminator 2 view .LVU1921
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6081              		.loc 1 1289 3 view .LVU1922
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6082              		.loc 1 1289 3 view .LVU1923
 6083 000e 32F00906 		bics	r6, r2, #9
 6084 0012 27D1     		bne	.L500
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6085              		.loc 1 1289 3 discriminator 2 view .LVU1924
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6086              		.loc 1 1289 3 discriminator 2 view .LVU1925
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6087              		.loc 1 1292 3 view .LVU1926
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6088              		.loc 1 1292 15 is_stmt 0 view .LVU1927
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 206


 6089 0014 CB68     		ldr	r3, [r1, #12]
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6090              		.loc 1 1292 34 view .LVU1928
 6091 0016 013B     		subs	r3, r3, #1
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6092              		.loc 1 1292 6 view .LVU1929
 6093 0018 B3F5806F 		cmp	r3, #1024
 6094 001c 2FD2     		bcs	.L501
1297:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 6095              		.loc 1 1297 3 is_stmt 1 view .LVU1930
1297:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 6096              		.loc 1 1297 10 is_stmt 0 view .LVU1931
 6097 001e FFF7FEFF 		bl	get_socket
 6098              	.LVL653:
1298:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6099              		.loc 1 1298 3 is_stmt 1 view .LVU1932
1298:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6100              		.loc 1 1298 6 is_stmt 0 view .LVU1933
 6101 0022 8146     		mov	r9, r0
 6102 0024 0028     		cmp	r0, #0
 6103 0026 00F08D80 		beq	.L497
1303:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; i < message->msg_iovlen; i++) {
 6104              		.loc 1 1303 10 view .LVU1934
 6105 002a 3446     		mov	r4, r6
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6106              		.loc 1 1304 10 view .LVU1935
 6107 002c 3346     		mov	r3, r6
 6108              	.LVL654:
 6109              	.L482:
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6110              		.loc 1 1304 17 is_stmt 1 discriminator 1 view .LVU1936
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6111              		.loc 1 1304 26 is_stmt 0 discriminator 1 view .LVU1937
 6112 002e EA68     		ldr	r2, [r5, #12]
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6113              		.loc 1 1304 17 discriminator 1 view .LVU1938
 6114 0030 9A42     		cmp	r2, r3
 6115 0032 36DD     		ble	.L502
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6116              		.loc 1 1305 5 is_stmt 1 view .LVU1939
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6117              		.loc 1 1305 17 is_stmt 0 view .LVU1940
 6118 0034 A968     		ldr	r1, [r5, #8]
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6119              		.loc 1 1305 26 view .LVU1941
 6120 0036 01EBC300 		add	r0, r1, r3, lsl #3
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6121              		.loc 1 1305 29 view .LVU1942
 6122 003a 51F83320 		ldr	r2, [r1, r3, lsl #3]
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6123              		.loc 1 1305 8 view .LVU1943
 6124 003e 22B3     		cbz	r2, .L483
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6125              		.loc 1 1305 80 discriminator 1 view .LVU1944
 6126 0040 4268     		ldr	r2, [r0, #4]
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6127              		.loc 1 1305 95 discriminator 1 view .LVU1945
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 207


 6128 0042 002A     		cmp	r2, #0
 6129 0044 21DD     		ble	.L483
1307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(ERR_VAL));
 6130              		.loc 1 1307 10 view .LVU1946
 6131 0046 1444     		add	r4, r4, r2
 6132              	.LVL655:
1306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((ssize_t)(buflen + (ssize_t)message->msg_iov[i].iov_len) <= 0)) {
 6133              		.loc 1 1306 87 view .LVU1947
 6134 0048 002C     		cmp	r4, #0
 6135 004a 1EDD     		ble	.L483
1312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6136              		.loc 1 1312 5 is_stmt 1 view .LVU1948
 6137              	.LVL656:
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6138              		.loc 1 1304 41 discriminator 2 view .LVU1949
 6139 004c 0133     		adds	r3, r3, #1
 6140              	.LVL657:
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6141              		.loc 1 1304 41 is_stmt 0 discriminator 2 view .LVU1950
 6142 004e EEE7     		b	.L482
 6143              	.LVL658:
 6144              	.L499:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6145              		.loc 1 1288 3 is_stmt 1 discriminator 1 view .LVU1951
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6146              		.loc 1 1288 3 discriminator 1 view .LVU1952
 6147 0050 3E4B     		ldr	r3, .L506
 6148 0052 4FF4A162 		mov	r2, #1288
 6149              	.LVL659:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6150              		.loc 1 1288 3 is_stmt 0 discriminator 1 view .LVU1953
 6151 0056 3E49     		ldr	r1, .L506+4
 6152              	.LVL660:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6153              		.loc 1 1288 3 discriminator 1 view .LVU1954
 6154 0058 3E48     		ldr	r0, .L506+8
 6155              	.LVL661:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6156              		.loc 1 1288 3 discriminator 1 view .LVU1955
 6157 005a FFF7FEFF 		bl	printf
 6158              	.LVL662:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6159              		.loc 1 1288 3 is_stmt 1 discriminator 1 view .LVU1956
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6160              		.loc 1 1288 3 discriminator 1 view .LVU1957
 6161 005e 6FF00F00 		mvn	r0, #15
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6162              		.loc 1 1288 3 is_stmt 0 view .LVU1958
 6163 0062 1BE0     		b	.L477
 6164              	.LVL663:
 6165              	.L500:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6166              		.loc 1 1289 3 is_stmt 1 discriminator 1 view .LVU1959
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6167              		.loc 1 1289 3 discriminator 1 view .LVU1960
 6168 0064 394B     		ldr	r3, .L506
 6169 0066 40F20952 		movw	r2, #1289
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 208


 6170              	.LVL664:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6171              		.loc 1 1289 3 is_stmt 0 discriminator 1 view .LVU1961
 6172 006a 3B49     		ldr	r1, .L506+12
 6173              	.LVL665:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6174              		.loc 1 1289 3 discriminator 1 view .LVU1962
 6175 006c 3948     		ldr	r0, .L506+8
 6176              	.LVL666:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6177              		.loc 1 1289 3 discriminator 1 view .LVU1963
 6178 006e FFF7FEFF 		bl	printf
 6179              	.LVL667:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6180              		.loc 1 1289 3 is_stmt 1 discriminator 1 view .LVU1964
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6181              		.loc 1 1289 3 discriminator 1 view .LVU1965
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6182              		.loc 1 1289 3 discriminator 1 view .LVU1966
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6183              		.loc 1 1289 3 discriminator 3 view .LVU1967
 6184 0072 3A4B     		ldr	r3, .L506+16
 6185 0074 5F22     		movs	r2, #95
 6186 0076 1A60     		str	r2, [r3]
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6187              		.loc 1 1289 3 discriminator 5 view .LVU1968
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6188              		.loc 1 1289 3 discriminator 5 view .LVU1969
 6189 0078 4FF0FF30 		mov	r0, #-1
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6190              		.loc 1 1289 3 is_stmt 0 view .LVU1970
 6191 007c 0EE0     		b	.L477
 6192              	.LVL668:
 6193              	.L501:
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6194              		.loc 1 1293 5 is_stmt 1 view .LVU1971
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6195              		.loc 1 1293 5 view .LVU1972
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6196              		.loc 1 1293 5 discriminator 1 view .LVU1973
 6197 007e 374B     		ldr	r3, .L506+16
 6198 0080 5A22     		movs	r2, #90
 6199              	.LVL669:
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6200              		.loc 1 1293 5 is_stmt 0 discriminator 1 view .LVU1974
 6201 0082 1A60     		str	r2, [r3]
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6202              		.loc 1 1293 5 is_stmt 1 discriminator 3 view .LVU1975
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6203              		.loc 1 1294 5 view .LVU1976
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6204              		.loc 1 1294 12 is_stmt 0 view .LVU1977
 6205 0084 4FF0FF30 		mov	r0, #-1
 6206              	.LVL670:
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6207              		.loc 1 1294 12 view .LVU1978
 6208 0088 08E0     		b	.L477
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 209


 6209              	.LVL671:
 6210              	.L483:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6211              		.loc 1 1308 7 is_stmt 1 view .LVU1979
 6212              	.LBB52:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6213              		.loc 1 1308 7 view .LVU1980
 6214 008a 6FF00500 		mvn	r0, #5
 6215 008e FFF7FEFF 		bl	err_to_errno
 6216              	.LVL672:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6217              		.loc 1 1308 7 discriminator 1 view .LVU1981
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6218              		.loc 1 1308 7 discriminator 1 view .LVU1982
 6219 0092 08B1     		cbz	r0, .L485
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6220              		.loc 1 1308 7 discriminator 1 view .LVU1983
 6221 0094 314A     		ldr	r2, .L506+16
 6222 0096 1060     		str	r0, [r2]
 6223              	.L485:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6224              		.loc 1 1308 7 discriminator 3 view .LVU1984
 6225              	.LBE52:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6226              		.loc 1 1308 7 discriminator 3 view .LVU1985
1309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 6227              		.loc 1 1309 24 view .LVU1986
1310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6228              		.loc 1 1310 7 view .LVU1987
1310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6229              		.loc 1 1310 14 is_stmt 0 view .LVU1988
 6230 0098 4FF0FF30 		mov	r0, #-1
 6231              	.LVL673:
 6232              	.L477:
1379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6233              		.loc 1 1379 1 view .LVU1989
 6234 009c 04B0     		add	sp, sp, #16
 6235              	.LCFI77:
 6236              		.cfi_remember_state
 6237              		.cfi_def_cfa_offset 32
 6238              		@ sp needed
 6239 009e BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 6240              	.LVL674:
 6241              	.L502:
 6242              	.LCFI78:
 6243              		.cfi_restore_state
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6244              		.loc 1 1315 3 is_stmt 1 view .LVU1990
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6245              		.loc 1 1315 7 is_stmt 0 view .LVU1991
 6246 00a2 D9F80030 		ldr	r3, [r9]
 6247              	.LVL675:
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6248              		.loc 1 1315 7 view .LVU1992
 6249 00a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6250              		.loc 1 1315 6 view .LVU1993
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 210


 6251 00a8 03F0F003 		and	r3, r3, #240
 6252 00ac 102B     		cmp	r3, #16
 6253 00ae 15D0     		beq	.L503
 6254              	.LBB53:
1356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 6255              		.loc 1 1356 5 is_stmt 1 view .LVU1994
1356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 6256              		.loc 1 1356 11 is_stmt 0 view .LVU1995
 6257 00b0 0023     		movs	r3, #0
 6258 00b2 ADF80E30 		strh	r3, [sp, #14]	@ movhi
1357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, message, &datagram_len, s);
 6259              		.loc 1 1357 5 is_stmt 1 view .LVU1996
1358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 6260              		.loc 1 1358 5 view .LVU1997
1358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 6261              		.loc 1 1358 11 is_stmt 0 view .LVU1998
 6262 00b6 CDF80080 		str	r8, [sp]
 6263 00ba 0DF10E03 		add	r3, sp, #14
 6264 00be 2A46     		mov	r2, r5
 6265 00c0 3946     		mov	r1, r7
 6266 00c2 4846     		mov	r0, r9
 6267 00c4 FFF7FEFF 		bl	lwip_recvfrom_udp_raw
 6268              	.LVL676:
1359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 6269              		.loc 1 1359 5 is_stmt 1 view .LVU1999
1359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 6270              		.loc 1 1359 8 is_stmt 0 view .LVU2000
 6271 00c8 A0BB     		cbnz	r0, .L504
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
 6272              		.loc 1 1366 5 is_stmt 1 view .LVU2001
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
 6273              		.loc 1 1366 22 is_stmt 0 view .LVU2002
 6274 00ca BDF80E00 		ldrh	r0, [sp, #14]
 6275              	.LVL677:
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
 6276              		.loc 1 1366 8 view .LVU2003
 6277 00ce A042     		cmp	r0, r4
 6278 00d0 E4DD     		ble	.L477
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6279              		.loc 1 1367 7 is_stmt 1 view .LVU2004
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6280              		.loc 1 1367 14 is_stmt 0 view .LVU2005
 6281 00d2 AB69     		ldr	r3, [r5, #24]
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6282              		.loc 1 1367 26 view .LVU2006
 6283 00d4 43F00403 		orr	r3, r3, #4
 6284 00d8 AB61     		str	r3, [r5, #24]
 6285 00da DFE7     		b	.L477
 6286              	.LVL678:
 6287              	.L503:
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6288              		.loc 1 1367 26 view .LVU2007
 6289              	.LBE53:
 6290              	.LBB55:
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     message->msg_flags = 0;
 6291              		.loc 1 1317 5 is_stmt 1 view .LVU2008
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* recv the data */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 211


 6292              		.loc 1 1318 5 view .LVU2009
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* recv the data */
 6293              		.loc 1 1318 24 is_stmt 0 view .LVU2010
 6294 00dc 0023     		movs	r3, #0
 6295 00de AB61     		str	r3, [r5, #24]
1320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < message->msg_iovlen; i++) {
 6296              		.loc 1 1320 5 is_stmt 1 view .LVU2011
 6297              	.LVL679:
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6298              		.loc 1 1321 5 view .LVU2012
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     message->msg_flags = 0;
 6299              		.loc 1 1317 9 is_stmt 0 view .LVU2013
 6300 00e0 3C46     		mov	r4, r7
1320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < message->msg_iovlen; i++) {
 6301              		.loc 1 1320 12 view .LVU2014
 6302 00e2 B246     		mov	r10, r6
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6303              		.loc 1 1321 5 view .LVU2015
 6304 00e4 0CE0     		b	.L488
 6305              	.LVL680:
 6306              	.L489:
 6307              	.LBB56:
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6308              		.loc 1 1328 7 is_stmt 1 view .LVU2016
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6309              		.loc 1 1328 10 is_stmt 0 view .LVU2017
 6310 00e6 0028     		cmp	r0, #0
 6311 00e8 1DDB     		blt	.L490
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6312              		.loc 1 1328 59 discriminator 1 view .LVU2018
 6313 00ea AB68     		ldr	r3, [r5, #8]
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6314              		.loc 1 1328 68 discriminator 1 view .LVU2019
 6315 00ec 4344     		add	r3, r3, r8
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6316              		.loc 1 1328 71 discriminator 1 view .LVU2020
 6317 00ee 5B68     		ldr	r3, [r3, #4]
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6318              		.loc 1 1328 29 discriminator 1 view .LVU2021
 6319 00f0 8342     		cmp	r3, r0
 6320 00f2 18DC     		bgt	.L490
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6321              		.loc 1 1328 81 discriminator 2 view .LVU2022
 6322 00f4 17F0010F 		tst	r7, #1
 6323 00f8 15D1     		bne	.L490
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6324              		.loc 1 1338 7 is_stmt 1 view .LVU2023
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6325              		.loc 1 1338 18 is_stmt 0 view .LVU2024
 6326 00fa 44F00804 		orr	r4, r4, #8
 6327              	.LVL681:
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6328              		.loc 1 1338 18 view .LVU2025
 6329              	.LBE56:
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6330              		.loc 1 1321 43 is_stmt 1 discriminator 2 view .LVU2026
 6331 00fe 0136     		adds	r6, r6, #1
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 212


 6332              	.LVL682:
 6333              	.L488:
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6334              		.loc 1 1321 19 discriminator 1 view .LVU2027
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6335              		.loc 1 1321 28 is_stmt 0 discriminator 1 view .LVU2028
 6336 0100 EB68     		ldr	r3, [r5, #12]
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6337              		.loc 1 1321 19 discriminator 1 view .LVU2029
 6338 0102 B342     		cmp	r3, r6
 6339 0104 14DD     		ble	.L505
 6340              	.LBB57:
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
 6341              		.loc 1 1323 7 is_stmt 1 view .LVU2030
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
 6342              		.loc 1 1323 56 is_stmt 0 view .LVU2031
 6343 0106 A968     		ldr	r1, [r5, #8]
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
 6344              		.loc 1 1323 65 view .LVU2032
 6345 0108 4FEAC608 		lsl	r8, r6, #3
 6346 010c 01EBC602 		add	r2, r1, r6, lsl #3
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
 6347              		.loc 1 1323 29 view .LVU2033
 6348 0110 2346     		mov	r3, r4
 6349 0112 5268     		ldr	r2, [r2, #4]
 6350 0114 51F83610 		ldr	r1, [r1, r6, lsl #3]
 6351 0118 4846     		mov	r0, r9
 6352 011a FFF7FEFF 		bl	lwip_recv_tcp
 6353              	.LVL683:
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* sum up received bytes */
 6354              		.loc 1 1324 7 is_stmt 1 view .LVU2034
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* sum up received bytes */
 6355              		.loc 1 1324 10 is_stmt 0 view .LVU2035
 6356 011e 0028     		cmp	r0, #0
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* sum up received bytes */
 6357              		.loc 1 1324 10 view .LVU2036
 6358 0120 E1DD     		ble	.L489
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6359              		.loc 1 1326 9 is_stmt 1 view .LVU2037
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6360              		.loc 1 1326 16 is_stmt 0 view .LVU2038
 6361 0122 8244     		add	r10, r10, r0
 6362              	.LVL684:
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6363              		.loc 1 1326 16 view .LVU2039
 6364 0124 DFE7     		b	.L489
 6365              	.L490:
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
 6366              		.loc 1 1331 9 is_stmt 1 view .LVU2040
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
 6367              		.loc 1 1331 12 is_stmt 0 view .LVU2041
 6368 0126 BAF1000F 		cmp	r10, #0
 6369 012a B7DD     		ble	.L477
 6370 012c 5046     		mov	r0, r10
 6371              	.LVL685:
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
 6372              		.loc 1 1331 12 view .LVU2042
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 213


 6373 012e B5E7     		b	.L477
 6374              	.LVL686:
 6375              	.L505:
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
 6376              		.loc 1 1331 12 view .LVU2043
 6377              	.LBE57:
 6378 0130 5046     		mov	r0, r10
 6379              	.LVL687:
1340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* reset socket error since we have received something */
 6380              		.loc 1 1340 5 is_stmt 1 view .LVU2044
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6381              		.loc 1 1342 7 view .LVU2045
 6382              	.LBE55:
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6383              		.loc 1 1342 7 view .LVU2046
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6384              		.loc 1 1342 7 view .LVU2047
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6385              		.loc 1 1342 7 view .LVU2048
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6386              		.loc 1 1342 7 discriminator 3 view .LVU2049
 6387              	.LBB58:
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6388              		.loc 1 1342 7 discriminator 3 view .LVU2050
1345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return buflen;
 6389              		.loc 1 1345 22 view .LVU2051
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6390              		.loc 1 1346 5 view .LVU2052
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6391              		.loc 1 1346 12 is_stmt 0 view .LVU2053
 6392 0132 B3E7     		b	.L477
 6393              	.LVL688:
 6394              	.L504:
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6395              		.loc 1 1346 12 view .LVU2054
 6396              	.LBE58:
 6397              	.LBB59:
1361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 6398              		.loc 1 1361 56 is_stmt 1 view .LVU2055
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6399              		.loc 1 1362 7 view .LVU2056
 6400              	.LBB54:
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6401              		.loc 1 1362 7 view .LVU2057
 6402 0134 FFF7FEFF 		bl	err_to_errno
 6403              	.LVL689:
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6404              		.loc 1 1362 7 discriminator 1 view .LVU2058
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6405              		.loc 1 1362 7 discriminator 1 view .LVU2059
 6406 0138 08B1     		cbz	r0, .L495
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6407              		.loc 1 1362 7 discriminator 1 view .LVU2060
 6408 013a 084A     		ldr	r2, .L506+16
 6409 013c 1060     		str	r0, [r2]
 6410              	.L495:
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 214


 6411              		.loc 1 1362 7 discriminator 3 view .LVU2061
 6412              	.LBE54:
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6413              		.loc 1 1362 7 discriminator 3 view .LVU2062
1363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 6414              		.loc 1 1363 24 view .LVU2063
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6415              		.loc 1 1364 7 view .LVU2064
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6416              		.loc 1 1364 14 is_stmt 0 view .LVU2065
 6417 013e 4FF0FF30 		mov	r0, #-1
 6418              	.LVL690:
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6419              		.loc 1 1364 14 view .LVU2066
 6420 0142 ABE7     		b	.L477
 6421              	.LVL691:
 6422              	.L497:
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6423              		.loc 1 1364 14 view .LVU2067
 6424              	.LBE59:
1299:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6425              		.loc 1 1299 12 view .LVU2068
 6426 0144 4FF0FF30 		mov	r0, #-1
 6427              	.LVL692:
1299:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6428              		.loc 1 1299 12 view .LVU2069
 6429 0148 A8E7     		b	.L477
 6430              	.L507:
 6431 014a 00BF     		.align	2
 6432              	.L506:
 6433 014c 00000000 		.word	.LC0
 6434 0150 00000000 		.word	.LC26
 6435 0154 48000000 		.word	.LC2
 6436 0158 28000000 		.word	.LC27
 6437 015c 00000000 		.word	errno
 6438              		.cfi_endproc
 6439              	.LFE389:
 6441              		.section	.text.lwip_readv,"ax",%progbits
 6442              		.align	1
 6443              		.global	lwip_readv
 6444              		.syntax unified
 6445              		.thumb
 6446              		.thumb_func
 6448              	lwip_readv:
 6449              	.LVL693:
 6450              	.LFB387:
1259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 6451              		.loc 1 1259 1 is_stmt 1 view -0
 6452              		.cfi_startproc
 6453              		@ args = 0, pretend = 0, frame = 32
 6454              		@ frame_needed = 0, uses_anonymous_args = 0
1259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 6455              		.loc 1 1259 1 is_stmt 0 view .LVU2071
 6456 0000 00B5     		push	{lr}
 6457              	.LCFI79:
 6458              		.cfi_def_cfa_offset 4
 6459              		.cfi_offset 14, -4
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 215


 6460 0002 89B0     		sub	sp, sp, #36
 6461              	.LCFI80:
 6462              		.cfi_def_cfa_offset 40
1260:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6463              		.loc 1 1260 3 is_stmt 1 view .LVU2072
1262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 6464              		.loc 1 1262 3 view .LVU2073
1262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 6465              		.loc 1 1262 16 is_stmt 0 view .LVU2074
 6466 0004 0023     		movs	r3, #0
 6467 0006 0193     		str	r3, [sp, #4]
1263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 6468              		.loc 1 1263 3 is_stmt 1 view .LVU2075
1263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 6469              		.loc 1 1263 19 is_stmt 0 view .LVU2076
 6470 0008 0293     		str	r3, [sp, #8]
1266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 6471              		.loc 1 1266 3 is_stmt 1 view .LVU2077
1266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 6472              		.loc 1 1266 15 is_stmt 0 view .LVU2078
 6473 000a 0391     		str	r1, [sp, #12]
1267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 6474              		.loc 1 1267 3 is_stmt 1 view .LVU2079
1267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 6475              		.loc 1 1267 18 is_stmt 0 view .LVU2080
 6476 000c 0492     		str	r2, [sp, #16]
1268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 6477              		.loc 1 1268 3 is_stmt 1 view .LVU2081
1268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 6478              		.loc 1 1268 19 is_stmt 0 view .LVU2082
 6479 000e 0593     		str	r3, [sp, #20]
1269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 6480              		.loc 1 1269 3 is_stmt 1 view .LVU2083
1269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 6481              		.loc 1 1269 22 is_stmt 0 view .LVU2084
 6482 0010 0693     		str	r3, [sp, #24]
1270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvmsg(s, &msg, 0);
 6483              		.loc 1 1270 3 is_stmt 1 view .LVU2085
1270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvmsg(s, &msg, 0);
 6484              		.loc 1 1270 17 is_stmt 0 view .LVU2086
 6485 0012 0793     		str	r3, [sp, #28]
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6486              		.loc 1 1271 3 is_stmt 1 view .LVU2087
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6487              		.loc 1 1271 10 is_stmt 0 view .LVU2088
 6488 0014 1A46     		mov	r2, r3
 6489              	.LVL694:
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6490              		.loc 1 1271 10 view .LVU2089
 6491 0016 01A9     		add	r1, sp, #4
 6492              	.LVL695:
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6493              		.loc 1 1271 10 view .LVU2090
 6494 0018 FFF7FEFF 		bl	lwip_recvmsg
 6495              	.LVL696:
1272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6496              		.loc 1 1272 1 view .LVU2091
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 216


 6497 001c 09B0     		add	sp, sp, #36
 6498              	.LCFI81:
 6499              		.cfi_def_cfa_offset 4
 6500              		@ sp needed
 6501 001e 5DF804FB 		ldr	pc, [sp], #4
 6502              		.cfi_endproc
 6503              	.LFE387:
 6505              		.section	.rodata.lwip_sendmsg.str1.4,"aMS",%progbits,1
 6506              		.align	2
 6507              	.LC28:
 6508 0000 6C776970 		.ascii	"lwip_sendmsg: invalid msghdr\000"
 6508      5F73656E 
 6508      646D7367 
 6508      3A20696E 
 6508      76616C69 
 6509 001d 000000   		.align	2
 6510              	.LC29:
 6511 0020 6C776970 		.ascii	"lwip_sendmsg: invalid msghdr iov\000"
 6511      5F73656E 
 6511      646D7367 
 6511      3A20696E 
 6511      76616C69 
 6512 0041 000000   		.align	2
 6513              	.LC30:
 6514 0044 6C776970 		.ascii	"lwip_sendmsg: maximum iovs exceeded\000"
 6514      5F73656E 
 6514      646D7367 
 6514      3A206D61 
 6514      78696D75 
 6515              		.align	2
 6516              	.LC31:
 6517 0068 6C776970 		.ascii	"lwip_sendmsg: unsupported flags\000"
 6517      5F73656E 
 6517      646D7367 
 6517      3A20756E 
 6517      73757070 
 6518              		.align	2
 6519              	.LC32:
 6520 0088 6C776970 		.ascii	"lwip_sendmsg: invalid msghdr name\000"
 6520      5F73656E 
 6520      646D7367 
 6520      3A20696E 
 6520      76616C69 
 6521              		.section	.text.lwip_sendmsg,"ax",%progbits
 6522              		.align	1
 6523              		.global	lwip_sendmsg
 6524              		.syntax unified
 6525              		.thumb
 6526              		.thumb_func
 6528              	lwip_sendmsg:
 6529              	.LVL697:
 6530              	.LFB391:
1423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 6531              		.loc 1 1423 1 is_stmt 1 view -0
 6532              		.cfi_startproc
 6533              		@ args = 0, pretend = 0, frame = 24
 6534              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 217


1423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 6535              		.loc 1 1423 1 is_stmt 0 view .LVU2093
 6536 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 6537              	.LCFI82:
 6538              		.cfi_def_cfa_offset 24
 6539              		.cfi_offset 4, -24
 6540              		.cfi_offset 5, -20
 6541              		.cfi_offset 6, -16
 6542              		.cfi_offset 7, -12
 6543              		.cfi_offset 8, -8
 6544              		.cfi_offset 14, -4
 6545 0004 88B0     		sub	sp, sp, #32
 6546              	.LCFI83:
 6547              		.cfi_def_cfa_offset 56
 6548 0006 0C46     		mov	r4, r1
 6549 0008 1546     		mov	r5, r2
1424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6550              		.loc 1 1424 3 is_stmt 1 view .LVU2094
1426:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
 6551              		.loc 1 1426 3 view .LVU2095
1427:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 6552              		.loc 1 1427 3 view .LVU2096
1429:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6553              		.loc 1 1429 3 view .LVU2097
 6554              	.LVL698:
1431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 6555              		.loc 1 1431 3 view .LVU2098
1431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 6556              		.loc 1 1431 10 is_stmt 0 view .LVU2099
 6557 000a FFF7FEFF 		bl	get_socket
 6558              	.LVL699:
1432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6559              		.loc 1 1432 3 is_stmt 1 view .LVU2100
1432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6560              		.loc 1 1432 6 is_stmt 0 view .LVU2101
 6561 000e 0028     		cmp	r0, #0
 6562 0010 00F0F080 		beq	.L536
 6563 0014 0746     		mov	r7, r0
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6564              		.loc 1 1436 3 is_stmt 1 view .LVU2102
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6565              		.loc 1 1436 3 view .LVU2103
 6566 0016 3CB3     		cbz	r4, .L542
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6567              		.loc 1 1436 3 discriminator 2 view .LVU2104
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6568              		.loc 1 1436 3 discriminator 2 view .LVU2105
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6569              		.loc 1 1438 3 view .LVU2106
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6570              		.loc 1 1438 3 view .LVU2107
 6571 0018 A168     		ldr	r1, [r4, #8]
 6572 001a 0029     		cmp	r1, #0
 6573 001c 35D0     		beq	.L543
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6574              		.loc 1 1438 3 discriminator 2 view .LVU2108
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 218


 6575              		.loc 1 1438 3 discriminator 2 view .LVU2109
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6576              		.loc 1 1440 3 view .LVU2110
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6577              		.loc 1 1440 3 view .LVU2111
 6578 001e E268     		ldr	r2, [r4, #12]
 6579 0020 531E     		subs	r3, r2, #1
 6580 0022 B3F5806F 		cmp	r3, #1024
 6581 0026 41D2     		bcs	.L544
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6582              		.loc 1 1440 3 discriminator 2 view .LVU2112
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6583              		.loc 1 1440 3 discriminator 2 view .LVU2113
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6584              		.loc 1 1442 3 view .LVU2114
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6585              		.loc 1 1442 3 view .LVU2115
 6586 0028 35F01806 		bics	r6, r5, #24
 6587 002c 4BD1     		bne	.L545
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6588              		.loc 1 1442 3 discriminator 2 view .LVU2116
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6589              		.loc 1 1442 3 discriminator 2 view .LVU2117
1445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_controllen);
 6590              		.loc 1 1445 3 view .LVU2118
1446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_flags);
 6591              		.loc 1 1446 3 view .LVU2119
1447:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6592              		.loc 1 1447 3 view .LVU2120
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6593              		.loc 1 1449 3 view .LVU2121
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6594              		.loc 1 1449 7 is_stmt 0 view .LVU2122
 6595 002e 0368     		ldr	r3, [r0]
 6596 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6597              		.loc 1 1449 6 view .LVU2123
 6598 0032 03F0F003 		and	r3, r3, #240
 6599 0036 102B     		cmp	r3, #16
 6600 0038 52D0     		beq	.L546
 6601              	.LBB60:
1470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int i;
 6602              		.loc 1 1470 5 is_stmt 1 view .LVU2124
1471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ssize_t size = 0;
 6603              		.loc 1 1471 5 view .LVU2125
1472:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6604              		.loc 1 1472 5 view .LVU2126
 6605              	.LVL700:
1474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ERROR("lwip_sendmsg: invalid msghdr name", (((msg->msg_name == NULL) && (msg->msg_namelen 
 6606              		.loc 1 1474 5 view .LVU2127
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6607              		.loc 1 1475 5 view .LVU2128
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6608              		.loc 1 1475 5 view .LVU2129
 6609 003a 2368     		ldr	r3, [r4]
 6610 003c 002B     		cmp	r3, #0
 6611 003e 6DD0     		beq	.L547
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 219


 6612              	.L522:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6613              		.loc 1 1475 5 is_stmt 0 discriminator 3 view .LVU2130
 6614 0040 6368     		ldr	r3, [r4, #4]
 6615 0042 102B     		cmp	r3, #16
 6616 0044 6ED1     		bne	.L548
 6617              	.L523:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6618              		.loc 1 1475 5 is_stmt 1 discriminator 6 view .LVU2131
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6619              		.loc 1 1475 5 discriminator 6 view .LVU2132
1480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name) {
 6620              		.loc 1 1480 5 view .LVU2133
 6621 0046 0023     		movs	r3, #0
 6622 0048 0393     		str	r3, [sp, #12]
 6623 004a 0493     		str	r3, [sp, #16]
 6624 004c 0593     		str	r3, [sp, #20]
 6625 004e 0693     		str	r3, [sp, #24]
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
 6626              		.loc 1 1481 5 view .LVU2134
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
 6627              		.loc 1 1481 12 is_stmt 0 view .LVU2135
 6628 0050 2368     		ldr	r3, [r4]
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
 6629              		.loc 1 1481 8 view .LVU2136
 6630 0052 3BB1     		cbz	r3, .L526
 6631              	.LBB61:
1482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SOCKADDR_TO_IPADDR_PORT((const struct sockaddr *)msg->msg_name, &chain_buf.addr, remote_port)
 6632              		.loc 1 1482 7 is_stmt 1 view .LVU2137
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6633              		.loc 1 1483 7 view .LVU2138
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6634              		.loc 1 1483 7 view .LVU2139
 6635 0054 5B68     		ldr	r3, [r3, #4]
 6636 0056 0593     		str	r3, [sp, #20]
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6637              		.loc 1 1483 7 view .LVU2140
 6638 0058 2368     		ldr	r3, [r4]
 6639 005a 5888     		ldrh	r0, [r3, #2]
 6640              	.LVL701:
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6641              		.loc 1 1483 7 is_stmt 0 view .LVU2141
 6642 005c FFF7FEFF 		bl	lwip_htons
 6643              	.LVL702:
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6644              		.loc 1 1483 7 is_stmt 1 discriminator 1 view .LVU2142
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6645              		.loc 1 1484 7 view .LVU2143
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6646              		.loc 1 1484 35 is_stmt 0 view .LVU2144
 6647 0060 ADF81800 		strh	r0, [sp, #24]	@ movhi
 6648              	.LVL703:
 6649              	.L526:
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6650              		.loc 1 1484 35 view .LVU2145
 6651              	.LBE61:
 6652              	.LBE60:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 220


1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6653              		.loc 1 1460 46 discriminator 2 view .LVU2146
 6654 0064 3546     		mov	r5, r6
 6655              	.LVL704:
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6656              		.loc 1 1460 46 discriminator 2 view .LVU2147
 6657 0066 71E0     		b	.L532
 6658              	.LVL705:
 6659              	.L542:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6660              		.loc 1 1436 3 is_stmt 1 discriminator 1 view .LVU2148
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6661              		.loc 1 1436 3 discriminator 1 view .LVU2149
 6662 0068 644B     		ldr	r3, .L553
 6663 006a 40F29C52 		movw	r2, #1436
 6664 006e 6449     		ldr	r1, .L553+4
 6665 0070 6448     		ldr	r0, .L553+8
 6666              	.LVL706:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6667              		.loc 1 1436 3 is_stmt 0 discriminator 1 view .LVU2150
 6668 0072 FFF7FEFF 		bl	printf
 6669              	.LVL707:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6670              		.loc 1 1436 3 is_stmt 1 discriminator 1 view .LVU2151
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6671              		.loc 1 1436 3 discriminator 1 view .LVU2152
 6672              	.LBB68:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6673              		.loc 1 1436 3 discriminator 1 view .LVU2153
 6674 0076 6FF00F00 		mvn	r0, #15
 6675 007a FFF7FEFF 		bl	err_to_errno
 6676              	.LVL708:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6677              		.loc 1 1436 3 discriminator 2 view .LVU2154
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6678              		.loc 1 1436 3 discriminator 2 view .LVU2155
 6679 007e 08B1     		cbz	r0, .L513
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6680              		.loc 1 1436 3 discriminator 3 view .LVU2156
 6681 0080 614B     		ldr	r3, .L553+12
 6682 0082 1860     		str	r0, [r3]
 6683              	.L513:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6684              		.loc 1 1436 3 discriminator 5 view .LVU2157
 6685              	.LBE68:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6686              		.loc 1 1436 3 discriminator 5 view .LVU2158
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6687              		.loc 1 1436 3 discriminator 5 view .LVU2159
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6688              		.loc 1 1436 3 discriminator 5 view .LVU2160
 6689 0084 4FF0FF36 		mov	r6, #-1
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6690              		.loc 1 1436 3 is_stmt 0 view .LVU2161
 6691 0088 95E0     		b	.L510
 6692              	.LVL709:
 6693              	.L543:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 221


1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6694              		.loc 1 1438 3 is_stmt 1 discriminator 1 view .LVU2162
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6695              		.loc 1 1438 3 discriminator 1 view .LVU2163
 6696 008a 5C4B     		ldr	r3, .L553
 6697 008c 40F29E52 		movw	r2, #1438
 6698 0090 5E49     		ldr	r1, .L553+16
 6699 0092 5C48     		ldr	r0, .L553+8
 6700              	.LVL710:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6701              		.loc 1 1438 3 is_stmt 0 discriminator 1 view .LVU2164
 6702 0094 FFF7FEFF 		bl	printf
 6703              	.LVL711:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6704              		.loc 1 1438 3 is_stmt 1 discriminator 1 view .LVU2165
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6705              		.loc 1 1438 3 discriminator 1 view .LVU2166
 6706              	.LBB69:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6707              		.loc 1 1438 3 discriminator 1 view .LVU2167
 6708 0098 6FF00F00 		mvn	r0, #15
 6709 009c FFF7FEFF 		bl	err_to_errno
 6710              	.LVL712:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6711              		.loc 1 1438 3 discriminator 2 view .LVU2168
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6712              		.loc 1 1438 3 discriminator 2 view .LVU2169
 6713 00a0 08B1     		cbz	r0, .L515
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6714              		.loc 1 1438 3 discriminator 3 view .LVU2170
 6715 00a2 594B     		ldr	r3, .L553+12
 6716 00a4 1860     		str	r0, [r3]
 6717              	.L515:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6718              		.loc 1 1438 3 discriminator 5 view .LVU2171
 6719              	.LBE69:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6720              		.loc 1 1438 3 discriminator 5 view .LVU2172
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6721              		.loc 1 1438 3 discriminator 5 view .LVU2173
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6722              		.loc 1 1438 3 discriminator 5 view .LVU2174
 6723 00a6 4FF0FF36 		mov	r6, #-1
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6724              		.loc 1 1438 3 is_stmt 0 view .LVU2175
 6725 00aa 84E0     		b	.L510
 6726              	.LVL713:
 6727              	.L544:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6728              		.loc 1 1440 3 is_stmt 1 discriminator 1 view .LVU2176
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6729              		.loc 1 1440 3 discriminator 1 view .LVU2177
 6730 00ac 534B     		ldr	r3, .L553
 6731 00ae 4FF4B462 		mov	r2, #1440
 6732 00b2 5749     		ldr	r1, .L553+20
 6733 00b4 5348     		ldr	r0, .L553+8
 6734              	.LVL714:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 222


1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6735              		.loc 1 1440 3 is_stmt 0 discriminator 1 view .LVU2178
 6736 00b6 FFF7FEFF 		bl	printf
 6737              	.LVL715:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6738              		.loc 1 1440 3 is_stmt 1 discriminator 1 view .LVU2179
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6739              		.loc 1 1440 3 discriminator 1 view .LVU2180
 6740              	.LBB70:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6741              		.loc 1 1440 3 discriminator 1 view .LVU2181
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6742              		.loc 1 1440 3 discriminator 1 view .LVU2182
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6743              		.loc 1 1440 3 discriminator 1 view .LVU2183
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6744              		.loc 1 1440 3 discriminator 3 view .LVU2184
 6745 00ba 534B     		ldr	r3, .L553+12
 6746 00bc 5A22     		movs	r2, #90
 6747 00be 1A60     		str	r2, [r3]
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6748              		.loc 1 1440 3 discriminator 5 view .LVU2185
 6749              	.LBE70:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6750              		.loc 1 1440 3 discriminator 5 view .LVU2186
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6751              		.loc 1 1440 3 discriminator 5 view .LVU2187
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6752              		.loc 1 1440 3 discriminator 5 view .LVU2188
 6753 00c0 4FF0FF36 		mov	r6, #-1
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6754              		.loc 1 1440 3 is_stmt 0 view .LVU2189
 6755 00c4 77E0     		b	.L510
 6756              	.LVL716:
 6757              	.L545:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6758              		.loc 1 1442 3 is_stmt 1 discriminator 1 view .LVU2190
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6759              		.loc 1 1442 3 discriminator 1 view .LVU2191
 6760 00c6 4D4B     		ldr	r3, .L553
 6761 00c8 40F2A252 		movw	r2, #1442
 6762 00cc 5149     		ldr	r1, .L553+24
 6763 00ce 4D48     		ldr	r0, .L553+8
 6764              	.LVL717:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6765              		.loc 1 1442 3 is_stmt 0 discriminator 1 view .LVU2192
 6766 00d0 FFF7FEFF 		bl	printf
 6767              	.LVL718:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6768              		.loc 1 1442 3 is_stmt 1 discriminator 1 view .LVU2193
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6769              		.loc 1 1442 3 discriminator 1 view .LVU2194
 6770              	.LBB71:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6771              		.loc 1 1442 3 discriminator 1 view .LVU2195
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6772              		.loc 1 1442 3 discriminator 1 view .LVU2196
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 223


1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6773              		.loc 1 1442 3 discriminator 1 view .LVU2197
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6774              		.loc 1 1442 3 discriminator 3 view .LVU2198
 6775 00d4 4C4B     		ldr	r3, .L553+12
 6776 00d6 5F22     		movs	r2, #95
 6777 00d8 1A60     		str	r2, [r3]
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6778              		.loc 1 1442 3 discriminator 5 view .LVU2199
 6779              	.LBE71:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6780              		.loc 1 1442 3 discriminator 5 view .LVU2200
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6781              		.loc 1 1442 3 discriminator 5 view .LVU2201
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6782              		.loc 1 1442 3 discriminator 5 view .LVU2202
 6783 00da 4FF0FF36 		mov	r6, #-1
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6784              		.loc 1 1442 3 is_stmt 0 view .LVU2203
 6785 00de 6AE0     		b	.L510
 6786              	.LVL719:
 6787              	.L546:
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6788              		.loc 1 1451 5 is_stmt 1 view .LVU2204
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6789              		.loc 1 1451 39 is_stmt 0 view .LVU2205
 6790 00e0 15F0100F 		tst	r5, #16
 6791 00e4 15D0     		beq	.L537
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6792              		.loc 1 1451 39 discriminator 1 view .LVU2206
 6793 00e6 0323     		movs	r3, #3
 6794              	.L519:
1452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 6795              		.loc 1 1452 75 view .LVU2207
 6796 00e8 6D10     		asrs	r5, r5, #1
 6797              	.LVL720:
1452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 6798              		.loc 1 1452 75 view .LVU2208
 6799 00ea 05F00405 		and	r5, r5, #4
 6800              	.LVL721:
1455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
 6801              		.loc 1 1455 5 is_stmt 1 view .LVU2209
1455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
 6802              		.loc 1 1455 13 is_stmt 0 view .LVU2210
 6803 00ee 0020     		movs	r0, #0
 6804              	.LVL722:
1455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
 6805              		.loc 1 1455 13 view .LVU2211
 6806 00f0 0790     		str	r0, [sp, #28]
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6807              		.loc 1 1456 5 is_stmt 1 view .LVU2212
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6808              		.loc 1 1456 11 is_stmt 0 view .LVU2213
 6809 00f2 3868     		ldr	r0, [r7]
 6810 00f4 07AC     		add	r4, sp, #28
 6811              	.LVL723:
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 224


 6812              		.loc 1 1456 11 view .LVU2214
 6813 00f6 0094     		str	r4, [sp]
 6814 00f8 2B43     		orrs	r3, r3, r5
 6815              	.LVL724:
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6816              		.loc 1 1456 11 view .LVU2215
 6817 00fa 92B2     		uxth	r2, r2
 6818 00fc FFF7FEFF 		bl	netconn_write_vectors_partly
 6819              	.LVL725:
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6820              		.loc 1 1456 11 view .LVU2216
 6821 0100 0446     		mov	r4, r0
 6822              	.LVL726:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6823              		.loc 1 1457 5 is_stmt 1 view .LVU2217
 6824              	.LBB72:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6825              		.loc 1 1457 5 view .LVU2218
 6826 0102 FFF7FEFF 		bl	err_to_errno
 6827              	.LVL727:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6828              		.loc 1 1457 5 discriminator 1 view .LVU2219
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6829              		.loc 1 1457 5 discriminator 1 view .LVU2220
 6830 0106 08B1     		cbz	r0, .L520
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6831              		.loc 1 1457 5 discriminator 1 view .LVU2221
 6832 0108 3F4A     		ldr	r2, .L553+12
 6833 010a 1060     		str	r0, [r2]
 6834              	.L520:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6835              		.loc 1 1457 5 discriminator 3 view .LVU2222
 6836              	.LBE72:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6837              		.loc 1 1457 5 discriminator 3 view .LVU2223
1458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
 6838              		.loc 1 1458 22 view .LVU2224
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6839              		.loc 1 1460 5 view .LVU2225
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6840              		.loc 1 1460 46 is_stmt 0 view .LVU2226
 6841 010c 1CB9     		cbnz	r4, .L538
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6842              		.loc 1 1460 46 discriminator 1 view .LVU2227
 6843 010e 079E     		ldr	r6, [sp, #28]
 6844 0110 51E0     		b	.L510
 6845              	.LVL728:
 6846              	.L537:
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6847              		.loc 1 1451 39 discriminator 2 view .LVU2228
 6848 0112 0123     		movs	r3, #1
 6849 0114 E8E7     		b	.L519
 6850              	.LVL729:
 6851              	.L538:
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6852              		.loc 1 1460 46 discriminator 2 view .LVU2229
 6853 0116 4FF0FF36 		mov	r6, #-1
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 225


1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6854              		.loc 1 1460 46 view .LVU2230
 6855 011a 4CE0     		b	.L510
 6856              	.LVL730:
 6857              	.L547:
 6858              	.LBB73:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6859              		.loc 1 1475 5 discriminator 2 view .LVU2231
 6860 011c 6368     		ldr	r3, [r4, #4]
 6861 011e 002B     		cmp	r3, #0
 6862 0120 91D0     		beq	.L523
 6863 0122 8DE7     		b	.L522
 6864              	.L548:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6865              		.loc 1 1475 5 is_stmt 1 discriminator 5 view .LVU2232
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6866              		.loc 1 1475 5 discriminator 5 view .LVU2233
 6867 0124 354B     		ldr	r3, .L553
 6868 0126 40F2C352 		movw	r2, #1475
 6869 012a 3B49     		ldr	r1, .L553+28
 6870 012c 3548     		ldr	r0, .L553+8
 6871              	.LVL731:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6872              		.loc 1 1475 5 is_stmt 0 discriminator 5 view .LVU2234
 6873 012e FFF7FEFF 		bl	printf
 6874              	.LVL732:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6875              		.loc 1 1475 5 is_stmt 1 discriminator 1 view .LVU2235
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6876              		.loc 1 1475 5 discriminator 1 view .LVU2236
 6877              	.LBB62:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6878              		.loc 1 1475 5 discriminator 1 view .LVU2237
 6879 0132 6FF00F00 		mvn	r0, #15
 6880 0136 FFF7FEFF 		bl	err_to_errno
 6881              	.LVL733:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6882              		.loc 1 1475 5 discriminator 2 view .LVU2238
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6883              		.loc 1 1475 5 discriminator 2 view .LVU2239
 6884 013a 08B1     		cbz	r0, .L524
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6885              		.loc 1 1475 5 discriminator 7 view .LVU2240
 6886 013c 324A     		ldr	r2, .L553+12
 6887 013e 1060     		str	r0, [r2]
 6888              	.L524:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6889              		.loc 1 1475 5 discriminator 9 view .LVU2241
 6890              	.LBE62:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6891              		.loc 1 1475 5 discriminator 9 view .LVU2242
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6892              		.loc 1 1475 5 discriminator 9 view .LVU2243
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6893              		.loc 1 1475 5 discriminator 9 view .LVU2244
 6894 0140 4FF0FF36 		mov	r6, #-1
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 226


 6895              		.loc 1 1475 5 is_stmt 0 view .LVU2245
 6896 0144 37E0     		b	.L510
 6897              	.LVL734:
 6898              	.L550:
 6899              	.LBB63:
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6900              		.loc 1 1535 9 is_stmt 1 view .LVU2246
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6901              		.loc 1 1535 37 is_stmt 0 view .LVU2247
 6902 0146 0491     		str	r1, [sp, #16]
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6903              		.loc 1 1535 21 view .LVU2248
 6904 0148 0391     		str	r1, [sp, #12]
 6905              	.LVL735:
 6906              	.L530:
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6907              		.loc 1 1535 21 view .LVU2249
 6908              	.LBE63:
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6909              		.loc 1 1520 39 is_stmt 1 discriminator 2 view .LVU2250
 6910 014a 0135     		adds	r5, r5, #1
 6911              	.LVL736:
 6912              	.L532:
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6913              		.loc 1 1520 19 discriminator 1 view .LVU2251
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6914              		.loc 1 1520 24 is_stmt 0 discriminator 1 view .LVU2252
 6915 014c E368     		ldr	r3, [r4, #12]
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6916              		.loc 1 1520 19 discriminator 1 view .LVU2253
 6917 014e AB42     		cmp	r3, r5
 6918 0150 35DD     		ble	.L549
 6919              	.LBB64:
1521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (msg->msg_iov[i].iov_len > 0xFFFF) {
 6920              		.loc 1 1521 7 is_stmt 1 view .LVU2254
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6921              		.loc 1 1522 7 view .LVU2255
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6922              		.loc 1 1522 14 is_stmt 0 view .LVU2256
 6923 0152 A368     		ldr	r3, [r4, #8]
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6924              		.loc 1 1522 23 view .LVU2257
 6925 0154 4FEAC508 		lsl	r8, r5, #3
 6926 0158 03EBC503 		add	r3, r3, r5, lsl #3
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6927              		.loc 1 1522 26 view .LVU2258
 6928 015c 5B68     		ldr	r3, [r3, #4]
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6929              		.loc 1 1522 10 view .LVU2259
 6930 015e B3F5803F 		cmp	r3, #65536
 6931 0162 20D2     		bcs	.L527
1526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p == NULL) {
 6932              		.loc 1 1526 7 is_stmt 1 view .LVU2260
1526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p == NULL) {
 6933              		.loc 1 1526 11 is_stmt 0 view .LVU2261
 6934 0164 4122     		movs	r2, #65
 6935 0166 0021     		movs	r1, #0
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 227


 6936 0168 3620     		movs	r0, #54
 6937 016a FFF7FEFF 		bl	pbuf_alloc
 6938              	.LVL737:
1527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
 6939              		.loc 1 1527 7 is_stmt 1 view .LVU2262
1527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
 6940              		.loc 1 1527 10 is_stmt 0 view .LVU2263
 6941 016e 0146     		mov	r1, r0
 6942 0170 0028     		cmp	r0, #0
 6943 0172 34D0     		beq	.L539
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6944              		.loc 1 1531 7 is_stmt 1 view .LVU2264
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6945              		.loc 1 1531 23 is_stmt 0 view .LVU2265
 6946 0174 A368     		ldr	r3, [r4, #8]
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6947              		.loc 1 1531 35 view .LVU2266
 6948 0176 53F80830 		ldr	r3, [r3, r8]
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6949              		.loc 1 1531 18 view .LVU2267
 6950 017a 4360     		str	r3, [r0, #4]
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6951              		.loc 1 1532 7 is_stmt 1 view .LVU2268
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6952              		.loc 1 1532 39 is_stmt 0 view .LVU2269
 6953 017c A368     		ldr	r3, [r4, #8]
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6954              		.loc 1 1532 48 view .LVU2270
 6955 017e 4344     		add	r3, r3, r8
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6956              		.loc 1 1532 51 view .LVU2271
 6957 0180 5B68     		ldr	r3, [r3, #4]
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6958              		.loc 1 1532 29 view .LVU2272
 6959 0182 9AB2     		uxth	r2, r3
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6960              		.loc 1 1532 27 view .LVU2273
 6961 0184 0281     		strh	r2, [r0, #8]	@ movhi
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6962              		.loc 1 1532 14 view .LVU2274
 6963 0186 4281     		strh	r2, [r0, #10]	@ movhi
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
 6964              		.loc 1 1534 7 is_stmt 1 view .LVU2275
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
 6965              		.loc 1 1534 20 is_stmt 0 view .LVU2276
 6966 0188 0398     		ldr	r0, [sp, #12]
 6967              	.LVL738:
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
 6968              		.loc 1 1534 10 view .LVU2277
 6969 018a 0028     		cmp	r0, #0
 6970 018c DBD0     		beq	.L550
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
 6971              		.loc 1 1538 9 is_stmt 1 view .LVU2278
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
 6972              		.loc 1 1538 24 is_stmt 0 view .LVU2279
 6973 018e 0289     		ldrh	r2, [r0, #8]
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 228


 6974              		.loc 1 1538 34 view .LVU2280
 6975 0190 12FA83F3 		uxtah	r3, r2, r3
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
 6976              		.loc 1 1538 12 view .LVU2281
 6977 0194 B3F5803F 		cmp	r3, #65536
 6978 0198 02DA     		bge	.L551
1543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6979              		.loc 1 1543 9 is_stmt 1 view .LVU2282
 6980 019a FFF7FEFF 		bl	pbuf_cat
 6981              	.LVL739:
1543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6982              		.loc 1 1543 9 is_stmt 0 view .LVU2283
 6983 019e D4E7     		b	.L530
 6984              	.LVL740:
 6985              	.L551:
1540:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           goto sendmsg_emsgsize;
 6986              		.loc 1 1540 11 is_stmt 1 view .LVU2284
 6987 01a0 0846     		mov	r0, r1
 6988 01a2 FFF7FEFF 		bl	pbuf_free
 6989              	.LVL741:
1541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 6990              		.loc 1 1541 11 view .LVU2285
 6991              	.L527:
1541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 6992              		.loc 1 1541 11 is_stmt 0 view .LVU2286
 6993              	.LBE64:
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 6994              		.loc 1 1572 5 is_stmt 1 view .LVU2287
 6995              	.LBB65:
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 6996              		.loc 1 1572 5 view .LVU2288
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 6997              		.loc 1 1572 5 view .LVU2289
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 6998              		.loc 1 1572 5 view .LVU2290
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 6999              		.loc 1 1572 5 discriminator 1 view .LVU2291
 7000 01a6 184B     		ldr	r3, .L553+12
 7001 01a8 5A22     		movs	r2, #90
 7002 01aa 1A60     		str	r2, [r3]
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 7003              		.loc 1 1572 5 discriminator 3 view .LVU2292
 7004              	.LBE65:
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 7005              		.loc 1 1572 5 discriminator 3 view .LVU2293
1573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7006              		.loc 1 1573 5 view .LVU2294
 7007 01ac 03A8     		add	r0, sp, #12
 7008 01ae FFF7FEFF 		bl	netbuf_free
 7009              	.LVL742:
1574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7010              		.loc 1 1574 22 view .LVU2295
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7011              		.loc 1 1575 5 view .LVU2296
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7012              		.loc 1 1575 12 is_stmt 0 view .LVU2297
 7013 01b2 4FF0FF36 		mov	r6, #-1
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 229


 7014              	.LVL743:
 7015              	.L510:
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7016              		.loc 1 1575 12 view .LVU2298
 7017              	.LBE73:
1582:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7018              		.loc 1 1582 1 view .LVU2299
 7019 01b6 3046     		mov	r0, r6
 7020 01b8 08B0     		add	sp, sp, #32
 7021              	.LCFI84:
 7022              		.cfi_remember_state
 7023              		.cfi_def_cfa_offset 24
 7024              		@ sp needed
 7025 01ba BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 7026              	.LVL744:
 7027              	.L549:
 7028              	.LCFI85:
 7029              		.cfi_restore_state
1429:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7030              		.loc 1 1429 9 view .LVU2300
 7031 01be 0024     		movs	r4, #0
 7032              	.LVL745:
 7033              	.L528:
 7034              	.LBB74:
1547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size = netbuf_len(&chain_buf);
 7035              		.loc 1 1547 5 is_stmt 1 view .LVU2301
1547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size = netbuf_len(&chain_buf);
 7036              		.loc 1 1547 8 is_stmt 0 view .LVU2302
 7037 01c0 84B1     		cbz	r4, .L552
 7038              	.LVL746:
 7039              	.L534:
1566:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7040              		.loc 1 1566 5 is_stmt 1 view .LVU2303
 7041 01c2 03A8     		add	r0, sp, #12
 7042 01c4 FFF7FEFF 		bl	netbuf_free
 7043              	.LVL747:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7044              		.loc 1 1568 5 view .LVU2304
 7045              	.LBB66:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7046              		.loc 1 1568 5 view .LVU2305
 7047 01c8 2046     		mov	r0, r4
 7048 01ca FFF7FEFF 		bl	err_to_errno
 7049              	.LVL748:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7050              		.loc 1 1568 5 discriminator 1 view .LVU2306
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7051              		.loc 1 1568 5 discriminator 1 view .LVU2307
 7052 01ce 08B1     		cbz	r0, .L535
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7053              		.loc 1 1568 5 discriminator 1 view .LVU2308
 7054 01d0 0D4A     		ldr	r2, .L553+12
 7055 01d2 1060     		str	r0, [r2]
 7056              	.L535:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7057              		.loc 1 1568 5 discriminator 3 view .LVU2309
 7058              	.LBE66:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 230


1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7059              		.loc 1 1568 5 discriminator 3 view .LVU2310
1569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (err == ERR_OK ? size : -1);
 7060              		.loc 1 1569 22 view .LVU2311
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
 7061              		.loc 1 1570 5 view .LVU2312
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
 7062              		.loc 1 1570 34 is_stmt 0 view .LVU2313
 7063 01d4 002C     		cmp	r4, #0
 7064 01d6 EED0     		beq	.L510
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
 7065              		.loc 1 1570 34 discriminator 2 view .LVU2314
 7066 01d8 4FF0FF36 		mov	r6, #-1
 7067 01dc EBE7     		b	.L510
 7068              	.LVL749:
 7069              	.L539:
 7070              	.LBB67:
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 7071              		.loc 1 1528 13 view .LVU2315
 7072 01de 4FF0FF34 		mov	r4, #-1
 7073              	.LVL750:
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 7074              		.loc 1 1528 13 view .LVU2316
 7075 01e2 EDE7     		b	.L528
 7076              	.LVL751:
 7077              	.L552:
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 7078              		.loc 1 1528 13 view .LVU2317
 7079              	.LBE67:
1548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7080              		.loc 1 1548 7 is_stmt 1 view .LVU2318
1548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7081              		.loc 1 1548 14 is_stmt 0 view .LVU2319
 7082 01e4 039B     		ldr	r3, [sp, #12]
 7083 01e6 1E89     		ldrh	r6, [r3, #8]
 7084              	.LVL752:
1552:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 7085              		.loc 1 1552 5 is_stmt 1 view .LVU2320
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7086              		.loc 1 1562 7 view .LVU2321
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7087              		.loc 1 1562 13 is_stmt 0 view .LVU2322
 7088 01e8 03A9     		add	r1, sp, #12
 7089 01ea 3868     		ldr	r0, [r7]
 7090 01ec FFF7FEFF 		bl	netconn_send
 7091              	.LVL753:
 7092 01f0 0446     		mov	r4, r0
 7093              	.LVL754:
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7094              		.loc 1 1562 13 view .LVU2323
 7095 01f2 E6E7     		b	.L534
 7096              	.LVL755:
 7097              	.L536:
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7098              		.loc 1 1562 13 view .LVU2324
 7099              	.LBE74:
1433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 231


 7100              		.loc 1 1433 12 view .LVU2325
 7101 01f4 4FF0FF36 		mov	r6, #-1
 7102 01f8 DDE7     		b	.L510
 7103              	.L554:
 7104 01fa 00BF     		.align	2
 7105              	.L553:
 7106 01fc 00000000 		.word	.LC0
 7107 0200 00000000 		.word	.LC28
 7108 0204 48000000 		.word	.LC2
 7109 0208 00000000 		.word	errno
 7110 020c 20000000 		.word	.LC29
 7111 0210 44000000 		.word	.LC30
 7112 0214 68000000 		.word	.LC31
 7113 0218 88000000 		.word	.LC32
 7114              		.cfi_endproc
 7115              	.LFE391:
 7117              		.section	.rodata.lwip_sendto.str1.4,"aMS",%progbits,1
 7118              		.align	2
 7119              	.LC33:
 7120 0000 6C776970 		.ascii	"lwip_sendto: invalid address\000"
 7120      5F73656E 
 7120      64746F3A 
 7120      20696E76 
 7120      616C6964 
 7121              		.section	.text.lwip_sendto,"ax",%progbits
 7122              		.align	1
 7123              		.global	lwip_sendto
 7124              		.syntax unified
 7125              		.thumb
 7126              		.thumb_func
 7128              	lwip_sendto:
 7129              	.LVL756:
 7130              	.LFB392:
1587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 7131              		.loc 1 1587 1 is_stmt 1 view -0
 7132              		.cfi_startproc
 7133              		@ args = 8, pretend = 0, frame = 16
 7134              		@ frame_needed = 0, uses_anonymous_args = 0
1587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 7135              		.loc 1 1587 1 is_stmt 0 view .LVU2327
 7136 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 7137              	.LCFI86:
 7138              		.cfi_def_cfa_offset 32
 7139              		.cfi_offset 4, -32
 7140              		.cfi_offset 5, -28
 7141              		.cfi_offset 6, -24
 7142              		.cfi_offset 7, -20
 7143              		.cfi_offset 8, -16
 7144              		.cfi_offset 9, -12
 7145              		.cfi_offset 10, -8
 7146              		.cfi_offset 14, -4
 7147 0004 84B0     		sub	sp, sp, #16
 7148              	.LCFI87:
 7149              		.cfi_def_cfa_offset 48
 7150 0006 0746     		mov	r7, r0
 7151 0008 0E46     		mov	r6, r1
 7152 000a 1446     		mov	r4, r2
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 232


 7153 000c 9846     		mov	r8, r3
 7154 000e 0C9D     		ldr	r5, [sp, #48]
 7155 0010 DDF83490 		ldr	r9, [sp, #52]
1588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 7156              		.loc 1 1588 3 is_stmt 1 view .LVU2328
1589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t short_size;
 7157              		.loc 1 1589 3 view .LVU2329
1590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t remote_port;
 7158              		.loc 1 1590 3 view .LVU2330
1591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf buf;
 7159              		.loc 1 1591 3 view .LVU2331
1592:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7160              		.loc 1 1592 3 view .LVU2332
1594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 7161              		.loc 1 1594 3 view .LVU2333
1594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 7162              		.loc 1 1594 10 is_stmt 0 view .LVU2334
 7163 0014 FFF7FEFF 		bl	get_socket
 7164              	.LVL757:
1595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7165              		.loc 1 1595 3 is_stmt 1 view .LVU2335
1595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7166              		.loc 1 1595 6 is_stmt 0 view .LVU2336
 7167 0018 0028     		cmp	r0, #0
 7168 001a 68D0     		beq	.L566
 7169 001c 8246     		mov	r10, r0
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 7170              		.loc 1 1599 3 is_stmt 1 view .LVU2337
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 7171              		.loc 1 1599 7 is_stmt 0 view .LVU2338
 7172 001e 0368     		ldr	r3, [r0]
 7173 0020 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 7174              		.loc 1 1599 6 view .LVU2339
 7175 0022 02F0F002 		and	r2, r2, #240
 7176 0026 102A     		cmp	r2, #16
 7177 0028 39D0     		beq	.L569
1611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* cannot fit into one datagram (at least for us) */
 7178              		.loc 1 1611 3 is_stmt 1 view .LVU2340
1611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* cannot fit into one datagram (at least for us) */
 7179              		.loc 1 1611 6 is_stmt 0 view .LVU2341
 7180 002a B4F5803F 		cmp	r4, #65536
 7181 002e 3DD2     		bcs	.L570
1617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
 7182              		.loc 1 1617 3 is_stmt 1 view .LVU2342
1617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
 7183              		.loc 1 1617 14 is_stmt 0 view .LVU2343
 7184 0030 A7B2     		uxth	r7, r4
 7185              	.LVL758:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7186              		.loc 1 1618 3 is_stmt 1 view .LVU2344
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7187              		.loc 1 1618 3 view .LVU2345
 7188 0032 B9F1000F 		cmp	r9, #0
 7189 0036 08BF     		it	eq
 7190 0038 002D     		cmpeq	r5, #0
 7191 003a 0FD0     		beq	.L559
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 233


1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7192              		.loc 1 1618 3 is_stmt 0 discriminator 1 view .LVU2346
 7193 003c B5FA85F3 		clz	r3, r5
 7194 0040 5B09     		lsrs	r3, r3, #5
 7195 0042 B9F1100F 		cmp	r9, #16
 7196 0046 18BF     		it	ne
 7197 0048 43F00103 		orrne	r3, r3, #1
 7198 004c 002B     		cmp	r3, #0
 7199 004e 33D1     		bne	.L560
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7200              		.loc 1 1618 3 discriminator 4 view .LVU2347
 7201 0050 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 7202 0052 022B     		cmp	r3, #2
 7203 0054 30D1     		bne	.L560
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7204              		.loc 1 1618 3 discriminator 6 view .LVU2348
 7205 0056 15F0030F 		tst	r5, #3
 7206 005a 2DD1     		bne	.L560
 7207              	.L559:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7208              		.loc 1 1618 3 is_stmt 1 discriminator 8 view .LVU2349
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7209              		.loc 1 1618 3 discriminator 8 view .LVU2350
1622:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7210              		.loc 1 1622 3 view .LVU2351
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 7211              		.loc 1 1625 3 view .LVU2352
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 7212              		.loc 1 1625 19 is_stmt 0 view .LVU2353
 7213 005c 0023     		movs	r3, #0
 7214 005e 0193     		str	r3, [sp, #4]
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 7215              		.loc 1 1625 9 view .LVU2354
 7216 0060 0093     		str	r3, [sp]
1629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
 7217              		.loc 1 1629 3 is_stmt 1 view .LVU2355
1629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
 7218              		.loc 1 1629 6 is_stmt 0 view .LVU2356
 7219 0062 002D     		cmp	r5, #0
 7220 0064 39D0     		beq	.L562
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7221              		.loc 1 1630 5 is_stmt 1 view .LVU2357
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7222              		.loc 1 1630 5 view .LVU2358
 7223 0066 6B68     		ldr	r3, [r5, #4]
 7224 0068 0293     		str	r3, [sp, #8]
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7225              		.loc 1 1630 5 view .LVU2359
 7226 006a 6888     		ldrh	r0, [r5, #2]
 7227              	.LVL759:
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7228              		.loc 1 1630 5 is_stmt 0 view .LVU2360
 7229 006c FFF7FEFF 		bl	lwip_htons
 7230              	.LVL760:
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7231              		.loc 1 1630 5 is_stmt 1 discriminator 1 view .LVU2361
 7232              	.L563:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 234


1635:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7233              		.loc 1 1635 3 view .LVU2362
1635:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7234              		.loc 1 1635 25 is_stmt 0 view .LVU2363
 7235 0070 ADF80C00 		strh	r0, [sp, #12]	@ movhi
1639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, buf.addr);
 7236              		.loc 1 1639 59 is_stmt 1 view .LVU2364
1640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", remote_port));
 7237              		.loc 1 1640 51 view .LVU2365
1641:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7238              		.loc 1 1641 64 view .LVU2366
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 7239              		.loc 1 1661 3 view .LVU2367
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 7240              		.loc 1 1661 9 is_stmt 0 view .LVU2368
 7241 0074 3A46     		mov	r2, r7
 7242 0076 3146     		mov	r1, r6
 7243 0078 6846     		mov	r0, sp
 7244              	.LVL761:
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 7245              		.loc 1 1661 9 view .LVU2369
 7246 007a FFF7FEFF 		bl	netbuf_ref
 7247              	.LVL762:
1663:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 7248              		.loc 1 1663 3 is_stmt 1 view .LVU2370
1663:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 7249              		.loc 1 1663 6 is_stmt 0 view .LVU2371
 7250 007e 0546     		mov	r5, r0
 7251 0080 70B3     		cbz	r0, .L571
 7252              	.LVL763:
 7253              	.L564:
1677:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7254              		.loc 1 1677 3 is_stmt 1 view .LVU2372
 7255 0082 6846     		mov	r0, sp
 7256 0084 FFF7FEFF 		bl	netbuf_free
 7257              	.LVL764:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7258              		.loc 1 1679 3 view .LVU2373
 7259              	.LBB75:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7260              		.loc 1 1679 3 view .LVU2374
 7261 0088 2846     		mov	r0, r5
 7262 008a FFF7FEFF 		bl	err_to_errno
 7263              	.LVL765:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7264              		.loc 1 1679 3 discriminator 1 view .LVU2375
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7265              		.loc 1 1679 3 discriminator 1 view .LVU2376
 7266 008e 08B1     		cbz	r0, .L565
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7267              		.loc 1 1679 3 discriminator 1 view .LVU2377
 7268 0090 1A4A     		ldr	r2, .L572
 7269 0092 1060     		str	r0, [r2]
 7270              	.L565:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7271              		.loc 1 1679 3 discriminator 3 view .LVU2378
 7272              	.LBE75:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 235


1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7273              		.loc 1 1679 3 discriminator 3 view .LVU2379
1680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? short_size : -1);
 7274              		.loc 1 1680 20 view .LVU2380
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7275              		.loc 1 1681 3 view .LVU2381
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7276              		.loc 1 1681 38 is_stmt 0 view .LVU2382
 7277 0094 75BB     		cbnz	r5, .L567
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7278              		.loc 1 1681 38 discriminator 1 view .LVU2383
 7279 0096 A0B2     		uxth	r0, r4
 7280              	.LVL766:
 7281              	.L555:
1682:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7282              		.loc 1 1682 1 view .LVU2384
 7283 0098 04B0     		add	sp, sp, #16
 7284              	.LCFI88:
 7285              		.cfi_remember_state
 7286              		.cfi_def_cfa_offset 32
 7287              		@ sp needed
 7288 009a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 7289              	.LVL767:
 7290              	.L569:
 7291              	.LCFI89:
 7292              		.cfi_restore_state
1601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_send(s, data, size, flags);
 7293              		.loc 1 1601 22 is_stmt 1 view .LVU2385
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 7294              		.loc 1 1602 5 view .LVU2386
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 7295              		.loc 1 1602 12 is_stmt 0 view .LVU2387
 7296 009e 4346     		mov	r3, r8
 7297 00a0 2246     		mov	r2, r4
 7298 00a2 3146     		mov	r1, r6
 7299 00a4 3846     		mov	r0, r7
 7300              	.LVL768:
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 7301              		.loc 1 1602 12 view .LVU2388
 7302 00a6 FFF7FEFF 		bl	lwip_send
 7303              	.LVL769:
 7304 00aa F5E7     		b	.L555
 7305              	.LVL770:
 7306              	.L570:
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7307              		.loc 1 1613 5 is_stmt 1 view .LVU2389
 7308              	.LBB76:
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7309              		.loc 1 1613 5 view .LVU2390
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7310              		.loc 1 1613 5 view .LVU2391
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7311              		.loc 1 1613 5 view .LVU2392
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7312              		.loc 1 1613 5 discriminator 1 view .LVU2393
 7313 00ac 134B     		ldr	r3, .L572
 7314 00ae 5A22     		movs	r2, #90
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 236


 7315 00b0 1A60     		str	r2, [r3]
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7316              		.loc 1 1613 5 discriminator 3 view .LVU2394
 7317              	.LBE76:
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7318              		.loc 1 1613 5 discriminator 3 view .LVU2395
1614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7319              		.loc 1 1614 22 view .LVU2396
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7320              		.loc 1 1615 5 view .LVU2397
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7321              		.loc 1 1615 12 is_stmt 0 view .LVU2398
 7322 00b2 4FF0FF30 		mov	r0, #-1
 7323              	.LVL771:
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7324              		.loc 1 1615 12 view .LVU2399
 7325 00b6 EFE7     		b	.L555
 7326              	.LVL772:
 7327              	.L560:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7328              		.loc 1 1618 3 is_stmt 1 discriminator 7 view .LVU2400
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7329              		.loc 1 1618 3 discriminator 7 view .LVU2401
 7330 00b8 114B     		ldr	r3, .L572+4
 7331 00ba 40F25262 		movw	r2, #1618
 7332 00be 1149     		ldr	r1, .L572+8
 7333 00c0 1148     		ldr	r0, .L572+12
 7334              	.LVL773:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7335              		.loc 1 1618 3 is_stmt 0 discriminator 7 view .LVU2402
 7336 00c2 FFF7FEFF 		bl	printf
 7337              	.LVL774:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7338              		.loc 1 1618 3 is_stmt 1 discriminator 1 view .LVU2403
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7339              		.loc 1 1618 3 discriminator 1 view .LVU2404
 7340              	.LBB77:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7341              		.loc 1 1618 3 discriminator 1 view .LVU2405
 7342 00c6 6FF00F00 		mvn	r0, #15
 7343 00ca FFF7FEFF 		bl	err_to_errno
 7344              	.LVL775:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7345              		.loc 1 1618 3 discriminator 2 view .LVU2406
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7346              		.loc 1 1618 3 discriminator 2 view .LVU2407
 7347 00ce 08B1     		cbz	r0, .L561
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7348              		.loc 1 1618 3 discriminator 9 view .LVU2408
 7349 00d0 0A4A     		ldr	r2, .L572
 7350 00d2 1060     		str	r0, [r2]
 7351              	.L561:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7352              		.loc 1 1618 3 discriminator 11 view .LVU2409
 7353              	.LBE77:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7354              		.loc 1 1618 3 discriminator 11 view .LVU2410
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 237


1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7355              		.loc 1 1618 3 discriminator 11 view .LVU2411
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7356              		.loc 1 1618 3 discriminator 11 view .LVU2412
 7357 00d4 4FF0FF30 		mov	r0, #-1
 7358              	.LVL776:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7359              		.loc 1 1618 3 is_stmt 0 view .LVU2413
 7360 00d8 DEE7     		b	.L555
 7361              	.LVL777:
 7362              	.L562:
1632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_set_any(NETCONNTYPE_ISIPV6(netconn_type(sock->conn)), &buf.addr);
 7363              		.loc 1 1632 5 is_stmt 1 view .LVU2414
1633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7364              		.loc 1 1633 5 view .LVU2415
 7365 00da 0020     		movs	r0, #0
 7366              	.LVL778:
1633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7367              		.loc 1 1633 5 is_stmt 0 view .LVU2416
 7368 00dc 0290     		str	r0, [sp, #8]
 7369 00de C7E7     		b	.L563
 7370              	.LVL779:
 7371              	.L571:
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7372              		.loc 1 1673 5 is_stmt 1 view .LVU2417
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7373              		.loc 1 1673 11 is_stmt 0 view .LVU2418
 7374 00e0 6946     		mov	r1, sp
 7375 00e2 DAF80000 		ldr	r0, [r10]
 7376              	.LVL780:
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7377              		.loc 1 1673 11 view .LVU2419
 7378 00e6 FFF7FEFF 		bl	netconn_send
 7379              	.LVL781:
 7380 00ea 0546     		mov	r5, r0
 7381              	.LVL782:
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7382              		.loc 1 1673 11 view .LVU2420
 7383 00ec C9E7     		b	.L564
 7384              	.LVL783:
 7385              	.L566:
1596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7386              		.loc 1 1596 12 view .LVU2421
 7387 00ee 4FF0FF30 		mov	r0, #-1
 7388              	.LVL784:
1596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7389              		.loc 1 1596 12 view .LVU2422
 7390 00f2 D1E7     		b	.L555
 7391              	.LVL785:
 7392              	.L567:
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7393              		.loc 1 1681 38 discriminator 2 view .LVU2423
 7394 00f4 4FF0FF30 		mov	r0, #-1
 7395              	.LVL786:
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7396              		.loc 1 1681 38 discriminator 2 view .LVU2424
 7397 00f8 CEE7     		b	.L555
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 238


 7398              	.L573:
 7399 00fa 00BF     		.align	2
 7400              	.L572:
 7401 00fc 00000000 		.word	errno
 7402 0100 00000000 		.word	.LC0
 7403 0104 00000000 		.word	.LC33
 7404 0108 48000000 		.word	.LC2
 7405              		.cfi_endproc
 7406              	.LFE392:
 7408              		.section	.text.lwip_send,"ax",%progbits
 7409              		.align	1
 7410              		.global	lwip_send
 7411              		.syntax unified
 7412              		.thumb
 7413              		.thumb_func
 7415              	lwip_send:
 7416              	.LVL787:
 7417              	.LFB390:
1383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 7418              		.loc 1 1383 1 is_stmt 1 view -0
 7419              		.cfi_startproc
 7420              		@ args = 0, pretend = 0, frame = 8
 7421              		@ frame_needed = 0, uses_anonymous_args = 0
1383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 7422              		.loc 1 1383 1 is_stmt 0 view .LVU2426
 7423 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 7424              	.LCFI90:
 7425              		.cfi_def_cfa_offset 20
 7426              		.cfi_offset 4, -20
 7427              		.cfi_offset 5, -16
 7428              		.cfi_offset 6, -12
 7429              		.cfi_offset 7, -8
 7430              		.cfi_offset 14, -4
 7431 0002 85B0     		sub	sp, sp, #20
 7432              	.LCFI91:
 7433              		.cfi_def_cfa_offset 40
 7434 0004 0746     		mov	r7, r0
 7435 0006 0D46     		mov	r5, r1
 7436 0008 1646     		mov	r6, r2
 7437 000a 1C46     		mov	r4, r3
1384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 7438              		.loc 1 1384 3 is_stmt 1 view .LVU2427
1385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t write_flags;
 7439              		.loc 1 1385 3 view .LVU2428
1386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
 7440              		.loc 1 1386 3 view .LVU2429
1387:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7441              		.loc 1 1387 3 view .LVU2430
1390:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7442              		.loc 1 1390 53 view .LVU2431
1392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 7443              		.loc 1 1392 3 view .LVU2432
1392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 7444              		.loc 1 1392 10 is_stmt 0 view .LVU2433
 7445 000c FFF7FEFF 		bl	get_socket
 7446              	.LVL788:
1393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 239


 7447              		.loc 1 1393 3 is_stmt 1 view .LVU2434
1393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7448              		.loc 1 1393 6 is_stmt 0 view .LVU2435
 7449 0010 68B3     		cbz	r0, .L579
 7450 0012 0246     		mov	r2, r0
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 7451              		.loc 1 1397 3 is_stmt 1 view .LVU2436
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 7452              		.loc 1 1397 7 is_stmt 0 view .LVU2437
 7453 0014 0368     		ldr	r3, [r0]
 7454 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 7455              		.loc 1 1397 6 view .LVU2438
 7456 0018 03F0F003 		and	r3, r3, #240
 7457 001c 102B     		cmp	r3, #16
 7458 001e 1AD1     		bne	.L583
1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7459              		.loc 1 1408 3 is_stmt 1 view .LVU2439
1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7460              		.loc 1 1408 37 is_stmt 0 view .LVU2440
 7461 0020 14F0100F 		tst	r4, #16
 7462 0024 21D0     		beq	.L580
1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7463              		.loc 1 1408 37 discriminator 1 view .LVU2441
 7464 0026 0323     		movs	r3, #3
 7465              	.L577:
1409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 7466              		.loc 1 1409 73 view .LVU2442
 7467 0028 6410     		asrs	r4, r4, #1
 7468              	.LVL789:
1409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 7469              		.loc 1 1409 73 view .LVU2443
 7470 002a 04F00404 		and	r4, r4, #4
 7471              	.LVL790:
1411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
 7472              		.loc 1 1411 3 is_stmt 1 view .LVU2444
1411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
 7473              		.loc 1 1411 11 is_stmt 0 view .LVU2445
 7474 002e 0021     		movs	r1, #0
 7475 0030 0391     		str	r1, [sp, #12]
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7476              		.loc 1 1412 3 is_stmt 1 view .LVU2446
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7477              		.loc 1 1412 9 is_stmt 0 view .LVU2447
 7478 0032 1068     		ldr	r0, [r2]
 7479              	.LVL791:
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7480              		.loc 1 1412 9 view .LVU2448
 7481 0034 03AA     		add	r2, sp, #12
 7482              	.LVL792:
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7483              		.loc 1 1412 9 view .LVU2449
 7484 0036 0092     		str	r2, [sp]
 7485 0038 2343     		orrs	r3, r3, r4
 7486              	.LVL793:
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7487              		.loc 1 1412 9 view .LVU2450
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 240


 7488 003a 3246     		mov	r2, r6
 7489 003c 2946     		mov	r1, r5
 7490 003e FFF7FEFF 		bl	netconn_write_partly
 7491              	.LVL794:
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7492              		.loc 1 1412 9 view .LVU2451
 7493 0042 0446     		mov	r4, r0
 7494              	.LVL795:
1414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
 7495              		.loc 1 1414 91 is_stmt 1 view .LVU2452
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7496              		.loc 1 1415 3 view .LVU2453
 7497              	.LBB78:
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7498              		.loc 1 1415 3 view .LVU2454
 7499 0044 FFF7FEFF 		bl	err_to_errno
 7500              	.LVL796:
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7501              		.loc 1 1415 3 discriminator 1 view .LVU2455
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7502              		.loc 1 1415 3 discriminator 1 view .LVU2456
 7503 0048 08B1     		cbz	r0, .L578
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7504              		.loc 1 1415 3 discriminator 1 view .LVU2457
 7505 004a 0C4A     		ldr	r2, .L584
 7506 004c 1060     		str	r0, [r2]
 7507              	.L578:
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7508              		.loc 1 1415 3 discriminator 3 view .LVU2458
 7509              	.LBE78:
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7510              		.loc 1 1415 3 discriminator 3 view .LVU2459
1416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
 7511              		.loc 1 1416 20 view .LVU2460
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7512              		.loc 1 1418 3 view .LVU2461
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7513              		.loc 1 1418 44 is_stmt 0 view .LVU2462
 7514 004e 8CB9     		cbnz	r4, .L581
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7515              		.loc 1 1418 44 discriminator 1 view .LVU2463
 7516 0050 0398     		ldr	r0, [sp, #12]
 7517              	.LVL797:
 7518              	.L574:
1419:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7519              		.loc 1 1419 1 view .LVU2464
 7520 0052 05B0     		add	sp, sp, #20
 7521              	.LCFI92:
 7522              		.cfi_remember_state
 7523              		.cfi_def_cfa_offset 20
 7524              		@ sp needed
 7525 0054 F0BD     		pop	{r4, r5, r6, r7, pc}
 7526              	.LVL798:
 7527              	.L583:
 7528              	.LCFI93:
 7529              		.cfi_restore_state
1399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_sendto(s, data, size, flags, NULL, 0);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 241


 7530              		.loc 1 1399 22 is_stmt 1 view .LVU2465
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 7531              		.loc 1 1400 5 view .LVU2466
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 7532              		.loc 1 1400 12 is_stmt 0 view .LVU2467
 7533 0056 0023     		movs	r3, #0
 7534 0058 0193     		str	r3, [sp, #4]
 7535 005a 0093     		str	r3, [sp]
 7536 005c 2346     		mov	r3, r4
 7537 005e 3246     		mov	r2, r6
 7538 0060 2946     		mov	r1, r5
 7539 0062 3846     		mov	r0, r7
 7540              	.LVL799:
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 7541              		.loc 1 1400 12 view .LVU2468
 7542 0064 FFF7FEFF 		bl	lwip_sendto
 7543              	.LVL800:
 7544 0068 F3E7     		b	.L574
 7545              	.LVL801:
 7546              	.L580:
1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7547              		.loc 1 1408 37 discriminator 2 view .LVU2469
 7548 006a 0123     		movs	r3, #1
 7549 006c DCE7     		b	.L577
 7550              	.L579:
1394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7551              		.loc 1 1394 12 view .LVU2470
 7552 006e 4FF0FF30 		mov	r0, #-1
 7553              	.LVL802:
1394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7554              		.loc 1 1394 12 view .LVU2471
 7555 0072 EEE7     		b	.L574
 7556              	.LVL803:
 7557              	.L581:
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7558              		.loc 1 1418 44 discriminator 2 view .LVU2472
 7559 0074 4FF0FF30 		mov	r0, #-1
 7560              	.LVL804:
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7561              		.loc 1 1418 44 discriminator 2 view .LVU2473
 7562 0078 EBE7     		b	.L574
 7563              	.L585:
 7564 007a 00BF     		.align	2
 7565              	.L584:
 7566 007c 00000000 		.word	errno
 7567              		.cfi_endproc
 7568              	.LFE390:
 7570              		.section	.text.lwip_socket,"ax",%progbits
 7571              		.align	1
 7572              		.global	lwip_socket
 7573              		.syntax unified
 7574              		.thumb
 7575              		.thumb_func
 7577              	lwip_socket:
 7578              	.LVL805:
 7579              	.LFB393:
1686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 242


 7580              		.loc 1 1686 1 is_stmt 1 view -0
 7581              		.cfi_startproc
 7582              		@ args = 0, pretend = 0, frame = 0
 7583              		@ frame_needed = 0, uses_anonymous_args = 0
1686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 7584              		.loc 1 1686 1 is_stmt 0 view .LVU2475
 7585 0000 38B5     		push	{r3, r4, r5, lr}
 7586              	.LCFI94:
 7587              		.cfi_def_cfa_offset 16
 7588              		.cfi_offset 3, -16
 7589              		.cfi_offset 4, -12
 7590              		.cfi_offset 5, -8
 7591              		.cfi_offset 14, -4
 7592 0002 1346     		mov	r3, r2
1687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 7593              		.loc 1 1687 3 is_stmt 1 view .LVU2476
1688:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7594              		.loc 1 1688 3 view .LVU2477
1690:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7595              		.loc 1 1690 3 view .LVU2478
1693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_RAW:
 7596              		.loc 1 1693 3 view .LVU2479
 7597 0004 0229     		cmp	r1, #2
 7598 0006 1BD0     		beq	.L587
 7599 0008 0329     		cmp	r1, #3
 7600 000a 07D0     		beq	.L588
 7601 000c 0129     		cmp	r1, #1
 7602 000e 22D0     		beq	.L589
1720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EINVAL);
 7603              		.loc 1 1720 59 view .LVU2480
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7604              		.loc 1 1721 7 view .LVU2481
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7605              		.loc 1 1721 7 view .LVU2482
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7606              		.loc 1 1721 7 discriminator 1 view .LVU2483
 7607 0010 1B4B     		ldr	r3, .L602
 7608 0012 1622     		movs	r2, #22
 7609              	.LVL806:
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7610              		.loc 1 1721 7 is_stmt 0 discriminator 1 view .LVU2484
 7611 0014 1A60     		str	r2, [r3]
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7612              		.loc 1 1721 7 is_stmt 1 discriminator 3 view .LVU2485
1722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7613              		.loc 1 1722 7 view .LVU2486
1722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7614              		.loc 1 1722 14 is_stmt 0 view .LVU2487
 7615 0016 4FF0FF34 		mov	r4, #-1
 7616 001a 0FE0     		b	.L586
 7617              	.LVL807:
 7618              	.L588:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7619              		.loc 1 1695 7 is_stmt 1 view .LVU2488
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7620              		.loc 1 1695 14 is_stmt 0 view .LVU2489
 7621 001c 194A     		ldr	r2, .L602+4
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 243


 7622              	.LVL808:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7623              		.loc 1 1695 14 view .LVU2490
 7624 001e D9B2     		uxtb	r1, r3
 7625              	.LVL809:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7626              		.loc 1 1695 14 view .LVU2491
 7627 0020 4020     		movs	r0, #64
 7628              	.LVL810:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7629              		.loc 1 1695 14 view .LVU2492
 7630 0022 FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 7631              	.LVL811:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7632              		.loc 1 1695 14 view .LVU2493
 7633 0026 0546     		mov	r5, r0
 7634              	.LVL812:
1698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 7635              		.loc 1 1698 88 is_stmt 1 view .LVU2494
1699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_DGRAM:
 7636              		.loc 1 1699 7 view .LVU2495
 7637              	.L591:
1725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
 7638              		.loc 1 1725 3 view .LVU2496
1725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
 7639              		.loc 1 1725 6 is_stmt 0 view .LVU2497
 7640 0028 E5B1     		cbz	r5, .L599
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7641              		.loc 1 1731 3 is_stmt 1 view .LVU2498
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7642              		.loc 1 1731 7 is_stmt 0 view .LVU2499
 7643 002a 0021     		movs	r1, #0
 7644 002c 2846     		mov	r0, r5
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7645              		.loc 1 1731 7 view .LVU2500
 7646 002e FFF7FEFF 		bl	alloc_socket
 7647              	.LVL813:
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7648              		.loc 1 1731 7 view .LVU2501
 7649 0032 0446     		mov	r4, r0
 7650              	.LVL814:
1733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
 7651              		.loc 1 1733 3 is_stmt 1 view .LVU2502
1733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
 7652              		.loc 1 1733 6 is_stmt 0 view .LVU2503
 7653 0034 B0F1FF3F 		cmp	r0, #-1
 7654 0038 1AD0     		beq	.L600
1738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(&sockets[i - LWIP_SOCKET_OFFSET]);
 7655              		.loc 1 1738 3 is_stmt 1 view .LVU2504
1738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(&sockets[i - LWIP_SOCKET_OFFSET]);
 7656              		.loc 1 1738 16 is_stmt 0 view .LVU2505
 7657 003a A861     		str	r0, [r5, #24]
1739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("%d\n", i));
 7658              		.loc 1 1739 48 is_stmt 1 view .LVU2506
1740:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 7659              		.loc 1 1740 42 view .LVU2507
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 244


 7660              		.loc 1 1741 3 view .LVU2508
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
 7661              		.loc 1 1741 3 view .LVU2509
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
 7662              		.loc 1 1741 3 discriminator 3 view .LVU2510
1742:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7663              		.loc 1 1742 3 view .LVU2511
 7664              	.LVL815:
 7665              	.L586:
1743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7666              		.loc 1 1743 1 is_stmt 0 view .LVU2512
 7667 003c 2046     		mov	r0, r4
 7668 003e 38BD     		pop	{r3, r4, r5, pc}
 7669              	.LVL816:
 7670              	.L587:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7671              		.loc 1 1701 7 is_stmt 1 view .LVU2513
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7672              		.loc 1 1701 14 is_stmt 0 view .LVU2514
 7673 0040 882A     		cmp	r2, #136
 7674 0042 06D0     		beq	.L601
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7675              		.loc 1 1701 14 discriminator 2 view .LVU2515
 7676 0044 2020     		movs	r0, #32
 7677              	.LVL817:
 7678              	.L592:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7679              		.loc 1 1701 14 discriminator 4 view .LVU2516
 7680 0046 0F4A     		ldr	r2, .L602+4
 7681              	.LVL818:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7682              		.loc 1 1701 14 discriminator 4 view .LVU2517
 7683 0048 0021     		movs	r1, #0
 7684              	.LVL819:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7685              		.loc 1 1701 14 discriminator 4 view .LVU2518
 7686 004a FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 7687              	.LVL820:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7688              		.loc 1 1701 14 discriminator 4 view .LVU2519
 7689 004e 0546     		mov	r5, r0
 7690              	.LVL821:
1705:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 7691              		.loc 1 1705 88 is_stmt 1 view .LVU2520
1712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_STREAM:
 7692              		.loc 1 1712 7 view .LVU2521
 7693 0050 EAE7     		b	.L591
 7694              	.LVL822:
 7695              	.L601:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7696              		.loc 1 1701 14 is_stmt 0 discriminator 1 view .LVU2522
 7697 0052 2120     		movs	r0, #33
 7698              	.LVL823:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7699              		.loc 1 1701 14 discriminator 1 view .LVU2523
 7700 0054 F7E7     		b	.L592
 7701              	.LVL824:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 245


 7702              	.L589:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7703              		.loc 1 1714 7 is_stmt 1 view .LVU2524
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7704              		.loc 1 1714 14 is_stmt 0 view .LVU2525
 7705 0056 0B4A     		ldr	r2, .L602+4
 7706              	.LVL825:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7707              		.loc 1 1714 14 view .LVU2526
 7708 0058 0021     		movs	r1, #0
 7709              	.LVL826:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7710              		.loc 1 1714 14 view .LVU2527
 7711 005a 1020     		movs	r0, #16
 7712              	.LVL827:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7713              		.loc 1 1714 14 view .LVU2528
 7714 005c FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 7715              	.LVL828:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7716              		.loc 1 1714 14 view .LVU2529
 7717 0060 0546     		mov	r5, r0
 7718              	.LVL829:
1716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 7719              		.loc 1 1716 88 is_stmt 1 view .LVU2530
1717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
 7720              		.loc 1 1717 7 view .LVU2531
 7721 0062 E1E7     		b	.L591
 7722              	.L599:
1726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENOBUFS);
 7723              		.loc 1 1726 78 view .LVU2532
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7724              		.loc 1 1727 5 view .LVU2533
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7725              		.loc 1 1727 5 view .LVU2534
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7726              		.loc 1 1727 5 discriminator 1 view .LVU2535
 7727 0064 064B     		ldr	r3, .L602
 7728 0066 6922     		movs	r2, #105
 7729 0068 1A60     		str	r2, [r3]
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7730              		.loc 1 1727 5 discriminator 3 view .LVU2536
1728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7731              		.loc 1 1728 5 view .LVU2537
1728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7732              		.loc 1 1728 12 is_stmt 0 view .LVU2538
 7733 006a 4FF0FF34 		mov	r4, #-1
 7734 006e E5E7     		b	.L586
 7735              	.LVL830:
 7736              	.L600:
1734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENFILE);
 7737              		.loc 1 1734 5 is_stmt 1 view .LVU2539
 7738 0070 2846     		mov	r0, r5
 7739              	.LVL831:
1734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENFILE);
 7740              		.loc 1 1734 5 is_stmt 0 view .LVU2540
 7741 0072 FFF7FEFF 		bl	netconn_delete
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 246


 7742              	.LVL832:
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7743              		.loc 1 1735 5 is_stmt 1 view .LVU2541
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7744              		.loc 1 1735 5 view .LVU2542
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7745              		.loc 1 1735 5 discriminator 1 view .LVU2543
 7746 0076 024B     		ldr	r3, .L602
 7747 0078 1722     		movs	r2, #23
 7748 007a 1A60     		str	r2, [r3]
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7749              		.loc 1 1735 5 discriminator 3 view .LVU2544
1736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7750              		.loc 1 1736 5 view .LVU2545
1736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7751              		.loc 1 1736 12 is_stmt 0 view .LVU2546
 7752 007c DEE7     		b	.L586
 7753              	.L603:
 7754 007e 00BF     		.align	2
 7755              	.L602:
 7756 0080 00000000 		.word	errno
 7757 0084 00000000 		.word	event_callback
 7758              		.cfi_endproc
 7759              	.LFE393:
 7761              		.section	.text.lwip_write,"ax",%progbits
 7762              		.align	1
 7763              		.global	lwip_write
 7764              		.syntax unified
 7765              		.thumb
 7766              		.thumb_func
 7768              	lwip_write:
 7769              	.LVL833:
 7770              	.LFB394:
1747:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_send(s, data, size, 0);
 7771              		.loc 1 1747 1 is_stmt 1 view -0
 7772              		.cfi_startproc
 7773              		@ args = 0, pretend = 0, frame = 0
 7774              		@ frame_needed = 0, uses_anonymous_args = 0
1747:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_send(s, data, size, 0);
 7775              		.loc 1 1747 1 is_stmt 0 view .LVU2548
 7776 0000 08B5     		push	{r3, lr}
 7777              	.LCFI95:
 7778              		.cfi_def_cfa_offset 8
 7779              		.cfi_offset 3, -8
 7780              		.cfi_offset 14, -4
1748:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7781              		.loc 1 1748 3 is_stmt 1 view .LVU2549
1748:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7782              		.loc 1 1748 10 is_stmt 0 view .LVU2550
 7783 0002 0023     		movs	r3, #0
 7784 0004 FFF7FEFF 		bl	lwip_send
 7785              	.LVL834:
1749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7786              		.loc 1 1749 1 view .LVU2551
 7787 0008 08BD     		pop	{r3, pc}
 7788              		.cfi_endproc
 7789              	.LFE394:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 247


 7791              		.section	.text.lwip_writev,"ax",%progbits
 7792              		.align	1
 7793              		.global	lwip_writev
 7794              		.syntax unified
 7795              		.thumb
 7796              		.thumb_func
 7798              	lwip_writev:
 7799              	.LVL835:
 7800              	.LFB395:
1753:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 7801              		.loc 1 1753 1 is_stmt 1 view -0
 7802              		.cfi_startproc
 7803              		@ args = 0, pretend = 0, frame = 32
 7804              		@ frame_needed = 0, uses_anonymous_args = 0
1753:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 7805              		.loc 1 1753 1 is_stmt 0 view .LVU2553
 7806 0000 00B5     		push	{lr}
 7807              	.LCFI96:
 7808              		.cfi_def_cfa_offset 4
 7809              		.cfi_offset 14, -4
 7810 0002 89B0     		sub	sp, sp, #36
 7811              	.LCFI97:
 7812              		.cfi_def_cfa_offset 40
1754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7813              		.loc 1 1754 3 is_stmt 1 view .LVU2554
1756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 7814              		.loc 1 1756 3 view .LVU2555
1756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 7815              		.loc 1 1756 16 is_stmt 0 view .LVU2556
 7816 0004 0023     		movs	r3, #0
 7817 0006 0193     		str	r3, [sp, #4]
1757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 7818              		.loc 1 1757 3 is_stmt 1 view .LVU2557
1757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 7819              		.loc 1 1757 19 is_stmt 0 view .LVU2558
 7820 0008 0293     		str	r3, [sp, #8]
1760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 7821              		.loc 1 1760 3 is_stmt 1 view .LVU2559
1760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 7822              		.loc 1 1760 15 is_stmt 0 view .LVU2560
 7823 000a 0391     		str	r1, [sp, #12]
1761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 7824              		.loc 1 1761 3 is_stmt 1 view .LVU2561
1761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 7825              		.loc 1 1761 18 is_stmt 0 view .LVU2562
 7826 000c 0492     		str	r2, [sp, #16]
1762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 7827              		.loc 1 1762 3 is_stmt 1 view .LVU2563
1762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 7828              		.loc 1 1762 19 is_stmt 0 view .LVU2564
 7829 000e 0593     		str	r3, [sp, #20]
1763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 7830              		.loc 1 1763 3 is_stmt 1 view .LVU2565
1763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 7831              		.loc 1 1763 22 is_stmt 0 view .LVU2566
 7832 0010 0693     		str	r3, [sp, #24]
1764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 248


 7833              		.loc 1 1764 3 is_stmt 1 view .LVU2567
1764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
 7834              		.loc 1 1764 17 is_stmt 0 view .LVU2568
 7835 0012 0793     		str	r3, [sp, #28]
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7836              		.loc 1 1765 3 is_stmt 1 view .LVU2569
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7837              		.loc 1 1765 10 is_stmt 0 view .LVU2570
 7838 0014 1A46     		mov	r2, r3
 7839              	.LVL836:
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7840              		.loc 1 1765 10 view .LVU2571
 7841 0016 01A9     		add	r1, sp, #4
 7842              	.LVL837:
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7843              		.loc 1 1765 10 view .LVU2572
 7844 0018 FFF7FEFF 		bl	lwip_sendmsg
 7845              	.LVL838:
1766:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7846              		.loc 1 1766 1 view .LVU2573
 7847 001c 09B0     		add	sp, sp, #36
 7848              	.LCFI98:
 7849              		.cfi_def_cfa_offset 4
 7850              		@ sp needed
 7851 001e 5DF804FB 		ldr	pc, [sp], #4
 7852              		.cfi_endproc
 7853              	.LFE395:
 7855              		.section	.text.lwip_select,"ax",%progbits
 7856              		.align	1
 7857              		.global	lwip_select
 7858              		.syntax unified
 7859              		.thumb
 7860              		.thumb_func
 7862              	lwip_select:
 7863              	.LVL839:
 7864              	.LFB399:
1966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 7865              		.loc 1 1966 1 is_stmt 1 view -0
 7866              		.cfi_startproc
 7867              		@ args = 4, pretend = 0, frame = 72
 7868              		@ frame_needed = 0, uses_anonymous_args = 0
1966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 7869              		.loc 1 1966 1 is_stmt 0 view .LVU2575
 7870 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7871              	.LCFI99:
 7872              		.cfi_def_cfa_offset 36
 7873              		.cfi_offset 4, -36
 7874              		.cfi_offset 5, -32
 7875              		.cfi_offset 6, -28
 7876              		.cfi_offset 7, -24
 7877              		.cfi_offset 8, -20
 7878              		.cfi_offset 9, -16
 7879              		.cfi_offset 10, -12
 7880              		.cfi_offset 11, -8
 7881              		.cfi_offset 14, -4
 7882 0004 97B0     		sub	sp, sp, #92
 7883              	.LCFI100:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 249


 7884              		.cfi_def_cfa_offset 128
 7885 0006 209D     		ldr	r5, [sp, #128]
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 7886              		.loc 1 1967 3 is_stmt 1 view .LVU2576
 7887              	.LVL840:
1968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 7888              		.loc 1 1968 3 view .LVU2577
1969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
 7889              		.loc 1 1969 3 view .LVU2578
1970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 7890              		.loc 1 1970 3 view .LVU2579
1971:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int maxfdp2;
 7891              		.loc 1 1971 3 view .LVU2580
1972:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 7892              		.loc 1 1972 3 view .LVU2581
1979:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7893              		.loc 1 1979 3 view .LVU2582
1984:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7894              		.loc 1 1984 80 view .LVU2583
1986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EINVAL);
 7895              		.loc 1 1986 3 view .LVU2584
1986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EINVAL);
 7896              		.loc 1 1986 6 is_stmt 0 view .LVU2585
 7897 0008 4028     		cmp	r0, #64
 7898 000a 2AD8     		bhi	.L647
 7899 000c 8146     		mov	r9, r0
 7900 000e 0E46     		mov	r6, r1
 7901 0010 1746     		mov	r7, r2
 7902 0012 9846     		mov	r8, r3
1991:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7903              		.loc 1 1991 85 is_stmt 1 view .LVU2586
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7904              		.loc 1 1995 3 view .LVU2587
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7905              		.loc 1 1995 12 is_stmt 0 view .LVU2588
 7906 0014 10AB     		add	r3, sp, #64
 7907              	.LVL841:
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7908              		.loc 1 1995 12 view .LVU2589
 7909 0016 0293     		str	r3, [sp, #8]
 7910 0018 12AB     		add	r3, sp, #72
 7911 001a 0193     		str	r3, [sp, #4]
 7912 001c 14AB     		add	r3, sp, #80
 7913 001e 0093     		str	r3, [sp]
 7914 0020 4346     		mov	r3, r8
 7915 0022 FFF7FEFF 		bl	lwip_selscan
 7916              	.LVL842:
1997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one of the sockets in one of the fd_sets was invalid */
 7917              		.loc 1 1997 3 is_stmt 1 view .LVU2590
1997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one of the sockets in one of the fd_sets was invalid */
 7918              		.loc 1 1997 6 is_stmt 0 view .LVU2591
 7919 0026 B0F1000A 		subs	r10, r0, #0
 7920 002a 20DB     		blt	.L648
2002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one or more sockets are set, no need to wait */
 7921              		.loc 1 2002 10 is_stmt 1 view .LVU2592
2002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one or more sockets are set, no need to wait */
 7922              		.loc 1 2002 13 is_stmt 0 view .LVU2593
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 250


 7923 002c BAF1000F 		cmp	r10, #0
 7924 0030 23DD     		ble	.L649
 7925              	.LVL843:
 7926              	.L612:
2154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 7927              		.loc 1 2154 55 is_stmt 1 view .LVU2594
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
 7928              		.loc 1 2155 3 view .LVU2595
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
 7929              		.loc 1 2155 3 view .LVU2596
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
 7930              		.loc 1 2155 3 discriminator 3 view .LVU2597
2156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *readset = lreadset;
 7931              		.loc 1 2156 3 view .LVU2598
2156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *readset = lreadset;
 7932              		.loc 1 2156 6 is_stmt 0 view .LVU2599
 7933 0032 26B1     		cbz	r6, .L642
2157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7934              		.loc 1 2157 5 is_stmt 1 view .LVU2600
2157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7935              		.loc 1 2157 14 is_stmt 0 view .LVU2601
 7936 0034 16AB     		add	r3, sp, #88
 7937 0036 13E90300 		ldmdb	r3, {r0, r1}
 7938 003a 86E80300 		stm	r6, {r0, r1}
 7939              	.L642:
2159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *writeset = lwriteset;
 7940              		.loc 1 2159 3 is_stmt 1 view .LVU2602
2159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *writeset = lwriteset;
 7941              		.loc 1 2159 6 is_stmt 0 view .LVU2603
 7942 003e 27B1     		cbz	r7, .L643
2160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7943              		.loc 1 2160 5 is_stmt 1 view .LVU2604
2160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7944              		.loc 1 2160 15 is_stmt 0 view .LVU2605
 7945 0040 12AB     		add	r3, sp, #72
 7946 0042 93E80300 		ldm	r3, {r0, r1}
 7947 0046 87E80300 		stm	r7, {r0, r1}
 7948              	.L643:
2162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *exceptset = lexceptset;
 7949              		.loc 1 2162 3 is_stmt 1 view .LVU2606
2162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *exceptset = lexceptset;
 7950              		.loc 1 2162 6 is_stmt 0 view .LVU2607
 7951 004a B8F1000F 		cmp	r8, #0
 7952 004e 04D0     		beq	.L608
2163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7953              		.loc 1 2163 5 is_stmt 1 view .LVU2608
2163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7954              		.loc 1 2163 16 is_stmt 0 view .LVU2609
 7955 0050 10AB     		add	r3, sp, #64
 7956 0052 93E80300 		ldm	r3, {r0, r1}
 7957 0056 88E80300 		stm	r8, {r0, r1}
 7958              	.LVL844:
 7959              	.L608:
2166:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT */
 7960              		.loc 1 2166 1 view .LVU2610
 7961 005a 5046     		mov	r0, r10
 7962 005c 17B0     		add	sp, sp, #92
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 251


 7963              	.LCFI101:
 7964              		.cfi_remember_state
 7965              		.cfi_def_cfa_offset 36
 7966              		@ sp needed
 7967 005e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7968              	.LVL845:
 7969              	.L647:
 7970              	.LCFI102:
 7971              		.cfi_restore_state
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7972              		.loc 1 1987 5 is_stmt 1 view .LVU2611
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7973              		.loc 1 1987 5 view .LVU2612
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7974              		.loc 1 1987 5 discriminator 1 view .LVU2613
 7975 0062 A04B     		ldr	r3, .L662
 7976              	.LVL846:
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7977              		.loc 1 1987 5 is_stmt 0 discriminator 1 view .LVU2614
 7978 0064 1622     		movs	r2, #22
 7979              	.LVL847:
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7980              		.loc 1 1987 5 discriminator 1 view .LVU2615
 7981 0066 1A60     		str	r2, [r3]
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7982              		.loc 1 1987 5 is_stmt 1 discriminator 3 view .LVU2616
1988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7983              		.loc 1 1988 5 view .LVU2617
1988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7984              		.loc 1 1988 12 is_stmt 0 view .LVU2618
 7985 0068 4FF0FF3A 		mov	r10, #-1
 7986 006c F5E7     		b	.L608
 7987              	.LVL848:
 7988              	.L648:
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7989              		.loc 1 1999 5 is_stmt 1 view .LVU2619
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7990              		.loc 1 1999 5 view .LVU2620
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7991              		.loc 1 1999 5 discriminator 1 view .LVU2621
 7992 006e 9D4B     		ldr	r3, .L662
 7993 0070 0922     		movs	r2, #9
 7994 0072 1A60     		str	r2, [r3]
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 7995              		.loc 1 1999 5 discriminator 3 view .LVU2622
2000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7996              		.loc 1 2000 57 view .LVU2623
2001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (nready > 0) {
 7997              		.loc 1 2001 5 view .LVU2624
 7998              	.LVL849:
2001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (nready > 0) {
 7999              		.loc 1 2001 12 is_stmt 0 view .LVU2625
 8000 0074 4FF0FF3A 		mov	r10, #-1
 8001 0078 EFE7     		b	.L608
 8002              	.LVL850:
 8003              	.L649:
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 252


 8004              		.loc 1 2007 5 is_stmt 1 view .LVU2626
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 8005              		.loc 1 2007 8 is_stmt 0 view .LVU2627
 8006 007a 35B1     		cbz	r5, .L613
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 8007              		.loc 1 2007 27 discriminator 1 view .LVU2628
 8008 007c 2B68     		ldr	r3, [r5]
 8009 007e 6A68     		ldr	r2, [r5, #4]
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 8010              		.loc 1 2007 17 discriminator 1 view .LVU2629
 8011 0080 1343     		orrs	r3, r3, r2
 8012 0082 02D1     		bne	.L613
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 8013              		.loc 1 2007 51 discriminator 2 view .LVU2630
 8014 0084 AB68     		ldr	r3, [r5, #8]
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 8015              		.loc 1 2007 41 discriminator 2 view .LVU2631
 8016 0086 002B     		cmp	r3, #0
 8017 0088 D3D0     		beq	.L612
 8018              	.L613:
 8019              	.LBB79:
2017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_ALLOC(select_cb, set_errno(ENOMEM); lwip_select_dec_sockets_used(maxfdp1, &
 8020              		.loc 1 2017 7 is_stmt 1 view .LVU2632
2018:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
 8021              		.loc 1 2018 125 view .LVU2633
2019:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8022              		.loc 1 2019 7 view .LVU2634
 8023 008a 2422     		movs	r2, #36
 8024 008c 0021     		movs	r1, #0
 8025 008e 07A8     		add	r0, sp, #28
 8026              	.LVL851:
2019:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8027              		.loc 1 2019 7 is_stmt 0 view .LVU2635
 8028 0090 FFF7FEFF 		bl	memset
 8029              	.LVL852:
2021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).writeset = writeset;
 8030              		.loc 1 2021 7 is_stmt 1 view .LVU2636
2021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).writeset = writeset;
 8031              		.loc 1 2021 48 is_stmt 0 view .LVU2637
 8032 0094 0996     		str	r6, [sp, #36]
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).exceptset = exceptset;
 8033              		.loc 1 2022 7 is_stmt 1 view .LVU2638
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).exceptset = exceptset;
 8034              		.loc 1 2022 49 is_stmt 0 view .LVU2639
 8035 0096 0A97     		str	r7, [sp, #40]
2023:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8036              		.loc 1 2023 7 is_stmt 1 view .LVU2640
2023:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8037              		.loc 1 2023 50 is_stmt 0 view .LVU2641
 8038 0098 CDF82C80 		str	r8, [sp, #44]
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* failed to create semaphore */
 8039              		.loc 1 2027 7 is_stmt 1 view .LVU2642
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* failed to create semaphore */
 8040              		.loc 1 2027 11 is_stmt 0 view .LVU2643
 8041 009c 0021     		movs	r1, #0
 8042 009e 0FA8     		add	r0, sp, #60
 8043 00a0 FFF7FEFF 		bl	sys_sem_new
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 253


 8044              	.LVL853:
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* failed to create semaphore */
 8045              		.loc 1 2027 10 discriminator 1 view .LVU2644
 8046 00a4 40B9     		cbnz	r0, .L650
2036:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8047              		.loc 1 2036 7 is_stmt 1 view .LVU2645
 8048 00a6 07A8     		add	r0, sp, #28
 8049 00a8 FFF7FEFF 		bl	lwip_link_select_cb
 8050              	.LVL854:
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8051              		.loc 1 2039 7 view .LVU2646
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8052              		.loc 1 2040 7 view .LVU2647
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8053              		.loc 1 2040 14 is_stmt 0 view .LVU2648
 8054 00ac 0024     		movs	r4, #0
 8055 00ae 2095     		str	r5, [sp, #128]
 8056              	.LVL855:
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8057              		.loc 1 2040 14 view .LVU2649
 8058 00b0 4546     		mov	r5, r8
 8059 00b2 DDF88080 		ldr	r8, [sp, #128]
 8060              	.LVL856:
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8061              		.loc 1 2040 7 view .LVU2650
 8062 00b6 1FE0     		b	.L616
 8063              	.LVL857:
 8064              	.L650:
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8065              		.loc 1 2029 9 is_stmt 1 view .LVU2651
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8066              		.loc 1 2029 9 view .LVU2652
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8067              		.loc 1 2029 9 discriminator 1 view .LVU2653
 8068 00b8 8A4B     		ldr	r3, .L662
 8069 00ba 0C22     		movs	r2, #12
 8070 00bc 1A60     		str	r2, [r3]
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8071              		.loc 1 2029 9 discriminator 3 view .LVU2654
2030:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         API_SELECT_CB_VAR_FREE(select_cb);
 8072              		.loc 1 2030 61 view .LVU2655
2031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
 8073              		.loc 1 2031 42 view .LVU2656
2032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8074              		.loc 1 2032 9 view .LVU2657
 8075              	.LVL858:
 8076              	.L615:
2032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8077              		.loc 1 2032 16 is_stmt 0 discriminator 1 view .LVU2658
 8078 00be 4FF0FF3A 		mov	r10, #-1
 8079 00c2 CAE7     		b	.L608
 8080              	.LVL859:
 8081              	.L653:
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8082              		.loc 1 2041 25 discriminator 1 view .LVU2659
 8083 00c4 04F11F03 		add	r3, r4, #31
 8084              	.LVL860:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 254


2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8085              		.loc 1 2041 25 discriminator 1 view .LVU2660
 8086 00c8 1CE0     		b	.L618
 8087              	.LVL861:
 8088              	.L654:
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8089              		.loc 1 2042 26 view .LVU2661
 8090 00ca 04F11F03 		add	r3, r4, #31
 8091              	.LVL862:
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8092              		.loc 1 2042 26 view .LVU2662
 8093 00ce 26E0     		b	.L621
 8094              	.LVL863:
 8095              	.L655:
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8096              		.loc 1 2043 27 view .LVU2663
 8097 00d0 04F11F03 		add	r3, r4, #31
 8098              	.LVL864:
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8099              		.loc 1 2043 27 view .LVU2664
 8100 00d4 31E0     		b	.L623
 8101              	.L619:
 8102              	.LBB80:
2044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
 8103              		.loc 1 2044 11 is_stmt 1 view .LVU2665
2045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
 8104              		.loc 1 2045 11 view .LVU2666
 8105 00d6 FFF7FEFF 		bl	sys_arch_protect
 8106              	.LVL865:
 8107 00da 8246     		mov	r10, r0
 8108              	.LVL866:
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8109              		.loc 1 2046 11 view .LVU2667
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8110              		.loc 1 2046 18 is_stmt 0 view .LVU2668
 8111 00dc 2046     		mov	r0, r4
 8112              	.LVL867:
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8113              		.loc 1 2046 18 view .LVU2669
 8114 00de FFF7FEFF 		bl	tryget_socket_unconn_locked
 8115              	.LVL868:
2047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting++;
 8116              		.loc 1 2047 11 is_stmt 1 view .LVU2670
2047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting++;
 8117              		.loc 1 2047 14 is_stmt 0 view .LVU2671
 8118 00e2 0028     		cmp	r0, #0
 8119 00e4 40D0     		beq	.L624
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting == 0) {
 8120              		.loc 1 2048 13 is_stmt 1 view .LVU2672
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting == 0) {
 8121              		.loc 1 2048 17 is_stmt 0 view .LVU2673
 8122 00e6 817B     		ldrb	r1, [r0, #14]	@ zero_extendqisi2
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting == 0) {
 8123              		.loc 1 2048 33 view .LVU2674
 8124 00e8 4B1C     		adds	r3, r1, #1
 8125 00ea DBB2     		uxtb	r3, r3
 8126 00ec 8373     		strb	r3, [r0, #14]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 255


2049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* overflow - too many threads waiting */
 8127              		.loc 1 2049 13 is_stmt 1 view .LVU2675
2049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* overflow - too many threads waiting */
 8128              		.loc 1 2049 16 is_stmt 0 view .LVU2676
 8129 00ee 73B3     		cbz	r3, .L651
2059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 8130              		.loc 1 2059 13 is_stmt 1 view .LVU2677
 8131 00f0 5046     		mov	r0, r10
 8132              	.LVL869:
2059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 8133              		.loc 1 2059 13 is_stmt 0 view .LVU2678
 8134 00f2 FFF7FEFF 		bl	sys_arch_unprotect
 8135              	.LVL870:
2060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8136              		.loc 1 2060 30 is_stmt 1 view .LVU2679
 8137              	.L622:
2060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8138              		.loc 1 2060 30 is_stmt 0 view .LVU2680
 8139              	.LBE80:
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8140              		.loc 1 2040 50 is_stmt 1 discriminator 2 view .LVU2681
 8141 00f6 0134     		adds	r4, r4, #1
 8142              	.LVL871:
 8143              	.L616:
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8144              		.loc 1 2040 38 discriminator 1 view .LVU2682
 8145 00f8 4C45     		cmp	r4, r9
 8146 00fa 46DA     		bge	.L652
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8147              		.loc 1 2041 9 view .LVU2683
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8148              		.loc 1 2041 12 is_stmt 0 view .LVU2684
 8149 00fc 5EB1     		cbz	r6, .L617
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8150              		.loc 1 2041 25 discriminator 1 view .LVU2685
 8151 00fe 2346     		mov	r3, r4
 8152 0100 002C     		cmp	r4, #0
 8153 0102 DFDB     		blt	.L653
 8154              	.L618:
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8155              		.loc 1 2041 25 discriminator 1 view .LVU2686
 8156 0104 5B11     		asrs	r3, r3, #5
 8157 0106 56F82330 		ldr	r3, [r6, r3, lsl #2]
 8158 010a 04F01F02 		and	r2, r4, #31
 8159 010e D340     		lsrs	r3, r3, r2
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8160              		.loc 1 2041 22 discriminator 1 view .LVU2687
 8161 0110 13F0010F 		tst	r3, #1
 8162 0114 DFD1     		bne	.L619
 8163              	.L617:
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8164              		.loc 1 2041 47 discriminator 3 view .LVU2688
 8165 0116 5FB1     		cbz	r7, .L620
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8166              		.loc 1 2042 26 view .LVU2689
 8167 0118 2346     		mov	r3, r4
 8168 011a 002C     		cmp	r4, #0
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 256


 8169 011c D5DB     		blt	.L654
 8170              	.L621:
 8171 011e 5B11     		asrs	r3, r3, #5
 8172 0120 57F82330 		ldr	r3, [r7, r3, lsl #2]
 8173 0124 04F01F02 		and	r2, r4, #31
 8174 0128 D340     		lsrs	r3, r3, r2
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8175              		.loc 1 2042 23 view .LVU2690
 8176 012a 13F0010F 		tst	r3, #1
 8177 012e D2D1     		bne	.L619
 8178              	.L620:
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8179              		.loc 1 2042 49 discriminator 1 view .LVU2691
 8180 0130 002D     		cmp	r5, #0
 8181 0132 E0D0     		beq	.L622
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8182              		.loc 1 2043 27 view .LVU2692
 8183 0134 2346     		mov	r3, r4
 8184 0136 002C     		cmp	r4, #0
 8185 0138 CADB     		blt	.L655
 8186              	.L623:
 8187 013a 5B11     		asrs	r3, r3, #5
 8188 013c 55F82330 		ldr	r3, [r5, r3, lsl #2]
 8189 0140 04F01F02 		and	r2, r4, #31
 8190 0144 D340     		lsrs	r3, r3, r2
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8191              		.loc 1 2043 24 view .LVU2693
 8192 0146 13F0010F 		tst	r3, #1
 8193 014a D4D0     		beq	.L622
 8194 014c C3E7     		b	.L619
 8195              	.LVL872:
 8196              	.L651:
 8197              	.LBB81:
2051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               nready = -1;
 8198              		.loc 1 2051 35 view .LVU2694
 8199 014e A846     		mov	r8, r5
2051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               nready = -1;
 8200              		.loc 1 2051 15 is_stmt 1 view .LVU2695
2051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               nready = -1;
 8201              		.loc 1 2051 35 is_stmt 0 view .LVU2696
 8202 0150 8173     		strb	r1, [r0, #14]
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               maxfdp2 = i;
 8203              		.loc 1 2052 15 is_stmt 1 view .LVU2697
 8204              	.LVL873:
2053:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               SYS_ARCH_UNPROTECT(lev);
 8205              		.loc 1 2053 15 view .LVU2698
2054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
 8206              		.loc 1 2054 15 view .LVU2699
 8207 0152 5046     		mov	r0, r10
 8208              	.LVL874:
2054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
 8209              		.loc 1 2054 15 is_stmt 0 view .LVU2700
 8210 0154 FFF7FEFF 		bl	sys_arch_unprotect
 8211              	.LVL875:
2055:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               set_errno(EBUSY);
 8212              		.loc 1 2055 32 is_stmt 1 view .LVU2701
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 257


 8213              		.loc 1 2056 15 view .LVU2702
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 8214              		.loc 1 2056 15 view .LVU2703
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 8215              		.loc 1 2056 15 discriminator 1 view .LVU2704
 8216 0158 624B     		ldr	r3, .L662
 8217 015a 1022     		movs	r2, #16
 8218 015c 1A60     		str	r2, [r3]
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 8219              		.loc 1 2056 15 discriminator 3 view .LVU2705
2057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 8220              		.loc 1 2057 15 view .LVU2706
2057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 8221              		.loc 1 2057 15 is_stmt 0 view .LVU2707
 8222              	.LBE81:
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
 8223              		.loc 1 2072 7 is_stmt 1 view .LVU2708
 8224              	.LBB82:
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               maxfdp2 = i;
 8225              		.loc 1 2052 22 is_stmt 0 view .LVU2709
 8226 015e 4FF0FF3A 		mov	r10, #-1
 8227              	.LVL876:
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               maxfdp2 = i;
 8228              		.loc 1 2052 22 view .LVU2710
 8229              	.LBE82:
 8230              	.LBE79:
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8231              		.loc 1 1967 9 view .LVU2711
 8232 0162 4FF0000B 		mov	fp, #0
 8233 0166 0AE0     		b	.L626
 8234              	.LVL877:
 8235              	.L624:
 8236              	.LBB89:
 8237              	.LBB83:
2065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8238              		.loc 1 2065 13 view .LVU2712
 8239 0168 A846     		mov	r8, r5
2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             maxfdp2 = i;
 8240              		.loc 1 2063 13 is_stmt 1 view .LVU2713
 8241              	.LVL878:
2064:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 8242              		.loc 1 2064 13 view .LVU2714
2065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8243              		.loc 1 2065 13 view .LVU2715
 8244 016a 5046     		mov	r0, r10
 8245              	.LVL879:
2065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8246              		.loc 1 2065 13 is_stmt 0 view .LVU2716
 8247 016c FFF7FEFF 		bl	sys_arch_unprotect
 8248              	.LVL880:
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 8249              		.loc 1 2066 13 is_stmt 1 view .LVU2717
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 8250              		.loc 1 2066 13 view .LVU2718
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 8251              		.loc 1 2066 13 discriminator 1 view .LVU2719
 8252 0170 5C4B     		ldr	r3, .L662
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 258


 8253 0172 0922     		movs	r2, #9
 8254 0174 1A60     		str	r2, [r3]
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 8255              		.loc 1 2066 13 discriminator 3 view .LVU2720
2067:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8256              		.loc 1 2067 13 view .LVU2721
2067:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8257              		.loc 1 2067 13 is_stmt 0 view .LVU2722
 8258              	.LBE83:
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
 8259              		.loc 1 2072 7 is_stmt 1 view .LVU2723
 8260              	.LBB84:
2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             maxfdp2 = i;
 8261              		.loc 1 2063 20 is_stmt 0 view .LVU2724
 8262 0176 4FF0FF3A 		mov	r10, #-1
 8263              	.LVL881:
2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             maxfdp2 = i;
 8264              		.loc 1 2063 20 view .LVU2725
 8265              	.LBE84:
 8266              	.LBE89:
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8267              		.loc 1 1967 9 view .LVU2726
 8268 017a 4FF0000B 		mov	fp, #0
 8269              	.LVL882:
 8270              	.L626:
 8271              	.LBB90:
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8272              		.loc 1 2099 7 is_stmt 1 view .LVU2727
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8273              		.loc 1 2099 14 is_stmt 0 view .LVU2728
 8274 017e 0025     		movs	r5, #0
 8275 0180 CDF810B0 		str	fp, [sp, #16]
 8276 0184 CDF81490 		str	r9, [sp, #20]
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8277              		.loc 1 2099 7 view .LVU2729
 8278 0188 4EE0     		b	.L629
 8279              	.LVL883:
 8280              	.L652:
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!nready) {
 8281              		.loc 1 2075 18 view .LVU2730
 8282 018a CDF88080 		str	r8, [sp, #128]
 8283 018e A846     		mov	r8, r5
 8284 0190 209D     		ldr	r5, [sp, #128]
 8285              	.LVL884:
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
 8286              		.loc 1 2072 7 is_stmt 1 view .LVU2731
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!nready) {
 8287              		.loc 1 2075 9 view .LVU2732
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!nready) {
 8288              		.loc 1 2075 18 is_stmt 0 view .LVU2733
 8289 0192 10AB     		add	r3, sp, #64
 8290 0194 0293     		str	r3, [sp, #8]
 8291 0196 12AB     		add	r3, sp, #72
 8292 0198 0193     		str	r3, [sp, #4]
 8293 019a 14AB     		add	r3, sp, #80
 8294 019c 0093     		str	r3, [sp]
 8295 019e 4346     		mov	r3, r8
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 259


 8296 01a0 3A46     		mov	r2, r7
 8297 01a2 3146     		mov	r1, r6
 8298 01a4 4846     		mov	r0, r9
 8299 01a6 FFF7FEFF 		bl	lwip_selscan
 8300              	.LVL885:
2076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Still none ready, just wait to be woken */
 8301              		.loc 1 2076 9 is_stmt 1 view .LVU2734
2076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Still none ready, just wait to be woken */
 8302              		.loc 1 2076 12 is_stmt 0 view .LVU2735
 8303 01aa 8246     		mov	r10, r0
 8304 01ac D0B9     		cbnz	r0, .L644
2078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Wait forever */
 8305              		.loc 1 2078 11 is_stmt 1 view .LVU2736
2078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Wait forever */
 8306              		.loc 1 2078 14 is_stmt 0 view .LVU2737
 8307 01ae BDB1     		cbz	r5, .L645
 8308              	.LBB85:
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8309              		.loc 1 2082 13 is_stmt 1 view .LVU2738
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8310              		.loc 1 2082 40 is_stmt 0 view .LVU2739
 8311 01b0 2868     		ldr	r0, [r5]
 8312              	.LVL886:
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8313              		.loc 1 2082 68 view .LVU2740
 8314 01b2 AB68     		ldr	r3, [r5, #8]
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8315              		.loc 1 2082 78 view .LVU2741
 8316 01b4 03F5FA73 		add	r3, r3, #500
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8317              		.loc 1 2082 85 view .LVU2742
 8318 01b8 4B4A     		ldr	r2, .L662+4
 8319 01ba 82FB0312 		smull	r1, r2, r2, r3
 8320 01be D917     		asrs	r1, r3, #31
 8321 01c0 C1EBA211 		rsb	r1, r1, r2, asr #6
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8322              		.loc 1 2082 57 view .LVU2743
 8323 01c4 4FF47A73 		mov	r3, #1000
 8324 01c8 03FB0011 		mla	r1, r3, r0, r1
 8325              	.LVL887:
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
 8326              		.loc 1 2083 13 is_stmt 1 view .LVU2744
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
 8327              		.loc 1 2083 16 is_stmt 0 view .LVU2745
 8328 01cc 0029     		cmp	r1, #0
 8329 01ce 05DD     		ble	.L656
 8330              	.LVL888:
 8331              	.L628:
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
 8332              		.loc 1 2083 16 view .LVU2746
 8333              	.LBE85:
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8334              		.loc 1 2091 11 is_stmt 1 view .LVU2747
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8335              		.loc 1 2091 21 is_stmt 0 view .LVU2748
 8336 01d0 0FA8     		add	r0, sp, #60
 8337 01d2 FFF7FEFF 		bl	sys_arch_sem_wait
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 260


 8338              	.LVL889:
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8339              		.loc 1 2091 21 view .LVU2749
 8340 01d6 8346     		mov	fp, r0
 8341              	.LVL890:
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8342              		.loc 1 2091 21 view .LVU2750
 8343 01d8 4C46     		mov	r4, r9
 8344              	.LVL891:
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8345              		.loc 1 2091 21 view .LVU2751
 8346 01da D0E7     		b	.L626
 8347              	.LVL892:
 8348              	.L656:
 8349              	.LBB86:
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
 8350              		.loc 1 2085 27 view .LVU2752
 8351 01dc 0121     		movs	r1, #1
 8352              	.LVL893:
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
 8353              		.loc 1 2085 27 view .LVU2753
 8354 01de F7E7     		b	.L628
 8355              	.LVL894:
 8356              	.L645:
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
 8357              		.loc 1 2085 27 view .LVU2754
 8358              	.LBE86:
2080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8359              		.loc 1 2080 25 view .LVU2755
 8360 01e0 0021     		movs	r1, #0
 8361 01e2 F5E7     		b	.L628
 8362              	.L644:
 8363 01e4 4C46     		mov	r4, r9
 8364              	.LVL895:
2080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8365              		.loc 1 2080 25 view .LVU2756
 8366              	.LBE90:
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8367              		.loc 1 1967 9 view .LVU2757
 8368 01e6 4FF0000B 		mov	fp, #0
 8369 01ea C8E7     		b	.L626
 8370              	.LVL896:
 8371              	.L659:
 8372              	.LBB91:
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8373              		.loc 1 2100 25 discriminator 1 view .LVU2758
 8374 01ec 05F11F03 		add	r3, r5, #31
 8375              	.LVL897:
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8376              		.loc 1 2100 25 discriminator 1 view .LVU2759
 8377 01f0 20E0     		b	.L631
 8378              	.LVL898:
 8379              	.L660:
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8380              		.loc 1 2101 26 view .LVU2760
 8381 01f2 05F11F03 		add	r3, r5, #31
 8382              	.LVL899:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 261


2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8383              		.loc 1 2101 26 view .LVU2761
 8384 01f6 2AE0     		b	.L634
 8385              	.LVL900:
 8386              	.L661:
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8387              		.loc 1 2102 27 view .LVU2762
 8388 01f8 05F11F03 		add	r3, r5, #31
 8389              	.LVL901:
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8390              		.loc 1 2102 27 view .LVU2763
 8391 01fc 36E0     		b	.L636
 8392              	.L632:
 8393              	.LBB87:
2103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
 8394              		.loc 1 2103 11 is_stmt 1 view .LVU2764
2104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
 8395              		.loc 1 2104 11 view .LVU2765
 8396 01fe FFF7FEFF 		bl	sys_arch_protect
 8397              	.LVL902:
 8398 0202 8146     		mov	r9, r0
 8399              	.LVL903:
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8400              		.loc 1 2105 11 view .LVU2766
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8401              		.loc 1 2105 18 is_stmt 0 view .LVU2767
 8402 0204 2846     		mov	r0, r5
 8403              	.LVL904:
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8404              		.loc 1 2105 18 view .LVU2768
 8405 0206 FFF7FEFF 		bl	tryget_socket_unconn_locked
 8406              	.LVL905:
2106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* for now, handle select_waiting==0... */
 8407              		.loc 1 2106 11 is_stmt 1 view .LVU2769
2106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* for now, handle select_waiting==0... */
 8408              		.loc 1 2106 14 is_stmt 0 view .LVU2770
 8409 020a 8346     		mov	fp, r0
 8410 020c 0028     		cmp	r0, #0
 8411 020e 3FD0     		beq	.L637
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8412              		.loc 1 2108 13 is_stmt 1 view .LVU2771
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8413              		.loc 1 2108 13 view .LVU2772
 8414 0210 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 8415 0212 ABB3     		cbz	r3, .L657
 8416              	.LVL906:
 8417              	.L638:
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8418              		.loc 1 2108 13 discriminator 3 view .LVU2773
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8419              		.loc 1 2108 13 discriminator 3 view .LVU2774
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
 8420              		.loc 1 2109 13 view .LVU2775
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
 8421              		.loc 1 2109 21 is_stmt 0 view .LVU2776
 8422 0214 9BF80E30 		ldrb	r3, [fp, #14]	@ zero_extendqisi2
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 262


 8423              		.loc 1 2109 16 view .LVU2777
 8424 0218 13B1     		cbz	r3, .L639
2110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 8425              		.loc 1 2110 15 is_stmt 1 view .LVU2778
2110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 8426              		.loc 1 2110 35 is_stmt 0 view .LVU2779
 8427 021a 013B     		subs	r3, r3, #1
 8428 021c 8BF80E30 		strb	r3, [fp, #14]
 8429              	.L639:
2112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 8430              		.loc 1 2112 13 is_stmt 1 view .LVU2780
 8431 0220 4846     		mov	r0, r9
 8432 0222 FFF7FEFF 		bl	sys_arch_unprotect
 8433              	.LVL907:
2113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8434              		.loc 1 2113 30 view .LVU2781
 8435              	.L635:
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8436              		.loc 1 2118 13 discriminator 3 view .LVU2782
 8437              	.LBE87:
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8438              		.loc 1 2099 50 discriminator 2 view .LVU2783
 8439 0226 0135     		adds	r5, r5, #1
 8440              	.LVL908:
 8441              	.L629:
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8442              		.loc 1 2099 38 discriminator 1 view .LVU2784
 8443 0228 A542     		cmp	r5, r4
 8444 022a 3ADA     		bge	.L658
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8445              		.loc 1 2100 9 view .LVU2785
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8446              		.loc 1 2100 12 is_stmt 0 view .LVU2786
 8447 022c 5EB1     		cbz	r6, .L630
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8448              		.loc 1 2100 25 discriminator 1 view .LVU2787
 8449 022e 2B46     		mov	r3, r5
 8450 0230 002D     		cmp	r5, #0
 8451 0232 DBDB     		blt	.L659
 8452              	.L631:
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8453              		.loc 1 2100 25 discriminator 1 view .LVU2788
 8454 0234 5B11     		asrs	r3, r3, #5
 8455 0236 56F82330 		ldr	r3, [r6, r3, lsl #2]
 8456 023a 05F01F02 		and	r2, r5, #31
 8457 023e D340     		lsrs	r3, r3, r2
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8458              		.loc 1 2100 22 discriminator 1 view .LVU2789
 8459 0240 13F0010F 		tst	r3, #1
 8460 0244 DBD1     		bne	.L632
 8461              	.L630:
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8462              		.loc 1 2100 47 discriminator 3 view .LVU2790
 8463 0246 5FB1     		cbz	r7, .L633
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8464              		.loc 1 2101 26 view .LVU2791
 8465 0248 2B46     		mov	r3, r5
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 263


 8466 024a 002D     		cmp	r5, #0
 8467 024c D1DB     		blt	.L660
 8468              	.L634:
 8469 024e 5B11     		asrs	r3, r3, #5
 8470 0250 57F82330 		ldr	r3, [r7, r3, lsl #2]
 8471 0254 05F01F02 		and	r2, r5, #31
 8472 0258 D340     		lsrs	r3, r3, r2
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8473              		.loc 1 2101 23 view .LVU2792
 8474 025a 13F0010F 		tst	r3, #1
 8475 025e CED1     		bne	.L632
 8476              	.L633:
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8477              		.loc 1 2101 49 discriminator 1 view .LVU2793
 8478 0260 B8F1000F 		cmp	r8, #0
 8479 0264 DFD0     		beq	.L635
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8480              		.loc 1 2102 27 view .LVU2794
 8481 0266 2B46     		mov	r3, r5
 8482 0268 002D     		cmp	r5, #0
 8483 026a C5DB     		blt	.L661
 8484              	.L636:
 8485 026c 5B11     		asrs	r3, r3, #5
 8486 026e 58F82330 		ldr	r3, [r8, r3, lsl #2]
 8487 0272 05F01F02 		and	r2, r5, #31
 8488 0276 D340     		lsrs	r3, r3, r2
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8489              		.loc 1 2102 24 view .LVU2795
 8490 0278 13F0010F 		tst	r3, #1
 8491 027c D3D0     		beq	.L635
 8492 027e BEE7     		b	.L632
 8493              	.LVL909:
 8494              	.L657:
 8495              	.LBB88:
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8496              		.loc 1 2108 13 is_stmt 1 discriminator 1 view .LVU2796
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8497              		.loc 1 2108 13 discriminator 1 view .LVU2797
 8498 0280 1A4B     		ldr	r3, .L662+8
 8499 0282 40F63C02 		movw	r2, #2108
 8500 0286 1A49     		ldr	r1, .L662+12
 8501 0288 1A48     		ldr	r0, .L662+16
 8502              	.LVL910:
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8503              		.loc 1 2108 13 is_stmt 0 discriminator 1 view .LVU2798
 8504 028a FFF7FEFF 		bl	printf
 8505              	.LVL911:
 8506 028e C1E7     		b	.L638
 8507              	.LVL912:
 8508              	.L637:
2115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Not a valid socket */
 8509              		.loc 1 2115 13 is_stmt 1 view .LVU2799
 8510 0290 4846     		mov	r0, r9
 8511              	.LVL913:
2115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Not a valid socket */
 8512              		.loc 1 2115 13 is_stmt 0 view .LVU2800
 8513 0292 FFF7FEFF 		bl	sys_arch_unprotect
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 264


 8514              	.LVL914:
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8515              		.loc 1 2117 13 is_stmt 1 view .LVU2801
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8516              		.loc 1 2118 13 view .LVU2802
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8517              		.loc 1 2118 13 view .LVU2803
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8518              		.loc 1 2118 13 discriminator 1 view .LVU2804
 8519 0296 134B     		ldr	r3, .L662
 8520 0298 0922     		movs	r2, #9
 8521 029a 1A60     		str	r2, [r3]
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8522              		.loc 1 2117 20 is_stmt 0 view .LVU2805
 8523 029c 4FF0FF3A 		mov	r10, #-1
 8524 02a0 C1E7     		b	.L635
 8525              	.LVL915:
 8526              	.L658:
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8527              		.loc 1 2117 20 view .LVU2806
 8528              	.LBE88:
2123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8529              		.loc 1 2123 7 view .LVU2807
 8530 02a2 DDF810B0 		ldr	fp, [sp, #16]
 8531 02a6 DDF81490 		ldr	r9, [sp, #20]
2123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8532              		.loc 1 2123 7 is_stmt 1 view .LVU2808
 8533 02aa 07A8     		add	r0, sp, #28
 8534 02ac FFF7FEFF 		bl	lwip_unlink_select_cb
 8535              	.LVL916:
2131:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 8536              		.loc 1 2131 7 view .LVU2809
 8537 02b0 0FA8     		add	r0, sp, #60
 8538 02b2 FFF7FEFF 		bl	sys_sem_free
 8539              	.LVL917:
2133:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8540              		.loc 1 2133 40 view .LVU2810
2135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This happens when a socket got closed while waiting */
 8541              		.loc 1 2135 7 view .LVU2811
2135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This happens when a socket got closed while waiting */
 8542              		.loc 1 2135 10 is_stmt 0 view .LVU2812
 8543 02b6 BAF1000F 		cmp	r10, #0
 8544 02ba FFF600AF 		blt	.L615
2141:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Timeout */
 8545              		.loc 1 2141 7 is_stmt 1 view .LVU2813
2141:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Timeout */
 8546              		.loc 1 2141 10 is_stmt 0 view .LVU2814
 8547 02be BBF1FF3F 		cmp	fp, #-1
 8548 02c2 3FF4B6AE 		beq	.L612
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
 8549              		.loc 1 2148 9 is_stmt 1 view .LVU2815
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
 8550              		.loc 1 2148 18 is_stmt 0 view .LVU2816
 8551 02c6 10AB     		add	r3, sp, #64
 8552 02c8 0293     		str	r3, [sp, #8]
 8553 02ca 12AB     		add	r3, sp, #72
 8554 02cc 0193     		str	r3, [sp, #4]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 265


 8555 02ce 14AB     		add	r3, sp, #80
 8556 02d0 0093     		str	r3, [sp]
 8557 02d2 4346     		mov	r3, r8
 8558 02d4 3A46     		mov	r2, r7
 8559 02d6 3146     		mov	r1, r6
 8560 02d8 4846     		mov	r0, r9
 8561 02da FFF7FEFF 		bl	lwip_selscan
 8562              	.LVL918:
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
 8563              		.loc 1 2148 18 view .LVU2817
 8564 02de 8246     		mov	r10, r0
2149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8565              		.loc 1 2149 73 is_stmt 1 view .LVU2818
 8566 02e0 A7E6     		b	.L612
 8567              	.L663:
 8568 02e2 00BF     		.align	2
 8569              	.L662:
 8570 02e4 00000000 		.word	errno
 8571 02e8 D34D6210 		.word	274877907
 8572 02ec 00000000 		.word	.LC0
 8573 02f0 00000000 		.word	.LC5
 8574 02f4 48000000 		.word	.LC2
 8575              	.LBE91:
 8576              		.cfi_endproc
 8577              	.LFE399:
 8579              		.section	.rodata.lwip_poll.str1.4,"aMS",%progbits,1
 8580              		.align	2
 8581              	.LC34:
 8582 0000 6C776970 		.ascii	"lwip_poll: invalid fds\000"
 8582      5F706F6C 
 8582      6C3A2069 
 8582      6E76616C 
 8582      69642066 
 8583 0017 00       		.align	2
 8584              	.LC35:
 8585 0018 74696D65 		.ascii	"timeout > 0\000"
 8585      6F757420 
 8585      3E203000 
 8586              		.section	.text.lwip_poll,"ax",%progbits
 8587              		.align	1
 8588              		.global	lwip_poll
 8589              		.syntax unified
 8590              		.thumb
 8591              		.thumb_func
 8593              	lwip_poll:
 8594              	.LVL919:
 8595              	.LFB401:
2320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 8596              		.loc 1 2320 1 view -0
 8597              		.cfi_startproc
 8598              		@ args = 0, pretend = 0, frame = 40
 8599              		@ frame_needed = 0, uses_anonymous_args = 0
2320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 8600              		.loc 1 2320 1 is_stmt 0 view .LVU2820
 8601 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 8602              	.LCFI103:
 8603              		.cfi_def_cfa_offset 20
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 266


 8604              		.cfi_offset 4, -20
 8605              		.cfi_offset 5, -16
 8606              		.cfi_offset 6, -12
 8607              		.cfi_offset 7, -8
 8608              		.cfi_offset 14, -4
 8609 0002 8BB0     		sub	sp, sp, #44
 8610              	.LCFI104:
 8611              		.cfi_def_cfa_offset 64
 8612 0004 1546     		mov	r5, r2
2321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8613              		.loc 1 2321 3 is_stmt 1 view .LVU2821
 8614              	.LVL920:
2322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
 8615              		.loc 1 2322 3 view .LVU2822
2323:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8616              		.loc 1 2323 3 view .LVU2823
2329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_poll: invalid fds", ((fds != NULL && nfds > 0) || (fds == NULL && nfds == 0)),
 8617              		.loc 1 2329 51 view .LVU2824
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8618              		.loc 1 2330 3 view .LVU2825
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8619              		.loc 1 2330 3 view .LVU2826
 8620 0006 0646     		mov	r6, r0
 8621 0008 0F46     		mov	r7, r1
 8622 000a 0029     		cmp	r1, #0
 8623 000c 18BF     		it	ne
 8624 000e 0028     		cmpne	r0, #0
 8625 0010 03D1     		bne	.L665
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8626              		.loc 1 2330 3 is_stmt 0 discriminator 1 view .LVU2827
 8627 0012 0029     		cmp	r1, #0
 8628 0014 08BF     		it	eq
 8629 0016 0028     		cmpeq	r0, #0
 8630 0018 0BD1     		bne	.L677
 8631              	.L665:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8632              		.loc 1 2330 3 is_stmt 1 discriminator 4 view .LVU2828
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8633              		.loc 1 2330 3 discriminator 4 view .LVU2829
2333:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8634              		.loc 1 2333 40 view .LVU2830
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8635              		.loc 1 2337 3 view .LVU2831
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8636              		.loc 1 2337 12 is_stmt 0 view .LVU2832
 8637 001a 0122     		movs	r2, #1
 8638              	.LVL921:
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8639              		.loc 1 2337 12 view .LVU2833
 8640 001c 3946     		mov	r1, r7
 8641              	.LVL922:
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8642              		.loc 1 2337 12 view .LVU2834
 8643 001e 3046     		mov	r0, r6
 8644              	.LVL923:
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8645              		.loc 1 2337 12 view .LVU2835
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 267


 8646 0020 FFF7FEFF 		bl	lwip_pollscan
 8647              	.LVL924:
2339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_poll_dec_sockets_used(fds, nfds);
 8648              		.loc 1 2339 3 is_stmt 1 view .LVU2836
2339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_poll_dec_sockets_used(fds, nfds);
 8649              		.loc 1 2339 6 is_stmt 0 view .LVU2837
 8650 0024 041E     		subs	r4, r0, #0
 8651 0026 4CDB     		blt	.L673
2345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_DECLARE(select_cb);
 8652              		.loc 1 2345 3 is_stmt 1 view .LVU2838
2345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_DECLARE(select_cb);
 8653              		.loc 1 2345 6 is_stmt 0 view .LVU2839
 8654 0028 04B9     		cbnz	r4, .L664
 8655              	.LBB92:
2346:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8656              		.loc 1 2346 5 is_stmt 1 view .LVU2840
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
 8657              		.loc 1 2348 5 view .LVU2841
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
 8658              		.loc 1 2348 8 is_stmt 0 view .LVU2842
 8659 002a 7DB9     		cbnz	r5, .L678
 8660              	.LVL925:
 8661              	.L664:
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
 8662              		.loc 1 2348 8 view .LVU2843
 8663              	.LBE92:
2431:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8664              		.loc 1 2431 1 view .LVU2844
 8665 002c 2046     		mov	r0, r4
 8666 002e 0BB0     		add	sp, sp, #44
 8667              	.LCFI105:
 8668              		.cfi_remember_state
 8669              		.cfi_def_cfa_offset 20
 8670              		@ sp needed
 8671 0030 F0BD     		pop	{r4, r5, r6, r7, pc}
 8672              	.LVL926:
 8673              	.L677:
 8674              	.LCFI106:
 8675              		.cfi_restore_state
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8676              		.loc 1 2330 3 is_stmt 1 discriminator 3 view .LVU2845
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8677              		.loc 1 2330 3 discriminator 3 view .LVU2846
 8678 0032 254B     		ldr	r3, .L681
 8679 0034 40F61A12 		movw	r2, #2330
 8680              	.LVL927:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8681              		.loc 1 2330 3 is_stmt 0 discriminator 3 view .LVU2847
 8682 0038 2449     		ldr	r1, .L681+4
 8683              	.LVL928:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8684              		.loc 1 2330 3 discriminator 3 view .LVU2848
 8685 003a 2548     		ldr	r0, .L681+8
 8686              	.LVL929:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8687              		.loc 1 2330 3 discriminator 3 view .LVU2849
 8688 003c FFF7FEFF 		bl	printf
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 268


 8689              	.LVL930:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8690              		.loc 1 2330 3 is_stmt 1 discriminator 1 view .LVU2850
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8691              		.loc 1 2330 3 discriminator 1 view .LVU2851
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8692              		.loc 1 2330 3 discriminator 1 view .LVU2852
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8693              		.loc 1 2330 3 discriminator 5 view .LVU2853
 8694 0040 244B     		ldr	r3, .L681+12
 8695 0042 1622     		movs	r2, #22
 8696 0044 1A60     		str	r2, [r3]
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8697              		.loc 1 2330 3 discriminator 7 view .LVU2854
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8698              		.loc 1 2330 3 discriminator 7 view .LVU2855
 8699 0046 4FF0FF34 		mov	r4, #-1
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8700              		.loc 1 2330 3 is_stmt 0 view .LVU2856
 8701 004a EFE7     		b	.L664
 8702              	.LVL931:
 8703              	.L678:
 8704              	.LBB93:
2352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
 8705              		.loc 1 2352 108 is_stmt 1 view .LVU2857
2353:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8706              		.loc 1 2353 5 view .LVU2858
 8707 004c 2422     		movs	r2, #36
 8708 004e 0021     		movs	r1, #0
 8709 0050 01A8     		add	r0, sp, #4
 8710              	.LVL932:
2353:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8711              		.loc 1 2353 5 is_stmt 0 view .LVU2859
 8712 0052 FFF7FEFF 		bl	memset
 8713              	.LVL933:
2360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_nfds = nfds;
 8714              		.loc 1 2360 5 is_stmt 1 view .LVU2860
2360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_nfds = nfds;
 8715              		.loc 1 2360 47 is_stmt 0 view .LVU2861
 8716 0056 0696     		str	r6, [sp, #24]
2361:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8717              		.loc 1 2361 5 is_stmt 1 view .LVU2862
2361:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8718              		.loc 1 2361 48 is_stmt 0 view .LVU2863
 8719 0058 0797     		str	r7, [sp, #28]
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
 8720              		.loc 1 2365 5 is_stmt 1 view .LVU2864
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
 8721              		.loc 1 2365 9 is_stmt 0 view .LVU2865
 8722 005a 0021     		movs	r1, #0
 8723 005c 09A8     		add	r0, sp, #36
 8724 005e FFF7FEFF 		bl	sys_sem_new
 8725              	.LVL934:
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
 8726              		.loc 1 2365 8 discriminator 1 view .LVU2866
 8727 0062 F0B9     		cbnz	r0, .L679
2374:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 269


 8728              		.loc 1 2374 5 is_stmt 1 view .LVU2867
 8729 0064 01A8     		add	r0, sp, #4
 8730 0066 FFF7FEFF 		bl	lwip_link_select_cb
 8731              	.LVL935:
2379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8732              		.loc 1 2379 5 view .LVU2868
2379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8733              		.loc 1 2379 14 is_stmt 0 view .LVU2869
 8734 006a 0222     		movs	r2, #2
 8735 006c 3946     		mov	r1, r7
 8736 006e 3046     		mov	r0, r6
 8737 0070 FFF7FEFF 		bl	lwip_pollscan
 8738              	.LVL936:
2381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Still none ready, just wait to be woken */
 8739              		.loc 1 2381 5 is_stmt 1 view .LVU2870
2381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Still none ready, just wait to be woken */
 8740              		.loc 1 2381 8 is_stmt 0 view .LVU2871
 8741 0074 30B9     		cbnz	r0, .L670
2383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Wait forever */
 8742              		.loc 1 2383 7 is_stmt 1 view .LVU2872
2383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Wait forever */
 8743              		.loc 1 2383 10 is_stmt 0 view .LVU2873
 8744 0076 002D     		cmp	r5, #0
 8745 0078 21DB     		blt	.L675
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8746              		.loc 1 2388 9 is_stmt 1 view .LVU2874
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8747              		.loc 1 2388 9 view .LVU2875
 8748 007a 18DD     		ble	.L680
 8749              	.LVL937:
 8750              	.L672:
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8751              		.loc 1 2388 9 discriminator 3 view .LVU2876
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8752              		.loc 1 2388 9 discriminator 3 view .LVU2877
2389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8753              		.loc 1 2389 9 view .LVU2878
2389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8754              		.loc 1 2389 21 is_stmt 0 view .LVU2879
 8755 007c 2946     		mov	r1, r5
 8756              	.LVL938:
 8757              	.L671:
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8758              		.loc 1 2391 7 is_stmt 1 view .LVU2880
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8759              		.loc 1 2391 17 is_stmt 0 view .LVU2881
 8760 007e 09A8     		add	r0, sp, #36
 8761 0080 FFF7FEFF 		bl	sys_arch_sem_wait
 8762              	.LVL939:
 8763              	.L670:
2399:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8764              		.loc 1 2399 5 is_stmt 1 view .LVU2882
2399:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8765              		.loc 1 2399 14 is_stmt 0 view .LVU2883
 8766 0084 0422     		movs	r2, #4
 8767 0086 3946     		mov	r1, r7
 8768 0088 3046     		mov	r0, r6
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 270


 8769 008a FFF7FEFF 		bl	lwip_pollscan
 8770              	.LVL940:
 8771 008e 0446     		mov	r4, r0
 8772              	.LVL941:
2401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8773              		.loc 1 2401 5 is_stmt 1 view .LVU2884
 8774 0090 01A8     		add	r0, sp, #4
 8775              	.LVL942:
2401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8776              		.loc 1 2401 5 is_stmt 0 view .LVU2885
 8777 0092 FFF7FEFF 		bl	lwip_unlink_select_cb
 8778              	.LVL943:
2409:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 8779              		.loc 1 2409 5 is_stmt 1 view .LVU2886
 8780 0096 09A8     		add	r0, sp, #36
 8781 0098 FFF7FEFF 		bl	sys_sem_free
 8782              	.LVL944:
2411:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8783              		.loc 1 2411 38 view .LVU2887
2413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This happens when a socket got closed while waiting */
 8784              		.loc 1 2413 5 view .LVU2888
2413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This happens when a socket got closed while waiting */
 8785              		.loc 1 2413 8 is_stmt 0 view .LVU2889
 8786 009c 002C     		cmp	r4, #0
 8787 009e C5DA     		bge	.L664
 8788 00a0 02E0     		b	.L669
 8789              	.LVL945:
 8790              	.L679:
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8791              		.loc 1 2367 7 is_stmt 1 view .LVU2890
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8792              		.loc 1 2367 7 view .LVU2891
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8793              		.loc 1 2367 7 discriminator 1 view .LVU2892
 8794 00a2 0C4B     		ldr	r3, .L681+12
 8795 00a4 0B22     		movs	r2, #11
 8796 00a6 1A60     		str	r2, [r3]
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8797              		.loc 1 2367 7 discriminator 3 view .LVU2893
2368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_FREE(select_cb);
 8798              		.loc 1 2368 44 view .LVU2894
2369:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 8799              		.loc 1 2369 40 view .LVU2895
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8800              		.loc 1 2370 7 view .LVU2896
 8801              	.LVL946:
 8802              	.L669:
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8803              		.loc 1 2370 14 is_stmt 0 discriminator 1 view .LVU2897
 8804 00a8 4FF0FF34 		mov	r4, #-1
 8805              	.LVL947:
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8806              		.loc 1 2370 14 discriminator 1 view .LVU2898
 8807 00ac BEE7     		b	.L664
 8808              	.LVL948:
 8809              	.L680:
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 271


 8810              		.loc 1 2388 9 is_stmt 1 discriminator 1 view .LVU2899
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8811              		.loc 1 2388 9 discriminator 1 view .LVU2900
 8812 00ae 064B     		ldr	r3, .L681
 8813 00b0 40F65412 		movw	r2, #2388
 8814 00b4 0849     		ldr	r1, .L681+16
 8815 00b6 0648     		ldr	r0, .L681+8
 8816              	.LVL949:
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8817              		.loc 1 2388 9 is_stmt 0 discriminator 1 view .LVU2901
 8818 00b8 FFF7FEFF 		bl	printf
 8819              	.LVL950:
 8820 00bc DEE7     		b	.L672
 8821              	.LVL951:
 8822              	.L675:
2385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 8823              		.loc 1 2385 21 view .LVU2902
 8824 00be 0021     		movs	r1, #0
 8825 00c0 DDE7     		b	.L671
 8826              	.L673:
2385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 8827              		.loc 1 2385 21 view .LVU2903
 8828              	.LBE93:
2341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8829              		.loc 1 2341 12 view .LVU2904
 8830 00c2 4FF0FF34 		mov	r4, #-1
 8831              	.LVL952:
2341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8832              		.loc 1 2341 12 view .LVU2905
 8833 00c6 B1E7     		b	.L664
 8834              	.L682:
 8835              		.align	2
 8836              	.L681:
 8837 00c8 00000000 		.word	.LC0
 8838 00cc 00000000 		.word	.LC34
 8839 00d0 48000000 		.word	.LC2
 8840 00d4 00000000 		.word	errno
 8841 00d8 18000000 		.word	.LC35
 8842              		.cfi_endproc
 8843              	.LFE401:
 8845              		.section	.text.lwip_shutdown,"ax",%progbits
 8846              		.align	1
 8847              		.global	lwip_shutdown
 8848              		.syntax unified
 8849              		.thumb
 8850              		.thumb_func
 8852              	lwip_shutdown:
 8853              	.LVL953:
 8854              	.LFB405:
2656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 8855              		.loc 1 2656 1 is_stmt 1 view -0
 8856              		.cfi_startproc
 8857              		@ args = 0, pretend = 0, frame = 0
 8858              		@ frame_needed = 0, uses_anonymous_args = 0
2656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 8859              		.loc 1 2656 1 is_stmt 0 view .LVU2907
 8860 0000 10B5     		push	{r4, lr}
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 272


 8861              	.LCFI107:
 8862              		.cfi_def_cfa_offset 8
 8863              		.cfi_offset 4, -8
 8864              		.cfi_offset 14, -4
 8865 0002 0C46     		mov	r4, r1
2657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 8866              		.loc 1 2657 3 is_stmt 1 view .LVU2908
2658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t shut_rx = 0, shut_tx = 0;
 8867              		.loc 1 2658 3 view .LVU2909
2659:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8868              		.loc 1 2659 3 view .LVU2910
 8869              	.LVL954:
2661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8870              		.loc 1 2661 70 view .LVU2911
2663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 8871              		.loc 1 2663 3 view .LVU2912
2663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 8872              		.loc 1 2663 10 is_stmt 0 view .LVU2913
 8873 0004 FFF7FEFF 		bl	get_socket
 8874              	.LVL955:
2664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 8875              		.loc 1 2664 3 is_stmt 1 view .LVU2914
2664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 8876              		.loc 1 2664 6 is_stmt 0 view .LVU2915
 8877 0008 80B3     		cbz	r0, .L689
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 8878              		.loc 1 2668 3 is_stmt 1 view .LVU2916
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 8879              		.loc 1 2668 11 is_stmt 0 view .LVU2917
 8880 000a 0068     		ldr	r0, [r0]
 8881              	.LVL956:
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 8882              		.loc 1 2668 6 view .LVU2918
 8883 000c A8B1     		cbz	r0, .L685
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 8884              		.loc 1 2669 5 is_stmt 1 view .LVU2919
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 8885              		.loc 1 2669 9 is_stmt 0 view .LVU2920
 8886 000e 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 8887              		.loc 1 2669 8 view .LVU2921
 8888 0010 03F0F003 		and	r3, r3, #240
 8889 0014 102B     		cmp	r3, #16
 8890 0016 0AD1     		bne	.L695
2680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
 8891              		.loc 1 2680 3 is_stmt 1 view .LVU2922
 8892 0018 012C     		cmp	r4, #1
 8893 001a 14D0     		beq	.L690
 8894 001c 022C     		cmp	r4, #2
 8895 001e 15D0     		beq	.L691
 8896 0020 0CB3     		cbz	r4, .L692
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8897              		.loc 1 2688 5 view .LVU2923
 8898              	.LBB94:
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8899              		.loc 1 2688 5 view .LVU2924
 8900              	.LVL957:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 273


2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8901              		.loc 1 2688 5 view .LVU2925
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8902              		.loc 1 2688 5 view .LVU2926
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8903              		.loc 1 2688 5 discriminator 1 view .LVU2927
 8904 0022 154B     		ldr	r3, .L696
 8905 0024 1622     		movs	r2, #22
 8906 0026 1A60     		str	r2, [r3]
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8907              		.loc 1 2688 5 discriminator 3 view .LVU2928
 8908              	.LBE94:
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8909              		.loc 1 2688 5 discriminator 3 view .LVU2929
2689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 8910              		.loc 1 2689 22 view .LVU2930
2690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8911              		.loc 1 2690 5 view .LVU2931
2690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8912              		.loc 1 2690 12 is_stmt 0 view .LVU2932
 8913 0028 4FF0FF30 		mov	r0, #-1
 8914 002c 1AE0     		b	.L683
 8915              	.LVL958:
 8916              	.L695:
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8917              		.loc 1 2670 7 is_stmt 1 view .LVU2933
 8918              	.LBB95:
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8919              		.loc 1 2670 7 view .LVU2934
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8920              		.loc 1 2670 7 view .LVU2935
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8921              		.loc 1 2670 7 view .LVU2936
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8922              		.loc 1 2670 7 discriminator 1 view .LVU2937
 8923 002e 124B     		ldr	r3, .L696
 8924 0030 5F22     		movs	r2, #95
 8925 0032 1A60     		str	r2, [r3]
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8926              		.loc 1 2670 7 discriminator 3 view .LVU2938
 8927              	.LBE95:
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8928              		.loc 1 2670 7 discriminator 3 view .LVU2939
2671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 8929              		.loc 1 2671 24 view .LVU2940
2672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8930              		.loc 1 2672 7 view .LVU2941
2672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8931              		.loc 1 2672 14 is_stmt 0 view .LVU2942
 8932 0034 4FF0FF30 		mov	r0, #-1
 8933 0038 14E0     		b	.L683
 8934              	.LVL959:
 8935              	.L685:
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8936              		.loc 1 2675 5 is_stmt 1 view .LVU2943
 8937              	.LBB96:
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 274


 8938              		.loc 1 2675 5 view .LVU2944
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8939              		.loc 1 2675 5 view .LVU2945
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8940              		.loc 1 2675 5 view .LVU2946
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8941              		.loc 1 2675 5 discriminator 1 view .LVU2947
 8942 003a 0F4B     		ldr	r3, .L696
 8943 003c 6B22     		movs	r2, #107
 8944 003e 1A60     		str	r2, [r3]
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8945              		.loc 1 2675 5 discriminator 3 view .LVU2948
 8946              	.LBE96:
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 8947              		.loc 1 2675 5 discriminator 3 view .LVU2949
2676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 8948              		.loc 1 2676 22 view .LVU2950
2677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8949              		.loc 1 2677 5 view .LVU2951
2677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8950              		.loc 1 2677 12 is_stmt 0 view .LVU2952
 8951 0040 4FF0FF30 		mov	r0, #-1
 8952 0044 0EE0     		b	.L683
 8953              	.LVL960:
 8954              	.L690:
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 8955              		.loc 1 2669 8 view .LVU2953
 8956 0046 0122     		movs	r2, #1
 8957 0048 0021     		movs	r1, #0
 8958 004a 01E0     		b	.L687
 8959              	.L691:
 8960 004c 0122     		movs	r2, #1
 8961 004e 1146     		mov	r1, r2
 8962              	.L687:
 8963              	.LVL961:
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8964              		.loc 1 2692 3 is_stmt 1 view .LVU2954
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8965              		.loc 1 2692 9 is_stmt 0 view .LVU2955
 8966 0050 FFF7FEFF 		bl	netconn_shutdown
 8967              	.LVL962:
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8968              		.loc 1 2692 9 view .LVU2956
 8969 0054 0446     		mov	r4, r0
 8970              	.LVL963:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8971              		.loc 1 2694 3 is_stmt 1 view .LVU2957
 8972              	.LBB97:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8973              		.loc 1 2694 3 view .LVU2958
 8974 0056 FFF7FEFF 		bl	err_to_errno
 8975              	.LVL964:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8976              		.loc 1 2694 3 discriminator 1 view .LVU2959
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8977              		.loc 1 2694 3 discriminator 1 view .LVU2960
 8978 005a 08B1     		cbz	r0, .L688
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 275


2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8979              		.loc 1 2694 3 discriminator 1 view .LVU2961
 8980 005c 064A     		ldr	r2, .L696
 8981 005e 1060     		str	r0, [r2]
 8982              	.L688:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8983              		.loc 1 2694 3 discriminator 3 view .LVU2962
 8984              	.LBE97:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8985              		.loc 1 2694 3 discriminator 3 view .LVU2963
2695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? 0 : -1);
 8986              		.loc 1 2695 20 view .LVU2964
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8987              		.loc 1 2696 3 view .LVU2965
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8988              		.loc 1 2696 29 is_stmt 0 view .LVU2966
 8989 0060 3CB9     		cbnz	r4, .L693
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8990              		.loc 1 2696 29 discriminator 1 view .LVU2967
 8991 0062 0020     		movs	r0, #0
 8992              	.LVL965:
 8993              	.L683:
2697:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8994              		.loc 1 2697 1 view .LVU2968
 8995 0064 10BD     		pop	{r4, pc}
 8996              	.LVL966:
 8997              	.L692:
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 8998              		.loc 1 2669 8 view .LVU2969
 8999 0066 0022     		movs	r2, #0
 9000 0068 0121     		movs	r1, #1
 9001 006a F1E7     		b	.L687
 9002              	.LVL967:
 9003              	.L689:
2665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9004              		.loc 1 2665 12 view .LVU2970
 9005 006c 4FF0FF30 		mov	r0, #-1
 9006              	.LVL968:
2665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9007              		.loc 1 2665 12 view .LVU2971
 9008 0070 F8E7     		b	.L683
 9009              	.LVL969:
 9010              	.L693:
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9011              		.loc 1 2696 29 discriminator 2 view .LVU2972
 9012 0072 4FF0FF30 		mov	r0, #-1
 9013              	.LVL970:
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9014              		.loc 1 2696 29 discriminator 2 view .LVU2973
 9015 0076 F5E7     		b	.L683
 9016              	.L697:
 9017              		.align	2
 9018              	.L696:
 9019 0078 00000000 		.word	errno
 9020              		.cfi_endproc
 9021              	.LFE405:
 9023              		.section	.text.lwip_getpeername,"ax",%progbits
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 276


 9024              		.align	1
 9025              		.global	lwip_getpeername
 9026              		.syntax unified
 9027              		.thumb
 9028              		.thumb_func
 9030              	lwip_getpeername:
 9031              	.LVL971:
 9032              	.LFB407:
2748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
 9033              		.loc 1 2748 1 is_stmt 1 view -0
 9034              		.cfi_startproc
 9035              		@ args = 0, pretend = 0, frame = 0
 9036              		@ frame_needed = 0, uses_anonymous_args = 0
2748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
 9037              		.loc 1 2748 1 is_stmt 0 view .LVU2975
 9038 0000 08B5     		push	{r3, lr}
 9039              	.LCFI108:
 9040              		.cfi_def_cfa_offset 8
 9041              		.cfi_offset 3, -8
 9042              		.cfi_offset 14, -4
2749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9043              		.loc 1 2749 3 is_stmt 1 view .LVU2976
2749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9044              		.loc 1 2749 10 is_stmt 0 view .LVU2977
 9045 0002 0023     		movs	r3, #0
 9046 0004 FFF7FEFF 		bl	lwip_getaddrname
 9047              	.LVL972:
2750:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9048              		.loc 1 2750 1 view .LVU2978
 9049 0008 08BD     		pop	{r3, pc}
 9050              		.cfi_endproc
 9051              	.LFE407:
 9053              		.section	.text.lwip_getsockname,"ax",%progbits
 9054              		.align	1
 9055              		.global	lwip_getsockname
 9056              		.syntax unified
 9057              		.thumb
 9058              		.thumb_func
 9060              	lwip_getsockname:
 9061              	.LVL973:
 9062              	.LFB408:
2754:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
 9063              		.loc 1 2754 1 is_stmt 1 view -0
 9064              		.cfi_startproc
 9065              		@ args = 0, pretend = 0, frame = 0
 9066              		@ frame_needed = 0, uses_anonymous_args = 0
2754:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
 9067              		.loc 1 2754 1 is_stmt 0 view .LVU2980
 9068 0000 08B5     		push	{r3, lr}
 9069              	.LCFI109:
 9070              		.cfi_def_cfa_offset 8
 9071              		.cfi_offset 3, -8
 9072              		.cfi_offset 14, -4
2755:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9073              		.loc 1 2755 3 is_stmt 1 view .LVU2981
2755:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9074              		.loc 1 2755 10 is_stmt 0 view .LVU2982
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 277


 9075 0002 0123     		movs	r3, #1
 9076 0004 FFF7FEFF 		bl	lwip_getaddrname
 9077              	.LVL974:
2756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9078              		.loc 1 2756 1 view .LVU2983
 9079 0008 08BD     		pop	{r3, pc}
 9080              		.cfi_endproc
 9081              	.LFE408:
 9083              		.section	.text.lwip_getsockopt,"ax",%progbits
 9084              		.align	1
 9085              		.global	lwip_getsockopt
 9086              		.syntax unified
 9087              		.thumb
 9088              		.thumb_func
 9090              	lwip_getsockopt:
 9091              	.LVL975:
 9092              	.LFB409:
2760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err;
 9093              		.loc 1 2760 1 is_stmt 1 view -0
 9094              		.cfi_startproc
 9095              		@ args = 4, pretend = 0, frame = 0
 9096              		@ frame_needed = 0, uses_anonymous_args = 0
2760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err;
 9097              		.loc 1 2760 1 is_stmt 0 view .LVU2985
 9098 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 9099              	.LCFI110:
 9100              		.cfi_def_cfa_offset 28
 9101              		.cfi_offset 4, -28
 9102              		.cfi_offset 5, -24
 9103              		.cfi_offset 6, -20
 9104              		.cfi_offset 7, -16
 9105              		.cfi_offset 8, -12
 9106              		.cfi_offset 9, -8
 9107              		.cfi_offset 14, -4
 9108 0004 83B0     		sub	sp, sp, #12
 9109              	.LCFI111:
 9110              		.cfi_def_cfa_offset 40
 9111 0006 0546     		mov	r5, r0
 9112 0008 0E46     		mov	r6, r1
 9113 000a 1746     		mov	r7, r2
 9114 000c 1C46     		mov	r4, r3
 9115 000e DDF82880 		ldr	r8, [sp, #40]
2761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9116              		.loc 1 2761 3 is_stmt 1 view .LVU2986
2762:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9117              		.loc 1 2762 3 view .LVU2987
2762:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9118              		.loc 1 2762 28 is_stmt 0 view .LVU2988
 9119 0012 FFF7FEFF 		bl	get_socket
 9120              	.LVL976:
2768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9121              		.loc 1 2768 3 is_stmt 1 view .LVU2989
2768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9122              		.loc 1 2768 6 is_stmt 0 view .LVU2990
 9123 0016 28B3     		cbz	r0, .L705
2772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9124              		.loc 1 2772 3 is_stmt 1 view .LVU2991
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 278


2772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9125              		.loc 1 2772 6 is_stmt 0 view .LVU2992
 9126 0018 B8F1000F 		cmp	r8, #0
 9127 001c 18BF     		it	ne
 9128 001e 002C     		cmpne	r4, #0
 9129 0020 15D0     		beq	.L707
2780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
 9130              		.loc 1 2780 3 is_stmt 1 view .LVU2993
 9131 0022 DFF84C90 		ldr	r9, .L709+4
 9132 0026 4846     		mov	r0, r9
 9133              	.LVL977:
2780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
 9134              		.loc 1 2780 3 is_stmt 0 view .LVU2994
 9135 0028 FFF7FEFF 		bl	sys_mutex_lock
 9136              	.LVL978:
2781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9137              		.loc 1 2781 3 is_stmt 1 view .LVU2995
2781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9138              		.loc 1 2781 9 is_stmt 0 view .LVU2996
 9139 002c CDF80080 		str	r8, [sp]
 9140 0030 2346     		mov	r3, r4
 9141 0032 3A46     		mov	r2, r7
 9142 0034 3146     		mov	r1, r6
 9143 0036 2846     		mov	r0, r5
 9144 0038 FFF7FEFF 		bl	lwip_getsockopt_impl
 9145              	.LVL979:
 9146 003c 0446     		mov	r4, r0
 9147              	.LVL980:
2782:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9148              		.loc 1 2782 3 is_stmt 1 view .LVU2997
 9149 003e 4846     		mov	r0, r9
 9150              	.LVL981:
2782:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9151              		.loc 1 2782 3 is_stmt 0 view .LVU2998
 9152 0040 FFF7FEFF 		bl	sys_mutex_unlock
 9153              	.LVL982:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9154              		.loc 1 2830 3 is_stmt 1 view .LVU2999
 9155              	.LBB98:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9156              		.loc 1 2830 3 view .LVU3000
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9157              		.loc 1 2830 3 view .LVU3001
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9158              		.loc 1 2830 3 view .LVU3002
 9159 0044 4CB9     		cbnz	r4, .L708
 9160              	.LVL983:
 9161              	.L702:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9162              		.loc 1 2830 3 is_stmt 0 view .LVU3003
 9163              	.LBE98:
2833:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9164              		.loc 1 2833 1 view .LVU3004
 9165 0046 2046     		mov	r0, r4
 9166 0048 03B0     		add	sp, sp, #12
 9167              	.LCFI112:
 9168              		.cfi_remember_state
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 279


 9169              		.cfi_def_cfa_offset 28
 9170              		@ sp needed
 9171 004a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 9172              	.LVL984:
 9173              	.L707:
 9174              	.LCFI113:
 9175              		.cfi_restore_state
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9176              		.loc 1 2773 5 is_stmt 1 view .LVU3005
 9177              	.LBB99:
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9178              		.loc 1 2773 5 view .LVU3006
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9179              		.loc 1 2773 5 view .LVU3007
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9180              		.loc 1 2773 5 view .LVU3008
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9181              		.loc 1 2773 5 discriminator 1 view .LVU3009
 9182 004e 074B     		ldr	r3, .L709
 9183 0050 0E22     		movs	r2, #14
 9184 0052 1A60     		str	r2, [r3]
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9185              		.loc 1 2773 5 discriminator 3 view .LVU3010
 9186              	.LBE99:
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9187              		.loc 1 2773 5 discriminator 3 view .LVU3011
2774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9188              		.loc 1 2774 22 view .LVU3012
2775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9189              		.loc 1 2775 5 view .LVU3013
2775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9190              		.loc 1 2775 12 is_stmt 0 view .LVU3014
 9191 0054 4FF0FF34 		mov	r4, #-1
 9192              	.LVL985:
2775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9193              		.loc 1 2775 12 view .LVU3015
 9194 0058 F5E7     		b	.L702
 9195              	.LVL986:
 9196              	.L708:
 9197              	.LBB100:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9198              		.loc 1 2830 3 is_stmt 1 discriminator 1 view .LVU3016
 9199 005a 044B     		ldr	r3, .L709
 9200 005c 1C60     		str	r4, [r3]
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9201              		.loc 1 2830 3 discriminator 3 view .LVU3017
 9202              	.LBE100:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9203              		.loc 1 2830 3 discriminator 3 view .LVU3018
2831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
 9204              		.loc 1 2831 20 view .LVU3019
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9205              		.loc 1 2832 3 view .LVU3020
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9206              		.loc 1 2832 19 is_stmt 0 discriminator 1 view .LVU3021
 9207 005e 4FF0FF34 		mov	r4, #-1
 9208              	.LVL987:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 280


2832:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9209              		.loc 1 2832 19 discriminator 1 view .LVU3022
 9210 0062 F0E7     		b	.L702
 9211              	.LVL988:
 9212              	.L705:
2769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9213              		.loc 1 2769 12 view .LVU3023
 9214 0064 4FF0FF34 		mov	r4, #-1
 9215              	.LVL989:
2769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9216              		.loc 1 2769 12 view .LVU3024
 9217 0068 EDE7     		b	.L702
 9218              	.L710:
 9219 006a 00BF     		.align	2
 9220              	.L709:
 9221 006c 00000000 		.word	errno
 9222 0070 00000000 		.word	lock_tcpip_core
 9223              		.cfi_endproc
 9224              	.LFE409:
 9226              		.section	.text.lwip_setsockopt,"ax",%progbits
 9227              		.align	1
 9228              		.global	lwip_setsockopt
 9229              		.syntax unified
 9230              		.thumb
 9231              		.thumb_func
 9233              	lwip_setsockopt:
 9234              	.LVL990:
 9235              	.LFB412:
3206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
 9236              		.loc 1 3206 1 is_stmt 1 view -0
 9237              		.cfi_startproc
 9238              		@ args = 4, pretend = 0, frame = 0
 9239              		@ frame_needed = 0, uses_anonymous_args = 0
3206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
 9240              		.loc 1 3206 1 is_stmt 0 view .LVU3026
 9241 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 9242              	.LCFI114:
 9243              		.cfi_def_cfa_offset 24
 9244              		.cfi_offset 4, -24
 9245              		.cfi_offset 5, -20
 9246              		.cfi_offset 6, -16
 9247              		.cfi_offset 7, -12
 9248              		.cfi_offset 8, -8
 9249              		.cfi_offset 14, -4
 9250 0004 82B0     		sub	sp, sp, #8
 9251              	.LCFI115:
 9252              		.cfi_def_cfa_offset 32
 9253 0006 0546     		mov	r5, r0
 9254 0008 8846     		mov	r8, r1
 9255 000a 1646     		mov	r6, r2
 9256 000c 1C46     		mov	r4, r3
3207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9257              		.loc 1 3207 3 is_stmt 1 view .LVU3027
 9258              	.LVL991:
3208:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9259              		.loc 1 3208 3 view .LVU3028
3208:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 281


 9260              		.loc 1 3208 28 is_stmt 0 view .LVU3029
 9261 000e FFF7FEFF 		bl	get_socket
 9262              	.LVL992:
3214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9263              		.loc 1 3214 3 is_stmt 1 view .LVU3030
3214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9264              		.loc 1 3214 6 is_stmt 0 view .LVU3031
 9265 0012 00B3     		cbz	r0, .L714
3218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9266              		.loc 1 3218 3 is_stmt 1 view .LVU3032
3218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9267              		.loc 1 3218 6 is_stmt 0 view .LVU3033
 9268 0014 A4B1     		cbz	r4, .L716
3226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
 9269              		.loc 1 3226 3 is_stmt 1 view .LVU3034
 9270 0016 114F     		ldr	r7, .L718
 9271 0018 3846     		mov	r0, r7
 9272              	.LVL993:
3226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
 9273              		.loc 1 3226 3 is_stmt 0 view .LVU3035
 9274 001a FFF7FEFF 		bl	sys_mutex_lock
 9275              	.LVL994:
3227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9276              		.loc 1 3227 3 is_stmt 1 view .LVU3036
3227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9277              		.loc 1 3227 9 is_stmt 0 view .LVU3037
 9278 001e 089B     		ldr	r3, [sp, #32]
 9279 0020 0093     		str	r3, [sp]
 9280 0022 2346     		mov	r3, r4
 9281 0024 3246     		mov	r2, r6
 9282 0026 4146     		mov	r1, r8
 9283 0028 2846     		mov	r0, r5
 9284 002a FFF7FEFF 		bl	lwip_setsockopt_impl
 9285              	.LVL995:
 9286 002e 0446     		mov	r4, r0
 9287              	.LVL996:
3228:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9288              		.loc 1 3228 3 is_stmt 1 view .LVU3038
 9289 0030 3846     		mov	r0, r7
 9290              	.LVL997:
3228:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9291              		.loc 1 3228 3 is_stmt 0 view .LVU3039
 9292 0032 FFF7FEFF 		bl	sys_mutex_unlock
 9293              	.LVL998:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9294              		.loc 1 3271 3 is_stmt 1 view .LVU3040
 9295              	.LBB101:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9296              		.loc 1 3271 3 view .LVU3041
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9297              		.loc 1 3271 3 view .LVU3042
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9298              		.loc 1 3271 3 view .LVU3043
 9299 0036 4CB9     		cbnz	r4, .L717
 9300              	.LVL999:
 9301              	.L711:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 282


 9302              		.loc 1 3271 3 is_stmt 0 view .LVU3044
 9303              	.LBE101:
3274:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9304              		.loc 1 3274 1 view .LVU3045
 9305 0038 2046     		mov	r0, r4
 9306 003a 02B0     		add	sp, sp, #8
 9307              	.LCFI116:
 9308              		.cfi_remember_state
 9309              		.cfi_def_cfa_offset 24
 9310              		@ sp needed
 9311 003c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 9312              	.LVL1000:
 9313              	.L716:
 9314              	.LCFI117:
 9315              		.cfi_restore_state
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9316              		.loc 1 3219 5 is_stmt 1 view .LVU3046
 9317              	.LBB102:
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9318              		.loc 1 3219 5 view .LVU3047
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9319              		.loc 1 3219 5 view .LVU3048
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9320              		.loc 1 3219 5 view .LVU3049
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9321              		.loc 1 3219 5 discriminator 1 view .LVU3050
 9322 0040 074B     		ldr	r3, .L718+4
 9323 0042 0E22     		movs	r2, #14
 9324 0044 1A60     		str	r2, [r3]
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9325              		.loc 1 3219 5 discriminator 3 view .LVU3051
 9326              	.LBE102:
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9327              		.loc 1 3219 5 discriminator 3 view .LVU3052
3220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9328              		.loc 1 3220 22 view .LVU3053
3221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9329              		.loc 1 3221 5 view .LVU3054
3221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9330              		.loc 1 3221 12 is_stmt 0 view .LVU3055
 9331 0046 4FF0FF34 		mov	r4, #-1
 9332              	.LVL1001:
3221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9333              		.loc 1 3221 12 view .LVU3056
 9334 004a F5E7     		b	.L711
 9335              	.LVL1002:
 9336              	.L717:
 9337              	.LBB103:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9338              		.loc 1 3271 3 is_stmt 1 discriminator 1 view .LVU3057
 9339 004c 044B     		ldr	r3, .L718+4
 9340 004e 1C60     		str	r4, [r3]
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9341              		.loc 1 3271 3 discriminator 3 view .LVU3058
 9342              	.LBE103:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9343              		.loc 1 3271 3 discriminator 3 view .LVU3059
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 283


3272:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
 9344              		.loc 1 3272 20 view .LVU3060
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9345              		.loc 1 3273 3 view .LVU3061
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9346              		.loc 1 3273 19 is_stmt 0 discriminator 1 view .LVU3062
 9347 0050 4FF0FF34 		mov	r4, #-1
 9348              	.LVL1003:
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9349              		.loc 1 3273 19 discriminator 1 view .LVU3063
 9350 0054 F0E7     		b	.L711
 9351              	.LVL1004:
 9352              	.L714:
3215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9353              		.loc 1 3215 12 view .LVU3064
 9354 0056 4FF0FF34 		mov	r4, #-1
 9355              	.LVL1005:
3215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9356              		.loc 1 3215 12 view .LVU3065
 9357 005a EDE7     		b	.L711
 9358              	.L719:
 9359              		.align	2
 9360              	.L718:
 9361 005c 00000000 		.word	lock_tcpip_core
 9362 0060 00000000 		.word	errno
 9363              		.cfi_endproc
 9364              	.LFE412:
 9366              		.section	.text.lwip_ioctl,"ax",%progbits
 9367              		.align	1
 9368              		.global	lwip_ioctl
 9369              		.syntax unified
 9370              		.thumb
 9371              		.thumb_func
 9373              	lwip_ioctl:
 9374              	.LVL1006:
 9375              	.LFB414:
3741:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3742:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_ioctl(int s, long cmd, void *argp)
3744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 9376              		.loc 1 3744 1 is_stmt 1 view -0
 9377              		.cfi_startproc
 9378              		@ args = 0, pretend = 0, frame = 0
 9379              		@ frame_needed = 0, uses_anonymous_args = 0
 9380              		.loc 1 3744 1 is_stmt 0 view .LVU3067
 9381 0000 38B5     		push	{r3, r4, r5, lr}
 9382              	.LCFI118:
 9383              		.cfi_def_cfa_offset 16
 9384              		.cfi_offset 3, -16
 9385              		.cfi_offset 4, -12
 9386              		.cfi_offset 5, -8
 9387              		.cfi_offset 14, -4
 9388 0002 0D46     		mov	r5, r1
 9389 0004 1446     		mov	r4, r2
3745:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9390              		.loc 1 3745 3 is_stmt 1 view .LVU3068
 9391              		.loc 1 3745 28 is_stmt 0 view .LVU3069
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 284


 9392 0006 FFF7FEFF 		bl	get_socket
 9393              	.LVL1007:
3746:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t val;
 9394              		.loc 1 3746 3 is_stmt 1 view .LVU3070
3747:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
3748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int recv_avail;
3749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3750:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3751:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 9395              		.loc 1 3751 3 view .LVU3071
 9396              		.loc 1 3751 6 is_stmt 0 view .LVU3072
 9397 000a D0B1     		cbz	r0, .L724
 9398 000c 0246     		mov	r2, r0
3752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3753:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3755:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (cmd) {
 9399              		.loc 1 3755 3 is_stmt 1 view .LVU3073
 9400 000e 0E4B     		ldr	r3, .L726
 9401 0010 9D42     		cmp	r5, r3
 9402 0012 10D1     		bne	.L722
3756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF || LWIP_FIONREAD_LINUXMODE
3757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case FIONREAD:
3758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (!argp) {
3759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, EINVAL);
3760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
3762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3763:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_FIONREAD_LINUXMODE
3764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
3765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         struct netbuf *nb;
3766:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock->lastdata.netbuf) {
3767:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           nb = sock->lastdata.netbuf;
3768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *((int *)argp) = nb->p->tot_len;
3769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
3770:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct netbuf *rxbuf;
3771:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err_t err = netconn_recv_udp_raw_netbuf_flags(sock->conn, &rxbuf, NETCONN_DONTBLOCK);
3772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (err != ERR_OK) {
3773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *((int *)argp) = 0;
3774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->lastdata.netbuf = rxbuf;
3776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *((int *)argp) = rxbuf->p->tot_len;
3777:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3778:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 0;
3781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3782:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_FIONREAD_LINUXMODE */
3783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
3785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* we come here if either LWIP_FIONREAD_LINUXMODE==0 or this is a TCP socket */
3786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_GET(sock->conn->recv_avail, recv_avail);
3787:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recv_avail < 0) {
3788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         recv_avail = 0;
3789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3790:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3791:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Check if there is data left from the last recv operation. /maq 041215 */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 285


3792:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->lastdata.netbuf) {
3793:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
3794:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           recv_avail += sock->lastdata.pbuf->tot_len;
3795:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
3796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           recv_avail += sock->lastdata.netbuf->p->tot_len;
3797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3798:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3799:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *((int *)argp) = recv_avail;
3800:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONREAD, %p) = %"U16_F"\n", s, argp, *((u16_t *)
3802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
3803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
3804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return 0;
3805:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_SO_RCVBUF */
3806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3807:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3808:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF || LWIP_FIONREAD_LINUXMODE */
3809:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case (long)FIONBIO:
3811:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       val = 0;
 9403              		.loc 1 3811 7 view .LVU3074
 9404              	.LVL1008:
3812:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (argp && *(int *)argp) {
 9405              		.loc 1 3812 7 view .LVU3075
 9406              		.loc 1 3812 10 is_stmt 0 view .LVU3076
 9407 0014 44B1     		cbz	r4, .L723
 9408              		.loc 1 3812 19 discriminator 1 view .LVU3077
 9409 0016 2368     		ldr	r3, [r4]
 9410              		.loc 1 3812 16 discriminator 1 view .LVU3078
 9411 0018 33B1     		cbz	r3, .L723
3813:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         val = 1;
 9412              		.loc 1 3813 9 is_stmt 1 view .LVU3079
 9413              	.LVL1009:
3814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_set_nonblocking(sock->conn, val);
 9414              		.loc 1 3815 7 view .LVU3080
 9415              		.loc 1 3815 7 view .LVU3081
 9416              		.loc 1 3815 7 discriminator 1 view .LVU3082
 9417              		.loc 1 3815 7 discriminator 1 view .LVU3083
 9418 001a 0268     		ldr	r2, [r0]
 9419 001c 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9420 001e 43F00203 		orr	r3, r3, #2
 9421 0022 1377     		strb	r3, [r2, #28]
 9422              		.loc 1 3815 7 discriminator 1 view .LVU3084
3816:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
3817:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
3818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
3819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return 0;
 9423              		.loc 1 3819 14 is_stmt 0 view .LVU3085
 9424 0024 0020     		movs	r0, #0
 9425              	.LVL1010:
 9426              		.loc 1 3819 14 view .LVU3086
 9427 0026 05E0     		b	.L720
 9428              	.LVL1011:
 9429              	.L723:
3815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
 9430              		.loc 1 3815 7 is_stmt 1 discriminator 2 view .LVU3087
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 286


3815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
 9431              		.loc 1 3815 7 discriminator 2 view .LVU3088
 9432 0028 1268     		ldr	r2, [r2]
 9433 002a 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9434 002c 03F0FD03 		and	r3, r3, #253
 9435 0030 1377     		strb	r3, [r2, #28]
 9436              		.loc 1 3819 14 is_stmt 0 view .LVU3089
 9437 0032 0020     		movs	r0, #0
 9438              	.LVL1012:
 9439              	.L720:
3820:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3823:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } /* switch (cmd) */
3824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, UNIMPL: 0x%lx, %p)\n", s, cmd, argp));
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, ENOSYS); /* not yet implemented */
3826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
3828:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9440              		.loc 1 3828 1 view .LVU3090
 9441 0034 38BD     		pop	{r3, r4, r5, pc}
 9442              	.LVL1013:
 9443              	.L722:
3822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } /* switch (cmd) */
 9444              		.loc 1 3822 7 is_stmt 1 view .LVU3091
3824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, ENOSYS); /* not yet implemented */
 9445              		.loc 1 3824 84 view .LVU3092
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9446              		.loc 1 3825 3 view .LVU3093
 9447              	.LBB104:
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9448              		.loc 1 3825 3 view .LVU3094
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9449              		.loc 1 3825 3 view .LVU3095
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9450              		.loc 1 3825 3 view .LVU3096
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9451              		.loc 1 3825 3 discriminator 1 view .LVU3097
 9452 0036 054B     		ldr	r3, .L726+4
 9453 0038 2622     		movs	r2, #38
 9454 003a 1A60     		str	r2, [r3]
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9455              		.loc 1 3825 3 discriminator 3 view .LVU3098
 9456              	.LBE104:
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9457              		.loc 1 3825 3 discriminator 3 view .LVU3099
3826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
 9458              		.loc 1 3826 20 view .LVU3100
3827:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9459              		.loc 1 3827 3 view .LVU3101
3827:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9460              		.loc 1 3827 10 is_stmt 0 view .LVU3102
 9461 003c 4FF0FF30 		mov	r0, #-1
 9462              	.LVL1014:
3827:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9463              		.loc 1 3827 10 view .LVU3103
 9464 0040 F8E7     		b	.L720
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 287


 9465              	.LVL1015:
 9466              	.L724:
3752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9467              		.loc 1 3752 12 view .LVU3104
 9468 0042 4FF0FF30 		mov	r0, #-1
 9469              	.LVL1016:
3752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9470              		.loc 1 3752 12 view .LVU3105
 9471 0046 F5E7     		b	.L720
 9472              	.L727:
 9473              		.align	2
 9474              	.L726:
 9475 0048 7E660480 		.word	-2147195266
 9476 004c 00000000 		.word	errno
 9477              		.cfi_endproc
 9478              	.LFE414:
 9480              		.section	.text.lwip_fcntl,"ax",%progbits
 9481              		.align	1
 9482              		.global	lwip_fcntl
 9483              		.syntax unified
 9484              		.thumb
 9485              		.thumb_func
 9487              	lwip_fcntl:
 9488              	.LVL1017:
 9489              	.LFB415:
3829:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3830:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** A minimal implementation of fcntl.
3831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Currently only the commands F_GETFL and F_SETFL are implemented.
3832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * The flag O_NONBLOCK and access modes are supported for F_GETFL, only
3833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * the flag O_NONBLOCK is implemented for F_SETFL.
3834:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
3835:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3836:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_fcntl(int s, int cmd, int val)
3837:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 9490              		.loc 1 3837 1 is_stmt 1 view -0
 9491              		.cfi_startproc
 9492              		@ args = 0, pretend = 0, frame = 0
 9493              		@ frame_needed = 0, uses_anonymous_args = 0
 9494              		.loc 1 3837 1 is_stmt 0 view .LVU3107
 9495 0000 70B5     		push	{r4, r5, r6, lr}
 9496              	.LCFI119:
 9497              		.cfi_def_cfa_offset 16
 9498              		.cfi_offset 4, -16
 9499              		.cfi_offset 5, -12
 9500              		.cfi_offset 6, -8
 9501              		.cfi_offset 14, -4
 9502 0002 0D46     		mov	r5, r1
 9503 0004 1446     		mov	r4, r2
3838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9504              		.loc 1 3838 3 is_stmt 1 view .LVU3108
 9505              		.loc 1 3838 28 is_stmt 0 view .LVU3109
 9506 0006 FFF7FEFF 		bl	get_socket
 9507              	.LVL1018:
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int ret = -1;
 9508              		.loc 1 3839 3 is_stmt 1 view .LVU3110
3840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9509              		.loc 1 3840 3 view .LVU3111
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 288


3841:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3842:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 9510              		.loc 1 3842 3 view .LVU3112
 9511              		.loc 1 3842 6 is_stmt 0 view .LVU3113
 9512 000a 0028     		cmp	r0, #0
 9513 000c 49D0     		beq	.L738
 9514 000e 0646     		mov	r6, r0
3843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3846:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (cmd) {
 9515              		.loc 1 3846 3 is_stmt 1 view .LVU3114
 9516 0010 032D     		cmp	r5, #3
 9517 0012 07D0     		beq	.L730
 9518 0014 042D     		cmp	r5, #4
 9519 0016 2AD0     		beq	.L731
3847:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case F_GETFL:
3848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = netconn_is_nonblocking(sock->conn) ? O_NONBLOCK : 0;
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
3850:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
3852:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
3853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LOCK_TCPIP_CORE();
3854:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
3855:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_DECL_PROTECT(lev);
3856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* the proper thing to do here would be to get into the tcpip_thread,
3857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            but locking should be OK as well since we only *read* some flags */
3858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_PROTECT(lev);
3859:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3860:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock->conn->pcb.tcp) {
3862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
3863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_RDONLY;
3864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_FIN)) {
3866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_WRONLY;
3867:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3869:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3870:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
3871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         UNLOCK_TCPIP_CORE();
3872:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
3873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
3874:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
3876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         op_mode |= O_RDWR;
3877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3878:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ensure O_RDWR for (O_RDONLY|O_WRONLY) != O_RDWR cases */
3880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret |= (op_mode == (O_RDONLY | O_WRONLY)) ? O_RDWR : op_mode;
3881:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case F_SETFL:
3884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Bits corresponding to the file access mode and the file creation flags [..] that are set i
3885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       val &= ~(O_RDONLY | O_WRONLY | O_RDWR);
3886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((val & ~O_NONBLOCK) == 0) {
3887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 289


3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         netconn_set_nonblocking(sock->conn, val & O_NONBLOCK);
3889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
3890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, 0);
3891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, ENOSYS); /* not yet implemented */
3893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3895:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3896:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_fcntl(%d, UNIMPL: %d, %d)\n", s, cmd, val));
 9520              		.loc 1 3896 84 view .LVU3115
3897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, ENOSYS); /* not yet implemented */
 9521              		.loc 1 3897 7 view .LVU3116
 9522              	.LBB105:
 9523              		.loc 1 3897 7 view .LVU3117
 9524              	.LVL1019:
 9525              		.loc 1 3897 7 view .LVU3118
 9526              		.loc 1 3897 7 view .LVU3119
 9527              		.loc 1 3897 7 discriminator 1 view .LVU3120
 9528 0018 234B     		ldr	r3, .L745
 9529 001a 2622     		movs	r2, #38
 9530 001c 1A60     		str	r2, [r3]
 9531              		.loc 1 3897 7 discriminator 3 view .LVU3121
 9532              	.LBE105:
 9533              		.loc 1 3897 7 discriminator 3 view .LVU3122
3898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9534              		.loc 1 3898 7 view .LVU3123
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9535              		.loc 1 3839 7 is_stmt 0 view .LVU3124
 9536 001e 4FF0FF30 		mov	r0, #-1
 9537              	.LVL1020:
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9538              		.loc 1 3839 7 view .LVU3125
 9539 0022 0BE0     		b	.L728
 9540              	.LVL1021:
 9541              	.L730:
3848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
 9542              		.loc 1 3848 7 is_stmt 1 view .LVU3126
3848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
 9543              		.loc 1 3848 13 is_stmt 0 view .LVU3127
 9544 0024 0368     		ldr	r3, [r0]
 9545 0026 1D7F     		ldrb	r5, [r3, #28]	@ zero_extendqisi2
 9546              	.LVL1022:
3848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
 9547              		.loc 1 3848 11 view .LVU3128
 9548 0028 C5F34005 		ubfx	r5, r5, #1, #1
 9549              	.LVL1023:
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9550              		.loc 1 3849 7 is_stmt 1 view .LVU3129
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9551              		.loc 1 3849 7 view .LVU3130
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9552              		.loc 1 3849 7 view .LVU3131
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9553              		.loc 1 3849 7 view .LVU3132
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9554              		.loc 1 3849 7 discriminator 3 view .LVU3133
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 290


 9555              		.loc 1 3849 7 discriminator 3 view .LVU3134
3851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 9556              		.loc 1 3851 7 view .LVU3135
3851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 9557              		.loc 1 3851 11 is_stmt 0 view .LVU3136
 9558 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
3851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 9559              		.loc 1 3851 10 view .LVU3137
 9560 002e 03F0F003 		and	r3, r3, #240
 9561 0032 102B     		cmp	r3, #16
 9562 0034 03D0     		beq	.L744
3876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9563              		.loc 1 3876 17 view .LVU3138
 9564 0036 0624     		movs	r4, #6
 9565              	.LVL1024:
 9566              	.L733:
3880:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9567              		.loc 1 3880 7 is_stmt 1 view .LVU3139
3880:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9568              		.loc 1 3880 11 is_stmt 0 view .LVU3140
 9569 0038 44EA0500 		orr	r0, r4, r5
 9570              	.LVL1025:
3882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case F_SETFL:
 9571              		.loc 1 3882 7 is_stmt 1 view .LVU3141
 9572              	.L728:
3899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
3902:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9573              		.loc 1 3902 1 is_stmt 0 view .LVU3142
 9574 003c 70BD     		pop	{r4, r5, r6, pc}
 9575              	.LVL1026:
 9576              	.L744:
3853:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 9577              		.loc 1 3853 9 is_stmt 1 view .LVU3143
 9578 003e 1B48     		ldr	r0, .L745+4
 9579              	.LVL1027:
3853:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 9580              		.loc 1 3853 9 is_stmt 0 view .LVU3144
 9581 0040 FFF7FEFF 		bl	sys_mutex_lock
 9582              	.LVL1028:
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9583              		.loc 1 3861 9 is_stmt 1 view .LVU3145
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9584              		.loc 1 3861 17 is_stmt 0 view .LVU3146
 9585 0044 3368     		ldr	r3, [r6]
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9586              		.loc 1 3861 28 view .LVU3147
 9587 0046 5B68     		ldr	r3, [r3, #4]
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9588              		.loc 1 3861 12 view .LVU3148
 9589 0048 7BB1     		cbz	r3, .L740
3862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_RDONLY;
 9590              		.loc 1 3862 11 is_stmt 1 view .LVU3149
3862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_RDONLY;
 9591              		.loc 1 3862 36 is_stmt 0 view .LVU3150
 9592 004a 5B8B     		ldrh	r3, [r3, #26]
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 291


3862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_RDONLY;
 9593              		.loc 1 3862 14 view .LVU3151
 9594 004c 13F0100F 		tst	r3, #16
 9595 0050 09D0     		beq	.L741
3840:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9596              		.loc 1 3840 7 view .LVU3152
 9597 0052 0024     		movs	r4, #0
 9598              	.LVL1029:
 9599              	.L735:
3865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_WRONLY;
 9600              		.loc 1 3865 11 is_stmt 1 view .LVU3153
3865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_WRONLY;
 9601              		.loc 1 3865 14 is_stmt 0 view .LVU3154
 9602 0054 13F0200F 		tst	r3, #32
 9603 0058 01D1     		bne	.L734
3866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 9604              		.loc 1 3866 13 is_stmt 1 view .LVU3155
3866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 9605              		.loc 1 3866 21 is_stmt 0 view .LVU3156
 9606 005a 44F00404 		orr	r4, r4, #4
 9607              	.LVL1030:
 9608              	.L734:
3871:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 9609              		.loc 1 3871 9 is_stmt 1 view .LVU3157
 9610 005e 1348     		ldr	r0, .L745+4
 9611 0060 FFF7FEFF 		bl	sys_mutex_unlock
 9612              	.LVL1031:
 9613 0064 E8E7     		b	.L733
 9614              	.LVL1032:
 9615              	.L741:
3863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 9616              		.loc 1 3863 21 is_stmt 0 view .LVU3158
 9617 0066 0224     		movs	r4, #2
 9618              	.LVL1033:
3863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 9619              		.loc 1 3863 21 view .LVU3159
 9620 0068 F4E7     		b	.L735
 9621              	.LVL1034:
 9622              	.L740:
3840:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9623              		.loc 1 3840 7 view .LVU3160
 9624 006a 0024     		movs	r4, #0
 9625              	.LVL1035:
3840:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9626              		.loc 1 3840 7 view .LVU3161
 9627 006c F7E7     		b	.L734
 9628              	.LVL1036:
 9629              	.L731:
3885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((val & ~O_NONBLOCK) == 0) {
 9630              		.loc 1 3885 7 is_stmt 1 view .LVU3162
3885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((val & ~O_NONBLOCK) == 0) {
 9631              		.loc 1 3885 11 is_stmt 0 view .LVU3163
 9632 006e 24F00603 		bic	r3, r4, #6
 9633              	.LVL1037:
3886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
 9634              		.loc 1 3886 7 is_stmt 1 view .LVU3164
3886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 292


 9635              		.loc 1 3886 10 is_stmt 0 view .LVU3165
 9636 0072 012B     		cmp	r3, #1
 9637 0074 0FD8     		bhi	.L736
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9638              		.loc 1 3888 9 is_stmt 1 view .LVU3166
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9639              		.loc 1 3888 9 view .LVU3167
 9640 0076 14F00100 		ands	r0, r4, #1
 9641              	.LVL1038:
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9642              		.loc 1 3888 9 is_stmt 0 view .LVU3168
 9643 007a 06D0     		beq	.L737
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9644              		.loc 1 3888 9 is_stmt 1 discriminator 1 view .LVU3169
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9645              		.loc 1 3888 9 discriminator 1 view .LVU3170
 9646 007c 3268     		ldr	r2, [r6]
 9647 007e 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9648              	.LVL1039:
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9649              		.loc 1 3888 9 is_stmt 0 discriminator 1 view .LVU3171
 9650 0080 43F00203 		orr	r3, r3, #2
 9651 0084 1377     		strb	r3, [r2, #28]
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9652              		.loc 1 3888 9 is_stmt 1 discriminator 1 view .LVU3172
3889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, 0);
 9653              		.loc 1 3889 13 is_stmt 0 view .LVU3173
 9654 0086 0020     		movs	r0, #0
 9655 0088 D8E7     		b	.L728
 9656              	.LVL1040:
 9657              	.L737:
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9658              		.loc 1 3888 9 is_stmt 1 discriminator 2 view .LVU3174
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9659              		.loc 1 3888 9 discriminator 2 view .LVU3175
 9660 008a 3268     		ldr	r2, [r6]
 9661 008c 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9662              	.LVL1041:
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9663              		.loc 1 3888 9 is_stmt 0 discriminator 2 view .LVU3176
 9664 008e 03F0FD03 		and	r3, r3, #253
 9665 0092 1377     		strb	r3, [r2, #28]
 9666 0094 D2E7     		b	.L728
 9667              	.LVL1042:
 9668              	.L736:
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9669              		.loc 1 3892 9 is_stmt 1 view .LVU3177
 9670              	.LBB106:
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9671              		.loc 1 3892 9 view .LVU3178
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9672              		.loc 1 3892 9 view .LVU3179
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9673              		.loc 1 3892 9 view .LVU3180
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9674              		.loc 1 3892 9 discriminator 1 view .LVU3181
 9675 0096 044B     		ldr	r3, .L745
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 293


 9676              	.LVL1043:
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9677              		.loc 1 3892 9 is_stmt 0 discriminator 1 view .LVU3182
 9678 0098 2622     		movs	r2, #38
 9679 009a 1A60     		str	r2, [r3]
 9680              	.LBE106:
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9681              		.loc 1 3839 7 view .LVU3183
 9682 009c 4FF0FF30 		mov	r0, #-1
 9683              	.LVL1044:
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9684              		.loc 1 3839 7 view .LVU3184
 9685 00a0 CCE7     		b	.L728
 9686              	.LVL1045:
 9687              	.L738:
3843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9688              		.loc 1 3843 12 view .LVU3185
 9689 00a2 4FF0FF30 		mov	r0, #-1
 9690              	.LVL1046:
3843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9691              		.loc 1 3843 12 view .LVU3186
 9692 00a6 C9E7     		b	.L728
 9693              	.L746:
 9694              		.align	2
 9695              	.L745:
 9696 00a8 00000000 		.word	errno
 9697 00ac 00000000 		.word	lock_tcpip_core
 9698              		.cfi_endproc
 9699              	.LFE415:
 9701              		.section	.text.lwip_inet_ntop,"ax",%progbits
 9702              		.align	1
 9703              		.global	lwip_inet_ntop
 9704              		.syntax unified
 9705              		.thumb
 9706              		.thumb_func
 9708              	lwip_inet_ntop:
 9709              	.LVL1047:
 9710              	.LFB416:
3903:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3904:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_COMPAT_SOCKETS == 2 && LWIP_POSIX_SOCKETS_IO_NAMES
3905:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3906:Middlewares/Third_Party/LwIP/src/api/sockets.c **** fcntl(int s, int cmd, ...)
3907:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
3908:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   va_list ap;
3909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int val;
3910:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   va_start(ap, cmd);
3912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   val = va_arg(ap, int);
3913:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   va_end(ap);
3914:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_fcntl(s, cmd, val);
3915:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
3916:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3917:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3918:Middlewares/Third_Party/LwIP/src/api/sockets.c **** const char *
3919:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_inet_ntop(int af, const void *src, char *dst, socklen_t size)
3920:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 9711              		.loc 1 3920 1 is_stmt 1 view -0
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 294


 9712              		.cfi_startproc
 9713              		@ args = 0, pretend = 0, frame = 0
 9714              		@ frame_needed = 0, uses_anonymous_args = 0
 9715              		.loc 1 3920 1 is_stmt 0 view .LVU3188
 9716 0000 08B5     		push	{r3, lr}
 9717              	.LCFI120:
 9718              		.cfi_def_cfa_offset 8
 9719              		.cfi_offset 3, -8
 9720              		.cfi_offset 14, -4
 9721 0002 8C46     		mov	ip, r1
 9722 0004 1146     		mov	r1, r2
 9723              	.LVL1048:
3921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   const char *ret = NULL;
 9724              		.loc 1 3921 3 is_stmt 1 view .LVU3189
3922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int size_int = (int)size;
 9725              		.loc 1 3922 3 view .LVU3190
3923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (size_int < 0) {
 9726              		.loc 1 3923 3 view .LVU3191
 9727              		.loc 1 3923 6 is_stmt 0 view .LVU3192
 9728 0006 1A1E     		subs	r2, r3, #0
 9729              	.LVL1049:
 9730              		.loc 1 3923 6 view .LVU3193
 9731 0008 06DB     		blt	.L752
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENOSPC);
3925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
3926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3927:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (af) {
 9732              		.loc 1 3927 3 is_stmt 1 view .LVU3194
 9733 000a 0228     		cmp	r0, #2
 9734 000c 09D0     		beq	.L753
3928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
3929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case AF_INET:
3930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = ip4addr_ntoa_r((const ip4_addr_t *)src, dst, size_int);
3931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
3932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOSPC);
3933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3935:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3936:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
3937:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case AF_INET6:
3938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = ip6addr_ntoa_r((const ip6_addr_t *)src, dst, size_int);
3939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
3940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOSPC);
3941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3943:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAFNOSUPPORT);
 9735              		.loc 1 3945 7 view .LVU3195
 9736              		.loc 1 3945 7 view .LVU3196
 9737              		.loc 1 3945 7 discriminator 1 view .LVU3197
 9738 000e 094B     		ldr	r3, .L754
 9739              	.LVL1050:
 9740              		.loc 1 3945 7 is_stmt 0 discriminator 1 view .LVU3198
 9741 0010 6122     		movs	r2, #97
 9742              	.LVL1051:
 9743              		.loc 1 3945 7 discriminator 1 view .LVU3199
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 295


 9744 0012 1A60     		str	r2, [r3]
 9745              		.loc 1 3945 7 is_stmt 1 discriminator 3 view .LVU3200
3946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9746              		.loc 1 3946 7 view .LVU3201
3921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int size_int = (int)size;
 9747              		.loc 1 3921 15 is_stmt 0 view .LVU3202
 9748 0014 0020     		movs	r0, #0
 9749              	.LVL1052:
 9750              	.L747:
3947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
3949:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9751              		.loc 1 3949 1 view .LVU3203
 9752 0016 08BD     		pop	{r3, pc}
 9753              	.LVL1053:
 9754              	.L752:
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9755              		.loc 1 3924 5 is_stmt 1 view .LVU3204
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9756              		.loc 1 3924 5 view .LVU3205
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9757              		.loc 1 3924 5 discriminator 1 view .LVU3206
 9758 0018 064B     		ldr	r3, .L754
 9759 001a 1C22     		movs	r2, #28
 9760              	.LVL1054:
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9761              		.loc 1 3924 5 is_stmt 0 discriminator 1 view .LVU3207
 9762 001c 1A60     		str	r2, [r3]
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9763              		.loc 1 3924 5 is_stmt 1 discriminator 3 view .LVU3208
3925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9764              		.loc 1 3925 5 view .LVU3209
3925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9765              		.loc 1 3925 12 is_stmt 0 view .LVU3210
 9766 001e 0020     		movs	r0, #0
 9767              	.LVL1055:
3925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9768              		.loc 1 3925 12 view .LVU3211
 9769 0020 F9E7     		b	.L747
 9770              	.LVL1056:
 9771              	.L753:
3930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
 9772              		.loc 1 3930 7 is_stmt 1 view .LVU3212
3930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
 9773              		.loc 1 3930 13 is_stmt 0 view .LVU3213
 9774 0022 6046     		mov	r0, ip
 9775              	.LVL1057:
3930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
 9776              		.loc 1 3930 13 view .LVU3214
 9777 0024 FFF7FEFF 		bl	ip4addr_ntoa_r
 9778              	.LVL1058:
3931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOSPC);
 9779              		.loc 1 3931 7 is_stmt 1 view .LVU3215
3931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOSPC);
 9780              		.loc 1 3931 10 is_stmt 0 view .LVU3216
 9781 0028 0028     		cmp	r0, #0
 9782 002a F4D1     		bne	.L747
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 296


3932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9783              		.loc 1 3932 9 is_stmt 1 view .LVU3217
3932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9784              		.loc 1 3932 9 view .LVU3218
3932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9785              		.loc 1 3932 9 discriminator 1 view .LVU3219
 9786 002c 014B     		ldr	r3, .L754
 9787 002e 1C22     		movs	r2, #28
 9788 0030 1A60     		str	r2, [r3]
 9789 0032 F0E7     		b	.L747
 9790              	.L755:
 9791              		.align	2
 9792              	.L754:
 9793 0034 00000000 		.word	errno
 9794              		.cfi_endproc
 9795              	.LFE416:
 9797              		.section	.text.lwip_inet_pton,"ax",%progbits
 9798              		.align	1
 9799              		.global	lwip_inet_pton
 9800              		.syntax unified
 9801              		.thumb
 9802              		.thumb_func
 9804              	lwip_inet_pton:
 9805              	.LVL1059:
 9806              	.LFB417:
3950:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3951:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3952:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_inet_pton(int af, const char *src, void *dst)
3953:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 9807              		.loc 1 3953 1 view -0
 9808              		.cfi_startproc
 9809              		@ args = 0, pretend = 0, frame = 0
 9810              		@ frame_needed = 0, uses_anonymous_args = 0
 9811              		.loc 1 3953 1 is_stmt 0 view .LVU3221
 9812 0000 08B5     		push	{r3, lr}
 9813              	.LCFI121:
 9814              		.cfi_def_cfa_offset 8
 9815              		.cfi_offset 3, -8
 9816              		.cfi_offset 14, -4
3954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err;
 9817              		.loc 1 3954 3 is_stmt 1 view .LVU3222
3955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (af) {
 9818              		.loc 1 3955 3 view .LVU3223
 9819 0002 0228     		cmp	r0, #2
 9820 0004 04D1     		bne	.L757
 9821 0006 0846     		mov	r0, r1
 9822              	.LVL1060:
 9823              		.loc 1 3955 3 is_stmt 0 view .LVU3224
 9824 0008 1146     		mov	r1, r2
 9825              	.LVL1061:
3956:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
3957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case AF_INET:
3958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ip4addr_aton(src, (ip4_addr_t *)dst);
 9826              		.loc 1 3958 7 is_stmt 1 view .LVU3225
 9827              		.loc 1 3958 13 is_stmt 0 view .LVU3226
 9828 000a FFF7FEFF 		bl	ip4addr_aton
 9829              	.LVL1062:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 297


3959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9830              		.loc 1 3959 7 is_stmt 1 view .LVU3227
 9831              	.L756:
3960:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3961:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
3962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case AF_INET6: {
3963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* convert into temporary variable since ip6_addr_t might be larger
3964:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          than in6_addr when scopes are enabled */
3965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ip6_addr_t addr;
3966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ip6addr_aton(src, &addr);
3967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (err) {
3968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         memcpy(dst, &addr.addr, sizeof(addr.addr));
3969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3971:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
3972:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3973:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = -1;
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAFNOSUPPORT);
3976:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3978:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err;
3979:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9832              		.loc 1 3979 1 is_stmt 0 view .LVU3228
 9833 000e 08BD     		pop	{r3, pc}
 9834              	.LVL1063:
 9835              	.L757:
3974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAFNOSUPPORT);
 9836              		.loc 1 3974 7 is_stmt 1 view .LVU3229
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9837              		.loc 1 3975 7 view .LVU3230
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9838              		.loc 1 3975 7 view .LVU3231
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9839              		.loc 1 3975 7 discriminator 1 view .LVU3232
 9840 0010 024B     		ldr	r3, .L760
 9841 0012 6122     		movs	r2, #97
 9842              	.LVL1064:
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9843              		.loc 1 3975 7 is_stmt 0 discriminator 1 view .LVU3233
 9844 0014 1A60     		str	r2, [r3]
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9845              		.loc 1 3975 7 is_stmt 1 discriminator 3 view .LVU3234
3976:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9846              		.loc 1 3976 7 view .LVU3235
3974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAFNOSUPPORT);
 9847              		.loc 1 3974 11 is_stmt 0 view .LVU3236
 9848 0016 4FF0FF30 		mov	r0, #-1
 9849              	.LVL1065:
3978:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9850              		.loc 1 3978 3 is_stmt 1 view .LVU3237
3978:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9851              		.loc 1 3978 10 is_stmt 0 view .LVU3238
 9852 001a F8E7     		b	.L756
 9853              	.L761:
 9854              		.align	2
 9855              	.L760:
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 298


 9856 001c 00000000 		.word	errno
 9857              		.cfi_endproc
 9858              	.LFE417:
 9860              		.section	.bss.select_cb_list,"aw",%nobits
 9861              		.align	2
 9864              	select_cb_list:
 9865 0000 00000000 		.space	4
 9866              		.section	.bss.sockets,"aw",%nobits
 9867              		.align	2
 9870              	sockets:
 9871 0000 00000000 		.space	64
 9871      00000000 
 9871      00000000 
 9871      00000000 
 9871      00000000 
 9872              		.text
 9873              	.Letext0:
 9874              		.file 2 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 9875              		.file 3 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 9876              		.file 4 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/lib/gcc/arm-none
 9877              		.file 5 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 9878              		.file 6 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 9879              		.file 7 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 9880              		.file 8 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 9881              		.file 9 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 9882              		.file 10 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/i
 9883              		.file 11 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 9884              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 9885              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 9886              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 9887              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 9888              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 9889              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 9890              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/inet.h"
 9891              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/sockets.h"
 9892              		.file 20 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 9893              		.file 21 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 9894              		.file 22 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 9895              		.file 23 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 9896              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/sockets_priv.h"
 9897              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/netbuf.h"
 9898              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/api.h"
 9899              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 9900              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 9901              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 9902              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 9903              		.file 31 "Middlewares/Third_Party/LwIP/src/include/lwip/errno.h"
 9904              		.file 32 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 9905              		.file 33 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
 9906              		.file 34 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/i
 9907              		.file 35 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 9908              		.file 36 "<built-in>"
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 299


DEFINED SYMBOLS
                            *ABS*:00000000 sockets.c
C:\usertemp\cc1HxZCP.s:20     .text.tryget_socket_unconn_nouse:00000000 $t
C:\usertemp\cc1HxZCP.s:25     .text.tryget_socket_unconn_nouse:00000000 tryget_socket_unconn_nouse
C:\usertemp\cc1HxZCP.s:55     .text.tryget_socket_unconn_nouse:00000010 $d
C:\usertemp\cc1HxZCP.s:9870   .bss.sockets:00000000 sockets
C:\usertemp\cc1HxZCP.s:60     .text.tryget_socket_unconn:00000000 $t
C:\usertemp\cc1HxZCP.s:65     .text.tryget_socket_unconn:00000000 tryget_socket_unconn
C:\usertemp\cc1HxZCP.s:91     .text.tryget_socket_unconn_locked:00000000 $t
C:\usertemp\cc1HxZCP.s:96     .text.tryget_socket_unconn_locked:00000000 tryget_socket_unconn_locked
C:\usertemp\cc1HxZCP.s:122    .text.tryget_socket:00000000 $t
C:\usertemp\cc1HxZCP.s:127    .text.tryget_socket:00000000 tryget_socket
C:\usertemp\cc1HxZCP.s:168    .text.get_socket:00000000 $t
C:\usertemp\cc1HxZCP.s:173    .text.get_socket:00000000 get_socket
C:\usertemp\cc1HxZCP.s:212    .text.get_socket:00000014 $d
C:\usertemp\cc1HxZCP.s:217    .text.free_socket_locked:00000000 $t
C:\usertemp\cc1HxZCP.s:222    .text.free_socket_locked:00000000 free_socket_locked
C:\usertemp\cc1HxZCP.s:261    .text.lwip_poll_should_wake:00000000 $t
C:\usertemp\cc1HxZCP.s:266    .text.lwip_poll_should_wake:00000000 lwip_poll_should_wake
C:\usertemp\cc1HxZCP.s:372    .rodata.lwip_sockopt_to_ipopt.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:382    .text.lwip_sockopt_to_ipopt:00000000 $t
C:\usertemp\cc1HxZCP.s:387    .text.lwip_sockopt_to_ipopt:00000000 lwip_sockopt_to_ipopt
C:\usertemp\cc1HxZCP.s:437    .text.lwip_sockopt_to_ipopt:00000024 $d
C:\usertemp\cc1HxZCP.s:444    .rodata.alloc_socket.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:448    .text.alloc_socket:00000000 $t
C:\usertemp\cc1HxZCP.s:453    .text.alloc_socket:00000000 alloc_socket
C:\usertemp\cc1HxZCP.s:585    .text.alloc_socket:00000078 $d
C:\usertemp\cc1HxZCP.s:593    .rodata.lwip_selscan.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:597    .text.lwip_selscan:00000000 $t
C:\usertemp\cc1HxZCP.s:602    .text.lwip_selscan:00000000 lwip_selscan
C:\usertemp\cc1HxZCP.s:1017   .text.lwip_selscan:00000200 $d
C:\usertemp\cc1HxZCP.s:1024   .rodata.lwip_pollscan.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:1028   .text.lwip_pollscan:00000000 $t
C:\usertemp\cc1HxZCP.s:1033   .text.lwip_pollscan:00000000 lwip_pollscan
C:\usertemp\cc1HxZCP.s:1344   .text.lwip_pollscan:0000013c $d
C:\usertemp\cc1HxZCP.s:1352   .text.lwip_link_select_cb:00000000 $t
C:\usertemp\cc1HxZCP.s:1357   .text.lwip_link_select_cb:00000000 lwip_link_select_cb
C:\usertemp\cc1HxZCP.s:1405   .text.lwip_link_select_cb:00000020 $d
C:\usertemp\cc1HxZCP.s:9864   .bss.select_cb_list:00000000 select_cb_list
C:\usertemp\cc1HxZCP.s:1411   .rodata.lwip_unlink_select_cb.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:1418   .text.lwip_unlink_select_cb:00000000 $t
C:\usertemp\cc1HxZCP.s:1423   .text.lwip_unlink_select_cb:00000000 lwip_unlink_select_cb
C:\usertemp\cc1HxZCP.s:1520   .text.lwip_unlink_select_cb:00000058 $d
C:\usertemp\cc1HxZCP.s:1530   .rodata.lwip_sock_make_addr.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:1540   .text.lwip_sock_make_addr:00000000 $t
C:\usertemp\cc1HxZCP.s:1545   .text.lwip_sock_make_addr:00000000 lwip_sock_make_addr
C:\usertemp\cc1HxZCP.s:1700   .text.lwip_sock_make_addr:0000008c $d
C:\usertemp\cc1HxZCP.s:1709   .text.lwip_recv_tcp_from:00000000 $t
C:\usertemp\cc1HxZCP.s:1714   .text.lwip_recv_tcp_from:00000000 lwip_recv_tcp_from
C:\usertemp\cc1HxZCP.s:1813   .text.lwip_getaddrname:00000000 $t
C:\usertemp\cc1HxZCP.s:1818   .text.lwip_getaddrname:00000000 lwip_getaddrname
C:\usertemp\cc1HxZCP.s:1963   .text.lwip_getaddrname:00000074 $d
C:\usertemp\cc1HxZCP.s:1968   .text.free_socket_free_elements:00000000 $t
C:\usertemp\cc1HxZCP.s:1973   .text.free_socket_free_elements:00000000 free_socket_free_elements
C:\usertemp\cc1HxZCP.s:2022   .text.free_socket:00000000 $t
C:\usertemp\cc1HxZCP.s:2027   .text.free_socket:00000000 free_socket
C:\usertemp\cc1HxZCP.s:2102   .rodata.lwip_recv_tcp.str1.4:00000000 $d
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 300


C:\usertemp\cc1HxZCP.s:2118   .text.lwip_recv_tcp:00000000 $t
C:\usertemp\cc1HxZCP.s:2123   .text.lwip_recv_tcp:00000000 lwip_recv_tcp
C:\usertemp\cc1HxZCP.s:2472   .text.lwip_recv_tcp:00000150 $d
C:\usertemp\cc1HxZCP.s:2484   .rodata.lwip_recvfrom_udp_raw.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:2491   .text.lwip_recvfrom_udp_raw:00000000 $t
C:\usertemp\cc1HxZCP.s:2496   .text.lwip_recvfrom_udp_raw:00000000 lwip_recvfrom_udp_raw
C:\usertemp\cc1HxZCP.s:2799   .text.lwip_recvfrom_udp_raw:00000100 $d
C:\usertemp\cc1HxZCP.s:2807   .text.select_check_waiters:00000000 $t
C:\usertemp\cc1HxZCP.s:2812   .text.select_check_waiters:00000000 select_check_waiters
C:\usertemp\cc1HxZCP.s:3015   .text.select_check_waiters:000000c8 $d
C:\usertemp\cc1HxZCP.s:3020   .rodata.event_callback.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:3024   .text.event_callback:00000000 $t
C:\usertemp\cc1HxZCP.s:3029   .text.event_callback:00000000 event_callback
C:\usertemp\cc1HxZCP.s:3090   .text.event_callback:0000002a $d
C:\usertemp\cc1HxZCP.s:3298   .text.event_callback:000000e4 $d
C:\usertemp\cc1HxZCP.s:3305   .text.lwip_getsockopt_impl:00000000 $t
C:\usertemp\cc1HxZCP.s:3310   .text.lwip_getsockopt_impl:00000000 lwip_getsockopt_impl
C:\usertemp\cc1HxZCP.s:3959   .rodata.lwip_setsockopt_impl.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:3963   .text.lwip_setsockopt_impl:00000000 $t
C:\usertemp\cc1HxZCP.s:3968   .text.lwip_setsockopt_impl:00000000 lwip_setsockopt_impl
C:\usertemp\cc1HxZCP.s:4572   .text.lwip_setsockopt_impl:00000218 $d
C:\usertemp\cc1HxZCP.s:4579   .text.lwip_socket_thread_init:00000000 $t
C:\usertemp\cc1HxZCP.s:4585   .text.lwip_socket_thread_init:00000000 lwip_socket_thread_init
C:\usertemp\cc1HxZCP.s:4599   .text.lwip_socket_thread_cleanup:00000000 $t
C:\usertemp\cc1HxZCP.s:4605   .text.lwip_socket_thread_cleanup:00000000 lwip_socket_thread_cleanup
C:\usertemp\cc1HxZCP.s:4619   .text.lwip_socket_dbg_get_socket:00000000 $t
C:\usertemp\cc1HxZCP.s:4625   .text.lwip_socket_dbg_get_socket:00000000 lwip_socket_dbg_get_socket
C:\usertemp\cc1HxZCP.s:4648   .rodata.lwip_accept.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:4655   .text.lwip_accept:00000000 $t
C:\usertemp\cc1HxZCP.s:4661   .text.lwip_accept:00000000 lwip_accept
C:\usertemp\cc1HxZCP.s:5057   .text.lwip_accept:00000164 $d
C:\usertemp\cc1HxZCP.s:5068   .rodata.lwip_bind.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:5072   .text.lwip_bind:00000000 $t
C:\usertemp\cc1HxZCP.s:5078   .text.lwip_bind:00000000 lwip_bind
C:\usertemp\cc1HxZCP.s:5233   .text.lwip_bind:00000074 $d
C:\usertemp\cc1HxZCP.s:5241   .rodata.lwip_close.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:5245   .text.lwip_close:00000000 $t
C:\usertemp\cc1HxZCP.s:5251   .text.lwip_close:00000000 lwip_close
C:\usertemp\cc1HxZCP.s:5380   .text.lwip_close:00000060 $d
C:\usertemp\cc1HxZCP.s:5388   .rodata.lwip_connect.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:5392   .text.lwip_connect:00000000 $t
C:\usertemp\cc1HxZCP.s:5398   .text.lwip_connect:00000000 lwip_connect
C:\usertemp\cc1HxZCP.s:5577   .text.lwip_connect:00000080 $d
C:\usertemp\cc1HxZCP.s:5585   .text.lwip_listen:00000000 $t
C:\usertemp\cc1HxZCP.s:5591   .text.lwip_listen:00000000 lwip_listen
C:\usertemp\cc1HxZCP.s:5711   .text.lwip_listen:00000054 $d
C:\usertemp\cc1HxZCP.s:5716   .rodata.lwip_recvfrom.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:5720   .text.lwip_recvfrom:00000000 $t
C:\usertemp\cc1HxZCP.s:5726   .text.lwip_recvfrom:00000000 lwip_recvfrom
C:\usertemp\cc1HxZCP.s:5951   .text.lwip_recvfrom:000000bc $d
C:\usertemp\cc1HxZCP.s:5957   .text.lwip_read:00000000 $t
C:\usertemp\cc1HxZCP.s:5963   .text.lwip_read:00000000 lwip_read
C:\usertemp\cc1HxZCP.s:5995   .text.lwip_recv:00000000 $t
C:\usertemp\cc1HxZCP.s:6001   .text.lwip_recv:00000000 lwip_recv
C:\usertemp\cc1HxZCP.s:6034   .rodata.lwip_recvmsg.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:6041   .text.lwip_recvmsg:00000000 $t
C:\usertemp\cc1HxZCP.s:6047   .text.lwip_recvmsg:00000000 lwip_recvmsg
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 301


C:\usertemp\cc1HxZCP.s:6433   .text.lwip_recvmsg:0000014c $d
C:\usertemp\cc1HxZCP.s:6442   .text.lwip_readv:00000000 $t
C:\usertemp\cc1HxZCP.s:6448   .text.lwip_readv:00000000 lwip_readv
C:\usertemp\cc1HxZCP.s:6506   .rodata.lwip_sendmsg.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:6522   .text.lwip_sendmsg:00000000 $t
C:\usertemp\cc1HxZCP.s:6528   .text.lwip_sendmsg:00000000 lwip_sendmsg
C:\usertemp\cc1HxZCP.s:7106   .text.lwip_sendmsg:000001fc $d
C:\usertemp\cc1HxZCP.s:7118   .rodata.lwip_sendto.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:7122   .text.lwip_sendto:00000000 $t
C:\usertemp\cc1HxZCP.s:7128   .text.lwip_sendto:00000000 lwip_sendto
C:\usertemp\cc1HxZCP.s:7415   .text.lwip_send:00000000 lwip_send
C:\usertemp\cc1HxZCP.s:7401   .text.lwip_sendto:000000fc $d
C:\usertemp\cc1HxZCP.s:7409   .text.lwip_send:00000000 $t
C:\usertemp\cc1HxZCP.s:7566   .text.lwip_send:0000007c $d
C:\usertemp\cc1HxZCP.s:7571   .text.lwip_socket:00000000 $t
C:\usertemp\cc1HxZCP.s:7577   .text.lwip_socket:00000000 lwip_socket
C:\usertemp\cc1HxZCP.s:7756   .text.lwip_socket:00000080 $d
C:\usertemp\cc1HxZCP.s:7762   .text.lwip_write:00000000 $t
C:\usertemp\cc1HxZCP.s:7768   .text.lwip_write:00000000 lwip_write
C:\usertemp\cc1HxZCP.s:7792   .text.lwip_writev:00000000 $t
C:\usertemp\cc1HxZCP.s:7798   .text.lwip_writev:00000000 lwip_writev
C:\usertemp\cc1HxZCP.s:7856   .text.lwip_select:00000000 $t
C:\usertemp\cc1HxZCP.s:7862   .text.lwip_select:00000000 lwip_select
C:\usertemp\cc1HxZCP.s:8570   .text.lwip_select:000002e4 $d
C:\usertemp\cc1HxZCP.s:8580   .rodata.lwip_poll.str1.4:00000000 $d
C:\usertemp\cc1HxZCP.s:8587   .text.lwip_poll:00000000 $t
C:\usertemp\cc1HxZCP.s:8593   .text.lwip_poll:00000000 lwip_poll
C:\usertemp\cc1HxZCP.s:8837   .text.lwip_poll:000000c8 $d
C:\usertemp\cc1HxZCP.s:8846   .text.lwip_shutdown:00000000 $t
C:\usertemp\cc1HxZCP.s:8852   .text.lwip_shutdown:00000000 lwip_shutdown
C:\usertemp\cc1HxZCP.s:9019   .text.lwip_shutdown:00000078 $d
C:\usertemp\cc1HxZCP.s:9024   .text.lwip_getpeername:00000000 $t
C:\usertemp\cc1HxZCP.s:9030   .text.lwip_getpeername:00000000 lwip_getpeername
C:\usertemp\cc1HxZCP.s:9054   .text.lwip_getsockname:00000000 $t
C:\usertemp\cc1HxZCP.s:9060   .text.lwip_getsockname:00000000 lwip_getsockname
C:\usertemp\cc1HxZCP.s:9084   .text.lwip_getsockopt:00000000 $t
C:\usertemp\cc1HxZCP.s:9090   .text.lwip_getsockopt:00000000 lwip_getsockopt
C:\usertemp\cc1HxZCP.s:9221   .text.lwip_getsockopt:0000006c $d
C:\usertemp\cc1HxZCP.s:9227   .text.lwip_setsockopt:00000000 $t
C:\usertemp\cc1HxZCP.s:9233   .text.lwip_setsockopt:00000000 lwip_setsockopt
C:\usertemp\cc1HxZCP.s:9361   .text.lwip_setsockopt:0000005c $d
C:\usertemp\cc1HxZCP.s:9367   .text.lwip_ioctl:00000000 $t
C:\usertemp\cc1HxZCP.s:9373   .text.lwip_ioctl:00000000 lwip_ioctl
C:\usertemp\cc1HxZCP.s:9475   .text.lwip_ioctl:00000048 $d
C:\usertemp\cc1HxZCP.s:9481   .text.lwip_fcntl:00000000 $t
C:\usertemp\cc1HxZCP.s:9487   .text.lwip_fcntl:00000000 lwip_fcntl
C:\usertemp\cc1HxZCP.s:9696   .text.lwip_fcntl:000000a8 $d
C:\usertemp\cc1HxZCP.s:9702   .text.lwip_inet_ntop:00000000 $t
C:\usertemp\cc1HxZCP.s:9708   .text.lwip_inet_ntop:00000000 lwip_inet_ntop
C:\usertemp\cc1HxZCP.s:9793   .text.lwip_inet_ntop:00000034 $d
C:\usertemp\cc1HxZCP.s:9798   .text.lwip_inet_pton:00000000 $t
C:\usertemp\cc1HxZCP.s:9804   .text.lwip_inet_pton:00000000 lwip_inet_pton
C:\usertemp\cc1HxZCP.s:9856   .text.lwip_inet_pton:0000001c $d
C:\usertemp\cc1HxZCP.s:9861   .bss.select_cb_list:00000000 $d
C:\usertemp\cc1HxZCP.s:9867   .bss.sockets:00000000 $d
C:\usertemp\cc1HxZCP.s:3096   .text.event_callback:0000002f $d
C:\usertemp\cc1HxZCP.s:3096   .text.event_callback:00000030 $t
ARM GAS  C:\usertemp\cc1HxZCP.s 			page 302



UNDEFINED SYMBOLS
errno
printf
sys_arch_protect
sys_arch_unprotect
sys_mutex_lock
sys_mutex_unlock
lock_tcpip_core
lwip_htons
memcpy
netconn_getaddr
err_to_errno
pbuf_free
netconn_delete
netbuf_delete
netconn_recv_tcp_pbuf_flags
pbuf_copy_partial
pbuf_free_header
netconn_tcp_recvd
netconn_recv_udp_raw_netbuf_flags
sys_sem_signal
netconn_err
netif_find
tcp_bind_netif
udp_bind_netif
netconn_accept
netconn_bind
netconn_prepare_delete
netconn_connect
netconn_disconnect
netconn_listen_with_backlog
netconn_write_vectors_partly
pbuf_alloc
pbuf_cat
netbuf_free
netconn_send
netbuf_ref
netconn_write_partly
netconn_new_with_proto_and_callback
memset
sys_sem_new
sys_arch_sem_wait
sys_sem_free
netconn_shutdown
ip4addr_ntoa_r
ip4addr_aton
