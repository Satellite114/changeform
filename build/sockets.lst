ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"sockets.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.tryget_socket_unconn_nouse,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	tryget_socket_unconn_nouse:
  25              	.LVL0:
  26              	.LFB366:
  27              		.file 1 "Middlewares/Third_Party/LwIP/src/api/sockets.c"
   1:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
   2:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Sockets BSD-Like API module
   4:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
   5:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
   6:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /*
   7:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   8:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * All rights reserved.
   9:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  10:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Redistribution and use in source and binary forms, with or without modification,
  11:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * are permitted provided that the following conditions are met:
  12:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  13:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  14:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    this list of conditions and the following disclaimer.
  15:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  16:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    this list of conditions and the following disclaimer in the documentation
  17:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    and/or other materials provided with the distribution.
  18:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * 3. The name of the author may not be used to endorse or promote products
  19:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *    derived from this software without specific prior written permission.
  20:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  21:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  22:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  23:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  24:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  25:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  26:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  27:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  28:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  29:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  30:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * OF SUCH DAMAGE.
  31:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 2


  32:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This file is part of the lwIP TCP/IP stack.
  33:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  34:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Author: Adam Dunkels <adam@sics.se>
  35:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  36:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Improved by Marc Boucher <marc@mbsi.ca> and David Haas <dhaas@alum.rpi.edu>
  37:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
  38:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
  39:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  40:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/opt.h"
  41:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  42:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET /* don't build if not configured for use in lwipopts.h */
  43:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  44:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/sockets.h"
  45:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/priv/sockets_priv.h"
  46:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/api.h"
  47:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/igmp.h"
  48:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/inet.h"
  49:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/tcp.h"
  50:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/raw.h"
  51:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/udp.h"
  52:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/memp.h"
  53:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/pbuf.h"
  54:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/netif.h"
  55:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/priv/tcpip_priv.h"
  56:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/mld6.h"
  57:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
  58:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "lwip/inet_chksum.h"
  59:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  60:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  61:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_COMPAT_SOCKETS == 2 && LWIP_POSIX_SOCKETS_IO_NAMES
  62:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include <stdarg.h>
  63:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  64:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  65:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include <string.h>
  66:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  67:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifdef LWIP_HOOK_FILENAME
  68:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include LWIP_HOOK_FILENAME
  69:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  70:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  71:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* If the netconn API is not required publicly, then we include the necessary
  72:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    files here to get the implementation */
  73:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_NETCONN
  74:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #undef LWIP_NETCONN
  75:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_NETCONN 1
  76:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "api_msg.c"
  77:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "api_lib.c"
  78:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #include "netbuf.c"
  79:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #undef LWIP_NETCONN
  80:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_NETCONN 0
  81:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
  82:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  83:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define API_SELECT_CB_VAR_REF(name)               API_VAR_REF(name)
  84:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define API_SELECT_CB_VAR_DECLARE(name)           API_VAR_DECLARE(struct lwip_select_cb, name)
  85:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define API_SELECT_CB_VAR_ALLOC(name, retblock)   API_VAR_ALLOC_EXT(struct lwip_select_cb, MEMP_SEL
  86:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define API_SELECT_CB_VAR_FREE(name)              API_VAR_FREE(MEMP_SELECT_CB, name)
  87:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
  88:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 3


  89:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IP4ADDR_PORT_TO_SOCKADDR(sin, ipaddr, port) do { \
  90:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin)->sin_len = sizeof(struct sockaddr_in); \
  91:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin)->sin_family = AF_INET; \
  92:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin)->sin_port = lwip_htons((port)); \
  93:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       inet_addr_from_ip4addr(&(sin)->sin_addr, ipaddr); \
  94:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       memset((sin)->sin_zero, 0, SIN_ZERO_LEN); }while(0)
  95:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR4_TO_IP4ADDR_PORT(sin, ipaddr, port) do { \
  96:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     inet_addr_to_ip4addr(ip_2_ip4(ipaddr), &((sin)->sin_addr)); \
  97:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     (port) = lwip_ntohs((sin)->sin_port); }while(0)
  98:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 */
  99:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 100:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
 101:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IP6ADDR_PORT_TO_SOCKADDR(sin6, ipaddr, port) do { \
 102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_len = sizeof(struct sockaddr_in6); \
 103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_family = AF_INET6; \
 104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_port = lwip_htons((port)); \
 105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_flowinfo = 0; \
 106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       inet6_addr_from_ip6addr(&(sin6)->sin6_addr, ipaddr); \
 107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       (sin6)->sin6_scope_id = ip6_addr_zone(ipaddr); }while(0)
 108:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR6_TO_IP6ADDR_PORT(sin6, ipaddr, port) do { \
 109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     inet6_addr_to_ip6addr(ip_2_ip6(ipaddr), &((sin6)->sin6_addr)); \
 110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (ip6_addr_has_scope(ip_2_ip6(ipaddr), IP6_UNKNOWN)) { \
 111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ip6_addr_set_zone(ip_2_ip6(ipaddr), (u8_t)((sin6)->sin6_scope_id)); \
 112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } \
 113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     (port) = lwip_ntohs((sin6)->sin6_port); }while(0)
 114:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
 115:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 116:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 117:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void sockaddr_to_ipaddr_port(const struct sockaddr *sockaddr, ip_addr_t *ipaddr, u16_t *port
 118:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 119:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  (((namelen) == sizeof(struct sockaddr_in)) || \
 120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                          ((namelen) == sizeof(struct sockaddr_in6)))
 121:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    (((name)->sa_family == AF_INET) || \
 122:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                          ((name)->sa_family == AF_INET6))
 123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) \
 124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        ((((name)->sa_family == AF_INET) && !(NETCONNTYPE_ISIPV6((sock)->conn->type))) || \
 125:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        (((name)->sa_family == AF_INET6) && (NETCONNTYPE_ISIPV6((sock)->conn->type))))
 126:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) do { \
 127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (IP_IS_ANY_TYPE_VAL(*ipaddr) || IP_IS_V6_VAL(*ipaddr)) { \
 128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP6ADDR_PORT_TO_SOCKADDR((struct sockaddr_in6*)(void*)(sockaddr), ip_2_ip6(ipaddr), port); \
 129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else { \
 130:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP4ADDR_PORT_TO_SOCKADDR((struct sockaddr_in*)(void*)(sockaddr), ip_2_ip4(ipaddr), port); \
 131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } } while(0)
 132:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) sockaddr_to_ipaddr_port(sockaddr, ipaddr, &
 133:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, type) (((domain) == AF_INET) ? \
 134:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   (type) : (enum netconn_type)((type) | NETCONN_TYPE_IPV6))
 135:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #elif LWIP_IPV6 /* LWIP_IPV4 && LWIP_IPV6 */
 136:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  ((namelen) == sizeof(struct sockaddr_in6))
 137:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    ((name)->sa_family == AF_INET6)
 138:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) 1
 139:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) \
 140:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IP6ADDR_PORT_TO_SOCKADDR((struct sockaddr_in6*)(void*)(sockaddr), ip_2_ip6(ipaddr), port)
 141:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) \
 142:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SOCKADDR6_TO_IP6ADDR_PORT((const struct sockaddr_in6*)(const void*)(sockaddr), ipaddr, port
 143:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, netconn_type) (netconn_type)
 144:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /*-> LWIP_IPV4: LWIP_IPV4 && LWIP_IPV6 */
 145:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_LEN_VALID(namelen)  ((namelen) == sizeof(struct sockaddr_in))
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 4


 146:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID(name)    ((name)->sa_family == AF_INET)
 147:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH(name, sock) 1
 148:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IPADDR_PORT_TO_SOCKADDR(sockaddr, ipaddr, port) \
 149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IP4ADDR_PORT_TO_SOCKADDR((struct sockaddr_in*)(void*)(sockaddr), ip_2_ip4(ipaddr), port)
 150:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCKADDR_TO_IPADDR_PORT(sockaddr, ipaddr, port) \
 151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SOCKADDR4_TO_IP4ADDR_PORT((const struct sockaddr_in*)(const void*)(sockaddr), ipaddr, port)
 152:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DOMAIN_TO_NETCONN_TYPE(domain, netconn_type) (netconn_type)
 153:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
 154:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 155:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name)    (((name)->sa_family == AF_UNSPEC) || \
 156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                                     IS_SOCK_ADDR_TYPE_VALID(name))
 157:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define SOCK_ADDR_TYPE_MATCH_OR_UNSPEC(name, sock) (((name)->sa_family == AF_UNSPEC) || \
 158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                                     SOCK_ADDR_TYPE_MATCH(name, sock))
 159:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define IS_SOCK_ADDR_ALIGNED(name)      ((((mem_ptr_t)(name)) % 4) == 0)
 160:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 161:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 162:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN(sock, optlen, opttype) do { if ((optlen) < sizeof(opttype)) { don
 163:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, opttype) do { \
 164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN(sock, optlen, opttype); \
 165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((sock)->conn == NULL) { done_socket(sock); return EINVAL; } }while(0)
 166:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, opttype) do { \
 167:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN(sock, optlen, opttype); \
 168:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (((sock)->conn == NULL) || ((sock)->conn->pcb.tcp == NULL)) { done_socket(sock); return EINVAL
 169:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, opttype, netconntype) do { \
 170:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, opttype); \
 171:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type((sock)->conn)) != netconntype) { done_socket(sock); return ENO
 172:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 173:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 174:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_REF(name)     API_VAR_REF(name)
 175:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(name) API_VAR_DECLARE(struct lwip_setgetsockopt_data, n
 176:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_FREE(name)    API_VAR_FREE(MEMP_SOCKET_SETGETSOCKOPT_DATA, name
 177:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
 178:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(name, sock) do { \
 179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   name = (struct lwip_setgetsockopt_data *)memp_malloc(MEMP_SOCKET_SETGETSOCKOPT_DATA); \
 180:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (name == NULL) { \
 181:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOMEM); \
 182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock); \
 183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1; \
 184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } }while(0)
 185:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
 186:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(name, sock)
 187:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
 188:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 189:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_SNDRCVTIMEO_NONSTANDARD
 190:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_OPTTYPE int
 191:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_SET(optval, val) (*(int *)(optval) = (val))
 192:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_GET_MS(optval)   ((long)*(const int*)(optval))
 193:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 194:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_OPTTYPE struct timeval
 195:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_SET(optval, val)  do { \
 196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t loc = (val); \
 197:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ((struct timeval *)(optval))->tv_sec = (long)((loc) / 1000U); \
 198:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ((struct timeval *)(optval))->tv_usec = (long)(((loc) % 1000U) * 1000U); }while(0)
 199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SO_SNDRCVTIMEO_GET_MS(optval) ((((const struct timeval *)(optval))->tv_sec * 1000) + (
 200:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 201:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 202:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 5


 203:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** A struct sockaddr replacement that has the same alignment as sockaddr_in/
 204:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *  sockaddr_in6 if instantiated.
 205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 206:Middlewares/Third_Party/LwIP/src/api/sockets.c **** union sockaddr_aligned {
 207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct sockaddr sa;
 208:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
 209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct sockaddr_in6 sin6;
 210:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
 211:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
 212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct sockaddr_in sin;
 213:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 */
 214:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 215:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 216:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Define the number of IPv4 multicast memberships, default is one per socket */
 217:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifndef LWIP_SOCKET_MAX_MEMBERSHIPS
 218:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_MAX_MEMBERSHIPS NUM_SOCKETS
 219:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 220:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 221:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IGMP
 222:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* This is to keep track of IP_ADD_MEMBERSHIP calls to drop the membership when
 223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    a socket is closed */
 224:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_socket_multicast_pair {
 225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the socket */
 226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the interface address */
 228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip4_addr_t if_addr;
 229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the group address */
 230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip4_addr_t multi_addr;
 231:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 232:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 233:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_socket_multicast_pair socket_ipv4_multicast_memberships[LWIP_SOCKET_MAX_MEMBERSH
 234:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 235:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int  lwip_socket_register_membership(int s, const ip4_addr_t *if_addr, const ip4_addr_t *mul
 236:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_unregister_membership(int s, const ip4_addr_t *if_addr, const ip4_addr_t *m
 237:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_drop_registered_memberships(int s);
 238:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IGMP */
 239:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 240:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6_MLD
 241:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* This is to keep track of IP_JOIN_GROUP calls to drop the membership when
 242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    a socket is closed */
 243:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_socket_multicast_mld6_pair {
 244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the socket */
 245:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the interface index */
 247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t if_idx;
 248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** the group address */
 249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip6_addr_t multi_addr;
 250:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
 251:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 252:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_socket_multicast_mld6_pair socket_ipv6_multicast_memberships[LWIP_SOCKET_MAX_MEM
 253:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int  lwip_socket_register_mld6_membership(int s, unsigned int if_idx, const ip6_addr_t *mult
 255:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_unregister_mld6_membership(int s, unsigned int if_idx, const ip6_addr_t *mu
 256:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_socket_drop_registered_mld6_memberships(int s);
 257:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6_MLD */
 258:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 259:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** The global array of available sockets */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 6


 260:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock sockets[NUM_SOCKETS];
 261:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 262:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 263:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 264:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* protect the select_cb_list using core lock */
 265:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_DECL_PROTECT(lev)
 266:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_PROTECT(lev)   LOCK_TCPIP_CORE()
 267:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_UNPROTECT(lev) UNLOCK_TCPIP_CORE()
 268:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
 269:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* protect the select_cb_list using SYS_LIGHTWEIGHT_PROT */
 270:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_DECL_PROTECT(lev)  SYS_ARCH_DECL_PROTECT(lev)
 271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_PROTECT(lev)       SYS_ARCH_PROTECT(lev)
 272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define LWIP_SOCKET_SELECT_UNPROTECT(lev)     SYS_ARCH_UNPROTECT(lev)
 273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** This counter is increased from lwip_select when the list is changed
 274:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     and checked in select_check_waiters to see if it has changed. */
 275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static volatile int select_cb_ctr;
 276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** The global list of tasks waiting for select */
 278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_select_cb *select_cb_list;
 279:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 280:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 281:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define sock_set_errno(sk, e) do { \
 282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   const int sockerr = (e); \
 283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(sockerr); \
 284:Middlewares/Third_Party/LwIP/src/api/sockets.c **** } while (0)
 285:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 286:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Forward declaration of some functions */
 287:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 288:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void event_callback(struct netconn *conn, enum netconn_evt evt, u16_t len);
 289:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DEFAULT_SOCKET_EVENTCB event_callback
 290:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void select_check_waiters(int s, int has_recvevent, int has_sendevent, int has_errevent);
 291:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 292:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define DEFAULT_SOCKET_EVENTCB NULL
 293:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 294:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 295:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_getsockopt_callback(void *arg);
 296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void lwip_setsockopt_callback(void *arg);
 297:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 298:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int lwip_getsockopt_impl(int s, int level, int optname, void *optval, socklen_t *optlen);
 299:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int lwip_setsockopt_impl(int s, int level, int optname, const void *optval, socklen_t optlen
 300:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int free_socket_locked(struct lwip_sock *sock, int is_tcp, struct netconn **conn,
 301:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               union lwip_sock_lastdata *lastdata);
 302:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void free_socket_free_elements(int is_tcp, struct netconn *conn, union lwip_sock_lastdata *l
 303:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 304:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 305:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 306:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sockaddr_to_ipaddr_port(const struct sockaddr *sockaddr, ip_addr_t *ipaddr, u16_t *port)
 307:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((sockaddr->sa_family) == AF_INET6) {
 309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR6_TO_IP6ADDR_PORT((const struct sockaddr_in6 *)(const void *)(sockaddr), ipaddr, *port)
 310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ipaddr->type = IPADDR_TYPE_V6;
 311:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR4_TO_IP4ADDR_PORT((const struct sockaddr_in *)(const void *)(sockaddr), ipaddr, *port);
 313:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ipaddr->type = IPADDR_TYPE_V4;
 314:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 7


 317:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** LWIP_NETCONN_SEM_PER_THREAD==1: initialize thread-local semaphore */
 319:Middlewares/Third_Party/LwIP/src/api/sockets.c **** void
 320:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket_thread_init(void)
 321:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netconn_thread_init();
 323:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 324:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 325:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** LWIP_NETCONN_SEM_PER_THREAD==1: destroy thread-local semaphore */
 326:Middlewares/Third_Party/LwIP/src/api/sockets.c **** void
 327:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket_thread_cleanup(void)
 328:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netconn_thread_cleanup();
 330:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 331:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 332:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 333:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Thread-safe increment of sock->fd_used, with overflow check */
 334:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 335:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sock_inc_used(struct lwip_sock *sock)
 336:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int ret;
 338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 339:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock != NULL", sock != NULL);
 341:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->fd_free_pending) {
 344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* prevent new usage of this socket if free is pending */
 345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = 0;
 346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 347:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ++sock->fd_used;
 348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = 1;
 349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("sock->fd_used != 0", sock->fd_used != 0);
 350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 351:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
 353:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 354:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 355:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Like sock_inc_used(), but called under SYS_ARCH_PROTECT lock. */
 356:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 357:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sock_inc_used_locked(struct lwip_sock *sock)
 358:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock != NULL", sock != NULL);
 360:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->fd_free_pending) {
 362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("sock->fd_used != 0", sock->fd_used != 0);
 363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 365:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ++sock->fd_used;
 367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock->fd_used != 0", sock->fd_used != 0);
 368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 1;
 369:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 370:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 371:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* In full-duplex mode,sock->fd_used != 0 prevents a socket descriptor from being
 372:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * released (and possibly reused) when used from more than one thread
 373:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * (e.g. read-while-write or close-while-write, etc)
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 8


 374:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This function is called at the end of functions using (try)get_socket*().
 375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 376:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 377:Middlewares/Third_Party/LwIP/src/api/sockets.c **** done_socket(struct lwip_sock *sock)
 378:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 379:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int freed = 0;
 380:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int is_tcp = 0;
 381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn = NULL;
 382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union lwip_sock_lastdata lastdata;
 383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock != NULL", sock != NULL);
 385:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock->fd_used > 0", sock->fd_used > 0);
 388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (--sock->fd_used == 0) {
 389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->fd_free_pending) {
 390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* free the socket */
 391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->fd_used = 1;
 392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       is_tcp = sock->fd_free_pending & LWIP_SOCK_FD_FREE_TCP;
 393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       freed = free_socket_locked(sock, is_tcp, &conn, &lastdata);
 394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 396:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 397:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (freed) {
 399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 400:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 402:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 403:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
 404:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define sock_inc_used(sock)         1
 405:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define sock_inc_used_locked(sock)  1
 406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define done_socket(sock)
 407:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 408:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 409:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Translate a socket 'int' into a pointer (only fails if the index is invalid) */
 410:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 411:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket_unconn_nouse(int fd)
 412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
  28              		.loc 1 412 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s = fd - LWIP_SOCKET_OFFSET;
  33              		.loc 1 413 3 view .LVU1
 414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((s < 0) || (s >= NUM_SOCKETS)) {
  34              		.loc 1 414 3 view .LVU2
  35              		.loc 1 414 6 is_stmt 0 view .LVU3
  36 0000 0328     		cmp	r0, #3
  37 0002 03D8     		bhi	.L3
 415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("tryget_socket_unconn(%d): invalid\n", fd));
 416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 418:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return &sockets[s];
  38              		.loc 1 418 3 is_stmt 1 view .LVU4
  39              		.loc 1 418 10 is_stmt 0 view .LVU5
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 9


  40 0004 024B     		ldr	r3, .L4
  41 0006 03EB0010 		add	r0, r3, r0, lsl #4
  42              	.LVL1:
  43              		.loc 1 418 10 view .LVU6
  44 000a 7047     		bx	lr
  45              	.LVL2:
  46              	.L3:
 416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
  47              		.loc 1 416 12 view .LVU7
  48 000c 0020     		movs	r0, #0
  49              	.LVL3:
 419:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
  50              		.loc 1 419 1 view .LVU8
  51 000e 7047     		bx	lr
  52              	.L5:
  53              		.align	2
  54              	.L4:
  55 0010 00000000 		.word	.LANCHOR0
  56              		.cfi_endproc
  57              	.LFE366:
  59              		.section	.text.tryget_socket_unconn,"ax",%progbits
  60              		.align	1
  61              		.syntax unified
  62              		.thumb
  63              		.thumb_func
  65              	tryget_socket_unconn:
  66              	.LVL4:
  67              	.LFB368:
 420:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 421:Middlewares/Third_Party/LwIP/src/api/sockets.c **** struct lwip_sock *
 422:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket_dbg_get_socket(int fd)
 423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 424:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return tryget_socket_unconn_nouse(fd);
 425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 426:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 427:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Translate a socket 'int' into a pointer (only fails if the index is invalid) */
 428:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 429:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket_unconn(int fd)
 430:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
  68              		.loc 1 430 1 is_stmt 1 view -0
  69              		.cfi_startproc
  70              		@ args = 0, pretend = 0, frame = 0
  71              		@ frame_needed = 0, uses_anonymous_args = 0
  72              		.loc 1 430 1 is_stmt 0 view .LVU10
  73 0000 08B5     		push	{r3, lr}
  74              	.LCFI0:
  75              		.cfi_def_cfa_offset 8
  76              		.cfi_offset 3, -8
  77              		.cfi_offset 14, -4
 431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *ret = tryget_socket_unconn_nouse(fd);
  78              		.loc 1 431 3 is_stmt 1 view .LVU11
  79              		.loc 1 431 27 is_stmt 0 view .LVU12
  80 0002 FFF7FEFF 		bl	tryget_socket_unconn_nouse
  81              	.LVL5:
 432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (ret != NULL) {
  82              		.loc 1 432 3 is_stmt 1 view .LVU13
 433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock_inc_used(ret)) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 10


 434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return NULL;
 435:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 437:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
  83              		.loc 1 437 3 view .LVU14
 438:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
  84              		.loc 1 438 1 is_stmt 0 view .LVU15
  85 0006 08BD     		pop	{r3, pc}
  86              		.cfi_endproc
  87              	.LFE368:
  89              		.section	.text.tryget_socket_unconn_locked,"ax",%progbits
  90              		.align	1
  91              		.syntax unified
  92              		.thumb
  93              		.thumb_func
  95              	tryget_socket_unconn_locked:
  96              	.LVL6:
  97              	.LFB369:
 439:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 440:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Like tryget_socket_unconn(), but called under SYS_ARCH_PROTECT lock. */
 441:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 442:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket_unconn_locked(int fd)
 443:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
  98              		.loc 1 443 1 is_stmt 1 view -0
  99              		.cfi_startproc
 100              		@ args = 0, pretend = 0, frame = 0
 101              		@ frame_needed = 0, uses_anonymous_args = 0
 102              		.loc 1 443 1 is_stmt 0 view .LVU17
 103 0000 08B5     		push	{r3, lr}
 104              	.LCFI1:
 105              		.cfi_def_cfa_offset 8
 106              		.cfi_offset 3, -8
 107              		.cfi_offset 14, -4
 444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *ret = tryget_socket_unconn_nouse(fd);
 108              		.loc 1 444 3 is_stmt 1 view .LVU18
 109              		.loc 1 444 27 is_stmt 0 view .LVU19
 110 0002 FFF7FEFF 		bl	tryget_socket_unconn_nouse
 111              	.LVL7:
 445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (ret != NULL) {
 112              		.loc 1 445 3 is_stmt 1 view .LVU20
 446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock_inc_used_locked(ret)) {
 447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return NULL;
 448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
 113              		.loc 1 450 3 view .LVU21
 451:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 114              		.loc 1 451 1 is_stmt 0 view .LVU22
 115 0006 08BD     		pop	{r3, pc}
 116              		.cfi_endproc
 117              	.LFE369:
 119              		.section	.text.tryget_socket,"ax",%progbits
 120              		.align	1
 121              		.syntax unified
 122              		.thumb
 123              		.thumb_func
 125              	tryget_socket:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 11


 126              	.LVL8:
 127              	.LFB370:
 452:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 453:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Same as get_socket but doesn't set errno
 455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param fd externally used socket index
 457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return struct lwip_sock for the socket or NULL if not found
 458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 459:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** tryget_socket(int fd)
 461:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 128              		.loc 1 461 1 is_stmt 1 view -0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 0
 131              		@ frame_needed = 0, uses_anonymous_args = 0
 132              		.loc 1 461 1 is_stmt 0 view .LVU24
 133 0000 08B5     		push	{r3, lr}
 134              	.LCFI2:
 135              		.cfi_def_cfa_offset 8
 136              		.cfi_offset 3, -8
 137              		.cfi_offset 14, -4
 462:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket_unconn(fd);
 138              		.loc 1 462 3 is_stmt 1 view .LVU25
 139              		.loc 1 462 28 is_stmt 0 view .LVU26
 140 0002 FFF7FEFF 		bl	tryget_socket_unconn
 141              	.LVL9:
 463:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock != NULL) {
 142              		.loc 1 463 3 is_stmt 1 view .LVU27
 143              		.loc 1 463 6 is_stmt 0 view .LVU28
 144 0006 0346     		mov	r3, r0
 145 0008 08B1     		cbz	r0, .L10
 464:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->conn) {
 146              		.loc 1 464 5 is_stmt 1 view .LVU29
 147              		.loc 1 464 13 is_stmt 0 view .LVU30
 148 000a 0268     		ldr	r2, [r0]
 149              		.loc 1 464 8 view .LVU31
 150 000c 0AB1     		cbz	r2, .L13
 151              	.L10:
 465:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return sock;
 466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return NULL;
 470:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 152              		.loc 1 470 1 view .LVU32
 153 000e 1846     		mov	r0, r3
 154              	.LVL10:
 155              		.loc 1 470 1 view .LVU33
 156 0010 08BD     		pop	{r3, pc}
 157              	.LVL11:
 158              	.L13:
 469:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 159              		.loc 1 469 10 view .LVU34
 160 0012 1346     		mov	r3, r2
 161 0014 FBE7     		b	.L10
 162              		.cfi_endproc
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 12


 163              	.LFE370:
 165              		.section	.text.get_socket,"ax",%progbits
 166              		.align	1
 167              		.syntax unified
 168              		.thumb
 169              		.thumb_func
 171              	get_socket:
 172              	.LVL12:
 173              	.LFB371:
 471:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 472:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Map a externally used socket index to the internal socket representation.
 474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param fd externally used socket index
 476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return struct lwip_sock for the socket or NULL if not found
 477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 478:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static struct lwip_sock *
 479:Middlewares/Third_Party/LwIP/src/api/sockets.c **** get_socket(int fd)
 480:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 174              		.loc 1 480 1 is_stmt 1 view -0
 175              		.cfi_startproc
 176              		@ args = 0, pretend = 0, frame = 0
 177              		@ frame_needed = 0, uses_anonymous_args = 0
 178              		.loc 1 480 1 is_stmt 0 view .LVU36
 179 0000 08B5     		push	{r3, lr}
 180              	.LCFI3:
 181              		.cfi_def_cfa_offset 8
 182              		.cfi_offset 3, -8
 183              		.cfi_offset 14, -4
 481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(fd);
 184              		.loc 1 481 3 is_stmt 1 view .LVU37
 185              		.loc 1 481 28 is_stmt 0 view .LVU38
 186 0002 FFF7FEFF 		bl	tryget_socket
 187              	.LVL13:
 482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 188              		.loc 1 482 3 is_stmt 1 view .LVU39
 189              		.loc 1 482 6 is_stmt 0 view .LVU40
 190 0006 00B1     		cbz	r0, .L17
 191              	.L14:
 483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((fd < LWIP_SOCKET_OFFSET) || (fd >= (LWIP_SOCKET_OFFSET + NUM_SOCKETS))) {
 484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("get_socket(%d): invalid\n", fd));
 485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EBADF);
 487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return sock;
 490:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 192              		.loc 1 490 1 view .LVU41
 193 0008 08BD     		pop	{r3, pc}
 194              	.L17:
 483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((fd < LWIP_SOCKET_OFFSET) || (fd >= (LWIP_SOCKET_OFFSET + NUM_SOCKETS))) {
 195              		.loc 1 483 5 is_stmt 1 view .LVU42
 484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 196              		.loc 1 484 68 view .LVU43
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 197              		.loc 1 486 5 view .LVU44
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 13


 198              		.loc 1 486 5 view .LVU45
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 199              		.loc 1 486 5 view .LVU46
 200 000a 024B     		ldr	r3, .L18
 201 000c 0922     		movs	r2, #9
 202 000e 1A60     		str	r2, [r3]
 486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 203              		.loc 1 486 5 view .LVU47
 487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 204              		.loc 1 487 5 view .LVU48
 487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 205              		.loc 1 487 12 is_stmt 0 view .LVU49
 206 0010 FAE7     		b	.L14
 207              	.L19:
 208 0012 00BF     		.align	2
 209              	.L18:
 210 0014 00000000 		.word	errno
 211              		.cfi_endproc
 212              	.LFE371:
 214              		.section	.text.free_socket_locked,"ax",%progbits
 215              		.align	1
 216              		.syntax unified
 217              		.thumb
 218              		.thumb_func
 220              	free_socket_locked:
 221              	.LVL14:
 222              	.LFB373:
 491:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 492:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Allocate a new socket for a given netconn.
 494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param newconn the netconn for which to allocate a socket
 496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param accepted 1 if socket has been created by accept(),
 497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *                 0 if socket has been created by socket()
 498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return the index of the new socket; -1 on error
 499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 500:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 501:Middlewares/Third_Party/LwIP/src/api/sockets.c **** alloc_socket(struct netconn *newconn, int accepted)
 502:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(accepted);
 506:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* allocate a new socket identifier */
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; i < NUM_SOCKETS; ++i) {
 509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sockets[i].conn) {
 512:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sockets[i].fd_used) {
 514:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
 515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         continue;
 516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].fd_used    = 1;
 518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].fd_free_pending = 0;
 519:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].conn       = newconn;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 14


 521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          after having marked it as used. */
 523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].lastdata.pbuf = NULL;
 525:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("sockets[i].select_waiting == 0", sockets[i].select_waiting == 0);
 527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * (unless it has been created by accept()). */
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].sendevent  = (NETCONNTYPE_GROUP(newconn->type) == NETCONN_TCP ? (accepted != 0) : 
 531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 532:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return i + LWIP_SOCKET_OFFSET;
 534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
 538:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 539:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 540:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Free a socket (under lock)
 541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param sock the socket to free
 543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param is_tcp != 0 for TCP sockets, used to free lastdata
 544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param conn the socekt's netconn is stored here, must be freed externally
 545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param lastdata lastdata is stored here, must be freed externally
 546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 547:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
 548:Middlewares/Third_Party/LwIP/src/api/sockets.c **** free_socket_locked(struct lwip_sock *sock, int is_tcp, struct netconn **conn,
 549:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                    union lwip_sock_lastdata *lastdata)
 550:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 223              		.loc 1 550 1 is_stmt 1 view -0
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 0, uses_anonymous_args = 0
 227              		@ link register save eliminated.
 551:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("sock->fd_used > 0", sock->fd_used > 0);
 553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->fd_used--;
 554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->fd_used > 0) {
 555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->fd_free_pending = LWIP_SOCK_FD_FREE_FREE | (is_tcp ? LWIP_SOCK_FD_FREE_TCP : 0);
 556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 558:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
 559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(is_tcp);
 228              		.loc 1 559 3 view .LVU51
 560:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 561:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *lastdata = sock->lastdata;
 229              		.loc 1 562 3 view .LVU52
 230              		.loc 1 562 13 is_stmt 0 view .LVU53
 231 0000 4168     		ldr	r1, [r0, #4]
 232              	.LVL15:
 233              		.loc 1 562 13 view .LVU54
 234 0002 1960     		str	r1, [r3]
 563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->lastdata.pbuf = NULL;
 235              		.loc 1 563 3 is_stmt 1 view .LVU55
 236              		.loc 1 563 23 is_stmt 0 view .LVU56
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 15


 237 0004 0023     		movs	r3, #0
 238              	.LVL16:
 239              		.loc 1 563 23 view .LVU57
 240 0006 4360     		str	r3, [r0, #4]
 564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *conn = sock->conn;
 241              		.loc 1 564 3 is_stmt 1 view .LVU58
 242              		.loc 1 564 15 is_stmt 0 view .LVU59
 243 0008 0168     		ldr	r1, [r0]
 244              		.loc 1 564 9 view .LVU60
 245 000a 1160     		str	r1, [r2]
 565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock->conn = NULL;
 246              		.loc 1 565 3 is_stmt 1 view .LVU61
 247              		.loc 1 565 14 is_stmt 0 view .LVU62
 248 000c 0360     		str	r3, [r0]
 566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 1;
 249              		.loc 1 566 3 is_stmt 1 view .LVU63
 567:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 250              		.loc 1 567 1 is_stmt 0 view .LVU64
 251 000e 0120     		movs	r0, #1
 252              	.LVL17:
 253              		.loc 1 567 1 view .LVU65
 254 0010 7047     		bx	lr
 255              		.cfi_endproc
 256              	.LFE373:
 258              		.section	.text.lwip_poll_should_wake,"ax",%progbits
 259              		.align	1
 260              		.syntax unified
 261              		.thumb
 262              		.thumb_func
 264              	lwip_poll_should_wake:
 265              	.LVL18:
 266              	.LFB402:
 568:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 569:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Free a socket's leftover members.
 570:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 571:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 572:Middlewares/Third_Party/LwIP/src/api/sockets.c **** free_socket_free_elements(int is_tcp, struct netconn *conn, union lwip_sock_lastdata *lastdata)
 573:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (lastdata->pbuf != NULL) {
 575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       pbuf_free(lastdata->pbuf);
 577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_delete(lastdata->netbuf);
 579:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (conn != NULL) {
 582:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* netconn_prepare_delete() has already been called, here we only free the conn */
 583:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
 584:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 586:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 587:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Free a socket. The socket's netconn must have been
 588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * delete before!
 589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param sock the socket to free
 591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param is_tcp != 0 for TCP sockets, used to free lastdata
 592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 16


 593:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
 594:Middlewares/Third_Party/LwIP/src/api/sockets.c **** free_socket(struct lwip_sock *sock, int is_tcp)
 595:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int freed;
 597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union lwip_sock_lastdata lastdata;
 599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 600:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Protect socket array */
 602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 603:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   freed = free_socket_locked(sock, is_tcp, &conn, &lastdata);
 605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 607:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (freed) {
 609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 610:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 611:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 612:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 613:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Below this, the well-known socket functions are implemented.
 614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Use google.com or opengroup.org to get a good description :-)
 615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Exceptions are documented!
 617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 618:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 619:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 620:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_accept(int s, struct sockaddr *addr, socklen_t *addrlen)
 621:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *newconn;
 624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
 625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port = 0;
 626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int newsock;
 627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int recvevent;
 629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 630:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d)...\n", s));
 632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 636:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 637:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* wait for a new connection */
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_accept(sock->conn, &newconn);
 639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EINVAL);
 645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 647:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 17


 650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("newconn != NULL", newconn != NULL);
 652:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newsock = alloc_socket(newconn, 1);
 654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newsock == -1) {
 655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(newconn);
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENFILE);
 657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("invalid socket index", (newsock >= LWIP_SOCKET_OFFSET) && (newsock < NUM_SOCKETS + L
 661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 662:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* See event_callback: If data comes in right away after an accept, even
 664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * though the server task might not have created a new socket yet.
 665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * In that case, newconn->socket is counted down (newconn->socket--),
 666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * so nsock->rcvevent is >= 1 here!
 667:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    */
 668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   recvevent = (s16_t)(-1 - newconn->socket);
 670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 672:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newconn->callback) {
 674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LOCK_TCPIP_CORE();
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     while (recvevent > 0) {
 676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recvevent--;
 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       newconn->callback(newconn, NETCONN_EVT_RCVPLUS, 0);
 678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     UNLOCK_TCPIP_CORE();
 680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Note that POSIX only requires us to check addr is non-NULL. addrlen must
 683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * not be NULL if addr is valid.
 684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    */
 685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((addr != NULL) && (addrlen != NULL)) {
 686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     union sockaddr_aligned tempaddr;
 687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* get the IP address and port of the remote host */
 688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_peer(newconn, &naddr, &port);
 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_delete(newconn);
 692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       free_socket(nsock, 1);
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 696:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 697:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IPADDR_PORT_TO_SOCKADDR(&tempaddr, &naddr, port);
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 700:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     MEMCPY(addr, &tempaddr, *addrlen);
 703:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d) returning new sock=%d addr=", s, newsock));
 705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", port));
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 18


 707:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d) returning new sock=%d", s, newsock));
 709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 710:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 711:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(nsock);
 714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return newsock;
 715:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 716:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 717:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 718:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_bind(int s, const struct sockaddr *name, socklen_t namelen)
 719:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t local_addr;
 722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t local_port;
 723:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 724:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 729:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!SOCK_ADDR_TYPE_MATCH(name, sock)) {
 731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_VAL));
 733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 736:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* check size, family and alignment of 'name' */
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_bind: invalid address", (IS_SOCK_ADDR_LEN_VALID(namelen) &&
 739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 740:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(namelen);
 742:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SOCKADDR_TO_IPADDR_PORT(name, &local_addr, local_port);
 744:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 745:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, local_addr);
 746:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", local_port));
 747:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 748:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 749:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
 750:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (IP_IS_V6_VAL(local_addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&local_addr))) {
 751:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     unmap_ipv4_mapped_ipv6(ip_2_ip4(&local_addr), ip_2_ip6(&local_addr));
 752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IP_SET_TYPE_VAL(local_addr, IPADDR_TYPE_V4);
 753:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 755:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_bind(sock->conn, &local_addr, local_port);
 757:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 19


 764:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) succeeded\n", s));
 766:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 767:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 769:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 770:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 771:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 772:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_close(int s)
 773:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int is_tcp = 0;
 776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 777:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 778:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_close(%d)\n", s));
 779:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 783:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->conn != NULL) {
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 787:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("sock->lastdata == NULL", sock->lastdata.pbuf == NULL);
 789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 790:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IGMP
 792:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* drop all possibly joined IGMP memberships */
 793:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_socket_drop_registered_memberships(s);
 794:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IGMP */
 795:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6_MLD
 796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* drop all possibly joined MLD6 memberships */
 797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_socket_drop_registered_mld6_memberships(s);
 798:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6_MLD */
 799:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_prepare_delete(sock->conn);
 801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 806:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   free_socket(sock, is_tcp);
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 810:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 811:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 812:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 813:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_connect(int s, const struct sockaddr *name, socklen_t namelen)
 814:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 816:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 817:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 820:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 20


 821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 822:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 823:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!SOCK_ADDR_TYPE_MATCH_OR_UNSPEC(name, sock)) {
 824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_VAL));
 826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 828:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 829:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(namelen);
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (name->sa_family == AF_UNSPEC) {
 832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_disconnect(sock->conn);
 834:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 835:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_t remote_addr;
 836:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t remote_port;
 837:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* check size, family and alignment of 'name' */
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ERROR("lwip_connect: invalid address", IS_SOCK_ADDR_LEN_VALID(namelen) &&
 840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 841:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 842:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(name, &remote_addr, remote_port);
 844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 845:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, remote_addr);
 846:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", remote_port));
 847:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 848:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
 850:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (IP_IS_V6_VAL(remote_addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&remote_addr))) {
 851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       unmap_ipv4_mapped_ipv6(ip_2_ip4(&remote_addr), ip_2_ip6(&remote_addr));
 852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP_SET_TYPE_VAL(remote_addr, IPADDR_TYPE_V4);
 853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 854:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
 855:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_connect(sock->conn, &remote_addr, remote_port);
 857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 858:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 865:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) succeeded\n", s));
 867:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 870:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 871:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 872:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
 873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Set a socket into listen mode.
 874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * The socket may not have been used for another connection previously.
 875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
 876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param s the socket to set to listening mode
 877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param backlog (ATTENTION: needs TCP_LISTEN_BACKLOG=1)
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 21


 878:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return 0 on success, non-zero on failure
 879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 880:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
 881:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_listen(int s, int backlog)
 882:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 885:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d, backlog=%d)\n", s, backlog));
 887:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 892:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* limit the "backlog" parameter to fit in an u8_t */
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   backlog = LWIP_MIN(LWIP_MAX(backlog, 0), 0xff);
 895:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_listen_with_backlog(sock->conn, (u8_t)backlog);
 897:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 902:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 908:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
 910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 912:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 913:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 914:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 915:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Helper function to loop over receiving pbufs from netconn
 916:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * until "len" bytes are received or we're otherwise done.
 917:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Keeps sock->lastdata for peeking or partly copying.
 918:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
 919:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static ssize_t
 920:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp(struct lwip_sock *sock, void *mem, size_t len, int flags)
 921:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags = NETCONN_NOAUTORCVD;
 923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recvd = 0;
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recv_left = (len <= SSIZE_MAX) ? (ssize_t)len : SSIZE_MAX;
 925:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("no socket given", sock != NULL);
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (flags & MSG_DONTWAIT) {
 930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK;
 931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 932:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   do {
 934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct pbuf *p;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 22


 935:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 936:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t copylen;
 937:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: top while sock->lastdata=%p\n", (void *)sock->lastd
 939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check if there is data left from the last recv operation. */
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock->lastdata.pbuf) {
 941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = sock->lastdata.pbuf;
 942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 943:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* No data was left from the previous operation, so we try to get
 944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          some from the network. */
 945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = netconn_recv_tcp_pbuf_flags(sock->conn, &p, apiflags);
 946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: netconn_recv err=%d, pbuf=%p\n",
 947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   err, (void *)p));
 948:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (err != ERR_OK) {
 950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (recvd > 0) {
 951:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 952:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              netconn layer again next time netconn_recv is called) */
 953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           goto lwip_recv_tcp_done;
 954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* We should really do some error checking here. */
 956:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: p == NULL, error is \"%s\"!\n",
 957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                     lwip_strerr(err)));
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, err_to_errno(err));
 959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return 0;
 961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return -1;
 963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 964:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("p != NULL", p != NULL);
 966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 968:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: buflen=%"U16_F" recv_left=%d off=%d\n",
 970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                 p->tot_len, (int)recv_left, (int)recvd));
 971:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (recv_left > p->tot_len) {
 973:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = p->tot_len;
 974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = (u16_t)recv_left;
 976:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (recvd + copylen < recvd) {
 978:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* overflow */
 979:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = (u16_t)(SSIZE_MAX - recvd);
 980:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 981:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 982:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* copy the contents of the received buffer into
 983:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     the supplied memory pointer mem */
 984:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     pbuf_copy_partial(p, (u8_t *)mem + recvd, copylen, 0);
 985:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recvd += copylen;
 987:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* TCP combines multiple pbufs for one recv */
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("invalid copylen, len would underflow", recv_left >= copylen);
 990:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 991:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 23


 992:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Unless we peek the incoming message... */
 993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((flags & MSG_PEEK) == 0) {
 994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... check if there is data left in the pbuf */
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("invalid copylen", p->tot_len >= copylen);
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            We store the pbuf but hide/free the consumed data: */
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastdata.pbuf = pbuf_free_header(p, copylen);
1000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
1001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
1002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock->lastdata.pbuf = NULL;
1003:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: deleting pbuf=%p\n", (void *)p));
1004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         pbuf_free(p);
1005:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1006:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* once we have some data to return, only add more if we don't need to wait */
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK | NETCONN_NOFIN;
1009:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
1010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } while ((recv_left > 0) && !(flags & MSG_PEEK));
1011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_done:
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((recvd > 0) && !(flags & MSG_PEEK)) {
1013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* ensure window update after copying all data */
1014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_tcp_recvd(sock->conn, (size_t)recvd);
1015:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1016:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
1017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return recvd;
1018:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1019:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1020:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1021:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Convert a netbuf's address data to struct sockaddr */
1022:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
1023:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sock_make_addr(struct netconn *conn, ip_addr_t *fromaddr, u16_t port,
1024:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                     struct sockaddr *from, socklen_t *fromlen)
1025:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int truncated = 0;
1027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
1028:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(conn);
1030:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromaddr != NULL", fromaddr != NULL);
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
1034:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1035:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1036:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Dual-stack: Map IPv4 addresses to IPv4 mapped IPv6 */
1037:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(conn)) && IP_IS_V4(fromaddr)) {
1038:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip4_2_ipv4_mapped_ipv6(ip_2_ip6(fromaddr), ip_2_ip4(fromaddr));
1039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IP_SET_TYPE(fromaddr, IPADDR_TYPE_V6);
1040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1041:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1042:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   IPADDR_PORT_TO_SOCKADDR(&saddr, fromaddr, port);
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
1045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
1046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (*fromlen > saddr.sa.sa_len) {
1047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *fromlen = saddr.sa.sa_len;
1048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 24


1049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(from, &saddr, *fromlen);
1050:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return truncated;
1051:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1052:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1053:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1054:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Helper function to get a tcp socket's remote address info */
1055:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
1056:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_from(struct lwip_sock *sock, struct sockaddr *from, socklen_t *fromlen, const char *d
1057:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock == NULL) {
1059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
1060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_fn);
1062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_s);
1063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_ret);
1064:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1065:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !SOCKETS_DEBUG
1066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (from && fromlen)
1067:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
1068:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1069:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* get remote addr/port from tcp_pcb */
1070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t port;
1071:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_t tmpaddr;
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_getaddr(sock->conn, &tmpaddr, &port, 0);
1073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
1074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, tmpaddr);
1075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", port, (int)dbg_ret));
1076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (from && fromlen) {
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return lwip_sock_make_addr(sock->conn, &tmpaddr, port, from, fromlen);
1078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1079:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
1081:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1082:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1083:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1084:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Helper function to receive a netbuf from a udp or raw netconn.
1085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Keeps sock->lastdata for peeking.
1086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1087:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static err_t
1088:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recvfrom_udp_raw(struct lwip_sock *sock, int flags, struct msghdr *msg, u16_t *datagram_len, i
1089:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf *buf;
1091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags;
1092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
1093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t buflen, copylen, copied;
1094:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1095:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1096:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_s);
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvfrom_udp_raw: invalid arguments", (msg->msg_iov != NULL) || (msg->msg_iovlen
1098:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (flags & MSG_DONTWAIT) {
1100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags = NETCONN_DONTBLOCK;
1101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags = 0;
1103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1104:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: top sock->lastdata=%p\n", (void *)so
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 25


1106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Check if there is data left from the last recv operation. */
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buf = sock->lastdata.netbuf;
1108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (buf == NULL) {
1109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* No data was left from the previous operation, so we try to get
1110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         some from the network. */
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_recv_udp_raw_netbuf_flags(sock->conn, &buf, apiflags);
1112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
1113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                 err, (void *)buf));
1114:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
1116:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return err;
1117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("buf != NULL", buf != NULL);
1119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
1120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buflen = buf->p->tot_len;
1122:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
1123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   copied = 0;
1125:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy the pbuf payload into the iovs */
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; (i < msg->msg_iovlen) && (copied < buflen); i++) {
1127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_iov[i].iov_len > len_left) {
1129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
1130:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = (u16_t)msg->msg_iov[i].iov_len;
1132:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1133:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1134:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* copy the contents of the received buffer into
1135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         the supplied memory buffer */
1136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     pbuf_copy_partial(buf->p, (u8_t *)msg->msg_iov[i].iov_base, copylen, copied);
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     copied = (u16_t)(copied + copylen);
1138:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1139:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1140:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Check to see from where the data was.*/
1141:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !SOCKETS_DEBUG
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (msg->msg_name && msg->msg_namelen)
1143:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
1144:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw(%d):  addr=", dbg_s));
1146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, *netbuf_fromaddr(buf));
1147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", netbuf_fromport(buf), copied));
1148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name && msg->msg_namelen) {
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_sock_make_addr(sock->conn, netbuf_fromaddr(buf), netbuf_fromport(buf),
1150:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
1151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1152:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1153:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Initialize flag output */
1155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg->msg_flags = 0;
1156:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (msg->msg_control) {
1158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u8_t wrote_msg = 0;
1159:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
1160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check if packet info was recorded */
1161:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (buf->flags & NETBUF_FLAG_DESTADDR) {
1162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (IP_IS_V4(&buf->toaddr)) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 26


1163:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
1164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (msg->msg_controllen >= CMSG_SPACE(sizeof(struct in_pktinfo))) {
1165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct cmsghdr *chdr = CMSG_FIRSTHDR(msg); /* This will always return a header!! */
1166:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct in_pktinfo *pkti = (struct in_pktinfo *)CMSG_DATA(chdr);
1167:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           chdr->cmsg_level = IPPROTO_IP;
1168:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           chdr->cmsg_type = IP_PKTINFO;
1169:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           chdr->cmsg_len = CMSG_LEN(sizeof(struct in_pktinfo));
1170:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           pkti->ipi_ifindex = buf->p->if_idx;
1171:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_from_ip4addr(&pkti->ipi_addr, ip_2_ip4(netbuf_destaddr(buf)));
1172:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           msg->msg_controllen = CMSG_SPACE(sizeof(struct in_pktinfo));
1173:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           wrote_msg = 1;
1174:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
1175:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           msg->msg_flags |= MSG_CTRUNC;
1176:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1177:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 */
1178:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1180:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETBUF_RECVINFO */
1181:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!wrote_msg) {
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       msg->msg_controllen = 0;
1184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1185:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1186:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1187:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* If we don't peek the incoming message: zero lastdata pointer and free the netbuf */
1188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((flags & MSG_PEEK) == 0) {
1189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = NULL;
1190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_delete(buf);
1191:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (datagram_len) {
1193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *datagram_len = buflen;
1194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ERR_OK;
1196:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1197:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1198:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recvfrom(int s, void *mem, size_t len, int flags,
1200:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               struct sockaddr *from, socklen_t *fromlen)
1201:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t ret;
1204:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom(%d, %p, %"SZT_F", 0x%x, ..)\n", s, mem, len, flags));
1206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1210:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
1213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
1214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return ret;
1216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else
1217:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t datagram_len = 0;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 27


1220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct iovec vec;
1221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct msghdr msg;
1222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
1223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_base = mem;
1224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_len = len;
1225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_control = NULL;
1226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_controllen = 0;
1227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_flags = 0;
1228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iov = &vec;
1229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iovlen = 1;
1230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_name = from;
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_namelen = (fromlen ? *fromlen : 0);
1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
1234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
1235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, lwip_strerr(err)));
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
1237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1239:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = (ssize_t)LWIP_MIN(LWIP_MIN(len, datagram_len), SSIZE_MAX);
1241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *fromlen = msg.msg_namelen;
1243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1245:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
1247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
1249:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1250:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1251:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1252:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_read(int s, void *mem, size_t len)
1253:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
1255:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1256:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1257:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1258:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_readv(int s, const struct iovec *iov, int iovcnt)
1259:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1260:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
1261:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_name = NULL;
1263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
1264:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
1265:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      Blame the opengroup standard for this inconsistency. */
1266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iov = LWIP_CONST_CAST(struct iovec *, iov);
1267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
1268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
1269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
1270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvmsg(s, &msg, 0);
1272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1274:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv(int s, void *mem, size_t len, int flags)
1276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 28


1277:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
1278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1279:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1280:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1281:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recvmsg(int s, struct msghdr *message, int flags)
1282:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1284:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1285:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t buflen;
1286:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1287:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg(%d, message=%p, flags=0x%x)\n", s, (void *)message, fla
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: invalid message pointer", message != NULL, return ERR_ARG;);
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
1290:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
1291:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((message->msg_iovlen <= 0) || (message->msg_iovlen > IOV_MAX)) {
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1295:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1297:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1298:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1299:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1300:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1301:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1302:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* check for valid vectors */
1303:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buflen = 0;
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; i < message->msg_iovlen; i++) {
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
1306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
1307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((ssize_t)(buflen + (ssize_t)message->msg_iov[i].iov_len) <= 0)) {
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(ERR_VAL));
1309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
1310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1311:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     buflen = (ssize_t)(buflen + (ssize_t)message->msg_iov[i].iov_len);
1313:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1314:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int recv_flags = flags;
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     message->msg_flags = 0;
1319:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* recv the data */
1320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     buflen = 0;
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < message->msg_iovlen; i++) {
1322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ssize_t recvd_local = lwip_recv_tcp(sock, message->msg_iov[i].iov_base, message->msg_iov[i].i
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
1325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* sum up received bytes */
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         buflen += recvd_local;
1327:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((recvd_local < 0) || (recvd_local < (int)message->msg_iov[i].iov_len) ||
1329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
1330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* returned prematurely (or peeking, which might actually be limitated to the first iov) */
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (buflen <= 0) {
1332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
1333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           buflen = recvd_local;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 29


1334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1335:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
1336:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* pass MSG_DONTWAIT to lwip_recv_tcp() to prevent waiting for more data */
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recv_flags |= MSG_DONTWAIT;
1339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (buflen > 0) {
1341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* reset socket error since we have received something */
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
1343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* " If the socket is connected, the msg_name and msg_namelen members shall be ignored." */
1345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return buflen;
1347:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
1348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1351:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
1352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* else, UDP and RAW NETCONNs */
1354:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP || LWIP_RAW
1355:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t datagram_len = 0;
1357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
1358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, message, &datagram_len, s);
1359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
1360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
1361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, lwip_strerr(err)));
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
1363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (datagram_len > buflen) {
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
1368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1369:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, 0);
1371:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1372:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (int)datagram_len;
1373:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1374:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_UDP || LWIP_RAW */
1375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(ERR_ARG));
1376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1377:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
1378:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP || LWIP_RAW */
1379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1380:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1381:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1382:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_send(int s, const void *data, size_t size, int flags)
1383:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
1386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t write_flags;
1387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
1388:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_send(%d, data=%p, size=%"SZT_F", flags=0x%x)\n",
1390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               s, data, size, flags));
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 30


1391:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1396:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
1398:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
1399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_sendto(s, data, size, flags, NULL, 0);
1401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
1402:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1403:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1404:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1405:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
1406:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1407:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   write_flags = (u8_t)(NETCONN_COPY |
1409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
1410:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
1411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   written = 0;
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
1413:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_send(%d) err=%d written=%"SZT_F"\n", s, err, written));
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
1416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? (ssize_t)written : -1);
1419:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1420:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1421:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1422:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sendmsg(int s, const struct msghdr *msg, int flags)
1423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1424:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1426:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t write_flags;
1427:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
1428:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err = ERR_OK;
1430:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1435:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: invalid msghdr", msg != NULL,
1437:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: invalid msghdr iov", msg->msg_iov != NULL,
1439:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: maximum iovs exceeded", (msg->msg_iovlen > 0) && (msg->msg_iovlen <= IO
1441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendmsg: unsupported flags", (flags & ~(MSG_DONTWAIT | MSG_MORE)) == 0,
1443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
1444:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_control);
1446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_controllen);
1447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_flags);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 31


1448:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1450:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     write_flags = (u8_t)(NETCONN_COPY |
1452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
1453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
1454:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     written = 0;
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
1458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1459:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (err == ERR_OK ? (ssize_t)written : -1);
1461:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
1462:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1463:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1464:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1465:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
1466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* else, UDP and RAW NETCONNs */
1468:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP || LWIP_RAW
1469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   {
1470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct netbuf chain_buf;
1471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int i;
1472:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ssize_t size = 0;
1473:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_UNUSED_ARG(flags);
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ERROR("lwip_sendmsg: invalid msghdr name", (((msg->msg_name == NULL) && (msg->msg_namelen 
1476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
1477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1478:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* initialize chain buffer with destination */
1480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     memset(&chain_buf, 0, sizeof(struct netbuf));
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name) {
1482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SOCKADDR_TO_IPADDR_PORT((const struct sockaddr *)msg->msg_name, &chain_buf.addr, remote_port)
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
1485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1486:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
1487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < msg->msg_iovlen; i++) {
1488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size += msg->msg_iov[i].iov_len;
1489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((msg->msg_iov[i].iov_len > INT_MAX) || (size < (int)msg->msg_iov[i].iov_len)) {
1490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
1491:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         goto sendmsg_emsgsize;
1492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (size > 0xFFFF) {
1495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* overflow */
1496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto sendmsg_emsgsize;
1497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Allocate a new netbuf and copy the data into it. */
1499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (netbuf_alloc(&chain_buf, (u16_t)size) == NULL) {
1500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ERR_MEM;
1501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
1502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* flatten the IO vectors */
1503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size_t offset = 0;
1504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = 0; i < msg->msg_iovlen; i++) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 32


1505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         MEMCPY(&((u8_t *)chain_buf.p->payload)[offset], msg->msg_iov[i].iov_base, msg->msg_iov[i].i
1506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         offset += msg->msg_iov[i].iov_len;
1507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1508:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       {
1510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This can be improved by using LWIP_CHKSUM_COPY() and aggregating the checksum for each I
1511:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t chksum = ~inet_chksum_pbuf(chain_buf.p);
1512:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         netbuf_set_chksum(&chain_buf, chksum);
1513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1514:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ERR_OK;
1516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1517:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
1518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* create a chained netbuf from the IO vectors. NOTE: we assemble a pbuf chain
1519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        manually to avoid having to allocate, chain, and delete a netbuf for each iov */
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < msg->msg_iovlen; i++) {
1521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (msg->msg_iov[i].iov_len > 0xFFFF) {
1523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
1524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         goto sendmsg_emsgsize;
1525:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = pbuf_alloc(PBUF_TRANSPORT, 0, PBUF_REF);
1527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p == NULL) {
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
1529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
1530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->payload = msg->msg_iov[i].iov_base;
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
1533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (chain_buf.p == NULL) {
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
1536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
1537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (chain_buf.p->tot_len + p->len > 0xffff) {
1539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
1540:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           pbuf_free(p);
1541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           goto sendmsg_emsgsize;
1542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         pbuf_cat(chain_buf.p, p);
1544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* save size of total chain */
1547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err == ERR_OK) {
1548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size = netbuf_len(&chain_buf);
1549:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1550:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
1551:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err == ERR_OK) {
1553:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
1555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (IP_IS_V6_VAL(chain_buf.addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&chain_buf.addr))) {
1556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         unmap_ipv4_mapped_ipv6(ip_2_ip4(&chain_buf.addr), ip_2_ip6(&chain_buf.addr));
1557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         IP_SET_TYPE_VAL(chain_buf.addr, IPADDR_TYPE_V4);
1558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1559:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1560:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* send the data */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 33


1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = netconn_send(sock->conn, &chain_buf);
1563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1564:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* deallocated the buffer */
1566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
1567:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
1569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (err == ERR_OK ? size : -1);
1571:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EMSGSIZE);
1573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
1574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1577:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_UDP || LWIP_RAW */
1578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(ERR_ARG));
1579:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
1581:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP || LWIP_RAW */
1582:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1583:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1584:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sendto(int s, const void *data, size_t size, int flags,
1586:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             const struct sockaddr *to, socklen_t tolen)
1587:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
1590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t short_size;
1591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t remote_port;
1592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf buf;
1593:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
1595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
1596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1598:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
1600:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
1601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_send(s, data, size, flags);
1603:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
1604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_UNUSED_ARG(flags);
1605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(ERR_ARG));
1606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1608:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
1609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1610:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (size > LWIP_MIN(0xFFFF, SSIZE_MAX)) {
1612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* cannot fit into one datagram (at least for us) */
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EMSGSIZE);
1614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   short_size = (u16_t)size;
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 34


1619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
1620:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               ((to != NULL) && (IS_SOCK_ADDR_TYPE_VALID(to) && IS_SOCK_ADDR_ALIGNED(to))))),
1621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
1622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(tolen);
1623:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* initialize a buffer */
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buf.p = buf.ptr = NULL;
1626:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   buf.flags = 0;
1628:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (to) {
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
1631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     remote_port = 0;
1633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_set_any(NETCONNTYPE_ISIPV6(netconn_type(sock->conn)), &buf.addr);
1634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netbuf_fromport(&buf) = remote_port;
1636:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1637:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_sendto(%d, data=%p, short_size=%"U16_F", flags=0x%x to=",
1639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               s, data, short_size, flags));
1640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, buf.addr);
1641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", remote_port));
1642:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* make the buffer point to the data that should be sent */
1644:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
1645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Allocate a new netbuf and copy the data into it. */
1646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (netbuf_alloc(&buf, short_size) == NULL) {
1647:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = ERR_MEM;
1648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1649:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
1650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_RAW) {
1651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t chksum = LWIP_CHKSUM_COPY(buf.p->payload, data, short_size);
1652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_set_chksum(&buf, chksum);
1653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else
1654:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     {
1656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       MEMCPY(buf.p->payload, data, short_size);
1657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = ERR_OK;
1659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1660:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netbuf_ref(&buf, data, short_size);
1662:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
1663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err == ERR_OK) {
1664:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
1665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Dual-stack: Unmap IPv4 mapped IPv6 addresses */
1666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (IP_IS_V6_VAL(buf.addr) && ip6_addr_isipv4mappedipv6(ip_2_ip6(&buf.addr))) {
1667:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       unmap_ipv4_mapped_ipv6(ip_2_ip4(&buf.addr), ip_2_ip6(&buf.addr));
1668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP_SET_TYPE_VAL(buf.addr, IPADDR_TYPE_V4);
1669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1670:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1671:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* send the data */
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_send(sock->conn, &buf);
1674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1675:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 35


1676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* deallocated the buffer */
1677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netbuf_free(&buf);
1678:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
1680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? short_size : -1);
1682:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1683:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1684:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1685:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_socket(int domain, int type, int protocol)
1686:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
1688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1689:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(domain); /* @todo: check this */
1691:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* create a netconn */
1693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (type) {
1694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_RAW:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       conn = netconn_new_with_proto_and_callback(DOMAIN_TO_NETCONN_TYPE(domain, NETCONN_RAW),
1696:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
1697:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_RAW, %d) = ",
1698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1700:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_DGRAM:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       conn = netconn_new_with_callback(DOMAIN_TO_NETCONN_TYPE(domain,
1702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
1703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        DEFAULT_SOCKET_EVENTCB);
1704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_DGRAM, %d) = ",
1705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1706:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
1707:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (conn) {
1708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* netconn layer enables pktinfo by default, sockets default to off */
1709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         conn->flags &= ~NETCONN_FLAG_PKTINFO;
1710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1711:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETBUF_RECVINFO */
1712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_STREAM:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       conn = netconn_new_with_callback(DOMAIN_TO_NETCONN_TYPE(domain, NETCONN_TCP), DEFAULT_SOCKET_
1715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
1716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   domain == PF_INET ? "PF_INET" : "UNKNOWN", protocol));
1717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
1718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
1719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%d, %d/UNKNOWN, %d) = -1\n",
1720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   domain, type, protocol));
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EINVAL);
1722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1723:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1724:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!conn) {
1726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENOBUFS);
1728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1729:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   i = alloc_socket(conn, 0);
1732:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 36


1733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (i == -1) {
1734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENFILE);
1736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   conn->socket = i;
1739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(&sockets[i - LWIP_SOCKET_OFFSET]);
1740:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("%d\n", i));
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
1742:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
1743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1745:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1746:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_write(int s, const void *data, size_t size)
1747:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_send(s, data, size, 0);
1749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1750:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1751:Middlewares/Third_Party/LwIP/src/api/sockets.c **** ssize_t
1752:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_writev(int s, const struct iovec *iov, int iovcnt)
1753:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1754:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
1755:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_name = NULL;
1757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
1758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
1759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      Blame the opengroup standard for this inconsistency. */
1760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iov = LWIP_CONST_CAST(struct iovec *, iov);
1761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
1762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
1763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
1764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
1766:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1767:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1768:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
1769:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Add select_cb to select_cb_list. */
1770:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1771:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_link_select_cb(struct lwip_select_cb *select_cb)
1772:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
1774:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Protect the select_cb_list */
1776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_PROTECT(lev);
1777:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1778:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Put this select_cb on top of list */
1779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   select_cb->next = select_cb_list;
1780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb_list != NULL) {
1781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list->prev = select_cb;
1782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1783:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   select_cb_list = select_cb;
1784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
1785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Increasing this counter tells select_check_waiters that the list has changed. */
1786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   select_cb_ctr++;
1787:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1788:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Now we can safely unprotect */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 37


1790:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_UNPROTECT(lev);
1791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1792:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1793:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Remove select_cb from select_cb_list. */
1794:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1795:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_unlink_select_cb(struct lwip_select_cb *select_cb)
1796:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
1798:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1799:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Take us off the list */
1800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_PROTECT(lev);
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb->next != NULL) {
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
1803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb_list == select_cb) {
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
1807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev != NULL", select_cb->prev != NULL);
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
1810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1811:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
1812:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Increasing this counter tells select_check_waiters that the list has changed. */
1813:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   select_cb_ctr++;
1814:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_UNPROTECT(lev);
1816:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1817:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
1818:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1819:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT
1820:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
1821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Go through the readset and writeset lists and see which socket of the sockets
1822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * set in the sets has events. On return, readset, writeset and exceptset have
1823:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * the sockets enabled that had events.
1824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
1825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param maxfdp1 the highest socket index in the sets
1826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param readset_in    set of sockets to check for read events
1827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param writeset_in   set of sockets to check for write events
1828:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param exceptset_in  set of sockets to check for error events
1829:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param readset_out   set of sockets that had read events
1830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param writeset_out  set of sockets that had write events
1831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param exceptset_out set os sockets that had error events
1832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return number of sockets that had events (read/write/exception) (>= 0)
1833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1834:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
1835:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_selscan(int maxfdp1, fd_set *readset_in, fd_set *writeset_in, fd_set *exceptset_in,
1836:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              fd_set *readset_out, fd_set *writeset_out, fd_set *exceptset_out)
1837:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i, nready = 0;
1839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
1840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
1841:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1842:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lreadset);
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
1846:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 38


1847:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each socket in each list to count number of sockets which
1848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      currently match */
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
1850:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!(readset_in && FD_ISSET(i, readset_in)) &&
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
1854:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
1855:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* First get the socket's status (protected)... */
1857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock = tryget_socket_unconn_locked(i);
1859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
1860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       void *lastdata = sock->lastdata.pbuf;
1861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
1862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t sendevent = sock->sendevent;
1863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
1864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
1865:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... then examine it: */
1867:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* See if netconn of this socket is ready for read */
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (readset_in && FD_ISSET(i, readset_in) && ((lastdata != NULL) || (rcvevent > 0))) {
1869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
1870:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for reading\n", i));
1871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
1872:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* See if netconn of this socket is ready for write */
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (writeset_in && FD_ISSET(i, writeset_in) && (sendevent != 0)) {
1875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
1876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for writing\n", i));
1877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
1878:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* See if netconn of this socket had an error */
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (exceptset_in && FD_ISSET(i, exceptset_in) && (errevent != 0)) {
1881:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
1882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for exception\n", i));
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
1884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
1886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
1887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
1888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* no a valid open socket */
1889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
1890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy local sets to the ones provided as arguments */
1893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *readset_out = lreadset;
1894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *writeset_out = lwriteset;
1895:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *exceptset_out = lexceptset;
1896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("nready >= 0", nready >= 0);
1898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
1899:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1900:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1901:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
1902:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Mark all of the set sockets in one of the three fdsets passed to select as used.
1903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * All sockets are marked (and later unmarked), whether they are open or not.
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 39


1904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This is OK as lwip_selscan aborts select when non-open sockets are found.
1905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1906:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1907:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select_inc_sockets_used_set(int maxfdp, fd_set *fdset, fd_set *used_sockets)
1908:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (fdset) {
1911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int i;
1912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = LWIP_SOCKET_OFFSET; i < maxfdp; i++) {
1913:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* if this FD is in the set, lock it (unless already done) */
1914:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (FD_ISSET(i, fdset) && !FD_ISSET(i, used_sockets)) {
1915:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         struct lwip_sock *sock;
1916:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_PROTECT(lev);
1917:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock = tryget_socket_unconn_locked(i);
1918:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock != NULL) {
1919:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* leave the socket used until released by lwip_select_dec_sockets_used */
1920:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           FD_SET(i, used_sockets);
1921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
1922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
1923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1926:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Mark all sockets passed to select as used to prevent them from being freed
1929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * from other threads while select is running.
1930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Marked sockets are added to 'used_sockets' to mark them only once an be able
1931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * to unmark them correctly.
1932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
1933:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1934:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select_inc_sockets_used(int maxfdp, fd_set *fdset1, fd_set *fdset2, fd_set *fdset3, fd_set *us
1935:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1936:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(used_sockets);
1937:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_inc_sockets_used_set(maxfdp, fdset1, used_sockets);
1938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_inc_sockets_used_set(maxfdp, fdset2, used_sockets);
1939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_inc_sockets_used_set(maxfdp, fdset3, used_sockets);
1940:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1941:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1942:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Let go all sockets that were marked as used when starting select */
1943:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
1944:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select_dec_sockets_used(int maxfdp, fd_set *used_sockets)
1945:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = LWIP_SOCKET_OFFSET; i < maxfdp; i++) {
1948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
1949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (FD_ISSET(i, used_sockets)) {
1950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct lwip_sock *sock = tryget_socket_unconn_nouse(i);
1951:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("socket gone at the end of select", sock != NULL);
1952:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
1953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
1954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
1955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
1956:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1957:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
1958:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1959:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define lwip_select_inc_sockets_used(maxfdp1, readset, writeset, exceptset, used_sockets)
1960:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define lwip_select_dec_sockets_used(maxfdp1, used_sockets)
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 40


1961:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1962:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1963:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
1964:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_select(int maxfdp1, fd_set *readset, fd_set *writeset, fd_set *exceptset,
1965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             struct timeval *timeout)
1966:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
1968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
1969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
1970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
1971:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
1972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int maxfdp2;
1973:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
1974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int waited = 0;
1975:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1976:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
1977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set used_sockets;
1978:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
1979:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
1980:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1981:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select(%d, %p, %p, %p, tvsec=%"S32_F" tvusec=%"S32_F")\n",
1982:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               maxfdp1, (void *)readset, (void *) writeset, (void *) exceptset,
1983:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               timeout ? (s32_t)timeout->tv_sec : (s32_t) - 1,
1984:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                               timeout ? (s32_t)timeout->tv_usec : (s32_t) - 1));
1985:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((maxfdp1 < 0) || (maxfdp1 > LWIP_SELECT_MAXNFDS)) {
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EINVAL);
1988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
1989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
1990:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1991:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_inc_sockets_used(maxfdp1, readset, writeset, exceptset, &used_sockets);
1992:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each socket in each list to count number of sockets which
1994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      currently match */
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexceptset);
1996:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
1997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (nready < 0) {
1998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one of the sockets in one of the fd_sets was invalid */
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EBADF);
2000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (nready > 0) {
2003:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one or more sockets are set, no need to wait */
2004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
2005:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2006:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* If we don't have any current events, then suspend if we are supposed to */
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (timeout && timeout->tv_sec == 0 && timeout->tv_usec == 0) {
2008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
2009:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This is OK as the local fdsets are empty and nready is zero,
2010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          or we would have returned earlier. */
2011:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
2012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* None ready: add our semaphore to list:
2013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          We don't actually need any dynamic memory. Our entry on the
2014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          list is only valid while we are in this function, so it's ok
2015:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          to use local variables (unless we're running in MPU compatible
2016:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          mode). */
2017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_DECLARE(select_cb);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 41


2018:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_ALLOC(select_cb, set_errno(ENOMEM); lwip_select_dec_sockets_used(maxfdp1, &
2019:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
2020:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).readset = readset;
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).writeset = writeset;
2023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).exceptset = exceptset;
2024:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).sem = LWIP_NETCONN_THREAD_SEM_GET();
2026:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sys_sem_new(&API_SELECT_CB_VAR_REF(select_cb).sem, 0) != ERR_OK) {
2028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* failed to create semaphore */
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOMEM);
2030:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         API_SELECT_CB_VAR_FREE(select_cb);
2032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
2033:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2034:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2035:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2036:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_link_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2037:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2038:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Increase select_waiting for each socket we are interested in */
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       maxfdp2 = maxfdp1;
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
2044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
2045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
2047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting++;
2049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting == 0) {
2050:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* overflow - too many threads waiting */
2051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               nready = -1;
2053:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               maxfdp2 = i;
2054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               SYS_ARCH_UNPROTECT(lev);
2055:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               set_errno(EBUSY);
2057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
2058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
2059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Not a valid socket */
2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
2064:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             maxfdp2 = i;
2065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
2067:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
2068:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2069:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2071:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (nready >= 0) {
2073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
2074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            the last scan (without us on the list) and putting us on the list! */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 42


2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexcep
2076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!nready) {
2077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Still none ready, just wait to be woken */
2078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (timeout == 0) {
2079:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Wait forever */
2080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             msectimeout = 0;
2081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             long msecs_long = ((timeout->tv_sec * 1000) + ((timeout->tv_usec + 500) / 1000));
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
2084:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               msectimeout = 1;
2086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
2087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               msectimeout = (u32_t)msecs_long;
2088:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
2089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2090:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           waitres = sys_arch_sem_wait(SELECT_SEM_PTR(API_SELECT_CB_VAR_REF(select_cb).sem), msectim
2092:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           waited = 1;
2094:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2095:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2096:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2098:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Decrease select_waiting for each socket we are interested in */
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp2; i++) {
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
2103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
2104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
2106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
2107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* for now, handle select_waiting==0... */
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             LWIP_ASSERT("sock->select_waiting > 0", sock->select_waiting > 0);
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
2110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
2111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
2112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2114:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2116:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Not a valid socket */
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
2119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2122:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2123:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_unlink_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2124:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2125:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (API_SELECT_CB_VAR_REF(select_cb).sem_signalled && (!waited || (waitres == SYS_ARCH_TIMEOU
2127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* don't leave the thread-local semaphore signalled */
2128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sys_arch_sem_wait(API_SELECT_CB_VAR_REF(select_cb).sem, 1);
2129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2130:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sys_sem_free(&API_SELECT_CB_VAR_REF(select_cb).sem);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 43


2132:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2133:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_FREE(select_cb);
2134:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (nready < 0) {
2136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This happens when a socket got closed while waiting */
2137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2138:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
2139:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2140:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2141:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (waitres == SYS_ARCH_TIMEOUT) {
2142:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Timeout */
2143:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: timeout expired\n"));
2144:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This is OK as the local fdsets are empty and nready is zero,
2145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            or we would have returned earlier. */
2146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* See what's set now after waiting */
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready = lwip_selscan(maxfdp1, readset, writeset, exceptset, &lreadset, &lwriteset, &lexcep
2149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
2150:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2152:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2153:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
2156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
2157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *readset = lreadset;
2158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (writeset) {
2160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *writeset = lwriteset;
2161:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (exceptset) {
2163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *exceptset = lexceptset;
2164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
2166:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2167:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT */
2168:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2169:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_POLL
2170:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** Options for the lwip_pollscan function. */
2171:Middlewares/Third_Party/LwIP/src/api/sockets.c **** enum lwip_pollscan_opts
2172:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2173:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** Clear revents in each struct pollfd. */
2174:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_POLLSCAN_CLEAR = 1,
2175:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2176:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** Increment select_waiting in each struct lwip_sock. */
2177:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_POLLSCAN_INC_WAIT = 2,
2178:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /** Decrement select_waiting in each struct lwip_sock. */
2180:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_POLLSCAN_DEC_WAIT = 4
2181:Middlewares/Third_Party/LwIP/src/api/sockets.c **** };
2182:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2183:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Update revents in each struct pollfd.
2185:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Optionally update select_waiting in struct lwip_sock.
2186:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
2187:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param fds          array of structures to update
2188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param nfds         number of structures in fds
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 44


2189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @param opts         what to update and how
2190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @return number of structures that have revents != 0
2191:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2192:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2193:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_pollscan(struct pollfd *fds, nfds_t nfds, enum lwip_pollscan_opts opts)
2194:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready = 0;
2196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
2197:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
2198:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2200:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each struct pollfd in the array. */
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < nfds; fdi++) {
2202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       fds[fdi].revents = 0;
2204:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2205:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Negative fd means the caller wants us to ignore this struct.
2207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        POLLNVAL means we already detected that the fd is invalid;
2208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        if another thread has since opened a new socket with that fd,
2209:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        we must not use that socket. */
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fds[fdi].fd >= 0 && (fds[fdi].revents & POLLNVAL) == 0) {
2211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
2212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_PROTECT(lev);
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock = tryget_socket_unconn_locked(fds[fdi].fd);
2214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
2215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         void* lastdata = sock->lastdata.pbuf;
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         s16_t rcvevent = sock->rcvevent;
2217:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t sendevent = sock->sendevent;
2218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t errevent = sock->errevent;
2219:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((opts & LWIP_POLLSCAN_INC_WAIT) != 0) {
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->select_waiting++;
2222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting == 0) {
2223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* overflow - too many threads waiting */
2224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
2226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
2227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
2229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else if ((opts & LWIP_POLLSCAN_DEC_WAIT) != 0) {
2231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* for now, handle select_waiting==0... */
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_ASSERT("sock->select_waiting > 0", sock->select_waiting > 0);
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
2234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
2235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
2238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
2239:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* ... then examine it: */
2241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* See if netconn of this socket is ready for read */
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((fds[fdi].events & POLLIN) != 0 && ((lastdata != NULL) || (rcvevent > 0))) {
2243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
2244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
2245:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 45


2246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* See if netconn of this socket is ready for write */
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((fds[fdi].events & POLLOUT) != 0 && (sendevent != 0)) {
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
2249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
2250:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2251:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* See if netconn of this socket had an error */
2252:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (errevent != 0) {
2253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* POLLERR is output only. */
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLERR;
2255:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
2256:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2257:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2258:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Not a valid socket */
2259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
2260:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* POLLNVAL is output only. */
2261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         fds[fdi].revents |= POLLNVAL;
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
2263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2264:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2265:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Will return the number of structures that have events,
2267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        not the number of events. */
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fds[fdi].revents != 0) {
2269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready++;
2270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("nready >= 0", nready >= 0);
2274:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
2275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
2278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Mark all sockets as used.
2279:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
2280:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * All sockets are marked (and later unmarked), whether they are open or not.
2281:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This is OK as lwip_pollscan aborts select when non-open sockets are found.
2282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2283:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2284:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_poll_inc_sockets_used(struct pollfd *fds, nfds_t nfds)
2285:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2286:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
2287:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if(fds) {
2289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Go through each struct pollfd in the array. */
2290:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (fdi = 0; fdi < nfds; fdi++) {
2291:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Increase the reference counter */
2292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       tryget_socket_unconn(fds[fdi].fd);
2293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2295:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2297:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /* Let go all sockets that were marked as used when starting poll */
2298:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2299:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_poll_dec_sockets_used(struct pollfd *fds, nfds_t nfds)
2300:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2301:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
2302:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 46


2303:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if(fds) {
2304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Go through each struct pollfd in the array. */
2305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (fdi = 0; fdi < nfds; fdi++) {
2306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct lwip_sock *sock = tryget_socket_unconn_nouse(fds[fdi].fd);
2307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
2308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
2309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2311:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2312:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2313:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
2314:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define lwip_poll_inc_sockets_used(fds, nfds)
2315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #define lwip_poll_dec_sockets_used(fds, nfds)
2316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
2317:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2319:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_poll(struct pollfd *fds, nfds_t nfds, int timeout)
2320:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
2322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
2323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
2324:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int waited = 0;
2326:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2327:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll(%p, %d, %d)\n",
2329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                   (void*)fds, (int)nfds, timeout));
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_poll: invalid fds", ((fds != NULL && nfds > 0) || (fds == NULL && nfds == 0)),
2331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
2332:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_poll_inc_sockets_used(fds, nfds);
2334:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2335:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Go through each struct pollfd to count number of structures
2336:Middlewares/Third_Party/LwIP/src/api/sockets.c ****      which currently match */
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nready = lwip_pollscan(fds, nfds, LWIP_POLLSCAN_CLEAR);
2338:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (nready < 0) {
2340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_poll_dec_sockets_used(fds, nfds);
2341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2343:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* If we don't have any current events, then suspend if we are supposed to */
2345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!nready) {
2346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_DECLARE(select_cb);
2347:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (timeout == 0) {
2349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
2350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto return_success;
2351:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_ALLOC(select_cb, set_errno(EAGAIN); lwip_poll_dec_sockets_used(fds, nfds); re
2353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
2354:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2355:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* None ready: add our semaphore to list:
2356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        We don't actually need any dynamic memory. Our entry on the
2357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        list is only valid while we are in this function, so it's ok
2358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        to use local variables. */
2359:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 47


2360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_fds = fds;
2361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_nfds = nfds;
2362:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).sem = LWIP_NETCONN_THREAD_SEM_GET();
2364:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sys_sem_new(&API_SELECT_CB_VAR_REF(select_cb).sem, 0) != ERR_OK) {
2366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAGAIN);
2368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
2369:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_FREE(select_cb);
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
2371:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2372:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2373:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2374:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_link_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2375:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Increase select_waiting for each socket we are interested in.
2377:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        Also, check for events again: there could have been events between
2378:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        the last scan (without us on the list) and putting us on the list! */
2379:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     nready = lwip_pollscan(fds, nfds, LWIP_POLLSCAN_INC_WAIT);
2380:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!nready) {
2382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Still none ready, just wait to be woken */
2383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (timeout < 0) {
2384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Wait forever */
2385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = 0;
2386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
2387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* timeout == 0 would have been handled earlier. */
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_ASSERT("timeout > 0", timeout > 0);
2389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
2390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       waitres = sys_arch_sem_wait(SELECT_SEM_PTR(API_SELECT_CB_VAR_REF(select_cb).sem), msectimeout
2392:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       waited = 1;
2394:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2396:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Decrease select_waiting for each socket we are interested in,
2398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        and check which events occurred while we waited. */
2399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     nready = lwip_pollscan(fds, nfds, LWIP_POLLSCAN_DEC_WAIT);
2400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2401:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_unlink_select_cb(&API_SELECT_CB_VAR_REF(select_cb));
2402:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2403:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2404:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (select_cb.sem_signalled && (!waited || (waitres == SYS_ARCH_TIMEOUT))) {
2405:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* don't leave the thread-local semaphore signalled */
2406:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sys_arch_sem_wait(API_SELECT_CB_VAR_REF(select_cb).sem, 1);
2407:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2408:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
2409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sys_sem_free(&API_SELECT_CB_VAR_REF(select_cb).sem);
2410:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
2411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_FREE(select_cb);
2412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (nready < 0) {
2414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This happens when a socket got closed while waiting */
2415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
2416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 48


2417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2419:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (waitres == SYS_ARCH_TIMEOUT) {
2420:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Timeout */
2421:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: timeout expired\n"));
2422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto return_success;
2423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2424:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2426:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: nready=%d\n", nready));
2427:Middlewares/Third_Party/LwIP/src/api/sockets.c **** return_success:
2428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   lwip_poll_dec_sockets_used(fds, nfds);
2429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
2430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
2431:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2432:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2433:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Check whether event_callback should wake up a thread waiting in
2435:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * lwip_poll.
2436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2437:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2438:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_poll_should_wake(const struct lwip_select_cb *scb, int fd, int has_recvevent, int has_sendeven
2439:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 267              		.loc 1 2439 1 is_stmt 1 view -0
 268              		.cfi_startproc
 269              		@ args = 4, pretend = 0, frame = 0
 270              		@ frame_needed = 0, uses_anonymous_args = 0
 271              		.loc 1 2439 1 is_stmt 0 view .LVU67
 272 0000 30B5     		push	{r4, r5, lr}
 273              	.LCFI4:
 274              		.cfi_def_cfa_offset 12
 275              		.cfi_offset 4, -12
 276              		.cfi_offset 5, -8
 277              		.cfi_offset 14, -4
 278 0002 039D     		ldr	r5, [sp, #12]
2440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
 279              		.loc 1 2440 3 is_stmt 1 view .LVU68
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 280              		.loc 1 2441 3 view .LVU69
 281              	.LVL19:
 282              		.loc 1 2441 12 is_stmt 0 view .LVU70
 283 0004 4FF0000C 		mov	ip, #0
 284              		.loc 1 2441 3 view .LVU71
 285 0008 02E0     		b	.L22
 286              	.LVL20:
 287              	.L26:
 288              	.LBB2:
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (pollfd->fd == fd) {
2444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Do not update pollfd->revents right here;
2445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          that would be a data race because lwip_pollscan
2446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          accesses revents without protecting. */
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (has_recvevent && (pollfd->events & POLLIN) != 0) {
2448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
2449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (has_sendevent && (pollfd->events & POLLOUT) != 0) {
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 49


2452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (has_errevent) {
 289              		.loc 1 2453 7 is_stmt 1 view .LVU72
 290              		.loc 1 2453 10 is_stmt 0 view .LVU73
 291 000a F5B9     		cbnz	r5, .L30
 292              	.L23:
 293              	.LBE2:
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 294              		.loc 1 2441 39 is_stmt 1 discriminator 2 view .LVU74
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 295              		.loc 1 2441 42 is_stmt 0 discriminator 2 view .LVU75
 296 000c 0CF1010C 		add	ip, ip, #1
 297              	.LVL21:
 298              	.L22:
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 299              		.loc 1 2441 17 is_stmt 1 discriminator 1 view .LVU76
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 300              		.loc 1 2441 26 is_stmt 0 discriminator 1 view .LVU77
 301 0010 8469     		ldr	r4, [r0, #24]
2441:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (fdi = 0; fdi < scb->poll_nfds; fdi++) {
 302              		.loc 1 2441 3 discriminator 1 view .LVU78
 303 0012 6445     		cmp	r4, ip
 304 0014 15D9     		bls	.L32
 305              	.LBB3:
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
 306              		.loc 1 2442 5 is_stmt 1 view .LVU79
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
 307              		.loc 1 2442 39 is_stmt 0 view .LVU80
 308 0016 4469     		ldr	r4, [r0, #20]
2442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     const struct pollfd *pollfd = &scb->poll_fds[fdi];
 309              		.loc 1 2442 26 view .LVU81
 310 0018 04EBCC0E 		add	lr, r4, ip, lsl #3
 311              	.LVL22:
2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Do not update pollfd->revents right here;
 312              		.loc 1 2443 5 is_stmt 1 view .LVU82
2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Do not update pollfd->revents right here;
 313              		.loc 1 2443 15 is_stmt 0 view .LVU83
 314 001c 54F83C40 		ldr	r4, [r4, ip, lsl #3]
2443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Do not update pollfd->revents right here;
 315              		.loc 1 2443 8 view .LVU84
 316 0020 8C42     		cmp	r4, r1
 317 0022 F3D1     		bne	.L23
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 318              		.loc 1 2447 7 is_stmt 1 view .LVU85
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 319              		.loc 1 2447 10 is_stmt 0 view .LVU86
 320 0024 22B1     		cbz	r2, .L24
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 321              		.loc 1 2447 35 discriminator 1 view .LVU87
 322 0026 BEF90440 		ldrsh	r4, [lr, #4]
2447:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 323              		.loc 1 2447 25 discriminator 1 view .LVU88
 324 002a 14F0010F 		tst	r4, #1
 325 002e 0AD1     		bne	.L28
 326              	.L24:
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 327              		.loc 1 2450 7 is_stmt 1 view .LVU89
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 50


2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 328              		.loc 1 2450 10 is_stmt 0 view .LVU90
 329 0030 002B     		cmp	r3, #0
 330 0032 EAD0     		beq	.L26
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 331              		.loc 1 2450 35 discriminator 1 view .LVU91
 332 0034 BEF90440 		ldrsh	r4, [lr, #4]
2450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
 333              		.loc 1 2450 25 discriminator 1 view .LVU92
 334 0038 14F0020F 		tst	r4, #2
 335 003c E5D0     		beq	.L26
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 336              		.loc 1 2451 16 view .LVU93
 337 003e 0120     		movs	r0, #1
 338              	.LVL23:
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 339              		.loc 1 2451 16 view .LVU94
 340 0040 00E0     		b	.L21
 341              	.LVL24:
 342              	.L32:
2451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 343              		.loc 1 2451 16 view .LVU95
 344              	.LBE3:
2454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* POLLERR is output only. */
2455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 1;
2456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2459:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 345              		.loc 1 2459 10 view .LVU96
 346 0042 0020     		movs	r0, #0
 347              	.LVL25:
 348              	.L21:
2460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 349              		.loc 1 2460 1 view .LVU97
 350 0044 30BD     		pop	{r4, r5, pc}
 351              	.LVL26:
 352              	.L28:
 353              	.LBB4:
2448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 354              		.loc 1 2448 16 view .LVU98
 355 0046 0120     		movs	r0, #1
 356              	.LVL27:
2448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 357              		.loc 1 2448 16 view .LVU99
 358 0048 FCE7     		b	.L21
 359              	.LVL28:
 360              	.L30:
2455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 361              		.loc 1 2455 16 view .LVU100
 362 004a 0120     		movs	r0, #1
 363              	.LVL29:
2455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 364              		.loc 1 2455 16 view .LVU101
 365 004c FAE7     		b	.L21
 366              	.LBE4:
 367              		.cfi_endproc
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 51


 368              	.LFE402:
 370              		.section	.rodata.lwip_sockopt_to_ipopt.str1.4,"aMS",%progbits,1
 371              		.align	2
 372              	.LC0:
 373 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/api/sockets.c\000"
 373      6C657761 
 373      7265732F 
 373      54686972 
 373      645F5061 
 374 002f 00       		.align	2
 375              	.LC1:
 376 0030 556E6B6E 		.ascii	"Unknown socket option\000"
 376      6F776E20 
 376      736F636B 
 376      6574206F 
 376      7074696F 
 377 0046 0000     		.align	2
 378              	.LC2:
 379 0048 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 379      7274696F 
 379      6E202225 
 379      73222066 
 379      61696C65 
 380              		.section	.text.lwip_sockopt_to_ipopt,"ax",%progbits
 381              		.align	1
 382              		.syntax unified
 383              		.thumb
 384              		.thumb_func
 386              	lwip_sockopt_to_ipopt:
 387              	.LVL30:
 388              	.LFB410:
2461:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_POLL */
2462:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2463:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
2464:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2465:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Callback registered in the netconn layer for each socket-netconn.
2466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Processes recvevent (data available) and wakes up tasks waiting for select.
2467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
2468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @note for LWIP_TCPIP_CORE_LOCKING any caller of this function
2469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * must have the core lock held when signaling the following events
2470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * as they might cause select_list_cb to be checked:
2471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *   NETCONN_EVT_RCVPLUS
2472:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *   NETCONN_EVT_SENDPLUS
2473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *   NETCONN_EVT_ERROR
2474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * This requirement will be asserted in select_check_waiters()
2475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2476:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2477:Middlewares/Third_Party/LwIP/src/api/sockets.c **** event_callback(struct netconn *conn, enum netconn_evt evt, u16_t len)
2478:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s, check_waiters;
2480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
2481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2482:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(len);
2484:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Get socket */
2486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (conn) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 52


2487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     s = conn->socket;
2488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (s < 0) {
2489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Data comes in right away after an accept, even though
2490:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * the server task might not have created a new socket yet.
2491:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * Just count down (or up) if that's the case and we
2492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * will use the data later. Note that only receive events
2493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****        * can happen before the new socket is set up. */
2494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_PROTECT(lev);
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (conn->socket < 0) {
2496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
2497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* conn->socket is -1 on initialization
2498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              lwip_accept adjusts sock->recvevent if conn->socket < -1 */
2499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           conn->socket--;
2500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
2502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return;
2503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s = conn->socket;
2505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
2506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2507:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock = get_socket(s);
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock) {
2510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
2511:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2512:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return;
2514:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2515:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   check_waiters = 1;
2517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
2518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Set event as required */
2519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (evt) {
2520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_RCVPLUS:
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->rcvevent++;
2522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 1) {
2523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
2524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2525:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_RCVMINUS:
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->rcvevent--;
2528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
2529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDPLUS:
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->sendevent) {
2532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
2533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->sendevent = 1;
2535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDMINUS:
2537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->sendevent = 0;
2538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
2539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2540:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_ERROR:
2541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->errevent = 1;
2542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 53


2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_ASSERT("unknown event", 0);
2545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
2546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2547:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->select_waiting && check_waiters) {
2549:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
2550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int has_recvevent, has_sendevent, has_errevent;
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_recvevent = sock->rcvevent > 0;
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_errevent = sock->errevent != 0;
2554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
2555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check any select calls waiting on this socket */
2556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_check_waiters(s, has_recvevent, has_sendevent, has_errevent);
2557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
2559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
2561:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2562:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2563:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Check if any select waiters are waiting on this socket and its events
2565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  *
2566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * @note on synchronization of select_cb_list:
2567:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * LWIP_TCPIP_CORE_LOCKING: the select_cb_list must only be accessed while holding
2568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * the core lock. We do a single pass through the list and signal any waiters.
2569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Core lock should already be held when calling here!!!!
2570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2571:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * !LWIP_TCPIP_CORE_LOCKING: we use SYS_ARCH_PROTECT but unlock on each iteration
2572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * of the loop, thus creating a possibility where a thread could modify the
2573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * select_cb_list during our UNPROTECT/PROTECT. We use a generational counter to
2574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * detect this change and restart the list walk. The list is expected to be small
2575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2576:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void select_check_waiters(int s, int has_recvevent, int has_sendevent, int has_errevent)
2577:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb *scb;
2579:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int last_select_cb_ctr;
2581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
2582:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2583:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2584:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT_CORE_LOCKED();
2585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2586:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
2588:Middlewares/Third_Party/LwIP/src/api/sockets.c **** again:
2589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* remember the state of select_cb_list to detect changes */
2590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   last_select_cb_ctr = select_cb_ctr;
2591:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (scb = select_cb_list; scb != NULL; scb = scb->next) {
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
2594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
2595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       int do_signal = 0;
2596:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_POLL
2597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (scb->poll_fds != NULL) {
2598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
2599:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2600:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_POLL */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 54


2601:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT && LWIP_SOCKET_POLL
2602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       else
2603:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT && LWIP_SOCKET_POLL */
2604:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT
2605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       {
2606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Test this select call for our socket */
2607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (has_recvevent) {
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (scb->readset && FD_ISSET(s, scb->readset)) {
2609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
2610:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (has_sendevent) {
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
2614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
2615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (has_errevent) {
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
2619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
2620:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2623:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT */
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (do_signal) {
2625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
2626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* For !LWIP_TCPIP_CORE_LOCKING, we don't call SYS_ARCH_UNPROTECT() before signaling
2627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            the semaphore, as this might lead to the select thread taking itself off the list,
2628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            invalidating the semaphore. */
2629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sys_sem_signal(SELECT_SEM_PTR(scb->sem));
2630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
2631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2632:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
2633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2634:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
2635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* unlock interrupts with each step */
2636:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
2637:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* this makes sure interrupt protection time is short */
2638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_PROTECT(lev);
2639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (last_select_cb_ctr != select_cb_ctr) {
2640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* someone has changed select_cb_list, restart at the beginning */
2641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       goto again;
2642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* remember the state of select_cb_list to detect changes */
2644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     last_select_cb_ctr = select_cb_ctr;
2645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
2647:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2649:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
2650:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /**
2652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Close one end of a full-duplex connection.
2653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2654:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2655:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_shutdown(int s, int how)
2656:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 55


2658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
2659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t shut_rx = 0, shut_tx = 0;
2660:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_shutdown(%d, how=%d)\n", s, how));
2662:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
2664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
2665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2667:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock->conn != NULL) {
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
2671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
2672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
2673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
2674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOTCONN);
2676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2679:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (how == SHUT_RD) {
2681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
2682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_WR) {
2683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
2684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_RDWR) {
2685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
2686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
2687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EINVAL);
2689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_shutdown(sock->conn, shut_rx, shut_tx);
2693:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
2695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? 0 : -1);
2697:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2698:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2699:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2700:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getaddrname(int s, struct sockaddr *name, socklen_t *namelen, u8_t local)
2701:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
2703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
2704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
2705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port;
2706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
2707:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
2709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
2710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2711:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2712:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* get the IP address and port */
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_getaddr(sock->conn, &naddr, &port, local);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 56


2715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
2717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2720:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2721:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
2722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Dual-stack: Map IPv4 addresses to IPv4 mapped IPv6 */
2723:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(sock->conn)) &&
2724:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       IP_IS_V4_VAL(naddr)) {
2725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip4_2_ipv4_mapped_ipv6(ip_2_ip6(&naddr), ip_2_ip4(&naddr));
2726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     IP_SET_TYPE_VAL(naddr, IPADDR_TYPE_V6);
2727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2728:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
2729:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   IPADDR_PORT_TO_SOCKADDR(&saddr, &naddr, port);
2731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getaddrname(%d, addr=", s));
2733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
2734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", port));
2735:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*namelen > saddr.sa.sa_len) {
2737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
2738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(name, &saddr, *namelen);
2740:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, 0);
2742:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
2743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
2744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2745:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2746:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2747:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getpeername(int s, struct sockaddr *name, socklen_t *namelen)
2748:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2749:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
2750:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2751:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2752:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2753:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockname(int s, struct sockaddr *name, socklen_t *namelen)
2754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2755:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
2756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2757:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2758:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
2759:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockopt(int s, int level, int optname, void *optval, socklen_t *optlen)
2760:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err;
2762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
2763:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t cberr;
2765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(data);
2766:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
2767:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
2769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2770:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2771:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 57


2772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if ((NULL == optval) || (NULL == optlen)) {
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
2774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2777:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2778:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
2779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* core-locking can just call the -impl function */
2780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LOCK_TCPIP_CORE();
2781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
2782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
2783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
2785:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2786:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2787:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* MPU_COMPATIBLE copies the optval data, so check for max size here */
2788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*optlen > LWIP_SETGETSOCKOPT_MAXOPTLEN) {
2789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOBUFS);
2790:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2791:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2792:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2793:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2794:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2795:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(data, sock);
2796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).s = s;
2797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).level = level;
2798:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optname = optname;
2799:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen = *optlen;
2800:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_MPU_COMPATIBLE
2801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval.p = optval;
2802:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_MPU_COMPATIBLE */
2803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err = 0;
2804:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
2805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = LWIP_NETCONN_THREAD_SEM_GET();
2806:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
2807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = &sock->conn->op_completed;
2808:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   cberr = tcpip_callback(lwip_getsockopt_callback, &LWIP_SETGETSOCKOPT_DATA_VAR_REF(data));
2810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (cberr != ERR_OK) {
2811:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
2812:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(cberr));
2813:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
2814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
2815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2816:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_arch_sem_wait((sys_sem_t *)(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem), 0);
2817:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* write back optlen and optval */
2819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *optlen = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen;
2820:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(optval, LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval,
2822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen);
2823:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2824:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* maybe lwip_getsockopt_internal has changed err */
2826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err;
2827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
2828:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 58


2829:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err);
2831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
2833:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2834:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2835:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
2836:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_getsockopt_callback: only used without CORE_LOCKING
2837:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * to get into the tcpip_thread
2838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2839:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
2840:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockopt_callback(void *arg)
2841:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
2842:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_setgetsockopt_data *data;
2843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("arg != NULL", arg != NULL);
2844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data = (struct lwip_setgetsockopt_data *)arg;
2845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2846:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data->err = lwip_getsockopt_impl(data->s, data->level, data->optname,
2847:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
2848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optval,
2849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
2850:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optval.p,
2851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
2852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    &data->optlen);
2853:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2854:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_sem_signal((sys_sem_t *)(data->completed_sem));
2855:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
2856:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
2857:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2858:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2859:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_sockopt_to_ipopt(int optname)
2860:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 389              		.loc 1 2860 1 is_stmt 1 view -0
 390              		.cfi_startproc
 391              		@ args = 0, pretend = 0, frame = 0
 392              		@ frame_needed = 0, uses_anonymous_args = 0
2861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Map SO_* values to our internal SOF_* values
2862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * We should not rely on #defines in socket.h
2863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    * being in sync with ip.h.
2864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****    */
2865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (optname) {
 393              		.loc 1 2865 3 view .LVU103
 394 0000 0828     		cmp	r0, #8
 395 0002 0DD0     		beq	.L36
 396 0004 2028     		cmp	r0, #32
 397 0006 0BD0     		beq	.L36
 398 0008 0428     		cmp	r0, #4
 399 000a 09D0     		beq	.L36
2860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Map SO_* values to our internal SOF_* values
 400              		.loc 1 2860 1 is_stmt 0 discriminator 1 view .LVU104
 401 000c 08B5     		push	{r3, lr}
 402              	.LCFI5:
 403              		.cfi_def_cfa_offset 8
 404              		.cfi_offset 3, -8
 405              		.cfi_offset 14, -4
2866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SO_BROADCAST:
2867:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return SOF_BROADCAST;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 59


2868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SO_KEEPALIVE:
2869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return SOF_KEEPALIVE;
2870:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   case SO_REUSEADDR:
2871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return SOF_REUSEADDR;
2872:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   default:
2873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("Unknown socket option", 0);
 406              		.loc 1 2873 5 is_stmt 1 discriminator 1 view .LVU105
 407              		.loc 1 2873 5 discriminator 1 view .LVU106
 408              		.loc 1 2873 5 discriminator 1 view .LVU107
 409              		.loc 1 2873 5 discriminator 1 view .LVU108
 410 000e 054B     		ldr	r3, .L39
 411 0010 40F63932 		movw	r2, #2873
 412 0014 0449     		ldr	r1, .L39+4
 413 0016 0548     		ldr	r0, .L39+8
 414              	.LVL31:
 415              		.loc 1 2873 5 is_stmt 0 discriminator 1 view .LVU109
 416 0018 FFF7FEFF 		bl	printf
 417              	.LVL32:
 418              		.loc 1 2873 5 is_stmt 1 discriminator 1 view .LVU110
 419              		.loc 1 2873 5 discriminator 1 view .LVU111
2874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 420              		.loc 1 2874 5 discriminator 1 view .LVU112
 421              		.loc 1 2874 12 is_stmt 0 discriminator 1 view .LVU113
 422 001c 0020     		movs	r0, #0
2875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2876:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 423              		.loc 1 2876 1 discriminator 1 view .LVU114
 424 001e 08BD     		pop	{r3, pc}
 425              	.LVL33:
 426              	.L36:
 427              	.LCFI6:
 428              		.cfi_def_cfa_offset 0
 429              		.cfi_restore 3
 430              		.cfi_restore 14
 431              		.loc 1 2876 1 view .LVU115
 432 0020 7047     		bx	lr
 433              	.L40:
 434 0022 00BF     		.align	2
 435              	.L39:
 436 0024 00000000 		.word	.LC0
 437 0028 30000000 		.word	.LC1
 438 002c 48000000 		.word	.LC2
 439              		.cfi_endproc
 440              	.LFE410:
 442              		.section	.rodata.alloc_socket.str1.4,"aMS",%progbits,1
 443              		.align	2
 444              	.LC3:
 445 0000 736F636B 		.ascii	"sockets[i].select_waiting == 0\000"
 445      6574735B 
 445      695D2E73 
 445      656C6563 
 445      745F7761 
 446              		.section	.text.alloc_socket,"ax",%progbits
 447              		.align	1
 448              		.syntax unified
 449              		.thumb
 450              		.thumb_func
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 60


 452              	alloc_socket:
 453              	.LVL34:
 454              	.LFB372:
 502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 455              		.loc 1 502 1 is_stmt 1 view -0
 456              		.cfi_startproc
 457              		@ args = 0, pretend = 0, frame = 0
 458              		@ frame_needed = 0, uses_anonymous_args = 0
 502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 459              		.loc 1 502 1 is_stmt 0 view .LVU117
 460 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 461              	.LCFI7:
 462              		.cfi_def_cfa_offset 24
 463              		.cfi_offset 3, -24
 464              		.cfi_offset 4, -20
 465              		.cfi_offset 5, -16
 466              		.cfi_offset 6, -12
 467              		.cfi_offset 7, -8
 468              		.cfi_offset 14, -4
 469 0002 0646     		mov	r6, r0
 470 0004 0D46     		mov	r5, r1
 503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 471              		.loc 1 503 3 is_stmt 1 view .LVU118
 504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(accepted);
 472              		.loc 1 504 3 view .LVU119
 505:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 473              		.loc 1 505 3 view .LVU120
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 474              		.loc 1 508 3 view .LVU121
 475              	.LVL35:
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 476              		.loc 1 508 10 is_stmt 0 view .LVU122
 477 0006 0024     		movs	r4, #0
 478              	.LVL36:
 479              	.L42:
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 480              		.loc 1 508 15 is_stmt 1 discriminator 1 view .LVU123
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 481              		.loc 1 508 3 is_stmt 0 discriminator 1 view .LVU124
 482 0008 032C     		cmp	r4, #3
 483 000a 31DC     		bgt	.L50
 510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sockets[i].conn) {
 484              		.loc 1 510 5 is_stmt 1 view .LVU125
 485 000c FFF7FEFF 		bl	sys_arch_protect
 486              	.LVL37:
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 487              		.loc 1 511 5 view .LVU126
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 488              		.loc 1 511 20 is_stmt 0 view .LVU127
 489 0010 2301     		lsls	r3, r4, #4
 490 0012 194A     		ldr	r2, .L54
 491 0014 D358     		ldr	r3, [r2, r3]
 511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_FULLDUPLEX
 492              		.loc 1 511 8 view .LVU128
 493 0016 1BB1     		cbz	r3, .L51
 535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 494              		.loc 1 535 5 is_stmt 1 discriminator 2 view .LVU129
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 61


 495 0018 FFF7FEFF 		bl	sys_arch_unprotect
 496              	.LVL38:
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 497              		.loc 1 508 32 discriminator 2 view .LVU130
 498 001c 0134     		adds	r4, r4, #1
 499              	.LVL39:
 508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Protect socket array */
 500              		.loc 1 508 32 is_stmt 0 discriminator 2 view .LVU131
 501 001e F3E7     		b	.L42
 502              	.LVL40:
 503              	.L51:
 520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 504              		.loc 1 520 7 is_stmt 1 view .LVU132
 520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* The socket is not yet known to anyone, so no need to protect
 505              		.loc 1 520 29 is_stmt 0 view .LVU133
 506 0020 2301     		lsls	r3, r4, #4
 507 0022 02EB0417 		add	r7, r2, r4, lsl #4
 508 0026 D650     		str	r6, [r2, r3]
 523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].lastdata.pbuf = NULL;
 509              		.loc 1 523 7 is_stmt 1 view .LVU134
 510 0028 FFF7FEFF 		bl	sys_arch_unprotect
 511              	.LVL41:
 524:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 512              		.loc 1 524 7 view .LVU135
 524:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL
 513              		.loc 1 524 32 is_stmt 0 view .LVU136
 514 002c 0023     		movs	r3, #0
 515 002e 7B60     		str	r3, [r7, #4]
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 516              		.loc 1 526 7 is_stmt 1 view .LVU137
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 517              		.loc 1 526 7 view .LVU138
 518 0030 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 519 0032 8BB9     		cbnz	r3, .L52
 520              	.L44:
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 521              		.loc 1 526 7 discriminator 3 view .LVU139
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 522              		.loc 1 526 7 discriminator 3 view .LVU140
 527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 523              		.loc 1 527 7 discriminator 3 view .LVU141
 527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* TCP sendbuf is empty, but the socket is not yet writable until connected
 524              		.loc 1 527 29 is_stmt 0 discriminator 3 view .LVU142
 525 0034 104B     		ldr	r3, .L54
 526 0036 03EB0413 		add	r3, r3, r4, lsl #4
 527 003a 0022     		movs	r2, #0
 528 003c 1A81     		strh	r2, [r3, #8]	@ movhi
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 529              		.loc 1 530 7 is_stmt 1 discriminator 3 view .LVU143
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 530              		.loc 1 530 32 is_stmt 0 discriminator 3 view .LVU144
 531 003e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 532              		.loc 1 530 98 discriminator 3 view .LVU145
 533 0040 03F0F003 		and	r3, r3, #240
 534 0044 102B     		cmp	r3, #16
 535 0046 0FD0     		beq	.L53
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 62


 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 536              		.loc 1 530 98 view .LVU146
 537 0048 0125     		movs	r5, #1
 538              	.LVL42:
 539              	.L45:
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 540              		.loc 1 530 29 discriminator 6 view .LVU147
 541 004a 0B4B     		ldr	r3, .L54
 542 004c 03EB0413 		add	r3, r3, r4, lsl #4
 543 0050 5D81     		strh	r5, [r3, #10]	@ movhi
 531:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 544              		.loc 1 531 7 is_stmt 1 discriminator 6 view .LVU148
 531:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 545              		.loc 1 531 29 is_stmt 0 discriminator 6 view .LVU149
 546 0052 0022     		movs	r2, #0
 547 0054 9A81     		strh	r2, [r3, #12]	@ movhi
 533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 548              		.loc 1 533 7 is_stmt 1 discriminator 6 view .LVU150
 533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 549              		.loc 1 533 16 is_stmt 0 discriminator 6 view .LVU151
 550 0056 0DE0     		b	.L41
 551              	.LVL43:
 552              	.L52:
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 553              		.loc 1 526 7 is_stmt 1 discriminator 1 view .LVU152
 526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].rcvevent   = 0;
 554              		.loc 1 526 7 discriminator 1 view .LVU153
 555 0058 084B     		ldr	r3, .L54+4
 556 005a 40F20E22 		movw	r2, #526
 557 005e 0849     		ldr	r1, .L54+8
 558 0060 0848     		ldr	r0, .L54+12
 559 0062 FFF7FEFF 		bl	printf
 560              	.LVL44:
 561 0066 E5E7     		b	.L44
 562              	.L53:
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 563              		.loc 1 530 98 is_stmt 0 discriminator 2 view .LVU154
 564 0068 002D     		cmp	r5, #0
 565 006a EED0     		beq	.L45
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 566              		.loc 1 530 98 view .LVU155
 567 006c 0125     		movs	r5, #1
 568              	.LVL45:
 530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sockets[i].errevent   = 0;
 569              		.loc 1 530 98 view .LVU156
 570 006e ECE7     		b	.L45
 571              	.LVL46:
 572              	.L50:
 537:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 573              		.loc 1 537 10 view .LVU157
 574 0070 4FF0FF34 		mov	r4, #-1
 575              	.LVL47:
 576              	.L41:
 538:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 577              		.loc 1 538 1 view .LVU158
 578 0074 2046     		mov	r0, r4
 579 0076 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 63


 580              	.LVL48:
 581              	.L55:
 538:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 582              		.loc 1 538 1 view .LVU159
 583              		.align	2
 584              	.L54:
 585 0078 00000000 		.word	.LANCHOR0
 586 007c 00000000 		.word	.LC0
 587 0080 00000000 		.word	.LC3
 588 0084 48000000 		.word	.LC2
 589              		.cfi_endproc
 590              	.LFE372:
 592              		.section	.rodata.lwip_selscan.str1.4,"aMS",%progbits,1
 593              		.align	2
 594              	.LC4:
 595 0000 6E726561 		.ascii	"nready >= 0\000"
 595      6479203E 
 595      3D203000 
 596              		.section	.text.lwip_selscan,"ax",%progbits
 597              		.align	1
 598              		.syntax unified
 599              		.thumb
 600              		.thumb_func
 602              	lwip_selscan:
 603              	.LVL49:
 604              	.LFB398:
1837:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i, nready = 0;
 605              		.loc 1 1837 1 is_stmt 1 view -0
 606              		.cfi_startproc
 607              		@ args = 12, pretend = 0, frame = 40
 608              		@ frame_needed = 0, uses_anonymous_args = 0
1837:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i, nready = 0;
 609              		.loc 1 1837 1 is_stmt 0 view .LVU161
 610 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 611              	.LCFI8:
 612              		.cfi_def_cfa_offset 36
 613              		.cfi_offset 4, -36
 614              		.cfi_offset 5, -32
 615              		.cfi_offset 6, -28
 616              		.cfi_offset 7, -24
 617              		.cfi_offset 8, -20
 618              		.cfi_offset 9, -16
 619              		.cfi_offset 10, -12
 620              		.cfi_offset 11, -8
 621              		.cfi_offset 14, -4
 622 0004 8BB0     		sub	sp, sp, #44
 623              	.LCFI9:
 624              		.cfi_def_cfa_offset 80
 625 0006 8146     		mov	r9, r0
 626 0008 0D46     		mov	r5, r1
 627 000a 1746     		mov	r7, r2
 628 000c 9846     		mov	r8, r3
1838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 629              		.loc 1 1838 3 is_stmt 1 view .LVU162
 630              	.LVL50:
1839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 631              		.loc 1 1839 3 view .LVU163
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 64


1840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 632              		.loc 1 1840 3 view .LVU164
1841:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 633              		.loc 1 1841 3 view .LVU165
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 634              		.loc 1 1843 3 view .LVU166
 635              	.LBB5:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 636              		.loc 1 1843 3 view .LVU167
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 637              		.loc 1 1843 3 view .LVU168
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 638              		.loc 1 1843 3 view .LVU169
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 639              		.loc 1 1843 3 view .LVU170
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 640              		.loc 1 1843 3 view .LVU171
 641 000e 0223     		movs	r3, #2
 642              	.LVL51:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 643              		.loc 1 1843 3 is_stmt 0 view .LVU172
 644 0010 06E0     		b	.L57
 645              	.LVL52:
 646              	.L58:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 647              		.loc 1 1843 3 is_stmt 1 discriminator 3 view .LVU173
 648 0012 013B     		subs	r3, r3, #1
 649              	.LVL53:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 650              		.loc 1 1843 3 is_stmt 0 discriminator 3 view .LVU174
 651 0014 0AAA     		add	r2, sp, #40
 652 0016 02EB8302 		add	r2, r2, r3, lsl #2
 653 001a 0021     		movs	r1, #0
 654 001c 42F8081C 		str	r1, [r2, #-8]
 655              	.LVL54:
 656              	.L57:
1843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lwriteset);
 657              		.loc 1 1843 3 is_stmt 1 discriminator 1 view .LVU175
 658 0020 002B     		cmp	r3, #0
 659 0022 F6D1     		bne	.L58
 660              	.LBE5:
 661              	.LBB6:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 662              		.loc 1 1844 3 is_stmt 0 view .LVU176
 663 0024 0223     		movs	r3, #2
 664              	.LVL55:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 665              		.loc 1 1844 3 view .LVU177
 666 0026 06E0     		b	.L59
 667              	.LVL56:
 668              	.L60:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 669              		.loc 1 1844 3 is_stmt 1 discriminator 3 view .LVU178
 670 0028 013B     		subs	r3, r3, #1
 671              	.LVL57:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 672              		.loc 1 1844 3 is_stmt 0 discriminator 3 view .LVU179
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 65


 673 002a 0AAA     		add	r2, sp, #40
 674 002c 02EB8302 		add	r2, r2, r3, lsl #2
 675 0030 0021     		movs	r1, #0
 676 0032 42F8101C 		str	r1, [r2, #-16]
 677              	.LVL58:
 678              	.L59:
1844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   FD_ZERO(&lexceptset);
 679              		.loc 1 1844 3 is_stmt 1 discriminator 1 view .LVU180
 680 0036 002B     		cmp	r3, #0
 681 0038 F6D1     		bne	.L60
 682              	.LBE6:
 683              	.LBB7:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 684              		.loc 1 1845 3 is_stmt 0 view .LVU181
 685 003a 0223     		movs	r3, #2
 686              	.LVL59:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 687              		.loc 1 1845 3 view .LVU182
 688 003c 06E0     		b	.L61
 689              	.LVL60:
 690              	.L62:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 691              		.loc 1 1845 3 is_stmt 1 discriminator 3 view .LVU183
 692 003e 013B     		subs	r3, r3, #1
 693              	.LVL61:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 694              		.loc 1 1845 3 is_stmt 0 discriminator 3 view .LVU184
 695 0040 0AAA     		add	r2, sp, #40
 696 0042 02EB8302 		add	r2, r2, r3, lsl #2
 697 0046 0021     		movs	r1, #0
 698 0048 42F8181C 		str	r1, [r2, #-24]
 699              	.LVL62:
 700              	.L61:
1845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 701              		.loc 1 1845 3 is_stmt 1 discriminator 1 view .LVU185
 702 004c 002B     		cmp	r3, #0
 703 004e F6D1     		bne	.L62
 704              	.LBE7:
1838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 705              		.loc 1 1838 10 is_stmt 0 view .LVU186
 706 0050 4FF0000A 		mov	r10, #0
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 707              		.loc 1 1849 10 view .LVU187
 708 0054 5446     		mov	r4, r10
 709 0056 1BE0     		b	.L63
 710              	.LVL63:
 711              	.L81:
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 712              		.loc 1 1851 25 discriminator 2 view .LVU188
 713 0058 04F11F03 		add	r3, r4, #31
 714              	.LVL64:
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 715              		.loc 1 1851 25 discriminator 2 view .LVU189
 716 005c 1FE0     		b	.L65
 717              	.LVL65:
 718              	.L82:
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 66


 719              		.loc 1 1852 26 view .LVU190
 720 005e 04F11F03 		add	r3, r4, #31
 721              	.LVL66:
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 722              		.loc 1 1852 26 view .LVU191
 723 0062 2EE0     		b	.L68
 724              	.LVL67:
 725              	.L83:
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
 726              		.loc 1 1853 27 view .LVU192
 727 0064 04F11F03 		add	r3, r4, #31
 728              	.LVL68:
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
 729              		.loc 1 1853 27 view .LVU193
 730 0068 3FE0     		b	.L70
 731              	.LVL69:
 732              	.L84:
 733              	.LBB8:
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 734              		.loc 1 1868 25 discriminator 1 view .LVU194
 735 006a 04F11F02 		add	r2, r4, #31
 736              	.LVL70:
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 737              		.loc 1 1868 25 discriminator 1 view .LVU195
 738 006e 61E0     		b	.L73
 739              	.LVL71:
 740              	.L85:
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 741              		.loc 1 1874 26 discriminator 1 view .LVU196
 742 0070 04F11F03 		add	r3, r4, #31
 743              	.LVL72:
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 744              		.loc 1 1874 26 discriminator 1 view .LVU197
 745 0074 85E0     		b	.L75
 746              	.LVL73:
 747              	.L86:
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 748              		.loc 1 1880 27 discriminator 1 view .LVU198
 749 0076 04F11F02 		add	r2, r4, #31
 750              	.LVL74:
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 751              		.loc 1 1880 27 discriminator 1 view .LVU199
 752 007a A7E0     		b	.L76
 753              	.LVL75:
 754              	.L71:
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 755              		.loc 1 1880 27 discriminator 1 view .LVU200
 756              	.LBE8:
1887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* no a valid open socket */
 757              		.loc 1 1887 7 is_stmt 1 view .LVU201
 758 007c 3046     		mov	r0, r6
 759              	.LVL76:
1887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* no a valid open socket */
 760              		.loc 1 1887 7 is_stmt 0 view .LVU202
 761 007e FFF7FEFF 		bl	sys_arch_unprotect
 762              	.LVL77:
1889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 67


 763              		.loc 1 1889 7 is_stmt 1 view .LVU203
1889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 764              		.loc 1 1889 14 is_stmt 0 view .LVU204
 765 0082 4FF0FF3A 		mov	r10, #-1
 766              	.LVL78:
 767              	.L56:
1899:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 768              		.loc 1 1899 1 view .LVU205
 769 0086 5046     		mov	r0, r10
 770 0088 0BB0     		add	sp, sp, #44
 771              	.LCFI10:
 772              		.cfi_remember_state
 773              		.cfi_def_cfa_offset 36
 774              		@ sp needed
 775 008a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 776              	.LVL79:
 777              	.L69:
 778              	.LCFI11:
 779              		.cfi_restore_state
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 780              		.loc 1 1849 45 is_stmt 1 discriminator 2 view .LVU206
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 781              		.loc 1 1849 46 is_stmt 0 discriminator 2 view .LVU207
 782 008e 0134     		adds	r4, r4, #1
 783              	.LVL80:
 784              	.L63:
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 785              		.loc 1 1849 32 is_stmt 1 discriminator 1 view .LVU208
1849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* if this FD is not in the set, continue */
 786              		.loc 1 1849 3 is_stmt 0 discriminator 1 view .LVU209
 787 0090 4C45     		cmp	r4, r9
 788 0092 80F2BD80 		bge	.L80
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 789              		.loc 1 1851 5 is_stmt 1 view .LVU210
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 790              		.loc 1 1851 8 is_stmt 0 view .LVU211
 791 0096 85B1     		cbz	r5, .L64
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 792              		.loc 1 1851 25 discriminator 2 view .LVU212
 793 0098 2346     		mov	r3, r4
 794 009a 002C     		cmp	r4, #0
 795 009c DCDB     		blt	.L81
 796              	.L65:
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 797              		.loc 1 1851 25 discriminator 2 view .LVU213
 798 009e 5B11     		asrs	r3, r3, #5
 799 00a0 55F82330 		ldr	r3, [r5, r3, lsl #2]
 800 00a4 6142     		rsbs	r1, r4, #0
 801 00a6 04F01F02 		and	r2, r4, #31
 802 00aa 01F01F01 		and	r1, r1, #31
 803 00ae 58BF     		it	pl
 804 00b0 4A42     		rsbpl	r2, r1, #0
 805 00b2 D340     		lsrs	r3, r3, r2
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 806              		.loc 1 1851 9 discriminator 2 view .LVU214
 807 00b4 13F0010F 		tst	r3, #1
 808 00b8 25D1     		bne	.L66
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 68


 809              	.L64:
1851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(writeset_in && FD_ISSET(i, writeset_in)) &&
 810              		.loc 1 1851 50 discriminator 3 view .LVU215
 811 00ba 87B1     		cbz	r7, .L67
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 812              		.loc 1 1852 26 view .LVU216
 813 00bc 2346     		mov	r3, r4
 814 00be 002C     		cmp	r4, #0
 815 00c0 CDDB     		blt	.L82
 816              	.L68:
 817 00c2 5B11     		asrs	r3, r3, #5
 818 00c4 57F82330 		ldr	r3, [r7, r3, lsl #2]
 819 00c8 6142     		rsbs	r1, r4, #0
 820 00ca 04F01F02 		and	r2, r4, #31
 821 00ce 01F01F01 		and	r1, r1, #31
 822 00d2 58BF     		it	pl
 823 00d4 4A42     		rsbpl	r2, r1, #0
 824 00d6 D340     		lsrs	r3, r3, r2
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 825              		.loc 1 1852 9 view .LVU217
 826 00d8 13F0010F 		tst	r3, #1
 827 00dc 13D1     		bne	.L66
 828              	.L67:
1852:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         !(exceptset_in && FD_ISSET(i, exceptset_in))) {
 829              		.loc 1 1852 52 discriminator 1 view .LVU218
 830 00de B8F1000F 		cmp	r8, #0
 831 00e2 D4D0     		beq	.L69
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
 832              		.loc 1 1853 27 view .LVU219
 833 00e4 2346     		mov	r3, r4
 834 00e6 002C     		cmp	r4, #0
 835 00e8 BCDB     		blt	.L83
 836              	.L70:
 837 00ea 5B11     		asrs	r3, r3, #5
 838 00ec 58F82330 		ldr	r3, [r8, r3, lsl #2]
 839 00f0 6142     		rsbs	r1, r4, #0
 840 00f2 04F01F02 		and	r2, r4, #31
 841 00f6 01F01F01 		and	r1, r1, #31
 842 00fa 58BF     		it	pl
 843 00fc 4A42     		rsbpl	r2, r1, #0
 844 00fe D340     		lsrs	r3, r3, r2
1853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       continue;
 845              		.loc 1 1853 9 view .LVU220
 846 0100 13F0010F 		tst	r3, #1
 847 0104 C3D0     		beq	.L69
 848              	.L66:
1857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock = tryget_socket_unconn_locked(i);
 849              		.loc 1 1857 5 is_stmt 1 view .LVU221
 850 0106 FFF7FEFF 		bl	sys_arch_protect
 851              	.LVL81:
 852 010a 0646     		mov	r6, r0
 853              	.LVL82:
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
 854              		.loc 1 1858 5 view .LVU222
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
 855              		.loc 1 1858 12 is_stmt 0 view .LVU223
 856 010c 2046     		mov	r0, r4
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 69


 857              	.LVL83:
1858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (sock != NULL) {
 858              		.loc 1 1858 12 view .LVU224
 859 010e FFF7FEFF 		bl	tryget_socket_unconn_locked
 860              	.LVL84:
1859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       void *lastdata = sock->lastdata.pbuf;
 861              		.loc 1 1859 5 is_stmt 1 view .LVU225
1859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       void *lastdata = sock->lastdata.pbuf;
 862              		.loc 1 1859 8 is_stmt 0 view .LVU226
 863 0112 0028     		cmp	r0, #0
 864 0114 B2D0     		beq	.L71
 865              	.LBB9:
1860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
 866              		.loc 1 1860 7 is_stmt 1 view .LVU227
1860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       s16_t rcvevent = sock->rcvevent;
 867              		.loc 1 1860 13 is_stmt 0 view .LVU228
 868 0116 4268     		ldr	r2, [r0, #4]
 869 0118 0192     		str	r2, [sp, #4]
 870              	.LVL85:
1861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t sendevent = sock->sendevent;
 871              		.loc 1 1861 7 is_stmt 1 view .LVU229
1861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t sendevent = sock->sendevent;
 872              		.loc 1 1861 13 is_stmt 0 view .LVU230
 873 011a B0F908B0 		ldrsh	fp, [r0, #8]
 874              	.LVL86:
1862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
 875              		.loc 1 1862 7 is_stmt 1 view .LVU231
1862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
 876              		.loc 1 1862 13 is_stmt 0 view .LVU232
 877 011e 4289     		ldrh	r2, [r0, #10]
 878              	.LVL87:
1862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t errevent = sock->errevent;
 879              		.loc 1 1862 13 view .LVU233
 880 0120 0292     		str	r2, [sp, #8]
 881              	.LVL88:
1863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 882              		.loc 1 1863 7 is_stmt 1 view .LVU234
1863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 883              		.loc 1 1863 13 is_stmt 0 view .LVU235
 884 0122 8389     		ldrh	r3, [r0, #12]
 885 0124 0393     		str	r3, [sp, #12]
 886              	.LVL89:
1864:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 887              		.loc 1 1864 7 is_stmt 1 view .LVU236
 888 0126 3046     		mov	r0, r6
 889              	.LVL90:
1864:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 890              		.loc 1 1864 7 is_stmt 0 view .LVU237
 891 0128 FFF7FEFF 		bl	sys_arch_unprotect
 892              	.LVL91:
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 893              		.loc 1 1868 7 is_stmt 1 view .LVU238
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 894              		.loc 1 1868 10 is_stmt 0 view .LVU239
 895 012c 25B3     		cbz	r5, .L72
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 896              		.loc 1 1868 25 discriminator 1 view .LVU240
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 70


 897 012e 2246     		mov	r2, r4
 898 0130 002C     		cmp	r4, #0
 899 0132 9ADB     		blt	.L84
 900              	.L73:
 901 0134 5611     		asrs	r6, r2, #5
 902              	.LVL92:
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 903              		.loc 1 1868 25 discriminator 1 view .LVU241
 904 0136 55F82600 		ldr	r0, [r5, r6, lsl #2]
 905 013a 6142     		rsbs	r1, r4, #0
 906 013c 04F01F03 		and	r3, r4, #31
 907 0140 01F01F01 		and	r1, r1, #31
 908 0144 58BF     		it	pl
 909 0146 4B42     		rsbpl	r3, r1, #0
 910 0148 20FA03F2 		lsr	r2, r0, r3
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 911              		.loc 1 1868 22 discriminator 1 view .LVU242
 912 014c 12F0010F 		tst	r2, #1
 913 0150 12D0     		beq	.L72
1868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lreadset);
 914              		.loc 1 1868 49 discriminator 2 view .LVU243
 915 0152 019A     		ldr	r2, [sp, #4]
 916 0154 BBF1000F 		cmp	fp, #0
 917 0158 D8BF     		it	le
 918 015a 002A     		cmple	r2, #0
 919 015c 0CD0     		beq	.L72
1869:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for reading\n", i));
 920              		.loc 1 1869 9 is_stmt 1 view .LVU244
 921 015e 0121     		movs	r1, #1
 922 0160 01FA03F3 		lsl	r3, r1, r3
 923 0164 0AAA     		add	r2, sp, #40
 924 0166 02EB8602 		add	r2, r2, r6, lsl #2
 925 016a 52F8081C 		ldr	r1, [r2, #-8]
 926 016e 1943     		orrs	r1, r1, r3
 927 0170 42F8081C 		str	r1, [r2, #-8]
1870:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
 928              		.loc 1 1870 83 view .LVU245
1871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 929              		.loc 1 1871 9 view .LVU246
1871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 930              		.loc 1 1871 15 is_stmt 0 view .LVU247
 931 0174 0AF1010A 		add	r10, r10, #1
 932              	.LVL93:
 933              	.L72:
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 934              		.loc 1 1874 7 is_stmt 1 view .LVU248
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 935              		.loc 1 1874 10 is_stmt 0 view .LVU249
 936 0178 07B3     		cbz	r7, .L74
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 937              		.loc 1 1874 26 discriminator 1 view .LVU250
 938 017a 2346     		mov	r3, r4
 939 017c 002C     		cmp	r4, #0
 940 017e FFF677AF 		blt	.L85
 941              	.L75:
 942 0182 5911     		asrs	r1, r3, #5
 943 0184 57F82130 		ldr	r3, [r7, r1, lsl #2]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 71


 944 0188 6242     		rsbs	r2, r4, #0
 945 018a 04F01F00 		and	r0, r4, #31
 946 018e 02F01F02 		and	r2, r2, #31
 947 0192 58BF     		it	pl
 948 0194 5042     		rsbpl	r0, r2, #0
 949 0196 C340     		lsrs	r3, r3, r0
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 950              		.loc 1 1874 23 discriminator 1 view .LVU251
 951 0198 13F0010F 		tst	r3, #1
 952 019c 0ED0     		beq	.L74
1874:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lwriteset);
 953              		.loc 1 1874 51 discriminator 2 view .LVU252
 954 019e 029B     		ldr	r3, [sp, #8]
 955 01a0 63B1     		cbz	r3, .L74
1875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for writing\n", i));
 956              		.loc 1 1875 9 is_stmt 1 view .LVU253
 957 01a2 0122     		movs	r2, #1
 958 01a4 02FA00F0 		lsl	r0, r2, r0
 959 01a8 0AAB     		add	r3, sp, #40
 960 01aa 03EB8103 		add	r3, r3, r1, lsl #2
 961 01ae 53F8102C 		ldr	r2, [r3, #-16]
 962 01b2 0243     		orrs	r2, r2, r0
 963 01b4 43F8102C 		str	r2, [r3, #-16]
1876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
 964              		.loc 1 1876 83 view .LVU254
1877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 965              		.loc 1 1877 9 view .LVU255
1877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 966              		.loc 1 1877 15 is_stmt 0 view .LVU256
 967 01b8 0AF1010A 		add	r10, r10, #1
 968              	.LVL94:
 969              	.L74:
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 970              		.loc 1 1880 7 is_stmt 1 view .LVU257
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 971              		.loc 1 1880 10 is_stmt 0 view .LVU258
 972 01bc B8F1000F 		cmp	r8, #0
 973 01c0 3FF465AF 		beq	.L69
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 974              		.loc 1 1880 27 discriminator 1 view .LVU259
 975 01c4 2246     		mov	r2, r4
 976 01c6 002C     		cmp	r4, #0
 977 01c8 FFF655AF 		blt	.L86
 978              	.L76:
 979 01cc 5611     		asrs	r6, r2, #5
 980 01ce 58F82600 		ldr	r0, [r8, r6, lsl #2]
 981 01d2 6142     		rsbs	r1, r4, #0
 982 01d4 04F01F03 		and	r3, r4, #31
 983 01d8 01F01F01 		and	r1, r1, #31
 984 01dc 58BF     		it	pl
 985 01de 4B42     		rsbpl	r3, r1, #0
 986 01e0 20FA03F2 		lsr	r2, r0, r3
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
 987              		.loc 1 1880 24 discriminator 1 view .LVU260
 988 01e4 12F0010F 		tst	r2, #1
 989 01e8 3FF451AF 		beq	.L69
1880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         FD_SET(i, &lexceptset);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 72


 990              		.loc 1 1880 53 discriminator 2 view .LVU261
 991 01ec 039A     		ldr	r2, [sp, #12]
 992 01ee 002A     		cmp	r2, #0
 993 01f0 3FF44DAF 		beq	.L69
1881:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_selscan: fd=%d ready for exception\n", i));
 994              		.loc 1 1881 9 is_stmt 1 view .LVU262
 995 01f4 0121     		movs	r1, #1
 996 01f6 01FA03F3 		lsl	r3, r1, r3
 997 01fa 0AAA     		add	r2, sp, #40
 998 01fc 02EB8602 		add	r2, r2, r6, lsl #2
 999 0200 52F8181C 		ldr	r1, [r2, #-24]
 1000 0204 1943     		orrs	r1, r1, r3
 1001 0206 42F8181C 		str	r1, [r2, #-24]
1882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         nready++;
 1002              		.loc 1 1882 85 view .LVU263
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1003              		.loc 1 1883 9 view .LVU264
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1004              		.loc 1 1883 15 is_stmt 0 view .LVU265
 1005 020a 0AF1010A 		add	r10, r10, #1
 1006              	.LVL95:
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1007              		.loc 1 1883 15 view .LVU266
 1008 020e 3EE7     		b	.L69
 1009              	.LVL96:
 1010              	.L80:
1883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1011              		.loc 1 1883 15 view .LVU267
 1012              	.LBE9:
1893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *writeset_out = lwriteset;
 1013              		.loc 1 1893 3 is_stmt 1 view .LVU268
1893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *writeset_out = lwriteset;
 1014              		.loc 1 1893 16 is_stmt 0 view .LVU269
 1015 0210 0AAB     		add	r3, sp, #40
 1016 0212 13E90300 		ldmdb	r3, {r0, r1}
 1017 0216 149B     		ldr	r3, [sp, #80]
 1018 0218 83E80300 		stm	r3, {r0, r1}
1894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *exceptset_out = lexceptset;
 1019              		.loc 1 1894 3 is_stmt 1 view .LVU270
1894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   *exceptset_out = lexceptset;
 1020              		.loc 1 1894 17 is_stmt 0 view .LVU271
 1021 021c 06AB     		add	r3, sp, #24
 1022 021e 93E80300 		ldm	r3, {r0, r1}
 1023 0222 159B     		ldr	r3, [sp, #84]
 1024 0224 83E80300 		stm	r3, {r0, r1}
1895:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1025              		.loc 1 1895 3 is_stmt 1 view .LVU272
1895:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1026              		.loc 1 1895 18 is_stmt 0 view .LVU273
 1027 0228 04AB     		add	r3, sp, #16
 1028 022a 93E80300 		ldm	r3, {r0, r1}
 1029 022e 169B     		ldr	r3, [sp, #88]
 1030 0230 83E80300 		stm	r3, {r0, r1}
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1031              		.loc 1 1897 3 is_stmt 1 view .LVU274
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1032              		.loc 1 1897 3 view .LVU275
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 73


 1033 0234 BAF1000F 		cmp	r10, #0
 1034 0238 BFF625AF 		bge	.L56
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1035              		.loc 1 1897 3 discriminator 1 view .LVU276
1897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1036              		.loc 1 1897 3 discriminator 1 view .LVU277
 1037 023c 034B     		ldr	r3, .L87
 1038 023e 40F26972 		movw	r2, #1897
 1039 0242 0349     		ldr	r1, .L87+4
 1040 0244 0348     		ldr	r0, .L87+8
 1041 0246 FFF7FEFF 		bl	printf
 1042              	.LVL97:
 1043 024a 1CE7     		b	.L56
 1044              	.L88:
 1045              		.align	2
 1046              	.L87:
 1047 024c 00000000 		.word	.LC0
 1048 0250 00000000 		.word	.LC4
 1049 0254 48000000 		.word	.LC2
 1050              		.cfi_endproc
 1051              	.LFE398:
 1053              		.section	.rodata.lwip_pollscan.str1.4,"aMS",%progbits,1
 1054              		.align	2
 1055              	.LC5:
 1056 0000 736F636B 		.ascii	"sock->select_waiting > 0\000"
 1056      2D3E7365 
 1056      6C656374 
 1056      5F776169 
 1056      74696E67 
 1057              		.section	.text.lwip_pollscan,"ax",%progbits
 1058              		.align	1
 1059              		.syntax unified
 1060              		.thumb
 1061              		.thumb_func
 1063              	lwip_pollscan:
 1064              	.LVL98:
 1065              	.LFB400:
2194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready = 0;
 1066              		.loc 1 2194 1 view -0
 1067              		.cfi_startproc
 1068              		@ args = 0, pretend = 0, frame = 16
 1069              		@ frame_needed = 0, uses_anonymous_args = 0
2194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready = 0;
 1070              		.loc 1 2194 1 is_stmt 0 view .LVU279
 1071 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1072              	.LCFI12:
 1073              		.cfi_def_cfa_offset 36
 1074              		.cfi_offset 4, -36
 1075              		.cfi_offset 5, -32
 1076              		.cfi_offset 6, -28
 1077              		.cfi_offset 7, -24
 1078              		.cfi_offset 8, -20
 1079              		.cfi_offset 9, -16
 1080              		.cfi_offset 10, -12
 1081              		.cfi_offset 11, -8
 1082              		.cfi_offset 14, -4
 1083 0004 85B0     		sub	sp, sp, #20
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 74


 1084              	.LCFI13:
 1085              		.cfi_def_cfa_offset 56
 1086 0006 0646     		mov	r6, r0
 1087 0008 8A46     		mov	r10, r1
 1088 000a 1746     		mov	r7, r2
2195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
 1089              		.loc 1 2195 3 is_stmt 1 view .LVU280
 1090              	.LVL99:
2196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 1091              		.loc 1 2196 3 view .LVU281
2197:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 1092              		.loc 1 2197 3 view .LVU282
2198:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1093              		.loc 1 2198 3 view .LVU283
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1094              		.loc 1 2201 3 view .LVU284
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1095              		.loc 1 2201 12 is_stmt 0 view .LVU285
 1096 000c 0024     		movs	r4, #0
2195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nfds_t fdi;
 1097              		.loc 1 2195 7 view .LVU286
 1098 000e A346     		mov	fp, r4
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1099              		.loc 1 2201 3 view .LVU287
 1100 0010 2FE0     		b	.L90
 1101              	.LVL100:
 1102              	.L106:
 1103              	.LBB10:
2224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
 1104              		.loc 1 2224 13 is_stmt 1 view .LVU288
2224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             nready = -1;
 1105              		.loc 1 2224 33 is_stmt 0 view .LVU289
 1106 0012 8273     		strb	r2, [r0, #14]
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 1107              		.loc 1 2225 13 is_stmt 1 view .LVU290
 1108              	.LVL101:
2226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 1109              		.loc 1 2226 13 view .LVU291
 1110 0014 0098     		ldr	r0, [sp]
 1111              	.LVL102:
2226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 1112              		.loc 1 2226 13 is_stmt 0 view .LVU292
 1113 0016 FFF7FEFF 		bl	sys_arch_unprotect
 1114              	.LVL103:
2227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 1115              		.loc 1 2227 30 is_stmt 1 view .LVU293
2228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 1116              		.loc 1 2228 13 view .LVU294
2228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 1117              		.loc 1 2228 13 is_stmt 0 view .LVU295
 1118              	.LBE10:
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1119              		.loc 1 2273 3 is_stmt 1 view .LVU296
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1120              		.loc 1 2273 3 view .LVU297
 1121              	.LBB11:
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 75


 1122              		.loc 1 2225 20 is_stmt 0 view .LVU298
 1123 001a 4FF0FF3B 		mov	fp, #-1
 1124              	.LVL104:
 1125              	.L96:
2225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 1126              		.loc 1 2225 20 view .LVU299
 1127              	.LBE11:
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1128              		.loc 1 2273 3 is_stmt 1 discriminator 1 view .LVU300
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1129              		.loc 1 2273 3 discriminator 1 view .LVU301
 1130 001e 464B     		ldr	r3, .L107
 1131 0020 40F6E102 		movw	r2, #2273
 1132 0024 4549     		ldr	r1, .L107+4
 1133 0026 4648     		ldr	r0, .L107+8
 1134 0028 FFF7FEFF 		bl	printf
 1135              	.LVL105:
 1136 002c 80E0     		b	.L89
 1137              	.LVL106:
 1138              	.L94:
 1139              	.LBB12:
2230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* for now, handle select_waiting==0... */
 1140              		.loc 1 2230 16 view .LVU302
2230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* for now, handle select_waiting==0... */
 1141              		.loc 1 2230 19 is_stmt 0 view .LVU303
 1142 002e 17F0040F 		tst	r7, #4
 1143 0032 50D0     		beq	.L95
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1144              		.loc 1 2232 11 is_stmt 1 view .LVU304
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1145              		.loc 1 2232 11 view .LVU305
 1146 0034 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 1147 0036 3BB1     		cbz	r3, .L104
 1148              	.LVL107:
 1149              	.L97:
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1150              		.loc 1 2232 11 discriminator 3 view .LVU306
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1151              		.loc 1 2232 11 discriminator 3 view .LVU307
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
 1152              		.loc 1 2233 11 discriminator 3 view .LVU308
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
 1153              		.loc 1 2233 19 is_stmt 0 discriminator 3 view .LVU309
 1154 0038 99F80E30 		ldrb	r3, [r9, #14]	@ zero_extendqisi2
2233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting--;
 1155              		.loc 1 2233 14 discriminator 3 view .LVU310
 1156 003c 002B     		cmp	r3, #0
 1157 003e 4AD0     		beq	.L95
2234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 1158              		.loc 1 2234 13 is_stmt 1 view .LVU311
2234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 1159              		.loc 1 2234 33 is_stmt 0 view .LVU312
 1160 0040 013B     		subs	r3, r3, #1
 1161 0042 89F80E30 		strb	r3, [r9, #14]
 1162 0046 46E0     		b	.L95
 1163              	.LVL108:
 1164              	.L104:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 76


2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1165              		.loc 1 2232 11 is_stmt 1 discriminator 1 view .LVU313
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1166              		.loc 1 2232 11 discriminator 1 view .LVU314
 1167 0048 3B4B     		ldr	r3, .L107
 1168 004a 40F6B802 		movw	r2, #2232
 1169 004e 3D49     		ldr	r1, .L107+12
 1170 0050 3B48     		ldr	r0, .L107+8
 1171              	.LVL109:
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1172              		.loc 1 2232 11 is_stmt 0 discriminator 1 view .LVU315
 1173 0052 FFF7FEFF 		bl	printf
 1174              	.LVL110:
2232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting > 0) {
 1175              		.loc 1 2232 11 discriminator 1 view .LVU316
 1176 0056 EFE7     		b	.L97
 1177              	.L99:
2249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 1178              		.loc 1 2249 96 is_stmt 1 view .LVU317
2252:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* POLLERR is output only. */
 1179              		.loc 1 2252 9 view .LVU318
2252:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* POLLERR is output only. */
 1180              		.loc 1 2252 12 is_stmt 0 view .LVU319
 1181 0058 B8F1000F 		cmp	r8, #0
 1182 005c 03D0     		beq	.L92
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1183              		.loc 1 2254 11 is_stmt 1 view .LVU320
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1184              		.loc 1 2254 28 is_stmt 0 view .LVU321
 1185 005e EB88     		ldrh	r3, [r5, #6]
 1186 0060 43F00403 		orr	r3, r3, #4
 1187 0064 EB80     		strh	r3, [r5, #6]	@ movhi
 1188              	.LVL111:
 1189              	.L92:
2254:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for exception\n", fds[fdi].fd));
 1190              		.loc 1 2254 28 view .LVU322
 1191              	.LBE12:
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready++;
 1192              		.loc 1 2268 5 is_stmt 1 view .LVU323
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready++;
 1193              		.loc 1 2268 17 is_stmt 0 view .LVU324
 1194 0066 B5F90630 		ldrsh	r3, [r5, #6]
2268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       nready++;
 1195              		.loc 1 2268 8 view .LVU325
 1196 006a 0BB1     		cbz	r3, .L101
2269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1197              		.loc 1 2269 7 is_stmt 1 view .LVU326
2269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1198              		.loc 1 2269 13 is_stmt 0 view .LVU327
 1199 006c 0BF1010B 		add	fp, fp, #1
 1200              	.LVL112:
 1201              	.L101:
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1202              		.loc 1 2201 29 is_stmt 1 discriminator 2 view .LVU328
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1203              		.loc 1 2201 32 is_stmt 0 discriminator 2 view .LVU329
 1204 0070 0134     		adds	r4, r4, #1
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 77


 1205              	.LVL113:
 1206              	.L90:
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1207              		.loc 1 2201 17 is_stmt 1 discriminator 1 view .LVU330
2201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((opts & LWIP_POLLSCAN_CLEAR) != 0) {
 1208              		.loc 1 2201 3 is_stmt 0 discriminator 1 view .LVU331
 1209 0072 5445     		cmp	r4, r10
 1210 0074 58D2     		bcs	.L105
2202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       fds[fdi].revents = 0;
 1211              		.loc 1 2202 5 is_stmt 1 view .LVU332
2202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       fds[fdi].revents = 0;
 1212              		.loc 1 2202 8 is_stmt 0 view .LVU333
 1213 0076 17F0010F 		tst	r7, #1
 1214 007a 03D0     		beq	.L91
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1215              		.loc 1 2203 7 is_stmt 1 view .LVU334
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1216              		.loc 1 2203 10 is_stmt 0 view .LVU335
 1217 007c 06EBC403 		add	r3, r6, r4, lsl #3
2203:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1218              		.loc 1 2203 24 view .LVU336
 1219 0080 0022     		movs	r2, #0
 1220 0082 DA80     		strh	r2, [r3, #6]	@ movhi
 1221              	.L91:
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1222              		.loc 1 2210 5 is_stmt 1 view .LVU337
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1223              		.loc 1 2210 12 is_stmt 0 view .LVU338
 1224 0084 4FEAC408 		lsl	r8, r4, #3
 1225 0088 06EBC405 		add	r5, r6, r4, lsl #3
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1226              		.loc 1 2210 17 view .LVU339
 1227 008c 56F83430 		ldr	r3, [r6, r4, lsl #3]
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1228              		.loc 1 2210 8 view .LVU340
 1229 0090 002B     		cmp	r3, #0
 1230 0092 E8DB     		blt	.L92
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1231              		.loc 1 2210 38 discriminator 1 view .LVU341
 1232 0094 B5F90630 		ldrsh	r3, [r5, #6]
2210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* First get the socket's status (protected)... */
 1233              		.loc 1 2210 26 discriminator 1 view .LVU342
 1234 0098 13F0080F 		tst	r3, #8
 1235 009c E3D1     		bne	.L92
2212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock = tryget_socket_unconn_locked(fds[fdi].fd);
 1236              		.loc 1 2212 7 is_stmt 1 view .LVU343
 1237 009e FFF7FEFF 		bl	sys_arch_protect
 1238              	.LVL114:
 1239 00a2 0090     		str	r0, [sp]
 1240              	.LVL115:
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
 1241              		.loc 1 2213 7 view .LVU344
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
 1242              		.loc 1 2213 14 is_stmt 0 view .LVU345
 1243 00a4 56F80800 		ldr	r0, [r6, r8]
 1244              	.LVL116:
2213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock != NULL) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 78


 1245              		.loc 1 2213 14 view .LVU346
 1246 00a8 FFF7FEFF 		bl	tryget_socket_unconn_locked
 1247              	.LVL117:
2214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         void* lastdata = sock->lastdata.pbuf;
 1248              		.loc 1 2214 7 is_stmt 1 view .LVU347
2214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         void* lastdata = sock->lastdata.pbuf;
 1249              		.loc 1 2214 10 is_stmt 0 view .LVU348
 1250 00ac 8146     		mov	r9, r0
 1251 00ae 0028     		cmp	r0, #0
 1252 00b0 30D0     		beq	.L93
 1253              	.LBB13:
2215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         s16_t rcvevent = sock->rcvevent;
 1254              		.loc 1 2215 9 is_stmt 1 view .LVU349
2215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         s16_t rcvevent = sock->rcvevent;
 1255              		.loc 1 2215 15 is_stmt 0 view .LVU350
 1256 00b2 4368     		ldr	r3, [r0, #4]
 1257 00b4 0193     		str	r3, [sp, #4]
 1258              	.LVL118:
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t sendevent = sock->sendevent;
 1259              		.loc 1 2216 9 is_stmt 1 view .LVU351
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t sendevent = sock->sendevent;
 1260              		.loc 1 2216 15 is_stmt 0 view .LVU352
 1261 00b6 B0F90830 		ldrsh	r3, [r0, #8]
 1262              	.LVL119:
2216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t sendevent = sock->sendevent;
 1263              		.loc 1 2216 15 view .LVU353
 1264 00ba 0293     		str	r3, [sp, #8]
 1265              	.LVL120:
2217:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t errevent = sock->errevent;
 1266              		.loc 1 2217 9 is_stmt 1 view .LVU354
2217:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         u16_t errevent = sock->errevent;
 1267              		.loc 1 2217 15 is_stmt 0 view .LVU355
 1268 00bc 4389     		ldrh	r3, [r0, #10]
 1269 00be 0393     		str	r3, [sp, #12]
 1270              	.LVL121:
2218:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1271              		.loc 1 2218 9 is_stmt 1 view .LVU356
2218:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1272              		.loc 1 2218 15 is_stmt 0 view .LVU357
 1273 00c0 B0F80C80 		ldrh	r8, [r0, #12]
 1274              	.LVL122:
2220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->select_waiting++;
 1275              		.loc 1 2220 9 is_stmt 1 view .LVU358
2220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->select_waiting++;
 1276              		.loc 1 2220 12 is_stmt 0 view .LVU359
 1277 00c4 17F0020F 		tst	r7, #2
 1278 00c8 B1D0     		beq	.L94
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting == 0) {
 1279              		.loc 1 2221 11 is_stmt 1 view .LVU360
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting == 0) {
 1280              		.loc 1 2221 15 is_stmt 0 view .LVU361
 1281 00ca 827B     		ldrb	r2, [r0, #14]	@ zero_extendqisi2
2221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->select_waiting == 0) {
 1282              		.loc 1 2221 31 view .LVU362
 1283 00cc 531C     		adds	r3, r2, #1
 1284 00ce DBB2     		uxtb	r3, r3
 1285 00d0 8373     		strb	r3, [r0, #14]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 79


2222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* overflow - too many threads waiting */
 1286              		.loc 1 2222 11 is_stmt 1 view .LVU363
2222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* overflow - too many threads waiting */
 1287              		.loc 1 2222 14 is_stmt 0 view .LVU364
 1288 00d2 002B     		cmp	r3, #0
 1289 00d4 9DD0     		beq	.L106
 1290              	.LVL123:
 1291              	.L95:
2237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 1292              		.loc 1 2237 9 is_stmt 1 view .LVU365
 1293 00d6 0098     		ldr	r0, [sp]
 1294 00d8 FFF7FEFF 		bl	sys_arch_unprotect
 1295              	.LVL124:
2238:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1296              		.loc 1 2238 26 view .LVU366
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1297              		.loc 1 2242 9 view .LVU367
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1298              		.loc 1 2242 22 is_stmt 0 view .LVU368
 1299 00dc B5F90430 		ldrsh	r3, [r5, #4]
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1300              		.loc 1 2242 12 view .LVU369
 1301 00e0 13F0010F 		tst	r3, #1
 1302 00e4 09D0     		beq	.L98
2242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLIN;
 1303              		.loc 1 2242 45 discriminator 1 view .LVU370
 1304 00e6 019B     		ldr	r3, [sp, #4]
 1305 00e8 029A     		ldr	r2, [sp, #8]
 1306 00ea 002A     		cmp	r2, #0
 1307 00ec D8BF     		it	le
 1308 00ee 002B     		cmple	r3, #0
 1309 00f0 03D0     		beq	.L98
2243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
 1310              		.loc 1 2243 11 is_stmt 1 view .LVU371
2243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for reading\n", fds[fdi].fd));
 1311              		.loc 1 2243 28 is_stmt 0 view .LVU372
 1312 00f2 EB88     		ldrh	r3, [r5, #6]
 1313 00f4 43F00103 		orr	r3, r3, #1
 1314 00f8 EB80     		strh	r3, [r5, #6]	@ movhi
 1315              	.L98:
2244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 1316              		.loc 1 2244 96 is_stmt 1 view .LVU373
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1317              		.loc 1 2247 9 view .LVU374
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1318              		.loc 1 2247 22 is_stmt 0 view .LVU375
 1319 00fa B5F90430 		ldrsh	r3, [r5, #4]
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1320              		.loc 1 2247 12 view .LVU376
 1321 00fe 13F0020F 		tst	r3, #2
 1322 0102 A9D0     		beq	.L99
2247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           fds[fdi].revents |= POLLOUT;
 1323              		.loc 1 2247 46 discriminator 1 view .LVU377
 1324 0104 039B     		ldr	r3, [sp, #12]
 1325 0106 002B     		cmp	r3, #0
 1326 0108 A6D0     		beq	.L99
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 80


 1327              		.loc 1 2248 11 is_stmt 1 view .LVU378
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
 1328              		.loc 1 2248 28 is_stmt 0 view .LVU379
 1329 010a EB88     		ldrh	r3, [r5, #6]
 1330 010c 43F00203 		orr	r3, r3, #2
 1331 0110 EB80     		strh	r3, [r5, #6]	@ movhi
 1332 0112 A1E7     		b	.L99
 1333              	.LVL125:
 1334              	.L93:
2248:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_pollscan: fd=%d ready for writing\n", fds[fdi].fd));
 1335              		.loc 1 2248 28 view .LVU380
 1336              	.LBE13:
2259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* POLLNVAL is output only. */
 1337              		.loc 1 2259 9 is_stmt 1 view .LVU381
 1338 0114 0098     		ldr	r0, [sp]
 1339              	.LVL126:
2259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* POLLNVAL is output only. */
 1340              		.loc 1 2259 9 is_stmt 0 view .LVU382
 1341 0116 FFF7FEFF 		bl	sys_arch_unprotect
 1342              	.LVL127:
2261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
 1343              		.loc 1 2261 9 is_stmt 1 view .LVU383
2261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
 1344              		.loc 1 2261 26 is_stmt 0 view .LVU384
 1345 011a EB88     		ldrh	r3, [r5, #6]
 1346 011c 43F00803 		orr	r3, r3, #8
 1347 0120 EB80     		strh	r3, [r5, #6]	@ movhi
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1348              		.loc 1 2262 9 is_stmt 1 view .LVU385
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1349              		.loc 1 2262 16 is_stmt 0 view .LVU386
 1350 0122 4FF0FF3B 		mov	fp, #-1
 1351              	.LVL128:
2262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 1352              		.loc 1 2262 16 view .LVU387
 1353 0126 03E0     		b	.L89
 1354              	.LVL129:
 1355              	.L105:
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1356              		.loc 1 2273 3 is_stmt 1 view .LVU388
2273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return nready;
 1357              		.loc 1 2273 3 view .LVU389
 1358 0128 BBF1000F 		cmp	fp, #0
 1359 012c FFF677AF 		blt	.L96
 1360              	.LVL130:
 1361              	.L89:
2275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1362              		.loc 1 2275 1 is_stmt 0 view .LVU390
 1363 0130 5846     		mov	r0, fp
 1364 0132 05B0     		add	sp, sp, #20
 1365              	.LCFI14:
 1366              		.cfi_def_cfa_offset 36
 1367              		@ sp needed
 1368 0134 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1369              	.LVL131:
 1370              	.L108:
2275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 81


 1371              		.loc 1 2275 1 view .LVU391
 1372              		.align	2
 1373              	.L107:
 1374 0138 00000000 		.word	.LC0
 1375 013c 00000000 		.word	.LC4
 1376 0140 48000000 		.word	.LC2
 1377 0144 00000000 		.word	.LC5
 1378              		.cfi_endproc
 1379              	.LFE400:
 1381              		.section	.text.lwip_link_select_cb,"ax",%progbits
 1382              		.align	1
 1383              		.syntax unified
 1384              		.thumb
 1385              		.thumb_func
 1387              	lwip_link_select_cb:
 1388              	.LVL132:
 1389              	.LFB396:
1772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1390              		.loc 1 1772 1 is_stmt 1 view -0
 1391              		.cfi_startproc
 1392              		@ args = 0, pretend = 0, frame = 0
 1393              		@ frame_needed = 0, uses_anonymous_args = 0
1772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1394              		.loc 1 1772 1 is_stmt 0 view .LVU393
 1395 0000 10B5     		push	{r4, lr}
 1396              	.LCFI15:
 1397              		.cfi_def_cfa_offset 8
 1398              		.cfi_offset 4, -8
 1399              		.cfi_offset 14, -4
 1400 0002 0446     		mov	r4, r0
1773:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1401              		.loc 1 1773 39 is_stmt 1 view .LVU394
1776:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1402              		.loc 1 1776 3 view .LVU395
 1403 0004 0648     		ldr	r0, .L112
 1404              	.LVL133:
1776:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1405              		.loc 1 1776 3 is_stmt 0 view .LVU396
 1406 0006 FFF7FEFF 		bl	sys_mutex_lock
 1407              	.LVL134:
1779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb_list != NULL) {
 1408              		.loc 1 1779 3 is_stmt 1 view .LVU397
1779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb_list != NULL) {
 1409              		.loc 1 1779 19 is_stmt 0 view .LVU398
 1410 000a 064B     		ldr	r3, .L112+4
 1411 000c 1B68     		ldr	r3, [r3]
 1412 000e 2360     		str	r3, [r4]
1780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list->prev = select_cb;
 1413              		.loc 1 1780 3 is_stmt 1 view .LVU399
1780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list->prev = select_cb;
 1414              		.loc 1 1780 6 is_stmt 0 view .LVU400
 1415 0010 03B1     		cbz	r3, .L110
1781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1416              		.loc 1 1781 5 is_stmt 1 view .LVU401
1781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1417              		.loc 1 1781 26 is_stmt 0 view .LVU402
 1418 0012 5C60     		str	r4, [r3, #4]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 82


 1419              	.L110:
1783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 1420              		.loc 1 1783 3 is_stmt 1 view .LVU403
1783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 1421              		.loc 1 1783 18 is_stmt 0 view .LVU404
 1422 0014 034B     		ldr	r3, .L112+4
 1423 0016 1C60     		str	r4, [r3]
1790:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1424              		.loc 1 1790 3 is_stmt 1 view .LVU405
 1425 0018 0148     		ldr	r0, .L112
 1426 001a FFF7FEFF 		bl	sys_mutex_unlock
 1427              	.LVL135:
1791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1428              		.loc 1 1791 1 is_stmt 0 view .LVU406
 1429 001e 10BD     		pop	{r4, pc}
 1430              	.LVL136:
 1431              	.L113:
1791:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1432              		.loc 1 1791 1 view .LVU407
 1433              		.align	2
 1434              	.L112:
 1435 0020 00000000 		.word	lock_tcpip_core
 1436 0024 00000000 		.word	.LANCHOR1
 1437              		.cfi_endproc
 1438              	.LFE396:
 1440              		.section	.rodata.lwip_unlink_select_cb.str1.4,"aMS",%progbits,1
 1441              		.align	2
 1442              	.LC6:
 1443 0000 73656C65 		.ascii	"select_cb->prev == NULL\000"
 1443      63745F63 
 1443      622D3E70 
 1443      72657620 
 1443      3D3D204E 
 1444              		.align	2
 1445              	.LC7:
 1446 0018 73656C65 		.ascii	"select_cb->prev != NULL\000"
 1446      63745F63 
 1446      622D3E70 
 1446      72657620 
 1446      213D204E 
 1447              		.section	.text.lwip_unlink_select_cb,"ax",%progbits
 1448              		.align	1
 1449              		.syntax unified
 1450              		.thumb
 1451              		.thumb_func
 1453              	lwip_unlink_select_cb:
 1454              	.LVL137:
 1455              	.LFB397:
1796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1456              		.loc 1 1796 1 is_stmt 1 view -0
 1457              		.cfi_startproc
 1458              		@ args = 0, pretend = 0, frame = 0
 1459              		@ frame_needed = 0, uses_anonymous_args = 0
1796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SOCKET_SELECT_DECL_PROTECT(lev);
 1460              		.loc 1 1796 1 is_stmt 0 view .LVU409
 1461 0000 10B5     		push	{r4, lr}
 1462              	.LCFI16:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 83


 1463              		.cfi_def_cfa_offset 8
 1464              		.cfi_offset 4, -8
 1465              		.cfi_offset 14, -4
 1466 0002 0446     		mov	r4, r0
1797:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1467              		.loc 1 1797 39 is_stmt 1 view .LVU410
1800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb->next != NULL) {
 1468              		.loc 1 1800 3 view .LVU411
 1469 0004 1448     		ldr	r0, .L123
 1470              	.LVL138:
1800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (select_cb->next != NULL) {
 1471              		.loc 1 1800 3 is_stmt 0 view .LVU412
 1472 0006 FFF7FEFF 		bl	sys_mutex_lock
 1473              	.LVL139:
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
 1474              		.loc 1 1801 3 is_stmt 1 view .LVU413
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
 1475              		.loc 1 1801 16 is_stmt 0 view .LVU414
 1476 000a 2368     		ldr	r3, [r4]
1801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->next->prev = select_cb->prev;
 1477              		.loc 1 1801 6 view .LVU415
 1478 000c 0BB1     		cbz	r3, .L115
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1479              		.loc 1 1802 5 is_stmt 1 view .LVU416
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1480              		.loc 1 1802 38 is_stmt 0 view .LVU417
 1481 000e 6268     		ldr	r2, [r4, #4]
1802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1482              		.loc 1 1802 27 view .LVU418
 1483 0010 5A60     		str	r2, [r3, #4]
 1484              	.L115:
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
 1485              		.loc 1 1804 3 is_stmt 1 view .LVU419
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
 1486              		.loc 1 1804 22 is_stmt 0 view .LVU420
 1487 0012 124B     		ldr	r3, .L123+4
 1488 0014 1B68     		ldr	r3, [r3]
1804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ASSERT("select_cb->prev == NULL", select_cb->prev == NULL);
 1489              		.loc 1 1804 6 view .LVU421
 1490 0016 A342     		cmp	r3, r4
 1491 0018 08D0     		beq	.L121
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1492              		.loc 1 1808 5 is_stmt 1 view .LVU422
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1493              		.loc 1 1808 5 view .LVU423
 1494 001a 6368     		ldr	r3, [r4, #4]
 1495 001c 9BB1     		cbz	r3, .L122
 1496              	.L119:
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1497              		.loc 1 1808 5 discriminator 3 view .LVU424
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1498              		.loc 1 1808 5 discriminator 3 view .LVU425
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1499              		.loc 1 1809 5 discriminator 3 view .LVU426
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1500              		.loc 1 1809 14 is_stmt 0 discriminator 3 view .LVU427
 1501 001e 6368     		ldr	r3, [r4, #4]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 84


1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1502              		.loc 1 1809 38 discriminator 3 view .LVU428
 1503 0020 2268     		ldr	r2, [r4]
1809:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1504              		.loc 1 1809 27 discriminator 3 view .LVU429
 1505 0022 1A60     		str	r2, [r3]
 1506              	.L118:
1815:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1507              		.loc 1 1815 3 is_stmt 1 view .LVU430
 1508 0024 0C48     		ldr	r0, .L123
 1509 0026 FFF7FEFF 		bl	sys_mutex_unlock
 1510              	.LVL140:
1816:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 1511              		.loc 1 1816 1 is_stmt 0 view .LVU431
 1512 002a 10BD     		pop	{r4, pc}
 1513              	.LVL141:
 1514              	.L121:
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1515              		.loc 1 1805 5 is_stmt 1 view .LVU432
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1516              		.loc 1 1805 5 view .LVU433
 1517 002c 6368     		ldr	r3, [r4, #4]
 1518 002e 33B1     		cbz	r3, .L117
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1519              		.loc 1 1805 5 discriminator 1 view .LVU434
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1520              		.loc 1 1805 5 discriminator 1 view .LVU435
 1521 0030 0B4B     		ldr	r3, .L123+8
 1522 0032 40F20D72 		movw	r2, #1805
 1523 0036 0B49     		ldr	r1, .L123+12
 1524 0038 0B48     		ldr	r0, .L123+16
 1525 003a FFF7FEFF 		bl	printf
 1526              	.LVL142:
 1527              	.L117:
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1528              		.loc 1 1805 5 discriminator 3 view .LVU436
1805:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb_list = select_cb->next;
 1529              		.loc 1 1805 5 discriminator 3 view .LVU437
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 1530              		.loc 1 1806 5 discriminator 3 view .LVU438
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 1531              		.loc 1 1806 31 is_stmt 0 discriminator 3 view .LVU439
 1532 003e 2268     		ldr	r2, [r4]
1806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 1533              		.loc 1 1806 20 discriminator 3 view .LVU440
 1534 0040 064B     		ldr	r3, .L123+4
 1535 0042 1A60     		str	r2, [r3]
 1536 0044 EEE7     		b	.L118
 1537              	.L122:
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1538              		.loc 1 1808 5 is_stmt 1 discriminator 1 view .LVU441
1808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     select_cb->prev->next = select_cb->next;
 1539              		.loc 1 1808 5 discriminator 1 view .LVU442
 1540 0046 064B     		ldr	r3, .L123+8
 1541 0048 4FF4E262 		mov	r2, #1808
 1542 004c 0749     		ldr	r1, .L123+20
 1543 004e 0648     		ldr	r0, .L123+16
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 85


 1544 0050 FFF7FEFF 		bl	printf
 1545              	.LVL143:
 1546 0054 E3E7     		b	.L119
 1547              	.L124:
 1548 0056 00BF     		.align	2
 1549              	.L123:
 1550 0058 00000000 		.word	lock_tcpip_core
 1551 005c 00000000 		.word	.LANCHOR1
 1552 0060 00000000 		.word	.LC0
 1553 0064 00000000 		.word	.LC6
 1554 0068 48000000 		.word	.LC2
 1555 006c 18000000 		.word	.LC7
 1556              		.cfi_endproc
 1557              	.LFE397:
 1559              		.section	.rodata.lwip_sock_make_addr.str1.4,"aMS",%progbits,1
 1560              		.align	2
 1561              	.LC8:
 1562 0000 66726F6D 		.ascii	"fromaddr != NULL\000"
 1562      61646472 
 1562      20213D20 
 1562      4E554C4C 
 1562      00
 1563 0011 000000   		.align	2
 1564              	.LC9:
 1565 0014 66726F6D 		.ascii	"from != NULL\000"
 1565      20213D20 
 1565      4E554C4C 
 1565      00
 1566 0021 000000   		.align	2
 1567              	.LC10:
 1568 0024 66726F6D 		.ascii	"fromlen != NULL\000"
 1568      6C656E20 
 1568      213D204E 
 1568      554C4C00 
 1569              		.section	.text.lwip_sock_make_addr,"ax",%progbits
 1570              		.align	1
 1571              		.syntax unified
 1572              		.thumb
 1573              		.thumb_func
 1575              	lwip_sock_make_addr:
 1576              	.LVL144:
 1577              	.LFB382:
1025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int truncated = 0;
 1578              		.loc 1 1025 1 view -0
 1579              		.cfi_startproc
 1580              		@ args = 4, pretend = 0, frame = 16
 1581              		@ frame_needed = 0, uses_anonymous_args = 0
1025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int truncated = 0;
 1582              		.loc 1 1025 1 is_stmt 0 view .LVU444
 1583 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1584              	.LCFI17:
 1585              		.cfi_def_cfa_offset 20
 1586              		.cfi_offset 4, -20
 1587              		.cfi_offset 5, -16
 1588              		.cfi_offset 6, -12
 1589              		.cfi_offset 7, -8
 1590              		.cfi_offset 14, -4
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 86


 1591 0002 85B0     		sub	sp, sp, #20
 1592              	.LCFI18:
 1593              		.cfi_def_cfa_offset 40
 1594 0004 1646     		mov	r6, r2
 1595 0006 1C46     		mov	r4, r3
 1596 0008 0A9D     		ldr	r5, [sp, #40]
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1597              		.loc 1 1026 3 is_stmt 1 view .LVU445
 1598              	.LVL145:
1027:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1599              		.loc 1 1027 3 view .LVU446
1029:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1600              		.loc 1 1029 3 view .LVU447
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1601              		.loc 1 1031 3 view .LVU448
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1602              		.loc 1 1031 3 view .LVU449
 1603 000a 0F46     		mov	r7, r1
 1604 000c D1B1     		cbz	r1, .L133
 1605              	.LVL146:
 1606              	.L126:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1607              		.loc 1 1031 3 discriminator 3 view .LVU450
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1608              		.loc 1 1031 3 discriminator 3 view .LVU451
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1609              		.loc 1 1032 3 discriminator 3 view .LVU452
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1610              		.loc 1 1032 3 discriminator 3 view .LVU453
 1611 000e 0CB3     		cbz	r4, .L134
 1612              	.L127:
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1613              		.loc 1 1032 3 discriminator 3 view .LVU454
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1614              		.loc 1 1032 3 discriminator 3 view .LVU455
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1615              		.loc 1 1033 3 discriminator 3 view .LVU456
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1616              		.loc 1 1033 3 discriminator 3 view .LVU457
 1617 0010 45B3     		cbz	r5, .L135
 1618              	.L128:
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1619              		.loc 1 1033 3 discriminator 3 view .LVU458
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1620              		.loc 1 1033 3 discriminator 3 view .LVU459
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1621              		.loc 1 1043 3 discriminator 3 view .LVU460
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1622              		.loc 1 1043 3 discriminator 3 view .LVU461
 1623 0012 1023     		movs	r3, #16
 1624 0014 8DF80030 		strb	r3, [sp]
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1625              		.loc 1 1043 3 discriminator 3 view .LVU462
 1626 0018 0223     		movs	r3, #2
 1627 001a 8DF80130 		strb	r3, [sp, #1]
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1628              		.loc 1 1043 3 discriminator 3 view .LVU463
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 87


 1629 001e 3046     		mov	r0, r6
 1630 0020 FFF7FEFF 		bl	lwip_htons
 1631              	.LVL147:
 1632 0024 ADF80200 		strh	r0, [sp, #2]	@ movhi
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1633              		.loc 1 1043 3 discriminator 3 view .LVU464
 1634 0028 3B68     		ldr	r3, [r7]
 1635 002a 0193     		str	r3, [sp, #4]
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1636              		.loc 1 1043 3 discriminator 3 view .LVU465
 1637 002c 0023     		movs	r3, #0
 1638 002e 0293     		str	r3, [sp, #8]
 1639 0030 0393     		str	r3, [sp, #12]
1043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (*fromlen < saddr.sa.sa_len) {
 1640              		.loc 1 1043 3 discriminator 3 view .LVU466
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
 1641              		.loc 1 1044 3 discriminator 3 view .LVU467
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
 1642              		.loc 1 1044 7 is_stmt 0 discriminator 3 view .LVU468
 1643 0032 2A68     		ldr	r2, [r5]
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
 1644              		.loc 1 1044 26 discriminator 3 view .LVU469
 1645 0034 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
1044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     truncated = 1;
 1646              		.loc 1 1044 6 discriminator 3 view .LVU470
 1647 0038 9A42     		cmp	r2, r3
 1648 003a 1BD3     		bcc	.L130
1046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *fromlen = saddr.sa.sa_len;
 1649              		.loc 1 1046 10 is_stmt 1 view .LVU471
1046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *fromlen = saddr.sa.sa_len;
 1650              		.loc 1 1046 13 is_stmt 0 view .LVU472
 1651 003c 23D9     		bls	.L131
1047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1652              		.loc 1 1047 5 is_stmt 1 view .LVU473
1047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1653              		.loc 1 1047 14 is_stmt 0 view .LVU474
 1654 003e 2B60     		str	r3, [r5]
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1655              		.loc 1 1026 7 view .LVU475
 1656 0040 0026     		movs	r6, #0
 1657 0042 18E0     		b	.L129
 1658              	.LVL148:
 1659              	.L133:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1660              		.loc 1 1031 3 is_stmt 1 discriminator 1 view .LVU476
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1661              		.loc 1 1031 3 discriminator 1 view .LVU477
 1662 0044 114B     		ldr	r3, .L136
 1663              	.LVL149:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1664              		.loc 1 1031 3 is_stmt 0 discriminator 1 view .LVU478
 1665 0046 40F20742 		movw	r2, #1031
 1666              	.LVL150:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1667              		.loc 1 1031 3 discriminator 1 view .LVU479
 1668 004a 1149     		ldr	r1, .L136+4
 1669              	.LVL151:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 88


1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1670              		.loc 1 1031 3 discriminator 1 view .LVU480
 1671 004c 1148     		ldr	r0, .L136+8
 1672              	.LVL152:
1031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("from != NULL", from != NULL);
 1673              		.loc 1 1031 3 discriminator 1 view .LVU481
 1674 004e FFF7FEFF 		bl	printf
 1675              	.LVL153:
 1676 0052 DCE7     		b	.L126
 1677              	.L134:
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1678              		.loc 1 1032 3 is_stmt 1 discriminator 1 view .LVU482
1032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("fromlen != NULL", fromlen != NULL);
 1679              		.loc 1 1032 3 discriminator 1 view .LVU483
 1680 0054 0D4B     		ldr	r3, .L136
 1681 0056 4FF48162 		mov	r2, #1032
 1682 005a 0F49     		ldr	r1, .L136+12
 1683 005c 0D48     		ldr	r0, .L136+8
 1684 005e FFF7FEFF 		bl	printf
 1685              	.LVL154:
 1686 0062 D5E7     		b	.L127
 1687              	.L135:
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1688              		.loc 1 1033 3 discriminator 1 view .LVU484
1033:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1689              		.loc 1 1033 3 discriminator 1 view .LVU485
 1690 0064 094B     		ldr	r3, .L136
 1691 0066 40F20942 		movw	r2, #1033
 1692 006a 0C49     		ldr	r1, .L136+16
 1693 006c 0948     		ldr	r0, .L136+8
 1694 006e FFF7FEFF 		bl	printf
 1695              	.LVL155:
 1696 0072 CEE7     		b	.L128
 1697              	.L130:
1045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (*fromlen > saddr.sa.sa_len) {
 1698              		.loc 1 1045 15 is_stmt 0 view .LVU486
 1699 0074 0126     		movs	r6, #1
 1700              	.L129:
 1701              	.LVL156:
1049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return truncated;
 1702              		.loc 1 1049 3 is_stmt 1 view .LVU487
 1703 0076 2A68     		ldr	r2, [r5]
 1704 0078 6946     		mov	r1, sp
 1705 007a 2046     		mov	r0, r4
 1706 007c FFF7FEFF 		bl	memcpy
 1707              	.LVL157:
1050:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1708              		.loc 1 1050 3 view .LVU488
1051:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1709              		.loc 1 1051 1 is_stmt 0 view .LVU489
 1710 0080 3046     		mov	r0, r6
 1711 0082 05B0     		add	sp, sp, #20
 1712              	.LCFI19:
 1713              		.cfi_remember_state
 1714              		.cfi_def_cfa_offset 20
 1715              		@ sp needed
 1716 0084 F0BD     		pop	{r4, r5, r6, r7, pc}
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 89


 1717              	.LVL158:
 1718              	.L131:
 1719              	.LCFI20:
 1720              		.cfi_restore_state
1026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1721              		.loc 1 1026 7 view .LVU490
 1722 0086 0026     		movs	r6, #0
 1723 0088 F5E7     		b	.L129
 1724              	.L137:
 1725 008a 00BF     		.align	2
 1726              	.L136:
 1727 008c 00000000 		.word	.LC0
 1728 0090 00000000 		.word	.LC8
 1729 0094 48000000 		.word	.LC2
 1730 0098 14000000 		.word	.LC9
 1731 009c 24000000 		.word	.LC10
 1732              		.cfi_endproc
 1733              	.LFE382:
 1735              		.section	.text.lwip_recv_tcp_from,"ax",%progbits
 1736              		.align	1
 1737              		.syntax unified
 1738              		.thumb
 1739              		.thumb_func
 1741              	lwip_recv_tcp_from:
 1742              	.LVL159:
 1743              	.LFB383:
1057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock == NULL) {
 1744              		.loc 1 1057 1 is_stmt 1 view -0
 1745              		.cfi_startproc
 1746              		@ args = 8, pretend = 0, frame = 8
 1747              		@ frame_needed = 0, uses_anonymous_args = 0
1058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 1748              		.loc 1 1058 3 view .LVU492
1058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return 0;
 1749              		.loc 1 1058 6 is_stmt 0 view .LVU493
 1750 0000 D8B1     		cbz	r0, .L140
1057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (sock == NULL) {
 1751              		.loc 1 1057 1 view .LVU494
 1752 0002 70B5     		push	{r4, r5, r6, lr}
 1753              	.LCFI21:
 1754              		.cfi_def_cfa_offset 16
 1755              		.cfi_offset 4, -16
 1756              		.cfi_offset 5, -12
 1757              		.cfi_offset 6, -8
 1758              		.cfi_offset 14, -4
 1759 0004 84B0     		sub	sp, sp, #16
 1760              	.LCFI22:
 1761              		.cfi_def_cfa_offset 32
 1762 0006 0C46     		mov	r4, r1
 1763 0008 1546     		mov	r5, r2
 1764 000a 0646     		mov	r6, r0
1061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_s);
 1765              		.loc 1 1061 3 is_stmt 1 view .LVU495
1062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(dbg_ret);
 1766              		.loc 1 1062 3 view .LVU496
1063:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1767              		.loc 1 1063 3 view .LVU497
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 90


1066:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 1768              		.loc 1 1066 3 view .LVU498
1066:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 1769              		.loc 1 1066 6 is_stmt 0 view .LVU499
 1770 000c 0029     		cmp	r1, #0
 1771 000e 18BF     		it	ne
 1772 0010 002A     		cmpne	r2, #0
 1773 0012 02D1     		bne	.L146
1080:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1774              		.loc 1 1080 10 view .LVU500
 1775 0014 0020     		movs	r0, #0
 1776              	.LVL160:
 1777              	.L138:
1081:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 1778              		.loc 1 1081 1 view .LVU501
 1779 0016 04B0     		add	sp, sp, #16
 1780              	.LCFI23:
 1781              		.cfi_remember_state
 1782              		.cfi_def_cfa_offset 16
 1783              		@ sp needed
 1784 0018 70BD     		pop	{r4, r5, r6, pc}
 1785              	.LVL161:
 1786              	.L146:
 1787              	.LCFI24:
 1788              		.cfi_restore_state
 1789              	.LBB14:
1070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_t tmpaddr;
 1790              		.loc 1 1070 5 is_stmt 1 view .LVU502
1071:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_getaddr(sock->conn, &tmpaddr, &port, 0);
 1791              		.loc 1 1071 5 view .LVU503
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1792              		.loc 1 1072 5 view .LVU504
 1793 001a 0023     		movs	r3, #0
 1794              	.LVL162:
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1795              		.loc 1 1072 5 is_stmt 0 view .LVU505
 1796 001c 0DF10A02 		add	r2, sp, #10
 1797              	.LVL163:
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1798              		.loc 1 1072 5 view .LVU506
 1799 0020 03A9     		add	r1, sp, #12
 1800              	.LVL164:
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1801              		.loc 1 1072 5 view .LVU507
 1802 0022 0068     		ldr	r0, [r0]
 1803              	.LVL165:
1072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("%s(%d):  addr=", dbg_fn, dbg_s));
 1804              		.loc 1 1072 5 view .LVU508
 1805 0024 FFF7FEFF 		bl	netconn_getaddr
 1806              	.LVL166:
1073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, tmpaddr);
 1807              		.loc 1 1073 66 is_stmt 1 view .LVU509
1074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", port, (int)dbg_ret));
 1808              		.loc 1 1074 52 view .LVU510
1075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (from && fromlen) {
 1809              		.loc 1 1075 80 view .LVU511
1076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return lwip_sock_make_addr(sock->conn, &tmpaddr, port, from, fromlen);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 91


 1810              		.loc 1 1076 5 view .LVU512
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1811              		.loc 1 1077 7 view .LVU513
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1812              		.loc 1 1077 14 is_stmt 0 view .LVU514
 1813 0028 0095     		str	r5, [sp]
 1814 002a 2346     		mov	r3, r4
 1815 002c BDF80A20 		ldrh	r2, [sp, #10]
 1816 0030 03A9     		add	r1, sp, #12
 1817 0032 3068     		ldr	r0, [r6]
 1818 0034 FFF7FEFF 		bl	lwip_sock_make_addr
 1819              	.LVL167:
 1820 0038 EDE7     		b	.L138
 1821              	.LVL168:
 1822              	.L140:
 1823              	.LCFI25:
 1824              		.cfi_def_cfa_offset 0
 1825              		.cfi_restore 4
 1826              		.cfi_restore 5
 1827              		.cfi_restore 6
 1828              		.cfi_restore 14
1077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 1829              		.loc 1 1077 14 view .LVU515
 1830              	.LBE14:
1059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1831              		.loc 1 1059 12 view .LVU516
 1832 003a 0020     		movs	r0, #0
 1833              	.LVL169:
1081:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 1834              		.loc 1 1081 1 view .LVU517
 1835 003c 7047     		bx	lr
 1836              		.cfi_endproc
 1837              	.LFE383:
 1839              		.section	.text.lwip_getaddrname,"ax",%progbits
 1840              		.align	1
 1841              		.syntax unified
 1842              		.thumb
 1843              		.thumb_func
 1845              	lwip_getaddrname:
 1846              	.LVL170:
 1847              	.LFB406:
2701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 1848              		.loc 1 2701 1 is_stmt 1 view -0
 1849              		.cfi_startproc
 1850              		@ args = 0, pretend = 0, frame = 24
 1851              		@ frame_needed = 0, uses_anonymous_args = 0
2701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 1852              		.loc 1 2701 1 is_stmt 0 view .LVU519
 1853 0000 70B5     		push	{r4, r5, r6, lr}
 1854              	.LCFI26:
 1855              		.cfi_def_cfa_offset 16
 1856              		.cfi_offset 4, -16
 1857              		.cfi_offset 5, -12
 1858              		.cfi_offset 6, -8
 1859              		.cfi_offset 14, -4
 1860 0002 86B0     		sub	sp, sp, #24
 1861              	.LCFI27:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 92


 1862              		.cfi_def_cfa_offset 40
 1863 0004 0E46     		mov	r6, r1
 1864 0006 1446     		mov	r4, r2
 1865 0008 1D46     		mov	r5, r3
2702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union sockaddr_aligned saddr;
 1866              		.loc 1 2702 3 is_stmt 1 view .LVU520
2703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
 1867              		.loc 1 2703 3 view .LVU521
2704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port;
 1868              		.loc 1 2704 3 view .LVU522
2705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 1869              		.loc 1 2705 3 view .LVU523
2706:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1870              		.loc 1 2706 3 view .LVU524
2708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 1871              		.loc 1 2708 3 view .LVU525
2708:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 1872              		.loc 1 2708 10 is_stmt 0 view .LVU526
 1873 000a FFF7FEFF 		bl	get_socket
 1874              	.LVL171:
2709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 1875              		.loc 1 2709 3 is_stmt 1 view .LVU527
2709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 1876              		.loc 1 2709 6 is_stmt 0 view .LVU528
 1877 000e 70B3     		cbz	r0, .L152
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 1878              		.loc 1 2714 3 is_stmt 1 view .LVU529
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 1879              		.loc 1 2714 9 is_stmt 0 view .LVU530
 1880 0010 2B46     		mov	r3, r5
 1881 0012 0DF10202 		add	r2, sp, #2
 1882 0016 01A9     		add	r1, sp, #4
 1883 0018 0068     		ldr	r0, [r0]
 1884              	.LVL172:
2714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 1885              		.loc 1 2714 9 view .LVU531
 1886 001a FFF7FEFF 		bl	netconn_getaddr
 1887              	.LVL173:
2715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 1888              		.loc 1 2715 3 is_stmt 1 view .LVU532
2715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 1889              		.loc 1 2715 6 is_stmt 0 view .LVU533
 1890 001e F0B9     		cbnz	r0, .L154
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1891              		.loc 1 2730 3 is_stmt 1 view .LVU534
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1892              		.loc 1 2730 3 view .LVU535
 1893 0020 1023     		movs	r3, #16
 1894 0022 8DF80830 		strb	r3, [sp, #8]
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1895              		.loc 1 2730 3 view .LVU536
 1896 0026 0223     		movs	r3, #2
 1897 0028 8DF80930 		strb	r3, [sp, #9]
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1898              		.loc 1 2730 3 view .LVU537
 1899 002c BDF80200 		ldrh	r0, [sp, #2]
 1900              	.LVL174:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 93


2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1901              		.loc 1 2730 3 is_stmt 0 view .LVU538
 1902 0030 FFF7FEFF 		bl	lwip_htons
 1903              	.LVL175:
 1904 0034 ADF80A00 		strh	r0, [sp, #10]	@ movhi
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1905              		.loc 1 2730 3 is_stmt 1 view .LVU539
 1906 0038 019B     		ldr	r3, [sp, #4]
 1907 003a 0393     		str	r3, [sp, #12]
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1908              		.loc 1 2730 3 view .LVU540
 1909 003c 0023     		movs	r3, #0
 1910 003e 0493     		str	r3, [sp, #16]
 1911 0040 0593     		str	r3, [sp, #20]
2730:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1912              		.loc 1 2730 3 view .LVU541
2732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 1913              		.loc 1 2732 64 view .LVU542
2733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", port));
 1914              		.loc 1 2733 48 view .LVU543
2734:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1915              		.loc 1 2734 58 view .LVU544
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1916              		.loc 1 2736 3 view .LVU545
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1917              		.loc 1 2736 7 is_stmt 0 view .LVU546
 1918 0042 2268     		ldr	r2, [r4]
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1919              		.loc 1 2736 26 view .LVU547
 1920 0044 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
2736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *namelen = saddr.sa.sa_len;
 1921              		.loc 1 2736 6 view .LVU548
 1922 0048 9A42     		cmp	r2, r3
 1923 004a 00D9     		bls	.L151
2737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1924              		.loc 1 2737 5 is_stmt 1 view .LVU549
2737:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1925              		.loc 1 2737 14 is_stmt 0 view .LVU550
 1926 004c 2360     		str	r3, [r4]
 1927              	.L151:
2739:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1928              		.loc 1 2739 3 is_stmt 1 view .LVU551
 1929 004e 2268     		ldr	r2, [r4]
 1930 0050 02A9     		add	r1, sp, #8
 1931 0052 3046     		mov	r0, r6
 1932 0054 FFF7FEFF 		bl	memcpy
 1933              	.LVL176:
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1934              		.loc 1 2741 3 view .LVU552
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1935              		.loc 1 2741 3 view .LVU553
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1936              		.loc 1 2741 3 view .LVU554
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1937              		.loc 1 2741 3 view .LVU555
2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1938              		.loc 1 2741 3 view .LVU556
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 94


2741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 1939              		.loc 1 2741 3 view .LVU557
2742:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 1940              		.loc 1 2742 20 view .LVU558
2743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1941              		.loc 1 2743 3 view .LVU559
2743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 1942              		.loc 1 2743 10 is_stmt 0 view .LVU560
 1943 0058 0020     		movs	r0, #0
 1944              	.LVL177:
 1945              	.L147:
2744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 1946              		.loc 1 2744 1 view .LVU561
 1947 005a 06B0     		add	sp, sp, #24
 1948              	.LCFI28:
 1949              		.cfi_remember_state
 1950              		.cfi_def_cfa_offset 16
 1951              		@ sp needed
 1952 005c 70BD     		pop	{r4, r5, r6, pc}
 1953              	.LVL178:
 1954              	.L154:
 1955              	.LCFI29:
 1956              		.cfi_restore_state
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1957              		.loc 1 2716 5 is_stmt 1 view .LVU562
 1958              	.LBB15:
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1959              		.loc 1 2716 5 view .LVU563
 1960 005e FFF7FEFF 		bl	err_to_errno
 1961              	.LVL179:
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1962              		.loc 1 2716 5 view .LVU564
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1963              		.loc 1 2716 5 view .LVU565
 1964 0062 08B1     		cbz	r0, .L150
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1965              		.loc 1 2716 5 discriminator 1 view .LVU566
 1966 0064 034A     		ldr	r2, .L155
 1967 0066 1060     		str	r0, [r2]
 1968              	.L150:
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1969              		.loc 1 2716 5 discriminator 3 view .LVU567
 1970              	.LBE15:
2716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 1971              		.loc 1 2716 5 discriminator 3 view .LVU568
2717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 1972              		.loc 1 2717 22 discriminator 3 view .LVU569
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1973              		.loc 1 2718 5 discriminator 3 view .LVU570
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1974              		.loc 1 2718 12 is_stmt 0 discriminator 3 view .LVU571
 1975 0068 4FF0FF30 		mov	r0, #-1
 1976              	.LVL180:
2718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1977              		.loc 1 2718 12 discriminator 3 view .LVU572
 1978 006c F5E7     		b	.L147
 1979              	.LVL181:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 95


 1980              	.L152:
2710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1981              		.loc 1 2710 12 view .LVU573
 1982 006e 4FF0FF30 		mov	r0, #-1
 1983              	.LVL182:
2710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 1984              		.loc 1 2710 12 view .LVU574
 1985 0072 F2E7     		b	.L147
 1986              	.L156:
 1987              		.align	2
 1988              	.L155:
 1989 0074 00000000 		.word	errno
 1990              		.cfi_endproc
 1991              	.LFE406:
 1993              		.section	.text.free_socket_free_elements,"ax",%progbits
 1994              		.align	1
 1995              		.syntax unified
 1996              		.thumb
 1997              		.thumb_func
 1999              	free_socket_free_elements:
 2000              	.LVL183:
 2001              	.LFB374:
 573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (lastdata->pbuf != NULL) {
 2002              		.loc 1 573 1 is_stmt 1 view -0
 2003              		.cfi_startproc
 2004              		@ args = 0, pretend = 0, frame = 0
 2005              		@ frame_needed = 0, uses_anonymous_args = 0
 573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (lastdata->pbuf != NULL) {
 2006              		.loc 1 573 1 is_stmt 0 view .LVU576
 2007 0000 10B5     		push	{r4, lr}
 2008              	.LCFI30:
 2009              		.cfi_def_cfa_offset 8
 2010              		.cfi_offset 4, -8
 2011              		.cfi_offset 14, -4
 2012 0002 0346     		mov	r3, r0
 2013 0004 0C46     		mov	r4, r1
 574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 2014              		.loc 1 574 3 is_stmt 1 view .LVU577
 574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 2015              		.loc 1 574 15 is_stmt 0 view .LVU578
 2016 0006 1068     		ldr	r0, [r2]
 2017              	.LVL184:
 574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (is_tcp) {
 2018              		.loc 1 574 6 view .LVU579
 2019 0008 10B1     		cbz	r0, .L158
 575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       pbuf_free(lastdata->pbuf);
 2020              		.loc 1 575 5 is_stmt 1 view .LVU580
 575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       pbuf_free(lastdata->pbuf);
 2021              		.loc 1 575 8 is_stmt 0 view .LVU581
 2022 000a 33B1     		cbz	r3, .L159
 576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 2023              		.loc 1 576 7 is_stmt 1 view .LVU582
 2024 000c FFF7FEFF 		bl	pbuf_free
 2025              	.LVL185:
 2026              	.L158:
 581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* netconn_prepare_delete() has already been called, here we only free the conn */
 2027              		.loc 1 581 3 view .LVU583
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 96


 581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* netconn_prepare_delete() has already been called, here we only free the conn */
 2028              		.loc 1 581 6 is_stmt 0 view .LVU584
 2029 0010 14B1     		cbz	r4, .L157
 583:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2030              		.loc 1 583 5 is_stmt 1 view .LVU585
 2031 0012 2046     		mov	r0, r4
 2032 0014 FFF7FEFF 		bl	netconn_delete
 2033              	.LVL186:
 2034              	.L157:
 585:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2035              		.loc 1 585 1 is_stmt 0 view .LVU586
 2036 0018 10BD     		pop	{r4, pc}
 2037              	.LVL187:
 2038              	.L159:
 578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2039              		.loc 1 578 7 is_stmt 1 view .LVU587
 2040 001a FFF7FEFF 		bl	netbuf_delete
 2041              	.LVL188:
 578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2042              		.loc 1 578 7 is_stmt 0 view .LVU588
 2043 001e F7E7     		b	.L158
 2044              		.cfi_endproc
 2045              	.LFE374:
 2047              		.section	.text.free_socket,"ax",%progbits
 2048              		.align	1
 2049              		.syntax unified
 2050              		.thumb
 2051              		.thumb_func
 2053              	free_socket:
 2054              	.LVL189:
 2055              	.LFB375:
 595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int freed;
 2056              		.loc 1 595 1 is_stmt 1 view -0
 2057              		.cfi_startproc
 2058              		@ args = 0, pretend = 0, frame = 8
 2059              		@ frame_needed = 0, uses_anonymous_args = 0
 595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int freed;
 2060              		.loc 1 595 1 is_stmt 0 view .LVU590
 2061 0000 70B5     		push	{r4, r5, r6, lr}
 2062              	.LCFI31:
 2063              		.cfi_def_cfa_offset 16
 2064              		.cfi_offset 4, -16
 2065              		.cfi_offset 5, -12
 2066              		.cfi_offset 6, -8
 2067              		.cfi_offset 14, -4
 2068 0002 82B0     		sub	sp, sp, #8
 2069              	.LCFI32:
 2070              		.cfi_def_cfa_offset 24
 2071 0004 0546     		mov	r5, r0
 2072 0006 0C46     		mov	r4, r1
 596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 2073              		.loc 1 596 3 is_stmt 1 view .LVU591
 597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   union lwip_sock_lastdata lastdata;
 2074              		.loc 1 597 3 view .LVU592
 598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 2075              		.loc 1 598 3 view .LVU593
 599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 97


 2076              		.loc 1 599 3 view .LVU594
 602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2077              		.loc 1 602 3 view .LVU595
 2078 0008 FFF7FEFF 		bl	sys_arch_protect
 2079              	.LVL190:
 602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2080              		.loc 1 602 3 is_stmt 0 view .LVU596
 2081 000c 0646     		mov	r6, r0
 2082              	.LVL191:
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2083              		.loc 1 604 3 is_stmt 1 view .LVU597
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2084              		.loc 1 604 11 is_stmt 0 view .LVU598
 2085 000e 6B46     		mov	r3, sp
 2086 0010 01AA     		add	r2, sp, #4
 2087 0012 2146     		mov	r1, r4
 2088 0014 2846     		mov	r0, r5
 2089              	.LVL192:
 604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 2090              		.loc 1 604 11 view .LVU599
 2091 0016 FFF7FEFF 		bl	free_socket_locked
 2092              	.LVL193:
 2093 001a 0546     		mov	r5, r0
 2094              	.LVL194:
 605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 2095              		.loc 1 605 3 is_stmt 1 view .LVU600
 2096 001c 3046     		mov	r0, r6
 2097              	.LVL195:
 605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* don't use 'sock' after this line, as another task might have allocated it */
 2098              		.loc 1 605 3 is_stmt 0 view .LVU601
 2099 001e FFF7FEFF 		bl	sys_arch_unprotect
 2100              	.LVL196:
 608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 2101              		.loc 1 608 3 is_stmt 1 view .LVU602
 608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     free_socket_free_elements(is_tcp, conn, &lastdata);
 2102              		.loc 1 608 6 is_stmt 0 view .LVU603
 2103 0022 0DB9     		cbnz	r5, .L165
 2104              	.L162:
 611:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2105              		.loc 1 611 1 view .LVU604
 2106 0024 02B0     		add	sp, sp, #8
 2107              	.LCFI33:
 2108              		.cfi_remember_state
 2109              		.cfi_def_cfa_offset 16
 2110              		@ sp needed
 2111 0026 70BD     		pop	{r4, r5, r6, pc}
 2112              	.LVL197:
 2113              	.L165:
 2114              	.LCFI34:
 2115              		.cfi_restore_state
 609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2116              		.loc 1 609 5 is_stmt 1 view .LVU605
 2117 0028 6A46     		mov	r2, sp
 2118 002a 0199     		ldr	r1, [sp, #4]
 2119 002c 2046     		mov	r0, r4
 2120 002e FFF7FEFF 		bl	free_socket_free_elements
 2121              	.LVL198:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 98


 611:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2122              		.loc 1 611 1 is_stmt 0 view .LVU606
 2123 0032 F7E7     		b	.L162
 2124              		.cfi_endproc
 2125              	.LFE375:
 2127              		.section	.rodata.lwip_recv_tcp.str1.4,"aMS",%progbits,1
 2128              		.align	2
 2129              	.LC11:
 2130 0000 6E6F2073 		.ascii	"no socket given\000"
 2130      6F636B65 
 2130      74206769 
 2130      76656E00 
 2131              		.align	2
 2132              	.LC12:
 2133 0010 74686973 		.ascii	"this should be checked internally\000"
 2133      2073686F 
 2133      756C6420 
 2133      62652063 
 2133      6865636B 
 2134 0032 0000     		.align	2
 2135              	.LC13:
 2136 0034 7020213D 		.ascii	"p != NULL\000"
 2136      204E554C 
 2136      4C00
 2137 003e 0000     		.align	2
 2138              	.LC14:
 2139 0040 696E7661 		.ascii	"invalid copylen, len would underflow\000"
 2139      6C696420 
 2139      636F7079 
 2139      6C656E2C 
 2139      206C656E 
 2140 0065 000000   		.align	2
 2141              	.LC15:
 2142 0068 696E7661 		.ascii	"invalid copylen\000"
 2142      6C696420 
 2142      636F7079 
 2142      6C656E00 
 2143              		.section	.text.lwip_recv_tcp,"ax",%progbits
 2144              		.align	1
 2145              		.syntax unified
 2146              		.thumb
 2147              		.thumb_func
 2149              	lwip_recv_tcp:
 2150              	.LVL199:
 2151              	.LFB381:
 921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags = NETCONN_NOAUTORCVD;
 2152              		.loc 1 921 1 is_stmt 1 view -0
 2153              		.cfi_startproc
 2154              		@ args = 0, pretend = 0, frame = 16
 2155              		@ frame_needed = 0, uses_anonymous_args = 0
 921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags = NETCONN_NOAUTORCVD;
 2156              		.loc 1 921 1 is_stmt 0 view .LVU608
 2157 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2158              	.LCFI35:
 2159              		.cfi_def_cfa_offset 36
 2160              		.cfi_offset 4, -36
 2161              		.cfi_offset 5, -32
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 99


 2162              		.cfi_offset 6, -28
 2163              		.cfi_offset 7, -24
 2164              		.cfi_offset 8, -20
 2165              		.cfi_offset 9, -16
 2166              		.cfi_offset 10, -12
 2167              		.cfi_offset 11, -8
 2168              		.cfi_offset 14, -4
 2169 0004 85B0     		sub	sp, sp, #20
 2170              	.LCFI36:
 2171              		.cfi_def_cfa_offset 56
 2172 0006 8146     		mov	r9, r0
 2173 0008 0191     		str	r1, [sp, #4]
 2174 000a 9846     		mov	r8, r3
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recvd = 0;
 2175              		.loc 1 922 3 is_stmt 1 view .LVU609
 2176              	.LVL200:
 923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recv_left = (len <= SSIZE_MAX) ? (ssize_t)len : SSIZE_MAX;
 2177              		.loc 1 923 3 view .LVU610
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2178              		.loc 1 924 3 view .LVU611
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2179              		.loc 1 924 28 is_stmt 0 view .LVU612
 2180 000c 1546     		mov	r5, r2
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2181              		.loc 1 924 57 view .LVU613
 2182 000e 002A     		cmp	r2, #0
 2183 0010 10DB     		blt	.L191
 2184              	.L167:
 2185              	.LVL201:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2186              		.loc 1 926 3 is_stmt 1 discriminator 4 view .LVU614
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2187              		.loc 1 926 3 discriminator 4 view .LVU615
 2188 0012 B9F1000F 		cmp	r9, #0
 2189 0016 10D0     		beq	.L192
 2190              	.LVL202:
 2191              	.L168:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2192              		.loc 1 926 3 discriminator 3 view .LVU616
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2193              		.loc 1 926 3 discriminator 3 view .LVU617
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2194              		.loc 1 927 3 discriminator 3 view .LVU618
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2195              		.loc 1 927 3 discriminator 3 view .LVU619
 2196 0018 D9F80030 		ldr	r3, [r9]
 2197 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2198 001e 03F0F003 		and	r3, r3, #240
 2199 0022 102B     		cmp	r3, #16
 2200 0024 11D1     		bne	.L193
 2201              	.L169:
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2202              		.loc 1 927 3 discriminator 3 view .LVU620
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2203              		.loc 1 927 3 discriminator 3 view .LVU621
 929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK;
 2204              		.loc 1 929 3 discriminator 3 view .LVU622
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 100


 929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags |= NETCONN_DONTBLOCK;
 2205              		.loc 1 929 6 is_stmt 0 discriminator 3 view .LVU623
 2206 0026 18F0080F 		tst	r8, #8
 2207 002a 16D1     		bne	.L188
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recvd = 0;
 2208              		.loc 1 922 8 view .LVU624
 2209 002c 4FF0080A 		mov	r10, #8
 2210              	.L170:
 2211              	.LVL203:
 922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t recvd = 0;
 2212              		.loc 1 922 8 view .LVU625
 2213 0030 0026     		movs	r6, #0
 2214 0032 5FE0     		b	.L187
 2215              	.LVL204:
 2216              	.L191:
 924:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2217              		.loc 1 924 57 view .LVU626
 2218 0034 6FF00045 		mvn	r5, #-2147483648
 2219 0038 EBE7     		b	.L167
 2220              	.LVL205:
 2221              	.L192:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2222              		.loc 1 926 3 is_stmt 1 discriminator 1 view .LVU627
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2223              		.loc 1 926 3 discriminator 1 view .LVU628
 2224 003a 474B     		ldr	r3, .L199
 2225              	.LVL206:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2226              		.loc 1 926 3 is_stmt 0 discriminator 1 view .LVU629
 2227 003c 40F29E32 		movw	r2, #926
 2228              	.LVL207:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2229              		.loc 1 926 3 discriminator 1 view .LVU630
 2230 0040 4649     		ldr	r1, .L199+4
 2231              	.LVL208:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2232              		.loc 1 926 3 discriminator 1 view .LVU631
 2233 0042 4748     		ldr	r0, .L199+8
 2234              	.LVL209:
 926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("this should be checked internally", NETCONNTYPE_GROUP(netconn_type(sock->conn)) == N
 2235              		.loc 1 926 3 discriminator 1 view .LVU632
 2236 0044 FFF7FEFF 		bl	printf
 2237              	.LVL210:
 2238 0048 E6E7     		b	.L168
 2239              	.L193:
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2240              		.loc 1 927 3 is_stmt 1 discriminator 1 view .LVU633
 927:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2241              		.loc 1 927 3 discriminator 1 view .LVU634
 2242 004a 434B     		ldr	r3, .L199
 2243 004c 40F29F32 		movw	r2, #927
 2244 0050 4449     		ldr	r1, .L199+12
 2245 0052 4348     		ldr	r0, .L199+8
 2246 0054 FFF7FEFF 		bl	printf
 2247              	.LVL211:
 2248 0058 E5E7     		b	.L169
 2249              	.L188:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 101


 930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2250              		.loc 1 930 14 is_stmt 0 view .LVU635
 2251 005a 4FF00C0A 		mov	r10, #12
 2252 005e E7E7     		b	.L170
 2253              	.LVL212:
 2254              	.L171:
 2255              	.LBB16:
 945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: netconn_recv err=%d, pbuf=%p\n",
 2256              		.loc 1 945 7 is_stmt 1 view .LVU636
 945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: netconn_recv err=%d, pbuf=%p\n",
 2257              		.loc 1 945 13 is_stmt 0 view .LVU637
 2258 0060 5246     		mov	r2, r10
 2259 0062 03A9     		add	r1, sp, #12
 2260 0064 D9F80000 		ldr	r0, [r9]
 2261 0068 FFF7FEFF 		bl	netconn_recv_tcp_pbuf_flags
 2262              	.LVL213:
 947:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2263              		.loc 1 947 51 is_stmt 1 view .LVU638
 949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (recvd > 0) {
 2264              		.loc 1 949 7 view .LVU639
 949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (recvd > 0) {
 2265              		.loc 1 949 10 is_stmt 0 view .LVU640
 2266 006c 0446     		mov	r4, r0
 2267 006e 28B9     		cbnz	r0, .L194
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2268              		.loc 1 965 7 is_stmt 1 view .LVU641
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2269              		.loc 1 965 7 view .LVU642
 2270 0070 039B     		ldr	r3, [sp, #12]
 2271 0072 DBB1     		cbz	r3, .L195
 2272              	.LVL214:
 2273              	.L179:
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2274              		.loc 1 965 7 discriminator 3 view .LVU643
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2275              		.loc 1 965 7 discriminator 3 view .LVU644
 966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2276              		.loc 1 966 7 discriminator 3 view .LVU645
 966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2277              		.loc 1 966 27 is_stmt 0 discriminator 3 view .LVU646
 2278 0074 039B     		ldr	r3, [sp, #12]
 2279 0076 C9F80430 		str	r3, [r9, #4]
 2280 007a 40E0     		b	.L172
 2281              	.LVL215:
 2282              	.L194:
 950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 2283              		.loc 1 950 9 is_stmt 1 view .LVU647
 950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* already received data, return that (this trusts in getting the same error from
 2284              		.loc 1 950 12 is_stmt 0 view .LVU648
 2285 007c 002E     		cmp	r6, #0
 2286 007e 0ADD     		ble	.L174
 953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 2287              		.loc 1 953 11 is_stmt 1 view .LVU649
 2288 0080 B346     		mov	fp, r6
 2289              	.LVL216:
 2290              	.L175:
 953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 102


 2291              		.loc 1 953 11 is_stmt 0 view .LVU650
 2292              	.LBE16:
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* ensure window update after copying all data */
 2293              		.loc 1 1012 3 is_stmt 1 view .LVU651
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* ensure window update after copying all data */
 2294              		.loc 1 1012 6 is_stmt 0 view .LVU652
 2295 0082 BBF1000F 		cmp	fp, #0
 2296 0086 02DD     		ble	.L166
1012:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* ensure window update after copying all data */
 2297              		.loc 1 1012 19 discriminator 1 view .LVU653
 2298 0088 18F0010F 		tst	r8, #1
 2299 008c 5DD0     		beq	.L196
 2300              	.LVL217:
 2301              	.L166:
1018:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 2302              		.loc 1 1018 1 view .LVU654
 2303 008e 5846     		mov	r0, fp
 2304 0090 05B0     		add	sp, sp, #20
 2305              	.LCFI37:
 2306              		.cfi_remember_state
 2307              		.cfi_def_cfa_offset 36
 2308              		@ sp needed
 2309 0092 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2310              	.LVL218:
 2311              	.L174:
 2312              	.LCFI38:
 2313              		.cfi_restore_state
 2314              	.LBB18:
 957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, err_to_errno(err));
 2315              		.loc 1 957 55 is_stmt 1 view .LVU655
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2316              		.loc 1 958 9 view .LVU656
 2317              	.LBB17:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2318              		.loc 1 958 9 view .LVU657
 2319 0096 FFF7FEFF 		bl	err_to_errno
 2320              	.LVL219:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2321              		.loc 1 958 9 view .LVU658
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2322              		.loc 1 958 9 view .LVU659
 2323 009a 08B1     		cbz	r0, .L176
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2324              		.loc 1 958 9 discriminator 1 view .LVU660
 2325 009c 324A     		ldr	r2, .L199+16
 2326 009e 1060     		str	r0, [r2]
 2327              	.L176:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2328              		.loc 1 958 9 discriminator 3 view .LVU661
 2329              	.LBE17:
 958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (err == ERR_CLSD) {
 2330              		.loc 1 958 9 discriminator 3 view .LVU662
 959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return 0;
 2331              		.loc 1 959 9 discriminator 3 view .LVU663
 959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           return 0;
 2332              		.loc 1 959 12 is_stmt 0 discriminator 3 view .LVU664
 2333 00a0 14F10F0F 		cmn	r4, #15
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 103


 2334 00a4 4ED0     		beq	.L177
 962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 2335              		.loc 1 962 18 view .LVU665
 2336 00a6 4FF0FF3B 		mov	fp, #-1
 2337 00aa F0E7     		b	.L166
 2338              	.LVL220:
 2339              	.L195:
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2340              		.loc 1 965 7 is_stmt 1 discriminator 1 view .LVU666
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2341              		.loc 1 965 7 discriminator 1 view .LVU667
 2342 00ac 2A4B     		ldr	r3, .L199
 2343 00ae 40F2C532 		movw	r2, #965
 2344 00b2 2E49     		ldr	r1, .L199+20
 2345 00b4 2A48     		ldr	r0, .L199+8
 2346              	.LVL221:
 965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock->lastdata.pbuf = p;
 2347              		.loc 1 965 7 is_stmt 0 discriminator 1 view .LVU668
 2348 00b6 FFF7FEFF 		bl	printf
 2349              	.LVL222:
 2350 00ba DBE7     		b	.L179
 2351              	.LVL223:
 2352              	.L197:
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2353              		.loc 1 989 5 is_stmt 1 discriminator 1 view .LVU669
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2354              		.loc 1 989 5 discriminator 1 view .LVU670
 2355 00bc 264B     		ldr	r3, .L199
 2356 00be 40F2DD32 		movw	r2, #989
 2357 00c2 2B49     		ldr	r1, .L199+24
 2358 00c4 2648     		ldr	r0, .L199+8
 2359 00c6 FFF7FEFF 		bl	printf
 2360              	.LVL224:
 2361 00ca 28E0     		b	.L181
 2362              	.L198:
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2363              		.loc 1 995 7 discriminator 1 view .LVU671
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2364              		.loc 1 995 7 discriminator 1 view .LVU672
 2365 00cc 224B     		ldr	r3, .L199
 2366 00ce 40F2E332 		movw	r2, #995
 2367 00d2 2849     		ldr	r1, .L199+28
 2368 00d4 2248     		ldr	r0, .L199+8
 2369 00d6 FFF7FEFF 		bl	printf
 2370              	.LVL225:
 2371 00da 28E0     		b	.L183
 2372              	.L184:
1002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: deleting pbuf=%p\n", (void *)p));
 2373              		.loc 1 1002 9 view .LVU673
1002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: deleting pbuf=%p\n", (void *)p));
 2374              		.loc 1 1002 29 is_stmt 0 view .LVU674
 2375 00dc 0023     		movs	r3, #0
 2376 00de C9F80430 		str	r3, [r9, #4]
1003:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         pbuf_free(p);
 2377              		.loc 1 1003 85 is_stmt 1 view .LVU675
1004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2378              		.loc 1 1004 9 view .LVU676
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 104


 2379 00e2 FFF7FEFF 		bl	pbuf_free
 2380              	.LVL226:
 2381              	.L182:
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
 2382              		.loc 1 1008 5 view .LVU677
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
 2383              		.loc 1 1008 14 is_stmt 0 view .LVU678
 2384 00e6 4AF0140A 		orr	r10, r10, #20
 2385              	.LVL227:
1008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* @todo: do we need to support peeking more than one pbuf? */
 2386              		.loc 1 1008 14 view .LVU679
 2387              	.LBE18:
1010:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_done:
 2388              		.loc 1 1010 11 is_stmt 1 view .LVU680
1010:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_done:
 2389              		.loc 1 1010 3 is_stmt 0 view .LVU681
 2390 00ea 002D     		cmp	r5, #0
 2391 00ec C9DD     		ble	.L175
1010:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_recv_tcp_done:
 2392              		.loc 1 1010 28 discriminator 1 view .LVU682
 2393 00ee 002E     		cmp	r6, #0
 2394 00f0 C7D1     		bne	.L175
 2395              	.LBB19:
 986:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2396              		.loc 1 986 11 view .LVU683
 2397 00f2 5E46     		mov	r6, fp
 2398              	.LVL228:
 2399              	.L187:
 986:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2400              		.loc 1 986 11 view .LVU684
 2401              	.LBE19:
 933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct pbuf *p;
 2402              		.loc 1 933 3 is_stmt 1 view .LVU685
 2403              	.LBB20:
 934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 2404              		.loc 1 934 5 view .LVU686
 935:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t copylen;
 2405              		.loc 1 935 5 view .LVU687
 936:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2406              		.loc 1 936 5 view .LVU688
 938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check if there is data left from the last recv operation. */
 2407              		.loc 1 938 110 view .LVU689
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = sock->lastdata.pbuf;
 2408              		.loc 1 940 5 view .LVU690
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = sock->lastdata.pbuf;
 2409              		.loc 1 940 23 is_stmt 0 view .LVU691
 2410 00f4 D9F80430 		ldr	r3, [r9, #4]
 940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p = sock->lastdata.pbuf;
 2411              		.loc 1 940 8 view .LVU692
 2412 00f8 002B     		cmp	r3, #0
 2413 00fa B1D0     		beq	.L171
 941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 2414              		.loc 1 941 7 is_stmt 1 view .LVU693
 941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 2415              		.loc 1 941 9 is_stmt 0 view .LVU694
 2416 00fc 0393     		str	r3, [sp, #12]
 2417              	.L172:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 105


 970:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2418              		.loc 1 970 73 is_stmt 1 view .LVU695
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = p->tot_len;
 2419              		.loc 1 972 5 view .LVU696
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = p->tot_len;
 2420              		.loc 1 972 22 is_stmt 0 view .LVU697
 2421 00fe 0398     		ldr	r0, [sp, #12]
 2422 0100 0489     		ldrh	r4, [r0, #8]
 972:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = p->tot_len;
 2423              		.loc 1 972 8 view .LVU698
 2424 0102 AC42     		cmp	r4, r5
 2425 0104 00DB     		blt	.L180
 975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2426              		.loc 1 975 7 is_stmt 1 view .LVU699
 975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2427              		.loc 1 975 15 is_stmt 0 view .LVU700
 2428 0106 ACB2     		uxth	r4, r5
 2429              	.LVL229:
 2430              	.L180:
 977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* overflow */
 2431              		.loc 1 977 5 is_stmt 1 view .LVU701
 977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* overflow */
 2432              		.loc 1 977 15 is_stmt 0 view .LVU702
 2433 0108 2746     		mov	r7, r4
 2434 010a 04EB060B 		add	fp, r4, r6
 984:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2435              		.loc 1 984 5 is_stmt 1 view .LVU703
 2436 010e 0023     		movs	r3, #0
 2437 0110 2246     		mov	r2, r4
 2438 0112 0199     		ldr	r1, [sp, #4]
 2439 0114 3144     		add	r1, r1, r6
 2440 0116 FFF7FEFF 		bl	pbuf_copy_partial
 2441              	.LVL230:
 986:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2442              		.loc 1 986 5 view .LVU704
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2443              		.loc 1 989 5 view .LVU705
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2444              		.loc 1 989 5 view .LVU706
 2445 011a AC42     		cmp	r4, r5
 2446 011c CEDC     		bgt	.L197
 2447              	.L181:
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2448              		.loc 1 989 5 discriminator 3 view .LVU707
 989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     recv_left -= copylen;
 2449              		.loc 1 989 5 discriminator 3 view .LVU708
 990:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2450              		.loc 1 990 5 discriminator 3 view .LVU709
 990:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2451              		.loc 1 990 15 is_stmt 0 discriminator 3 view .LVU710
 2452 011e ED1B     		subs	r5, r5, r7
 2453              	.LVL231:
 993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... check if there is data left in the pbuf */
 2454              		.loc 1 993 5 is_stmt 1 discriminator 3 view .LVU711
 993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ... check if there is data left in the pbuf */
 2455              		.loc 1 993 8 is_stmt 0 discriminator 3 view .LVU712
 2456 0120 18F00106 		ands	r6, r8, #1
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 106


 2457 0124 DFD1     		bne	.L182
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2458              		.loc 1 995 7 is_stmt 1 view .LVU713
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2459              		.loc 1 995 7 view .LVU714
 2460 0126 039B     		ldr	r3, [sp, #12]
 2461 0128 1B89     		ldrh	r3, [r3, #8]
 2462 012a A342     		cmp	r3, r4
 2463 012c CED3     		bcc	.L198
 2464              	.L183:
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2465              		.loc 1 995 7 discriminator 3 view .LVU715
 995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p->tot_len - copylen > 0) {
 2466              		.loc 1 995 7 discriminator 3 view .LVU716
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2467              		.loc 1 996 7 discriminator 3 view .LVU717
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2468              		.loc 1 996 12 is_stmt 0 discriminator 3 view .LVU718
 2469 012e 0398     		ldr	r0, [sp, #12]
 2470 0130 0389     		ldrh	r3, [r0, #8]
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2471              		.loc 1 996 22 discriminator 3 view .LVU719
 2472 0132 DF1B     		subs	r7, r3, r7
 996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* If so, it should be saved in the sock structure for the next recv call.
 2473              		.loc 1 996 10 discriminator 3 view .LVU720
 2474 0134 002F     		cmp	r7, #0
 2475 0136 D1DD     		ble	.L184
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
 2476              		.loc 1 999 9 is_stmt 1 view .LVU721
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
 2477              		.loc 1 999 31 is_stmt 0 view .LVU722
 2478 0138 2146     		mov	r1, r4
 2479 013a FFF7FEFF 		bl	pbuf_free_header
 2480              	.LVL232:
 999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recv_tcp: lastdata now pbuf=%p\n", (void *)sock->lastdata
 2481              		.loc 1 999 29 view .LVU723
 2482 013e C9F80400 		str	r0, [r9, #4]
1000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 2483              		.loc 1 1000 107 is_stmt 1 view .LVU724
 2484 0142 D0E7     		b	.L182
 2485              	.LVL233:
 2486              	.L177:
 960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 2487              		.loc 1 960 18 is_stmt 0 view .LVU725
 2488 0144 4FF0000B 		mov	fp, #0
 2489 0148 A1E7     		b	.L166
 2490              	.LVL234:
 2491              	.L196:
 960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
 2492              		.loc 1 960 18 view .LVU726
 2493              	.LBE20:
1014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2494              		.loc 1 1014 5 is_stmt 1 view .LVU727
 2495 014a 5946     		mov	r1, fp
 2496 014c D9F80000 		ldr	r0, [r9]
 2497 0150 FFF7FEFF 		bl	netconn_tcp_recvd
 2498              	.LVL235:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 107


 2499 0154 9BE7     		b	.L166
 2500              	.L200:
 2501 0156 00BF     		.align	2
 2502              	.L199:
 2503 0158 00000000 		.word	.LC0
 2504 015c 00000000 		.word	.LC11
 2505 0160 48000000 		.word	.LC2
 2506 0164 10000000 		.word	.LC12
 2507 0168 00000000 		.word	errno
 2508 016c 34000000 		.word	.LC13
 2509 0170 40000000 		.word	.LC14
 2510 0174 68000000 		.word	.LC15
 2511              		.cfi_endproc
 2512              	.LFE381:
 2514              		.section	.rodata.lwip_recvfrom_udp_raw.str1.4,"aMS",%progbits,1
 2515              		.align	2
 2516              	.LC16:
 2517 0000 6C776970 		.ascii	"lwip_recvfrom_udp_raw: invalid arguments\000"
 2517      5F726563 
 2517      7666726F 
 2517      6D5F7564 
 2517      705F7261 
 2518 0029 000000   		.align	2
 2519              	.LC17:
 2520 002c 62756620 		.ascii	"buf != NULL\000"
 2520      213D204E 
 2520      554C4C00 
 2521              		.section	.text.lwip_recvfrom_udp_raw,"ax",%progbits
 2522              		.align	1
 2523              		.syntax unified
 2524              		.thumb
 2525              		.thumb_func
 2527              	lwip_recvfrom_udp_raw:
 2528              	.LVL236:
 2529              	.LFB384:
1089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf *buf;
 2530              		.loc 1 1089 1 view -0
 2531              		.cfi_startproc
 2532              		@ args = 4, pretend = 0, frame = 8
 2533              		@ frame_needed = 0, uses_anonymous_args = 0
1089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf *buf;
 2534              		.loc 1 1089 1 is_stmt 0 view .LVU729
 2535 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2536              	.LCFI39:
 2537              		.cfi_def_cfa_offset 36
 2538              		.cfi_offset 4, -36
 2539              		.cfi_offset 5, -32
 2540              		.cfi_offset 6, -28
 2541              		.cfi_offset 7, -24
 2542              		.cfi_offset 8, -20
 2543              		.cfi_offset 9, -16
 2544              		.cfi_offset 10, -12
 2545              		.cfi_offset 11, -8
 2546              		.cfi_offset 14, -4
 2547 0004 85B0     		sub	sp, sp, #20
 2548              	.LCFI40:
 2549              		.cfi_def_cfa_offset 56
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 108


 2550 0006 8146     		mov	r9, r0
 2551 0008 8846     		mov	r8, r1
 2552 000a 1646     		mov	r6, r2
 2553 000c 9A46     		mov	r10, r3
1090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t apiflags;
 2554              		.loc 1 1090 3 is_stmt 1 view .LVU730
1091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 2555              		.loc 1 1091 3 view .LVU731
1092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t buflen, copylen, copied;
 2556              		.loc 1 1092 3 view .LVU732
1093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 2557              		.loc 1 1093 3 view .LVU733
1094:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2558              		.loc 1 1094 3 view .LVU734
1096:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvfrom_udp_raw: invalid arguments", (msg->msg_iov != NULL) || (msg->msg_iovlen
 2559              		.loc 1 1096 3 view .LVU735
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2560              		.loc 1 1097 3 view .LVU736
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2561              		.loc 1 1097 3 view .LVU737
 2562 000e 9368     		ldr	r3, [r2, #8]
 2563              	.LVL237:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2564              		.loc 1 1097 3 is_stmt 0 view .LVU738
 2565 0010 6BB1     		cbz	r3, .L217
 2566              	.L202:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2567              		.loc 1 1097 3 is_stmt 1 discriminator 4 view .LVU739
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2568              		.loc 1 1097 3 discriminator 4 view .LVU740
1099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags = NETCONN_DONTBLOCK;
 2569              		.loc 1 1099 3 discriminator 4 view .LVU741
1099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     apiflags = NETCONN_DONTBLOCK;
 2570              		.loc 1 1099 6 is_stmt 0 discriminator 4 view .LVU742
 2571 0012 18F0080F 		tst	r8, #8
 2572 0016 17D0     		beq	.L214
1100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 2573              		.loc 1 1100 14 view .LVU743
 2574 0018 0422     		movs	r2, #4
 2575              	.LVL238:
 2576              	.L204:
1105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Check if there is data left from the last recv operation. */
 2577              		.loc 1 1105 121 is_stmt 1 view .LVU744
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (buf == NULL) {
 2578              		.loc 1 1107 3 view .LVU745
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (buf == NULL) {
 2579              		.loc 1 1107 23 is_stmt 0 view .LVU746
 2580 001a D9F80430 		ldr	r3, [r9, #4]
1107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (buf == NULL) {
 2581              		.loc 1 1107 7 view .LVU747
 2582 001e 0393     		str	r3, [sp, #12]
1108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* No data was left from the previous operation, so we try to get
 2583              		.loc 1 1108 3 is_stmt 1 view .LVU748
1108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* No data was left from the previous operation, so we try to get
 2584              		.loc 1 1108 6 is_stmt 0 view .LVU749
 2585 0020 A3B1     		cbz	r3, .L218
 2586              	.LVL239:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 109


 2587              	.L205:
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
 2588              		.loc 1 1121 3 is_stmt 1 view .LVU750
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
 2589              		.loc 1 1121 15 is_stmt 0 view .LVU751
 2590 0022 039B     		ldr	r3, [sp, #12]
 2591 0024 1B68     		ldr	r3, [r3]
1121:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw: buflen=%"U16_F"\n", buflen));
 2592              		.loc 1 1121 10 view .LVU752
 2593 0026 1F89     		ldrh	r7, [r3, #8]
 2594              	.LVL240:
1122:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2595              		.loc 1 1122 83 is_stmt 1 view .LVU753
1124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy the pbuf payload into the iovs */
 2596              		.loc 1 1124 3 view .LVU754
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2597              		.loc 1 1126 3 view .LVU755
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2598              		.loc 1 1126 10 is_stmt 0 view .LVU756
 2599 0028 0025     		movs	r5, #0
1124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* copy the pbuf payload into the iovs */
 2600              		.loc 1 1124 10 view .LVU757
 2601 002a AB46     		mov	fp, r5
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2602              		.loc 1 1126 3 view .LVU758
 2603 002c 2EE0     		b	.L207
 2604              	.LVL241:
 2605              	.L217:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2606              		.loc 1 1097 3 discriminator 1 view .LVU759
 2607 002e D368     		ldr	r3, [r2, #12]
 2608 0030 002B     		cmp	r3, #0
 2609 0032 EEDD     		ble	.L202
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2610              		.loc 1 1097 3 is_stmt 1 discriminator 3 view .LVU760
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2611              		.loc 1 1097 3 discriminator 3 view .LVU761
 2612 0034 324B     		ldr	r3, .L222
 2613 0036 40F24942 		movw	r2, #1097
 2614              	.LVL242:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2615              		.loc 1 1097 3 is_stmt 0 discriminator 3 view .LVU762
 2616 003a 3249     		ldr	r1, .L222+4
 2617              	.LVL243:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2618              		.loc 1 1097 3 discriminator 3 view .LVU763
 2619 003c 3248     		ldr	r0, .L222+8
 2620              	.LVL244:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2621              		.loc 1 1097 3 discriminator 3 view .LVU764
 2622 003e FFF7FEFF 		bl	printf
 2623              	.LVL245:
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2624              		.loc 1 1097 3 is_stmt 1 discriminator 3 view .LVU765
1097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2625              		.loc 1 1097 3 discriminator 3 view .LVU766
 2626 0042 6FF00F00 		mvn	r0, #15
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 110


 2627 0046 45E0     		b	.L203
 2628              	.LVL246:
 2629              	.L214:
1102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2630              		.loc 1 1102 14 is_stmt 0 view .LVU767
 2631 0048 0022     		movs	r2, #0
 2632              	.LVL247:
1102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2633              		.loc 1 1102 14 view .LVU768
 2634 004a E6E7     		b	.L204
 2635              	.LVL248:
 2636              	.L218:
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2637              		.loc 1 1111 5 is_stmt 1 view .LVU769
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2638              		.loc 1 1111 11 is_stmt 0 view .LVU770
 2639 004c 03A9     		add	r1, sp, #12
 2640              	.LVL249:
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2641              		.loc 1 1111 11 view .LVU771
 2642 004e D9F80000 		ldr	r0, [r9]
 2643              	.LVL250:
1111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom_udp_raw[UDP/RAW]: netconn_recv err=%d, netbuf=%p\n",
 2644              		.loc 1 1111 11 view .LVU772
 2645 0052 FFF7FEFF 		bl	netconn_recv_udp_raw_netbuf_flags
 2646              	.LVL251:
1113:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2647              		.loc 1 1113 51 is_stmt 1 view .LVU773
1115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return err;
 2648              		.loc 1 1115 5 view .LVU774
1115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return err;
 2649              		.loc 1 1115 8 is_stmt 0 view .LVU775
 2650 0056 0028     		cmp	r0, #0
 2651 0058 3CD1     		bne	.L203
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2652              		.loc 1 1118 5 is_stmt 1 view .LVU776
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2653              		.loc 1 1118 5 view .LVU777
 2654 005a 039B     		ldr	r3, [sp, #12]
 2655 005c 1BB1     		cbz	r3, .L219
 2656              	.LVL252:
 2657              	.L206:
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2658              		.loc 1 1118 5 discriminator 3 view .LVU778
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2659              		.loc 1 1118 5 discriminator 3 view .LVU779
1119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2660              		.loc 1 1119 5 discriminator 3 view .LVU780
1119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2661              		.loc 1 1119 27 is_stmt 0 discriminator 3 view .LVU781
 2662 005e 039B     		ldr	r3, [sp, #12]
 2663 0060 C9F80430 		str	r3, [r9, #4]
 2664 0064 DDE7     		b	.L205
 2665              	.LVL253:
 2666              	.L219:
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2667              		.loc 1 1118 5 is_stmt 1 discriminator 1 view .LVU782
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 111


1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2668              		.loc 1 1118 5 discriminator 1 view .LVU783
 2669 0066 264B     		ldr	r3, .L222
 2670 0068 40F25E42 		movw	r2, #1118
 2671 006c 2749     		ldr	r1, .L222+12
 2672 006e 2648     		ldr	r0, .L222+8
 2673              	.LVL254:
1118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = buf;
 2674              		.loc 1 1118 5 is_stmt 0 discriminator 1 view .LVU784
 2675 0070 FFF7FEFF 		bl	printf
 2676              	.LVL255:
 2677 0074 F3E7     		b	.L206
 2678              	.LVL256:
 2679              	.L208:
 2680              	.LBB21:
1136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     copied = (u16_t)(copied + copylen);
 2681              		.loc 1 1136 5 is_stmt 1 discriminator 2 view .LVU785
 2682 0076 5B46     		mov	r3, fp
 2683 0078 2246     		mov	r2, r4
 2684 007a 0958     		ldr	r1, [r1, r0]
 2685 007c 0398     		ldr	r0, [sp, #12]
 2686 007e 0068     		ldr	r0, [r0]
 2687 0080 FFF7FEFF 		bl	pbuf_copy_partial
 2688              	.LVL257:
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2689              		.loc 1 1137 5 discriminator 2 view .LVU786
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2690              		.loc 1 1137 12 is_stmt 0 discriminator 2 view .LVU787
 2691 0084 5C44     		add	r4, r4, fp
 2692              	.LVL258:
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2693              		.loc 1 1137 12 discriminator 2 view .LVU788
 2694 0086 1FFA84FB 		uxth	fp, r4
 2695              	.LVL259:
1137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2696              		.loc 1 1137 12 discriminator 2 view .LVU789
 2697              	.LBE21:
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2698              		.loc 1 1126 59 is_stmt 1 discriminator 2 view .LVU790
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2699              		.loc 1 1126 60 is_stmt 0 discriminator 2 view .LVU791
 2700 008a 0135     		adds	r5, r5, #1
 2701              	.LVL260:
 2702              	.L207:
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2703              		.loc 1 1126 15 is_stmt 1 discriminator 1 view .LVU792
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2704              		.loc 1 1126 23 is_stmt 0 discriminator 1 view .LVU793
 2705 008c F368     		ldr	r3, [r6, #12]
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2706              		.loc 1 1126 3 discriminator 1 view .LVU794
 2707 008e AB42     		cmp	r3, r5
 2708 0090 0DDD     		ble	.L209
1126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t len_left = (u16_t)(buflen - copied);
 2709              		.loc 1 1126 37 discriminator 3 view .LVU795
 2710 0092 BB45     		cmp	fp, r7
 2711 0094 0BD2     		bcs	.L209
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 112


 2712              	.LBB22:
1127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_iov[i].iov_len > len_left) {
 2713              		.loc 1 1127 5 is_stmt 1 view .LVU796
1127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_iov[i].iov_len > len_left) {
 2714              		.loc 1 1127 11 is_stmt 0 view .LVU797
 2715 0096 A7EB0B04 		sub	r4, r7, fp
 2716 009a A4B2     		uxth	r4, r4
 2717              	.LVL261:
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2718              		.loc 1 1128 5 is_stmt 1 view .LVU798
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2719              		.loc 1 1128 12 is_stmt 0 view .LVU799
 2720 009c B168     		ldr	r1, [r6, #8]
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2721              		.loc 1 1128 21 view .LVU800
 2722 009e E800     		lsls	r0, r5, #3
 2723 00a0 01EBC503 		add	r3, r1, r5, lsl #3
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2724              		.loc 1 1128 24 view .LVU801
 2725 00a4 5B68     		ldr	r3, [r3, #4]
1128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       copylen = len_left;
 2726              		.loc 1 1128 8 view .LVU802
 2727 00a6 A342     		cmp	r3, r4
 2728 00a8 E5D8     		bhi	.L208
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2729              		.loc 1 1131 7 is_stmt 1 view .LVU803
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2730              		.loc 1 1131 15 is_stmt 0 view .LVU804
 2731 00aa 9CB2     		uxth	r4, r3
 2732              	.LVL262:
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2733              		.loc 1 1131 15 view .LVU805
 2734 00ac E3E7     		b	.L208
 2735              	.LVL263:
 2736              	.L209:
1131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2737              		.loc 1 1131 15 view .LVU806
 2738              	.LBE22:
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2739              		.loc 1 1142 3 is_stmt 1 view .LVU807
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2740              		.loc 1 1142 10 is_stmt 0 view .LVU808
 2741 00ae 3368     		ldr	r3, [r6]
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2742              		.loc 1 1142 6 view .LVU809
 2743 00b0 0BB1     		cbz	r3, .L211
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2744              		.loc 1 1142 27 discriminator 1 view .LVU810
 2745 00b2 7268     		ldr	r2, [r6, #4]
1142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !SOCKETS_DEBUG */
 2746              		.loc 1 1142 21 discriminator 1 view .LVU811
 2747 00b4 8AB9     		cbnz	r2, .L220
 2748              	.L211:
1155:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2749              		.loc 1 1155 3 is_stmt 1 view .LVU812
1155:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2750              		.loc 1 1155 18 is_stmt 0 view .LVU813
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 113


 2751 00b6 0023     		movs	r3, #0
 2752 00b8 B361     		str	r3, [r6, #24]
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u8_t wrote_msg = 0;
 2753              		.loc 1 1157 3 is_stmt 1 view .LVU814
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u8_t wrote_msg = 0;
 2754              		.loc 1 1157 10 is_stmt 0 view .LVU815
 2755 00ba 3369     		ldr	r3, [r6, #16]
1157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u8_t wrote_msg = 0;
 2756              		.loc 1 1157 6 view .LVU816
 2757 00bc 0BB1     		cbz	r3, .L212
 2758              	.LBB23:
1158:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 2759              		.loc 1 1158 5 is_stmt 1 view .LVU817
 2760              	.LVL264:
1182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       msg->msg_controllen = 0;
 2761              		.loc 1 1182 5 view .LVU818
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2762              		.loc 1 1183 7 view .LVU819
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2763              		.loc 1 1183 27 is_stmt 0 view .LVU820
 2764 00be 0023     		movs	r3, #0
 2765 00c0 7361     		str	r3, [r6, #20]
 2766              	.LVL265:
 2767              	.L212:
1183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 2768              		.loc 1 1183 27 view .LVU821
 2769              	.LBE23:
1188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = NULL;
 2770              		.loc 1 1188 3 is_stmt 1 view .LVU822
1188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock->lastdata.netbuf = NULL;
 2771              		.loc 1 1188 6 is_stmt 0 view .LVU823
 2772 00c2 18F0010F 		tst	r8, #1
 2773 00c6 12D0     		beq	.L221
 2774              	.L213:
1192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *datagram_len = buflen;
 2775              		.loc 1 1192 3 is_stmt 1 view .LVU824
1192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *datagram_len = buflen;
 2776              		.loc 1 1192 6 is_stmt 0 view .LVU825
 2777 00c8 BAF1000F 		cmp	r10, #0
 2778 00cc 16D0     		beq	.L215
1193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2779              		.loc 1 1193 5 is_stmt 1 view .LVU826
1193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2780              		.loc 1 1193 19 is_stmt 0 view .LVU827
 2781 00ce AAF80070 		strh	r7, [r10]	@ movhi
1195:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 2782              		.loc 1 1195 10 view .LVU828
 2783 00d2 0020     		movs	r0, #0
 2784              	.LVL266:
 2785              	.L203:
1196:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2786              		.loc 1 1196 1 view .LVU829
 2787 00d4 05B0     		add	sp, sp, #20
 2788              	.LCFI41:
 2789              		.cfi_remember_state
 2790              		.cfi_def_cfa_offset 36
 2791              		@ sp needed
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 114


 2792 00d6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2793              	.LVL267:
 2794              	.L220:
 2795              	.LCFI42:
 2796              		.cfi_restore_state
1145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, *netbuf_fromaddr(buf));
 2797              		.loc 1 1145 77 is_stmt 1 view .LVU830
1146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F" len=%d\n", netbuf_fromport(buf), copied));
 2798              		.loc 1 1146 66 view .LVU831
1147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name && msg->msg_namelen) {
 2799              		.loc 1 1147 90 view .LVU832
1148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_sock_make_addr(sock->conn, netbuf_fromaddr(buf), netbuf_fromport(buf),
 2800              		.loc 1 1148 5 view .LVU833
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
 2801              		.loc 1 1149 7 view .LVU834
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
 2802              		.loc 1 1149 39 is_stmt 0 view .LVU835
 2803 00da 0399     		ldr	r1, [sp, #12]
1149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           (struct sockaddr *)msg->msg_name, &msg->msg_namelen);
 2804              		.loc 1 1149 7 view .LVU836
 2805 00dc 8A89     		ldrh	r2, [r1, #12]
 2806 00de 301D     		adds	r0, r6, #4
 2807 00e0 0090     		str	r0, [sp]
 2808 00e2 0831     		adds	r1, r1, #8
 2809 00e4 D9F80000 		ldr	r0, [r9]
 2810 00e8 FFF7FEFF 		bl	lwip_sock_make_addr
 2811              	.LVL268:
 2812 00ec E3E7     		b	.L211
 2813              	.L221:
1189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_delete(buf);
 2814              		.loc 1 1189 5 is_stmt 1 view .LVU837
1189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_delete(buf);
 2815              		.loc 1 1189 27 is_stmt 0 view .LVU838
 2816 00ee 0023     		movs	r3, #0
 2817 00f0 C9F80430 		str	r3, [r9, #4]
1190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 2818              		.loc 1 1190 5 is_stmt 1 view .LVU839
 2819 00f4 0398     		ldr	r0, [sp, #12]
 2820 00f6 FFF7FEFF 		bl	netbuf_delete
 2821              	.LVL269:
 2822 00fa E5E7     		b	.L213
 2823              	.L215:
1195:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 2824              		.loc 1 1195 10 is_stmt 0 view .LVU840
 2825 00fc 0020     		movs	r0, #0
 2826 00fe E9E7     		b	.L203
 2827              	.L223:
 2828              		.align	2
 2829              	.L222:
 2830 0100 00000000 		.word	.LC0
 2831 0104 00000000 		.word	.LC16
 2832 0108 48000000 		.word	.LC2
 2833 010c 2C000000 		.word	.LC17
 2834              		.cfi_endproc
 2835              	.LFE384:
 2837              		.section	.text.select_check_waiters,"ax",%progbits
 2838              		.align	1
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 115


 2839              		.syntax unified
 2840              		.thumb
 2841              		.thumb_func
 2843              	select_check_waiters:
 2844              	.LVL270:
 2845              	.LFB404:
2577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb *scb;
 2846              		.loc 1 2577 1 is_stmt 1 view -0
 2847              		.cfi_startproc
 2848              		@ args = 0, pretend = 0, frame = 0
 2849              		@ frame_needed = 0, uses_anonymous_args = 0
2577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_select_cb *scb;
 2850              		.loc 1 2577 1 is_stmt 0 view .LVU842
 2851 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2852              	.LCFI43:
 2853              		.cfi_def_cfa_offset 24
 2854              		.cfi_offset 4, -24
 2855              		.cfi_offset 5, -20
 2856              		.cfi_offset 6, -16
 2857              		.cfi_offset 7, -12
 2858              		.cfi_offset 8, -8
 2859              		.cfi_offset 14, -4
 2860 0004 82B0     		sub	sp, sp, #8
 2861              	.LCFI44:
 2862              		.cfi_def_cfa_offset 32
 2863 0006 0546     		mov	r5, r0
 2864 0008 0E46     		mov	r6, r1
 2865 000a 9046     		mov	r8, r2
 2866 000c 1F46     		mov	r7, r3
2578:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 2867              		.loc 1 2578 3 is_stmt 1 view .LVU843
2584:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 2868              		.loc 1 2584 28 view .LVU844
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2869              		.loc 1 2592 3 view .LVU845
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2870              		.loc 1 2592 12 is_stmt 0 view .LVU846
 2871 000e 354B     		ldr	r3, .L244
 2872              	.LVL271:
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2873              		.loc 1 2592 12 view .LVU847
 2874 0010 1C68     		ldr	r4, [r3]
 2875              	.LVL272:
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2876              		.loc 1 2592 3 view .LVU848
 2877 0012 4DE0     		b	.L225
 2878              	.LVL273:
 2879              	.L227:
 2880              	.LBB24:
2607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (scb->readset && FD_ISSET(s, scb->readset)) {
 2881              		.loc 1 2607 9 is_stmt 1 view .LVU849
2607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (scb->readset && FD_ISSET(s, scb->readset)) {
 2882              		.loc 1 2607 12 is_stmt 0 view .LVU850
 2883 0014 BEB1     		cbz	r6, .L236
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2884              		.loc 1 2608 11 is_stmt 1 view .LVU851
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 116


 2885              		.loc 1 2608 18 is_stmt 0 view .LVU852
 2886 0016 A268     		ldr	r2, [r4, #8]
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2887              		.loc 1 2608 14 view .LVU853
 2888 0018 B2B1     		cbz	r2, .L229
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2889              		.loc 1 2608 31 discriminator 1 view .LVU854
 2890 001a 2B46     		mov	r3, r5
 2891 001c 002D     		cmp	r5, #0
 2892 001e 0FDB     		blt	.L240
 2893              	.L230:
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2894              		.loc 1 2608 31 discriminator 1 view .LVU855
 2895 0020 5B11     		asrs	r3, r3, #5
 2896 0022 52F82330 		ldr	r3, [r2, r3, lsl #2]
 2897 0026 6942     		rsbs	r1, r5, #0
 2898 0028 05F01F02 		and	r2, r5, #31
 2899 002c 01F01F01 		and	r1, r1, #31
 2900 0030 58BF     		it	pl
 2901 0032 4A42     		rsbpl	r2, r1, #0
 2902 0034 D340     		lsrs	r3, r3, r2
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2903              		.loc 1 2608 28 discriminator 1 view .LVU856
 2904 0036 13F0010F 		tst	r3, #1
 2905 003a 05D0     		beq	.L229
2609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 2906              		.loc 1 2609 23 view .LVU857
 2907 003c 0120     		movs	r0, #1
 2908 003e 03E0     		b	.L229
 2909              	.LVL274:
 2910              	.L240:
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2911              		.loc 1 2608 31 discriminator 1 view .LVU858
 2912 0040 05F11F03 		add	r3, r5, #31
 2913              	.LVL275:
2608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2914              		.loc 1 2608 31 discriminator 1 view .LVU859
 2915 0044 ECE7     		b	.L230
 2916              	.L236:
2595:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_POLL
 2917              		.loc 1 2595 11 view .LVU860
 2918 0046 3046     		mov	r0, r6
 2919              	.L229:
 2920              	.LVL276:
2612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
 2921              		.loc 1 2612 9 is_stmt 1 view .LVU861
2612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->writeset && FD_ISSET(s, scb->writeset)) {
 2922              		.loc 1 2612 12 is_stmt 0 view .LVU862
 2923 0048 B8F1000F 		cmp	r8, #0
 2924 004c 14D0     		beq	.L231
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2925              		.loc 1 2613 11 is_stmt 1 view .LVU863
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2926              		.loc 1 2613 14 is_stmt 0 view .LVU864
 2927 004e 98B9     		cbnz	r0, .L231
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2928              		.loc 1 2613 32 discriminator 1 view .LVU865
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 117


 2929 0050 E268     		ldr	r2, [r4, #12]
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2930              		.loc 1 2613 26 discriminator 1 view .LVU866
 2931 0052 8AB1     		cbz	r2, .L231
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2932              		.loc 1 2613 46 discriminator 2 view .LVU867
 2933 0054 2B46     		mov	r3, r5
 2934 0056 002D     		cmp	r5, #0
 2935 0058 3BDB     		blt	.L241
 2936              	.L232:
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2937              		.loc 1 2613 46 discriminator 2 view .LVU868
 2938 005a 5B11     		asrs	r3, r3, #5
 2939 005c 52F82330 		ldr	r3, [r2, r3, lsl #2]
 2940 0060 6942     		rsbs	r1, r5, #0
 2941 0062 05F01F02 		and	r2, r5, #31
 2942 0066 01F01F01 		and	r1, r1, #31
 2943 006a 58BF     		it	pl
 2944 006c 4A42     		rsbpl	r2, r1, #0
 2945 006e D340     		lsrs	r3, r3, r2
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2946              		.loc 1 2613 43 discriminator 2 view .LVU869
 2947 0070 13F0010F 		tst	r3, #1
 2948 0074 00D0     		beq	.L231
2614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 2949              		.loc 1 2614 23 view .LVU870
 2950 0076 0120     		movs	r0, #1
 2951              	.LVL277:
 2952              	.L231:
2617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
 2953              		.loc 1 2617 9 is_stmt 1 view .LVU871
2617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!do_signal && scb->exceptset && FD_ISSET(s, scb->exceptset)) {
 2954              		.loc 1 2617 12 is_stmt 0 view .LVU872
 2955 0078 47B3     		cbz	r7, .L228
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2956              		.loc 1 2618 11 is_stmt 1 view .LVU873
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2957              		.loc 1 2618 14 is_stmt 0 view .LVU874
 2958 007a 38BB     		cbnz	r0, .L228
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2959              		.loc 1 2618 32 discriminator 1 view .LVU875
 2960 007c 2269     		ldr	r2, [r4, #16]
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2961              		.loc 1 2618 26 discriminator 1 view .LVU876
 2962 007e 2AB3     		cbz	r2, .L228
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2963              		.loc 1 2618 47 discriminator 2 view .LVU877
 2964 0080 2B46     		mov	r3, r5
 2965 0082 002D     		cmp	r5, #0
 2966 0084 28DB     		blt	.L242
 2967              	.L233:
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2968              		.loc 1 2618 47 discriminator 2 view .LVU878
 2969 0086 5B11     		asrs	r3, r3, #5
 2970 0088 52F82330 		ldr	r3, [r2, r3, lsl #2]
 2971 008c 6942     		rsbs	r1, r5, #0
 2972 008e 05F01F02 		and	r2, r5, #31
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 118


 2973 0092 01F01F01 		and	r1, r1, #31
 2974 0096 58BF     		it	pl
 2975 0098 4A42     		rsbpl	r2, r1, #0
 2976 009a D340     		lsrs	r3, r3, r2
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 2977              		.loc 1 2618 44 discriminator 2 view .LVU879
 2978 009c 13F0010F 		tst	r3, #1
 2979 00a0 14D0     		beq	.L228
 2980              	.L234:
 2981              	.LVL278:
2625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* For !LWIP_TCPIP_CORE_LOCKING, we don't call SYS_ARCH_UNPROTECT() before signaling
 2982              		.loc 1 2625 9 is_stmt 1 view .LVU880
2625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* For !LWIP_TCPIP_CORE_LOCKING, we don't call SYS_ARCH_UNPROTECT() before signaling
 2983              		.loc 1 2625 28 is_stmt 0 view .LVU881
 2984 00a2 0123     		movs	r3, #1
 2985 00a4 E361     		str	r3, [r4, #28]
2629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2986              		.loc 1 2629 9 is_stmt 1 view .LVU882
 2987 00a6 04F12000 		add	r0, r4, #32
 2988 00aa FFF7FEFF 		bl	sys_sem_signal
 2989              	.LVL279:
 2990              	.L226:
2629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 2991              		.loc 1 2629 9 is_stmt 0 view .LVU883
 2992              	.LBE24:
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2993              		.loc 1 2592 43 is_stmt 1 discriminator 2 view .LVU884
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2994              		.loc 1 2592 47 is_stmt 0 discriminator 2 view .LVU885
 2995 00ae 2468     		ldr	r4, [r4]
 2996              	.LVL280:
 2997              	.L225:
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2998              		.loc 1 2592 30 is_stmt 1 discriminator 1 view .LVU886
2592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (scb->sem_signalled == 0) {
 2999              		.loc 1 2592 3 is_stmt 0 discriminator 1 view .LVU887
 3000 00b0 ACB1     		cbz	r4, .L243
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
 3001              		.loc 1 2593 5 is_stmt 1 view .LVU888
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
 3002              		.loc 1 2593 12 is_stmt 0 view .LVU889
 3003 00b2 E069     		ldr	r0, [r4, #28]
2593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* semaphore not signalled yet */
 3004              		.loc 1 2593 8 view .LVU890
 3005 00b4 0028     		cmp	r0, #0
 3006 00b6 FAD1     		bne	.L226
 3007              	.LBB25:
2595:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SOCKET_POLL
 3008              		.loc 1 2595 7 is_stmt 1 view .LVU891
 3009              	.LVL281:
2597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
 3010              		.loc 1 2597 7 view .LVU892
2597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         do_signal = lwip_poll_should_wake(scb, s, has_recvevent, has_sendevent, has_errevent);
 3011              		.loc 1 2597 10 is_stmt 0 view .LVU893
 3012 00b8 6369     		ldr	r3, [r4, #20]
 3013 00ba 002B     		cmp	r3, #0
 3014 00bc AAD0     		beq	.L227
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 119


2598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3015              		.loc 1 2598 9 is_stmt 1 view .LVU894
2598:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3016              		.loc 1 2598 21 is_stmt 0 view .LVU895
 3017 00be 0097     		str	r7, [sp]
 3018 00c0 4346     		mov	r3, r8
 3019 00c2 3246     		mov	r2, r6
 3020 00c4 2946     		mov	r1, r5
 3021 00c6 2046     		mov	r0, r4
 3022 00c8 FFF7FEFF 		bl	lwip_poll_should_wake
 3023              	.LVL282:
 3024              	.L228:
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
 3025              		.loc 1 2624 7 is_stmt 1 view .LVU896
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
 3026              		.loc 1 2624 10 is_stmt 0 view .LVU897
 3027 00cc 0028     		cmp	r0, #0
 3028 00ce EED0     		beq	.L226
2624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         scb->sem_signalled = 1;
 3029              		.loc 1 2624 10 view .LVU898
 3030 00d0 E7E7     		b	.L234
 3031              	.LVL283:
 3032              	.L241:
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 3033              		.loc 1 2613 46 discriminator 2 view .LVU899
 3034 00d2 05F11F03 		add	r3, r5, #31
 3035              	.LVL284:
2613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 3036              		.loc 1 2613 46 discriminator 2 view .LVU900
 3037 00d6 C0E7     		b	.L232
 3038              	.LVL285:
 3039              	.L242:
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 3040              		.loc 1 2618 47 discriminator 2 view .LVU901
 3041 00d8 05F11F03 		add	r3, r5, #31
 3042              	.LVL286:
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 3043              		.loc 1 2618 47 discriminator 2 view .LVU902
 3044 00dc D3E7     		b	.L233
 3045              	.LVL287:
 3046              	.L243:
2618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             do_signal = 1;
 3047              		.loc 1 2618 47 discriminator 2 view .LVU903
 3048              	.LBE25:
2648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 3049              		.loc 1 2648 1 view .LVU904
 3050 00de 02B0     		add	sp, sp, #8
 3051              	.LCFI45:
 3052              		.cfi_def_cfa_offset 24
 3053              		@ sp needed
 3054 00e0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3055              	.LVL288:
 3056              	.L245:
2648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT || LWIP_SOCKET_POLL */
 3057              		.loc 1 2648 1 view .LVU905
 3058              		.align	2
 3059              	.L244:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 120


 3060 00e4 00000000 		.word	.LANCHOR1
 3061              		.cfi_endproc
 3062              	.LFE404:
 3064              		.section	.rodata.event_callback.str1.4,"aMS",%progbits,1
 3065              		.align	2
 3066              	.LC18:
 3067 0000 756E6B6E 		.ascii	"unknown event\000"
 3067      6F776E20 
 3067      6576656E 
 3067      7400
 3068              		.section	.text.event_callback,"ax",%progbits
 3069              		.align	1
 3070              		.syntax unified
 3071              		.thumb
 3072              		.thumb_func
 3074              	event_callback:
 3075              	.LVL289:
 3076              	.LFB403:
2478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s, check_waiters;
 3077              		.loc 1 2478 1 is_stmt 1 view -0
 3078              		.cfi_startproc
 3079              		@ args = 0, pretend = 0, frame = 0
 3080              		@ frame_needed = 0, uses_anonymous_args = 0
2479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 3081              		.loc 1 2479 3 view .LVU907
2480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 3082              		.loc 1 2480 3 view .LVU908
2481:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3083              		.loc 1 2481 3 view .LVU909
2483:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3084              		.loc 1 2483 3 view .LVU910
2486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     s = conn->socket;
 3085              		.loc 1 2486 3 view .LVU911
2486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     s = conn->socket;
 3086              		.loc 1 2486 6 is_stmt 0 view .LVU912
 3087 0000 0028     		cmp	r0, #0
 3088 0002 6DD0     		beq	.L264
2478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int s, check_waiters;
 3089              		.loc 1 2478 1 view .LVU913
 3090 0004 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3091              	.LCFI46:
 3092              		.cfi_def_cfa_offset 24
 3093              		.cfi_offset 4, -24
 3094              		.cfi_offset 5, -20
 3095              		.cfi_offset 6, -16
 3096              		.cfi_offset 7, -12
 3097              		.cfi_offset 8, -8
 3098              		.cfi_offset 14, -4
 3099 0008 0C46     		mov	r4, r1
 3100 000a 0546     		mov	r5, r0
2487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (s < 0) {
 3101              		.loc 1 2487 5 is_stmt 1 view .LVU914
2487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (s < 0) {
 3102              		.loc 1 2487 7 is_stmt 0 view .LVU915
 3103 000c 8669     		ldr	r6, [r0, #24]
 3104              	.LVL290:
2488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Data comes in right away after an accept, even though
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 121


 3105              		.loc 1 2488 5 is_stmt 1 view .LVU916
2488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Data comes in right away after an accept, even though
 3106              		.loc 1 2488 8 is_stmt 0 view .LVU917
 3107 000e 002E     		cmp	r6, #0
 3108 0010 0EDB     		blt	.L267
 3109              	.LVL291:
 3110              	.L248:
2508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock) {
 3111              		.loc 1 2508 5 is_stmt 1 view .LVU918
2508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (!sock) {
 3112              		.loc 1 2508 12 is_stmt 0 view .LVU919
 3113 0012 3046     		mov	r0, r6
 3114 0014 FFF7FEFF 		bl	get_socket
 3115              	.LVL292:
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
 3116              		.loc 1 2509 5 is_stmt 1 view .LVU920
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
 3117              		.loc 1 2509 8 is_stmt 0 view .LVU921
 3118 0018 0546     		mov	r5, r0
 3119              	.LVL293:
2509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return;
 3120              		.loc 1 2509 8 view .LVU922
 3121 001a 68B3     		cbz	r0, .L246
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3122              		.loc 1 2516 3 is_stmt 1 view .LVU923
 3123              	.LVL294:
2517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Set event as required */
 3124              		.loc 1 2517 3 view .LVU924
 3125 001c FFF7FEFF 		bl	sys_arch_protect
 3126              	.LVL295:
2517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Set event as required */
 3127              		.loc 1 2517 3 is_stmt 0 view .LVU925
 3128 0020 0746     		mov	r7, r0
 3129              	.LVL296:
2519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_RCVPLUS:
 3130              		.loc 1 2519 3 is_stmt 1 view .LVU926
 3131 0022 042C     		cmp	r4, #4
 3132 0024 38D8     		bhi	.L251
 3133 0026 DFE804F0 		tbb	[pc, r4]
 3134              	.L253:
 3135 002a 11       		.byte	(.L257-.L253)/2
 3136 002b 1C       		.byte	(.L256-.L253)/2
 3137 002c 29       		.byte	(.L255-.L253)/2
 3138 002d 31       		.byte	(.L254-.L253)/2
 3139 002e 34       		.byte	(.L252-.L253)/2
 3140              	.LVL297:
 3141 002f 00       		.p2align 1
 3142              	.L267:
2494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (conn->socket < 0) {
 3143              		.loc 1 2494 7 view .LVU927
 3144 0030 FFF7FEFF 		bl	sys_arch_protect
 3145              	.LVL298:
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 3146              		.loc 1 2495 7 view .LVU928
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 3147              		.loc 1 2495 15 is_stmt 0 view .LVU929
 3148 0034 AE69     		ldr	r6, [r5, #24]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 122


 3149              	.LVL299:
2495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (evt == NETCONN_EVT_RCVPLUS) {
 3150              		.loc 1 2495 10 view .LVU930
 3151 0036 002E     		cmp	r6, #0
 3152 0038 02DB     		blt	.L268
2504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_UNPROTECT(lev);
 3153              		.loc 1 2504 7 is_stmt 1 view .LVU931
 3154              	.LVL300:
2505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3155              		.loc 1 2505 7 view .LVU932
 3156 003a FFF7FEFF 		bl	sys_arch_unprotect
 3157              	.LVL301:
2505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 3158              		.loc 1 2505 7 is_stmt 0 view .LVU933
 3159 003e E8E7     		b	.L248
 3160              	.LVL302:
 3161              	.L268:
2496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* conn->socket is -1 on initialization
 3162              		.loc 1 2496 9 is_stmt 1 view .LVU934
2496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* conn->socket is -1 on initialization
 3163              		.loc 1 2496 12 is_stmt 0 view .LVU935
 3164 0040 0CB9     		cbnz	r4, .L250
2499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 3165              		.loc 1 2499 11 is_stmt 1 view .LVU936
2499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 3166              		.loc 1 2499 23 is_stmt 0 view .LVU937
 3167 0042 013E     		subs	r6, r6, #1
 3168 0044 AE61     		str	r6, [r5, #24]
 3169              	.L250:
2501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return;
 3170              		.loc 1 2501 9 is_stmt 1 view .LVU938
 3171 0046 FFF7FEFF 		bl	sys_arch_unprotect
 3172              	.LVL303:
2502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3173              		.loc 1 2502 9 view .LVU939
 3174 004a 15E0     		b	.L246
 3175              	.LVL304:
 3176              	.L257:
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 1) {
 3177              		.loc 1 2521 7 view .LVU940
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 1) {
 3178              		.loc 1 2521 11 is_stmt 0 view .LVU941
 3179 004c B5F90830 		ldrsh	r3, [r5, #8]
2521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->rcvevent > 1) {
 3180              		.loc 1 2521 21 view .LVU942
 3181 0050 0133     		adds	r3, r3, #1
 3182 0052 1BB2     		sxth	r3, r3
 3183 0054 2B81     		strh	r3, [r5, #8]	@ movhi
2522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3184              		.loc 1 2522 7 is_stmt 1 view .LVU943
2522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3185              		.loc 1 2522 10 is_stmt 0 view .LVU944
 3186 0056 012B     		cmp	r3, #1
 3187 0058 01DD     		ble	.L269
2523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3188              		.loc 1 2523 23 view .LVU945
 3189 005a 0023     		movs	r3, #0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 123


 3190 005c 06E0     		b	.L258
 3191              	.L269:
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3192              		.loc 1 2516 17 view .LVU946
 3193 005e 0123     		movs	r3, #1
 3194 0060 04E0     		b	.L258
 3195              	.L256:
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3196              		.loc 1 2527 7 is_stmt 1 view .LVU947
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3197              		.loc 1 2527 11 is_stmt 0 view .LVU948
 3198 0062 B5F90830 		ldrsh	r3, [r5, #8]
2527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3199              		.loc 1 2527 21 view .LVU949
 3200 0066 013B     		subs	r3, r3, #1
 3201 0068 2B81     		strh	r3, [r5, #8]	@ movhi
2528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3202              		.loc 1 2528 7 is_stmt 1 view .LVU950
 3203              	.LVL305:
2529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDPLUS:
 3204              		.loc 1 2529 7 view .LVU951
2528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3205              		.loc 1 2528 21 is_stmt 0 view .LVU952
 3206 006a 0023     		movs	r3, #0
 3207              	.LVL306:
 3208              	.L258:
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3209              		.loc 1 2548 3 is_stmt 1 view .LVU953
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3210              		.loc 1 2548 11 is_stmt 0 view .LVU954
 3211 006c AA7B     		ldrb	r2, [r5, #14]	@ zero_extendqisi2
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3212              		.loc 1 2548 6 view .LVU955
 3213 006e 02B1     		cbz	r2, .L260
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3214              		.loc 1 2548 28 discriminator 1 view .LVU956
 3215 0070 DBB9     		cbnz	r3, .L270
 3216              	.L260:
2558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3217              		.loc 1 2558 5 is_stmt 1 view .LVU957
 3218 0072 3846     		mov	r0, r7
 3219 0074 FFF7FEFF 		bl	sys_arch_unprotect
 3220              	.LVL307:
2560:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 3221              		.loc 1 2560 20 view .LVU958
 3222              	.L246:
2561:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3223              		.loc 1 2561 1 is_stmt 0 view .LVU959
 3224 0078 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3225              	.LVL308:
 3226              	.L255:
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3227              		.loc 1 2531 7 is_stmt 1 view .LVU960
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
 3228              		.loc 1 2531 15 is_stmt 0 view .LVU961
 3229 007c 6B89     		ldrh	r3, [r5, #10]
2531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         check_waiters = 0;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 124


 3230              		.loc 1 2531 10 view .LVU962
 3231 007e 1BB9     		cbnz	r3, .L262
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3232              		.loc 1 2516 17 view .LVU963
 3233 0080 0123     		movs	r3, #1
 3234              	.L259:
 3235              	.LVL309:
2534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3236              		.loc 1 2534 7 is_stmt 1 view .LVU964
2534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3237              		.loc 1 2534 23 is_stmt 0 view .LVU965
 3238 0082 0122     		movs	r2, #1
 3239 0084 6A81     		strh	r2, [r5, #10]	@ movhi
2535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_SENDMINUS:
 3240              		.loc 1 2535 7 is_stmt 1 view .LVU966
 3241 0086 F1E7     		b	.L258
 3242              	.LVL310:
 3243              	.L262:
2532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3244              		.loc 1 2532 23 is_stmt 0 view .LVU967
 3245 0088 0023     		movs	r3, #0
 3246 008a FAE7     		b	.L259
 3247              	.L254:
2537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3248              		.loc 1 2537 7 is_stmt 1 view .LVU968
2537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       check_waiters = 0;
 3249              		.loc 1 2537 23 is_stmt 0 view .LVU969
 3250 008c 0023     		movs	r3, #0
 3251 008e 6B81     		strh	r3, [r5, #10]	@ movhi
2538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3252              		.loc 1 2538 7 is_stmt 1 view .LVU970
 3253              	.LVL311:
2539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case NETCONN_EVT_ERROR:
 3254              		.loc 1 2539 7 view .LVU971
 3255 0090 ECE7     		b	.L258
 3256              	.LVL312:
 3257              	.L252:
2541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3258              		.loc 1 2541 7 view .LVU972
2541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3259              		.loc 1 2541 22 is_stmt 0 view .LVU973
 3260 0092 0123     		movs	r3, #1
 3261 0094 AB81     		strh	r3, [r5, #12]	@ movhi
2542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
 3262              		.loc 1 2542 7 is_stmt 1 view .LVU974
 3263 0096 E9E7     		b	.L258
 3264              	.L251:
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3265              		.loc 1 2544 7 discriminator 1 view .LVU975
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3266              		.loc 1 2544 7 discriminator 1 view .LVU976
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3267              		.loc 1 2544 7 discriminator 1 view .LVU977
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3268              		.loc 1 2544 7 discriminator 1 view .LVU978
 3269 0098 124B     		ldr	r3, .L271
 3270 009a 4FF41F62 		mov	r2, #2544
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 125


 3271 009e 1249     		ldr	r1, .L271+4
 3272 00a0 1248     		ldr	r0, .L271+8
 3273              	.LVL313:
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3274              		.loc 1 2544 7 is_stmt 0 discriminator 1 view .LVU979
 3275 00a2 FFF7FEFF 		bl	printf
 3276              	.LVL314:
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3277              		.loc 1 2544 7 is_stmt 1 discriminator 1 view .LVU980
2544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 3278              		.loc 1 2544 7 discriminator 1 view .LVU981
2545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3279              		.loc 1 2545 7 discriminator 1 view .LVU982
2516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_PROTECT(lev);
 3280              		.loc 1 2516 17 is_stmt 0 discriminator 1 view .LVU983
 3281 00a6 0123     		movs	r3, #1
2545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3282              		.loc 1 2545 7 discriminator 1 view .LVU984
 3283 00a8 E0E7     		b	.L258
 3284              	.LVL315:
 3285              	.L270:
 3286              	.LBB26:
2550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_recvevent = sock->rcvevent > 0;
 3287              		.loc 1 2550 5 is_stmt 1 view .LVU985
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
 3288              		.loc 1 2551 5 view .LVU986
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
 3289              		.loc 1 2551 25 is_stmt 0 view .LVU987
 3290 00aa B5F90840 		ldrsh	r4, [r5, #8]
2551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_sendevent = sock->sendevent != 0;
 3291              		.loc 1 2551 36 view .LVU988
 3292 00ae 002C     		cmp	r4, #0
 3293 00b0 D4BF     		ite	le
 3294 00b2 0024     		movle	r4, #0
 3295 00b4 0124     		movgt	r4, #1
 3296              	.LVL316:
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_errevent = sock->errevent != 0;
 3297              		.loc 1 2552 5 is_stmt 1 view .LVU989
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_errevent = sock->errevent != 0;
 3298              		.loc 1 2552 25 is_stmt 0 view .LVU990
 3299 00b6 B5F80A80 		ldrh	r8, [r5, #10]
2552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     has_errevent = sock->errevent != 0;
 3300              		.loc 1 2552 37 view .LVU991
 3301 00ba B8F10008 		subs	r8, r8, #0
 3302 00be 18BF     		it	ne
 3303 00c0 4FF00108 		movne	r8, #1
 3304              	.LVL317:
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 3305              		.loc 1 2553 5 is_stmt 1 view .LVU992
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 3306              		.loc 1 2553 24 is_stmt 0 view .LVU993
 3307 00c4 AD89     		ldrh	r5, [r5, #12]
 3308              	.LVL318:
2553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SYS_ARCH_UNPROTECT(lev);
 3309              		.loc 1 2553 35 view .LVU994
 3310 00c6 003D     		subs	r5, r5, #0
 3311 00c8 18BF     		it	ne
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 126


 3312 00ca 0125     		movne	r5, #1
 3313              	.LVL319:
2554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Check any select calls waiting on this socket */
 3314              		.loc 1 2554 5 is_stmt 1 view .LVU995
 3315 00cc 3846     		mov	r0, r7
 3316 00ce FFF7FEFF 		bl	sys_arch_unprotect
 3317              	.LVL320:
2556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 3318              		.loc 1 2556 5 view .LVU996
 3319 00d2 2B46     		mov	r3, r5
 3320 00d4 4246     		mov	r2, r8
 3321 00d6 2146     		mov	r1, r4
 3322 00d8 3046     		mov	r0, r6
 3323 00da FFF7FEFF 		bl	select_check_waiters
 3324              	.LVL321:
 3325              	.LBE26:
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3326              		.loc 1 2548 46 is_stmt 0 view .LVU997
 3327 00de CBE7     		b	.L246
 3328              	.LVL322:
 3329              	.L264:
 3330              	.LCFI47:
 3331              		.cfi_def_cfa_offset 0
 3332              		.cfi_restore 4
 3333              		.cfi_restore 5
 3334              		.cfi_restore 6
 3335              		.cfi_restore 7
 3336              		.cfi_restore 8
 3337              		.cfi_restore 14
2548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Save which events are active */
 3338              		.loc 1 2548 46 view .LVU998
 3339 00e0 7047     		bx	lr
 3340              	.L272:
 3341 00e2 00BF     		.align	2
 3342              	.L271:
 3343 00e4 00000000 		.word	.LC0
 3344 00e8 00000000 		.word	.LC18
 3345 00ec 48000000 		.word	.LC2
 3346              		.cfi_endproc
 3347              	.LFE403:
 3349              		.section	.text.lwip_getsockopt_impl,"ax",%progbits
 3350              		.align	1
 3351              		.syntax unified
 3352              		.thumb
 3353              		.thumb_func
 3355              	lwip_getsockopt_impl:
 3356              	.LVL323:
 3357              	.LFB411:
2877:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2878:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_getsockopt_impl: the actual implementation of getsockopt:
2879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * same argument as lwip_getsockopt, either called directly or through callback
2880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
2881:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
2882:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_getsockopt_impl(int s, int level, int optname, void *optval, socklen_t *optlen)
2883:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 3358              		.loc 1 2883 1 is_stmt 1 view -0
 3359              		.cfi_startproc
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 127


 3360              		@ args = 4, pretend = 0, frame = 0
 3361              		@ frame_needed = 0, uses_anonymous_args = 0
 3362              		.loc 1 2883 1 is_stmt 0 view .LVU1000
 3363 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3364              	.LCFI48:
 3365              		.cfi_def_cfa_offset 24
 3366              		.cfi_offset 3, -24
 3367              		.cfi_offset 4, -20
 3368              		.cfi_offset 5, -16
 3369              		.cfi_offset 6, -12
 3370              		.cfi_offset 7, -8
 3371              		.cfi_offset 14, -4
 3372 0002 0C46     		mov	r4, r1
 3373 0004 1546     		mov	r5, r2
 3374 0006 1E46     		mov	r6, r3
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
 3375              		.loc 1 2884 3 is_stmt 1 view .LVU1001
 3376              	.LVL324:
2885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3377              		.loc 1 2885 3 view .LVU1002
 3378              		.loc 1 2885 28 is_stmt 0 view .LVU1003
 3379 0008 FFF7FEFF 		bl	tryget_socket
 3380              	.LVL325:
2886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 3381              		.loc 1 2886 3 is_stmt 1 view .LVU1004
 3382              		.loc 1 2886 6 is_stmt 0 view .LVU1005
 3383 000c 0028     		cmp	r0, #0
 3384 000e 00F0E680 		beq	.L293
 3385 0012 0746     		mov	r7, r0
2887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return EBADF;
2888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2889:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2890:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifdef LWIP_HOOK_SOCKETS_GETSOCKOPT
2891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (LWIP_HOOK_SOCKETS_GETSOCKOPT(s, sock, level, optname, optval, optlen, &err)) {
2892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return err;
2893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
2894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
2895:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2896:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (level) {
 3386              		.loc 1 2896 3 is_stmt 1 view .LVU1006
 3387 0014 062C     		cmp	r4, #6
 3388 0016 00F0BF80 		beq	.L275
 3389 001a 40F6FF73 		movw	r3, #4095
 3390 001e 9C42     		cmp	r4, r3
 3391 0020 04D0     		beq	.L276
 3392 0022 002C     		cmp	r4, #0
 3393 0024 00F09880 		beq	.L277
 3394 0028 5C20     		movs	r0, #92
 3395              	.LVL326:
 3396              	.L273:
2897:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: SOL_SOCKET */
2899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOL_SOCKET:
2900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
2901:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2902:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
2903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_ACCEPTCONN:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 128


2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
2905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
2906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
2908:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((sock->conn->pcb.tcp != NULL) && (sock->conn->pcb.tcp->state == LISTEN)) {
2910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 1;
2911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 0;
2913:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2914:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2915:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
2916:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2917:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* The option flags */
2918:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_BROADCAST:
2919:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_KEEPALIVE:
2920:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if SO_REUSE
2921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_REUSEADDR:
2922:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* SO_REUSE */
2923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((optname == SO_BROADCAST) &&
2924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
2925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
2926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
2927:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           optname = lwip_sockopt_to_ipopt(optname);
2930:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
2932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
2933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
2934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname, (*(int *)optval ? "on" : "off")));
2935:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2936:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2937:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_TYPE:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
2939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
2940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
2941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               *(int *)optval = SOCK_RAW;
2942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
2943:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_TCP:
2944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               *(int *)optval = SOCK_STREAM;
2945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
2946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_UDP:
2947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               *(int *)optval = SOCK_DGRAM;
2948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
2949:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             default: /* unrecognized socket type */
2950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               *(int *)optval = netconn_type(sock->conn);
2951:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               LWIP_DEBUGF(SOCKETS_DEBUG,
2952:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                           ("lwip_getsockopt(%d, SOL_SOCKET, SO_TYPE): unrecognized socket type %d\n
2953:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                            s, *(int *)optval));
2954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }  /* switch (netconn_type(sock->conn)) */
2955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_TYPE) = %d\n",
2956:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
2957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2958:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_ERROR:
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN(sock, *optlen, int);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 129


2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
2962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
2963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
2964:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2965:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
2966:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_SNDTIMEO
2967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_SNDTIMEO:
2968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
2969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SO_SNDRCVTIMEO_SET(optval, netconn_get_sendtimeout(sock->conn));
2970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2971:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_SNDTIMEO */
2972:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVTIMEO
2973:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_RCVTIMEO:
2974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
2975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SO_SNDRCVTIMEO_SET(optval, netconn_get_recvtimeout(sock->conn));
2976:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2977:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVTIMEO */
2978:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
2979:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_RCVBUF:
2980:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
2981:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = netconn_get_recvbufsize(sock->conn);
2982:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
2983:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
2984:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_LINGER
2985:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_LINGER: {
2986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           s16_t conn_linger;
2987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct linger *linger = (struct linger *)optval;
2988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, struct linger);
2989:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           conn_linger = sock->conn->linger;
2990:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (conn_linger >= 0) {
2991:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             linger->l_onoff = 1;
2992:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             linger->l_linger = (int)conn_linger;
2993:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
2994:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             linger->l_onoff = 0;
2995:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             linger->l_linger = 0;
2996:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
2997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
2998:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
2999:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_LINGER */
3000:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP
3001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_NO_CHECK:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_UDP);
3003:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
3004:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (udp_is_flag_set(sock->conn->pcb.udp, UDP_FLAGS_UDPLITE)) {
3005:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* this flag is only available for UDP, not for UDP lite */
3006:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EAFNOSUPPORT;
3008:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3009:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDPLITE */
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = udp_is_flag_set(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM) ? 1 : 0;
3011:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3012:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
3013:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3014:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, UNIMPL: optname=0x%x, ..)\n"
3015:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3016:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 130


3018:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3019:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3020:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_IP */
3022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_IP:
3023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3024:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
3026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
3027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
3028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3030:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
3032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
3033:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
3034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3035:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3036:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
3037:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_TTL:
3038:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, u8_t);
3039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_UDP) {
3040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
3042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(u8_t *)optval = udp_get_multicast_ttl(sock->conn->pcb.udp);
3044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_TTL) = %d\n",
3045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_IF:
3048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, struct in_addr);
3049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_UDP) {
3050:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
3052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3053:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_from_ip4addr((struct in_addr *)optval, udp_get_multicast_netif_addr(sock->conn-
3054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_IF) = 0x%"X32_F
3055:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(u32_t *)optval));
3056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3057:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_LOOP:
3058:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, u8_t);
3059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((sock->conn->pcb.udp->flags & UDP_FLAGS_MULTICAST_LOOP) != 0) {
3060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(u8_t *)optval = 1;
3061:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3062:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(u8_t *)optval = 0;
3063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3064:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_MULTICAST_LOOP) = %d\n",
3065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3067:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP */
3068:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3069:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, UNIMPL: optname=0x%x, ..)\n"
3070:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3071:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3073:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3074:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 131


3075:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3076:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
3077:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_TCP */
3078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_TCP:
3079:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Special case: all IPPROTO_TCP option take an int */
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_TCP);
3081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
3082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return EINVAL;
3084:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3086:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
3087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = tcp_nagle_disabled(sock->conn->pcb.tcp);
3088:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
3089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(int *)optval) ? "on" : "off") );
3090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3091:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPALIVE:
3092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (int)sock->conn->pcb.tcp->keep_idle;
3093:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
3094:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3095:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3096:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3097:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP_KEEPALIVE
3098:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPIDLE:
3099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (int)(sock->conn->pcb.tcp->keep_idle / 1000);
3100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPIDLE) = %d\n",
3101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPINTVL:
3104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (int)(sock->conn->pcb.tcp->keep_intvl / 1000);
3105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPINTVL) = %d\n",
3106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3107:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPCNT:
3109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (int)sock->conn->pcb.tcp->keep_cnt;
3110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPCNT) = %d\n",
3111:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
3112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3113:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP_KEEPALIVE */
3114:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, UNIMPL: optname=0x%x, ..)\n
3116:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3119:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3120:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3121:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP */
3122:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
3124:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_IPV6 */
3125:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_IPV6:
3126:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3127:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_V6ONLY:
3128:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, *optlen, int);
3129:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = (netconn_get_ipv6only(sock->conn) ? 1 : 0);
3130:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IPV6, IPV6_V6ONLY) = %d\n",
3131:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, *(int *)optval));
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 132


3132:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3133:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3134:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IPV6, UNIMPL: optname=0x%x, ..)\
3135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3136:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3137:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3138:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3139:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3140:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
3141:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3142:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP && LWIP_UDPLITE
3143:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_UDPLITE */
3144:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_UDPLITE:
3145:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Special case: all IPPROTO_UDPLITE option take an int */
3146:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, *optlen, int);
3147:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* If this is no UDP lite socket, ignore any options. */
3148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (!NETCONNTYPE_ISUDPLITE(netconn_type(sock->conn))) {
3149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3150:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return ENOPROTOOPT;
3151:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3152:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3153:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case UDPLITE_SEND_CSCOV:
3154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.udp->chksum_len_tx;
3155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UDPLITE_SEND_CSCOV) = %
3156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(int *)optval)) );
3157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3158:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case UDPLITE_RECV_CSCOV:
3159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.udp->chksum_len_rx;
3160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UDPLITE_RECV_CSCOV) = %
3161:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(int *)optval)) );
3162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3164:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_UDPLITE, UNIMPL: optname=0x%x, .
3165:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3166:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3167:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3168:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3169:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3170:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP */
3171:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_RAW */
3172:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_RAW:
3173:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3174:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6 && LWIP_RAW
3175:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_CHECKSUM:
3176:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, *optlen, int, NETCONN_RAW);
3177:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->conn->pcb.raw->chksum_reqd == 0) {
3178:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = -1;
3179:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3180:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = sock->conn->pcb.raw->chksum_offset;
3181:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3182:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_RAW, IPV6_CHECKSUM) = %d\n",
3183:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(int *)optval)) );
3184:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3185:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 && LWIP_RAW */
3186:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3187:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_RAW, UNIMPL: optname=0x%x, ..)\n
3188:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 133


3189:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3190:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3191:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3192:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3193:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3194:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, level=0x%x, UNIMPL: optname=0x%x, ..)\n",
3195:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, level, optname));
3196:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
3197:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3198:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } /* switch (level) */
3199:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3200:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err;
3202:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 3397              		.loc 1 3202 1 is_stmt 0 view .LVU1007
 3398 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3399              	.LVL327:
 3400              	.L276:
2900:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3401              		.loc 1 2900 7 is_stmt 1 view .LVU1008
 3402 002c 41F20703 		movw	r3, #4103
 3403 0030 9D42     		cmp	r5, r3
 3404 0032 00F08580 		beq	.L278
 3405 0036 20DC     		bgt	.L279
 3406 0038 082D     		cmp	r5, #8
 3407 003a 44D0     		beq	.L280
 3408 003c 202D     		cmp	r5, #32
 3409 003e 42D0     		beq	.L280
 3410 0040 022D     		cmp	r5, #2
 3411 0042 18D1     		bne	.L323
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3412              		.loc 1 2904 11 view .LVU1009
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3413              		.loc 1 2904 11 view .LVU1010
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3414              		.loc 1 2904 11 view .LVU1011
 3415 0044 069B     		ldr	r3, [sp, #24]
 3416 0046 1B68     		ldr	r3, [r3]
 3417 0048 032B     		cmp	r3, #3
 3418 004a 40F2CA80 		bls	.L294
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3419              		.loc 1 2904 11 discriminator 2 view .LVU1012
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3420              		.loc 1 2904 11 discriminator 2 view .LVU1013
 3421 004e 0368     		ldr	r3, [r0]
 3422 0050 002B     		cmp	r3, #0
 3423 0052 00F0C880 		beq	.L295
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3424              		.loc 1 2904 11 is_stmt 0 discriminator 4 view .LVU1014
 3425 0056 5A68     		ldr	r2, [r3, #4]
 3426 0058 002A     		cmp	r2, #0
 3427 005a 00F0C680 		beq	.L296
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3428              		.loc 1 2904 11 is_stmt 1 discriminator 6 view .LVU1015
2905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 3429              		.loc 1 2905 11 discriminator 6 view .LVU1016
2905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 134


 3430              		.loc 1 2905 15 is_stmt 0 discriminator 6 view .LVU1017
 3431 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 3432              		.loc 1 2905 14 discriminator 6 view .LVU1018
 3433 0060 03F0F003 		and	r3, r3, #240
 3434 0064 102B     		cmp	r3, #16
 3435 0066 40F0C280 		bne	.L297
2909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 1;
 3436              		.loc 1 2909 11 is_stmt 1 discriminator 1 view .LVU1019
2909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 1;
 3437              		.loc 1 2909 68 is_stmt 0 discriminator 1 view .LVU1020
 3438 006a 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
2909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *(int *)optval = 1;
 3439              		.loc 1 2909 45 discriminator 1 view .LVU1021
 3440 006c 012B     		cmp	r3, #1
 3441 006e 27D0     		beq	.L324
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3442              		.loc 1 2912 13 is_stmt 1 view .LVU1022
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3443              		.loc 1 2912 28 is_stmt 0 view .LVU1023
 3444 0070 0020     		movs	r0, #0
 3445              	.LVL328:
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3446              		.loc 1 2912 28 view .LVU1024
 3447 0072 3060     		str	r0, [r6]
 3448 0074 D9E7     		b	.L273
 3449              	.LVL329:
 3450              	.L323:
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3451              		.loc 1 2912 28 view .LVU1025
 3452 0076 5C20     		movs	r0, #92
 3453              	.LVL330:
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3454              		.loc 1 2912 28 view .LVU1026
 3455 0078 D7E7     		b	.L273
 3456              	.LVL331:
 3457              	.L279:
2912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3458              		.loc 1 2912 28 view .LVU1027
 3459 007a 41F20803 		movw	r3, #4104
 3460 007e 9D42     		cmp	r5, r3
 3461 0080 3FD0     		beq	.L282
 3462 0082 41F20A03 		movw	r3, #4106
 3463 0086 9D42     		cmp	r5, r3
 3464 0088 18D1     		bne	.L325
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3465              		.loc 1 3002 11 is_stmt 1 view .LVU1028
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3466              		.loc 1 3002 11 view .LVU1029
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3467              		.loc 1 3002 11 view .LVU1030
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3468              		.loc 1 3002 11 view .LVU1031
 3469 008a 069B     		ldr	r3, [sp, #24]
 3470 008c 1B68     		ldr	r3, [r3]
 3471 008e 032B     		cmp	r3, #3
 3472 0090 40F2BD80 		bls	.L305
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 135


3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3473              		.loc 1 3002 11 discriminator 2 view .LVU1032
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3474              		.loc 1 3002 11 discriminator 2 view .LVU1033
 3475 0094 0368     		ldr	r3, [r0]
 3476 0096 002B     		cmp	r3, #0
 3477 0098 00F0BB80 		beq	.L306
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3478              		.loc 1 3002 11 is_stmt 0 discriminator 4 view .LVU1034
 3479 009c 5A68     		ldr	r2, [r3, #4]
 3480 009e 002A     		cmp	r2, #0
 3481 00a0 00F0B980 		beq	.L307
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3482              		.loc 1 3002 11 is_stmt 1 discriminator 6 view .LVU1035
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3483              		.loc 1 3002 11 discriminator 6 view .LVU1036
 3484 00a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3485 00a6 03F0F003 		and	r3, r3, #240
 3486 00aa 202B     		cmp	r3, #32
 3487 00ac 40F0B580 		bne	.L308
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3488              		.loc 1 3002 11 discriminator 8 view .LVU1037
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3489              		.loc 1 3010 11 discriminator 8 view .LVU1038
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3490              		.loc 1 3010 28 is_stmt 0 discriminator 8 view .LVU1039
 3491 00b0 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3492              		.loc 1 3010 89 discriminator 8 view .LVU1040
 3493 00b2 03F00103 		and	r3, r3, #1
3010:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3494              		.loc 1 3010 26 discriminator 8 view .LVU1041
 3495 00b6 3360     		str	r3, [r6]
3011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
 3496              		.loc 1 3011 11 is_stmt 1 discriminator 8 view .LVU1042
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3497              		.loc 1 2884 7 is_stmt 0 discriminator 8 view .LVU1043
 3498 00b8 0020     		movs	r0, #0
 3499              	.LVL332:
3011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
 3500              		.loc 1 3011 11 discriminator 8 view .LVU1044
 3501 00ba B6E7     		b	.L273
 3502              	.LVL333:
 3503              	.L325:
3011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
 3504              		.loc 1 3011 11 discriminator 8 view .LVU1045
 3505 00bc 5C20     		movs	r0, #92
 3506              	.LVL334:
3011:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP*/
 3507              		.loc 1 3011 11 discriminator 8 view .LVU1046
 3508 00be B4E7     		b	.L273
 3509              	.LVL335:
 3510              	.L324:
2910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 3511              		.loc 1 2910 13 is_stmt 1 view .LVU1047
2910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 3512              		.loc 1 2910 28 is_stmt 0 view .LVU1048
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 136


 3513 00c0 3360     		str	r3, [r6]
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3514              		.loc 1 2884 7 view .LVU1049
 3515 00c2 0020     		movs	r0, #0
 3516              	.LVL336:
2910:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 3517              		.loc 1 2910 28 view .LVU1050
 3518 00c4 B1E7     		b	.L273
 3519              	.LVL337:
 3520              	.L280:
2923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3521              		.loc 1 2923 11 is_stmt 1 view .LVU1051
2923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3522              		.loc 1 2923 14 is_stmt 0 view .LVU1052
 3523 00c6 202D     		cmp	r5, #32
 3524 00c8 06D1     		bne	.L285
2924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 3525              		.loc 1 2924 16 discriminator 1 view .LVU1053
 3526 00ca 3B68     		ldr	r3, [r7]
 3527 00cc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 3528              		.loc 1 2923 41 discriminator 1 view .LVU1054
 3529 00ce 03F0F003 		and	r3, r3, #240
 3530 00d2 202B     		cmp	r3, #32
 3531 00d4 40F08D80 		bne	.L298
 3532              	.L285:
2929:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3533              		.loc 1 2929 11 is_stmt 1 view .LVU1055
2929:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3534              		.loc 1 2929 21 is_stmt 0 view .LVU1056
 3535 00d8 2846     		mov	r0, r5
 3536              	.LVL338:
2929:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3537              		.loc 1 2929 21 view .LVU1057
 3538 00da FFF7FEFF 		bl	lwip_sockopt_to_ipopt
 3539              	.LVL339:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3540              		.loc 1 2931 11 is_stmt 1 view .LVU1058
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3541              		.loc 1 2931 11 view .LVU1059
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3542              		.loc 1 2931 11 view .LVU1060
 3543 00de 069B     		ldr	r3, [sp, #24]
 3544 00e0 1B68     		ldr	r3, [r3]
 3545 00e2 032B     		cmp	r3, #3
 3546 00e4 40F28780 		bls	.L299
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3547              		.loc 1 2931 11 discriminator 2 view .LVU1061
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3548              		.loc 1 2931 11 discriminator 2 view .LVU1062
 3549 00e8 3B68     		ldr	r3, [r7]
 3550 00ea 002B     		cmp	r3, #0
 3551 00ec 00F08580 		beq	.L300
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3552              		.loc 1 2931 11 is_stmt 0 discriminator 4 view .LVU1063
 3553 00f0 5B68     		ldr	r3, [r3, #4]
 3554 00f2 002B     		cmp	r3, #0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 137


 3555 00f4 00F08380 		beq	.L301
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3556              		.loc 1 2931 11 is_stmt 1 discriminator 6 view .LVU1064
2932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 3557              		.loc 1 2932 11 discriminator 6 view .LVU1065
2932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 3558              		.loc 1 2932 28 is_stmt 0 discriminator 6 view .LVU1066
 3559 00f8 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 3560 00fa 1840     		ands	r0, r0, r3
 3561              	.LVL340:
2932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, optname=0x%x, ..) = %s\n",
 3562              		.loc 1 2932 26 discriminator 6 view .LVU1067
 3563 00fc 3060     		str	r0, [r6]
2934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3564              		.loc 1 2934 84 is_stmt 1 discriminator 6 view .LVU1068
2935:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3565              		.loc 1 2935 11 discriminator 6 view .LVU1069
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3566              		.loc 1 2884 7 is_stmt 0 discriminator 6 view .LVU1070
 3567 00fe 0020     		movs	r0, #0
2935:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3568              		.loc 1 2935 11 discriminator 6 view .LVU1071
 3569 0100 93E7     		b	.L273
 3570              	.LVL341:
 3571              	.L282:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3572              		.loc 1 2938 11 is_stmt 1 view .LVU1072
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3573              		.loc 1 2938 11 view .LVU1073
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3574              		.loc 1 2938 11 view .LVU1074
 3575 0102 069B     		ldr	r3, [sp, #24]
 3576 0104 1B68     		ldr	r3, [r3]
 3577 0106 032B     		cmp	r3, #3
 3578 0108 7BD9     		bls	.L302
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3579              		.loc 1 2938 11 discriminator 2 view .LVU1075
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3580              		.loc 1 2938 11 discriminator 2 view .LVU1076
 3581 010a 0368     		ldr	r3, [r0]
 3582 010c 002B     		cmp	r3, #0
 3583 010e 7AD0     		beq	.L303
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3584              		.loc 1 2938 11 discriminator 4 view .LVU1077
2939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
 3585              		.loc 1 2939 11 discriminator 4 view .LVU1078
2939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
 3586              		.loc 1 2939 19 is_stmt 0 discriminator 4 view .LVU1079
 3587 0110 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 3588 0112 02F0F003 		and	r3, r2, #240
 3589 0116 202B     		cmp	r3, #32
 3590 0118 0ED0     		beq	.L286
 3591 011a 402B     		cmp	r3, #64
 3592 011c 04D0     		beq	.L287
 3593 011e 102B     		cmp	r3, #16
 3594 0120 06D0     		beq	.L326
2950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               LWIP_DEBUGF(SOCKETS_DEBUG,
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 138


 3595              		.loc 1 2950 15 is_stmt 1 view .LVU1080
2950:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               LWIP_DEBUGF(SOCKETS_DEBUG,
 3596              		.loc 1 2950 30 is_stmt 0 view .LVU1081
 3597 0122 3260     		str	r2, [r6]
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3598              		.loc 1 2884 7 view .LVU1082
 3599 0124 0020     		movs	r0, #0
 3600              	.LVL342:
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3601              		.loc 1 2884 7 view .LVU1083
 3602 0126 80E7     		b	.L273
 3603              	.LVL343:
 3604              	.L287:
2941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3605              		.loc 1 2941 15 is_stmt 1 view .LVU1084
2941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3606              		.loc 1 2941 30 is_stmt 0 view .LVU1085
 3607 0128 0323     		movs	r3, #3
 3608 012a 3360     		str	r3, [r6]
2942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_TCP:
 3609              		.loc 1 2942 15 is_stmt 1 view .LVU1086
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3610              		.loc 1 2884 7 is_stmt 0 view .LVU1087
 3611 012c 0020     		movs	r0, #0
 3612              	.LVL344:
2942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_TCP:
 3613              		.loc 1 2942 15 view .LVU1088
 3614 012e 7CE7     		b	.L273
 3615              	.LVL345:
 3616              	.L326:
2944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3617              		.loc 1 2944 15 is_stmt 1 view .LVU1089
2944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3618              		.loc 1 2944 30 is_stmt 0 view .LVU1090
 3619 0130 0123     		movs	r3, #1
 3620 0132 3360     		str	r3, [r6]
2945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_UDP:
 3621              		.loc 1 2945 15 is_stmt 1 view .LVU1091
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3622              		.loc 1 2884 7 is_stmt 0 view .LVU1092
 3623 0134 0020     		movs	r0, #0
 3624              	.LVL346:
2945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_UDP:
 3625              		.loc 1 2945 15 view .LVU1093
 3626 0136 78E7     		b	.L273
 3627              	.LVL347:
 3628              	.L286:
2947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3629              		.loc 1 2947 15 is_stmt 1 view .LVU1094
2947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 3630              		.loc 1 2947 30 is_stmt 0 view .LVU1095
 3631 0138 0223     		movs	r3, #2
 3632 013a 3360     		str	r3, [r6]
2948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             default: /* unrecognized socket type */
 3633              		.loc 1 2948 15 is_stmt 1 view .LVU1096
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3634              		.loc 1 2884 7 is_stmt 0 view .LVU1097
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 139


 3635 013c 0020     		movs	r0, #0
 3636              	.LVL348:
2948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             default: /* unrecognized socket type */
 3637              		.loc 1 2948 15 view .LVU1098
 3638 013e 74E7     		b	.L273
 3639              	.LVL349:
 3640              	.L278:
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3641              		.loc 1 2960 11 is_stmt 1 view .LVU1099
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3642              		.loc 1 2960 11 view .LVU1100
 3643 0140 069B     		ldr	r3, [sp, #24]
 3644 0142 1B68     		ldr	r3, [r3]
 3645 0144 032B     		cmp	r3, #3
 3646 0146 60D9     		bls	.L304
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3647              		.loc 1 2960 11 discriminator 2 view .LVU1101
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3648              		.loc 1 2961 11 discriminator 2 view .LVU1102
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3649              		.loc 1 2961 28 is_stmt 0 discriminator 2 view .LVU1103
 3650 0148 0068     		ldr	r0, [r0]
 3651              	.LVL350:
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3652              		.loc 1 2961 28 discriminator 2 view .LVU1104
 3653 014a FFF7FEFF 		bl	netconn_err
 3654              	.LVL351:
 3655 014e FFF7FEFF 		bl	err_to_errno
 3656              	.LVL352:
2961:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, SOL_SOCKET, SO_ERROR) = %d\n",
 3657              		.loc 1 2961 26 discriminator 2 view .LVU1105
 3658 0152 3060     		str	r0, [r6]
2963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3659              		.loc 1 2963 58 is_stmt 1 discriminator 2 view .LVU1106
2964:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3660              		.loc 1 2964 11 discriminator 2 view .LVU1107
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3661              		.loc 1 2884 7 is_stmt 0 discriminator 2 view .LVU1108
 3662 0154 0020     		movs	r0, #0
2964:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3663              		.loc 1 2964 11 discriminator 2 view .LVU1109
 3664 0156 68E7     		b	.L273
 3665              	.LVL353:
 3666              	.L277:
3023:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
 3667              		.loc 1 3023 7 is_stmt 1 view .LVU1110
 3668 0158 012D     		cmp	r5, #1
 3669 015a 0FD0     		beq	.L290
 3670 015c 022D     		cmp	r5, #2
 3671 015e 5ED1     		bne	.L309
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3672              		.loc 1 3025 11 view .LVU1111
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3673              		.loc 1 3025 11 view .LVU1112
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3674              		.loc 1 3025 11 view .LVU1113
 3675 0160 069B     		ldr	r3, [sp, #24]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 140


 3676 0162 1B68     		ldr	r3, [r3]
 3677 0164 032B     		cmp	r3, #3
 3678 0166 5CD9     		bls	.L310
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3679              		.loc 1 3025 11 discriminator 2 view .LVU1114
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3680              		.loc 1 3025 11 discriminator 2 view .LVU1115
 3681 0168 0368     		ldr	r3, [r0]
 3682 016a 002B     		cmp	r3, #0
 3683 016c 5BD0     		beq	.L311
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3684              		.loc 1 3025 11 is_stmt 0 discriminator 4 view .LVU1116
 3685 016e 5B68     		ldr	r3, [r3, #4]
 3686 0170 002B     		cmp	r3, #0
 3687 0172 5AD0     		beq	.L312
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3688              		.loc 1 3025 11 is_stmt 1 discriminator 6 view .LVU1117
3026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
 3689              		.loc 1 3026 11 discriminator 6 view .LVU1118
3026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
 3690              		.loc 1 3026 46 is_stmt 0 discriminator 6 view .LVU1119
 3691 0174 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
3026:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TTL) = %d\n",
 3692              		.loc 1 3026 26 discriminator 6 view .LVU1120
 3693 0176 3360     		str	r3, [r6]
3028:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3694              		.loc 1 3028 58 is_stmt 1 discriminator 6 view .LVU1121
3029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
 3695              		.loc 1 3029 11 discriminator 6 view .LVU1122
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3696              		.loc 1 2884 7 is_stmt 0 discriminator 6 view .LVU1123
 3697 0178 2046     		mov	r0, r4
 3698              	.LVL354:
3029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
 3699              		.loc 1 3029 11 discriminator 6 view .LVU1124
 3700 017a 56E7     		b	.L273
 3701              	.LVL355:
 3702              	.L290:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3703              		.loc 1 3031 11 is_stmt 1 view .LVU1125
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3704              		.loc 1 3031 11 view .LVU1126
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3705              		.loc 1 3031 11 view .LVU1127
 3706 017c 069B     		ldr	r3, [sp, #24]
 3707 017e 1B68     		ldr	r3, [r3]
 3708 0180 032B     		cmp	r3, #3
 3709 0182 54D9     		bls	.L313
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3710              		.loc 1 3031 11 discriminator 2 view .LVU1128
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3711              		.loc 1 3031 11 discriminator 2 view .LVU1129
 3712 0184 0368     		ldr	r3, [r0]
 3713 0186 002B     		cmp	r3, #0
 3714 0188 53D0     		beq	.L314
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3715              		.loc 1 3031 11 is_stmt 0 discriminator 4 view .LVU1130
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 141


 3716 018a 5B68     		ldr	r3, [r3, #4]
 3717 018c 002B     		cmp	r3, #0
 3718 018e 52D0     		beq	.L315
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3719              		.loc 1 3031 11 is_stmt 1 discriminator 6 view .LVU1131
3032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 3720              		.loc 1 3032 11 discriminator 6 view .LVU1132
3032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 3721              		.loc 1 3032 46 is_stmt 0 discriminator 6 view .LVU1133
 3722 0190 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
3032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_IP, IP_TOS) = %d\n",
 3723              		.loc 1 3032 26 discriminator 6 view .LVU1134
 3724 0192 3360     		str	r3, [r6]
3034:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3725              		.loc 1 3034 58 is_stmt 1 discriminator 6 view .LVU1135
3035:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
 3726              		.loc 1 3035 11 discriminator 6 view .LVU1136
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3727              		.loc 1 2884 7 is_stmt 0 discriminator 6 view .LVU1137
 3728 0194 2046     		mov	r0, r4
 3729              	.LVL356:
3035:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
 3730              		.loc 1 3035 11 discriminator 6 view .LVU1138
 3731 0196 48E7     		b	.L273
 3732              	.LVL357:
 3733              	.L275:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3734              		.loc 1 3080 7 is_stmt 1 view .LVU1139
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3735              		.loc 1 3080 7 view .LVU1140
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3736              		.loc 1 3080 7 view .LVU1141
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3737              		.loc 1 3080 7 view .LVU1142
 3738 0198 069B     		ldr	r3, [sp, #24]
 3739 019a 1B68     		ldr	r3, [r3]
 3740 019c 032B     		cmp	r3, #3
 3741 019e 4CD9     		bls	.L316
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3742              		.loc 1 3080 7 discriminator 2 view .LVU1143
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3743              		.loc 1 3080 7 discriminator 2 view .LVU1144
 3744 01a0 0368     		ldr	r3, [r0]
 3745 01a2 002B     		cmp	r3, #0
 3746 01a4 4BD0     		beq	.L317
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3747              		.loc 1 3080 7 is_stmt 0 discriminator 4 view .LVU1145
 3748 01a6 5A68     		ldr	r2, [r3, #4]
 3749 01a8 002A     		cmp	r2, #0
 3750 01aa 4AD0     		beq	.L318
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3751              		.loc 1 3080 7 is_stmt 1 discriminator 6 view .LVU1146
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3752              		.loc 1 3080 7 discriminator 6 view .LVU1147
 3753 01ac 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3754 01ae 03F0F003 		and	r3, r3, #240
 3755 01b2 102B     		cmp	r3, #16
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 142


 3756 01b4 47D1     		bne	.L319
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3757              		.loc 1 3080 7 discriminator 8 view .LVU1148
3081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 3758              		.loc 1 3081 7 discriminator 8 view .LVU1149
3081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 3759              		.loc 1 3081 30 is_stmt 0 discriminator 8 view .LVU1150
 3760 01b6 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
3081:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 3761              		.loc 1 3081 10 discriminator 8 view .LVU1151
 3762 01b8 012B     		cmp	r3, #1
 3763 01ba 46D0     		beq	.L320
3085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
 3764              		.loc 1 3085 7 is_stmt 1 view .LVU1152
 3765 01bc 012D     		cmp	r5, #1
 3766 01be 03D0     		beq	.L291
 3767 01c0 022D     		cmp	r5, #2
 3768 01c2 07D0     		beq	.L292
 3769 01c4 5C20     		movs	r0, #92
 3770              	.LVL358:
3085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
 3771              		.loc 1 3085 7 is_stmt 0 view .LVU1153
 3772 01c6 30E7     		b	.L273
 3773              	.LVL359:
 3774              	.L291:
3087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 3775              		.loc 1 3087 11 is_stmt 1 view .LVU1154
3087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 3776              		.loc 1 3087 28 is_stmt 0 view .LVU1155
 3777 01c8 538B     		ldrh	r3, [r2, #26]
 3778 01ca C3F38013 		ubfx	r3, r3, #6, #1
3087:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_NODELAY) = %s\n",
 3779              		.loc 1 3087 26 view .LVU1156
 3780 01ce 3360     		str	r3, [r6]
3089:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3781              		.loc 1 3089 76 is_stmt 1 view .LVU1157
3090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPALIVE:
 3782              		.loc 1 3090 11 view .LVU1158
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3783              		.loc 1 2884 7 is_stmt 0 view .LVU1159
 3784 01d0 0020     		movs	r0, #0
 3785              	.LVL360:
3090:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPALIVE:
 3786              		.loc 1 3090 11 view .LVU1160
 3787 01d2 2AE7     		b	.L273
 3788              	.LVL361:
 3789              	.L292:
3092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 3790              		.loc 1 3092 11 is_stmt 1 view .LVU1161
3092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 3791              		.loc 1 3092 52 is_stmt 0 view .LVU1162
 3792 01d4 D2F89430 		ldr	r3, [r2, #148]
3092:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_getsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) = %d\n",
 3793              		.loc 1 3092 26 view .LVU1163
 3794 01d8 3360     		str	r3, [r6]
3094:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 3795              		.loc 1 3094 58 is_stmt 1 view .LVU1164
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 143


3095:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3796              		.loc 1 3095 11 view .LVU1165
2884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 3797              		.loc 1 2884 7 is_stmt 0 view .LVU1166
 3798 01da 0020     		movs	r0, #0
 3799              	.LVL362:
3095:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 3800              		.loc 1 3095 11 view .LVU1167
 3801 01dc 25E7     		b	.L273
 3802              	.LVL363:
 3803              	.L293:
2887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3804              		.loc 1 2887 12 view .LVU1168
 3805 01de 0920     		movs	r0, #9
 3806              	.LVL364:
2887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 3807              		.loc 1 2887 12 view .LVU1169
 3808 01e0 23E7     		b	.L273
 3809              	.LVL365:
 3810              	.L294:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3811              		.loc 1 2904 11 view .LVU1170
 3812 01e2 1620     		movs	r0, #22
 3813              	.LVL366:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3814              		.loc 1 2904 11 view .LVU1171
 3815 01e4 21E7     		b	.L273
 3816              	.LVL367:
 3817              	.L295:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3818              		.loc 1 2904 11 view .LVU1172
 3819 01e6 1620     		movs	r0, #22
 3820              	.LVL368:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3821              		.loc 1 2904 11 view .LVU1173
 3822 01e8 1FE7     		b	.L273
 3823              	.LVL369:
 3824              	.L296:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3825              		.loc 1 2904 11 view .LVU1174
 3826 01ea 1620     		movs	r0, #22
 3827              	.LVL370:
2904:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_TCP) {
 3828              		.loc 1 2904 11 view .LVU1175
 3829 01ec 1DE7     		b	.L273
 3830              	.LVL371:
 3831              	.L297:
2907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3832              		.loc 1 2907 20 view .LVU1176
 3833 01ee 5C20     		movs	r0, #92
 3834              	.LVL372:
2907:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3835              		.loc 1 2907 20 view .LVU1177
 3836 01f0 1BE7     		b	.L273
 3837              	.LVL373:
 3838              	.L298:
2926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 144


 3839              		.loc 1 2926 20 view .LVU1178
 3840 01f2 5C20     		movs	r0, #92
 3841              	.LVL374:
2926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 3842              		.loc 1 2926 20 view .LVU1179
 3843 01f4 19E7     		b	.L273
 3844              	.LVL375:
 3845              	.L299:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3846              		.loc 1 2931 11 view .LVU1180
 3847 01f6 1620     		movs	r0, #22
 3848              	.LVL376:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3849              		.loc 1 2931 11 view .LVU1181
 3850 01f8 17E7     		b	.L273
 3851              	.LVL377:
 3852              	.L300:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3853              		.loc 1 2931 11 view .LVU1182
 3854 01fa 1620     		movs	r0, #22
 3855              	.LVL378:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3856              		.loc 1 2931 11 view .LVU1183
 3857 01fc 15E7     		b	.L273
 3858              	.LVL379:
 3859              	.L301:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3860              		.loc 1 2931 11 view .LVU1184
 3861 01fe 1620     		movs	r0, #22
 3862              	.LVL380:
2931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = ip_get_option(sock->conn->pcb.ip, optname);
 3863              		.loc 1 2931 11 view .LVU1185
 3864 0200 13E7     		b	.L273
 3865              	.LVL381:
 3866              	.L302:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3867              		.loc 1 2938 11 view .LVU1186
 3868 0202 1620     		movs	r0, #22
 3869              	.LVL382:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3870              		.loc 1 2938 11 view .LVU1187
 3871 0204 11E7     		b	.L273
 3872              	.LVL383:
 3873              	.L303:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3874              		.loc 1 2938 11 view .LVU1188
 3875 0206 1620     		movs	r0, #22
 3876              	.LVL384:
2938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
 3877              		.loc 1 2938 11 view .LVU1189
 3878 0208 0FE7     		b	.L273
 3879              	.LVL385:
 3880              	.L304:
2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3881              		.loc 1 2960 11 view .LVU1190
 3882 020a 1620     		movs	r0, #22
 3883              	.LVL386:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 145


2960:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = err_to_errno(netconn_err(sock->conn));
 3884              		.loc 1 2960 11 view .LVU1191
 3885 020c 0DE7     		b	.L273
 3886              	.LVL387:
 3887              	.L305:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3888              		.loc 1 3002 11 view .LVU1192
 3889 020e 1620     		movs	r0, #22
 3890              	.LVL388:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3891              		.loc 1 3002 11 view .LVU1193
 3892 0210 0BE7     		b	.L273
 3893              	.LVL389:
 3894              	.L306:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3895              		.loc 1 3002 11 view .LVU1194
 3896 0212 1620     		movs	r0, #22
 3897              	.LVL390:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3898              		.loc 1 3002 11 view .LVU1195
 3899 0214 09E7     		b	.L273
 3900              	.LVL391:
 3901              	.L307:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3902              		.loc 1 3002 11 view .LVU1196
 3903 0216 1620     		movs	r0, #22
 3904              	.LVL392:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3905              		.loc 1 3002 11 view .LVU1197
 3906 0218 07E7     		b	.L273
 3907              	.LVL393:
 3908              	.L308:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3909              		.loc 1 3002 11 view .LVU1198
 3910 021a 5C20     		movs	r0, #92
 3911              	.LVL394:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3912              		.loc 1 3002 11 view .LVU1199
 3913 021c 05E7     		b	.L273
 3914              	.LVL395:
 3915              	.L309:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3916              		.loc 1 3002 11 view .LVU1200
 3917 021e 5C20     		movs	r0, #92
 3918              	.LVL396:
3002:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 3919              		.loc 1 3002 11 view .LVU1201
 3920 0220 03E7     		b	.L273
 3921              	.LVL397:
 3922              	.L310:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3923              		.loc 1 3025 11 view .LVU1202
 3924 0222 1620     		movs	r0, #22
 3925              	.LVL398:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3926              		.loc 1 3025 11 view .LVU1203
 3927 0224 01E7     		b	.L273
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 146


 3928              	.LVL399:
 3929              	.L311:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3930              		.loc 1 3025 11 view .LVU1204
 3931 0226 1620     		movs	r0, #22
 3932              	.LVL400:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3933              		.loc 1 3025 11 view .LVU1205
 3934 0228 FFE6     		b	.L273
 3935              	.LVL401:
 3936              	.L312:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3937              		.loc 1 3025 11 view .LVU1206
 3938 022a 1620     		movs	r0, #22
 3939              	.LVL402:
3025:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->ttl;
 3940              		.loc 1 3025 11 view .LVU1207
 3941 022c FDE6     		b	.L273
 3942              	.LVL403:
 3943              	.L313:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3944              		.loc 1 3031 11 view .LVU1208
 3945 022e 1620     		movs	r0, #22
 3946              	.LVL404:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3947              		.loc 1 3031 11 view .LVU1209
 3948 0230 FBE6     		b	.L273
 3949              	.LVL405:
 3950              	.L314:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3951              		.loc 1 3031 11 view .LVU1210
 3952 0232 1620     		movs	r0, #22
 3953              	.LVL406:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3954              		.loc 1 3031 11 view .LVU1211
 3955 0234 F9E6     		b	.L273
 3956              	.LVL407:
 3957              	.L315:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3958              		.loc 1 3031 11 view .LVU1212
 3959 0236 1620     		movs	r0, #22
 3960              	.LVL408:
3031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *(int *)optval = sock->conn->pcb.ip->tos;
 3961              		.loc 1 3031 11 view .LVU1213
 3962 0238 F7E6     		b	.L273
 3963              	.LVL409:
 3964              	.L316:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3965              		.loc 1 3080 7 view .LVU1214
 3966 023a 1620     		movs	r0, #22
 3967              	.LVL410:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3968              		.loc 1 3080 7 view .LVU1215
 3969 023c F5E6     		b	.L273
 3970              	.LVL411:
 3971              	.L317:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 147


 3972              		.loc 1 3080 7 view .LVU1216
 3973 023e 1620     		movs	r0, #22
 3974              	.LVL412:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3975              		.loc 1 3080 7 view .LVU1217
 3976 0240 F3E6     		b	.L273
 3977              	.LVL413:
 3978              	.L318:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3979              		.loc 1 3080 7 view .LVU1218
 3980 0242 1620     		movs	r0, #22
 3981              	.LVL414:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3982              		.loc 1 3080 7 view .LVU1219
 3983 0244 F1E6     		b	.L273
 3984              	.LVL415:
 3985              	.L319:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3986              		.loc 1 3080 7 view .LVU1220
 3987 0246 5C20     		movs	r0, #92
 3988              	.LVL416:
3080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 3989              		.loc 1 3080 7 view .LVU1221
 3990 0248 EFE6     		b	.L273
 3991              	.LVL417:
 3992              	.L320:
3083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3993              		.loc 1 3083 16 view .LVU1222
 3994 024a 1620     		movs	r0, #22
 3995              	.LVL418:
3083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 3996              		.loc 1 3083 16 view .LVU1223
 3997 024c EDE6     		b	.L273
 3998              		.cfi_endproc
 3999              	.LFE411:
 4001              		.section	.rodata.lwip_setsockopt_impl.str1.4,"aMS",%progbits,1
 4002              		.align	2
 4003              	.LC19:
 4004 0000 556E6861 		.ascii	"Unhandled netconn type in SO_BINDTODEVICE\000"
 4004      6E646C65 
 4004      64206E65 
 4004      74636F6E 
 4004      6E207479 
 4005              		.section	.text.lwip_setsockopt_impl,"ax",%progbits
 4006              		.align	1
 4007              		.syntax unified
 4008              		.thumb
 4009              		.thumb_func
 4011              	lwip_setsockopt_impl:
 4012              	.LVL419:
 4013              	.LFB413:
3203:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3204:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3205:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_setsockopt(int s, int level, int optname, const void *optval, socklen_t optlen)
3206:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
3207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
3208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 148


3209:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
3210:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t cberr;
3211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_DECLARE(data);
3212:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
3213:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
3215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3216:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3217:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (NULL == optval) {
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
3220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
3221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3223:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3224:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
3225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* core-locking can just call the -impl function */
3226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LOCK_TCPIP_CORE();
3227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
3228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
3229:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3230:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
3231:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3232:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
3233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* MPU_COMPATIBLE copies the optval data, so check for max size here */
3234:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (optlen > LWIP_SETGETSOCKOPT_MAXOPTLEN) {
3235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENOBUFS);
3236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
3237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3239:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
3240:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_ALLOC(data, sock);
3242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).s = s;
3243:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).level = level;
3244:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optname = optname;
3245:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optlen = optlen;
3246:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
3247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   MEMCPY(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval, optval, optlen);
3248:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
3249:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).optval.pc = (const void *)optval;
3250:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
3251:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err = 0;
3252:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
3253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = LWIP_NETCONN_THREAD_SEM_GET();
3254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
3255:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem = &sock->conn->op_completed;
3256:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3257:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   cberr = tcpip_callback(lwip_setsockopt_callback, &LWIP_SETGETSOCKOPT_DATA_VAR_REF(data));
3258:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (cberr != ERR_OK) {
3259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
3260:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(cberr));
3261:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
3262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3264:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_arch_sem_wait((sys_sem_t *)(LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).completed_sem), 0);
3265:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 149


3266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* maybe lwip_getsockopt_internal has changed err */
3267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = LWIP_SETGETSOCKOPT_DATA_VAR_REF(data).err;
3268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_SETGETSOCKOPT_DATA_VAR_FREE(data);
3269:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
3270:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err);
3272:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
3274:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
3275:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3276:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
3277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_setsockopt_callback: only used without CORE_LOCKING
3278:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * to get into the tcpip_thread
3279:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
3280:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static void
3281:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_setsockopt_callback(void *arg)
3282:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
3283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_setgetsockopt_data *data;
3284:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ASSERT("arg != NULL", arg != NULL);
3285:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data = (struct lwip_setgetsockopt_data *)arg;
3286:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3287:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   data->err = lwip_setsockopt_impl(data->s, data->level, data->optname,
3288:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_MPU_COMPATIBLE
3289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optval,
3290:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_MPU_COMPATIBLE */
3291:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optval.pc,
3292:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_MPU_COMPATIBLE */
3293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                    data->optlen);
3294:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3295:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sys_sem_signal((sys_sem_t *)(data->completed_sem));
3296:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
3297:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif  /* LWIP_TCPIP_CORE_LOCKING */
3298:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3299:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** lwip_setsockopt_impl: the actual implementation of setsockopt:
3300:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * same argument as lwip_setsockopt, either called directly or through callback
3301:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
3302:Middlewares/Third_Party/LwIP/src/api/sockets.c **** static int
3303:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_setsockopt_impl(int s, int level, int optname, const void *optval, socklen_t optlen)
3304:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 4014              		.loc 1 3304 1 is_stmt 1 view -0
 4015              		.cfi_startproc
 4016              		@ args = 4, pretend = 0, frame = 0
 4017              		@ frame_needed = 0, uses_anonymous_args = 0
 4018              		.loc 1 3304 1 is_stmt 0 view .LVU1225
 4019 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4020              	.LCFI49:
 4021              		.cfi_def_cfa_offset 24
 4022              		.cfi_offset 3, -24
 4023              		.cfi_offset 4, -20
 4024              		.cfi_offset 5, -16
 4025              		.cfi_offset 6, -12
 4026              		.cfi_offset 7, -8
 4027              		.cfi_offset 14, -4
 4028 0002 0C46     		mov	r4, r1
 4029 0004 1546     		mov	r5, r2
 4030 0006 1E46     		mov	r6, r3
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 150


 4031              		.loc 1 3305 3 is_stmt 1 view .LVU1226
 4032              	.LVL420:
3306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4033              		.loc 1 3306 3 view .LVU1227
 4034              		.loc 1 3306 28 is_stmt 0 view .LVU1228
 4035 0008 FFF7FEFF 		bl	tryget_socket
 4036              	.LVL421:
3307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 4037              		.loc 1 3307 3 is_stmt 1 view .LVU1229
 4038              		.loc 1 3307 6 is_stmt 0 view .LVU1230
 4039 000c 0028     		cmp	r0, #0
 4040 000e 00F0D680 		beq	.L347
 4041 0012 0746     		mov	r7, r0
3308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return EBADF;
3309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3310:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3311:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #ifdef LWIP_HOOK_SOCKETS_SETSOCKOPT
3312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (LWIP_HOOK_SOCKETS_SETSOCKOPT(s, sock, level, optname, optval, optlen, &err)) {
3313:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return err;
3314:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3316:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (level) {
 4042              		.loc 1 3317 3 is_stmt 1 view .LVU1231
 4043 0014 062C     		cmp	r4, #6
 4044 0016 00F0A980 		beq	.L329
 4045 001a 40F6FF73 		movw	r3, #4095
 4046 001e 9C42     		cmp	r4, r3
 4047 0020 04D0     		beq	.L330
 4048 0022 002C     		cmp	r4, #0
 4049 0024 00F08480 		beq	.L331
 4050 0028 5C20     		movs	r0, #92
 4051              	.LVL422:
 4052              	.L327:
3318:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3319:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: SOL_SOCKET */
3320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOL_SOCKET:
3321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3322:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* SO_ACCEPTCONN is get-only */
3324:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3325:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* The option flags */
3326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_BROADCAST:
3327:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_KEEPALIVE:
3328:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if SO_REUSE
3329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_REUSEADDR:
3330:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* SO_REUSE */
3331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((optname == SO_BROADCAST) &&
3332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
3333:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return ENOPROTOOPT;
3335:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3336:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3337:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           optname = lwip_sockopt_to_ipopt(optname);
3338:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 151


3341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
3342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_reset_option(sock->conn->pcb.ip, optname);
3344:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, SOL_SOCKET, optname=0x%x, ..) -> %s\n",
3346:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname, (*(const int *)optval ? "on" : "off")));
3347:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3348:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3349:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* SO_TYPE is get-only */
3350:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* SO_ERROR is get-only */
3351:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3352:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_SNDTIMEO
3353:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_SNDTIMEO: {
3354:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           long ms_long;
3355:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
3356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ms_long = LWIP_SO_SNDRCVTIMEO_GET_MS(optval);
3357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (ms_long < 0) {
3358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
3360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netconn_set_sendtimeout(sock->conn, ms_long);
3362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3364:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_SNDTIMEO */
3365:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVTIMEO
3366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_RCVTIMEO: {
3367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           long ms_long;
3368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, LWIP_SO_SNDRCVTIMEO_OPTTYPE);
3369:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ms_long = LWIP_SO_SNDRCVTIMEO_GET_MS(optval);
3370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (ms_long < 0) {
3371:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3372:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
3373:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3374:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netconn_set_recvtimeout(sock->conn, (u32_t)ms_long);
3375:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3376:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3377:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVTIMEO */
3378:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
3379:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_RCVBUF:
3380:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, int);
3381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netconn_set_recvbufsize(sock->conn, *(const int *)optval);
3382:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3383:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3384:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_LINGER
3385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_LINGER: {
3386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           const struct linger *linger = (const struct linger *)optval;
3387:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, struct linger);
3388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (linger->l_onoff) {
3389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             int lingersec = linger->l_linger;
3390:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (lingersec < 0) {
3391:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
3392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               return EINVAL;
3393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (lingersec > 0xFFFF) {
3395:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               lingersec = 0xFFFF;
3396:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3397:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->linger = (s16_t)lingersec;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 152


3398:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->linger = -1;
3400:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3401:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3402:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3403:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_LINGER */
3404:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP
3405:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_NO_CHECK:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_UDP);
3407:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
3408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (udp_is_flag_set(sock->conn->pcb.udp, UDP_FLAGS_UDPLITE)) {
3409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* this flag is only available for UDP, not for UDP lite */
3410:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EAFNOSUPPORT;
3412:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3413:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDPLITE */
3414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
3416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_clear_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
3418:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3419:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3420:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP */
3421:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case SO_BINDTODEVICE: {
3422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           const struct ifreq *iface;
3423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct netif *n = NULL;
3424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN(sock, optlen, struct ifreq);
3426:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3427:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           iface = (const struct ifreq *)optval;
3428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (iface->ifr_name[0] != 0) {
3429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             n = netif_find(iface->ifr_name);
3430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (n == NULL) {
3431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
3432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               return ENODEV;
3433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3434:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3435:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           switch (NETCONNTYPE_GROUP(netconn_type(sock->conn))) {
3437:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
3438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_TCP:
3439:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               tcp_bind_netif(sock->conn->pcb.tcp, n);
3440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
3441:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3442:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP
3443:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_UDP:
3444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               udp_bind_netif(sock->conn->pcb.udp, n);
3445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
3446:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3447:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_RAW
3448:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             case NETCONN_RAW:
3449:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               raw_bind_netif(sock->conn->pcb.raw, n);
3450:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
3451:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             default:
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               LWIP_ASSERT("Unhandled netconn type in SO_BINDTODEVICE", 0);
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 153


3455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3459:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, SOL_SOCKET, UNIMPL: optname=0x%x, ..)\n"
3460:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3461:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3462:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3463:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3464:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3465:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3466:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_IP */
3467:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_IP:
3468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3469:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
3472:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
3473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.ip->ttl));
3474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
3478:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
3479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.ip->tos));
3480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3481:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
3482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_PKTINFO:
3483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_UDP);
3484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3485:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->flags |= NETCONN_FLAG_PKTINFO;
3486:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3487:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->flags &= ~NETCONN_FLAG_PKTINFO;
3488:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3489:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3490:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETBUF_RECVINFO */
3491:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP
3492:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_TTL:
3493:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, u8_t, NETCONN_UDP);
3494:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           udp_set_multicast_ttl(sock->conn->pcb.udp, (u8_t)(*(const u8_t *)optval));
3495:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3496:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_IF: {
3497:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip4_addr_t if_addr;
3498:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct in_addr, NETCONN_UDP);
3499:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_to_ip4addr(&if_addr, (const struct in_addr *)optval);
3500:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           udp_set_multicast_netif_addr(sock->conn->pcb.udp, &if_addr);
3501:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3502:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3503:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_MULTICAST_LOOP:
3504:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, u8_t, NETCONN_UDP);
3505:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const u8_t *)optval) {
3506:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_MULTICAST_LOOP);
3507:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3508:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_clear_flags(sock->conn->pcb.udp, UDP_FLAGS_MULTICAST_LOOP);
3509:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3510:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3511:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV4 && LWIP_MULTICAST_TX_OPTIONS && LWIP_UDP */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 154


3512:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IGMP
3513:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_ADD_MEMBERSHIP:
3514:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_DROP_MEMBERSHIP: {
3515:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* If this is a TCP or a RAW socket, ignore these options. */
3516:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err_t igmp_err;
3517:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           const struct ip_mreq *imr = (const struct ip_mreq *)optval;
3518:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip4_addr_t if_addr;
3519:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip4_addr_t multi_addr;
3520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct ip_mreq, NETCONN_UDP);
3521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_to_ip4addr(&if_addr, &imr->imr_interface);
3522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet_addr_to_ip4addr(&multi_addr, &imr->imr_multiaddr);
3523:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (optname == IP_ADD_MEMBERSHIP) {
3524:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (!lwip_socket_register_membership(s, &if_addr, &multi_addr)) {
3525:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* cannot track membership (out of memory) */
3526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               err = ENOMEM;
3527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               igmp_err = ERR_OK;
3528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
3529:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               igmp_err = igmp_joingroup(&if_addr, &multi_addr);
3530:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             igmp_err = igmp_leavegroup(&if_addr, &multi_addr);
3533:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             lwip_socket_unregister_membership(s, &if_addr, &multi_addr);
3534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (igmp_err != ERR_OK) {
3536:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             err = EADDRNOTAVAIL;
3537:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3539:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3540:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IGMP */
3541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3542:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, UNIMPL: optname=0x%x, ..)\n"
3543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3544:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3545:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3546:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3548:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3549:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
3550:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_TCP */
3551:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_TCP:
3552:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Special case: all IPPROTO_TCP option take an int */
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_TCP);
3554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
3555:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return EINVAL;
3557:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3559:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
3560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
3562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_enable(sock->conn->pcb.tcp);
3564:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3565:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_NODELAY) -> %s\n",
3566:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(const int *)optval) ? "on" : "off") );
3567:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPALIVE:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 155


3569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.tcp->keep_idle = (u32_t)(*(const int *)optval);
3570:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
3571:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_idle));
3572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3573:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3574:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP_KEEPALIVE
3575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPIDLE:
3576:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.tcp->keep_idle = 1000 * (u32_t)(*(const int *)optval);
3577:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPIDLE) -> %"U32_F"\n
3578:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_idle));
3579:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3580:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPINTVL:
3581:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.tcp->keep_intvl = 1000 * (u32_t)(*(const int *)optval);
3582:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPINTVL) -> %"U32_F"\
3583:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_intvl));
3584:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3585:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_KEEPCNT:
3586:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.tcp->keep_cnt = (u32_t)(*(const int *)optval);
3587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPCNT) -> %"U32_F"\n"
3588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.tcp->keep_cnt));
3589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3590:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP_KEEPALIVE */
3591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3592:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, UNIMPL: optname=0x%x, ..)\n
3593:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3597:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3598:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_TCP*/
3599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3600:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
3601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_IPV6 */
3602:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_IPV6:
3603:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3604:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_V6ONLY:
3605:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3606:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
3607:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             netconn_set_ipv6only(sock->conn, 1);
3608:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3609:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             netconn_set_ipv6only(sock->conn, 0);
3610:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IPV6, IPV6_V6ONLY, ..) -> %d\n",
3612:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (netconn_get_ipv6only(sock->conn) ? 1 : 0)));
3613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3614:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6_MLD
3615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_JOIN_GROUP:
3616:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_LEAVE_GROUP: {
3617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* If this is a TCP or a RAW socket, ignore these options. */
3618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err_t mld6_err;
3619:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct netif *netif;
3620:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           ip6_addr_t multi_addr;
3621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           const struct ipv6_mreq *imr = (const struct ipv6_mreq *)optval;
3622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, struct ipv6_mreq, NETCONN_UDP);
3623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           inet6_addr_to_ip6addr(&multi_addr, &imr->ipv6mr_multiaddr);
3624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_ASSERT("Invalid netif index", imr->ipv6mr_interface <= 0xFFu);
3625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           netif = netif_get_by_index((u8_t)imr->ipv6mr_interface);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 156


3626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (netif == NULL) {
3627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             err = EADDRNOTAVAIL;
3628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
3629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3630:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (optname == IPV6_JOIN_GROUP) {
3632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (!lwip_socket_register_mld6_membership(s, imr->ipv6mr_interface, &multi_addr)) {
3633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* cannot track membership (out of memory) */
3634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               err = ENOMEM;
3635:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               mld6_err = ERR_OK;
3636:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
3637:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               mld6_err = mld6_joingroup_netif(netif, &multi_addr);
3638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
3639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             mld6_err = mld6_leavegroup_netif(netif, &multi_addr);
3641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             lwip_socket_unregister_mld6_membership(s, imr->ipv6mr_interface, &multi_addr);
3642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (mld6_err != ERR_OK) {
3644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             err = EADDRNOTAVAIL;
3645:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3647:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
3648:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6_MLD */
3649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3650:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IPV6, UNIMPL: optname=0x%x, ..)\
3651:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3652:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3656:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 */
3657:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3658:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDP && LWIP_UDPLITE
3659:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_UDPLITE */
3660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_UDPLITE:
3661:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Special case: all IPPROTO_UDPLITE option take an int */
3662:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB(sock, optlen, int);
3663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* If this is no UDP lite socket, ignore any options. */
3664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (!NETCONNTYPE_ISUDPLITE(netconn_type(sock->conn))) {
3665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3666:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return ENOPROTOOPT;
3667:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case UDPLITE_SEND_CSCOV:
3670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((*(const int *)optval != 0) && ((*(const int *)optval < 8) || (*(const int *)optval >
3671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* don't allow illegal values! */
3672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_tx = 8;
3673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_tx = (u16_t) * (const int *)optval;
3675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UDPLITE_SEND_CSCOV) -> 
3677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(const int *)optval)) );
3678:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case UDPLITE_RECV_CSCOV:
3680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if ((*(const int *)optval != 0) && ((*(const int *)optval < 8) || (*(const int *)optval >
3681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* don't allow illegal values! */
3682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_rx = 8;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 157


3683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.udp->chksum_len_rx = (u16_t) * (const int *)optval;
3685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UDPLITE_RECV_CSCOV) -> 
3687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, (*(const int *)optval)) );
3688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_UDPLITE, UNIMPL: optname=0x%x, .
3691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_UDP */
3697:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* Level: IPPROTO_RAW */
3698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case IPPROTO_RAW:
3699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       switch (optname) {
3700:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6 && LWIP_RAW
3701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IPV6_CHECKSUM:
3702:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* It should not be possible to disable the checksum generation with ICMPv6
3703:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            * as per RFC 3542 chapter 3.1 */
3704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock->conn->pcb.raw->protocol == IPPROTO_ICMPV6) {
3705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
3707:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3708:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3709:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_SOCKOPT_CHECK_OPTLEN_CONN_PCB_TYPE(sock, optlen, int, NETCONN_RAW);
3710:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval < 0) {
3711:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.raw->chksum_reqd = 0;
3712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else if (*(const int *)optval & 1) {
3713:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Per RFC3542, odd offsets are not allowed */
3714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
3715:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             return EINVAL;
3716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.raw->chksum_reqd = 1;
3718:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->conn->pcb.raw->chksum_offset = (u16_t) * (const int *)optval;
3719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_RAW, IPV6_CHECKSUM, ..) -> %d\n"
3721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, sock->conn->pcb.raw->chksum_reqd));
3722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3723:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_IPV6 && LWIP_RAW */
3724:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         default:
3725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_RAW, UNIMPL: optname=0x%x, ..)\n
3726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                       s, optname));
3727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err = ENOPROTOOPT;
3728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
3729:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }  /* switch (optname) */
3730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3731:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3732:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, level=0x%x, UNIMPL: optname=0x%x, ..)\n",
3733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                   s, level, optname));
3734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ENOPROTOOPT;
3735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }  /* switch (level) */
3737:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 158


3740:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4053              		.loc 1 3740 1 is_stmt 0 view .LVU1232
 4054 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4055              	.LVL423:
 4056              	.L330:
3321:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4057              		.loc 1 3321 7 is_stmt 1 view .LVU1233
 4058 002c 41F20A03 		movw	r3, #4106
 4059 0030 9D42     		cmp	r5, r3
 4060 0032 50D0     		beq	.L332
 4061 0034 26DC     		bgt	.L333
 4062 0036 082D     		cmp	r5, #8
 4063 0038 01D0     		beq	.L334
 4064 003a 202D     		cmp	r5, #32
 4065 003c 20D1     		bne	.L374
 4066              	.L334:
3331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 4067              		.loc 1 3331 11 view .LVU1234
3331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 4068              		.loc 1 3331 14 is_stmt 0 view .LVU1235
 4069 003e 202D     		cmp	r5, #32
 4070 0040 06D1     		bne	.L336
3332:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 4071              		.loc 1 3332 16 discriminator 1 view .LVU1236
 4072 0042 3B68     		ldr	r3, [r7]
 4073 0044 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
3331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               (NETCONNTYPE_GROUP(sock->conn->type) != NETCONN_UDP)) {
 4074              		.loc 1 3331 41 discriminator 1 view .LVU1237
 4075 0046 03F0F003 		and	r3, r3, #240
 4076 004a 202B     		cmp	r3, #32
 4077 004c 40F0B980 		bne	.L348
 4078              	.L336:
3337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4079              		.loc 1 3337 11 is_stmt 1 view .LVU1238
3337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4080              		.loc 1 3337 21 is_stmt 0 view .LVU1239
 4081 0050 2846     		mov	r0, r5
 4082              	.LVL424:
3337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4083              		.loc 1 3337 21 view .LVU1240
 4084 0052 FFF7FEFF 		bl	lwip_sockopt_to_ipopt
 4085              	.LVL425:
 4086 0056 0346     		mov	r3, r0
 4087              	.LVL426:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4088              		.loc 1 3339 11 is_stmt 1 view .LVU1241
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4089              		.loc 1 3339 11 view .LVU1242
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4090              		.loc 1 3339 11 view .LVU1243
 4091 0058 069A     		ldr	r2, [sp, #24]
 4092 005a 032A     		cmp	r2, #3
 4093 005c 40F2B380 		bls	.L349
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4094              		.loc 1 3339 11 discriminator 2 view .LVU1244
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4095              		.loc 1 3339 11 discriminator 2 view .LVU1245
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 159


 4096 0060 3A68     		ldr	r2, [r7]
 4097 0062 002A     		cmp	r2, #0
 4098 0064 00F0B180 		beq	.L350
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4099              		.loc 1 3339 11 is_stmt 0 discriminator 4 view .LVU1246
 4100 0068 5268     		ldr	r2, [r2, #4]
 4101 006a 002A     		cmp	r2, #0
 4102 006c 00F0AF80 		beq	.L351
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4103              		.loc 1 3339 11 is_stmt 1 discriminator 6 view .LVU1247
3340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
 4104              		.loc 1 3340 11 discriminator 6 view .LVU1248
3340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
 4105              		.loc 1 3340 15 is_stmt 0 discriminator 6 view .LVU1249
 4106 0070 3068     		ldr	r0, [r6]
 4107              	.LVL427:
3340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             ip_set_option(sock->conn->pcb.ip, optname);
 4108              		.loc 1 3340 14 discriminator 6 view .LVU1250
 4109 0072 50B3     		cbz	r0, .L337
3341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4110              		.loc 1 3341 13 is_stmt 1 view .LVU1251
 4111 0074 92F90910 		ldrsb	r1, [r2, #9]
 4112 0078 0B43     		orrs	r3, r3, r1
 4113              	.LVL428:
3341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4114              		.loc 1 3341 13 is_stmt 0 view .LVU1252
 4115 007a 5372     		strb	r3, [r2, #9]
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4116              		.loc 1 3305 7 view .LVU1253
 4117 007c 0020     		movs	r0, #0
 4118 007e D4E7     		b	.L327
 4119              	.LVL429:
 4120              	.L374:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4121              		.loc 1 3305 7 view .LVU1254
 4122 0080 5C20     		movs	r0, #92
 4123              	.LVL430:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4124              		.loc 1 3305 7 view .LVU1255
 4125 0082 D2E7     		b	.L327
 4126              	.LVL431:
 4127              	.L333:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4128              		.loc 1 3305 7 view .LVU1256
 4129 0084 41F20B03 		movw	r3, #4107
 4130 0088 9D42     		cmp	r5, r3
 4131 008a 1CD1     		bne	.L375
 4132              	.LBB27:
3422:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct netif *n = NULL;
 4133              		.loc 1 3422 11 is_stmt 1 view .LVU1257
3423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4134              		.loc 1 3423 11 view .LVU1258
 4135              	.LVL432:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4136              		.loc 1 3425 11 view .LVU1259
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4137              		.loc 1 3425 11 view .LVU1260
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 160


3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4138              		.loc 1 3425 11 view .LVU1261
 4139 008c 069B     		ldr	r3, [sp, #24]
 4140 008e 052B     		cmp	r3, #5
 4141 0090 40F2A780 		bls	.L356
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4142              		.loc 1 3425 11 discriminator 2 view .LVU1262
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4143              		.loc 1 3425 11 discriminator 2 view .LVU1263
 4144 0094 0368     		ldr	r3, [r0]
 4145 0096 002B     		cmp	r3, #0
 4146 0098 00F0A580 		beq	.L357
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4147              		.loc 1 3425 11 discriminator 4 view .LVU1264
3427:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (iface->ifr_name[0] != 0) {
 4148              		.loc 1 3427 11 discriminator 4 view .LVU1265
 4149              	.LVL433:
3428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             n = netif_find(iface->ifr_name);
 4150              		.loc 1 3428 11 discriminator 4 view .LVU1266
3428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             n = netif_find(iface->ifr_name);
 4151              		.loc 1 3428 30 is_stmt 0 discriminator 4 view .LVU1267
 4152 009c 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
3428:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             n = netif_find(iface->ifr_name);
 4153              		.loc 1 3428 14 discriminator 4 view .LVU1268
 4154 009e 002B     		cmp	r3, #0
 4155 00a0 34D1     		bne	.L376
3423:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4156              		.loc 1 3423 25 view .LVU1269
 4157 00a2 0021     		movs	r1, #0
 4158              	.LVL434:
 4159              	.L339:
3436:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 4160              		.loc 1 3436 11 is_stmt 1 view .LVU1270
3436:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 4161              		.loc 1 3436 19 is_stmt 0 view .LVU1271
 4162 00a4 3A68     		ldr	r2, [r7]
 4163 00a6 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4164 00a8 03F0F003 		and	r3, r3, #240
 4165 00ac 102B     		cmp	r3, #16
 4166 00ae 35D0     		beq	.L340
 4167 00b0 202B     		cmp	r3, #32
 4168 00b2 38D0     		beq	.L341
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4169              		.loc 1 3453 15 is_stmt 1 discriminator 1 view .LVU1272
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4170              		.loc 1 3453 15 discriminator 1 view .LVU1273
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4171              		.loc 1 3453 15 discriminator 1 view .LVU1274
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4172              		.loc 1 3453 15 discriminator 1 view .LVU1275
 4173 00b4 594B     		ldr	r3, .L377
 4174 00b6 40F67D52 		movw	r2, #3453
 4175 00ba 5949     		ldr	r1, .L377+4
 4176              	.LVL435:
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4177              		.loc 1 3453 15 is_stmt 0 discriminator 1 view .LVU1276
 4178 00bc 5948     		ldr	r0, .L377+8
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 161


 4179 00be FFF7FEFF 		bl	printf
 4180              	.LVL436:
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4181              		.loc 1 3453 15 is_stmt 1 discriminator 1 view .LVU1277
3453:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4182              		.loc 1 3453 15 discriminator 1 view .LVU1278
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4183              		.loc 1 3454 15 discriminator 1 view .LVU1279
 4184              	.LBE27:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4185              		.loc 1 3305 7 is_stmt 0 discriminator 1 view .LVU1280
 4186 00c2 0020     		movs	r0, #0
 4187              	.LBB28:
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4188              		.loc 1 3454 15 discriminator 1 view .LVU1281
 4189 00c4 B1E7     		b	.L327
 4190              	.LVL437:
 4191              	.L375:
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4192              		.loc 1 3454 15 discriminator 1 view .LVU1282
 4193              	.LBE28:
 4194 00c6 5C20     		movs	r0, #92
 4195              	.LVL438:
3454:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4196              		.loc 1 3454 15 discriminator 1 view .LVU1283
 4197 00c8 AFE7     		b	.L327
 4198              	.LVL439:
 4199              	.L337:
3343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4200              		.loc 1 3343 13 is_stmt 1 view .LVU1284
 4201 00ca 92F90910 		ldrsb	r1, [r2, #9]
 4202 00ce 21EA0303 		bic	r3, r1, r3
 4203              	.LVL440:
3343:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4204              		.loc 1 3343 13 is_stmt 0 view .LVU1285
 4205 00d2 5372     		strb	r3, [r2, #9]
 4206 00d4 A9E7     		b	.L327
 4207              	.LVL441:
 4208              	.L332:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4209              		.loc 1 3406 11 is_stmt 1 view .LVU1286
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4210              		.loc 1 3406 11 view .LVU1287
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4211              		.loc 1 3406 11 view .LVU1288
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4212              		.loc 1 3406 11 view .LVU1289
 4213 00d6 069B     		ldr	r3, [sp, #24]
 4214 00d8 032B     		cmp	r3, #3
 4215 00da 7AD9     		bls	.L352
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4216              		.loc 1 3406 11 discriminator 2 view .LVU1290
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4217              		.loc 1 3406 11 discriminator 2 view .LVU1291
 4218 00dc 0368     		ldr	r3, [r0]
 4219 00de 002B     		cmp	r3, #0
 4220 00e0 79D0     		beq	.L353
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 162


3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4221              		.loc 1 3406 11 is_stmt 0 discriminator 4 view .LVU1292
 4222 00e2 5A68     		ldr	r2, [r3, #4]
 4223 00e4 002A     		cmp	r2, #0
 4224 00e6 78D0     		beq	.L354
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4225              		.loc 1 3406 11 is_stmt 1 discriminator 6 view .LVU1293
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4226              		.loc 1 3406 11 discriminator 6 view .LVU1294
 4227 00e8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4228 00ea 03F0F003 		and	r3, r3, #240
 4229 00ee 202B     		cmp	r3, #32
 4230 00f0 75D1     		bne	.L355
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4231              		.loc 1 3406 11 discriminator 8 view .LVU1295
3414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 4232              		.loc 1 3414 11 discriminator 8 view .LVU1296
3414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 4233              		.loc 1 3414 15 is_stmt 0 discriminator 8 view .LVU1297
 4234 00f2 3068     		ldr	r0, [r6]
 4235              	.LVL442:
3414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             udp_set_flags(sock->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 4236              		.loc 1 3414 14 discriminator 8 view .LVU1298
 4237 00f4 28B1     		cbz	r0, .L338
3415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4238              		.loc 1 3415 13 is_stmt 1 view .LVU1299
3415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4239              		.loc 1 3415 13 view .LVU1300
 4240 00f6 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
 4241 00f8 43F00103 		orr	r3, r3, #1
 4242 00fc 1374     		strb	r3, [r2, #16]
3415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4243              		.loc 1 3415 13 view .LVU1301
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4244              		.loc 1 3305 7 is_stmt 0 view .LVU1302
 4245 00fe 0020     		movs	r0, #0
 4246 0100 93E7     		b	.L327
 4247              	.L338:
3417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4248              		.loc 1 3417 13 is_stmt 1 view .LVU1303
3417:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4249              		.loc 1 3417 13 view .LVU1304
 4250 0102 137C     		ldrb	r3, [r2, #16]	@ zero_extendqisi2
 4251 0104 03F0FE03 		and	r3, r3, #254
 4252 0108 1374     		strb	r3, [r2, #16]
 4253 010a 8EE7     		b	.L327
 4254              	.LVL443:
 4255              	.L376:
 4256              	.LBB29:
3429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (n == NULL) {
 4257              		.loc 1 3429 13 view .LVU1305
3429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (n == NULL) {
 4258              		.loc 1 3429 17 is_stmt 0 view .LVU1306
 4259 010c 3046     		mov	r0, r6
 4260              	.LVL444:
3429:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (n == NULL) {
 4261              		.loc 1 3429 17 view .LVU1307
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 163


 4262 010e FFF7FEFF 		bl	netif_find
 4263              	.LVL445:
3430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
 4264              		.loc 1 3430 13 is_stmt 1 view .LVU1308
3430:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
 4265              		.loc 1 3430 16 is_stmt 0 view .LVU1309
 4266 0112 0146     		mov	r1, r0
 4267 0114 0028     		cmp	r0, #0
 4268 0116 C5D1     		bne	.L339
3432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 4269              		.loc 1 3432 22 view .LVU1310
 4270 0118 1320     		movs	r0, #19
 4271              	.LVL446:
3432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 4272              		.loc 1 3432 22 view .LVU1311
 4273 011a 86E7     		b	.L327
 4274              	.L340:
3439:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4275              		.loc 1 3439 15 is_stmt 1 view .LVU1312
 4276 011c 5068     		ldr	r0, [r2, #4]
 4277 011e FFF7FEFF 		bl	tcp_bind_netif
 4278              	.LVL447:
3440:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4279              		.loc 1 3440 15 view .LVU1313
 4280              	.LBE29:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4281              		.loc 1 3305 7 is_stmt 0 view .LVU1314
 4282 0122 0020     		movs	r0, #0
 4283              	.LBB30:
3440:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4284              		.loc 1 3440 15 view .LVU1315
 4285 0124 81E7     		b	.L327
 4286              	.LVL448:
 4287              	.L341:
3444:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 4288              		.loc 1 3444 15 is_stmt 1 view .LVU1316
 4289 0126 5068     		ldr	r0, [r2, #4]
 4290 0128 FFF7FEFF 		bl	udp_bind_netif
 4291              	.LVL449:
3445:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4292              		.loc 1 3445 15 view .LVU1317
 4293              	.LBE30:
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4294              		.loc 1 3305 7 is_stmt 0 view .LVU1318
 4295 012c 0020     		movs	r0, #0
 4296              	.LBB31:
3445:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4297              		.loc 1 3445 15 view .LVU1319
 4298 012e 7CE7     		b	.L327
 4299              	.LVL450:
 4300              	.L331:
3445:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 4301              		.loc 1 3445 15 view .LVU1320
 4302              	.LBE31:
3468:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TTL:
 4303              		.loc 1 3468 7 is_stmt 1 view .LVU1321
 4304 0130 012D     		cmp	r5, #1
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 164


 4305 0132 0ED0     		beq	.L343
 4306 0134 022D     		cmp	r5, #2
 4307 0136 58D1     		bne	.L360
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4308              		.loc 1 3470 11 view .LVU1322
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4309              		.loc 1 3470 11 view .LVU1323
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4310              		.loc 1 3470 11 view .LVU1324
 4311 0138 069B     		ldr	r3, [sp, #24]
 4312 013a 032B     		cmp	r3, #3
 4313 013c 57D9     		bls	.L361
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4314              		.loc 1 3470 11 discriminator 2 view .LVU1325
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4315              		.loc 1 3470 11 discriminator 2 view .LVU1326
 4316 013e 0368     		ldr	r3, [r0]
 4317 0140 002B     		cmp	r3, #0
 4318 0142 56D0     		beq	.L362
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4319              		.loc 1 3470 11 is_stmt 0 discriminator 4 view .LVU1327
 4320 0144 5B68     		ldr	r3, [r3, #4]
 4321 0146 002B     		cmp	r3, #0
 4322 0148 55D0     		beq	.L363
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4323              		.loc 1 3470 11 is_stmt 1 discriminator 6 view .LVU1328
3471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 4324              		.loc 1 3471 11 discriminator 6 view .LVU1329
3471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 4325              		.loc 1 3471 37 is_stmt 0 discriminator 6 view .LVU1330
 4326 014a 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
3471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TTL, ..) -> %d\n",
 4327              		.loc 1 3471 35 discriminator 6 view .LVU1331
 4328 014c DA72     		strb	r2, [r3, #11]
3473:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 4329              		.loc 1 3473 67 is_stmt 1 discriminator 6 view .LVU1332
3474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
 4330              		.loc 1 3474 11 discriminator 6 view .LVU1333
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4331              		.loc 1 3305 7 is_stmt 0 discriminator 6 view .LVU1334
 4332 014e 2046     		mov	r0, r4
 4333              	.LVL451:
3474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case IP_TOS:
 4334              		.loc 1 3474 11 discriminator 6 view .LVU1335
 4335 0150 6BE7     		b	.L327
 4336              	.LVL452:
 4337              	.L343:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4338              		.loc 1 3476 11 is_stmt 1 view .LVU1336
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4339              		.loc 1 3476 11 view .LVU1337
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4340              		.loc 1 3476 11 view .LVU1338
 4341 0152 069B     		ldr	r3, [sp, #24]
 4342 0154 032B     		cmp	r3, #3
 4343 0156 50D9     		bls	.L364
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 165


 4344              		.loc 1 3476 11 discriminator 2 view .LVU1339
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4345              		.loc 1 3476 11 discriminator 2 view .LVU1340
 4346 0158 0368     		ldr	r3, [r0]
 4347 015a 002B     		cmp	r3, #0
 4348 015c 4FD0     		beq	.L365
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4349              		.loc 1 3476 11 is_stmt 0 discriminator 4 view .LVU1341
 4350 015e 5B68     		ldr	r3, [r3, #4]
 4351 0160 002B     		cmp	r3, #0
 4352 0162 4ED0     		beq	.L366
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4353              		.loc 1 3476 11 is_stmt 1 discriminator 6 view .LVU1342
3477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 4354              		.loc 1 3477 11 discriminator 6 view .LVU1343
3477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 4355              		.loc 1 3477 37 is_stmt 0 discriminator 6 view .LVU1344
 4356 0164 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
3477:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_IP, IP_TOS, ..)-> %d\n",
 4357              		.loc 1 3477 35 discriminator 6 view .LVU1345
 4358 0166 9A72     		strb	r2, [r3, #10]
3479:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 4359              		.loc 1 3479 67 is_stmt 1 discriminator 6 view .LVU1346
3480:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 4360              		.loc 1 3480 11 discriminator 6 view .LVU1347
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4361              		.loc 1 3305 7 is_stmt 0 discriminator 6 view .LVU1348
 4362 0168 2046     		mov	r0, r4
 4363              	.LVL453:
3480:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 4364              		.loc 1 3480 11 discriminator 6 view .LVU1349
 4365 016a 5EE7     		b	.L327
 4366              	.LVL454:
 4367              	.L329:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4368              		.loc 1 3553 7 is_stmt 1 view .LVU1350
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4369              		.loc 1 3553 7 view .LVU1351
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4370              		.loc 1 3553 7 view .LVU1352
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4371              		.loc 1 3553 7 view .LVU1353
 4372 016c 069B     		ldr	r3, [sp, #24]
 4373 016e 032B     		cmp	r3, #3
 4374 0170 49D9     		bls	.L367
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4375              		.loc 1 3553 7 discriminator 2 view .LVU1354
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4376              		.loc 1 3553 7 discriminator 2 view .LVU1355
 4377 0172 0368     		ldr	r3, [r0]
 4378 0174 002B     		cmp	r3, #0
 4379 0176 48D0     		beq	.L368
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4380              		.loc 1 3553 7 is_stmt 0 discriminator 4 view .LVU1356
 4381 0178 5A68     		ldr	r2, [r3, #4]
 4382 017a 002A     		cmp	r2, #0
 4383 017c 47D0     		beq	.L369
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 166


3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4384              		.loc 1 3553 7 is_stmt 1 discriminator 6 view .LVU1357
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4385              		.loc 1 3553 7 discriminator 6 view .LVU1358
 4386 017e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4387 0180 03F0F003 		and	r3, r3, #240
 4388 0184 102B     		cmp	r3, #16
 4389 0186 44D1     		bne	.L370
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4390              		.loc 1 3553 7 discriminator 8 view .LVU1359
3554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 4391              		.loc 1 3554 7 discriminator 8 view .LVU1360
3554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 4392              		.loc 1 3554 30 is_stmt 0 discriminator 8 view .LVU1361
 4393 0188 137D     		ldrb	r3, [r2, #20]	@ zero_extendqisi2
3554:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
 4394              		.loc 1 3554 10 discriminator 8 view .LVU1362
 4395 018a 012B     		cmp	r3, #1
 4396 018c 43D0     		beq	.L371
3558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
 4397              		.loc 1 3558 7 is_stmt 1 view .LVU1363
 4398 018e 012D     		cmp	r5, #1
 4399 0190 03D0     		beq	.L344
 4400 0192 022D     		cmp	r5, #2
 4401 0194 0ED0     		beq	.L345
 4402 0196 5C20     		movs	r0, #92
 4403              	.LVL455:
3558:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         case TCP_NODELAY:
 4404              		.loc 1 3558 7 is_stmt 0 view .LVU1364
 4405 0198 47E7     		b	.L327
 4406              	.LVL456:
 4407              	.L344:
3560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
 4408              		.loc 1 3560 11 is_stmt 1 view .LVU1365
3560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
 4409              		.loc 1 3560 15 is_stmt 0 view .LVU1366
 4410 019a 3068     		ldr	r0, [r6]
 4411              	.LVL457:
3560:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             tcp_nagle_disable(sock->conn->pcb.tcp);
 4412              		.loc 1 3560 14 view .LVU1367
 4413 019c 28B1     		cbz	r0, .L346
3561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4414              		.loc 1 3561 13 is_stmt 1 view .LVU1368
3561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4415              		.loc 1 3561 13 view .LVU1369
 4416 019e 538B     		ldrh	r3, [r2, #26]
 4417 01a0 43F04003 		orr	r3, r3, #64
 4418 01a4 5383     		strh	r3, [r2, #26]	@ movhi
3561:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 4419              		.loc 1 3561 13 view .LVU1370
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4420              		.loc 1 3305 7 is_stmt 0 view .LVU1371
 4421 01a6 0020     		movs	r0, #0
 4422 01a8 3FE7     		b	.L327
 4423              	.L346:
3563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4424              		.loc 1 3563 13 is_stmt 1 view .LVU1372
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 167


3563:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4425              		.loc 1 3563 13 view .LVU1373
 4426 01aa 538B     		ldrh	r3, [r2, #26]
 4427 01ac 23F04003 		bic	r3, r3, #64
 4428 01b0 5383     		strh	r3, [r2, #26]	@ movhi
 4429 01b2 3AE7     		b	.L327
 4430              	.LVL458:
 4431              	.L345:
3569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
 4432              		.loc 1 3569 11 view .LVU1374
3569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
 4433              		.loc 1 3569 52 is_stmt 0 view .LVU1375
 4434 01b4 3368     		ldr	r3, [r6]
3569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_setsockopt(%d, IPPROTO_TCP, TCP_KEEPALIVE) -> %"U32_F"\
 4435              		.loc 1 3569 42 view .LVU1376
 4436 01b6 C2F89430 		str	r3, [r2, #148]
3571:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           break;
 4437              		.loc 1 3571 74 is_stmt 1 view .LVU1377
3572:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4438              		.loc 1 3572 11 view .LVU1378
3305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = tryget_socket(s);
 4439              		.loc 1 3305 7 is_stmt 0 view .LVU1379
 4440 01ba 0020     		movs	r0, #0
 4441              	.LVL459:
3572:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4442              		.loc 1 3572 11 view .LVU1380
 4443 01bc 35E7     		b	.L327
 4444              	.LVL460:
 4445              	.L347:
3308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4446              		.loc 1 3308 12 view .LVU1381
 4447 01be 0920     		movs	r0, #9
 4448              	.LVL461:
3308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4449              		.loc 1 3308 12 view .LVU1382
 4450 01c0 33E7     		b	.L327
 4451              	.LVL462:
 4452              	.L348:
3334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4453              		.loc 1 3334 20 view .LVU1383
 4454 01c2 5C20     		movs	r0, #92
 4455              	.LVL463:
3334:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 4456              		.loc 1 3334 20 view .LVU1384
 4457 01c4 31E7     		b	.L327
 4458              	.LVL464:
 4459              	.L349:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4460              		.loc 1 3339 11 view .LVU1385
 4461 01c6 1620     		movs	r0, #22
 4462              	.LVL465:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4463              		.loc 1 3339 11 view .LVU1386
 4464 01c8 2FE7     		b	.L327
 4465              	.LVL466:
 4466              	.L350:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 168


 4467              		.loc 1 3339 11 view .LVU1387
 4468 01ca 1620     		movs	r0, #22
 4469              	.LVL467:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4470              		.loc 1 3339 11 view .LVU1388
 4471 01cc 2DE7     		b	.L327
 4472              	.LVL468:
 4473              	.L351:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4474              		.loc 1 3339 11 view .LVU1389
 4475 01ce 1620     		movs	r0, #22
 4476              	.LVL469:
3339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (*(const int *)optval) {
 4477              		.loc 1 3339 11 view .LVU1390
 4478 01d0 2BE7     		b	.L327
 4479              	.LVL470:
 4480              	.L352:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4481              		.loc 1 3406 11 view .LVU1391
 4482 01d2 1620     		movs	r0, #22
 4483              	.LVL471:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4484              		.loc 1 3406 11 view .LVU1392
 4485 01d4 29E7     		b	.L327
 4486              	.LVL472:
 4487              	.L353:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4488              		.loc 1 3406 11 view .LVU1393
 4489 01d6 1620     		movs	r0, #22
 4490              	.LVL473:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4491              		.loc 1 3406 11 view .LVU1394
 4492 01d8 27E7     		b	.L327
 4493              	.LVL474:
 4494              	.L354:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4495              		.loc 1 3406 11 view .LVU1395
 4496 01da 1620     		movs	r0, #22
 4497              	.LVL475:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4498              		.loc 1 3406 11 view .LVU1396
 4499 01dc 25E7     		b	.L327
 4500              	.LVL476:
 4501              	.L355:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4502              		.loc 1 3406 11 view .LVU1397
 4503 01de 5C20     		movs	r0, #92
 4504              	.LVL477:
3406:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_UDPLITE
 4505              		.loc 1 3406 11 view .LVU1398
 4506 01e0 23E7     		b	.L327
 4507              	.LVL478:
 4508              	.L356:
 4509              	.LBB32:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4510              		.loc 1 3425 11 view .LVU1399
 4511 01e2 1620     		movs	r0, #22
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 169


 4512              	.LVL479:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4513              		.loc 1 3425 11 view .LVU1400
 4514 01e4 21E7     		b	.L327
 4515              	.LVL480:
 4516              	.L357:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4517              		.loc 1 3425 11 view .LVU1401
 4518 01e6 1620     		movs	r0, #22
 4519              	.LVL481:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4520              		.loc 1 3425 11 view .LVU1402
 4521 01e8 1FE7     		b	.L327
 4522              	.LVL482:
 4523              	.L360:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4524              		.loc 1 3425 11 view .LVU1403
 4525              	.LBE32:
 4526 01ea 5C20     		movs	r0, #92
 4527              	.LVL483:
3425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4528              		.loc 1 3425 11 view .LVU1404
 4529 01ec 1DE7     		b	.L327
 4530              	.LVL484:
 4531              	.L361:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4532              		.loc 1 3470 11 view .LVU1405
 4533 01ee 1620     		movs	r0, #22
 4534              	.LVL485:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4535              		.loc 1 3470 11 view .LVU1406
 4536 01f0 1BE7     		b	.L327
 4537              	.LVL486:
 4538              	.L362:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4539              		.loc 1 3470 11 view .LVU1407
 4540 01f2 1620     		movs	r0, #22
 4541              	.LVL487:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4542              		.loc 1 3470 11 view .LVU1408
 4543 01f4 19E7     		b	.L327
 4544              	.LVL488:
 4545              	.L363:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4546              		.loc 1 3470 11 view .LVU1409
 4547 01f6 1620     		movs	r0, #22
 4548              	.LVL489:
3470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->ttl = (u8_t)(*(const int *)optval);
 4549              		.loc 1 3470 11 view .LVU1410
 4550 01f8 17E7     		b	.L327
 4551              	.LVL490:
 4552              	.L364:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4553              		.loc 1 3476 11 view .LVU1411
 4554 01fa 1620     		movs	r0, #22
 4555              	.LVL491:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 170


 4556              		.loc 1 3476 11 view .LVU1412
 4557 01fc 15E7     		b	.L327
 4558              	.LVL492:
 4559              	.L365:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4560              		.loc 1 3476 11 view .LVU1413
 4561 01fe 1620     		movs	r0, #22
 4562              	.LVL493:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4563              		.loc 1 3476 11 view .LVU1414
 4564 0200 13E7     		b	.L327
 4565              	.LVL494:
 4566              	.L366:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4567              		.loc 1 3476 11 view .LVU1415
 4568 0202 1620     		movs	r0, #22
 4569              	.LVL495:
3476:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock->conn->pcb.ip->tos = (u8_t)(*(const int *)optval);
 4570              		.loc 1 3476 11 view .LVU1416
 4571 0204 11E7     		b	.L327
 4572              	.LVL496:
 4573              	.L367:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4574              		.loc 1 3553 7 view .LVU1417
 4575 0206 1620     		movs	r0, #22
 4576              	.LVL497:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4577              		.loc 1 3553 7 view .LVU1418
 4578 0208 0FE7     		b	.L327
 4579              	.LVL498:
 4580              	.L368:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4581              		.loc 1 3553 7 view .LVU1419
 4582 020a 1620     		movs	r0, #22
 4583              	.LVL499:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4584              		.loc 1 3553 7 view .LVU1420
 4585 020c 0DE7     		b	.L327
 4586              	.LVL500:
 4587              	.L369:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4588              		.loc 1 3553 7 view .LVU1421
 4589 020e 1620     		movs	r0, #22
 4590              	.LVL501:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4591              		.loc 1 3553 7 view .LVU1422
 4592 0210 0BE7     		b	.L327
 4593              	.LVL502:
 4594              	.L370:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4595              		.loc 1 3553 7 view .LVU1423
 4596 0212 5C20     		movs	r0, #92
 4597              	.LVL503:
3553:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->conn->pcb.tcp->state == LISTEN) {
 4598              		.loc 1 3553 7 view .LVU1424
 4599 0214 09E7     		b	.L327
 4600              	.LVL504:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 171


 4601              	.L371:
3556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 4602              		.loc 1 3556 16 view .LVU1425
 4603 0216 1620     		movs	r0, #22
 4604              	.LVL505:
3556:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 4605              		.loc 1 3556 16 view .LVU1426
 4606 0218 07E7     		b	.L327
 4607              	.L378:
 4608 021a 00BF     		.align	2
 4609              	.L377:
 4610 021c 00000000 		.word	.LC0
 4611 0220 00000000 		.word	.LC19
 4612 0224 48000000 		.word	.LC2
 4613              		.cfi_endproc
 4614              	.LFE413:
 4616              		.section	.text.lwip_socket_thread_init,"ax",%progbits
 4617              		.align	1
 4618              		.global	lwip_socket_thread_init
 4619              		.syntax unified
 4620              		.thumb
 4621              		.thumb_func
 4623              	lwip_socket_thread_init:
 4624              	.LFB364:
 321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netconn_thread_init();
 4625              		.loc 1 321 1 is_stmt 1 view -0
 4626              		.cfi_startproc
 4627              		@ args = 0, pretend = 0, frame = 0
 4628              		@ frame_needed = 0, uses_anonymous_args = 0
 4629              		@ link register save eliminated.
 322:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4630              		.loc 1 322 24 view .LVU1428
 323:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4631              		.loc 1 323 1 is_stmt 0 view .LVU1429
 4632 0000 7047     		bx	lr
 4633              		.cfi_endproc
 4634              	.LFE364:
 4636              		.section	.text.lwip_socket_thread_cleanup,"ax",%progbits
 4637              		.align	1
 4638              		.global	lwip_socket_thread_cleanup
 4639              		.syntax unified
 4640              		.thumb
 4641              		.thumb_func
 4643              	lwip_socket_thread_cleanup:
 4644              	.LFB365:
 328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   netconn_thread_cleanup();
 4645              		.loc 1 328 1 is_stmt 1 view -0
 4646              		.cfi_startproc
 4647              		@ args = 0, pretend = 0, frame = 0
 4648              		@ frame_needed = 0, uses_anonymous_args = 0
 4649              		@ link register save eliminated.
 329:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4650              		.loc 1 329 27 view .LVU1431
 330:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4651              		.loc 1 330 1 is_stmt 0 view .LVU1432
 4652 0000 7047     		bx	lr
 4653              		.cfi_endproc
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 172


 4654              	.LFE365:
 4656              		.section	.text.lwip_socket_dbg_get_socket,"ax",%progbits
 4657              		.align	1
 4658              		.global	lwip_socket_dbg_get_socket
 4659              		.syntax unified
 4660              		.thumb
 4661              		.thumb_func
 4663              	lwip_socket_dbg_get_socket:
 4664              	.LVL506:
 4665              	.LFB367:
 423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return tryget_socket_unconn_nouse(fd);
 4666              		.loc 1 423 1 is_stmt 1 view -0
 4667              		.cfi_startproc
 4668              		@ args = 0, pretend = 0, frame = 0
 4669              		@ frame_needed = 0, uses_anonymous_args = 0
 423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return tryget_socket_unconn_nouse(fd);
 4670              		.loc 1 423 1 is_stmt 0 view .LVU1434
 4671 0000 08B5     		push	{r3, lr}
 4672              	.LCFI50:
 4673              		.cfi_def_cfa_offset 8
 4674              		.cfi_offset 3, -8
 4675              		.cfi_offset 14, -4
 424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4676              		.loc 1 424 3 is_stmt 1 view .LVU1435
 424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 4677              		.loc 1 424 10 is_stmt 0 view .LVU1436
 4678 0002 FFF7FEFF 		bl	tryget_socket_unconn_nouse
 4679              	.LVL507:
 425:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4680              		.loc 1 425 1 view .LVU1437
 4681 0006 08BD     		pop	{r3, pc}
 4682              		.cfi_endproc
 4683              	.LFE367:
 4685              		.section	.rodata.lwip_accept.str1.4,"aMS",%progbits,1
 4686              		.align	2
 4687              	.LC20:
 4688 0000 6E657763 		.ascii	"newconn != NULL\000"
 4688      6F6E6E20 
 4688      213D204E 
 4688      554C4C00 
 4689              		.align	2
 4690              	.LC21:
 4691 0010 696E7661 		.ascii	"invalid socket index\000"
 4691      6C696420 
 4691      736F636B 
 4691      65742069 
 4691      6E646578 
 4692              		.section	.text.lwip_accept,"ax",%progbits
 4693              		.align	1
 4694              		.global	lwip_accept
 4695              		.syntax unified
 4696              		.thumb
 4697              		.thumb_func
 4699              	lwip_accept:
 4700              	.LVL508:
 4701              	.LFB376:
 621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock, *nsock;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 173


 4702              		.loc 1 621 1 is_stmt 1 view -0
 4703              		.cfi_startproc
 4704              		@ args = 0, pretend = 0, frame = 32
 4705              		@ frame_needed = 0, uses_anonymous_args = 0
 621:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock, *nsock;
 4706              		.loc 1 621 1 is_stmt 0 view .LVU1439
 4707 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4708              	.LCFI51:
 4709              		.cfi_def_cfa_offset 24
 4710              		.cfi_offset 4, -24
 4711              		.cfi_offset 5, -20
 4712              		.cfi_offset 6, -16
 4713              		.cfi_offset 7, -12
 4714              		.cfi_offset 8, -8
 4715              		.cfi_offset 14, -4
 4716 0004 88B0     		sub	sp, sp, #32
 4717              	.LCFI52:
 4718              		.cfi_def_cfa_offset 56
 4719 0006 0F46     		mov	r7, r1
 4720 0008 1646     		mov	r6, r2
 622:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *newconn;
 4721              		.loc 1 622 3 is_stmt 1 view .LVU1440
 623:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t naddr;
 4722              		.loc 1 623 3 view .LVU1441
 624:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t port = 0;
 4723              		.loc 1 624 3 view .LVU1442
 625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int newsock;
 4724              		.loc 1 625 3 view .LVU1443
 625:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int newsock;
 4725              		.loc 1 625 9 is_stmt 0 view .LVU1444
 4726 000a 0023     		movs	r3, #0
 4727 000c ADF81630 		strh	r3, [sp, #22]	@ movhi
 626:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 4728              		.loc 1 626 3 is_stmt 1 view .LVU1445
 627:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int recvevent;
 4729              		.loc 1 627 3 view .LVU1446
 628:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_DECL_PROTECT(lev);
 4730              		.loc 1 628 3 view .LVU1447
 629:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4731              		.loc 1 629 3 view .LVU1448
 631:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 4732              		.loc 1 631 58 view .LVU1449
 632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 4733              		.loc 1 632 3 view .LVU1450
 632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 4734              		.loc 1 632 10 is_stmt 0 view .LVU1451
 4735 0010 FFF7FEFF 		bl	get_socket
 4736              	.LVL509:
 633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4737              		.loc 1 633 3 is_stmt 1 view .LVU1452
 633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4738              		.loc 1 633 6 is_stmt 0 view .LVU1453
 4739 0014 0028     		cmp	r0, #0
 4740 0016 00F0A180 		beq	.L398
 4741 001a 0446     		mov	r4, r0
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 4742              		.loc 1 638 3 is_stmt 1 view .LVU1454
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 174


 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 4743              		.loc 1 638 9 is_stmt 0 view .LVU1455
 4744 001c 07A9     		add	r1, sp, #28
 4745 001e 0068     		ldr	r0, [r0]
 4746              	.LVL510:
 638:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 4747              		.loc 1 638 9 view .LVU1456
 4748 0020 FFF7FEFF 		bl	netconn_accept
 4749              	.LVL511:
 639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 4750              		.loc 1 639 3 is_stmt 1 view .LVU1457
 639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_acept failed, err=%d\n", s, err));
 4751              		.loc 1 639 6 is_stmt 0 view .LVU1458
 4752 0024 00BB     		cbnz	r0, .L400
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4753              		.loc 1 651 3 is_stmt 1 view .LVU1459
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4754              		.loc 1 651 3 view .LVU1460
 4755 0026 079B     		ldr	r3, [sp, #28]
 4756 0028 002B     		cmp	r3, #0
 4757 002a 37D0     		beq	.L401
 4758              	.LVL512:
 4759              	.L389:
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4760              		.loc 1 651 3 discriminator 3 view .LVU1461
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4761              		.loc 1 651 3 discriminator 3 view .LVU1462
 653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newsock == -1) {
 4762              		.loc 1 653 3 discriminator 3 view .LVU1463
 653:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (newsock == -1) {
 4763              		.loc 1 653 13 is_stmt 0 discriminator 3 view .LVU1464
 4764 002c 0121     		movs	r1, #1
 4765 002e 0798     		ldr	r0, [sp, #28]
 4766 0030 FFF7FEFF 		bl	alloc_socket
 4767              	.LVL513:
 4768 0034 0546     		mov	r5, r0
 4769              	.LVL514:
 654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(newconn);
 4770              		.loc 1 654 3 is_stmt 1 discriminator 3 view .LVU1465
 654:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(newconn);
 4771              		.loc 1 654 6 is_stmt 0 discriminator 3 view .LVU1466
 4772 0036 B0F1FF3F 		cmp	r0, #-1
 4773 003a 37D0     		beq	.L402
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4774              		.loc 1 660 3 is_stmt 1 view .LVU1467
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4775              		.loc 1 660 3 view .LVU1468
 4776 003c 0328     		cmp	r0, #3
 4777 003e 3CD8     		bhi	.L403
 4778              	.LVL515:
 4779              	.L391:
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4780              		.loc 1 660 3 discriminator 3 view .LVU1469
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4781              		.loc 1 660 3 discriminator 3 view .LVU1470
 661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4782              		.loc 1 661 3 discriminator 3 view .LVU1471
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 175


 661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4783              		.loc 1 661 9 is_stmt 0 discriminator 3 view .LVU1472
 4784 0040 484B     		ldr	r3, .L406
 4785 0042 03EB0518 		add	r8, r3, r5, lsl #4
 4786              	.LVL516:
 668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   recvevent = (s16_t)(-1 - newconn->socket);
 4787              		.loc 1 668 3 is_stmt 1 discriminator 3 view .LVU1473
 4788 0046 FFF7FEFF 		bl	sys_arch_protect
 4789              	.LVL517:
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 4790              		.loc 1 669 3 discriminator 3 view .LVU1474
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 4791              		.loc 1 669 35 is_stmt 0 discriminator 3 view .LVU1475
 4792 004a 079B     		ldr	r3, [sp, #28]
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 4793              		.loc 1 669 26 discriminator 3 view .LVU1476
 4794 004c B3F91840 		ldrsh	r4, [r3, #24]
 4795              	.LVL518:
 669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   newconn->socket = newsock;
 4796              		.loc 1 669 15 discriminator 3 view .LVU1477
 4797 0050 E443     		mvns	r4, r4
 4798              	.LVL519:
 670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 4799              		.loc 1 670 3 is_stmt 1 discriminator 3 view .LVU1478
 670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   SYS_ARCH_UNPROTECT(lev);
 4800              		.loc 1 670 19 is_stmt 0 discriminator 3 view .LVU1479
 4801 0052 9D61     		str	r5, [r3, #24]
 671:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4802              		.loc 1 671 3 is_stmt 1 discriminator 3 view .LVU1480
 4803 0054 FFF7FEFF 		bl	sys_arch_unprotect
 4804              	.LVL520:
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LOCK_TCPIP_CORE();
 4805              		.loc 1 673 3 discriminator 3 view .LVU1481
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LOCK_TCPIP_CORE();
 4806              		.loc 1 673 14 is_stmt 0 discriminator 3 view .LVU1482
 4807 0058 079B     		ldr	r3, [sp, #28]
 4808 005a 5B6A     		ldr	r3, [r3, #36]
 673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LOCK_TCPIP_CORE();
 4809              		.loc 1 673 6 discriminator 3 view .LVU1483
 4810 005c 002B     		cmp	r3, #0
 4811 005e 3FD0     		beq	.L392
 674:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     while (recvevent > 0) {
 4812              		.loc 1 674 5 is_stmt 1 view .LVU1484
 4813 0060 4148     		ldr	r0, .L406+4
 4814 0062 FFF7FEFF 		bl	sys_mutex_lock
 4815              	.LVL521:
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recvevent--;
 4816              		.loc 1 675 5 view .LVU1485
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recvevent--;
 4817              		.loc 1 675 11 is_stmt 0 view .LVU1486
 4818 0066 36E0     		b	.L393
 4819              	.LVL522:
 4820              	.L400:
 640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 4821              		.loc 1 640 92 is_stmt 1 view .LVU1487
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 4822              		.loc 1 641 5 view .LVU1488
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 176


 641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 4823              		.loc 1 641 9 is_stmt 0 view .LVU1489
 4824 0068 2268     		ldr	r2, [r4]
 4825 006a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 641:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 4826              		.loc 1 641 8 view .LVU1490
 4827 006c 02F0F002 		and	r2, r2, #240
 4828 0070 102A     		cmp	r2, #16
 4829 0072 05D0     		beq	.L386
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4830              		.loc 1 642 7 is_stmt 1 view .LVU1491
 4831              	.LBB33:
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4832              		.loc 1 642 7 view .LVU1492
 4833              	.LVL523:
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4834              		.loc 1 642 7 view .LVU1493
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4835              		.loc 1 642 7 view .LVU1494
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4836              		.loc 1 642 7 view .LVU1495
 4837 0074 3D4B     		ldr	r3, .L406+8
 4838 0076 5F22     		movs	r2, #95
 4839 0078 1A60     		str	r2, [r3]
 4840              	.LVL524:
 4841              	.L387:
 642:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else if (err == ERR_CLSD) {
 4842              		.loc 1 642 7 is_stmt 0 view .LVU1496
 4843              	.LBE33:
 4844              	.LBB34:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4845              		.loc 1 646 7 is_stmt 1 discriminator 3 view .LVU1497
 4846              	.LBE34:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4847              		.loc 1 646 7 discriminator 3 view .LVU1498
 648:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4848              		.loc 1 648 22 discriminator 3 view .LVU1499
 649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4849              		.loc 1 649 5 discriminator 3 view .LVU1500
 649:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4850              		.loc 1 649 12 is_stmt 0 discriminator 3 view .LVU1501
 4851 007a 4FF0FF35 		mov	r5, #-1
 4852 007e 33E0     		b	.L383
 4853              	.LVL525:
 4854              	.L386:
 643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EINVAL);
 4855              		.loc 1 643 12 is_stmt 1 view .LVU1502
 643:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EINVAL);
 4856              		.loc 1 643 15 is_stmt 0 view .LVU1503
 4857 0080 10F10F0F 		cmn	r0, #15
 4858 0084 03D1     		bne	.L388
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4859              		.loc 1 644 7 is_stmt 1 view .LVU1504
 4860              	.LBB35:
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4861              		.loc 1 644 7 view .LVU1505
 4862              	.LVL526:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 177


 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4863              		.loc 1 644 7 view .LVU1506
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4864              		.loc 1 644 7 view .LVU1507
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4865              		.loc 1 644 7 view .LVU1508
 4866 0086 394B     		ldr	r3, .L406+8
 4867 0088 1622     		movs	r2, #22
 4868 008a 1A60     		str	r2, [r3]
 4869 008c F5E7     		b	.L387
 4870              	.LVL527:
 4871              	.L388:
 644:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 4872              		.loc 1 644 7 is_stmt 0 view .LVU1509
 4873              	.LBE35:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4874              		.loc 1 646 7 is_stmt 1 view .LVU1510
 4875              	.LBB36:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4876              		.loc 1 646 7 view .LVU1511
 4877 008e FFF7FEFF 		bl	err_to_errno
 4878              	.LVL528:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4879              		.loc 1 646 7 view .LVU1512
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4880              		.loc 1 646 7 view .LVU1513
 4881 0092 0028     		cmp	r0, #0
 4882 0094 F1D0     		beq	.L387
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4883              		.loc 1 646 7 discriminator 1 view .LVU1514
 4884 0096 354B     		ldr	r3, .L406+8
 4885 0098 1860     		str	r0, [r3]
 4886 009a EEE7     		b	.L387
 4887              	.LVL529:
 4888              	.L401:
 646:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4889              		.loc 1 646 7 is_stmt 0 discriminator 1 view .LVU1515
 4890              	.LBE36:
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4891              		.loc 1 651 3 is_stmt 1 discriminator 1 view .LVU1516
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4892              		.loc 1 651 3 discriminator 1 view .LVU1517
 4893 009c 344B     		ldr	r3, .L406+12
 4894 009e 40F28B22 		movw	r2, #651
 4895 00a2 3449     		ldr	r1, .L406+16
 4896 00a4 3448     		ldr	r0, .L406+20
 4897              	.LVL530:
 651:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4898              		.loc 1 651 3 is_stmt 0 discriminator 1 view .LVU1518
 4899 00a6 FFF7FEFF 		bl	printf
 4900              	.LVL531:
 4901 00aa BFE7     		b	.L389
 4902              	.LVL532:
 4903              	.L402:
 655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENFILE);
 4904              		.loc 1 655 5 is_stmt 1 view .LVU1519
 4905 00ac 0798     		ldr	r0, [sp, #28]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 178


 4906              	.LVL533:
 655:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, ENFILE);
 4907              		.loc 1 655 5 is_stmt 0 view .LVU1520
 4908 00ae FFF7FEFF 		bl	netconn_delete
 4909              	.LVL534:
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4910              		.loc 1 656 5 is_stmt 1 view .LVU1521
 4911              	.LBB37:
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4912              		.loc 1 656 5 view .LVU1522
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4913              		.loc 1 656 5 view .LVU1523
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4914              		.loc 1 656 5 view .LVU1524
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4915              		.loc 1 656 5 view .LVU1525
 4916 00b2 2E4B     		ldr	r3, .L406+8
 4917 00b4 1722     		movs	r2, #23
 4918 00b6 1A60     		str	r2, [r3]
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4919              		.loc 1 656 5 view .LVU1526
 4920              	.LBE37:
 656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 4921              		.loc 1 656 5 view .LVU1527
 657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 4922              		.loc 1 657 22 view .LVU1528
 658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4923              		.loc 1 658 5 view .LVU1529
 658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4924              		.loc 1 658 12 is_stmt 0 view .LVU1530
 4925 00b8 16E0     		b	.L383
 4926              	.LVL535:
 4927              	.L403:
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4928              		.loc 1 660 3 is_stmt 1 discriminator 1 view .LVU1531
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4929              		.loc 1 660 3 discriminator 1 view .LVU1532
 4930 00ba 2D4B     		ldr	r3, .L406+12
 4931 00bc 4FF42572 		mov	r2, #660
 4932 00c0 2E49     		ldr	r1, .L406+24
 4933 00c2 2D48     		ldr	r0, .L406+20
 4934              	.LVL536:
 660:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   nsock = &sockets[newsock - LWIP_SOCKET_OFFSET];
 4935              		.loc 1 660 3 is_stmt 0 discriminator 1 view .LVU1533
 4936 00c4 FFF7FEFF 		bl	printf
 4937              	.LVL537:
 4938 00c8 BAE7     		b	.L391
 4939              	.LVL538:
 4940              	.L394:
 676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       newconn->callback(newconn, NETCONN_EVT_RCVPLUS, 0);
 4941              		.loc 1 676 7 is_stmt 1 view .LVU1534
 676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       newconn->callback(newconn, NETCONN_EVT_RCVPLUS, 0);
 4942              		.loc 1 676 16 is_stmt 0 view .LVU1535
 4943 00ca 013C     		subs	r4, r4, #1
 4944              	.LVL539:
 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4945              		.loc 1 677 7 is_stmt 1 view .LVU1536
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 179


 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4946              		.loc 1 677 14 is_stmt 0 view .LVU1537
 4947 00cc 0798     		ldr	r0, [sp, #28]
 4948 00ce 436A     		ldr	r3, [r0, #36]
 677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 4949              		.loc 1 677 7 view .LVU1538
 4950 00d0 0022     		movs	r2, #0
 4951 00d2 1146     		mov	r1, r2
 4952 00d4 9847     		blx	r3
 4953              	.LVL540:
 4954              	.L393:
 675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       recvevent--;
 4955              		.loc 1 675 11 is_stmt 1 view .LVU1539
 4956 00d6 002C     		cmp	r4, #0
 4957 00d8 F7DC     		bgt	.L394
 679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 4958              		.loc 1 679 5 view .LVU1540
 4959 00da 2348     		ldr	r0, .L406+4
 4960 00dc FFF7FEFF 		bl	sys_mutex_unlock
 4961              	.LVL541:
 4962              	.L392:
 685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     union sockaddr_aligned tempaddr;
 4963              		.loc 1 685 3 view .LVU1541
 685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     union sockaddr_aligned tempaddr;
 4964              		.loc 1 685 6 is_stmt 0 view .LVU1542
 4965 00e0 002F     		cmp	r7, #0
 4966 00e2 18BF     		it	ne
 4967 00e4 002E     		cmpne	r6, #0
 4968 00e6 03D1     		bne	.L404
 4969              	.LVL542:
 4970              	.L383:
 715:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 4971              		.loc 1 715 1 view .LVU1543
 4972 00e8 2846     		mov	r0, r5
 4973 00ea 08B0     		add	sp, sp, #32
 4974              	.LCFI53:
 4975              		.cfi_remember_state
 4976              		.cfi_def_cfa_offset 24
 4977              		@ sp needed
 4978 00ec BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4979              	.LVL543:
 4980              	.L404:
 4981              	.LCFI54:
 4982              		.cfi_restore_state
 4983              	.LBB38:
 686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* get the IP address and port of the remote host */
 4984              		.loc 1 686 5 is_stmt 1 view .LVU1544
 688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 4985              		.loc 1 688 5 view .LVU1545
 688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 4986              		.loc 1 688 11 is_stmt 0 view .LVU1546
 4987 00f0 0023     		movs	r3, #0
 4988 00f2 0DF11602 		add	r2, sp, #22
 4989 00f6 06A9     		add	r1, sp, #24
 4990 00f8 0798     		ldr	r0, [sp, #28]
 4991 00fa FFF7FEFF 		bl	netconn_getaddr
 4992              	.LVL544:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 180


 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 4993              		.loc 1 689 5 is_stmt 1 view .LVU1547
 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 4994              		.loc 1 689 8 is_stmt 0 view .LVU1548
 4995 00fe 0446     		mov	r4, r0
 4996              	.LVL545:
 689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_accept(%d): netconn_peer failed, err=%d\n", s, err));
 4997              		.loc 1 689 8 view .LVU1549
 4998 0100 E0B9     		cbnz	r0, .L405
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 4999              		.loc 1 698 5 is_stmt 1 view .LVU1550
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 5000              		.loc 1 698 5 view .LVU1551
 5001 0102 1023     		movs	r3, #16
 5002 0104 8DF80430 		strb	r3, [sp, #4]
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 5003              		.loc 1 698 5 view .LVU1552
 5004 0108 0223     		movs	r3, #2
 5005 010a 8DF80530 		strb	r3, [sp, #5]
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 5006              		.loc 1 698 5 view .LVU1553
 5007 010e BDF81600 		ldrh	r0, [sp, #22]
 5008              	.LVL546:
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 5009              		.loc 1 698 5 is_stmt 0 view .LVU1554
 5010 0112 FFF7FEFF 		bl	lwip_htons
 5011              	.LVL547:
 5012 0116 ADF80600 		strh	r0, [sp, #6]	@ movhi
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 5013              		.loc 1 698 5 is_stmt 1 view .LVU1555
 5014 011a 069B     		ldr	r3, [sp, #24]
 5015 011c 0293     		str	r3, [sp, #8]
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 5016              		.loc 1 698 5 view .LVU1556
 5017 011e 0023     		movs	r3, #0
 5018 0120 0393     		str	r3, [sp, #12]
 5019 0122 0493     		str	r3, [sp, #16]
 698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (*addrlen > tempaddr.sa.sa_len) {
 5020              		.loc 1 698 5 view .LVU1557
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 5021              		.loc 1 699 5 view .LVU1558
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 5022              		.loc 1 699 9 is_stmt 0 view .LVU1559
 5023 0124 3268     		ldr	r2, [r6]
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 5024              		.loc 1 699 31 view .LVU1560
 5025 0126 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *addrlen = tempaddr.sa.sa_len;
 5026              		.loc 1 699 8 view .LVU1561
 5027 012a 9A42     		cmp	r2, r3
 5028 012c 00D9     		bls	.L397
 700:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5029              		.loc 1 700 7 is_stmt 1 view .LVU1562
 700:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5030              		.loc 1 700 16 is_stmt 0 view .LVU1563
 5031 012e 3360     		str	r3, [r6]
 5032              	.L397:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 181


 702:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5033              		.loc 1 702 5 is_stmt 1 view .LVU1564
 5034 0130 3268     		ldr	r2, [r6]
 5035 0132 01A9     		add	r1, sp, #4
 5036 0134 3846     		mov	r0, r7
 5037 0136 FFF7FEFF 		bl	memcpy
 5038              	.LVL548:
 704:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, naddr);
 5039              		.loc 1 704 92 view .LVU1565
 705:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", port));
 5040              		.loc 1 705 50 view .LVU1566
 706:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5041              		.loc 1 706 59 view .LVU1567
 5042              	.LBE38:
 5043 013a D5E7     		b	.L383
 5044              	.LVL549:
 5045              	.L405:
 5046              	.LBB40:
 690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_delete(newconn);
 5047              		.loc 1 690 93 view .LVU1568
 691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       free_socket(nsock, 1);
 5048              		.loc 1 691 7 view .LVU1569
 5049 013c 0798     		ldr	r0, [sp, #28]
 5050              	.LVL550:
 691:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       free_socket(nsock, 1);
 5051              		.loc 1 691 7 is_stmt 0 view .LVU1570
 5052 013e FFF7FEFF 		bl	netconn_delete
 5053              	.LVL551:
 692:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 5054              		.loc 1 692 7 is_stmt 1 view .LVU1571
 5055 0142 0121     		movs	r1, #1
 5056 0144 4046     		mov	r0, r8
 5057 0146 FFF7FEFF 		bl	free_socket
 5058              	.LVL552:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5059              		.loc 1 693 7 view .LVU1572
 5060              	.LBB39:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5061              		.loc 1 693 7 view .LVU1573
 5062 014a 2046     		mov	r0, r4
 5063 014c FFF7FEFF 		bl	err_to_errno
 5064              	.LVL553:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5065              		.loc 1 693 7 view .LVU1574
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5066              		.loc 1 693 7 view .LVU1575
 5067 0150 08B1     		cbz	r0, .L396
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5068              		.loc 1 693 7 discriminator 1 view .LVU1576
 5069 0152 064B     		ldr	r3, .L406+8
 5070 0154 1860     		str	r0, [r3]
 5071              	.L396:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5072              		.loc 1 693 7 discriminator 3 view .LVU1577
 5073              	.LBE39:
 693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5074              		.loc 1 693 7 discriminator 3 view .LVU1578
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 182


 694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 5075              		.loc 1 694 24 discriminator 3 view .LVU1579
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5076              		.loc 1 695 7 discriminator 3 view .LVU1580
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5077              		.loc 1 695 14 is_stmt 0 discriminator 3 view .LVU1581
 5078 0156 4FF0FF35 		mov	r5, #-1
 5079              	.LVL554:
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5080              		.loc 1 695 14 discriminator 3 view .LVU1582
 5081 015a C5E7     		b	.L383
 5082              	.LVL555:
 5083              	.L398:
 695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5084              		.loc 1 695 14 discriminator 3 view .LVU1583
 5085              	.LBE40:
 634:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5086              		.loc 1 634 12 view .LVU1584
 5087 015c 4FF0FF35 		mov	r5, #-1
 5088 0160 C2E7     		b	.L383
 5089              	.L407:
 5090 0162 00BF     		.align	2
 5091              	.L406:
 5092 0164 00000000 		.word	.LANCHOR0
 5093 0168 00000000 		.word	lock_tcpip_core
 5094 016c 00000000 		.word	errno
 5095 0170 00000000 		.word	.LC0
 5096 0174 00000000 		.word	.LC20
 5097 0178 48000000 		.word	.LC2
 5098 017c 10000000 		.word	.LC21
 5099              		.cfi_endproc
 5100              	.LFE376:
 5102              		.section	.rodata.lwip_bind.str1.4,"aMS",%progbits,1
 5103              		.align	2
 5104              	.LC22:
 5105 0000 6C776970 		.ascii	"lwip_bind: invalid address\000"
 5105      5F62696E 
 5105      643A2069 
 5105      6E76616C 
 5105      69642061 
 5106              		.section	.text.lwip_bind,"ax",%progbits
 5107              		.align	1
 5108              		.global	lwip_bind
 5109              		.syntax unified
 5110              		.thumb
 5111              		.thumb_func
 5113              	lwip_bind:
 5114              	.LVL556:
 5115              	.LFB377:
 719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5116              		.loc 1 719 1 is_stmt 1 view -0
 5117              		.cfi_startproc
 5118              		@ args = 0, pretend = 0, frame = 8
 5119              		@ frame_needed = 0, uses_anonymous_args = 0
 719:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5120              		.loc 1 719 1 is_stmt 0 view .LVU1586
 5121 0000 70B5     		push	{r4, r5, r6, lr}
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 183


 5122              	.LCFI55:
 5123              		.cfi_def_cfa_offset 16
 5124              		.cfi_offset 4, -16
 5125              		.cfi_offset 5, -12
 5126              		.cfi_offset 6, -8
 5127              		.cfi_offset 14, -4
 5128 0002 82B0     		sub	sp, sp, #8
 5129              	.LCFI56:
 5130              		.cfi_def_cfa_offset 24
 5131 0004 0C46     		mov	r4, r1
 5132 0006 1546     		mov	r5, r2
 720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_t local_addr;
 5133              		.loc 1 720 3 is_stmt 1 view .LVU1587
 721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t local_port;
 5134              		.loc 1 721 3 view .LVU1588
 722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5135              		.loc 1 722 3 view .LVU1589
 723:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5136              		.loc 1 723 3 view .LVU1590
 725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5137              		.loc 1 725 3 view .LVU1591
 725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5138              		.loc 1 725 10 is_stmt 0 view .LVU1592
 5139 0008 FFF7FEFF 		bl	get_socket
 5140              	.LVL557:
 726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5141              		.loc 1 726 3 is_stmt 1 view .LVU1593
 726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5142              		.loc 1 726 6 is_stmt 0 view .LVU1594
 5143 000c 78B3     		cbz	r0, .L414
 5144 000e 0646     		mov	r6, r0
 730:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 5145              		.loc 1 730 3 is_stmt 1 view .LVU1595
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5146              		.loc 1 738 3 view .LVU1596
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5147              		.loc 1 738 3 view .LVU1597
 5148 0010 102D     		cmp	r5, #16
 5149 0012 13D1     		bne	.L410
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5150              		.loc 1 738 3 is_stmt 0 discriminator 2 view .LVU1598
 5151 0014 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 5152 0016 022B     		cmp	r3, #2
 5153 0018 10D1     		bne	.L410
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5154              		.loc 1 738 3 discriminator 4 view .LVU1599
 5155 001a 14F0030F 		tst	r4, #3
 5156 001e 0DD1     		bne	.L410
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5157              		.loc 1 738 3 is_stmt 1 discriminator 6 view .LVU1600
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5158              		.loc 1 738 3 discriminator 6 view .LVU1601
 741:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5159              		.loc 1 741 3 discriminator 6 view .LVU1602
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5160              		.loc 1 743 3 discriminator 6 view .LVU1603
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 184


 5161              		.loc 1 743 3 discriminator 6 view .LVU1604
 5162 0020 6368     		ldr	r3, [r4, #4]
 5163 0022 0193     		str	r3, [sp, #4]
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5164              		.loc 1 743 3 discriminator 6 view .LVU1605
 5165 0024 6088     		ldrh	r0, [r4, #2]
 5166              	.LVL558:
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5167              		.loc 1 743 3 is_stmt 0 discriminator 6 view .LVU1606
 5168 0026 FFF7FEFF 		bl	lwip_htons
 5169              	.LVL559:
 5170 002a 0246     		mov	r2, r0
 5171              	.LVL560:
 743:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d, addr=", s));
 5172              		.loc 1 743 3 is_stmt 1 discriminator 6 view .LVU1607
 744:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, local_addr);
 5173              		.loc 1 744 57 discriminator 6 view .LVU1608
 745:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", local_port));
 5174              		.loc 1 745 53 discriminator 6 view .LVU1609
 746:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5175              		.loc 1 746 64 discriminator 6 view .LVU1610
 756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5176              		.loc 1 756 3 discriminator 6 view .LVU1611
 756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5177              		.loc 1 756 9 is_stmt 0 discriminator 6 view .LVU1612
 5178 002c 01A9     		add	r1, sp, #4
 5179 002e 3068     		ldr	r0, [r6]
 5180 0030 FFF7FEFF 		bl	netconn_bind
 5181              	.LVL561:
 758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 5182              		.loc 1 758 3 is_stmt 1 discriminator 6 view .LVU1613
 758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_bind(%d) failed, err=%d\n", s, err));
 5183              		.loc 1 758 6 is_stmt 0 discriminator 6 view .LVU1614
 5184 0034 98B9     		cbnz	r0, .L417
 768:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5185              		.loc 1 768 10 view .LVU1615
 5186 0036 0020     		movs	r0, #0
 5187              	.LVL562:
 5188              	.L408:
 769:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5189              		.loc 1 769 1 view .LVU1616
 5190 0038 02B0     		add	sp, sp, #8
 5191              	.LCFI57:
 5192              		.cfi_remember_state
 5193              		.cfi_def_cfa_offset 16
 5194              		@ sp needed
 5195 003a 70BD     		pop	{r4, r5, r6, pc}
 5196              	.LVL563:
 5197              	.L410:
 5198              	.LCFI58:
 5199              		.cfi_restore_state
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5200              		.loc 1 738 3 is_stmt 1 discriminator 5 view .LVU1617
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5201              		.loc 1 738 3 discriminator 5 view .LVU1618
 5202 003c 0D4B     		ldr	r3, .L418
 5203 003e 40F2E222 		movw	r2, #738
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 185


 5204 0042 0D49     		ldr	r1, .L418+4
 5205 0044 0D48     		ldr	r0, .L418+8
 5206              	.LVL564:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5207              		.loc 1 738 3 is_stmt 0 discriminator 5 view .LVU1619
 5208 0046 FFF7FEFF 		bl	printf
 5209              	.LVL565:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5210              		.loc 1 738 3 is_stmt 1 discriminator 5 view .LVU1620
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5211              		.loc 1 738 3 discriminator 5 view .LVU1621
 5212              	.LBB41:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5213              		.loc 1 738 3 discriminator 5 view .LVU1622
 5214 004a 6FF00F00 		mvn	r0, #15
 5215 004e FFF7FEFF 		bl	err_to_errno
 5216              	.LVL566:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5217              		.loc 1 738 3 discriminator 5 view .LVU1623
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5218              		.loc 1 738 3 discriminator 5 view .LVU1624
 5219 0052 08B1     		cbz	r0, .L412
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5220              		.loc 1 738 3 discriminator 7 view .LVU1625
 5221 0054 0A4A     		ldr	r2, .L418+12
 5222 0056 1060     		str	r0, [r2]
 5223              	.L412:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5224              		.loc 1 738 3 discriminator 9 view .LVU1626
 5225              	.LBE41:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5226              		.loc 1 738 3 discriminator 9 view .LVU1627
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5227              		.loc 1 738 3 discriminator 9 view .LVU1628
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5228              		.loc 1 738 3 discriminator 9 view .LVU1629
 5229 0058 4FF0FF30 		mov	r0, #-1
 5230              	.LVL567:
 738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              IS_SOCK_ADDR_TYPE_VALID(name) && IS_SOCK_ADDR_ALIGNED(name)),
 5231              		.loc 1 738 3 is_stmt 0 discriminator 9 view .LVU1630
 5232 005c ECE7     		b	.L408
 5233              	.LVL568:
 5234              	.L417:
 759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 5235              		.loc 1 759 75 is_stmt 1 view .LVU1631
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5236              		.loc 1 760 5 view .LVU1632
 5237              	.LBB42:
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5238              		.loc 1 760 5 view .LVU1633
 5239 005e FFF7FEFF 		bl	err_to_errno
 5240              	.LVL569:
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5241              		.loc 1 760 5 view .LVU1634
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5242              		.loc 1 760 5 view .LVU1635
 5243 0062 08B1     		cbz	r0, .L413
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 186


 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5244              		.loc 1 760 5 discriminator 1 view .LVU1636
 5245 0064 064A     		ldr	r2, .L418+12
 5246 0066 1060     		str	r0, [r2]
 5247              	.L413:
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5248              		.loc 1 760 5 discriminator 3 view .LVU1637
 5249              	.LBE42:
 760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5250              		.loc 1 760 5 discriminator 3 view .LVU1638
 761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5251              		.loc 1 761 22 discriminator 3 view .LVU1639
 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5252              		.loc 1 762 5 discriminator 3 view .LVU1640
 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5253              		.loc 1 762 12 is_stmt 0 discriminator 3 view .LVU1641
 5254 0068 4FF0FF30 		mov	r0, #-1
 5255              	.LVL570:
 762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5256              		.loc 1 762 12 discriminator 3 view .LVU1642
 5257 006c E4E7     		b	.L408
 5258              	.LVL571:
 5259              	.L414:
 727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5260              		.loc 1 727 12 view .LVU1643
 5261 006e 4FF0FF30 		mov	r0, #-1
 5262              	.LVL572:
 727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5263              		.loc 1 727 12 view .LVU1644
 5264 0072 E1E7     		b	.L408
 5265              	.L419:
 5266              		.align	2
 5267              	.L418:
 5268 0074 00000000 		.word	.LC0
 5269 0078 00000000 		.word	.LC22
 5270 007c 48000000 		.word	.LC2
 5271 0080 00000000 		.word	errno
 5272              		.cfi_endproc
 5273              	.LFE377:
 5275              		.section	.rodata.lwip_close.str1.4,"aMS",%progbits,1
 5276              		.align	2
 5277              	.LC23:
 5278 0000 736F636B 		.ascii	"sock->lastdata == NULL\000"
 5278      2D3E6C61 
 5278      73746461 
 5278      7461203D 
 5278      3D204E55 
 5279              		.section	.text.lwip_close,"ax",%progbits
 5280              		.align	1
 5281              		.global	lwip_close
 5282              		.syntax unified
 5283              		.thumb
 5284              		.thumb_func
 5286              	lwip_close:
 5287              	.LVL573:
 5288              	.LFB378:
 773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 187


 5289              		.loc 1 773 1 is_stmt 1 view -0
 5290              		.cfi_startproc
 5291              		@ args = 0, pretend = 0, frame = 0
 5292              		@ frame_needed = 0, uses_anonymous_args = 0
 773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5293              		.loc 1 773 1 is_stmt 0 view .LVU1646
 5294 0000 38B5     		push	{r3, r4, r5, lr}
 5295              	.LCFI59:
 5296              		.cfi_def_cfa_offset 16
 5297              		.cfi_offset 3, -16
 5298              		.cfi_offset 4, -12
 5299              		.cfi_offset 5, -8
 5300              		.cfi_offset 14, -4
 774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int is_tcp = 0;
 5301              		.loc 1 774 3 is_stmt 1 view .LVU1647
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5302              		.loc 1 775 3 view .LVU1648
 5303              	.LVL574:
 776:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5304              		.loc 1 776 3 view .LVU1649
 778:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5305              		.loc 1 778 54 view .LVU1650
 780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5306              		.loc 1 780 3 view .LVU1651
 780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5307              		.loc 1 780 10 is_stmt 0 view .LVU1652
 5308 0002 FFF7FEFF 		bl	get_socket
 5309              	.LVL575:
 781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5310              		.loc 1 781 3 is_stmt 1 view .LVU1653
 781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5311              		.loc 1 781 6 is_stmt 0 view .LVU1654
 5312 0006 40B3     		cbz	r0, .L426
 5313 0008 0546     		mov	r5, r0
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 5314              		.loc 1 785 3 is_stmt 1 view .LVU1655
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 5315              		.loc 1 785 11 is_stmt 0 view .LVU1656
 5316 000a 0368     		ldr	r3, [r0]
 785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     is_tcp = NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP;
 5317              		.loc 1 785 6 view .LVU1657
 5318 000c 83B1     		cbz	r3, .L422
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5319              		.loc 1 786 5 is_stmt 1 view .LVU1658
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5320              		.loc 1 786 14 is_stmt 0 view .LVU1659
 5321 000e 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5322              		.loc 1 786 58 view .LVU1660
 5323 0010 04F0F004 		and	r4, r4, #240
 5324 0014 102C     		cmp	r4, #16
 5325 0016 14BF     		ite	ne
 5326 0018 0024     		movne	r4, #0
 5327 001a 0124     		moveq	r4, #1
 5328              	.LVL576:
 5329              	.L423:
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 188


 5330              		.loc 1 788 5 is_stmt 1 discriminator 3 view .LVU1661
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5331              		.loc 1 788 5 discriminator 3 view .LVU1662
 800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 5332              		.loc 1 800 3 discriminator 3 view .LVU1663
 800:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (err != ERR_OK) {
 5333              		.loc 1 800 9 is_stmt 0 discriminator 3 view .LVU1664
 5334 001c 2868     		ldr	r0, [r5]
 5335 001e FFF7FEFF 		bl	netconn_prepare_delete
 5336              	.LVL577:
 801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 5337              		.loc 1 801 3 is_stmt 1 discriminator 3 view .LVU1665
 801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 5338              		.loc 1 801 6 is_stmt 0 discriminator 3 view .LVU1666
 5339 0022 90B9     		cbnz	r0, .L429
 807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 5340              		.loc 1 807 3 is_stmt 1 view .LVU1667
 5341 0024 2146     		mov	r1, r4
 5342 0026 2846     		mov	r0, r5
 5343              	.LVL578:
 807:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 5344              		.loc 1 807 3 is_stmt 0 view .LVU1668
 5345 0028 FFF7FEFF 		bl	free_socket
 5346              	.LVL579:
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 5347              		.loc 1 808 3 is_stmt 1 view .LVU1669
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 5348              		.loc 1 808 3 view .LVU1670
 808:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return 0;
 5349              		.loc 1 808 3 view .LVU1671
 809:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5350              		.loc 1 809 3 view .LVU1672
 809:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5351              		.loc 1 809 10 is_stmt 0 view .LVU1673
 5352 002c 0020     		movs	r0, #0
 5353              	.LVL580:
 5354              	.L420:
 810:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5355              		.loc 1 810 1 view .LVU1674
 5356 002e 38BD     		pop	{r3, r4, r5, pc}
 5357              	.LVL581:
 5358              	.L422:
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5359              		.loc 1 788 5 is_stmt 1 view .LVU1675
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5360              		.loc 1 788 5 view .LVU1676
 5361 0030 4368     		ldr	r3, [r0, #4]
 5362 0032 43B1     		cbz	r3, .L427
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5363              		.loc 1 788 5 discriminator 1 view .LVU1677
 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5364              		.loc 1 788 5 discriminator 1 view .LVU1678
 5365 0034 0A4B     		ldr	r3, .L430
 5366 0036 4FF44572 		mov	r2, #788
 5367 003a 0A49     		ldr	r1, .L430+4
 5368 003c 0A48     		ldr	r0, .L430+8
 5369              	.LVL582:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 189


 788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5370              		.loc 1 788 5 is_stmt 0 discriminator 1 view .LVU1679
 5371 003e FFF7FEFF 		bl	printf
 5372              	.LVL583:
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5373              		.loc 1 775 7 discriminator 1 view .LVU1680
 5374 0042 0024     		movs	r4, #0
 5375 0044 EAE7     		b	.L423
 5376              	.LVL584:
 5377              	.L427:
 775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5378              		.loc 1 775 7 view .LVU1681
 5379 0046 0024     		movs	r4, #0
 5380 0048 E8E7     		b	.L423
 5381              	.LVL585:
 5382              	.L429:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5383              		.loc 1 802 5 is_stmt 1 view .LVU1682
 5384              	.LBB43:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5385              		.loc 1 802 5 view .LVU1683
 5386 004a FFF7FEFF 		bl	err_to_errno
 5387              	.LVL586:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5388              		.loc 1 802 5 view .LVU1684
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5389              		.loc 1 802 5 view .LVU1685
 5390 004e 08B1     		cbz	r0, .L425
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5391              		.loc 1 802 5 discriminator 1 view .LVU1686
 5392 0050 064A     		ldr	r2, .L430+12
 5393 0052 1060     		str	r0, [r2]
 5394              	.L425:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5395              		.loc 1 802 5 discriminator 3 view .LVU1687
 5396              	.LBE43:
 802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5397              		.loc 1 802 5 discriminator 3 view .LVU1688
 803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5398              		.loc 1 803 22 discriminator 3 view .LVU1689
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5399              		.loc 1 804 5 discriminator 3 view .LVU1690
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5400              		.loc 1 804 12 is_stmt 0 discriminator 3 view .LVU1691
 5401 0054 4FF0FF30 		mov	r0, #-1
 5402              	.LVL587:
 804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5403              		.loc 1 804 12 discriminator 3 view .LVU1692
 5404 0058 E9E7     		b	.L420
 5405              	.LVL588:
 5406              	.L426:
 782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5407              		.loc 1 782 12 view .LVU1693
 5408 005a 4FF0FF30 		mov	r0, #-1
 5409              	.LVL589:
 782:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5410              		.loc 1 782 12 view .LVU1694
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 190


 5411 005e E6E7     		b	.L420
 5412              	.L431:
 5413              		.align	2
 5414              	.L430:
 5415 0060 00000000 		.word	.LC0
 5416 0064 00000000 		.word	.LC23
 5417 0068 48000000 		.word	.LC2
 5418 006c 00000000 		.word	errno
 5419              		.cfi_endproc
 5420              	.LFE378:
 5422              		.section	.rodata.lwip_connect.str1.4,"aMS",%progbits,1
 5423              		.align	2
 5424              	.LC24:
 5425 0000 6C776970 		.ascii	"lwip_connect: invalid address\000"
 5425      5F636F6E 
 5425      6E656374 
 5425      3A20696E 
 5425      76616C69 
 5426              		.section	.text.lwip_connect,"ax",%progbits
 5427              		.align	1
 5428              		.global	lwip_connect
 5429              		.syntax unified
 5430              		.thumb
 5431              		.thumb_func
 5433              	lwip_connect:
 5434              	.LVL590:
 5435              	.LFB379:
 814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5436              		.loc 1 814 1 is_stmt 1 view -0
 5437              		.cfi_startproc
 5438              		@ args = 0, pretend = 0, frame = 8
 5439              		@ frame_needed = 0, uses_anonymous_args = 0
 814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5440              		.loc 1 814 1 is_stmt 0 view .LVU1696
 5441 0000 70B5     		push	{r4, r5, r6, lr}
 5442              	.LCFI60:
 5443              		.cfi_def_cfa_offset 16
 5444              		.cfi_offset 4, -16
 5445              		.cfi_offset 5, -12
 5446              		.cfi_offset 6, -8
 5447              		.cfi_offset 14, -4
 5448 0002 82B0     		sub	sp, sp, #8
 5449              	.LCFI61:
 5450              		.cfi_def_cfa_offset 24
 5451 0004 0C46     		mov	r4, r1
 5452 0006 1546     		mov	r5, r2
 815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5453              		.loc 1 815 3 is_stmt 1 view .LVU1697
 816:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5454              		.loc 1 816 3 view .LVU1698
 818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5455              		.loc 1 818 3 view .LVU1699
 818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5456              		.loc 1 818 10 is_stmt 0 view .LVU1700
 5457 0008 FFF7FEFF 		bl	get_socket
 5458              	.LVL591:
 819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 191


 5459              		.loc 1 819 3 is_stmt 1 view .LVU1701
 819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5460              		.loc 1 819 6 is_stmt 0 view .LVU1702
 5461 000c 0028     		cmp	r0, #0
 5462 000e 34D0     		beq	.L440
 5463 0010 0646     		mov	r6, r0
 823:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* sockaddr does not match socket type (IPv4/IPv6) */
 5464              		.loc 1 823 3 is_stmt 1 view .LVU1703
 830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (name->sa_family == AF_UNSPEC) {
 5465              		.loc 1 830 3 view .LVU1704
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 5466              		.loc 1 831 3 view .LVU1705
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 5467              		.loc 1 831 11 is_stmt 0 view .LVU1706
 5468 0012 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, AF_UNSPEC)\n", s));
 5469              		.loc 1 831 6 view .LVU1707
 5470 0014 A3B1     		cbz	r3, .L443
 5471              	.LBB44:
 835:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     u16_t remote_port;
 5472              		.loc 1 835 5 is_stmt 1 view .LVU1708
 836:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5473              		.loc 1 836 5 view .LVU1709
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5474              		.loc 1 839 5 view .LVU1710
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5475              		.loc 1 839 5 view .LVU1711
 5476 0016 102D     		cmp	r5, #16
 5477 0018 16D1     		bne	.L436
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5478              		.loc 1 839 5 is_stmt 0 discriminator 2 view .LVU1712
 5479 001a 022B     		cmp	r3, #2
 5480 001c 14D1     		bne	.L436
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5481              		.loc 1 839 5 discriminator 4 view .LVU1713
 5482 001e 14F0030F 		tst	r4, #3
 5483 0022 11D1     		bne	.L436
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5484              		.loc 1 839 5 is_stmt 1 discriminator 6 view .LVU1714
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5485              		.loc 1 839 5 discriminator 6 view .LVU1715
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5486              		.loc 1 843 5 discriminator 6 view .LVU1716
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5487              		.loc 1 843 5 discriminator 6 view .LVU1717
 5488 0024 6368     		ldr	r3, [r4, #4]
 5489 0026 0193     		str	r3, [sp, #4]
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5490              		.loc 1 843 5 discriminator 6 view .LVU1718
 5491 0028 6088     		ldrh	r0, [r4, #2]
 5492              	.LVL592:
 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5493              		.loc 1 843 5 is_stmt 0 discriminator 6 view .LVU1719
 5494 002a FFF7FEFF 		bl	lwip_htons
 5495              	.LVL593:
 5496 002e 0246     		mov	r2, r0
 5497              	.LVL594:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 192


 843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d, addr=", s));
 5498              		.loc 1 843 5 is_stmt 1 discriminator 6 view .LVU1720
 844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_debug_print_val(SOCKETS_DEBUG, remote_addr);
 5499              		.loc 1 844 62 discriminator 6 view .LVU1721
 845:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F")\n", remote_port));
 5500              		.loc 1 845 56 discriminator 6 view .LVU1722
 846:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5501              		.loc 1 846 67 discriminator 6 view .LVU1723
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5502              		.loc 1 856 5 discriminator 6 view .LVU1724
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5503              		.loc 1 856 11 is_stmt 0 discriminator 6 view .LVU1725
 5504 0030 01A9     		add	r1, sp, #4
 5505 0032 3068     		ldr	r0, [r6]
 5506 0034 FFF7FEFF 		bl	netconn_connect
 5507              	.LVL595:
 5508              	.L435:
 856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5509              		.loc 1 856 11 discriminator 6 view .LVU1726
 5510              	.LBE44:
 859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 5511              		.loc 1 859 3 is_stmt 1 view .LVU1727
 859:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_connect(%d) failed, err=%d\n", s, err));
 5512              		.loc 1 859 6 is_stmt 0 view .LVU1728
 5513 0038 B8B9     		cbnz	r0, .L444
 869:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5514              		.loc 1 869 10 view .LVU1729
 5515 003a 0020     		movs	r0, #0
 5516              	.LVL596:
 5517              	.L432:
 870:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5518              		.loc 1 870 1 view .LVU1730
 5519 003c 02B0     		add	sp, sp, #8
 5520              	.LCFI62:
 5521              		.cfi_remember_state
 5522              		.cfi_def_cfa_offset 16
 5523              		@ sp needed
 5524 003e 70BD     		pop	{r4, r5, r6, pc}
 5525              	.LVL597:
 5526              	.L443:
 5527              	.LCFI63:
 5528              		.cfi_restore_state
 832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_disconnect(sock->conn);
 5529              		.loc 1 832 69 is_stmt 1 view .LVU1731
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5530              		.loc 1 833 5 view .LVU1732
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5531              		.loc 1 833 11 is_stmt 0 view .LVU1733
 5532 0040 0068     		ldr	r0, [r0]
 5533              	.LVL598:
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5534              		.loc 1 833 11 view .LVU1734
 5535 0042 FFF7FEFF 		bl	netconn_disconnect
 5536              	.LVL599:
 833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 5537              		.loc 1 833 11 view .LVU1735
 5538 0046 F7E7     		b	.L435
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 193


 5539              	.LVL600:
 5540              	.L436:
 5541              	.LBB46:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5542              		.loc 1 839 5 is_stmt 1 discriminator 5 view .LVU1736
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5543              		.loc 1 839 5 discriminator 5 view .LVU1737
 5544 0048 0D4B     		ldr	r3, .L445
 5545 004a 40F24732 		movw	r2, #839
 5546 004e 0D49     		ldr	r1, .L445+4
 5547 0050 0D48     		ldr	r0, .L445+8
 5548              	.LVL601:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5549              		.loc 1 839 5 is_stmt 0 discriminator 5 view .LVU1738
 5550 0052 FFF7FEFF 		bl	printf
 5551              	.LVL602:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5552              		.loc 1 839 5 is_stmt 1 discriminator 5 view .LVU1739
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5553              		.loc 1 839 5 discriminator 5 view .LVU1740
 5554              	.LBB45:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5555              		.loc 1 839 5 discriminator 5 view .LVU1741
 5556 0056 6FF00F00 		mvn	r0, #15
 5557 005a FFF7FEFF 		bl	err_to_errno
 5558              	.LVL603:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5559              		.loc 1 839 5 discriminator 5 view .LVU1742
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5560              		.loc 1 839 5 discriminator 5 view .LVU1743
 5561 005e 08B1     		cbz	r0, .L438
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5562              		.loc 1 839 5 discriminator 7 view .LVU1744
 5563 0060 0A4A     		ldr	r2, .L445+12
 5564 0062 1060     		str	r0, [r2]
 5565              	.L438:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5566              		.loc 1 839 5 discriminator 9 view .LVU1745
 5567              	.LBE45:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5568              		.loc 1 839 5 discriminator 9 view .LVU1746
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5569              		.loc 1 839 5 discriminator 9 view .LVU1747
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5570              		.loc 1 839 5 discriminator 9 view .LVU1748
 5571 0064 4FF0FF30 		mov	r0, #-1
 5572              	.LVL604:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5573              		.loc 1 839 5 is_stmt 0 discriminator 9 view .LVU1749
 5574 0068 E8E7     		b	.L432
 5575              	.LVL605:
 5576              	.L444:
 839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_TYPE_VALID_OR_UNSPEC(name) && IS_SOCK_ADDR_ALIGNED(name),
 5577              		.loc 1 839 5 discriminator 9 view .LVU1750
 5578              	.LBE46:
 860:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 5579              		.loc 1 860 78 is_stmt 1 view .LVU1751
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 194


 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5580              		.loc 1 861 5 view .LVU1752
 5581              	.LBB47:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5582              		.loc 1 861 5 view .LVU1753
 5583 006a FFF7FEFF 		bl	err_to_errno
 5584              	.LVL606:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5585              		.loc 1 861 5 view .LVU1754
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5586              		.loc 1 861 5 view .LVU1755
 5587 006e 08B1     		cbz	r0, .L439
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5588              		.loc 1 861 5 discriminator 1 view .LVU1756
 5589 0070 064A     		ldr	r2, .L445+12
 5590 0072 1060     		str	r0, [r2]
 5591              	.L439:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5592              		.loc 1 861 5 discriminator 3 view .LVU1757
 5593              	.LBE47:
 861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5594              		.loc 1 861 5 discriminator 3 view .LVU1758
 862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5595              		.loc 1 862 22 discriminator 3 view .LVU1759
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5596              		.loc 1 863 5 discriminator 3 view .LVU1760
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5597              		.loc 1 863 12 is_stmt 0 discriminator 3 view .LVU1761
 5598 0074 4FF0FF30 		mov	r0, #-1
 5599              	.LVL607:
 863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5600              		.loc 1 863 12 discriminator 3 view .LVU1762
 5601 0078 E0E7     		b	.L432
 5602              	.LVL608:
 5603              	.L440:
 820:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5604              		.loc 1 820 12 view .LVU1763
 5605 007a 4FF0FF30 		mov	r0, #-1
 5606              	.LVL609:
 820:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5607              		.loc 1 820 12 view .LVU1764
 5608 007e DDE7     		b	.L432
 5609              	.L446:
 5610              		.align	2
 5611              	.L445:
 5612 0080 00000000 		.word	.LC0
 5613 0084 00000000 		.word	.LC24
 5614 0088 48000000 		.word	.LC2
 5615 008c 00000000 		.word	errno
 5616              		.cfi_endproc
 5617              	.LFE379:
 5619              		.section	.text.lwip_listen,"ax",%progbits
 5620              		.align	1
 5621              		.global	lwip_listen
 5622              		.syntax unified
 5623              		.thumb
 5624              		.thumb_func
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 195


 5626              	lwip_listen:
 5627              	.LVL610:
 5628              	.LFB380:
 882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5629              		.loc 1 882 1 is_stmt 1 view -0
 5630              		.cfi_startproc
 5631              		@ args = 0, pretend = 0, frame = 0
 5632              		@ frame_needed = 0, uses_anonymous_args = 0
 882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5633              		.loc 1 882 1 is_stmt 0 view .LVU1766
 5634 0000 38B5     		push	{r3, r4, r5, lr}
 5635              	.LCFI64:
 5636              		.cfi_def_cfa_offset 16
 5637              		.cfi_offset 3, -16
 5638              		.cfi_offset 4, -12
 5639              		.cfi_offset 5, -8
 5640              		.cfi_offset 14, -4
 5641 0002 0C46     		mov	r4, r1
 883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 5642              		.loc 1 883 3 is_stmt 1 view .LVU1767
 884:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5643              		.loc 1 884 3 view .LVU1768
 886:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5644              		.loc 1 886 76 view .LVU1769
 888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5645              		.loc 1 888 3 view .LVU1770
 888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5646              		.loc 1 888 10 is_stmt 0 view .LVU1771
 5647 0004 FFF7FEFF 		bl	get_socket
 5648              	.LVL611:
 889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5649              		.loc 1 889 3 is_stmt 1 view .LVU1772
 889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5650              		.loc 1 889 6 is_stmt 0 view .LVU1773
 5651 0008 00B3     		cbz	r0, .L452
 5652 000a 0546     		mov	r5, r0
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5653              		.loc 1 894 3 is_stmt 1 view .LVU1774
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5654              		.loc 1 894 13 is_stmt 0 view .LVU1775
 5655 000c FE2C     		cmp	r4, #254
 5656 000e 02DC     		bgt	.L453
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5657              		.loc 1 894 13 discriminator 1 view .LVU1776
 5658 0010 24EAE471 		bic	r1, r4, r4, asr #31
 5659 0014 00E0     		b	.L449
 5660              	.L453:
 894:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5661              		.loc 1 894 13 view .LVU1777
 5662 0016 FF21     		movs	r1, #255
 5663              	.L449:
 5664              	.LVL612:
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5665              		.loc 1 896 3 is_stmt 1 discriminator 4 view .LVU1778
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5666              		.loc 1 896 9 is_stmt 0 discriminator 4 view .LVU1779
 5667 0018 C9B2     		uxtb	r1, r1
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 196


 5668              	.LVL613:
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5669              		.loc 1 896 9 discriminator 4 view .LVU1780
 5670 001a 2868     		ldr	r0, [r5]
 5671              	.LVL614:
 896:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5672              		.loc 1 896 9 discriminator 4 view .LVU1781
 5673 001c FFF7FEFF 		bl	netconn_listen_with_backlog
 5674              	.LVL615:
 898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 5675              		.loc 1 898 3 is_stmt 1 discriminator 4 view .LVU1782
 898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_listen(%d) failed, err=%d\n", s, err));
 5676              		.loc 1 898 6 is_stmt 0 discriminator 4 view .LVU1783
 5677 0020 08B9     		cbnz	r0, .L456
 911:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5678              		.loc 1 911 10 view .LVU1784
 5679 0022 0020     		movs	r0, #0
 5680              	.LVL616:
 5681              	.L447:
 912:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5682              		.loc 1 912 1 view .LVU1785
 5683 0024 38BD     		pop	{r3, r4, r5, pc}
 5684              	.LVL617:
 5685              	.L456:
 899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 5686              		.loc 1 899 77 is_stmt 1 view .LVU1786
 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 5687              		.loc 1 900 5 view .LVU1787
 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 5688              		.loc 1 900 9 is_stmt 0 view .LVU1788
 5689 0026 2A68     		ldr	r2, [r5]
 5690 0028 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 5691              		.loc 1 900 8 view .LVU1789
 5692 002a 02F0F002 		and	r2, r2, #240
 5693 002e 102A     		cmp	r2, #16
 5694 0030 05D0     		beq	.L450
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5695              		.loc 1 901 7 is_stmt 1 view .LVU1790
 5696              	.LBB48:
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5697              		.loc 1 901 7 view .LVU1791
 5698              	.LVL618:
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5699              		.loc 1 901 7 view .LVU1792
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5700              		.loc 1 901 7 view .LVU1793
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5701              		.loc 1 901 7 view .LVU1794
 5702 0032 084B     		ldr	r3, .L457
 5703 0034 5F22     		movs	r2, #95
 5704 0036 1A60     		str	r2, [r3]
 5705              	.LVL619:
 5706              	.L451:
 901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     } else {
 5707              		.loc 1 901 7 is_stmt 0 view .LVU1795
 5708              	.LBE48:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 197


 5709              	.LBB49:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5710              		.loc 1 903 7 is_stmt 1 discriminator 3 view .LVU1796
 5711              	.LBE49:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5712              		.loc 1 903 7 discriminator 3 view .LVU1797
 905:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5713              		.loc 1 905 22 discriminator 3 view .LVU1798
 906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5714              		.loc 1 906 5 discriminator 3 view .LVU1799
 906:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5715              		.loc 1 906 12 is_stmt 0 discriminator 3 view .LVU1800
 5716 0038 4FF0FF30 		mov	r0, #-1
 5717 003c F2E7     		b	.L447
 5718              	.LVL620:
 5719              	.L450:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5720              		.loc 1 903 7 is_stmt 1 view .LVU1801
 5721              	.LBB50:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5722              		.loc 1 903 7 view .LVU1802
 5723 003e FFF7FEFF 		bl	err_to_errno
 5724              	.LVL621:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5725              		.loc 1 903 7 view .LVU1803
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5726              		.loc 1 903 7 view .LVU1804
 5727 0042 0028     		cmp	r0, #0
 5728 0044 F8D0     		beq	.L451
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5729              		.loc 1 903 7 discriminator 1 view .LVU1805
 5730 0046 034A     		ldr	r2, .L457
 5731 0048 1060     		str	r0, [r2]
 5732 004a F5E7     		b	.L451
 5733              	.LVL622:
 5734              	.L452:
 903:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5735              		.loc 1 903 7 is_stmt 0 discriminator 1 view .LVU1806
 5736              	.LBE50:
 890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5737              		.loc 1 890 12 view .LVU1807
 5738 004c 4FF0FF30 		mov	r0, #-1
 5739              	.LVL623:
 890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5740              		.loc 1 890 12 view .LVU1808
 5741 0050 E8E7     		b	.L447
 5742              	.L458:
 5743 0052 00BF     		.align	2
 5744              	.L457:
 5745 0054 00000000 		.word	errno
 5746              		.cfi_endproc
 5747              	.LFE380:
 5749              		.section	.rodata.lwip_recvfrom.str1.4,"aMS",%progbits,1
 5750              		.align	2
 5751              	.LC25:
 5752 0000 6C776970 		.ascii	"lwip_recvfrom\000"
 5752      5F726563 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 198


 5752      7666726F 
 5752      6D00
 5753              		.section	.text.lwip_recvfrom,"ax",%progbits
 5754              		.align	1
 5755              		.global	lwip_recvfrom
 5756              		.syntax unified
 5757              		.thumb
 5758              		.thumb_func
 5760              	lwip_recvfrom:
 5761              	.LVL624:
 5762              	.LFB385:
1201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5763              		.loc 1 1201 1 is_stmt 1 view -0
 5764              		.cfi_startproc
 5765              		@ args = 8, pretend = 0, frame = 40
 5766              		@ frame_needed = 0, uses_anonymous_args = 0
1201:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 5767              		.loc 1 1201 1 is_stmt 0 view .LVU1810
 5768 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5769              	.LCFI65:
 5770              		.cfi_def_cfa_offset 28
 5771              		.cfi_offset 4, -28
 5772              		.cfi_offset 5, -24
 5773              		.cfi_offset 6, -20
 5774              		.cfi_offset 7, -16
 5775              		.cfi_offset 8, -12
 5776              		.cfi_offset 9, -8
 5777              		.cfi_offset 14, -4
 5778 0004 8DB0     		sub	sp, sp, #52
 5779              	.LCFI66:
 5780              		.cfi_def_cfa_offset 80
 5781 0006 0746     		mov	r7, r0
 5782 0008 8946     		mov	r9, r1
 5783 000a 1446     		mov	r4, r2
 5784 000c 1E46     		mov	r6, r3
 5785 000e 159D     		ldr	r5, [sp, #84]
1202:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t ret;
 5786              		.loc 1 1202 3 is_stmt 1 view .LVU1811
1203:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5787              		.loc 1 1203 3 view .LVU1812
1205:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock = get_socket(s);
 5788              		.loc 1 1205 98 view .LVU1813
1206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5789              		.loc 1 1206 3 view .LVU1814
1206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 5790              		.loc 1 1206 10 is_stmt 0 view .LVU1815
 5791 0010 FFF7FEFF 		bl	get_socket
 5792              	.LVL625:
1207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5793              		.loc 1 1207 3 is_stmt 1 view .LVU1816
1207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 5794              		.loc 1 1207 6 is_stmt 0 view .LVU1817
 5795 0014 0028     		cmp	r0, #0
 5796 0016 4ED0     		beq	.L467
 5797 0018 8046     		mov	r8, r0
1211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
 5798              		.loc 1 1211 3 is_stmt 1 view .LVU1818
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 199


1211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
 5799              		.loc 1 1211 7 is_stmt 0 view .LVU1819
 5800 001a 0368     		ldr	r3, [r0]
 5801 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1211:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ret = lwip_recv_tcp(sock, mem, len, flags);
 5802              		.loc 1 1211 6 view .LVU1820
 5803 001e 03F0F003 		and	r3, r3, #240
 5804 0022 102B     		cmp	r3, #16
 5805 0024 25D0     		beq	.L471
 5806              	.LBB51:
1219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct iovec vec;
 5807              		.loc 1 1219 5 is_stmt 1 view .LVU1821
1219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct iovec vec;
 5808              		.loc 1 1219 11 is_stmt 0 view .LVU1822
 5809 0026 0022     		movs	r2, #0
 5810 0028 ADF80A20 		strh	r2, [sp, #10]	@ movhi
1220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     struct msghdr msg;
 5811              		.loc 1 1220 5 is_stmt 1 view .LVU1823
1221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 5812              		.loc 1 1221 5 view .LVU1824
1222:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_base = mem;
 5813              		.loc 1 1222 5 view .LVU1825
1223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_len = len;
 5814              		.loc 1 1223 5 view .LVU1826
1223:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     vec.iov_len = len;
 5815              		.loc 1 1223 18 is_stmt 0 view .LVU1827
 5816 002c CDF80C90 		str	r9, [sp, #12]
1224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_control = NULL;
 5817              		.loc 1 1224 5 is_stmt 1 view .LVU1828
1224:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_control = NULL;
 5818              		.loc 1 1224 17 is_stmt 0 view .LVU1829
 5819 0030 0494     		str	r4, [sp, #16]
1225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_controllen = 0;
 5820              		.loc 1 1225 5 is_stmt 1 view .LVU1830
1225:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_controllen = 0;
 5821              		.loc 1 1225 21 is_stmt 0 view .LVU1831
 5822 0032 0992     		str	r2, [sp, #36]
1226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_flags = 0;
 5823              		.loc 1 1226 5 is_stmt 1 view .LVU1832
1226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_flags = 0;
 5824              		.loc 1 1226 24 is_stmt 0 view .LVU1833
 5825 0034 0A92     		str	r2, [sp, #40]
1227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iov = &vec;
 5826              		.loc 1 1227 5 is_stmt 1 view .LVU1834
1227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iov = &vec;
 5827              		.loc 1 1227 19 is_stmt 0 view .LVU1835
 5828 0036 0B92     		str	r2, [sp, #44]
1228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iovlen = 1;
 5829              		.loc 1 1228 5 is_stmt 1 view .LVU1836
1228:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_iovlen = 1;
 5830              		.loc 1 1228 17 is_stmt 0 view .LVU1837
 5831 0038 03AB     		add	r3, sp, #12
 5832 003a 0793     		str	r3, [sp, #28]
1229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_name = from;
 5833              		.loc 1 1229 5 is_stmt 1 view .LVU1838
1229:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_name = from;
 5834              		.loc 1 1229 20 is_stmt 0 view .LVU1839
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 200


 5835 003c 0123     		movs	r3, #1
 5836 003e 0893     		str	r3, [sp, #32]
1230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_namelen = (fromlen ? *fromlen : 0);
 5837              		.loc 1 1230 5 is_stmt 1 view .LVU1840
1230:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     msg.msg_namelen = (fromlen ? *fromlen : 0);
 5838              		.loc 1 1230 18 is_stmt 0 view .LVU1841
 5839 0040 149B     		ldr	r3, [sp, #80]
 5840 0042 0593     		str	r3, [sp, #20]
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5841              		.loc 1 1231 5 is_stmt 1 view .LVU1842
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5842              		.loc 1 1231 43 is_stmt 0 view .LVU1843
 5843 0044 25B3     		cbz	r5, .L468
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5844              		.loc 1 1231 43 discriminator 1 view .LVU1844
 5845 0046 2B68     		ldr	r3, [r5]
 5846              	.L462:
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5847              		.loc 1 1231 21 discriminator 4 view .LVU1845
 5848 0048 0693     		str	r3, [sp, #24]
1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 5849              		.loc 1 1232 5 is_stmt 1 discriminator 4 view .LVU1846
1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 5850              		.loc 1 1232 11 is_stmt 0 discriminator 4 view .LVU1847
 5851 004a 0097     		str	r7, [sp]
 5852 004c 0DF10A03 		add	r3, sp, #10
 5853 0050 05AA     		add	r2, sp, #20
 5854 0052 3146     		mov	r1, r6
 5855 0054 4046     		mov	r0, r8
 5856              	.LVL626:
1232:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 5857              		.loc 1 1232 11 discriminator 4 view .LVU1848
 5858 0056 FFF7FEFF 		bl	lwip_recvfrom_udp_raw
 5859              	.LVL627:
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 5860              		.loc 1 1233 5 is_stmt 1 discriminator 4 view .LVU1849
1233:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvfrom[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 5861              		.loc 1 1233 8 is_stmt 0 discriminator 4 view .LVU1850
 5862 005a D8B9     		cbnz	r0, .L472
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5863              		.loc 1 1240 5 is_stmt 1 view .LVU1851
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5864              		.loc 1 1240 20 is_stmt 0 view .LVU1852
 5865 005c BDF80A00 		ldrh	r0, [sp, #10]
 5866              	.LVL628:
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5867              		.loc 1 1240 20 view .LVU1853
 5868 0060 A042     		cmp	r0, r4
 5869 0062 28BF     		it	cs
 5870 0064 2046     		movcs	r0, r4
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5871              		.loc 1 1240 11 view .LVU1854
 5872 0066 6FF00043 		mvn	r3, #-2147483648
 5873 006a 9842     		cmp	r0, r3
 5874 006c 1AD2     		bcs	.L469
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5875              		.loc 1 1240 11 discriminator 1 view .LVU1855
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 201


 5876 006e 0446     		mov	r4, r0
 5877              	.LVL629:
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5878              		.loc 1 1240 11 discriminator 1 view .LVU1856
 5879 0070 1AE0     		b	.L465
 5880              	.LVL630:
 5881              	.L471:
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5882              		.loc 1 1240 11 discriminator 1 view .LVU1857
 5883              	.LBE51:
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
 5884              		.loc 1 1212 5 is_stmt 1 view .LVU1858
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
 5885              		.loc 1 1212 11 is_stmt 0 view .LVU1859
 5886 0072 3346     		mov	r3, r6
 5887 0074 2246     		mov	r2, r4
 5888 0076 4946     		mov	r1, r9
 5889 0078 FFF7FEFF 		bl	lwip_recv_tcp
 5890              	.LVL631:
1212:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_recv_tcp_from(sock, from, fromlen, "lwip_recvfrom", s, ret);
 5891              		.loc 1 1212 11 view .LVU1860
 5892 007c 0446     		mov	r4, r0
 5893              	.LVL632:
1213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5894              		.loc 1 1213 5 is_stmt 1 view .LVU1861
 5895 007e 0190     		str	r0, [sp, #4]
 5896 0080 0097     		str	r7, [sp]
 5897 0082 0E4B     		ldr	r3, .L473
 5898 0084 2A46     		mov	r2, r5
 5899 0086 1499     		ldr	r1, [sp, #80]
 5900 0088 4046     		mov	r0, r8
 5901              	.LVL633:
1213:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 5902              		.loc 1 1213 5 is_stmt 0 view .LVU1862
 5903 008a FFF7FEFF 		bl	lwip_recv_tcp_from
 5904              	.LVL634:
1214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return ret;
 5905              		.loc 1 1214 22 is_stmt 1 view .LVU1863
1215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else
 5906              		.loc 1 1215 5 view .LVU1864
1215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else
 5907              		.loc 1 1215 12 is_stmt 0 view .LVU1865
 5908 008e 0EE0     		b	.L459
 5909              	.LVL635:
 5910              	.L468:
 5911              	.LBB53:
1231:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, &msg, &datagram_len, s);
 5912              		.loc 1 1231 43 view .LVU1866
 5913 0090 0023     		movs	r3, #0
 5914 0092 D9E7     		b	.L462
 5915              	.LVL636:
 5916              	.L472:
1235:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
 5917              		.loc 1 1235 56 is_stmt 1 view .LVU1867
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5918              		.loc 1 1236 7 view .LVU1868
 5919              	.LBB52:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 202


1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5920              		.loc 1 1236 7 view .LVU1869
 5921 0094 FFF7FEFF 		bl	err_to_errno
 5922              	.LVL637:
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5923              		.loc 1 1236 7 view .LVU1870
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5924              		.loc 1 1236 7 view .LVU1871
 5925 0098 08B1     		cbz	r0, .L464
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5926              		.loc 1 1236 7 discriminator 1 view .LVU1872
 5927 009a 094A     		ldr	r2, .L473+4
 5928 009c 1060     		str	r0, [r2]
 5929              	.L464:
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5930              		.loc 1 1236 7 discriminator 3 view .LVU1873
 5931              	.LBE52:
1236:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 5932              		.loc 1 1236 7 discriminator 3 view .LVU1874
1237:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 5933              		.loc 1 1237 24 discriminator 3 view .LVU1875
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5934              		.loc 1 1238 7 discriminator 3 view .LVU1876
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5935              		.loc 1 1238 14 is_stmt 0 discriminator 3 view .LVU1877
 5936 009e 4FF0FF34 		mov	r4, #-1
 5937              	.LVL638:
1238:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5938              		.loc 1 1238 14 discriminator 3 view .LVU1878
 5939 00a2 04E0     		b	.L459
 5940              	.LVL639:
 5941              	.L469:
1240:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (fromlen) {
 5942              		.loc 1 1240 11 view .LVU1879
 5943 00a4 6FF00044 		mvn	r4, #-2147483648
 5944              	.LVL640:
 5945              	.L465:
1241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *fromlen = msg.msg_namelen;
 5946              		.loc 1 1241 5 is_stmt 1 discriminator 4 view .LVU1880
1241:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *fromlen = msg.msg_namelen;
 5947              		.loc 1 1241 8 is_stmt 0 discriminator 4 view .LVU1881
 5948 00a8 0DB1     		cbz	r5, .L459
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5949              		.loc 1 1242 7 is_stmt 1 view .LVU1882
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5950              		.loc 1 1242 21 is_stmt 0 view .LVU1883
 5951 00aa 069B     		ldr	r3, [sp, #24]
1242:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 5952              		.loc 1 1242 16 view .LVU1884
 5953 00ac 2B60     		str	r3, [r5]
 5954              	.LBE53:
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5955              		.loc 1 1246 3 is_stmt 1 view .LVU1885
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5956              		.loc 1 1246 3 view .LVU1886
 5957              	.LVL641:
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 203


 5958              		.loc 1 1246 3 view .LVU1887
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5959              		.loc 1 1246 3 view .LVU1888
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5960              		.loc 1 1246 3 view .LVU1889
1246:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 5961              		.loc 1 1246 3 view .LVU1890
1247:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
 5962              		.loc 1 1247 20 view .LVU1891
1248:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 5963              		.loc 1 1248 3 view .LVU1892
 5964              	.L459:
1249:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 5965              		.loc 1 1249 1 is_stmt 0 view .LVU1893
 5966 00ae 2046     		mov	r0, r4
 5967 00b0 0DB0     		add	sp, sp, #52
 5968              	.LCFI67:
 5969              		.cfi_remember_state
 5970              		.cfi_def_cfa_offset 28
 5971              		@ sp needed
 5972 00b2 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5973              	.LVL642:
 5974              	.L467:
 5975              	.LCFI68:
 5976              		.cfi_restore_state
1208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5977              		.loc 1 1208 12 view .LVU1894
 5978 00b6 4FF0FF34 		mov	r4, #-1
 5979              	.LVL643:
1208:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 5980              		.loc 1 1208 12 view .LVU1895
 5981 00ba F8E7     		b	.L459
 5982              	.L474:
 5983              		.align	2
 5984              	.L473:
 5985 00bc 00000000 		.word	.LC25
 5986 00c0 00000000 		.word	errno
 5987              		.cfi_endproc
 5988              	.LFE385:
 5990              		.section	.text.lwip_read,"ax",%progbits
 5991              		.align	1
 5992              		.global	lwip_read
 5993              		.syntax unified
 5994              		.thumb
 5995              		.thumb_func
 5997              	lwip_read:
 5998              	.LVL644:
 5999              	.LFB386:
1253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
 6000              		.loc 1 1253 1 is_stmt 1 view -0
 6001              		.cfi_startproc
 6002              		@ args = 0, pretend = 0, frame = 0
 6003              		@ frame_needed = 0, uses_anonymous_args = 0
1253:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, 0, NULL, NULL);
 6004              		.loc 1 1253 1 is_stmt 0 view .LVU1897
 6005 0000 00B5     		push	{lr}
 6006              	.LCFI69:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 204


 6007              		.cfi_def_cfa_offset 4
 6008              		.cfi_offset 14, -4
 6009 0002 83B0     		sub	sp, sp, #12
 6010              	.LCFI70:
 6011              		.cfi_def_cfa_offset 16
1254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6012              		.loc 1 1254 3 is_stmt 1 view .LVU1898
1254:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6013              		.loc 1 1254 10 is_stmt 0 view .LVU1899
 6014 0004 0023     		movs	r3, #0
 6015 0006 0193     		str	r3, [sp, #4]
 6016 0008 0093     		str	r3, [sp]
 6017 000a FFF7FEFF 		bl	lwip_recvfrom
 6018              	.LVL645:
1255:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6019              		.loc 1 1255 1 view .LVU1900
 6020 000e 03B0     		add	sp, sp, #12
 6021              	.LCFI71:
 6022              		.cfi_def_cfa_offset 4
 6023              		@ sp needed
 6024 0010 5DF804FB 		ldr	pc, [sp], #4
 6025              		.cfi_endproc
 6026              	.LFE386:
 6028              		.section	.text.lwip_recv,"ax",%progbits
 6029              		.align	1
 6030              		.global	lwip_recv
 6031              		.syntax unified
 6032              		.thumb
 6033              		.thumb_func
 6035              	lwip_recv:
 6036              	.LVL646:
 6037              	.LFB388:
1276:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
 6038              		.loc 1 1276 1 is_stmt 1 view -0
 6039              		.cfi_startproc
 6040              		@ args = 0, pretend = 0, frame = 0
 6041              		@ frame_needed = 0, uses_anonymous_args = 0
1276:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvfrom(s, mem, len, flags, NULL, NULL);
 6042              		.loc 1 1276 1 is_stmt 0 view .LVU1902
 6043 0000 10B5     		push	{r4, lr}
 6044              	.LCFI72:
 6045              		.cfi_def_cfa_offset 8
 6046              		.cfi_offset 4, -8
 6047              		.cfi_offset 14, -4
 6048 0002 82B0     		sub	sp, sp, #8
 6049              	.LCFI73:
 6050              		.cfi_def_cfa_offset 16
1277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6051              		.loc 1 1277 3 is_stmt 1 view .LVU1903
1277:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6052              		.loc 1 1277 10 is_stmt 0 view .LVU1904
 6053 0004 0024     		movs	r4, #0
 6054 0006 0194     		str	r4, [sp, #4]
 6055 0008 0094     		str	r4, [sp]
 6056 000a FFF7FEFF 		bl	lwip_recvfrom
 6057              	.LVL647:
1278:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 205


 6058              		.loc 1 1278 1 view .LVU1905
 6059 000e 02B0     		add	sp, sp, #8
 6060              	.LCFI74:
 6061              		.cfi_def_cfa_offset 8
 6062              		@ sp needed
 6063 0010 10BD     		pop	{r4, pc}
 6064              		.cfi_endproc
 6065              	.LFE388:
 6067              		.section	.rodata.lwip_recvmsg.str1.4,"aMS",%progbits,1
 6068              		.align	2
 6069              	.LC26:
 6070 0000 6C776970 		.ascii	"lwip_recvmsg: invalid message pointer\000"
 6070      5F726563 
 6070      766D7367 
 6070      3A20696E 
 6070      76616C69 
 6071 0026 0000     		.align	2
 6072              	.LC27:
 6073 0028 6C776970 		.ascii	"lwip_recvmsg: unsupported flags\000"
 6073      5F726563 
 6073      766D7367 
 6073      3A20756E 
 6073      73757070 
 6074              		.section	.text.lwip_recvmsg,"ax",%progbits
 6075              		.align	1
 6076              		.global	lwip_recvmsg
 6077              		.syntax unified
 6078              		.thumb
 6079              		.thumb_func
 6081              	lwip_recvmsg:
 6082              	.LVL648:
 6083              	.LFB389:
1282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 6084              		.loc 1 1282 1 is_stmt 1 view -0
 6085              		.cfi_startproc
 6086              		@ args = 0, pretend = 0, frame = 8
 6087              		@ frame_needed = 0, uses_anonymous_args = 0
1282:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 6088              		.loc 1 1282 1 is_stmt 0 view .LVU1907
 6089 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 6090              	.LCFI75:
 6091              		.cfi_def_cfa_offset 32
 6092              		.cfi_offset 4, -32
 6093              		.cfi_offset 5, -28
 6094              		.cfi_offset 6, -24
 6095              		.cfi_offset 7, -20
 6096              		.cfi_offset 8, -16
 6097              		.cfi_offset 9, -12
 6098              		.cfi_offset 10, -8
 6099              		.cfi_offset 14, -4
 6100 0004 84B0     		sub	sp, sp, #16
 6101              	.LCFI76:
 6102              		.cfi_def_cfa_offset 48
1283:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 6103              		.loc 1 1283 3 is_stmt 1 view .LVU1908
1284:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ssize_t buflen;
 6104              		.loc 1 1284 3 view .LVU1909
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 206


1285:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6105              		.loc 1 1285 3 view .LVU1910
1287:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: invalid message pointer", message != NULL, return ERR_ARG;);
 6106              		.loc 1 1287 104 view .LVU1911
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6107              		.loc 1 1288 3 view .LVU1912
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6108              		.loc 1 1288 3 view .LVU1913
 6109 0006 19B3     		cbz	r1, .L501
 6110 0008 8046     		mov	r8, r0
 6111 000a 1746     		mov	r7, r2
 6112 000c 0D46     		mov	r5, r1
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6113              		.loc 1 1288 3 discriminator 2 view .LVU1914
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6114              		.loc 1 1288 3 discriminator 2 view .LVU1915
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6115              		.loc 1 1289 3 discriminator 2 view .LVU1916
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6116              		.loc 1 1289 3 discriminator 2 view .LVU1917
 6117 000e 32F00906 		bics	r6, r2, #9
 6118 0012 27D1     		bne	.L502
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6119              		.loc 1 1289 3 discriminator 2 view .LVU1918
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6120              		.loc 1 1289 3 discriminator 2 view .LVU1919
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6121              		.loc 1 1292 3 discriminator 2 view .LVU1920
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6122              		.loc 1 1292 15 is_stmt 0 discriminator 2 view .LVU1921
 6123 0014 CB68     		ldr	r3, [r1, #12]
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6124              		.loc 1 1292 34 discriminator 2 view .LVU1922
 6125 0016 013B     		subs	r3, r3, #1
1292:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EMSGSIZE);
 6126              		.loc 1 1292 6 discriminator 2 view .LVU1923
 6127 0018 B3F5806F 		cmp	r3, #1024
 6128 001c 2FD2     		bcs	.L503
1297:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 6129              		.loc 1 1297 3 is_stmt 1 view .LVU1924
1297:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 6130              		.loc 1 1297 10 is_stmt 0 view .LVU1925
 6131 001e FFF7FEFF 		bl	get_socket
 6132              	.LVL649:
1298:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6133              		.loc 1 1298 3 is_stmt 1 view .LVU1926
1298:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6134              		.loc 1 1298 6 is_stmt 0 view .LVU1927
 6135 0022 8146     		mov	r9, r0
 6136 0024 0028     		cmp	r0, #0
 6137 0026 00F08D80 		beq	.L499
1303:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   for (i = 0; i < message->msg_iovlen; i++) {
 6138              		.loc 1 1303 10 view .LVU1928
 6139 002a 3446     		mov	r4, r6
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6140              		.loc 1 1304 10 view .LVU1929
 6141 002c 3346     		mov	r3, r6
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 207


 6142              	.LVL650:
 6143              	.L484:
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6144              		.loc 1 1304 15 is_stmt 1 discriminator 1 view .LVU1930
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6145              		.loc 1 1304 26 is_stmt 0 discriminator 1 view .LVU1931
 6146 002e EA68     		ldr	r2, [r5, #12]
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6147              		.loc 1 1304 3 discriminator 1 view .LVU1932
 6148 0030 9A42     		cmp	r2, r3
 6149 0032 36DD     		ble	.L504
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6150              		.loc 1 1305 5 is_stmt 1 view .LVU1933
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6151              		.loc 1 1305 17 is_stmt 0 view .LVU1934
 6152 0034 A968     		ldr	r1, [r5, #8]
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6153              		.loc 1 1305 26 view .LVU1935
 6154 0036 01EBC300 		add	r0, r1, r3, lsl #3
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6155              		.loc 1 1305 29 view .LVU1936
 6156 003a 51F83320 		ldr	r2, [r1, r3, lsl #3]
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6157              		.loc 1 1305 8 view .LVU1937
 6158 003e 22B3     		cbz	r2, .L485
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6159              		.loc 1 1305 80 discriminator 1 view .LVU1938
 6160 0040 4268     		ldr	r2, [r0, #4]
1305:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((size_t)(ssize_t)message->msg_iov[i].iov_len != message->msg_iov[i].iov_len) ||
 6161              		.loc 1 1305 95 discriminator 1 view .LVU1939
 6162 0042 002A     		cmp	r2, #0
 6163 0044 21DD     		ble	.L485
1307:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(ERR_VAL));
 6164              		.loc 1 1307 10 view .LVU1940
 6165 0046 1444     		add	r4, r4, r2
 6166              	.LVL651:
1306:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ((ssize_t)(buflen + (ssize_t)message->msg_iov[i].iov_len) <= 0)) {
 6167              		.loc 1 1306 87 view .LVU1941
 6168 0048 002C     		cmp	r4, #0
 6169 004a 1EDD     		ble	.L485
1312:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6170              		.loc 1 1312 5 is_stmt 1 discriminator 2 view .LVU1942
 6171              	.LVL652:
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6172              		.loc 1 1304 40 discriminator 2 view .LVU1943
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6173              		.loc 1 1304 41 is_stmt 0 discriminator 2 view .LVU1944
 6174 004c 0133     		adds	r3, r3, #1
 6175              	.LVL653:
1304:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if ((message->msg_iov[i].iov_base == NULL) || ((ssize_t)message->msg_iov[i].iov_len <= 0) ||
 6176              		.loc 1 1304 41 discriminator 2 view .LVU1945
 6177 004e EEE7     		b	.L484
 6178              	.LVL654:
 6179              	.L501:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6180              		.loc 1 1288 3 is_stmt 1 discriminator 1 view .LVU1946
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 208


 6181              		.loc 1 1288 3 discriminator 1 view .LVU1947
 6182 0050 3E4B     		ldr	r3, .L508
 6183 0052 4FF4A162 		mov	r2, #1288
 6184              	.LVL655:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6185              		.loc 1 1288 3 is_stmt 0 discriminator 1 view .LVU1948
 6186 0056 3E49     		ldr	r1, .L508+4
 6187              	.LVL656:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6188              		.loc 1 1288 3 discriminator 1 view .LVU1949
 6189 0058 3E48     		ldr	r0, .L508+8
 6190              	.LVL657:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6191              		.loc 1 1288 3 discriminator 1 view .LVU1950
 6192 005a FFF7FEFF 		bl	printf
 6193              	.LVL658:
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6194              		.loc 1 1288 3 is_stmt 1 discriminator 1 view .LVU1951
1288:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_recvmsg: unsupported flags", (flags & ~(MSG_PEEK|MSG_DONTWAIT)) == 0,
 6195              		.loc 1 1288 3 discriminator 1 view .LVU1952
 6196 005e 6FF00F00 		mvn	r0, #15
 6197 0062 1BE0     		b	.L479
 6198              	.LVL659:
 6199              	.L502:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6200              		.loc 1 1289 3 discriminator 1 view .LVU1953
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6201              		.loc 1 1289 3 discriminator 1 view .LVU1954
 6202 0064 394B     		ldr	r3, .L508
 6203 0066 40F20952 		movw	r2, #1289
 6204              	.LVL660:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6205              		.loc 1 1289 3 is_stmt 0 discriminator 1 view .LVU1955
 6206 006a 3B49     		ldr	r1, .L508+12
 6207              	.LVL661:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6208              		.loc 1 1289 3 discriminator 1 view .LVU1956
 6209 006c 3948     		ldr	r0, .L508+8
 6210              	.LVL662:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6211              		.loc 1 1289 3 discriminator 1 view .LVU1957
 6212 006e FFF7FEFF 		bl	printf
 6213              	.LVL663:
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6214              		.loc 1 1289 3 is_stmt 1 discriminator 1 view .LVU1958
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6215              		.loc 1 1289 3 discriminator 1 view .LVU1959
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6216              		.loc 1 1289 3 discriminator 1 view .LVU1960
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6217              		.loc 1 1289 3 discriminator 1 view .LVU1961
 6218 0072 3A4B     		ldr	r3, .L508+16
 6219 0074 5F22     		movs	r2, #95
 6220 0076 1A60     		str	r2, [r3]
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
 6221              		.loc 1 1289 3 discriminator 1 view .LVU1962
1289:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EOPNOTSUPP); return -1;);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 209


 6222              		.loc 1 1289 3 discriminator 1 view .LVU1963
 6223 0078 4FF0FF30 		mov	r0, #-1
 6224 007c 0EE0     		b	.L479
 6225              	.LVL664:
 6226              	.L503:
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6227              		.loc 1 1293 5 discriminator 1 view .LVU1964
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6228              		.loc 1 1293 5 discriminator 1 view .LVU1965
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6229              		.loc 1 1293 5 discriminator 1 view .LVU1966
 6230 007e 374B     		ldr	r3, .L508+16
 6231 0080 5A22     		movs	r2, #90
 6232              	.LVL665:
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6233              		.loc 1 1293 5 is_stmt 0 discriminator 1 view .LVU1967
 6234 0082 1A60     		str	r2, [r3]
1293:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6235              		.loc 1 1293 5 is_stmt 1 discriminator 1 view .LVU1968
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6236              		.loc 1 1294 5 discriminator 1 view .LVU1969
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6237              		.loc 1 1294 12 is_stmt 0 discriminator 1 view .LVU1970
 6238 0084 4FF0FF30 		mov	r0, #-1
 6239              	.LVL666:
1294:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6240              		.loc 1 1294 12 discriminator 1 view .LVU1971
 6241 0088 08E0     		b	.L479
 6242              	.LVL667:
 6243              	.L485:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6244              		.loc 1 1308 7 is_stmt 1 view .LVU1972
 6245              	.LBB54:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6246              		.loc 1 1308 7 view .LVU1973
 6247 008a 6FF00500 		mvn	r0, #5
 6248 008e FFF7FEFF 		bl	err_to_errno
 6249              	.LVL668:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6250              		.loc 1 1308 7 view .LVU1974
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6251              		.loc 1 1308 7 view .LVU1975
 6252 0092 08B1     		cbz	r0, .L487
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6253              		.loc 1 1308 7 discriminator 1 view .LVU1976
 6254 0094 314A     		ldr	r2, .L508+16
 6255 0096 1060     		str	r0, [r2]
 6256              	.L487:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6257              		.loc 1 1308 7 discriminator 3 view .LVU1977
 6258              	.LBE54:
1308:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6259              		.loc 1 1308 7 discriminator 3 view .LVU1978
1309:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 6260              		.loc 1 1309 24 discriminator 3 view .LVU1979
1310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6261              		.loc 1 1310 7 discriminator 3 view .LVU1980
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 210


1310:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6262              		.loc 1 1310 14 is_stmt 0 discriminator 3 view .LVU1981
 6263 0098 4FF0FF30 		mov	r0, #-1
 6264              	.LVL669:
 6265              	.L479:
1379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6266              		.loc 1 1379 1 view .LVU1982
 6267 009c 04B0     		add	sp, sp, #16
 6268              	.LCFI77:
 6269              		.cfi_remember_state
 6270              		.cfi_def_cfa_offset 32
 6271              		@ sp needed
 6272 009e BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 6273              	.LVL670:
 6274              	.L504:
 6275              	.LCFI78:
 6276              		.cfi_restore_state
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6277              		.loc 1 1315 3 is_stmt 1 view .LVU1983
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6278              		.loc 1 1315 7 is_stmt 0 view .LVU1984
 6279 00a2 D9F80030 		ldr	r3, [r9]
 6280              	.LVL671:
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6281              		.loc 1 1315 7 view .LVU1985
 6282 00a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1315:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6283              		.loc 1 1315 6 view .LVU1986
 6284 00a8 03F0F003 		and	r3, r3, #240
 6285 00ac 102B     		cmp	r3, #16
 6286 00ae 15D0     		beq	.L505
 6287              	.LBB55:
1356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 6288              		.loc 1 1356 5 is_stmt 1 view .LVU1987
1356:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err_t err;
 6289              		.loc 1 1356 11 is_stmt 0 view .LVU1988
 6290 00b0 0023     		movs	r3, #0
 6291 00b2 ADF80E30 		strh	r3, [sp, #14]	@ movhi
1357:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = lwip_recvfrom_udp_raw(sock, flags, message, &datagram_len, s);
 6292              		.loc 1 1357 5 is_stmt 1 view .LVU1989
1358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 6293              		.loc 1 1358 5 view .LVU1990
1358:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (err != ERR_OK) {
 6294              		.loc 1 1358 11 is_stmt 0 view .LVU1991
 6295 00b6 CDF80080 		str	r8, [sp]
 6296 00ba 0DF10E03 		add	r3, sp, #14
 6297 00be 2A46     		mov	r2, r5
 6298 00c0 3946     		mov	r1, r7
 6299 00c2 4846     		mov	r0, r9
 6300 00c4 FFF7FEFF 		bl	lwip_recvfrom_udp_raw
 6301              	.LVL672:
1359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 6302              		.loc 1 1359 5 is_stmt 1 view .LVU1992
1359:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_recvmsg[UDP/RAW](%d): buf == NULL, error is \"%s\"!\n",
 6303              		.loc 1 1359 8 is_stmt 0 view .LVU1993
 6304 00c8 A0BB     		cbnz	r0, .L506
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 211


 6305              		.loc 1 1366 5 is_stmt 1 view .LVU1994
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
 6306              		.loc 1 1366 22 is_stmt 0 view .LVU1995
 6307 00ca BDF80E00 		ldrh	r0, [sp, #14]
 6308              	.LVL673:
1366:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       message->msg_flags |= MSG_TRUNC;
 6309              		.loc 1 1366 8 view .LVU1996
 6310 00ce A042     		cmp	r0, r4
 6311 00d0 E4DD     		ble	.L479
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6312              		.loc 1 1367 7 is_stmt 1 view .LVU1997
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6313              		.loc 1 1367 26 is_stmt 0 view .LVU1998
 6314 00d2 AB69     		ldr	r3, [r5, #24]
 6315 00d4 43F00403 		orr	r3, r3, #4
 6316 00d8 AB61     		str	r3, [r5, #24]
 6317 00da DFE7     		b	.L479
 6318              	.L505:
1367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6319              		.loc 1 1367 26 view .LVU1999
 6320              	.LBE55:
 6321              	.LBB57:
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     message->msg_flags = 0;
 6322              		.loc 1 1317 5 is_stmt 1 view .LVU2000
 6323              	.LVL674:
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* recv the data */
 6324              		.loc 1 1318 5 view .LVU2001
1318:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* recv the data */
 6325              		.loc 1 1318 24 is_stmt 0 view .LVU2002
 6326 00dc 0023     		movs	r3, #0
 6327 00de AB61     		str	r3, [r5, #24]
1320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < message->msg_iovlen; i++) {
 6328              		.loc 1 1320 5 is_stmt 1 view .LVU2003
 6329              	.LVL675:
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6330              		.loc 1 1321 5 view .LVU2004
1317:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     message->msg_flags = 0;
 6331              		.loc 1 1317 9 is_stmt 0 view .LVU2005
 6332 00e0 3C46     		mov	r4, r7
1320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     for (i = 0; i < message->msg_iovlen; i++) {
 6333              		.loc 1 1320 12 view .LVU2006
 6334 00e2 B246     		mov	r10, r6
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6335              		.loc 1 1321 5 view .LVU2007
 6336 00e4 0CE0     		b	.L490
 6337              	.LVL676:
 6338              	.L491:
 6339              	.LBB58:
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6340              		.loc 1 1328 7 is_stmt 1 view .LVU2008
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6341              		.loc 1 1328 10 is_stmt 0 view .LVU2009
 6342 00e6 0028     		cmp	r0, #0
 6343 00e8 1DDB     		blt	.L492
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6344              		.loc 1 1328 59 discriminator 1 view .LVU2010
 6345 00ea AB68     		ldr	r3, [r5, #8]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 212


1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6346              		.loc 1 1328 68 discriminator 1 view .LVU2011
 6347 00ec 4344     		add	r3, r3, r8
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6348              		.loc 1 1328 71 discriminator 1 view .LVU2012
 6349 00ee 5B68     		ldr	r3, [r3, #4]
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6350              		.loc 1 1328 29 discriminator 1 view .LVU2013
 6351 00f0 8342     		cmp	r3, r0
 6352 00f2 18DC     		bgt	.L492
1328:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           (flags & MSG_PEEK)) {
 6353              		.loc 1 1328 81 discriminator 2 view .LVU2014
 6354 00f4 17F0010F 		tst	r7, #1
 6355 00f8 15D1     		bne	.L492
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6356              		.loc 1 1338 7 is_stmt 1 discriminator 2 view .LVU2015
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6357              		.loc 1 1338 18 is_stmt 0 discriminator 2 view .LVU2016
 6358 00fa 44F00804 		orr	r4, r4, #8
 6359              	.LVL677:
1338:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6360              		.loc 1 1338 18 discriminator 2 view .LVU2017
 6361              	.LBE58:
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6362              		.loc 1 1321 42 is_stmt 1 discriminator 2 view .LVU2018
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6363              		.loc 1 1321 43 is_stmt 0 discriminator 2 view .LVU2019
 6364 00fe 0136     		adds	r6, r6, #1
 6365              	.LVL678:
 6366              	.L490:
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6367              		.loc 1 1321 17 is_stmt 1 discriminator 1 view .LVU2020
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6368              		.loc 1 1321 28 is_stmt 0 discriminator 1 view .LVU2021
 6369 0100 EB68     		ldr	r3, [r5, #12]
1321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* try to receive into this vector's buffer */
 6370              		.loc 1 1321 5 discriminator 1 view .LVU2022
 6371 0102 B342     		cmp	r3, r6
 6372 0104 14DD     		ble	.L507
 6373              	.LBB59:
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
 6374              		.loc 1 1323 7 is_stmt 1 view .LVU2023
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
 6375              		.loc 1 1323 56 is_stmt 0 view .LVU2024
 6376 0106 A968     		ldr	r1, [r5, #8]
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
 6377              		.loc 1 1323 65 view .LVU2025
 6378 0108 4FEAC608 		lsl	r8, r6, #3
 6379 010c 01EBC602 		add	r2, r1, r6, lsl #3
1323:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recvd_local > 0) {
 6380              		.loc 1 1323 29 view .LVU2026
 6381 0110 2346     		mov	r3, r4
 6382 0112 5268     		ldr	r2, [r2, #4]
 6383 0114 51F83610 		ldr	r1, [r1, r6, lsl #3]
 6384 0118 4846     		mov	r0, r9
 6385 011a FFF7FEFF 		bl	lwip_recv_tcp
 6386              	.LVL679:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 213


1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* sum up received bytes */
 6387              		.loc 1 1324 7 is_stmt 1 view .LVU2027
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* sum up received bytes */
 6388              		.loc 1 1324 10 is_stmt 0 view .LVU2028
 6389 011e 0028     		cmp	r0, #0
1324:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* sum up received bytes */
 6390              		.loc 1 1324 10 view .LVU2029
 6391 0120 E1DD     		ble	.L491
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6392              		.loc 1 1326 9 is_stmt 1 view .LVU2030
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6393              		.loc 1 1326 16 is_stmt 0 view .LVU2031
 6394 0122 8244     		add	r10, r10, r0
 6395              	.LVL680:
1326:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6396              		.loc 1 1326 16 view .LVU2032
 6397 0124 DFE7     		b	.L491
 6398              	.L492:
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
 6399              		.loc 1 1331 9 is_stmt 1 view .LVU2033
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
 6400              		.loc 1 1331 12 is_stmt 0 view .LVU2034
 6401 0126 BAF1000F 		cmp	r10, #0
 6402 012a B7DD     		ble	.L479
 6403 012c 5046     		mov	r0, r10
 6404              	.LVL681:
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
 6405              		.loc 1 1331 12 view .LVU2035
 6406 012e B5E7     		b	.L479
 6407              	.L507:
1331:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* nothing received at all, propagate the error */
 6408              		.loc 1 1331 12 view .LVU2036
 6409              	.LBE59:
 6410 0130 5046     		mov	r0, r10
 6411              	.LVL682:
1340:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* reset socket error since we have received something */
 6412              		.loc 1 1340 5 is_stmt 1 view .LVU2037
 6413              	.LBE57:
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6414              		.loc 1 1342 7 view .LVU2038
 6415              	.LBB60:
1342:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6416              		.loc 1 1342 7 view .LVU2039
1345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return buflen;
 6417              		.loc 1 1345 22 view .LVU2040
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6418              		.loc 1 1346 5 view .LVU2041
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6419              		.loc 1 1346 12 is_stmt 0 view .LVU2042
 6420 0132 B3E7     		b	.L479
 6421              	.LVL683:
 6422              	.L506:
1346:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6423              		.loc 1 1346 12 view .LVU2043
 6424              	.LBE60:
 6425              	.LBB61:
1361:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, err_to_errno(err));
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 214


 6426              		.loc 1 1361 56 is_stmt 1 view .LVU2044
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6427              		.loc 1 1362 7 view .LVU2045
 6428              	.LBB56:
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6429              		.loc 1 1362 7 view .LVU2046
 6430 0134 FFF7FEFF 		bl	err_to_errno
 6431              	.LVL684:
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6432              		.loc 1 1362 7 view .LVU2047
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6433              		.loc 1 1362 7 view .LVU2048
 6434 0138 08B1     		cbz	r0, .L497
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6435              		.loc 1 1362 7 discriminator 1 view .LVU2049
 6436 013a 084A     		ldr	r2, .L508+16
 6437 013c 1060     		str	r0, [r2]
 6438              	.L497:
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6439              		.loc 1 1362 7 discriminator 3 view .LVU2050
 6440              	.LBE56:
1362:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 6441              		.loc 1 1362 7 discriminator 3 view .LVU2051
1363:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 6442              		.loc 1 1363 24 discriminator 3 view .LVU2052
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6443              		.loc 1 1364 7 discriminator 3 view .LVU2053
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6444              		.loc 1 1364 14 is_stmt 0 discriminator 3 view .LVU2054
 6445 013e 4FF0FF30 		mov	r0, #-1
 6446              	.LVL685:
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6447              		.loc 1 1364 14 discriminator 3 view .LVU2055
 6448 0142 ABE7     		b	.L479
 6449              	.LVL686:
 6450              	.L499:
1364:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6451              		.loc 1 1364 14 discriminator 3 view .LVU2056
 6452              	.LBE61:
1299:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6453              		.loc 1 1299 12 view .LVU2057
 6454 0144 4FF0FF30 		mov	r0, #-1
 6455              	.LVL687:
1299:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 6456              		.loc 1 1299 12 view .LVU2058
 6457 0148 A8E7     		b	.L479
 6458              	.L509:
 6459 014a 00BF     		.align	2
 6460              	.L508:
 6461 014c 00000000 		.word	.LC0
 6462 0150 00000000 		.word	.LC26
 6463 0154 48000000 		.word	.LC2
 6464 0158 28000000 		.word	.LC27
 6465 015c 00000000 		.word	errno
 6466              		.cfi_endproc
 6467              	.LFE389:
 6469              		.section	.text.lwip_readv,"ax",%progbits
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 215


 6470              		.align	1
 6471              		.global	lwip_readv
 6472              		.syntax unified
 6473              		.thumb
 6474              		.thumb_func
 6476              	lwip_readv:
 6477              	.LVL688:
 6478              	.LFB387:
1259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 6479              		.loc 1 1259 1 is_stmt 1 view -0
 6480              		.cfi_startproc
 6481              		@ args = 0, pretend = 0, frame = 32
 6482              		@ frame_needed = 0, uses_anonymous_args = 0
1259:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 6483              		.loc 1 1259 1 is_stmt 0 view .LVU2060
 6484 0000 00B5     		push	{lr}
 6485              	.LCFI79:
 6486              		.cfi_def_cfa_offset 4
 6487              		.cfi_offset 14, -4
 6488 0002 89B0     		sub	sp, sp, #36
 6489              	.LCFI80:
 6490              		.cfi_def_cfa_offset 40
1260:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6491              		.loc 1 1260 3 is_stmt 1 view .LVU2061
1262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 6492              		.loc 1 1262 3 view .LVU2062
1262:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 6493              		.loc 1 1262 16 is_stmt 0 view .LVU2063
 6494 0004 0023     		movs	r3, #0
 6495 0006 0193     		str	r3, [sp, #4]
1263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 6496              		.loc 1 1263 3 is_stmt 1 view .LVU2064
1263:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 6497              		.loc 1 1263 19 is_stmt 0 view .LVU2065
 6498 0008 0293     		str	r3, [sp, #8]
1266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 6499              		.loc 1 1266 3 is_stmt 1 view .LVU2066
1266:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 6500              		.loc 1 1266 15 is_stmt 0 view .LVU2067
 6501 000a 0391     		str	r1, [sp, #12]
1267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 6502              		.loc 1 1267 3 is_stmt 1 view .LVU2068
1267:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 6503              		.loc 1 1267 18 is_stmt 0 view .LVU2069
 6504 000c 0492     		str	r2, [sp, #16]
1268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 6505              		.loc 1 1268 3 is_stmt 1 view .LVU2070
1268:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 6506              		.loc 1 1268 19 is_stmt 0 view .LVU2071
 6507 000e 0593     		str	r3, [sp, #20]
1269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 6508              		.loc 1 1269 3 is_stmt 1 view .LVU2072
1269:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 6509              		.loc 1 1269 22 is_stmt 0 view .LVU2073
 6510 0010 0693     		str	r3, [sp, #24]
1270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvmsg(s, &msg, 0);
 6511              		.loc 1 1270 3 is_stmt 1 view .LVU2074
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 216


1270:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_recvmsg(s, &msg, 0);
 6512              		.loc 1 1270 17 is_stmt 0 view .LVU2075
 6513 0012 0793     		str	r3, [sp, #28]
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6514              		.loc 1 1271 3 is_stmt 1 view .LVU2076
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6515              		.loc 1 1271 10 is_stmt 0 view .LVU2077
 6516 0014 1A46     		mov	r2, r3
 6517              	.LVL689:
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6518              		.loc 1 1271 10 view .LVU2078
 6519 0016 01A9     		add	r1, sp, #4
 6520              	.LVL690:
1271:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 6521              		.loc 1 1271 10 view .LVU2079
 6522 0018 FFF7FEFF 		bl	lwip_recvmsg
 6523              	.LVL691:
1272:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6524              		.loc 1 1272 1 view .LVU2080
 6525 001c 09B0     		add	sp, sp, #36
 6526              	.LCFI81:
 6527              		.cfi_def_cfa_offset 4
 6528              		@ sp needed
 6529 001e 5DF804FB 		ldr	pc, [sp], #4
 6530              		.cfi_endproc
 6531              	.LFE387:
 6533              		.section	.rodata.lwip_sendmsg.str1.4,"aMS",%progbits,1
 6534              		.align	2
 6535              	.LC28:
 6536 0000 6C776970 		.ascii	"lwip_sendmsg: invalid msghdr\000"
 6536      5F73656E 
 6536      646D7367 
 6536      3A20696E 
 6536      76616C69 
 6537 001d 000000   		.align	2
 6538              	.LC29:
 6539 0020 6C776970 		.ascii	"lwip_sendmsg: invalid msghdr iov\000"
 6539      5F73656E 
 6539      646D7367 
 6539      3A20696E 
 6539      76616C69 
 6540 0041 000000   		.align	2
 6541              	.LC30:
 6542 0044 6C776970 		.ascii	"lwip_sendmsg: maximum iovs exceeded\000"
 6542      5F73656E 
 6542      646D7367 
 6542      3A206D61 
 6542      78696D75 
 6543              		.align	2
 6544              	.LC31:
 6545 0068 6C776970 		.ascii	"lwip_sendmsg: unsupported flags\000"
 6545      5F73656E 
 6545      646D7367 
 6545      3A20756E 
 6545      73757070 
 6546              		.align	2
 6547              	.LC32:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 217


 6548 0088 6C776970 		.ascii	"lwip_sendmsg: invalid msghdr name\000"
 6548      5F73656E 
 6548      646D7367 
 6548      3A20696E 
 6548      76616C69 
 6549              		.section	.text.lwip_sendmsg,"ax",%progbits
 6550              		.align	1
 6551              		.global	lwip_sendmsg
 6552              		.syntax unified
 6553              		.thumb
 6554              		.thumb_func
 6556              	lwip_sendmsg:
 6557              	.LVL692:
 6558              	.LFB391:
1423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 6559              		.loc 1 1423 1 is_stmt 1 view -0
 6560              		.cfi_startproc
 6561              		@ args = 0, pretend = 0, frame = 24
 6562              		@ frame_needed = 0, uses_anonymous_args = 0
1423:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 6563              		.loc 1 1423 1 is_stmt 0 view .LVU2082
 6564 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 6565              	.LCFI82:
 6566              		.cfi_def_cfa_offset 24
 6567              		.cfi_offset 4, -24
 6568              		.cfi_offset 5, -20
 6569              		.cfi_offset 6, -16
 6570              		.cfi_offset 7, -12
 6571              		.cfi_offset 8, -8
 6572              		.cfi_offset 14, -4
 6573 0004 88B0     		sub	sp, sp, #32
 6574              	.LCFI83:
 6575              		.cfi_def_cfa_offset 56
 6576 0006 0C46     		mov	r4, r1
 6577 0008 1546     		mov	r5, r2
1424:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6578              		.loc 1 1424 3 is_stmt 1 view .LVU2083
1426:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
 6579              		.loc 1 1426 3 view .LVU2084
1427:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
 6580              		.loc 1 1427 3 view .LVU2085
1429:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6581              		.loc 1 1429 3 view .LVU2086
 6582              	.LVL693:
1431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 6583              		.loc 1 1431 3 view .LVU2087
1431:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 6584              		.loc 1 1431 10 is_stmt 0 view .LVU2088
 6585 000a FFF7FEFF 		bl	get_socket
 6586              	.LVL694:
1432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6587              		.loc 1 1432 3 is_stmt 1 view .LVU2089
1432:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 6588              		.loc 1 1432 6 is_stmt 0 view .LVU2090
 6589 000e 0028     		cmp	r0, #0
 6590 0010 00F0EF80 		beq	.L539
 6591 0014 8046     		mov	r8, r0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 218


1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6592              		.loc 1 1436 3 is_stmt 1 view .LVU2091
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6593              		.loc 1 1436 3 view .LVU2092
 6594 0016 3CB3     		cbz	r4, .L545
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6595              		.loc 1 1436 3 discriminator 2 view .LVU2093
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6596              		.loc 1 1436 3 discriminator 2 view .LVU2094
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6597              		.loc 1 1438 3 discriminator 2 view .LVU2095
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6598              		.loc 1 1438 3 discriminator 2 view .LVU2096
 6599 0018 A168     		ldr	r1, [r4, #8]
 6600 001a 0029     		cmp	r1, #0
 6601 001c 35D0     		beq	.L546
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6602              		.loc 1 1438 3 discriminator 2 view .LVU2097
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6603              		.loc 1 1438 3 discriminator 2 view .LVU2098
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6604              		.loc 1 1440 3 discriminator 2 view .LVU2099
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6605              		.loc 1 1440 3 discriminator 2 view .LVU2100
 6606 001e E268     		ldr	r2, [r4, #12]
 6607 0020 531E     		subs	r3, r2, #1
 6608 0022 B3F5806F 		cmp	r3, #1024
 6609 0026 41D2     		bcs	.L547
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6610              		.loc 1 1440 3 discriminator 2 view .LVU2101
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6611              		.loc 1 1440 3 discriminator 2 view .LVU2102
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6612              		.loc 1 1442 3 discriminator 2 view .LVU2103
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6613              		.loc 1 1442 3 discriminator 2 view .LVU2104
 6614 0028 35F01807 		bics	r7, r5, #24
 6615 002c 4BD1     		bne	.L548
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6616              		.loc 1 1442 3 discriminator 2 view .LVU2105
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6617              		.loc 1 1442 3 discriminator 2 view .LVU2106
1445:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_controllen);
 6618              		.loc 1 1445 3 discriminator 2 view .LVU2107
1446:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_UNUSED_ARG(msg->msg_flags);
 6619              		.loc 1 1446 3 discriminator 2 view .LVU2108
1447:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6620              		.loc 1 1447 3 discriminator 2 view .LVU2109
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6621              		.loc 1 1449 3 discriminator 2 view .LVU2110
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6622              		.loc 1 1449 7 is_stmt 0 discriminator 2 view .LVU2111
 6623 002e 0368     		ldr	r3, [r0]
 6624 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1449:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 6625              		.loc 1 1449 6 discriminator 2 view .LVU2112
 6626 0032 03F0F003 		and	r3, r3, #240
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 219


 6627 0036 102B     		cmp	r3, #16
 6628 0038 52D0     		beq	.L549
 6629              	.LBB62:
1470:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     int i;
 6630              		.loc 1 1470 5 is_stmt 1 view .LVU2113
1471:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ssize_t size = 0;
 6631              		.loc 1 1471 5 view .LVU2114
1472:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 6632              		.loc 1 1472 5 view .LVU2115
 6633              	.LVL695:
1474:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_ERROR("lwip_sendmsg: invalid msghdr name", (((msg->msg_name == NULL) && (msg->msg_namelen 
 6634              		.loc 1 1474 5 view .LVU2116
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6635              		.loc 1 1475 5 view .LVU2117
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6636              		.loc 1 1475 5 view .LVU2118
 6637 003a 2368     		ldr	r3, [r4]
 6638 003c 002B     		cmp	r3, #0
 6639 003e 6ED0     		beq	.L550
 6640              	.L524:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6641              		.loc 1 1475 5 is_stmt 0 discriminator 3 view .LVU2119
 6642 0040 6368     		ldr	r3, [r4, #4]
 6643 0042 102B     		cmp	r3, #16
 6644 0044 6FD1     		bne	.L551
 6645              	.L525:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6646              		.loc 1 1475 5 is_stmt 1 discriminator 6 view .LVU2120
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6647              		.loc 1 1475 5 discriminator 6 view .LVU2121
1480:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (msg->msg_name) {
 6648              		.loc 1 1480 5 discriminator 6 view .LVU2122
 6649 0046 0023     		movs	r3, #0
 6650 0048 0393     		str	r3, [sp, #12]
 6651 004a 0493     		str	r3, [sp, #16]
 6652 004c 0593     		str	r3, [sp, #20]
 6653 004e 0693     		str	r3, [sp, #24]
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
 6654              		.loc 1 1481 5 discriminator 6 view .LVU2123
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
 6655              		.loc 1 1481 12 is_stmt 0 discriminator 6 view .LVU2124
 6656 0050 2368     		ldr	r3, [r4]
1481:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       u16_t remote_port;
 6657              		.loc 1 1481 8 discriminator 6 view .LVU2125
 6658 0052 3BB1     		cbz	r3, .L528
 6659              	.LBB63:
1482:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SOCKADDR_TO_IPADDR_PORT((const struct sockaddr *)msg->msg_name, &chain_buf.addr, remote_port)
 6660              		.loc 1 1482 7 is_stmt 1 view .LVU2126
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6661              		.loc 1 1483 7 view .LVU2127
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6662              		.loc 1 1483 7 view .LVU2128
 6663 0054 5B68     		ldr	r3, [r3, #4]
 6664 0056 0593     		str	r3, [sp, #20]
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6665              		.loc 1 1483 7 view .LVU2129
 6666 0058 2368     		ldr	r3, [r4]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 220


 6667 005a 5888     		ldrh	r0, [r3, #2]
 6668              	.LVL696:
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6669              		.loc 1 1483 7 is_stmt 0 view .LVU2130
 6670 005c FFF7FEFF 		bl	lwip_htons
 6671              	.LVL697:
1483:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netbuf_fromport(&chain_buf) = remote_port;
 6672              		.loc 1 1483 7 is_stmt 1 view .LVU2131
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6673              		.loc 1 1484 7 view .LVU2132
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6674              		.loc 1 1484 35 is_stmt 0 view .LVU2133
 6675 0060 ADF81800 		strh	r0, [sp, #24]	@ movhi
 6676              	.LVL698:
 6677              	.L528:
1484:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 6678              		.loc 1 1484 35 view .LVU2134
 6679              	.LBE63:
 6680              	.LBE62:
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6681              		.loc 1 1460 46 discriminator 1 view .LVU2135
 6682 0064 3D46     		mov	r5, r7
 6683              	.LVL699:
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6684              		.loc 1 1460 46 discriminator 1 view .LVU2136
 6685 0066 72E0     		b	.L534
 6686              	.LVL700:
 6687              	.L545:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6688              		.loc 1 1436 3 is_stmt 1 discriminator 1 view .LVU2137
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6689              		.loc 1 1436 3 discriminator 1 view .LVU2138
 6690 0068 634B     		ldr	r3, .L556
 6691 006a 40F29C52 		movw	r2, #1436
 6692 006e 6349     		ldr	r1, .L556+4
 6693 0070 6348     		ldr	r0, .L556+8
 6694              	.LVL701:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6695              		.loc 1 1436 3 is_stmt 0 discriminator 1 view .LVU2139
 6696 0072 FFF7FEFF 		bl	printf
 6697              	.LVL702:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6698              		.loc 1 1436 3 is_stmt 1 discriminator 1 view .LVU2140
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6699              		.loc 1 1436 3 discriminator 1 view .LVU2141
 6700              	.LBB70:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6701              		.loc 1 1436 3 discriminator 1 view .LVU2142
 6702 0076 6FF00F00 		mvn	r0, #15
 6703 007a FFF7FEFF 		bl	err_to_errno
 6704              	.LVL703:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6705              		.loc 1 1436 3 discriminator 1 view .LVU2143
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6706              		.loc 1 1436 3 discriminator 1 view .LVU2144
 6707 007e 08B1     		cbz	r0, .L515
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 221


 6708              		.loc 1 1436 3 discriminator 3 view .LVU2145
 6709 0080 604B     		ldr	r3, .L556+12
 6710 0082 1860     		str	r0, [r3]
 6711              	.L515:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6712              		.loc 1 1436 3 discriminator 5 view .LVU2146
 6713              	.LBE70:
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6714              		.loc 1 1436 3 discriminator 5 view .LVU2147
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6715              		.loc 1 1436 3 discriminator 5 view .LVU2148
1436:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6716              		.loc 1 1436 3 discriminator 5 view .LVU2149
 6717 0084 4FF0FF37 		mov	r7, #-1
 6718 0088 92E0     		b	.L512
 6719              	.LVL704:
 6720              	.L546:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6721              		.loc 1 1438 3 discriminator 1 view .LVU2150
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6722              		.loc 1 1438 3 discriminator 1 view .LVU2151
 6723 008a 5B4B     		ldr	r3, .L556
 6724 008c 40F29E52 		movw	r2, #1438
 6725 0090 5D49     		ldr	r1, .L556+16
 6726 0092 5B48     		ldr	r0, .L556+8
 6727              	.LVL705:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6728              		.loc 1 1438 3 is_stmt 0 discriminator 1 view .LVU2152
 6729 0094 FFF7FEFF 		bl	printf
 6730              	.LVL706:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6731              		.loc 1 1438 3 is_stmt 1 discriminator 1 view .LVU2153
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6732              		.loc 1 1438 3 discriminator 1 view .LVU2154
 6733              	.LBB71:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6734              		.loc 1 1438 3 discriminator 1 view .LVU2155
 6735 0098 6FF00F00 		mvn	r0, #15
 6736 009c FFF7FEFF 		bl	err_to_errno
 6737              	.LVL707:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6738              		.loc 1 1438 3 discriminator 1 view .LVU2156
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6739              		.loc 1 1438 3 discriminator 1 view .LVU2157
 6740 00a0 08B1     		cbz	r0, .L517
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6741              		.loc 1 1438 3 discriminator 3 view .LVU2158
 6742 00a2 584B     		ldr	r3, .L556+12
 6743 00a4 1860     		str	r0, [r3]
 6744              	.L517:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6745              		.loc 1 1438 3 discriminator 5 view .LVU2159
 6746              	.LBE71:
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6747              		.loc 1 1438 3 discriminator 5 view .LVU2160
1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6748              		.loc 1 1438 3 discriminator 5 view .LVU2161
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 222


1438:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, err_to_errno(ERR_ARG)); done_socket(sock); return -1;);
 6749              		.loc 1 1438 3 discriminator 5 view .LVU2162
 6750 00a6 4FF0FF37 		mov	r7, #-1
 6751 00aa 81E0     		b	.L512
 6752              	.LVL708:
 6753              	.L547:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6754              		.loc 1 1440 3 discriminator 1 view .LVU2163
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6755              		.loc 1 1440 3 discriminator 1 view .LVU2164
 6756 00ac 524B     		ldr	r3, .L556
 6757 00ae 4FF4B462 		mov	r2, #1440
 6758 00b2 5649     		ldr	r1, .L556+20
 6759 00b4 5248     		ldr	r0, .L556+8
 6760              	.LVL709:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6761              		.loc 1 1440 3 is_stmt 0 discriminator 1 view .LVU2165
 6762 00b6 FFF7FEFF 		bl	printf
 6763              	.LVL710:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6764              		.loc 1 1440 3 is_stmt 1 discriminator 1 view .LVU2166
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6765              		.loc 1 1440 3 discriminator 1 view .LVU2167
 6766              	.LBB72:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6767              		.loc 1 1440 3 discriminator 1 view .LVU2168
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6768              		.loc 1 1440 3 discriminator 1 view .LVU2169
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6769              		.loc 1 1440 3 discriminator 1 view .LVU2170
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6770              		.loc 1 1440 3 discriminator 1 view .LVU2171
 6771 00ba 524B     		ldr	r3, .L556+12
 6772 00bc 5A22     		movs	r2, #90
 6773 00be 1A60     		str	r2, [r3]
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6774              		.loc 1 1440 3 discriminator 1 view .LVU2172
 6775              	.LBE72:
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6776              		.loc 1 1440 3 discriminator 1 view .LVU2173
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6777              		.loc 1 1440 3 discriminator 1 view .LVU2174
1440:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EMSGSIZE); done_socket(sock); return -1;);
 6778              		.loc 1 1440 3 discriminator 1 view .LVU2175
 6779 00c0 4FF0FF37 		mov	r7, #-1
 6780 00c4 74E0     		b	.L512
 6781              	.LVL711:
 6782              	.L548:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6783              		.loc 1 1442 3 discriminator 1 view .LVU2176
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6784              		.loc 1 1442 3 discriminator 1 view .LVU2177
 6785 00c6 4C4B     		ldr	r3, .L556
 6786 00c8 40F2A252 		movw	r2, #1442
 6787 00cc 5049     		ldr	r1, .L556+24
 6788 00ce 4C48     		ldr	r0, .L556+8
 6789              	.LVL712:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 223


1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6790              		.loc 1 1442 3 is_stmt 0 discriminator 1 view .LVU2178
 6791 00d0 FFF7FEFF 		bl	printf
 6792              	.LVL713:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6793              		.loc 1 1442 3 is_stmt 1 discriminator 1 view .LVU2179
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6794              		.loc 1 1442 3 discriminator 1 view .LVU2180
 6795              	.LBB73:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6796              		.loc 1 1442 3 discriminator 1 view .LVU2181
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6797              		.loc 1 1442 3 discriminator 1 view .LVU2182
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6798              		.loc 1 1442 3 discriminator 1 view .LVU2183
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6799              		.loc 1 1442 3 discriminator 1 view .LVU2184
 6800 00d4 4B4B     		ldr	r3, .L556+12
 6801 00d6 5F22     		movs	r2, #95
 6802 00d8 1A60     		str	r2, [r3]
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6803              		.loc 1 1442 3 discriminator 1 view .LVU2185
 6804              	.LBE73:
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6805              		.loc 1 1442 3 discriminator 1 view .LVU2186
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6806              		.loc 1 1442 3 discriminator 1 view .LVU2187
1442:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              sock_set_errno(sock, EOPNOTSUPP); done_socket(sock); return -1;);
 6807              		.loc 1 1442 3 discriminator 1 view .LVU2188
 6808 00da 4FF0FF37 		mov	r7, #-1
 6809 00de 67E0     		b	.L512
 6810              	.LVL714:
 6811              	.L549:
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6812              		.loc 1 1451 5 view .LVU2189
1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6813              		.loc 1 1451 39 is_stmt 0 view .LVU2190
 6814 00e0 15F0100F 		tst	r5, #16
 6815 00e4 16D0     		beq	.L540
 6816 00e6 0323     		movs	r3, #3
 6817              	.L521:
1452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 6818              		.loc 1 1452 75 view .LVU2191
 6819 00e8 6D10     		asrs	r5, r5, #1
 6820              	.LVL715:
1452:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 6821              		.loc 1 1452 75 view .LVU2192
 6822 00ea 05F00405 		and	r5, r5, #4
 6823              	.LVL716:
1455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
 6824              		.loc 1 1455 5 is_stmt 1 view .LVU2193
1455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
 6825              		.loc 1 1455 13 is_stmt 0 view .LVU2194
 6826 00ee 0020     		movs	r0, #0
 6827              	.LVL717:
1455:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     err = netconn_write_vectors_partly(sock->conn, (struct netvector *)msg->msg_iov, (u16_t)msg->ms
 6828              		.loc 1 1455 13 view .LVU2195
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 224


 6829 00f0 0790     		str	r0, [sp, #28]
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6830              		.loc 1 1456 5 is_stmt 1 view .LVU2196
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6831              		.loc 1 1456 11 is_stmt 0 view .LVU2197
 6832 00f2 D8F80000 		ldr	r0, [r8]
 6833 00f6 07AC     		add	r4, sp, #28
 6834              	.LVL718:
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6835              		.loc 1 1456 11 view .LVU2198
 6836 00f8 0094     		str	r4, [sp]
 6837 00fa 2B43     		orrs	r3, r3, r5
 6838              	.LVL719:
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6839              		.loc 1 1456 11 view .LVU2199
 6840 00fc 92B2     		uxth	r2, r2
 6841 00fe FFF7FEFF 		bl	netconn_write_vectors_partly
 6842              	.LVL720:
1456:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, err_to_errno(err));
 6843              		.loc 1 1456 11 view .LVU2200
 6844 0102 0446     		mov	r4, r0
 6845              	.LVL721:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6846              		.loc 1 1457 5 is_stmt 1 view .LVU2201
 6847              	.LBB74:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6848              		.loc 1 1457 5 view .LVU2202
 6849 0104 FFF7FEFF 		bl	err_to_errno
 6850              	.LVL722:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6851              		.loc 1 1457 5 view .LVU2203
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6852              		.loc 1 1457 5 view .LVU2204
 6853 0108 08B1     		cbz	r0, .L522
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6854              		.loc 1 1457 5 discriminator 1 view .LVU2205
 6855 010a 3E4A     		ldr	r2, .L556+12
 6856 010c 1060     		str	r0, [r2]
 6857              	.L522:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6858              		.loc 1 1457 5 discriminator 3 view .LVU2206
 6859              	.LBE74:
1457:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 6860              		.loc 1 1457 5 discriminator 3 view .LVU2207
1458:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
 6861              		.loc 1 1458 22 discriminator 3 view .LVU2208
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6862              		.loc 1 1460 5 discriminator 3 view .LVU2209
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6863              		.loc 1 1460 46 is_stmt 0 discriminator 3 view .LVU2210
 6864 010e 1CB9     		cbnz	r4, .L541
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6865              		.loc 1 1460 46 discriminator 1 view .LVU2211
 6866 0110 079F     		ldr	r7, [sp, #28]
 6867 0112 4DE0     		b	.L512
 6868              	.LVL723:
 6869              	.L540:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 225


1451:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                          ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 6870              		.loc 1 1451 39 view .LVU2212
 6871 0114 0123     		movs	r3, #1
 6872 0116 E7E7     		b	.L521
 6873              	.LVL724:
 6874              	.L541:
1460:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 6875              		.loc 1 1460 46 view .LVU2213
 6876 0118 4FF0FF37 		mov	r7, #-1
 6877 011c 48E0     		b	.L512
 6878              	.LVL725:
 6879              	.L550:
 6880              	.LBB75:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6881              		.loc 1 1475 5 discriminator 2 view .LVU2214
 6882 011e 6368     		ldr	r3, [r4, #4]
 6883 0120 002B     		cmp	r3, #0
 6884 0122 90D0     		beq	.L525
 6885 0124 8CE7     		b	.L524
 6886              	.L551:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6887              		.loc 1 1475 5 is_stmt 1 discriminator 5 view .LVU2215
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6888              		.loc 1 1475 5 discriminator 5 view .LVU2216
 6889 0126 344B     		ldr	r3, .L556
 6890 0128 40F2C352 		movw	r2, #1475
 6891 012c 3949     		ldr	r1, .L556+28
 6892 012e 3448     		ldr	r0, .L556+8
 6893              	.LVL726:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6894              		.loc 1 1475 5 is_stmt 0 discriminator 5 view .LVU2217
 6895 0130 FFF7FEFF 		bl	printf
 6896              	.LVL727:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6897              		.loc 1 1475 5 is_stmt 1 discriminator 5 view .LVU2218
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6898              		.loc 1 1475 5 discriminator 5 view .LVU2219
 6899              	.LBB64:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6900              		.loc 1 1475 5 discriminator 5 view .LVU2220
 6901 0134 6FF00F00 		mvn	r0, #15
 6902 0138 FFF7FEFF 		bl	err_to_errno
 6903              	.LVL728:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6904              		.loc 1 1475 5 discriminator 5 view .LVU2221
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6905              		.loc 1 1475 5 discriminator 5 view .LVU2222
 6906 013c 08B1     		cbz	r0, .L526
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6907              		.loc 1 1475 5 discriminator 7 view .LVU2223
 6908 013e 314A     		ldr	r2, .L556+12
 6909 0140 1060     		str	r0, [r2]
 6910              	.L526:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6911              		.loc 1 1475 5 discriminator 9 view .LVU2224
 6912              	.LBE64:
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 226


 6913              		.loc 1 1475 5 discriminator 9 view .LVU2225
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6914              		.loc 1 1475 5 discriminator 9 view .LVU2226
1475:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                IS_SOCK_ADDR_LEN_VALID(msg->msg_namelen)),
 6915              		.loc 1 1475 5 discriminator 9 view .LVU2227
 6916 0142 4FF0FF37 		mov	r7, #-1
 6917 0146 33E0     		b	.L512
 6918              	.LVL729:
 6919              	.L553:
 6920              	.LBB65:
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6921              		.loc 1 1535 9 view .LVU2228
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6922              		.loc 1 1535 37 is_stmt 0 view .LVU2229
 6923 0148 0491     		str	r1, [sp, #16]
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6924              		.loc 1 1535 21 view .LVU2230
 6925 014a 0391     		str	r1, [sp, #12]
 6926              	.LVL730:
 6927              	.L532:
1535:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* add pbuf to existing pbuf chain */
 6928              		.loc 1 1535 21 view .LVU2231
 6929              	.LBE65:
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6930              		.loc 1 1520 38 is_stmt 1 discriminator 2 view .LVU2232
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6931              		.loc 1 1520 39 is_stmt 0 discriminator 2 view .LVU2233
 6932 014c 0135     		adds	r5, r5, #1
 6933              	.LVL731:
 6934              	.L534:
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6935              		.loc 1 1520 17 is_stmt 1 discriminator 1 view .LVU2234
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6936              		.loc 1 1520 24 is_stmt 0 discriminator 1 view .LVU2235
 6937 014e E368     		ldr	r3, [r4, #12]
1520:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       struct pbuf *p;
 6938              		.loc 1 1520 5 discriminator 1 view .LVU2236
 6939 0150 AB42     		cmp	r3, r5
 6940 0152 31DD     		ble	.L552
 6941              	.LBB66:
1521:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (msg->msg_iov[i].iov_len > 0xFFFF) {
 6942              		.loc 1 1521 7 is_stmt 1 view .LVU2237
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6943              		.loc 1 1522 7 view .LVU2238
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6944              		.loc 1 1522 14 is_stmt 0 view .LVU2239
 6945 0154 A368     		ldr	r3, [r4, #8]
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6946              		.loc 1 1522 23 view .LVU2240
 6947 0156 EE00     		lsls	r6, r5, #3
 6948 0158 03EBC503 		add	r3, r3, r5, lsl #3
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6949              		.loc 1 1522 26 view .LVU2241
 6950 015c 5B68     		ldr	r3, [r3, #4]
1522:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* overflow */
 6951              		.loc 1 1522 10 view .LVU2242
 6952 015e B3F5803F 		cmp	r3, #65536
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 227


 6953 0162 1DD2     		bcs	.L529
1526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p == NULL) {
 6954              		.loc 1 1526 7 is_stmt 1 view .LVU2243
1526:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (p == NULL) {
 6955              		.loc 1 1526 11 is_stmt 0 view .LVU2244
 6956 0164 4122     		movs	r2, #65
 6957 0166 0021     		movs	r1, #0
 6958 0168 3620     		movs	r0, #54
 6959 016a FFF7FEFF 		bl	pbuf_alloc
 6960              	.LVL732:
1527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
 6961              		.loc 1 1527 7 is_stmt 1 view .LVU2245
1527:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         err = ERR_MEM; /* let netbuf_delete() cleanup chain_buf */
 6962              		.loc 1 1527 10 is_stmt 0 view .LVU2246
 6963 016e 0146     		mov	r1, r0
 6964 0170 0028     		cmp	r0, #0
 6965 0172 34D0     		beq	.L542
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6966              		.loc 1 1531 7 is_stmt 1 view .LVU2247
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6967              		.loc 1 1531 23 is_stmt 0 view .LVU2248
 6968 0174 A368     		ldr	r3, [r4, #8]
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6969              		.loc 1 1531 35 view .LVU2249
 6970 0176 9B59     		ldr	r3, [r3, r6]
1531:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       p->len = p->tot_len = (u16_t)msg->msg_iov[i].iov_len;
 6971              		.loc 1 1531 18 view .LVU2250
 6972 0178 4360     		str	r3, [r0, #4]
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6973              		.loc 1 1532 7 is_stmt 1 view .LVU2251
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6974              		.loc 1 1532 39 is_stmt 0 view .LVU2252
 6975 017a A368     		ldr	r3, [r4, #8]
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6976              		.loc 1 1532 48 view .LVU2253
 6977 017c 3344     		add	r3, r3, r6
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6978              		.loc 1 1532 29 view .LVU2254
 6979 017e 9B88     		ldrh	r3, [r3, #4]
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6980              		.loc 1 1532 27 view .LVU2255
 6981 0180 0381     		strh	r3, [r0, #8]	@ movhi
1532:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* netbuf empty, add new pbuf */
 6982              		.loc 1 1532 14 view .LVU2256
 6983 0182 4381     		strh	r3, [r0, #10]	@ movhi
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
 6984              		.loc 1 1534 7 is_stmt 1 view .LVU2257
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
 6985              		.loc 1 1534 20 is_stmt 0 view .LVU2258
 6986 0184 0398     		ldr	r0, [sp, #12]
 6987              	.LVL733:
1534:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         chain_buf.p = chain_buf.ptr = p;
 6988              		.loc 1 1534 10 view .LVU2259
 6989 0186 0028     		cmp	r0, #0
 6990 0188 DED0     		beq	.L553
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
 6991              		.loc 1 1538 9 is_stmt 1 view .LVU2260
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 228


1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
 6992              		.loc 1 1538 24 is_stmt 0 view .LVU2261
 6993 018a 0289     		ldrh	r2, [r0, #8]
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
 6994              		.loc 1 1538 34 view .LVU2262
 6995 018c 1344     		add	r3, r3, r2
1538:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* overflow */
 6996              		.loc 1 1538 12 view .LVU2263
 6997 018e B3F5803F 		cmp	r3, #65536
 6998 0192 02DA     		bge	.L554
1543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 6999              		.loc 1 1543 9 is_stmt 1 view .LVU2264
 7000 0194 FFF7FEFF 		bl	pbuf_cat
 7001              	.LVL734:
1543:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 7002              		.loc 1 1543 9 is_stmt 0 view .LVU2265
 7003 0198 D8E7     		b	.L532
 7004              	.LVL735:
 7005              	.L554:
1540:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           goto sendmsg_emsgsize;
 7006              		.loc 1 1540 11 is_stmt 1 view .LVU2266
 7007 019a 0846     		mov	r0, r1
 7008 019c FFF7FEFF 		bl	pbuf_free
 7009              	.LVL736:
1541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 7010              		.loc 1 1541 11 view .LVU2267
 7011              	.L529:
1541:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
 7012              		.loc 1 1541 11 is_stmt 0 view .LVU2268
 7013              	.LBE66:
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 7014              		.loc 1 1572 5 is_stmt 1 view .LVU2269
 7015              	.LBB67:
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 7016              		.loc 1 1572 5 view .LVU2270
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 7017              		.loc 1 1572 5 view .LVU2271
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 7018              		.loc 1 1572 5 view .LVU2272
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 7019              		.loc 1 1572 5 view .LVU2273
 7020 01a0 184B     		ldr	r3, .L556+12
 7021 01a2 5A22     		movs	r2, #90
 7022 01a4 1A60     		str	r2, [r3]
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 7023              		.loc 1 1572 5 view .LVU2274
 7024              	.LBE67:
1572:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netbuf_free(&chain_buf);
 7025              		.loc 1 1572 5 view .LVU2275
1573:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7026              		.loc 1 1573 5 view .LVU2276
 7027 01a6 03A8     		add	r0, sp, #12
 7028 01a8 FFF7FEFF 		bl	netbuf_free
 7029              	.LVL737:
1574:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7030              		.loc 1 1574 22 view .LVU2277
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 229


 7031              		.loc 1 1575 5 view .LVU2278
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7032              		.loc 1 1575 12 is_stmt 0 view .LVU2279
 7033 01ac 4FF0FF37 		mov	r7, #-1
 7034              	.LVL738:
 7035              	.L512:
1575:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7036              		.loc 1 1575 12 view .LVU2280
 7037              	.LBE75:
1582:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7038              		.loc 1 1582 1 view .LVU2281
 7039 01b0 3846     		mov	r0, r7
 7040 01b2 08B0     		add	sp, sp, #32
 7041              	.LCFI84:
 7042              		.cfi_remember_state
 7043              		.cfi_def_cfa_offset 24
 7044              		@ sp needed
 7045 01b4 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 7046              	.LVL739:
 7047              	.L552:
 7048              	.LCFI85:
 7049              		.cfi_restore_state
1429:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7050              		.loc 1 1429 9 view .LVU2282
 7051 01b8 0024     		movs	r4, #0
 7052              	.LVL740:
 7053              	.L530:
 7054              	.LBB76:
1547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size = netbuf_len(&chain_buf);
 7055              		.loc 1 1547 5 is_stmt 1 view .LVU2283
1547:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       size = netbuf_len(&chain_buf);
 7056              		.loc 1 1547 8 is_stmt 0 view .LVU2284
 7057 01ba 0CB9     		cbnz	r4, .L536
1548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7058              		.loc 1 1548 7 is_stmt 1 view .LVU2285
1548:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7059              		.loc 1 1548 14 is_stmt 0 view .LVU2286
 7060 01bc 039B     		ldr	r3, [sp, #12]
 7061 01be 1F89     		ldrh	r7, [r3, #8]
 7062              	.LVL741:
 7063              	.L536:
1552:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 7064              		.loc 1 1552 5 is_stmt 1 view .LVU2287
1552:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 7065              		.loc 1 1552 8 is_stmt 0 view .LVU2288
 7066 01c0 84B1     		cbz	r4, .L555
 7067              	.L537:
1566:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7068              		.loc 1 1566 5 is_stmt 1 view .LVU2289
 7069 01c2 03A8     		add	r0, sp, #12
 7070 01c4 FFF7FEFF 		bl	netbuf_free
 7071              	.LVL742:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7072              		.loc 1 1568 5 view .LVU2290
 7073              	.LBB68:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7074              		.loc 1 1568 5 view .LVU2291
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 230


 7075 01c8 2046     		mov	r0, r4
 7076 01ca FFF7FEFF 		bl	err_to_errno
 7077              	.LVL743:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7078              		.loc 1 1568 5 view .LVU2292
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7079              		.loc 1 1568 5 view .LVU2293
 7080 01ce 08B1     		cbz	r0, .L538
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7081              		.loc 1 1568 5 discriminator 1 view .LVU2294
 7082 01d0 0C4A     		ldr	r2, .L556+12
 7083 01d2 1060     		str	r0, [r2]
 7084              	.L538:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7085              		.loc 1 1568 5 discriminator 3 view .LVU2295
 7086              	.LBE68:
1568:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7087              		.loc 1 1568 5 discriminator 3 view .LVU2296
1569:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return (err == ERR_OK ? size : -1);
 7088              		.loc 1 1569 22 discriminator 3 view .LVU2297
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
 7089              		.loc 1 1570 5 discriminator 3 view .LVU2298
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
 7090              		.loc 1 1570 34 is_stmt 0 discriminator 3 view .LVU2299
 7091 01d4 002C     		cmp	r4, #0
 7092 01d6 EBD0     		beq	.L512
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
 7093              		.loc 1 1570 34 view .LVU2300
 7094 01d8 4FF0FF37 		mov	r7, #-1
 7095              	.LVL744:
1570:Middlewares/Third_Party/LwIP/src/api/sockets.c **** sendmsg_emsgsize:
 7096              		.loc 1 1570 34 view .LVU2301
 7097 01dc E8E7     		b	.L512
 7098              	.LVL745:
 7099              	.L542:
 7100              	.LBB69:
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 7101              		.loc 1 1528 13 view .LVU2302
 7102 01de 4FF0FF34 		mov	r4, #-1
 7103              	.LVL746:
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 7104              		.loc 1 1528 13 view .LVU2303
 7105 01e2 EAE7     		b	.L530
 7106              	.LVL747:
 7107              	.L555:
1528:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         break;
 7108              		.loc 1 1528 13 view .LVU2304
 7109              	.LBE69:
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7110              		.loc 1 1562 7 is_stmt 1 view .LVU2305
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7111              		.loc 1 1562 13 is_stmt 0 view .LVU2306
 7112 01e4 03A9     		add	r1, sp, #12
 7113 01e6 D8F80000 		ldr	r0, [r8]
 7114 01ea FFF7FEFF 		bl	netconn_send
 7115              	.LVL748:
 7116 01ee 0446     		mov	r4, r0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 231


 7117              	.LVL749:
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7118              		.loc 1 1562 13 view .LVU2307
 7119 01f0 E7E7     		b	.L537
 7120              	.LVL750:
 7121              	.L539:
1562:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 7122              		.loc 1 1562 13 view .LVU2308
 7123              	.LBE76:
1433:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7124              		.loc 1 1433 12 view .LVU2309
 7125 01f2 4FF0FF37 		mov	r7, #-1
 7126 01f6 DBE7     		b	.L512
 7127              	.L557:
 7128              		.align	2
 7129              	.L556:
 7130 01f8 00000000 		.word	.LC0
 7131 01fc 00000000 		.word	.LC28
 7132 0200 48000000 		.word	.LC2
 7133 0204 00000000 		.word	errno
 7134 0208 20000000 		.word	.LC29
 7135 020c 44000000 		.word	.LC30
 7136 0210 68000000 		.word	.LC31
 7137 0214 88000000 		.word	.LC32
 7138              		.cfi_endproc
 7139              	.LFE391:
 7141              		.section	.rodata.lwip_sendto.str1.4,"aMS",%progbits,1
 7142              		.align	2
 7143              	.LC33:
 7144 0000 6C776970 		.ascii	"lwip_sendto: invalid address\000"
 7144      5F73656E 
 7144      64746F3A 
 7144      20696E76 
 7144      616C6964 
 7145              		.section	.text.lwip_sendto,"ax",%progbits
 7146              		.align	1
 7147              		.global	lwip_sendto
 7148              		.syntax unified
 7149              		.thumb
 7150              		.thumb_func
 7152              	lwip_sendto:
 7153              	.LVL751:
 7154              	.LFB392:
1587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 7155              		.loc 1 1587 1 is_stmt 1 view -0
 7156              		.cfi_startproc
 7157              		@ args = 8, pretend = 0, frame = 16
 7158              		@ frame_needed = 0, uses_anonymous_args = 0
1587:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 7159              		.loc 1 1587 1 is_stmt 0 view .LVU2311
 7160 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 7161              	.LCFI86:
 7162              		.cfi_def_cfa_offset 32
 7163              		.cfi_offset 4, -32
 7164              		.cfi_offset 5, -28
 7165              		.cfi_offset 6, -24
 7166              		.cfi_offset 7, -20
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 232


 7167              		.cfi_offset 8, -16
 7168              		.cfi_offset 9, -12
 7169              		.cfi_offset 10, -8
 7170              		.cfi_offset 14, -4
 7171 0004 84B0     		sub	sp, sp, #16
 7172              	.LCFI87:
 7173              		.cfi_def_cfa_offset 48
 7174 0006 0746     		mov	r7, r0
 7175 0008 0E46     		mov	r6, r1
 7176 000a 1446     		mov	r4, r2
 7177 000c 9846     		mov	r8, r3
 7178 000e 0C9D     		ldr	r5, [sp, #48]
 7179 0010 DDF83490 		ldr	r9, [sp, #52]
1588:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 7180              		.loc 1 1588 3 is_stmt 1 view .LVU2312
1589:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t short_size;
 7181              		.loc 1 1589 3 view .LVU2313
1590:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u16_t remote_port;
 7182              		.loc 1 1590 3 view .LVU2314
1591:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netbuf buf;
 7183              		.loc 1 1591 3 view .LVU2315
1592:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7184              		.loc 1 1592 3 view .LVU2316
1594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 7185              		.loc 1 1594 3 view .LVU2317
1594:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 7186              		.loc 1 1594 10 is_stmt 0 view .LVU2318
 7187 0014 FFF7FEFF 		bl	get_socket
 7188              	.LVL752:
1595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7189              		.loc 1 1595 3 is_stmt 1 view .LVU2319
1595:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7190              		.loc 1 1595 6 is_stmt 0 view .LVU2320
 7191 0018 0028     		cmp	r0, #0
 7192 001a 68D0     		beq	.L569
 7193 001c 8246     		mov	r10, r0
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 7194              		.loc 1 1599 3 is_stmt 1 view .LVU2321
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 7195              		.loc 1 1599 7 is_stmt 0 view .LVU2322
 7196 001e 0368     		ldr	r3, [r0]
 7197 0020 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
1599:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
 7198              		.loc 1 1599 6 view .LVU2323
 7199 0022 02F0F002 		and	r2, r2, #240
 7200 0026 102A     		cmp	r2, #16
 7201 0028 39D0     		beq	.L572
1611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* cannot fit into one datagram (at least for us) */
 7202              		.loc 1 1611 3 is_stmt 1 view .LVU2324
1611:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* cannot fit into one datagram (at least for us) */
 7203              		.loc 1 1611 6 is_stmt 0 view .LVU2325
 7204 002a B4F5803F 		cmp	r4, #65536
 7205 002e 3DD2     		bcs	.L573
1617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
 7206              		.loc 1 1617 3 is_stmt 1 view .LVU2326
1617:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_sendto: invalid address", (((to == NULL) && (tolen == 0)) ||
 7207              		.loc 1 1617 14 is_stmt 0 view .LVU2327
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 233


 7208 0030 A7B2     		uxth	r7, r4
 7209              	.LVL753:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7210              		.loc 1 1618 3 is_stmt 1 view .LVU2328
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7211              		.loc 1 1618 3 view .LVU2329
 7212 0032 B9F1000F 		cmp	r9, #0
 7213 0036 08BF     		it	eq
 7214 0038 002D     		cmpeq	r5, #0
 7215 003a 0FD0     		beq	.L562
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7216              		.loc 1 1618 3 is_stmt 0 discriminator 1 view .LVU2330
 7217 003c B5FA85F3 		clz	r3, r5
 7218 0040 5B09     		lsrs	r3, r3, #5
 7219 0042 B9F1100F 		cmp	r9, #16
 7220 0046 18BF     		it	ne
 7221 0048 43F00103 		orrne	r3, r3, #1
 7222 004c 002B     		cmp	r3, #0
 7223 004e 33D1     		bne	.L563
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7224              		.loc 1 1618 3 discriminator 4 view .LVU2331
 7225 0050 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 7226 0052 022B     		cmp	r3, #2
 7227 0054 30D1     		bne	.L563
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7228              		.loc 1 1618 3 discriminator 6 view .LVU2332
 7229 0056 15F0030F 		tst	r5, #3
 7230 005a 2DD1     		bne	.L563
 7231              	.L562:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7232              		.loc 1 1618 3 is_stmt 1 discriminator 8 view .LVU2333
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7233              		.loc 1 1618 3 discriminator 8 view .LVU2334
1622:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7234              		.loc 1 1622 3 discriminator 8 view .LVU2335
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 7235              		.loc 1 1625 3 discriminator 8 view .LVU2336
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 7236              		.loc 1 1625 19 is_stmt 0 discriminator 8 view .LVU2337
 7237 005c 0023     		movs	r3, #0
 7238 005e 0193     		str	r3, [sp, #4]
1625:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_CHECKSUM_ON_COPY
 7239              		.loc 1 1625 9 discriminator 8 view .LVU2338
 7240 0060 0093     		str	r3, [sp]
1629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
 7241              		.loc 1 1629 3 is_stmt 1 discriminator 8 view .LVU2339
1629:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     SOCKADDR_TO_IPADDR_PORT(to, &buf.addr, remote_port);
 7242              		.loc 1 1629 6 is_stmt 0 discriminator 8 view .LVU2340
 7243 0062 002D     		cmp	r5, #0
 7244 0064 39D0     		beq	.L565
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7245              		.loc 1 1630 5 is_stmt 1 view .LVU2341
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7246              		.loc 1 1630 5 view .LVU2342
 7247 0066 6B68     		ldr	r3, [r5, #4]
 7248 0068 0293     		str	r3, [sp, #8]
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 234


 7249              		.loc 1 1630 5 view .LVU2343
 7250 006a 6888     		ldrh	r0, [r5, #2]
 7251              	.LVL754:
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7252              		.loc 1 1630 5 is_stmt 0 view .LVU2344
 7253 006c FFF7FEFF 		bl	lwip_htons
 7254              	.LVL755:
1630:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 7255              		.loc 1 1630 5 is_stmt 1 view .LVU2345
 7256              	.L566:
1635:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7257              		.loc 1 1635 3 view .LVU2346
1635:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7258              		.loc 1 1635 25 is_stmt 0 view .LVU2347
 7259 0070 ADF80C00 		strh	r0, [sp, #12]	@ movhi
1639:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   ip_addr_debug_print_val(SOCKETS_DEBUG, buf.addr);
 7260              		.loc 1 1639 59 is_stmt 1 view .LVU2348
1640:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, (" port=%"U16_F"\n", remote_port));
 7261              		.loc 1 1640 51 view .LVU2349
1641:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7262              		.loc 1 1641 64 view .LVU2350
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 7263              		.loc 1 1661 3 view .LVU2351
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 7264              		.loc 1 1661 9 is_stmt 0 view .LVU2352
 7265 0074 3A46     		mov	r2, r7
 7266 0076 3146     		mov	r1, r6
 7267 0078 6846     		mov	r0, sp
 7268              	.LVL756:
1661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 7269              		.loc 1 1661 9 view .LVU2353
 7270 007a FFF7FEFF 		bl	netbuf_ref
 7271              	.LVL757:
1663:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 7272              		.loc 1 1663 3 is_stmt 1 view .LVU2354
1663:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4 && LWIP_IPV6
 7273              		.loc 1 1663 6 is_stmt 0 view .LVU2355
 7274 007e 0546     		mov	r5, r0
 7275 0080 70B3     		cbz	r0, .L574
 7276              	.LVL758:
 7277              	.L567:
1677:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7278              		.loc 1 1677 3 is_stmt 1 view .LVU2356
 7279 0082 6846     		mov	r0, sp
 7280 0084 FFF7FEFF 		bl	netbuf_free
 7281              	.LVL759:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7282              		.loc 1 1679 3 view .LVU2357
 7283              	.LBB77:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7284              		.loc 1 1679 3 view .LVU2358
 7285 0088 2846     		mov	r0, r5
 7286 008a FFF7FEFF 		bl	err_to_errno
 7287              	.LVL760:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7288              		.loc 1 1679 3 view .LVU2359
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 235


 7289              		.loc 1 1679 3 view .LVU2360
 7290 008e 08B1     		cbz	r0, .L568
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7291              		.loc 1 1679 3 discriminator 1 view .LVU2361
 7292 0090 1A4A     		ldr	r2, .L575
 7293 0092 1060     		str	r0, [r2]
 7294              	.L568:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7295              		.loc 1 1679 3 discriminator 3 view .LVU2362
 7296              	.LBE77:
1679:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7297              		.loc 1 1679 3 discriminator 3 view .LVU2363
1680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? short_size : -1);
 7298              		.loc 1 1680 20 discriminator 3 view .LVU2364
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7299              		.loc 1 1681 3 discriminator 3 view .LVU2365
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7300              		.loc 1 1681 38 is_stmt 0 discriminator 3 view .LVU2366
 7301 0094 75BB     		cbnz	r5, .L570
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7302              		.loc 1 1681 38 discriminator 1 view .LVU2367
 7303 0096 A0B2     		uxth	r0, r4
 7304              	.LVL761:
 7305              	.L558:
1682:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7306              		.loc 1 1682 1 view .LVU2368
 7307 0098 04B0     		add	sp, sp, #16
 7308              	.LCFI88:
 7309              		.cfi_remember_state
 7310              		.cfi_def_cfa_offset 32
 7311              		@ sp needed
 7312 009a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 7313              	.LVL762:
 7314              	.L572:
 7315              	.LCFI89:
 7316              		.cfi_restore_state
1601:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_send(s, data, size, flags);
 7317              		.loc 1 1601 22 is_stmt 1 view .LVU2369
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 7318              		.loc 1 1602 5 view .LVU2370
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 7319              		.loc 1 1602 12 is_stmt 0 view .LVU2371
 7320 009e 4346     		mov	r3, r8
 7321 00a0 2246     		mov	r2, r4
 7322 00a2 3146     		mov	r1, r6
 7323 00a4 3846     		mov	r0, r7
 7324              	.LVL763:
1602:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_TCP */
 7325              		.loc 1 1602 12 view .LVU2372
 7326 00a6 FFF7FEFF 		bl	lwip_send
 7327              	.LVL764:
 7328 00aa F5E7     		b	.L558
 7329              	.LVL765:
 7330              	.L573:
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7331              		.loc 1 1613 5 is_stmt 1 view .LVU2373
 7332              	.LBB78:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 236


1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7333              		.loc 1 1613 5 view .LVU2374
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7334              		.loc 1 1613 5 view .LVU2375
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7335              		.loc 1 1613 5 view .LVU2376
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7336              		.loc 1 1613 5 view .LVU2377
 7337 00ac 134B     		ldr	r3, .L575
 7338 00ae 5A22     		movs	r2, #90
 7339 00b0 1A60     		str	r2, [r3]
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7340              		.loc 1 1613 5 view .LVU2378
 7341              	.LBE78:
1613:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 7342              		.loc 1 1613 5 view .LVU2379
1614:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7343              		.loc 1 1614 22 view .LVU2380
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7344              		.loc 1 1615 5 view .LVU2381
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7345              		.loc 1 1615 12 is_stmt 0 view .LVU2382
 7346 00b2 4FF0FF30 		mov	r0, #-1
 7347              	.LVL766:
1615:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7348              		.loc 1 1615 12 view .LVU2383
 7349 00b6 EFE7     		b	.L558
 7350              	.LVL767:
 7351              	.L563:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7352              		.loc 1 1618 3 is_stmt 1 discriminator 7 view .LVU2384
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7353              		.loc 1 1618 3 discriminator 7 view .LVU2385
 7354 00b8 114B     		ldr	r3, .L575+4
 7355 00ba 40F25262 		movw	r2, #1618
 7356 00be 1149     		ldr	r1, .L575+8
 7357 00c0 1148     		ldr	r0, .L575+12
 7358              	.LVL768:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7359              		.loc 1 1618 3 is_stmt 0 discriminator 7 view .LVU2386
 7360 00c2 FFF7FEFF 		bl	printf
 7361              	.LVL769:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7362              		.loc 1 1618 3 is_stmt 1 discriminator 7 view .LVU2387
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7363              		.loc 1 1618 3 discriminator 7 view .LVU2388
 7364              	.LBB79:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7365              		.loc 1 1618 3 discriminator 7 view .LVU2389
 7366 00c6 6FF00F00 		mvn	r0, #15
 7367 00ca FFF7FEFF 		bl	err_to_errno
 7368              	.LVL770:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7369              		.loc 1 1618 3 discriminator 7 view .LVU2390
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7370              		.loc 1 1618 3 discriminator 7 view .LVU2391
 7371 00ce 08B1     		cbz	r0, .L564
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 237


1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7372              		.loc 1 1618 3 discriminator 9 view .LVU2392
 7373 00d0 0A4A     		ldr	r2, .L575
 7374 00d2 1060     		str	r0, [r2]
 7375              	.L564:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7376              		.loc 1 1618 3 discriminator 11 view .LVU2393
 7377              	.LBE79:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7378              		.loc 1 1618 3 discriminator 11 view .LVU2394
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7379              		.loc 1 1618 3 discriminator 11 view .LVU2395
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7380              		.loc 1 1618 3 discriminator 11 view .LVU2396
 7381 00d4 4FF0FF30 		mov	r0, #-1
 7382              	.LVL771:
1618:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (IS_SOCK_ADDR_LEN_VALID(tolen) &&
 7383              		.loc 1 1618 3 is_stmt 0 discriminator 11 view .LVU2397
 7384 00d8 DEE7     		b	.L558
 7385              	.LVL772:
 7386              	.L565:
1632:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     ip_addr_set_any(NETCONNTYPE_ISIPV6(netconn_type(sock->conn)), &buf.addr);
 7387              		.loc 1 1632 5 is_stmt 1 view .LVU2398
1633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7388              		.loc 1 1633 5 view .LVU2399
 7389 00da 0020     		movs	r0, #0
 7390              	.LVL773:
1633:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7391              		.loc 1 1633 5 is_stmt 0 view .LVU2400
 7392 00dc 0290     		str	r0, [sp, #8]
 7393 00de C7E7     		b	.L566
 7394              	.LVL774:
 7395              	.L574:
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7396              		.loc 1 1673 5 is_stmt 1 view .LVU2401
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7397              		.loc 1 1673 11 is_stmt 0 view .LVU2402
 7398 00e0 6946     		mov	r1, sp
 7399 00e2 DAF80000 		ldr	r0, [r10]
 7400              	.LVL775:
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7401              		.loc 1 1673 11 view .LVU2403
 7402 00e6 FFF7FEFF 		bl	netconn_send
 7403              	.LVL776:
 7404 00ea 0546     		mov	r5, r0
 7405              	.LVL777:
1673:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7406              		.loc 1 1673 11 view .LVU2404
 7407 00ec C9E7     		b	.L567
 7408              	.LVL778:
 7409              	.L569:
1596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7410              		.loc 1 1596 12 view .LVU2405
 7411 00ee 4FF0FF30 		mov	r0, #-1
 7412              	.LVL779:
1596:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7413              		.loc 1 1596 12 view .LVU2406
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 238


 7414 00f2 D1E7     		b	.L558
 7415              	.LVL780:
 7416              	.L570:
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7417              		.loc 1 1681 38 view .LVU2407
 7418 00f4 4FF0FF30 		mov	r0, #-1
 7419              	.LVL781:
1681:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7420              		.loc 1 1681 38 view .LVU2408
 7421 00f8 CEE7     		b	.L558
 7422              	.L576:
 7423 00fa 00BF     		.align	2
 7424              	.L575:
 7425 00fc 00000000 		.word	errno
 7426 0100 00000000 		.word	.LC0
 7427 0104 00000000 		.word	.LC33
 7428 0108 48000000 		.word	.LC2
 7429              		.cfi_endproc
 7430              	.LFE392:
 7432              		.section	.text.lwip_send,"ax",%progbits
 7433              		.align	1
 7434              		.global	lwip_send
 7435              		.syntax unified
 7436              		.thumb
 7437              		.thumb_func
 7439              	lwip_send:
 7440              	.LVL782:
 7441              	.LFB390:
1383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 7442              		.loc 1 1383 1 is_stmt 1 view -0
 7443              		.cfi_startproc
 7444              		@ args = 0, pretend = 0, frame = 8
 7445              		@ frame_needed = 0, uses_anonymous_args = 0
1383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 7446              		.loc 1 1383 1 is_stmt 0 view .LVU2410
 7447 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 7448              	.LCFI90:
 7449              		.cfi_def_cfa_offset 20
 7450              		.cfi_offset 4, -20
 7451              		.cfi_offset 5, -16
 7452              		.cfi_offset 6, -12
 7453              		.cfi_offset 7, -8
 7454              		.cfi_offset 14, -4
 7455 0002 85B0     		sub	sp, sp, #20
 7456              	.LCFI91:
 7457              		.cfi_def_cfa_offset 40
 7458 0004 0746     		mov	r7, r0
 7459 0006 0D46     		mov	r5, r1
 7460 0008 1646     		mov	r6, r2
 7461 000a 1C46     		mov	r4, r3
1384:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 7462              		.loc 1 1384 3 is_stmt 1 view .LVU2411
1385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t write_flags;
 7463              		.loc 1 1385 3 view .LVU2412
1386:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   size_t written;
 7464              		.loc 1 1386 3 view .LVU2413
1387:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 239


 7465              		.loc 1 1387 3 view .LVU2414
1390:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7466              		.loc 1 1390 53 view .LVU2415
1392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 7467              		.loc 1 1392 3 view .LVU2416
1392:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 7468              		.loc 1 1392 10 is_stmt 0 view .LVU2417
 7469 000c FFF7FEFF 		bl	get_socket
 7470              	.LVL783:
1393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7471              		.loc 1 1393 3 is_stmt 1 view .LVU2418
1393:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7472              		.loc 1 1393 6 is_stmt 0 view .LVU2419
 7473 0010 68B3     		cbz	r0, .L582
 7474 0012 0246     		mov	r2, r0
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 7475              		.loc 1 1397 3 is_stmt 1 view .LVU2420
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 7476              		.loc 1 1397 7 is_stmt 0 view .LVU2421
 7477 0014 0368     		ldr	r3, [r0]
 7478 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1397:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if (LWIP_UDP || LWIP_RAW)
 7479              		.loc 1 1397 6 view .LVU2422
 7480 0018 03F0F003 		and	r3, r3, #240
 7481 001c 102B     		cmp	r3, #16
 7482 001e 1AD1     		bne	.L586
1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7483              		.loc 1 1408 3 is_stmt 1 view .LVU2423
1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7484              		.loc 1 1408 37 is_stmt 0 view .LVU2424
 7485 0020 14F0100F 		tst	r4, #16
 7486 0024 21D0     		beq	.L583
 7487 0026 0323     		movs	r3, #3
 7488              	.L580:
1409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 7489              		.loc 1 1409 73 view .LVU2425
 7490 0028 6410     		asrs	r4, r4, #1
 7491              	.LVL784:
1409:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_DONTWAIT) ? NETCONN_DONTBLOCK : 0));
 7492              		.loc 1 1409 73 view .LVU2426
 7493 002a 04F00404 		and	r4, r4, #4
 7494              	.LVL785:
1411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
 7495              		.loc 1 1411 3 is_stmt 1 view .LVU2427
1411:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = netconn_write_partly(sock->conn, data, size, write_flags, &written);
 7496              		.loc 1 1411 11 is_stmt 0 view .LVU2428
 7497 002e 0021     		movs	r1, #0
 7498 0030 0391     		str	r1, [sp, #12]
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7499              		.loc 1 1412 3 is_stmt 1 view .LVU2429
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7500              		.loc 1 1412 9 is_stmt 0 view .LVU2430
 7501 0032 1068     		ldr	r0, [r2]
 7502              	.LVL786:
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7503              		.loc 1 1412 9 view .LVU2431
 7504 0034 03AA     		add	r2, sp, #12
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 240


 7505              	.LVL787:
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7506              		.loc 1 1412 9 view .LVU2432
 7507 0036 0092     		str	r2, [sp]
 7508 0038 2343     		orrs	r3, r3, r4
 7509              	.LVL788:
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7510              		.loc 1 1412 9 view .LVU2433
 7511 003a 3246     		mov	r2, r6
 7512 003c 2946     		mov	r1, r5
 7513 003e FFF7FEFF 		bl	netconn_write_partly
 7514              	.LVL789:
1412:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7515              		.loc 1 1412 9 view .LVU2434
 7516 0042 0446     		mov	r4, r0
 7517              	.LVL790:
1414:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, err_to_errno(err));
 7518              		.loc 1 1414 91 is_stmt 1 view .LVU2435
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7519              		.loc 1 1415 3 view .LVU2436
 7520              	.LBB80:
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7521              		.loc 1 1415 3 view .LVU2437
 7522 0044 FFF7FEFF 		bl	err_to_errno
 7523              	.LVL791:
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7524              		.loc 1 1415 3 view .LVU2438
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7525              		.loc 1 1415 3 view .LVU2439
 7526 0048 08B1     		cbz	r0, .L581
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7527              		.loc 1 1415 3 discriminator 1 view .LVU2440
 7528 004a 0C4A     		ldr	r2, .L587
 7529 004c 1060     		str	r0, [r2]
 7530              	.L581:
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7531              		.loc 1 1415 3 discriminator 3 view .LVU2441
 7532              	.LBE80:
1415:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 7533              		.loc 1 1415 3 discriminator 3 view .LVU2442
1416:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* casting 'written' to ssize_t is OK here since the netconn API limits it to SSIZE_MAX */
 7534              		.loc 1 1416 20 discriminator 3 view .LVU2443
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7535              		.loc 1 1418 3 discriminator 3 view .LVU2444
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7536              		.loc 1 1418 44 is_stmt 0 discriminator 3 view .LVU2445
 7537 004e 8CB9     		cbnz	r4, .L584
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7538              		.loc 1 1418 44 discriminator 1 view .LVU2446
 7539 0050 0398     		ldr	r0, [sp, #12]
 7540              	.LVL792:
 7541              	.L577:
1419:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7542              		.loc 1 1419 1 view .LVU2447
 7543 0052 05B0     		add	sp, sp, #20
 7544              	.LCFI92:
 7545              		.cfi_remember_state
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 241


 7546              		.cfi_def_cfa_offset 20
 7547              		@ sp needed
 7548 0054 F0BD     		pop	{r4, r5, r6, r7, pc}
 7549              	.LVL793:
 7550              	.L586:
 7551              	.LCFI93:
 7552              		.cfi_restore_state
1399:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return lwip_sendto(s, data, size, flags, NULL, 0);
 7553              		.loc 1 1399 22 is_stmt 1 view .LVU2448
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 7554              		.loc 1 1400 5 view .LVU2449
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 7555              		.loc 1 1400 12 is_stmt 0 view .LVU2450
 7556 0056 0023     		movs	r3, #0
 7557 0058 0193     		str	r3, [sp, #4]
 7558 005a 0093     		str	r3, [sp]
 7559 005c 2346     		mov	r3, r4
 7560 005e 3246     		mov	r2, r6
 7561 0060 2946     		mov	r1, r5
 7562 0062 3846     		mov	r0, r7
 7563              	.LVL794:
1400:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* (LWIP_UDP || LWIP_RAW) */
 7564              		.loc 1 1400 12 view .LVU2451
 7565 0064 FFF7FEFF 		bl	lwip_sendto
 7566              	.LVL795:
 7567 0068 F3E7     		b	.L577
 7568              	.LVL796:
 7569              	.L583:
1408:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                        ((flags & MSG_MORE)     ? NETCONN_MORE      : 0) |
 7570              		.loc 1 1408 37 view .LVU2452
 7571 006a 0123     		movs	r3, #1
 7572 006c DCE7     		b	.L580
 7573              	.L582:
1394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7574              		.loc 1 1394 12 view .LVU2453
 7575 006e 4FF0FF30 		mov	r0, #-1
 7576              	.LVL797:
1394:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7577              		.loc 1 1394 12 view .LVU2454
 7578 0072 EEE7     		b	.L577
 7579              	.LVL798:
 7580              	.L584:
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7581              		.loc 1 1418 44 view .LVU2455
 7582 0074 4FF0FF30 		mov	r0, #-1
 7583              	.LVL799:
1418:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7584              		.loc 1 1418 44 view .LVU2456
 7585 0078 EBE7     		b	.L577
 7586              	.L588:
 7587 007a 00BF     		.align	2
 7588              	.L587:
 7589 007c 00000000 		.word	errno
 7590              		.cfi_endproc
 7591              	.LFE390:
 7593              		.section	.text.lwip_socket,"ax",%progbits
 7594              		.align	1
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 242


 7595              		.global	lwip_socket
 7596              		.syntax unified
 7597              		.thumb
 7598              		.thumb_func
 7600              	lwip_socket:
 7601              	.LVL800:
 7602              	.LFB393:
1686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 7603              		.loc 1 1686 1 is_stmt 1 view -0
 7604              		.cfi_startproc
 7605              		@ args = 0, pretend = 0, frame = 0
 7606              		@ frame_needed = 0, uses_anonymous_args = 0
1686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct netconn *conn;
 7607              		.loc 1 1686 1 is_stmt 0 view .LVU2458
 7608 0000 38B5     		push	{r3, r4, r5, lr}
 7609              	.LCFI94:
 7610              		.cfi_def_cfa_offset 16
 7611              		.cfi_offset 3, -16
 7612              		.cfi_offset 4, -12
 7613              		.cfi_offset 5, -8
 7614              		.cfi_offset 14, -4
 7615 0002 1346     		mov	r3, r2
1687:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 7616              		.loc 1 1687 3 is_stmt 1 view .LVU2459
1688:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7617              		.loc 1 1688 3 view .LVU2460
1690:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7618              		.loc 1 1690 3 view .LVU2461
1693:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_RAW:
 7619              		.loc 1 1693 3 view .LVU2462
 7620 0004 0229     		cmp	r1, #2
 7621 0006 1BD0     		beq	.L590
 7622 0008 0329     		cmp	r1, #3
 7623 000a 07D0     		beq	.L591
 7624 000c 0129     		cmp	r1, #1
 7625 000e 22D0     		beq	.L602
1720:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EINVAL);
 7626              		.loc 1 1720 59 discriminator 1 view .LVU2463
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7627              		.loc 1 1721 7 discriminator 1 view .LVU2464
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7628              		.loc 1 1721 7 discriminator 1 view .LVU2465
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7629              		.loc 1 1721 7 discriminator 1 view .LVU2466
 7630 0010 1B4B     		ldr	r3, .L606
 7631 0012 1622     		movs	r2, #22
 7632              	.LVL801:
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7633              		.loc 1 1721 7 is_stmt 0 discriminator 1 view .LVU2467
 7634 0014 1A60     		str	r2, [r3]
1721:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 7635              		.loc 1 1721 7 is_stmt 1 discriminator 1 view .LVU2468
1722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7636              		.loc 1 1722 7 discriminator 1 view .LVU2469
1722:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7637              		.loc 1 1722 14 is_stmt 0 discriminator 1 view .LVU2470
 7638 0016 4FF0FF34 		mov	r4, #-1
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 243


 7639 001a 0FE0     		b	.L589
 7640              	.LVL802:
 7641              	.L591:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7642              		.loc 1 1695 7 is_stmt 1 view .LVU2471
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7643              		.loc 1 1695 14 is_stmt 0 view .LVU2472
 7644 001c 194A     		ldr	r2, .L606+4
 7645              	.LVL803:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7646              		.loc 1 1695 14 view .LVU2473
 7647 001e D9B2     		uxtb	r1, r3
 7648              	.LVL804:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7649              		.loc 1 1695 14 view .LVU2474
 7650 0020 4020     		movs	r0, #64
 7651              	.LVL805:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7652              		.loc 1 1695 14 view .LVU2475
 7653 0022 FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 7654              	.LVL806:
1695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              (u8_t)protocol, DEFAULT_SOCKET_EVENTCB);
 7655              		.loc 1 1695 14 view .LVU2476
 7656 0026 0546     		mov	r5, r0
 7657              	.LVL807:
1698:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 7658              		.loc 1 1698 88 is_stmt 1 view .LVU2477
1699:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_DGRAM:
 7659              		.loc 1 1699 7 view .LVU2478
 7660              	.L594:
1725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
 7661              		.loc 1 1725 3 view .LVU2479
1725:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     LWIP_DEBUGF(SOCKETS_DEBUG, ("-1 / ENOBUFS (could not create netconn)\n"));
 7662              		.loc 1 1725 6 is_stmt 0 view .LVU2480
 7663 0028 E5B1     		cbz	r5, .L603
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7664              		.loc 1 1731 3 is_stmt 1 view .LVU2481
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7665              		.loc 1 1731 7 is_stmt 0 view .LVU2482
 7666 002a 0021     		movs	r1, #0
 7667 002c 2846     		mov	r0, r5
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7668              		.loc 1 1731 7 view .LVU2483
 7669 002e FFF7FEFF 		bl	alloc_socket
 7670              	.LVL808:
1731:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7671              		.loc 1 1731 7 view .LVU2484
 7672 0032 0446     		mov	r4, r0
 7673              	.LVL809:
1733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
 7674              		.loc 1 1733 3 is_stmt 1 view .LVU2485
1733:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     netconn_delete(conn);
 7675              		.loc 1 1733 6 is_stmt 0 view .LVU2486
 7676 0034 B0F1FF3F 		cmp	r0, #-1
 7677 0038 1AD0     		beq	.L604
1738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(&sockets[i - LWIP_SOCKET_OFFSET]);
 7678              		.loc 1 1738 3 is_stmt 1 view .LVU2487
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 244


1738:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(&sockets[i - LWIP_SOCKET_OFFSET]);
 7679              		.loc 1 1738 16 is_stmt 0 view .LVU2488
 7680 003a A861     		str	r0, [r5, #24]
1739:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("%d\n", i));
 7681              		.loc 1 1739 48 is_stmt 1 view .LVU2489
1740:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 7682              		.loc 1 1740 42 view .LVU2490
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
 7683              		.loc 1 1741 3 view .LVU2491
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
 7684              		.loc 1 1741 3 view .LVU2492
1741:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return i;
 7685              		.loc 1 1741 3 view .LVU2493
1742:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7686              		.loc 1 1742 3 view .LVU2494
 7687              	.LVL810:
 7688              	.L589:
1743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7689              		.loc 1 1743 1 is_stmt 0 view .LVU2495
 7690 003c 2046     		mov	r0, r4
 7691 003e 38BD     		pop	{r3, r4, r5, pc}
 7692              	.LVL811:
 7693              	.L590:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7694              		.loc 1 1701 7 is_stmt 1 view .LVU2496
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7695              		.loc 1 1701 14 is_stmt 0 view .LVU2497
 7696 0040 882A     		cmp	r2, #136
 7697 0042 06D0     		beq	.L605
 7698 0044 2020     		movs	r0, #32
 7699              	.LVL812:
 7700              	.L595:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7701              		.loc 1 1701 14 discriminator 4 view .LVU2498
 7702 0046 0F4A     		ldr	r2, .L606+4
 7703              	.LVL813:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7704              		.loc 1 1701 14 discriminator 4 view .LVU2499
 7705 0048 0021     		movs	r1, #0
 7706              	.LVL814:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7707              		.loc 1 1701 14 discriminator 4 view .LVU2500
 7708 004a FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 7709              	.LVL815:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7710              		.loc 1 1701 14 discriminator 4 view .LVU2501
 7711 004e 0546     		mov	r5, r0
 7712              	.LVL816:
1705:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETBUF_RECVINFO
 7713              		.loc 1 1705 88 is_stmt 1 discriminator 4 view .LVU2502
1712:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case SOCK_STREAM:
 7714              		.loc 1 1712 7 discriminator 4 view .LVU2503
 7715 0050 EAE7     		b	.L594
 7716              	.LVL817:
 7717              	.L605:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7718              		.loc 1 1701 14 is_stmt 0 view .LVU2504
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 245


 7719 0052 2120     		movs	r0, #33
 7720              	.LVL818:
1701:Middlewares/Third_Party/LwIP/src/api/sockets.c ****                                        ((protocol == IPPROTO_UDPLITE) ? NETCONN_UDPLITE : NETCONN_U
 7721              		.loc 1 1701 14 view .LVU2505
 7722 0054 F7E7     		b	.L595
 7723              	.LVL819:
 7724              	.L602:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7725              		.loc 1 1714 7 is_stmt 1 view .LVU2506
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7726              		.loc 1 1714 14 is_stmt 0 view .LVU2507
 7727 0056 0B4A     		ldr	r2, .L606+4
 7728              	.LVL820:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7729              		.loc 1 1714 14 view .LVU2508
 7730 0058 0021     		movs	r1, #0
 7731              	.LVL821:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7732              		.loc 1 1714 14 view .LVU2509
 7733 005a 1020     		movs	r0, #16
 7734              	.LVL822:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7735              		.loc 1 1714 14 view .LVU2510
 7736 005c FFF7FEFF 		bl	netconn_new_with_proto_and_callback
 7737              	.LVL823:
1714:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_socket(%s, SOCK_STREAM, %d) = ",
 7738              		.loc 1 1714 14 view .LVU2511
 7739 0060 0546     		mov	r5, r0
 7740              	.LVL824:
1716:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 7741              		.loc 1 1716 88 is_stmt 1 view .LVU2512
1717:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
 7742              		.loc 1 1717 7 view .LVU2513
 7743 0062 E1E7     		b	.L594
 7744              	.L603:
1726:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENOBUFS);
 7745              		.loc 1 1726 78 discriminator 1 view .LVU2514
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7746              		.loc 1 1727 5 discriminator 1 view .LVU2515
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7747              		.loc 1 1727 5 discriminator 1 view .LVU2516
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7748              		.loc 1 1727 5 discriminator 1 view .LVU2517
 7749 0064 064B     		ldr	r3, .L606
 7750 0066 6922     		movs	r2, #105
 7751 0068 1A60     		str	r2, [r3]
1727:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7752              		.loc 1 1727 5 discriminator 1 view .LVU2518
1728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7753              		.loc 1 1728 5 discriminator 1 view .LVU2519
1728:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7754              		.loc 1 1728 12 is_stmt 0 discriminator 1 view .LVU2520
 7755 006a 4FF0FF34 		mov	r4, #-1
 7756 006e E5E7     		b	.L589
 7757              	.LVL825:
 7758              	.L604:
1734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENFILE);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 246


 7759              		.loc 1 1734 5 is_stmt 1 view .LVU2521
 7760 0070 2846     		mov	r0, r5
 7761              	.LVL826:
1734:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENFILE);
 7762              		.loc 1 1734 5 is_stmt 0 view .LVU2522
 7763 0072 FFF7FEFF 		bl	netconn_delete
 7764              	.LVL827:
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7765              		.loc 1 1735 5 is_stmt 1 view .LVU2523
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7766              		.loc 1 1735 5 view .LVU2524
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7767              		.loc 1 1735 5 view .LVU2525
 7768 0076 024B     		ldr	r3, .L606
 7769 0078 1722     		movs	r2, #23
 7770 007a 1A60     		str	r2, [r3]
1735:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7771              		.loc 1 1735 5 view .LVU2526
1736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7772              		.loc 1 1736 5 view .LVU2527
1736:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7773              		.loc 1 1736 12 is_stmt 0 view .LVU2528
 7774 007c DEE7     		b	.L589
 7775              	.L607:
 7776 007e 00BF     		.align	2
 7777              	.L606:
 7778 0080 00000000 		.word	errno
 7779 0084 00000000 		.word	event_callback
 7780              		.cfi_endproc
 7781              	.LFE393:
 7783              		.section	.text.lwip_write,"ax",%progbits
 7784              		.align	1
 7785              		.global	lwip_write
 7786              		.syntax unified
 7787              		.thumb
 7788              		.thumb_func
 7790              	lwip_write:
 7791              	.LVL828:
 7792              	.LFB394:
1747:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_send(s, data, size, 0);
 7793              		.loc 1 1747 1 is_stmt 1 view -0
 7794              		.cfi_startproc
 7795              		@ args = 0, pretend = 0, frame = 0
 7796              		@ frame_needed = 0, uses_anonymous_args = 0
1747:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_send(s, data, size, 0);
 7797              		.loc 1 1747 1 is_stmt 0 view .LVU2530
 7798 0000 08B5     		push	{r3, lr}
 7799              	.LCFI95:
 7800              		.cfi_def_cfa_offset 8
 7801              		.cfi_offset 3, -8
 7802              		.cfi_offset 14, -4
1748:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7803              		.loc 1 1748 3 is_stmt 1 view .LVU2531
1748:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7804              		.loc 1 1748 10 is_stmt 0 view .LVU2532
 7805 0002 0023     		movs	r3, #0
 7806 0004 FFF7FEFF 		bl	lwip_send
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 247


 7807              	.LVL829:
1749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7808              		.loc 1 1749 1 view .LVU2533
 7809 0008 08BD     		pop	{r3, pc}
 7810              		.cfi_endproc
 7811              	.LFE394:
 7813              		.section	.text.lwip_writev,"ax",%progbits
 7814              		.align	1
 7815              		.global	lwip_writev
 7816              		.syntax unified
 7817              		.thumb
 7818              		.thumb_func
 7820              	lwip_writev:
 7821              	.LVL830:
 7822              	.LFB395:
1753:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 7823              		.loc 1 1753 1 is_stmt 1 view -0
 7824              		.cfi_startproc
 7825              		@ args = 0, pretend = 0, frame = 32
 7826              		@ frame_needed = 0, uses_anonymous_args = 0
1753:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct msghdr msg;
 7827              		.loc 1 1753 1 is_stmt 0 view .LVU2535
 7828 0000 00B5     		push	{lr}
 7829              	.LCFI96:
 7830              		.cfi_def_cfa_offset 4
 7831              		.cfi_offset 14, -4
 7832 0002 89B0     		sub	sp, sp, #36
 7833              	.LCFI97:
 7834              		.cfi_def_cfa_offset 40
1754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7835              		.loc 1 1754 3 is_stmt 1 view .LVU2536
1756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 7836              		.loc 1 1756 3 view .LVU2537
1756:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_namelen = 0;
 7837              		.loc 1 1756 16 is_stmt 0 view .LVU2538
 7838 0004 0023     		movs	r3, #0
 7839 0006 0193     		str	r3, [sp, #4]
1757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 7840              		.loc 1 1757 3 is_stmt 1 view .LVU2539
1757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   /* Hack: we have to cast via number to cast from 'const' pointer to non-const.
 7841              		.loc 1 1757 19 is_stmt 0 view .LVU2540
 7842 0008 0293     		str	r3, [sp, #8]
1760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 7843              		.loc 1 1760 3 is_stmt 1 view .LVU2541
1760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_iovlen = iovcnt;
 7844              		.loc 1 1760 15 is_stmt 0 view .LVU2542
 7845 000a 0391     		str	r1, [sp, #12]
1761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 7846              		.loc 1 1761 3 is_stmt 1 view .LVU2543
1761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_control = NULL;
 7847              		.loc 1 1761 18 is_stmt 0 view .LVU2544
 7848 000c 0492     		str	r2, [sp, #16]
1762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 7849              		.loc 1 1762 3 is_stmt 1 view .LVU2545
1762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_controllen = 0;
 7850              		.loc 1 1762 19 is_stmt 0 view .LVU2546
 7851 000e 0593     		str	r3, [sp, #20]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 248


1763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 7852              		.loc 1 1763 3 is_stmt 1 view .LVU2547
1763:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   msg.msg_flags = 0;
 7853              		.loc 1 1763 22 is_stmt 0 view .LVU2548
 7854 0010 0693     		str	r3, [sp, #24]
1764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
 7855              		.loc 1 1764 3 is_stmt 1 view .LVU2549
1764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_sendmsg(s, &msg, 0);
 7856              		.loc 1 1764 17 is_stmt 0 view .LVU2550
 7857 0012 0793     		str	r3, [sp, #28]
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7858              		.loc 1 1765 3 is_stmt 1 view .LVU2551
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7859              		.loc 1 1765 10 is_stmt 0 view .LVU2552
 7860 0014 1A46     		mov	r2, r3
 7861              	.LVL831:
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7862              		.loc 1 1765 10 view .LVU2553
 7863 0016 01A9     		add	r1, sp, #4
 7864              	.LVL832:
1765:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 7865              		.loc 1 1765 10 view .LVU2554
 7866 0018 FFF7FEFF 		bl	lwip_sendmsg
 7867              	.LVL833:
1766:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7868              		.loc 1 1766 1 view .LVU2555
 7869 001c 09B0     		add	sp, sp, #36
 7870              	.LCFI98:
 7871              		.cfi_def_cfa_offset 4
 7872              		@ sp needed
 7873 001e 5DF804FB 		ldr	pc, [sp], #4
 7874              		.cfi_endproc
 7875              	.LFE395:
 7877              		.section	.text.lwip_select,"ax",%progbits
 7878              		.align	1
 7879              		.global	lwip_select
 7880              		.syntax unified
 7881              		.thumb
 7882              		.thumb_func
 7884              	lwip_select:
 7885              	.LVL834:
 7886              	.LFB399:
1966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 7887              		.loc 1 1966 1 is_stmt 1 view -0
 7888              		.cfi_startproc
 7889              		@ args = 4, pretend = 0, frame = 72
 7890              		@ frame_needed = 0, uses_anonymous_args = 0
1966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 7891              		.loc 1 1966 1 is_stmt 0 view .LVU2557
 7892 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7893              	.LCFI99:
 7894              		.cfi_def_cfa_offset 36
 7895              		.cfi_offset 4, -36
 7896              		.cfi_offset 5, -32
 7897              		.cfi_offset 6, -28
 7898              		.cfi_offset 7, -24
 7899              		.cfi_offset 8, -20
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 249


 7900              		.cfi_offset 9, -16
 7901              		.cfi_offset 10, -12
 7902              		.cfi_offset 11, -8
 7903              		.cfi_offset 14, -4
 7904 0004 97B0     		sub	sp, sp, #92
 7905              	.LCFI100:
 7906              		.cfi_def_cfa_offset 128
 7907 0006 209D     		ldr	r5, [sp, #128]
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 7908              		.loc 1 1967 3 is_stmt 1 view .LVU2558
 7909              	.LVL835:
1968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   fd_set lreadset, lwriteset, lexceptset;
 7910              		.loc 1 1968 3 view .LVU2559
1969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
 7911              		.loc 1 1969 3 view .LVU2560
1970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int i;
 7912              		.loc 1 1970 3 view .LVU2561
1971:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int maxfdp2;
 7913              		.loc 1 1971 3 view .LVU2562
1972:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 7914              		.loc 1 1972 3 view .LVU2563
1979:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7915              		.loc 1 1979 3 view .LVU2564
1984:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7916              		.loc 1 1984 80 view .LVU2565
1986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EINVAL);
 7917              		.loc 1 1986 3 view .LVU2566
1986:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(EINVAL);
 7918              		.loc 1 1986 6 is_stmt 0 view .LVU2567
 7919 0008 4028     		cmp	r0, #64
 7920 000a 2AD8     		bhi	.L651
 7921 000c 8146     		mov	r9, r0
 7922 000e 0E46     		mov	r6, r1
 7923 0010 1746     		mov	r7, r2
 7924 0012 9846     		mov	r8, r3
1991:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7925              		.loc 1 1991 85 is_stmt 1 view .LVU2568
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7926              		.loc 1 1995 3 view .LVU2569
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7927              		.loc 1 1995 12 is_stmt 0 view .LVU2570
 7928 0014 10AB     		add	r3, sp, #64
 7929              	.LVL836:
1995:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 7930              		.loc 1 1995 12 view .LVU2571
 7931 0016 0293     		str	r3, [sp, #8]
 7932 0018 12AB     		add	r3, sp, #72
 7933 001a 0193     		str	r3, [sp, #4]
 7934 001c 14AB     		add	r3, sp, #80
 7935 001e 0093     		str	r3, [sp]
 7936 0020 4346     		mov	r3, r8
 7937 0022 FFF7FEFF 		bl	lwip_selscan
 7938              	.LVL837:
1997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one of the sockets in one of the fd_sets was invalid */
 7939              		.loc 1 1997 3 is_stmt 1 view .LVU2572
1997:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one of the sockets in one of the fd_sets was invalid */
 7940              		.loc 1 1997 6 is_stmt 0 view .LVU2573
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 250


 7941 0026 B0F1000A 		subs	r10, r0, #0
 7942 002a 20DB     		blt	.L652
2002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one or more sockets are set, no need to wait */
 7943              		.loc 1 2002 10 is_stmt 1 view .LVU2574
2002:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     /* one or more sockets are set, no need to wait */
 7944              		.loc 1 2002 13 is_stmt 0 view .LVU2575
 7945 002c BAF1000F 		cmp	r10, #0
 7946 0030 23DD     		ble	.L653
 7947              	.LVL838:
 7948              	.L616:
2154:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   set_errno(0);
 7949              		.loc 1 2154 55 is_stmt 1 discriminator 3 view .LVU2576
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
 7950              		.loc 1 2155 3 discriminator 3 view .LVU2577
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
 7951              		.loc 1 2155 3 discriminator 3 view .LVU2578
2155:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (readset) {
 7952              		.loc 1 2155 3 discriminator 3 view .LVU2579
2156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *readset = lreadset;
 7953              		.loc 1 2156 3 discriminator 3 view .LVU2580
2156:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *readset = lreadset;
 7954              		.loc 1 2156 6 is_stmt 0 discriminator 3 view .LVU2581
 7955 0032 26B1     		cbz	r6, .L646
2157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7956              		.loc 1 2157 5 is_stmt 1 view .LVU2582
2157:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7957              		.loc 1 2157 14 is_stmt 0 view .LVU2583
 7958 0034 16AB     		add	r3, sp, #88
 7959 0036 13E90300 		ldmdb	r3, {r0, r1}
 7960 003a 86E80300 		stm	r6, {r0, r1}
 7961              	.L646:
2159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *writeset = lwriteset;
 7962              		.loc 1 2159 3 is_stmt 1 view .LVU2584
2159:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *writeset = lwriteset;
 7963              		.loc 1 2159 6 is_stmt 0 view .LVU2585
 7964 003e 27B1     		cbz	r7, .L647
2160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7965              		.loc 1 2160 5 is_stmt 1 view .LVU2586
2160:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7966              		.loc 1 2160 15 is_stmt 0 view .LVU2587
 7967 0040 12AB     		add	r3, sp, #72
 7968 0042 93E80300 		ldm	r3, {r0, r1}
 7969 0046 87E80300 		stm	r7, {r0, r1}
 7970              	.L647:
2162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *exceptset = lexceptset;
 7971              		.loc 1 2162 3 is_stmt 1 view .LVU2588
2162:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     *exceptset = lexceptset;
 7972              		.loc 1 2162 6 is_stmt 0 view .LVU2589
 7973 004a B8F1000F 		cmp	r8, #0
 7974 004e 04D0     		beq	.L612
2163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7975              		.loc 1 2163 5 is_stmt 1 view .LVU2590
2163:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 7976              		.loc 1 2163 16 is_stmt 0 view .LVU2591
 7977 0050 10AB     		add	r3, sp, #64
 7978 0052 93E80300 		ldm	r3, {r0, r1}
 7979 0056 88E80300 		stm	r8, {r0, r1}
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 251


 7980              	.LVL839:
 7981              	.L612:
2166:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SOCKET_SELECT */
 7982              		.loc 1 2166 1 view .LVU2592
 7983 005a 5046     		mov	r0, r10
 7984 005c 17B0     		add	sp, sp, #92
 7985              	.LCFI101:
 7986              		.cfi_remember_state
 7987              		.cfi_def_cfa_offset 36
 7988              		@ sp needed
 7989 005e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7990              	.LVL840:
 7991              	.L651:
 7992              	.LCFI102:
 7993              		.cfi_restore_state
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7994              		.loc 1 1987 5 is_stmt 1 discriminator 1 view .LVU2593
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7995              		.loc 1 1987 5 discriminator 1 view .LVU2594
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7996              		.loc 1 1987 5 discriminator 1 view .LVU2595
 7997 0062 AE4B     		ldr	r3, .L666
 7998              	.LVL841:
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 7999              		.loc 1 1987 5 is_stmt 0 discriminator 1 view .LVU2596
 8000 0064 1622     		movs	r2, #22
 8001              	.LVL842:
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 8002              		.loc 1 1987 5 discriminator 1 view .LVU2597
 8003 0066 1A60     		str	r2, [r3]
1987:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 8004              		.loc 1 1987 5 is_stmt 1 discriminator 1 view .LVU2598
1988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8005              		.loc 1 1988 5 discriminator 1 view .LVU2599
1988:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8006              		.loc 1 1988 12 is_stmt 0 discriminator 1 view .LVU2600
 8007 0068 4FF0FF3A 		mov	r10, #-1
 8008 006c F5E7     		b	.L612
 8009              	.LVL843:
 8010              	.L652:
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8011              		.loc 1 1999 5 is_stmt 1 discriminator 1 view .LVU2601
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8012              		.loc 1 1999 5 discriminator 1 view .LVU2602
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8013              		.loc 1 1999 5 discriminator 1 view .LVU2603
 8014 006e AB4B     		ldr	r3, .L666
 8015 0070 0922     		movs	r2, #9
 8016 0072 1A60     		str	r2, [r3]
1999:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8017              		.loc 1 1999 5 discriminator 1 view .LVU2604
2000:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 8018              		.loc 1 2000 57 discriminator 1 view .LVU2605
2001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (nready > 0) {
 8019              		.loc 1 2001 5 discriminator 1 view .LVU2606
 8020              	.LVL844:
2001:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (nready > 0) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 252


 8021              		.loc 1 2001 12 is_stmt 0 discriminator 1 view .LVU2607
 8022 0074 4FF0FF3A 		mov	r10, #-1
 8023 0078 EFE7     		b	.L612
 8024              	.LVL845:
 8025              	.L653:
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 8026              		.loc 1 2007 5 is_stmt 1 view .LVU2608
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 8027              		.loc 1 2007 8 is_stmt 0 view .LVU2609
 8028 007a 35B1     		cbz	r5, .L617
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 8029              		.loc 1 2007 27 discriminator 1 view .LVU2610
 8030 007c 2A68     		ldr	r2, [r5]
 8031 007e 6B68     		ldr	r3, [r5, #4]
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 8032              		.loc 1 2007 17 discriminator 1 view .LVU2611
 8033 0080 1343     		orrs	r3, r2, r3
 8034 0082 02D1     		bne	.L617
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 8035              		.loc 1 2007 51 discriminator 2 view .LVU2612
 8036 0084 AB68     		ldr	r3, [r5, #8]
2007:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: no timeout, returning 0\n"));
 8037              		.loc 1 2007 41 discriminator 2 view .LVU2613
 8038 0086 002B     		cmp	r3, #0
 8039 0088 D3D0     		beq	.L616
 8040              	.L617:
 8041              	.LBB81:
2017:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_ALLOC(select_cb, set_errno(ENOMEM); lwip_select_dec_sockets_used(maxfdp1, &
 8042              		.loc 1 2017 7 is_stmt 1 view .LVU2614
2018:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
 8043              		.loc 1 2018 125 view .LVU2615
2019:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8044              		.loc 1 2019 7 view .LVU2616
 8045 008a 2422     		movs	r2, #36
 8046 008c 0021     		movs	r1, #0
 8047 008e 07A8     		add	r0, sp, #28
 8048              	.LVL846:
2019:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8049              		.loc 1 2019 7 is_stmt 0 view .LVU2617
 8050 0090 FFF7FEFF 		bl	memset
 8051              	.LVL847:
2021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).writeset = writeset;
 8052              		.loc 1 2021 7 is_stmt 1 view .LVU2618
2021:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).writeset = writeset;
 8053              		.loc 1 2021 48 is_stmt 0 view .LVU2619
 8054 0094 0996     		str	r6, [sp, #36]
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).exceptset = exceptset;
 8055              		.loc 1 2022 7 is_stmt 1 view .LVU2620
2022:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_REF(select_cb).exceptset = exceptset;
 8056              		.loc 1 2022 49 is_stmt 0 view .LVU2621
 8057 0096 0A97     		str	r7, [sp, #40]
2023:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8058              		.loc 1 2023 7 is_stmt 1 view .LVU2622
2023:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8059              		.loc 1 2023 50 is_stmt 0 view .LVU2623
 8060 0098 CDF82C80 		str	r8, [sp, #44]
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* failed to create semaphore */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 253


 8061              		.loc 1 2027 7 is_stmt 1 view .LVU2624
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* failed to create semaphore */
 8062              		.loc 1 2027 11 is_stmt 0 view .LVU2625
 8063 009c 0021     		movs	r1, #0
 8064 009e 0FA8     		add	r0, sp, #60
 8065 00a0 FFF7FEFF 		bl	sys_sem_new
 8066              	.LVL848:
2027:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* failed to create semaphore */
 8067              		.loc 1 2027 10 view .LVU2626
 8068 00a4 40B9     		cbnz	r0, .L654
2036:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8069              		.loc 1 2036 7 is_stmt 1 view .LVU2627
 8070 00a6 07A8     		add	r0, sp, #28
 8071 00a8 FFF7FEFF 		bl	lwip_link_select_cb
 8072              	.LVL849:
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8073              		.loc 1 2039 7 view .LVU2628
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8074              		.loc 1 2040 7 view .LVU2629
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8075              		.loc 1 2040 14 is_stmt 0 view .LVU2630
 8076 00ac 0024     		movs	r4, #0
 8077 00ae 2095     		str	r5, [sp, #128]
 8078              	.LVL850:
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8079              		.loc 1 2040 14 view .LVU2631
 8080 00b0 4546     		mov	r5, r8
 8081 00b2 DDF88080 		ldr	r8, [sp, #128]
 8082              	.LVL851:
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8083              		.loc 1 2040 7 view .LVU2632
 8084 00b6 20E0     		b	.L620
 8085              	.LVL852:
 8086              	.L654:
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8087              		.loc 1 2029 9 is_stmt 1 discriminator 1 view .LVU2633
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8088              		.loc 1 2029 9 discriminator 1 view .LVU2634
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8089              		.loc 1 2029 9 discriminator 1 view .LVU2635
 8090 00b8 984B     		ldr	r3, .L666
 8091 00ba 0C22     		movs	r2, #12
 8092 00bc 1A60     		str	r2, [r3]
2029:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         lwip_select_dec_sockets_used(maxfdp1, &used_sockets);
 8093              		.loc 1 2029 9 discriminator 1 view .LVU2636
2030:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         API_SELECT_CB_VAR_FREE(select_cb);
 8094              		.loc 1 2030 61 discriminator 1 view .LVU2637
2031:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
 8095              		.loc 1 2031 42 discriminator 1 view .LVU2638
2032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8096              		.loc 1 2032 9 discriminator 1 view .LVU2639
 8097              	.LVL853:
 8098              	.L619:
2032:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8099              		.loc 1 2032 16 is_stmt 0 discriminator 1 view .LVU2640
 8100 00be 4FF0FF3A 		mov	r10, #-1
 8101 00c2 CAE7     		b	.L612
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 254


 8102              	.LVL854:
 8103              	.L657:
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8104              		.loc 1 2041 25 discriminator 1 view .LVU2641
 8105 00c4 04F11F03 		add	r3, r4, #31
 8106              	.LVL855:
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8107              		.loc 1 2041 25 discriminator 1 view .LVU2642
 8108 00c8 1DE0     		b	.L622
 8109              	.LVL856:
 8110              	.L658:
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8111              		.loc 1 2042 26 view .LVU2643
 8112 00ca 04F11F03 		add	r3, r4, #31
 8113              	.LVL857:
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8114              		.loc 1 2042 26 view .LVU2644
 8115 00ce 2CE0     		b	.L625
 8116              	.LVL858:
 8117              	.L659:
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8118              		.loc 1 2043 27 view .LVU2645
 8119 00d0 04F11F03 		add	r3, r4, #31
 8120              	.LVL859:
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8121              		.loc 1 2043 27 view .LVU2646
 8122 00d4 3CE0     		b	.L627
 8123              	.L623:
 8124              	.LBB82:
2044:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
 8125              		.loc 1 2044 11 is_stmt 1 view .LVU2647
2045:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
 8126              		.loc 1 2045 11 view .LVU2648
 8127 00d6 FFF7FEFF 		bl	sys_arch_protect
 8128              	.LVL860:
 8129 00da 8246     		mov	r10, r0
 8130              	.LVL861:
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8131              		.loc 1 2046 11 view .LVU2649
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8132              		.loc 1 2046 18 is_stmt 0 view .LVU2650
 8133 00dc 2046     		mov	r0, r4
 8134              	.LVL862:
2046:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8135              		.loc 1 2046 18 view .LVU2651
 8136 00de FFF7FEFF 		bl	tryget_socket_unconn_locked
 8137              	.LVL863:
2047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting++;
 8138              		.loc 1 2047 11 is_stmt 1 view .LVU2652
2047:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->select_waiting++;
 8139              		.loc 1 2047 14 is_stmt 0 view .LVU2653
 8140 00e2 0028     		cmp	r0, #0
 8141 00e4 50D0     		beq	.L628
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting == 0) {
 8142              		.loc 1 2048 13 is_stmt 1 view .LVU2654
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting == 0) {
 8143              		.loc 1 2048 17 is_stmt 0 view .LVU2655
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 255


 8144 00e6 817B     		ldrb	r1, [r0, #14]	@ zero_extendqisi2
2048:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting == 0) {
 8145              		.loc 1 2048 33 view .LVU2656
 8146 00e8 4B1C     		adds	r3, r1, #1
 8147 00ea DBB2     		uxtb	r3, r3
 8148 00ec 8373     		strb	r3, [r0, #14]
2049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* overflow - too many threads waiting */
 8149              		.loc 1 2049 13 is_stmt 1 view .LVU2657
2049:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* overflow - too many threads waiting */
 8150              		.loc 1 2049 16 is_stmt 0 view .LVU2658
 8151 00ee 002B     		cmp	r3, #0
 8152 00f0 3DD0     		beq	.L655
2059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 8153              		.loc 1 2059 13 is_stmt 1 view .LVU2659
 8154 00f2 5046     		mov	r0, r10
 8155              	.LVL864:
2059:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 8156              		.loc 1 2059 13 is_stmt 0 view .LVU2660
 8157 00f4 FFF7FEFF 		bl	sys_arch_unprotect
 8158              	.LVL865:
2060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8159              		.loc 1 2060 30 is_stmt 1 view .LVU2661
 8160              	.L626:
2060:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8161              		.loc 1 2060 30 is_stmt 0 view .LVU2662
 8162              	.LBE82:
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8163              		.loc 1 2040 49 is_stmt 1 discriminator 2 view .LVU2663
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8164              		.loc 1 2040 50 is_stmt 0 discriminator 2 view .LVU2664
 8165 00f8 0134     		adds	r4, r4, #1
 8166              	.LVL866:
 8167              	.L620:
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8168              		.loc 1 2040 36 is_stmt 1 discriminator 1 view .LVU2665
2040:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8169              		.loc 1 2040 7 is_stmt 0 discriminator 1 view .LVU2666
 8170 00fa 4C45     		cmp	r4, r9
 8171 00fc 53DA     		bge	.L656
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8172              		.loc 1 2041 9 is_stmt 1 view .LVU2667
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8173              		.loc 1 2041 12 is_stmt 0 view .LVU2668
 8174 00fe 86B1     		cbz	r6, .L621
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8175              		.loc 1 2041 25 discriminator 1 view .LVU2669
 8176 0100 2346     		mov	r3, r4
 8177 0102 002C     		cmp	r4, #0
 8178 0104 DEDB     		blt	.L657
 8179              	.L622:
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8180              		.loc 1 2041 25 discriminator 1 view .LVU2670
 8181 0106 5B11     		asrs	r3, r3, #5
 8182 0108 56F82330 		ldr	r3, [r6, r3, lsl #2]
 8183 010c 6142     		rsbs	r1, r4, #0
 8184 010e 04F01F02 		and	r2, r4, #31
 8185 0112 01F01F01 		and	r1, r1, #31
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 256


 8186 0116 58BF     		it	pl
 8187 0118 4A42     		rsbpl	r2, r1, #0
 8188 011a D340     		lsrs	r3, r3, r2
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8189              		.loc 1 2041 22 discriminator 1 view .LVU2671
 8190 011c 13F0010F 		tst	r3, #1
 8191 0120 D9D1     		bne	.L623
 8192              	.L621:
2041:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8193              		.loc 1 2041 47 discriminator 3 view .LVU2672
 8194 0122 87B1     		cbz	r7, .L624
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8195              		.loc 1 2042 26 view .LVU2673
 8196 0124 2346     		mov	r3, r4
 8197 0126 002C     		cmp	r4, #0
 8198 0128 CFDB     		blt	.L658
 8199              	.L625:
 8200 012a 5B11     		asrs	r3, r3, #5
 8201 012c 57F82330 		ldr	r3, [r7, r3, lsl #2]
 8202 0130 6142     		rsbs	r1, r4, #0
 8203 0132 04F01F02 		and	r2, r4, #31
 8204 0136 01F01F01 		and	r1, r1, #31
 8205 013a 58BF     		it	pl
 8206 013c 4A42     		rsbpl	r2, r1, #0
 8207 013e D340     		lsrs	r3, r3, r2
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8208              		.loc 1 2042 23 view .LVU2674
 8209 0140 13F0010F 		tst	r3, #1
 8210 0144 C7D1     		bne	.L623
 8211              	.L624:
2042:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8212              		.loc 1 2042 49 discriminator 1 view .LVU2675
 8213 0146 002D     		cmp	r5, #0
 8214 0148 D6D0     		beq	.L626
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8215              		.loc 1 2043 27 view .LVU2676
 8216 014a 2346     		mov	r3, r4
 8217 014c 002C     		cmp	r4, #0
 8218 014e BFDB     		blt	.L659
 8219              	.L627:
 8220 0150 5B11     		asrs	r3, r3, #5
 8221 0152 55F82330 		ldr	r3, [r5, r3, lsl #2]
 8222 0156 6142     		rsbs	r1, r4, #0
 8223 0158 04F01F02 		and	r2, r4, #31
 8224 015c 01F01F01 		and	r1, r1, #31
 8225 0160 58BF     		it	pl
 8226 0162 4A42     		rsbpl	r2, r1, #0
 8227 0164 D340     		lsrs	r3, r3, r2
2043:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8228              		.loc 1 2043 24 view .LVU2677
 8229 0166 13F0010F 		tst	r3, #1
 8230 016a C5D0     		beq	.L626
 8231 016c B3E7     		b	.L623
 8232              	.LVL867:
 8233              	.L655:
 8234              	.LBB83:
2051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               nready = -1;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 257


 8235              		.loc 1 2051 35 view .LVU2678
 8236 016e A846     		mov	r8, r5
2051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               nready = -1;
 8237              		.loc 1 2051 15 is_stmt 1 view .LVU2679
2051:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               nready = -1;
 8238              		.loc 1 2051 35 is_stmt 0 view .LVU2680
 8239 0170 8173     		strb	r1, [r0, #14]
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               maxfdp2 = i;
 8240              		.loc 1 2052 15 is_stmt 1 view .LVU2681
 8241              	.LVL868:
2053:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               SYS_ARCH_UNPROTECT(lev);
 8242              		.loc 1 2053 15 view .LVU2682
2054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
 8243              		.loc 1 2054 15 view .LVU2683
 8244 0172 5046     		mov	r0, r10
 8245              	.LVL869:
2054:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               done_socket(sock);
 8246              		.loc 1 2054 15 is_stmt 0 view .LVU2684
 8247 0174 FFF7FEFF 		bl	sys_arch_unprotect
 8248              	.LVL870:
2055:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               set_errno(EBUSY);
 8249              		.loc 1 2055 32 is_stmt 1 view .LVU2685
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 8250              		.loc 1 2056 15 view .LVU2686
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 8251              		.loc 1 2056 15 view .LVU2687
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 8252              		.loc 1 2056 15 view .LVU2688
 8253 0178 684B     		ldr	r3, .L666
 8254 017a 1022     		movs	r2, #16
 8255 017c 1A60     		str	r2, [r3]
2056:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               break;
 8256              		.loc 1 2056 15 is_stmt 0 view .LVU2689
 8257              	.LBE83:
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
 8258              		.loc 1 2072 7 is_stmt 1 view .LVU2690
 8259              	.LBB84:
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               maxfdp2 = i;
 8260              		.loc 1 2052 22 is_stmt 0 view .LVU2691
 8261 017e 4FF0FF3A 		mov	r10, #-1
 8262              	.LVL871:
2052:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               maxfdp2 = i;
 8263              		.loc 1 2052 22 view .LVU2692
 8264              	.LBE84:
 8265              	.LBE81:
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8266              		.loc 1 1967 9 view .LVU2693
 8267 0182 0023     		movs	r3, #0
 8268 0184 0593     		str	r3, [sp, #20]
 8269 0186 0AE0     		b	.L630
 8270              	.LVL872:
 8271              	.L628:
 8272              	.LBB91:
 8273              	.LBB85:
2065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8274              		.loc 1 2065 13 view .LVU2694
 8275 0188 A846     		mov	r8, r5
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 258


2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             maxfdp2 = i;
 8276              		.loc 1 2063 13 is_stmt 1 view .LVU2695
 8277              	.LVL873:
2064:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             SYS_ARCH_UNPROTECT(lev);
 8278              		.loc 1 2064 13 view .LVU2696
2065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8279              		.loc 1 2065 13 view .LVU2697
 8280 018a 5046     		mov	r0, r10
 8281              	.LVL874:
2065:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8282              		.loc 1 2065 13 is_stmt 0 view .LVU2698
 8283 018c FFF7FEFF 		bl	sys_arch_unprotect
 8284              	.LVL875:
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 8285              		.loc 1 2066 13 is_stmt 1 view .LVU2699
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 8286              		.loc 1 2066 13 view .LVU2700
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 8287              		.loc 1 2066 13 view .LVU2701
 8288 0190 624B     		ldr	r3, .L666
 8289 0192 0922     		movs	r2, #9
 8290 0194 1A60     		str	r2, [r3]
2066:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             break;
 8291              		.loc 1 2066 13 is_stmt 0 view .LVU2702
 8292              	.LBE85:
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
 8293              		.loc 1 2072 7 is_stmt 1 view .LVU2703
 8294              	.LBB86:
2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             maxfdp2 = i;
 8295              		.loc 1 2063 20 is_stmt 0 view .LVU2704
 8296 0196 4FF0FF3A 		mov	r10, #-1
 8297              	.LVL876:
2063:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             maxfdp2 = i;
 8298              		.loc 1 2063 20 view .LVU2705
 8299              	.LBE86:
 8300              	.LBE91:
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8301              		.loc 1 1967 9 view .LVU2706
 8302 019a 0023     		movs	r3, #0
 8303 019c 0593     		str	r3, [sp, #20]
 8304              	.LVL877:
 8305              	.L630:
 8306              	.LBB92:
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8307              		.loc 1 2099 7 is_stmt 1 view .LVU2707
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8308              		.loc 1 2099 14 is_stmt 0 view .LVU2708
 8309 019e 0025     		movs	r5, #0
 8310 01a0 CDF81090 		str	r9, [sp, #16]
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8311              		.loc 1 2099 7 view .LVU2709
 8312 01a4 4FE0     		b	.L633
 8313              	.LVL878:
 8314              	.L656:
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!nready) {
 8315              		.loc 1 2075 18 view .LVU2710
 8316 01a6 CDF88080 		str	r8, [sp, #128]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 259


 8317 01aa A846     		mov	r8, r5
 8318 01ac 209D     		ldr	r5, [sp, #128]
 8319              	.LVL879:
2072:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Call lwip_selscan again: there could have been events between
 8320              		.loc 1 2072 7 is_stmt 1 view .LVU2711
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!nready) {
 8321              		.loc 1 2075 9 view .LVU2712
2075:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (!nready) {
 8322              		.loc 1 2075 18 is_stmt 0 view .LVU2713
 8323 01ae 10AB     		add	r3, sp, #64
 8324 01b0 0293     		str	r3, [sp, #8]
 8325 01b2 12AB     		add	r3, sp, #72
 8326 01b4 0193     		str	r3, [sp, #4]
 8327 01b6 14AB     		add	r3, sp, #80
 8328 01b8 0093     		str	r3, [sp]
 8329 01ba 4346     		mov	r3, r8
 8330 01bc 3A46     		mov	r2, r7
 8331 01be 3146     		mov	r1, r6
 8332 01c0 4846     		mov	r0, r9
 8333 01c2 FFF7FEFF 		bl	lwip_selscan
 8334              	.LVL880:
2076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Still none ready, just wait to be woken */
 8335              		.loc 1 2076 9 is_stmt 1 view .LVU2714
2076:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           /* Still none ready, just wait to be woken */
 8336              		.loc 1 2076 12 is_stmt 0 view .LVU2715
 8337 01c6 8246     		mov	r10, r0
 8338 01c8 D0B9     		cbnz	r0, .L648
2078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Wait forever */
 8339              		.loc 1 2078 11 is_stmt 1 view .LVU2716
2078:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Wait forever */
 8340              		.loc 1 2078 14 is_stmt 0 view .LVU2717
 8341 01ca BDB1     		cbz	r5, .L649
 8342              	.LBB87:
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8343              		.loc 1 2082 13 is_stmt 1 view .LVU2718
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8344              		.loc 1 2082 40 is_stmt 0 view .LVU2719
 8345 01cc 2868     		ldr	r0, [r5]
 8346              	.LVL881:
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8347              		.loc 1 2082 68 view .LVU2720
 8348 01ce AB68     		ldr	r3, [r5, #8]
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8349              		.loc 1 2082 78 view .LVU2721
 8350 01d0 03F5FA73 		add	r3, r3, #500
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8351              		.loc 1 2082 85 view .LVU2722
 8352 01d4 524A     		ldr	r2, .L666+4
 8353 01d6 82FB0312 		smull	r1, r2, r2, r3
 8354 01da D917     		asrs	r1, r3, #31
 8355 01dc C1EBA211 		rsb	r1, r1, r2, asr #6
2082:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (msecs_long <= 0) {
 8356              		.loc 1 2082 57 view .LVU2723
 8357 01e0 4FF47A73 		mov	r3, #1000
 8358 01e4 03FB0011 		mla	r1, r3, r0, r1
 8359              	.LVL882:
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 260


 8360              		.loc 1 2083 13 is_stmt 1 view .LVU2724
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
 8361              		.loc 1 2083 16 is_stmt 0 view .LVU2725
 8362 01e8 0029     		cmp	r1, #0
 8363 01ea 05DD     		ble	.L660
 8364              	.LVL883:
 8365              	.L632:
2083:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               /* Wait 1ms at least (0 means wait forever) */
 8366              		.loc 1 2083 16 view .LVU2726
 8367              	.LBE87:
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8368              		.loc 1 2091 11 is_stmt 1 view .LVU2727
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8369              		.loc 1 2091 21 is_stmt 0 view .LVU2728
 8370 01ec 0FA8     		add	r0, sp, #60
 8371 01ee FFF7FEFF 		bl	sys_arch_sem_wait
 8372              	.LVL884:
2091:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8373              		.loc 1 2091 21 view .LVU2729
 8374 01f2 0590     		str	r0, [sp, #20]
 8375              	.LVL885:
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8376              		.loc 1 2039 15 view .LVU2730
 8377 01f4 4C46     		mov	r4, r9
 8378              	.LVL886:
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8379              		.loc 1 2039 15 view .LVU2731
 8380 01f6 D2E7     		b	.L630
 8381              	.LVL887:
 8382              	.L660:
 8383              	.LBB88:
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
 8384              		.loc 1 2085 27 view .LVU2732
 8385 01f8 0121     		movs	r1, #1
 8386              	.LVL888:
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
 8387              		.loc 1 2085 27 view .LVU2733
 8388 01fa F7E7     		b	.L632
 8389              	.LVL889:
 8390              	.L649:
2085:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             } else {
 8391              		.loc 1 2085 27 view .LVU2734
 8392              	.LBE88:
2080:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8393              		.loc 1 2080 25 view .LVU2735
 8394 01fc 0021     		movs	r1, #0
 8395 01fe F5E7     		b	.L632
 8396              	.L648:
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8397              		.loc 1 2039 15 view .LVU2736
 8398 0200 4C46     		mov	r4, r9
 8399              	.LVL890:
2039:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       for (i = LWIP_SOCKET_OFFSET; i < maxfdp1; i++) {
 8400              		.loc 1 2039 15 view .LVU2737
 8401              	.LBE92:
1967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8402              		.loc 1 1967 9 view .LVU2738
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 261


 8403 0202 0023     		movs	r3, #0
 8404 0204 0593     		str	r3, [sp, #20]
 8405 0206 CAE7     		b	.L630
 8406              	.LVL891:
 8407              	.L663:
 8408              	.LBB93:
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8409              		.loc 1 2100 25 discriminator 1 view .LVU2739
 8410 0208 05F11F03 		add	r3, r5, #31
 8411              	.LVL892:
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8412              		.loc 1 2100 25 discriminator 1 view .LVU2740
 8413 020c 21E0     		b	.L635
 8414              	.LVL893:
 8415              	.L664:
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8416              		.loc 1 2101 26 view .LVU2741
 8417 020e 05F11F03 		add	r3, r5, #31
 8418              	.LVL894:
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8419              		.loc 1 2101 26 view .LVU2742
 8420 0212 30E0     		b	.L638
 8421              	.LVL895:
 8422              	.L665:
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8423              		.loc 1 2102 27 view .LVU2743
 8424 0214 05F11F03 		add	r3, r5, #31
 8425              	.LVL896:
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8426              		.loc 1 2102 27 view .LVU2744
 8427 0218 41E0     		b	.L640
 8428              	.L636:
 8429              	.LBB89:
2103:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           SYS_ARCH_PROTECT(lev);
 8430              		.loc 1 2103 11 is_stmt 1 view .LVU2745
2104:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           sock = tryget_socket_unconn_locked(i);
 8431              		.loc 1 2104 11 view .LVU2746
 8432 021a FFF7FEFF 		bl	sys_arch_protect
 8433              	.LVL897:
 8434 021e 8146     		mov	r9, r0
 8435              	.LVL898:
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8436              		.loc 1 2105 11 view .LVU2747
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8437              		.loc 1 2105 18 is_stmt 0 view .LVU2748
 8438 0220 2846     		mov	r0, r5
 8439              	.LVL899:
2105:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (sock != NULL) {
 8440              		.loc 1 2105 18 view .LVU2749
 8441 0222 FFF7FEFF 		bl	tryget_socket_unconn_locked
 8442              	.LVL900:
2106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* for now, handle select_waiting==0... */
 8443              		.loc 1 2106 11 is_stmt 1 view .LVU2750
2106:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* for now, handle select_waiting==0... */
 8444              		.loc 1 2106 14 is_stmt 0 view .LVU2751
 8445 0226 8346     		mov	fp, r0
 8446 0228 0028     		cmp	r0, #0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 262


 8447 022a 4FD0     		beq	.L641
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8448              		.loc 1 2108 13 is_stmt 1 view .LVU2752
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8449              		.loc 1 2108 13 view .LVU2753
 8450 022c 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 8451 022e 002B     		cmp	r3, #0
 8452 0230 44D0     		beq	.L661
 8453              	.LVL901:
 8454              	.L642:
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8455              		.loc 1 2108 13 discriminator 3 view .LVU2754
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8456              		.loc 1 2108 13 discriminator 3 view .LVU2755
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
 8457              		.loc 1 2109 13 discriminator 3 view .LVU2756
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
 8458              		.loc 1 2109 21 is_stmt 0 discriminator 3 view .LVU2757
 8459 0232 9BF80E30 		ldrb	r3, [fp, #14]	@ zero_extendqisi2
2109:Middlewares/Third_Party/LwIP/src/api/sockets.c ****               sock->select_waiting--;
 8460              		.loc 1 2109 16 discriminator 3 view .LVU2758
 8461 0236 13B1     		cbz	r3, .L643
2110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 8462              		.loc 1 2110 15 is_stmt 1 view .LVU2759
2110:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             }
 8463              		.loc 1 2110 35 is_stmt 0 view .LVU2760
 8464 0238 013B     		subs	r3, r3, #1
 8465 023a 8BF80E30 		strb	r3, [fp, #14]
 8466              	.L643:
2112:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             done_socket(sock);
 8467              		.loc 1 2112 13 is_stmt 1 view .LVU2761
 8468 023e 4846     		mov	r0, r9
 8469 0240 FFF7FEFF 		bl	sys_arch_unprotect
 8470              	.LVL902:
2113:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
 8471              		.loc 1 2113 30 view .LVU2762
 8472              	.L639:
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8473              		.loc 1 2118 13 discriminator 3 view .LVU2763
 8474              	.LBE89:
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8475              		.loc 1 2099 49 discriminator 3 view .LVU2764
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8476              		.loc 1 2099 50 is_stmt 0 discriminator 3 view .LVU2765
 8477 0244 0135     		adds	r5, r5, #1
 8478              	.LVL903:
 8479              	.L633:
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8480              		.loc 1 2099 36 is_stmt 1 discriminator 2 view .LVU2766
2099:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if ((readset && FD_ISSET(i, readset)) ||
 8481              		.loc 1 2099 7 is_stmt 0 discriminator 2 view .LVU2767
 8482 0246 A542     		cmp	r5, r4
 8483 0248 49DA     		bge	.L662
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8484              		.loc 1 2100 9 is_stmt 1 view .LVU2768
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8485              		.loc 1 2100 12 is_stmt 0 view .LVU2769
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 263


 8486 024a 86B1     		cbz	r6, .L634
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8487              		.loc 1 2100 25 discriminator 1 view .LVU2770
 8488 024c 2B46     		mov	r3, r5
 8489 024e 002D     		cmp	r5, #0
 8490 0250 DADB     		blt	.L663
 8491              	.L635:
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8492              		.loc 1 2100 25 discriminator 1 view .LVU2771
 8493 0252 5B11     		asrs	r3, r3, #5
 8494 0254 56F82330 		ldr	r3, [r6, r3, lsl #2]
 8495 0258 6942     		rsbs	r1, r5, #0
 8496 025a 05F01F02 		and	r2, r5, #31
 8497 025e 01F01F01 		and	r1, r1, #31
 8498 0262 58BF     		it	pl
 8499 0264 4A42     		rsbpl	r2, r1, #0
 8500 0266 D340     		lsrs	r3, r3, r2
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8501              		.loc 1 2100 22 discriminator 1 view .LVU2772
 8502 0268 13F0010F 		tst	r3, #1
 8503 026c D5D1     		bne	.L636
 8504              	.L634:
2100:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (writeset && FD_ISSET(i, writeset)) ||
 8505              		.loc 1 2100 47 discriminator 3 view .LVU2773
 8506 026e 87B1     		cbz	r7, .L637
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8507              		.loc 1 2101 26 view .LVU2774
 8508 0270 2B46     		mov	r3, r5
 8509 0272 002D     		cmp	r5, #0
 8510 0274 CBDB     		blt	.L664
 8511              	.L638:
 8512 0276 5B11     		asrs	r3, r3, #5
 8513 0278 57F82330 		ldr	r3, [r7, r3, lsl #2]
 8514 027c 6942     		rsbs	r1, r5, #0
 8515 027e 05F01F02 		and	r2, r5, #31
 8516 0282 01F01F01 		and	r1, r1, #31
 8517 0286 58BF     		it	pl
 8518 0288 4A42     		rsbpl	r2, r1, #0
 8519 028a D340     		lsrs	r3, r3, r2
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8520              		.loc 1 2101 23 view .LVU2775
 8521 028c 13F0010F 		tst	r3, #1
 8522 0290 C3D1     		bne	.L636
 8523              	.L637:
2101:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             (exceptset && FD_ISSET(i, exceptset))) {
 8524              		.loc 1 2101 49 discriminator 1 view .LVU2776
 8525 0292 B8F1000F 		cmp	r8, #0
 8526 0296 D5D0     		beq	.L639
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8527              		.loc 1 2102 27 view .LVU2777
 8528 0298 2B46     		mov	r3, r5
 8529 029a 002D     		cmp	r5, #0
 8530 029c BADB     		blt	.L665
 8531              	.L640:
 8532 029e 5B11     		asrs	r3, r3, #5
 8533 02a0 58F82330 		ldr	r3, [r8, r3, lsl #2]
 8534 02a4 6942     		rsbs	r1, r5, #0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 264


 8535 02a6 05F01F02 		and	r2, r5, #31
 8536 02aa 01F01F01 		and	r1, r1, #31
 8537 02ae 58BF     		it	pl
 8538 02b0 4A42     		rsbpl	r2, r1, #0
 8539 02b2 D340     		lsrs	r3, r3, r2
2102:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct lwip_sock *sock;
 8540              		.loc 1 2102 24 view .LVU2778
 8541 02b4 13F0010F 		tst	r3, #1
 8542 02b8 C4D0     		beq	.L639
 8543 02ba AEE7     		b	.L636
 8544              	.LVL904:
 8545              	.L661:
 8546              	.LBB90:
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8547              		.loc 1 2108 13 is_stmt 1 discriminator 1 view .LVU2779
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8548              		.loc 1 2108 13 discriminator 1 view .LVU2780
 8549 02bc 194B     		ldr	r3, .L666+8
 8550 02be 40F63C02 		movw	r2, #2108
 8551 02c2 1949     		ldr	r1, .L666+12
 8552 02c4 1948     		ldr	r0, .L666+16
 8553              	.LVL905:
2108:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             if (sock->select_waiting > 0) {
 8554              		.loc 1 2108 13 is_stmt 0 discriminator 1 view .LVU2781
 8555 02c6 FFF7FEFF 		bl	printf
 8556              	.LVL906:
 8557 02ca B2E7     		b	.L642
 8558              	.LVL907:
 8559              	.L641:
2115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Not a valid socket */
 8560              		.loc 1 2115 13 is_stmt 1 view .LVU2782
 8561 02cc 4846     		mov	r0, r9
 8562              	.LVL908:
2115:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             /* Not a valid socket */
 8563              		.loc 1 2115 13 is_stmt 0 view .LVU2783
 8564 02ce FFF7FEFF 		bl	sys_arch_unprotect
 8565              	.LVL909:
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8566              		.loc 1 2117 13 is_stmt 1 view .LVU2784
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8567              		.loc 1 2118 13 view .LVU2785
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8568              		.loc 1 2118 13 view .LVU2786
2118:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 8569              		.loc 1 2118 13 view .LVU2787
 8570 02d2 124B     		ldr	r3, .L666
 8571 02d4 0922     		movs	r2, #9
 8572 02d6 1A60     		str	r2, [r3]
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8573              		.loc 1 2117 20 is_stmt 0 view .LVU2788
 8574 02d8 4FF0FF3A 		mov	r10, #-1
 8575 02dc B2E7     		b	.L639
 8576              	.LVL910:
 8577              	.L662:
2117:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             set_errno(EBADF);
 8578              		.loc 1 2117 20 view .LVU2789
 8579              	.LBE90:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 265


2123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8580              		.loc 1 2123 7 view .LVU2790
 8581 02de DDF81090 		ldr	r9, [sp, #16]
2123:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8582              		.loc 1 2123 7 is_stmt 1 view .LVU2791
 8583 02e2 07A8     		add	r0, sp, #28
 8584 02e4 FFF7FEFF 		bl	lwip_unlink_select_cb
 8585              	.LVL911:
2131:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 8586              		.loc 1 2131 7 view .LVU2792
 8587 02e8 0FA8     		add	r0, sp, #60
 8588 02ea FFF7FEFF 		bl	sys_sem_free
 8589              	.LVL912:
2133:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8590              		.loc 1 2133 40 view .LVU2793
2135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This happens when a socket got closed while waiting */
 8591              		.loc 1 2135 7 view .LVU2794
2135:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* This happens when a socket got closed while waiting */
 8592              		.loc 1 2135 10 is_stmt 0 view .LVU2795
 8593 02ee BAF1000F 		cmp	r10, #0
 8594 02f2 FFF6E4AE 		blt	.L619
2141:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Timeout */
 8595              		.loc 1 2141 7 is_stmt 1 view .LVU2796
2141:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Timeout */
 8596              		.loc 1 2141 10 is_stmt 0 view .LVU2797
 8597 02f6 059B     		ldr	r3, [sp, #20]
 8598 02f8 B3F1FF3F 		cmp	r3, #-1
 8599 02fc 3FF499AE 		beq	.L616
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
 8600              		.loc 1 2148 9 is_stmt 1 view .LVU2798
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
 8601              		.loc 1 2148 18 is_stmt 0 view .LVU2799
 8602 0300 10AB     		add	r3, sp, #64
 8603 0302 0293     		str	r3, [sp, #8]
 8604 0304 12AB     		add	r3, sp, #72
 8605 0306 0193     		str	r3, [sp, #4]
 8606 0308 14AB     		add	r3, sp, #80
 8607 030a 0093     		str	r3, [sp]
 8608 030c 4346     		mov	r3, r8
 8609 030e 3A46     		mov	r2, r7
 8610 0310 3146     		mov	r1, r6
 8611 0312 4846     		mov	r0, r9
 8612 0314 FFF7FEFF 		bl	lwip_selscan
 8613              	.LVL913:
2148:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_select: nready=%d\n", nready));
 8614              		.loc 1 2148 18 view .LVU2800
 8615 0318 8246     		mov	r10, r0
2149:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8616              		.loc 1 2149 73 is_stmt 1 view .LVU2801
 8617 031a 8AE6     		b	.L616
 8618              	.L667:
 8619              		.align	2
 8620              	.L666:
 8621 031c 00000000 		.word	errno
 8622 0320 D34D6210 		.word	274877907
 8623 0324 00000000 		.word	.LC0
 8624 0328 00000000 		.word	.LC5
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 266


 8625 032c 48000000 		.word	.LC2
 8626              	.LBE93:
 8627              		.cfi_endproc
 8628              	.LFE399:
 8630              		.section	.rodata.lwip_poll.str1.4,"aMS",%progbits,1
 8631              		.align	2
 8632              	.LC34:
 8633 0000 6C776970 		.ascii	"lwip_poll: invalid fds\000"
 8633      5F706F6C 
 8633      6C3A2069 
 8633      6E76616C 
 8633      69642066 
 8634 0017 00       		.align	2
 8635              	.LC35:
 8636 0018 74696D65 		.ascii	"timeout > 0\000"
 8636      6F757420 
 8636      3E203000 
 8637              		.section	.text.lwip_poll,"ax",%progbits
 8638              		.align	1
 8639              		.global	lwip_poll
 8640              		.syntax unified
 8641              		.thumb
 8642              		.thumb_func
 8644              	lwip_poll:
 8645              	.LVL914:
 8646              	.LFB401:
2320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 8647              		.loc 1 2320 1 view -0
 8648              		.cfi_startproc
 8649              		@ args = 0, pretend = 0, frame = 40
 8650              		@ frame_needed = 0, uses_anonymous_args = 0
2320:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t waitres = 0;
 8651              		.loc 1 2320 1 is_stmt 0 view .LVU2803
 8652 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 8653              	.LCFI103:
 8654              		.cfi_def_cfa_offset 20
 8655              		.cfi_offset 4, -20
 8656              		.cfi_offset 5, -16
 8657              		.cfi_offset 6, -12
 8658              		.cfi_offset 7, -8
 8659              		.cfi_offset 14, -4
 8660 0002 8BB0     		sub	sp, sp, #44
 8661              	.LCFI104:
 8662              		.cfi_def_cfa_offset 64
 8663 0004 1546     		mov	r5, r2
2321:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int nready;
 8664              		.loc 1 2321 3 is_stmt 1 view .LVU2804
 8665              	.LVL915:
2322:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u32_t msectimeout;
 8666              		.loc 1 2322 3 view .LVU2805
2323:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8667              		.loc 1 2323 3 view .LVU2806
2329:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_ERROR("lwip_poll: invalid fds", ((fds != NULL && nfds > 0) || (fds == NULL && nfds == 0)),
 8668              		.loc 1 2329 51 view .LVU2807
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8669              		.loc 1 2330 3 view .LVU2808
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 267


 8670              		.loc 1 2330 3 view .LVU2809
 8671 0006 0646     		mov	r6, r0
 8672 0008 0F46     		mov	r7, r1
 8673 000a 0029     		cmp	r1, #0
 8674 000c 18BF     		it	ne
 8675 000e 0028     		cmpne	r0, #0
 8676 0010 03D1     		bne	.L669
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8677              		.loc 1 2330 3 is_stmt 0 discriminator 1 view .LVU2810
 8678 0012 0029     		cmp	r1, #0
 8679 0014 08BF     		it	eq
 8680 0016 0028     		cmpeq	r0, #0
 8681 0018 0BD1     		bne	.L681
 8682              	.L669:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8683              		.loc 1 2330 3 is_stmt 1 discriminator 4 view .LVU2811
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8684              		.loc 1 2330 3 discriminator 4 view .LVU2812
2333:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8685              		.loc 1 2333 40 discriminator 4 view .LVU2813
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8686              		.loc 1 2337 3 discriminator 4 view .LVU2814
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8687              		.loc 1 2337 12 is_stmt 0 discriminator 4 view .LVU2815
 8688 001a 0122     		movs	r2, #1
 8689              	.LVL916:
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8690              		.loc 1 2337 12 discriminator 4 view .LVU2816
 8691 001c 3946     		mov	r1, r7
 8692              	.LVL917:
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8693              		.loc 1 2337 12 discriminator 4 view .LVU2817
 8694 001e 3046     		mov	r0, r6
 8695              	.LVL918:
2337:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8696              		.loc 1 2337 12 discriminator 4 view .LVU2818
 8697 0020 FFF7FEFF 		bl	lwip_pollscan
 8698              	.LVL919:
2339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_poll_dec_sockets_used(fds, nfds);
 8699              		.loc 1 2339 3 is_stmt 1 discriminator 4 view .LVU2819
2339:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     lwip_poll_dec_sockets_used(fds, nfds);
 8700              		.loc 1 2339 6 is_stmt 0 discriminator 4 view .LVU2820
 8701 0024 041E     		subs	r4, r0, #0
 8702 0026 4CDB     		blt	.L677
2345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_DECLARE(select_cb);
 8703              		.loc 1 2345 3 is_stmt 1 view .LVU2821
2345:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_DECLARE(select_cb);
 8704              		.loc 1 2345 6 is_stmt 0 view .LVU2822
 8705 0028 04B9     		cbnz	r4, .L668
 8706              	.LBB94:
2346:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8707              		.loc 1 2346 5 is_stmt 1 view .LVU2823
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
 8708              		.loc 1 2348 5 view .LVU2824
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
 8709              		.loc 1 2348 8 is_stmt 0 view .LVU2825
 8710 002a 7DB9     		cbnz	r5, .L682
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 268


 8711              	.LVL920:
 8712              	.L668:
2348:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_poll: no timeout, returning 0\n"));
 8713              		.loc 1 2348 8 view .LVU2826
 8714              	.LBE94:
2431:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8715              		.loc 1 2431 1 view .LVU2827
 8716 002c 2046     		mov	r0, r4
 8717 002e 0BB0     		add	sp, sp, #44
 8718              	.LCFI105:
 8719              		.cfi_remember_state
 8720              		.cfi_def_cfa_offset 20
 8721              		@ sp needed
 8722 0030 F0BD     		pop	{r4, r5, r6, r7, pc}
 8723              	.LVL921:
 8724              	.L681:
 8725              	.LCFI106:
 8726              		.cfi_restore_state
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8727              		.loc 1 2330 3 is_stmt 1 discriminator 3 view .LVU2828
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8728              		.loc 1 2330 3 discriminator 3 view .LVU2829
 8729 0032 254B     		ldr	r3, .L685
 8730 0034 40F61A12 		movw	r2, #2330
 8731              	.LVL922:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8732              		.loc 1 2330 3 is_stmt 0 discriminator 3 view .LVU2830
 8733 0038 2449     		ldr	r1, .L685+4
 8734              	.LVL923:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8735              		.loc 1 2330 3 discriminator 3 view .LVU2831
 8736 003a 2548     		ldr	r0, .L685+8
 8737              	.LVL924:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8738              		.loc 1 2330 3 discriminator 3 view .LVU2832
 8739 003c FFF7FEFF 		bl	printf
 8740              	.LVL925:
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8741              		.loc 1 2330 3 is_stmt 1 discriminator 3 view .LVU2833
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8742              		.loc 1 2330 3 discriminator 3 view .LVU2834
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8743              		.loc 1 2330 3 discriminator 3 view .LVU2835
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8744              		.loc 1 2330 3 discriminator 3 view .LVU2836
 8745 0040 244B     		ldr	r3, .L685+12
 8746 0042 1622     		movs	r2, #22
 8747 0044 1A60     		str	r2, [r3]
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8748              		.loc 1 2330 3 discriminator 3 view .LVU2837
2330:Middlewares/Third_Party/LwIP/src/api/sockets.c ****              set_errno(EINVAL); return -1;);
 8749              		.loc 1 2330 3 discriminator 3 view .LVU2838
 8750 0046 4FF0FF34 		mov	r4, #-1
 8751 004a EFE7     		b	.L668
 8752              	.LVL926:
 8753              	.L682:
 8754              	.LBB95:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 269


2352:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     memset(&API_SELECT_CB_VAR_REF(select_cb), 0, sizeof(struct lwip_select_cb));
 8755              		.loc 1 2352 108 view .LVU2839
2353:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8756              		.loc 1 2353 5 view .LVU2840
 8757 004c 2422     		movs	r2, #36
 8758 004e 0021     		movs	r1, #0
 8759 0050 01A8     		add	r0, sp, #4
 8760              	.LVL927:
2353:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8761              		.loc 1 2353 5 is_stmt 0 view .LVU2841
 8762 0052 FFF7FEFF 		bl	memset
 8763              	.LVL928:
2360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_nfds = nfds;
 8764              		.loc 1 2360 5 is_stmt 1 view .LVU2842
2360:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     API_SELECT_CB_VAR_REF(select_cb).poll_nfds = nfds;
 8765              		.loc 1 2360 47 is_stmt 0 view .LVU2843
 8766 0056 0696     		str	r6, [sp, #24]
2361:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8767              		.loc 1 2361 5 is_stmt 1 view .LVU2844
2361:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8768              		.loc 1 2361 48 is_stmt 0 view .LVU2845
 8769 0058 0797     		str	r7, [sp, #28]
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
 8770              		.loc 1 2365 5 is_stmt 1 view .LVU2846
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
 8771              		.loc 1 2365 9 is_stmt 0 view .LVU2847
 8772 005a 0021     		movs	r1, #0
 8773 005c 09A8     		add	r0, sp, #36
 8774 005e FFF7FEFF 		bl	sys_sem_new
 8775              	.LVL929:
2365:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* failed to create semaphore */
 8776              		.loc 1 2365 8 view .LVU2848
 8777 0062 F0B9     		cbnz	r0, .L683
2374:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8778              		.loc 1 2374 5 is_stmt 1 view .LVU2849
 8779 0064 01A8     		add	r0, sp, #4
 8780 0066 FFF7FEFF 		bl	lwip_link_select_cb
 8781              	.LVL930:
2379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8782              		.loc 1 2379 5 view .LVU2850
2379:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8783              		.loc 1 2379 14 is_stmt 0 view .LVU2851
 8784 006a 0222     		movs	r2, #2
 8785 006c 3946     		mov	r1, r7
 8786 006e 3046     		mov	r0, r6
 8787 0070 FFF7FEFF 		bl	lwip_pollscan
 8788              	.LVL931:
2381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Still none ready, just wait to be woken */
 8789              		.loc 1 2381 5 is_stmt 1 view .LVU2852
2381:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Still none ready, just wait to be woken */
 8790              		.loc 1 2381 8 is_stmt 0 view .LVU2853
 8791 0074 30B9     		cbnz	r0, .L674
2383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Wait forever */
 8792              		.loc 1 2383 7 is_stmt 1 view .LVU2854
2383:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* Wait forever */
 8793              		.loc 1 2383 10 is_stmt 0 view .LVU2855
 8794 0076 002D     		cmp	r5, #0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 270


 8795 0078 21DB     		blt	.L679
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8796              		.loc 1 2388 9 is_stmt 1 view .LVU2856
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8797              		.loc 1 2388 9 view .LVU2857
 8798 007a 18DD     		ble	.L684
 8799              	.LVL932:
 8800              	.L676:
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8801              		.loc 1 2388 9 discriminator 3 view .LVU2858
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8802              		.loc 1 2388 9 discriminator 3 view .LVU2859
2389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8803              		.loc 1 2389 9 discriminator 3 view .LVU2860
2389:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 8804              		.loc 1 2389 21 is_stmt 0 discriminator 3 view .LVU2861
 8805 007c 2946     		mov	r1, r5
 8806              	.LVL933:
 8807              	.L675:
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8808              		.loc 1 2391 7 is_stmt 1 view .LVU2862
2391:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 8809              		.loc 1 2391 17 is_stmt 0 view .LVU2863
 8810 007e 09A8     		add	r0, sp, #36
 8811 0080 FFF7FEFF 		bl	sys_arch_sem_wait
 8812              	.LVL934:
 8813              	.L674:
2399:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8814              		.loc 1 2399 5 is_stmt 1 view .LVU2864
2399:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8815              		.loc 1 2399 14 is_stmt 0 view .LVU2865
 8816 0084 0422     		movs	r2, #4
 8817 0086 3946     		mov	r1, r7
 8818 0088 3046     		mov	r0, r6
 8819 008a FFF7FEFF 		bl	lwip_pollscan
 8820              	.LVL935:
 8821 008e 0446     		mov	r4, r0
 8822              	.LVL936:
2401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8823              		.loc 1 2401 5 is_stmt 1 view .LVU2866
 8824 0090 01A8     		add	r0, sp, #4
 8825              	.LVL937:
2401:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8826              		.loc 1 2401 5 is_stmt 0 view .LVU2867
 8827 0092 FFF7FEFF 		bl	lwip_unlink_select_cb
 8828              	.LVL938:
2409:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 8829              		.loc 1 2409 5 is_stmt 1 view .LVU2868
 8830 0096 09A8     		add	r0, sp, #36
 8831 0098 FFF7FEFF 		bl	sys_sem_free
 8832              	.LVL939:
2411:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8833              		.loc 1 2411 38 view .LVU2869
2413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This happens when a socket got closed while waiting */
 8834              		.loc 1 2413 5 view .LVU2870
2413:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* This happens when a socket got closed while waiting */
 8835              		.loc 1 2413 8 is_stmt 0 view .LVU2871
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 271


 8836 009c 002C     		cmp	r4, #0
 8837 009e C5DA     		bge	.L668
 8838 00a0 02E0     		b	.L673
 8839              	.LVL940:
 8840              	.L683:
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8841              		.loc 1 2367 7 is_stmt 1 discriminator 1 view .LVU2872
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8842              		.loc 1 2367 7 discriminator 1 view .LVU2873
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8843              		.loc 1 2367 7 discriminator 1 view .LVU2874
 8844 00a2 0C4B     		ldr	r3, .L685+12
 8845 00a4 0B22     		movs	r2, #11
 8846 00a6 1A60     		str	r2, [r3]
2367:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       lwip_poll_dec_sockets_used(fds, nfds);
 8847              		.loc 1 2367 7 discriminator 1 view .LVU2875
2368:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       API_SELECT_CB_VAR_FREE(select_cb);
 8848              		.loc 1 2368 44 discriminator 1 view .LVU2876
2369:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 8849              		.loc 1 2369 40 discriminator 1 view .LVU2877
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8850              		.loc 1 2370 7 discriminator 1 view .LVU2878
 8851              	.LVL941:
 8852              	.L673:
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8853              		.loc 1 2370 14 is_stmt 0 discriminator 1 view .LVU2879
 8854 00a8 4FF0FF34 		mov	r4, #-1
 8855              	.LVL942:
2370:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 8856              		.loc 1 2370 14 discriminator 1 view .LVU2880
 8857 00ac BEE7     		b	.L668
 8858              	.LVL943:
 8859              	.L684:
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8860              		.loc 1 2388 9 is_stmt 1 discriminator 1 view .LVU2881
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8861              		.loc 1 2388 9 discriminator 1 view .LVU2882
 8862 00ae 064B     		ldr	r3, .L685
 8863 00b0 40F65412 		movw	r2, #2388
 8864 00b4 0849     		ldr	r1, .L685+16
 8865 00b6 0648     		ldr	r0, .L685+8
 8866              	.LVL944:
2388:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         msectimeout = timeout;
 8867              		.loc 1 2388 9 is_stmt 0 discriminator 1 view .LVU2883
 8868 00b8 FFF7FEFF 		bl	printf
 8869              	.LVL945:
 8870 00bc DEE7     		b	.L676
 8871              	.LVL946:
 8872              	.L679:
2385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 8873              		.loc 1 2385 21 view .LVU2884
 8874 00be 0021     		movs	r1, #0
 8875 00c0 DDE7     		b	.L675
 8876              	.L677:
2385:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
 8877              		.loc 1 2385 21 view .LVU2885
 8878              	.LBE95:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 272


2341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8879              		.loc 1 2341 12 view .LVU2886
 8880 00c2 4FF0FF34 		mov	r4, #-1
 8881              	.LVL947:
2341:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 8882              		.loc 1 2341 12 view .LVU2887
 8883 00c6 B1E7     		b	.L668
 8884              	.L686:
 8885              		.align	2
 8886              	.L685:
 8887 00c8 00000000 		.word	.LC0
 8888 00cc 00000000 		.word	.LC34
 8889 00d0 48000000 		.word	.LC2
 8890 00d4 00000000 		.word	errno
 8891 00d8 18000000 		.word	.LC35
 8892              		.cfi_endproc
 8893              	.LFE401:
 8895              		.section	.text.lwip_shutdown,"ax",%progbits
 8896              		.align	1
 8897              		.global	lwip_shutdown
 8898              		.syntax unified
 8899              		.thumb
 8900              		.thumb_func
 8902              	lwip_shutdown:
 8903              	.LVL948:
 8904              	.LFB405:
2656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 8905              		.loc 1 2656 1 is_stmt 1 view -0
 8906              		.cfi_startproc
 8907              		@ args = 0, pretend = 0, frame = 0
 8908              		@ frame_needed = 0, uses_anonymous_args = 0
2656:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock;
 8909              		.loc 1 2656 1 is_stmt 0 view .LVU2889
 8910 0000 10B5     		push	{r4, lr}
 8911              	.LCFI107:
 8912              		.cfi_def_cfa_offset 8
 8913              		.cfi_offset 4, -8
 8914              		.cfi_offset 14, -4
 8915 0002 0C46     		mov	r4, r1
2657:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err_t err;
 8916              		.loc 1 2657 3 is_stmt 1 view .LVU2890
2658:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t shut_rx = 0, shut_tx = 0;
 8917              		.loc 1 2658 3 view .LVU2891
2659:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8918              		.loc 1 2659 3 view .LVU2892
 8919              	.LVL949:
2661:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8920              		.loc 1 2661 70 view .LVU2893
2663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 8921              		.loc 1 2663 3 view .LVU2894
2663:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 8922              		.loc 1 2663 10 is_stmt 0 view .LVU2895
 8923 0004 FFF7FEFF 		bl	get_socket
 8924              	.LVL950:
2664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 8925              		.loc 1 2664 3 is_stmt 1 view .LVU2896
2664:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 273


 8926              		.loc 1 2664 6 is_stmt 0 view .LVU2897
 8927 0008 80B3     		cbz	r0, .L693
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 8928              		.loc 1 2668 3 is_stmt 1 view .LVU2898
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 8929              		.loc 1 2668 11 is_stmt 0 view .LVU2899
 8930 000a 0068     		ldr	r0, [r0]
 8931              	.LVL951:
2668:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
 8932              		.loc 1 2668 6 view .LVU2900
 8933 000c E0B1     		cbz	r0, .L689
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 8934              		.loc 1 2669 5 is_stmt 1 view .LVU2901
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 8935              		.loc 1 2669 9 is_stmt 0 view .LVU2902
 8936 000e 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
2669:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, EOPNOTSUPP);
 8937              		.loc 1 2669 8 view .LVU2903
 8938 0010 03F0F003 		and	r3, r3, #240
 8939 0014 102B     		cmp	r3, #16
 8940 0016 11D1     		bne	.L699
2680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
 8941              		.loc 1 2680 3 is_stmt 1 view .LVU2904
2680:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
 8942              		.loc 1 2680 6 is_stmt 0 view .LVU2905
 8943 0018 14B3     		cbz	r4, .L694
2682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
 8944              		.loc 1 2682 10 is_stmt 1 view .LVU2906
2682:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
 8945              		.loc 1 2682 13 is_stmt 0 view .LVU2907
 8946 001a 012C     		cmp	r4, #1
 8947 001c 23D0     		beq	.L695
2684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
 8948              		.loc 1 2684 10 is_stmt 1 view .LVU2908
2684:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_rx = 1;
 8949              		.loc 1 2684 13 is_stmt 0 view .LVU2909
 8950 001e 022C     		cmp	r4, #2
 8951 0020 18D1     		bne	.L700
2686:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else {
 8952              		.loc 1 2686 13 view .LVU2910
 8953 0022 0122     		movs	r2, #1
2685:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     shut_tx = 1;
 8954              		.loc 1 2685 13 view .LVU2911
 8955 0024 1146     		mov	r1, r2
 8956              	.L691:
 8957              	.LVL952:
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8958              		.loc 1 2692 3 is_stmt 1 view .LVU2912
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8959              		.loc 1 2692 9 is_stmt 0 view .LVU2913
 8960 0026 FFF7FEFF 		bl	netconn_shutdown
 8961              	.LVL953:
2692:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8962              		.loc 1 2692 9 view .LVU2914
 8963 002a 0446     		mov	r4, r0
 8964              	.LVL954:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 274


 8965              		.loc 1 2694 3 is_stmt 1 view .LVU2915
 8966              	.LBB96:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8967              		.loc 1 2694 3 view .LVU2916
 8968 002c FFF7FEFF 		bl	err_to_errno
 8969              	.LVL955:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8970              		.loc 1 2694 3 view .LVU2917
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8971              		.loc 1 2694 3 view .LVU2918
 8972 0030 08B1     		cbz	r0, .L692
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8973              		.loc 1 2694 3 discriminator 1 view .LVU2919
 8974 0032 114A     		ldr	r2, .L701
 8975 0034 1060     		str	r0, [r2]
 8976              	.L692:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8977              		.loc 1 2694 3 discriminator 3 view .LVU2920
 8978              	.LBE96:
2694:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 8979              		.loc 1 2694 3 discriminator 3 view .LVU2921
2695:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return (err == ERR_OK ? 0 : -1);
 8980              		.loc 1 2695 20 discriminator 3 view .LVU2922
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8981              		.loc 1 2696 3 discriminator 3 view .LVU2923
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8982              		.loc 1 2696 29 is_stmt 0 discriminator 3 view .LVU2924
 8983 0036 E4B9     		cbnz	r4, .L697
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 8984              		.loc 1 2696 29 view .LVU2925
 8985 0038 0020     		movs	r0, #0
 8986              	.LVL956:
 8987              	.L687:
2697:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 8988              		.loc 1 2697 1 view .LVU2926
 8989 003a 10BD     		pop	{r4, pc}
 8990              	.LVL957:
 8991              	.L699:
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8992              		.loc 1 2670 7 is_stmt 1 view .LVU2927
 8993              	.LBB97:
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8994              		.loc 1 2670 7 view .LVU2928
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8995              		.loc 1 2670 7 view .LVU2929
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8996              		.loc 1 2670 7 view .LVU2930
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 8997              		.loc 1 2670 7 view .LVU2931
 8998 003c 0E4B     		ldr	r3, .L701
 8999 003e 5F22     		movs	r2, #95
 9000 0040 1A60     		str	r2, [r3]
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 9001              		.loc 1 2670 7 view .LVU2932
 9002              	.LBE97:
2670:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
 9003              		.loc 1 2670 7 view .LVU2933
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 275


2671:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return -1;
 9004              		.loc 1 2671 24 view .LVU2934
2672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 9005              		.loc 1 2672 7 view .LVU2935
2672:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
 9006              		.loc 1 2672 14 is_stmt 0 view .LVU2936
 9007 0042 4FF0FF30 		mov	r0, #-1
 9008 0046 F8E7     		b	.L687
 9009              	.LVL958:
 9010              	.L689:
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9011              		.loc 1 2675 5 is_stmt 1 view .LVU2937
 9012              	.LBB98:
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9013              		.loc 1 2675 5 view .LVU2938
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9014              		.loc 1 2675 5 view .LVU2939
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9015              		.loc 1 2675 5 view .LVU2940
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9016              		.loc 1 2675 5 view .LVU2941
 9017 0048 0B4B     		ldr	r3, .L701
 9018 004a 6B22     		movs	r2, #107
 9019 004c 1A60     		str	r2, [r3]
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9020              		.loc 1 2675 5 view .LVU2942
 9021              	.LBE98:
2675:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9022              		.loc 1 2675 5 view .LVU2943
2676:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9023              		.loc 1 2676 22 view .LVU2944
2677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9024              		.loc 1 2677 5 view .LVU2945
2677:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9025              		.loc 1 2677 12 is_stmt 0 view .LVU2946
 9026 004e 4FF0FF30 		mov	r0, #-1
 9027 0052 F2E7     		b	.L687
 9028              	.LVL959:
 9029              	.L700:
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9030              		.loc 1 2688 5 is_stmt 1 view .LVU2947
 9031              	.LBB99:
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9032              		.loc 1 2688 5 view .LVU2948
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9033              		.loc 1 2688 5 view .LVU2949
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9034              		.loc 1 2688 5 view .LVU2950
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9035              		.loc 1 2688 5 view .LVU2951
 9036 0054 084B     		ldr	r3, .L701
 9037 0056 1622     		movs	r2, #22
 9038 0058 1A60     		str	r2, [r3]
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9039              		.loc 1 2688 5 view .LVU2952
 9040              	.LBE99:
2688:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 276


 9041              		.loc 1 2688 5 view .LVU2953
2689:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9042              		.loc 1 2689 22 view .LVU2954
2690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9043              		.loc 1 2690 5 view .LVU2955
2690:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9044              		.loc 1 2690 12 is_stmt 0 view .LVU2956
 9045 005a 4FF0FF30 		mov	r0, #-1
 9046 005e ECE7     		b	.L687
 9047              	.LVL960:
 9048              	.L694:
2659:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9049              		.loc 1 2659 21 view .LVU2957
 9050 0060 0022     		movs	r2, #0
2681:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_WR) {
 9051              		.loc 1 2681 13 view .LVU2958
 9052 0062 0121     		movs	r1, #1
 9053 0064 DFE7     		b	.L691
 9054              	.L695:
2683:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } else if (how == SHUT_RDWR) {
 9055              		.loc 1 2683 13 view .LVU2959
 9056 0066 0122     		movs	r2, #1
2659:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9057              		.loc 1 2659 8 view .LVU2960
 9058 0068 0021     		movs	r1, #0
 9059 006a DCE7     		b	.L691
 9060              	.LVL961:
 9061              	.L693:
2665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9062              		.loc 1 2665 12 view .LVU2961
 9063 006c 4FF0FF30 		mov	r0, #-1
 9064              	.LVL962:
2665:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9065              		.loc 1 2665 12 view .LVU2962
 9066 0070 E3E7     		b	.L687
 9067              	.LVL963:
 9068              	.L697:
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9069              		.loc 1 2696 29 view .LVU2963
 9070 0072 4FF0FF30 		mov	r0, #-1
 9071              	.LVL964:
2696:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9072              		.loc 1 2696 29 view .LVU2964
 9073 0076 E0E7     		b	.L687
 9074              	.L702:
 9075              		.align	2
 9076              	.L701:
 9077 0078 00000000 		.word	errno
 9078              		.cfi_endproc
 9079              	.LFE405:
 9081              		.section	.text.lwip_getpeername,"ax",%progbits
 9082              		.align	1
 9083              		.global	lwip_getpeername
 9084              		.syntax unified
 9085              		.thumb
 9086              		.thumb_func
 9088              	lwip_getpeername:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 277


 9089              	.LVL965:
 9090              	.LFB407:
2748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
 9091              		.loc 1 2748 1 is_stmt 1 view -0
 9092              		.cfi_startproc
 9093              		@ args = 0, pretend = 0, frame = 0
 9094              		@ frame_needed = 0, uses_anonymous_args = 0
2748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 0);
 9095              		.loc 1 2748 1 is_stmt 0 view .LVU2966
 9096 0000 08B5     		push	{r3, lr}
 9097              	.LCFI108:
 9098              		.cfi_def_cfa_offset 8
 9099              		.cfi_offset 3, -8
 9100              		.cfi_offset 14, -4
2749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9101              		.loc 1 2749 3 is_stmt 1 view .LVU2967
2749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9102              		.loc 1 2749 10 is_stmt 0 view .LVU2968
 9103 0002 0023     		movs	r3, #0
 9104 0004 FFF7FEFF 		bl	lwip_getaddrname
 9105              	.LVL966:
2750:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9106              		.loc 1 2750 1 view .LVU2969
 9107 0008 08BD     		pop	{r3, pc}
 9108              		.cfi_endproc
 9109              	.LFE407:
 9111              		.section	.text.lwip_getsockname,"ax",%progbits
 9112              		.align	1
 9113              		.global	lwip_getsockname
 9114              		.syntax unified
 9115              		.thumb
 9116              		.thumb_func
 9118              	lwip_getsockname:
 9119              	.LVL967:
 9120              	.LFB408:
2754:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
 9121              		.loc 1 2754 1 is_stmt 1 view -0
 9122              		.cfi_startproc
 9123              		@ args = 0, pretend = 0, frame = 0
 9124              		@ frame_needed = 0, uses_anonymous_args = 0
2754:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_getaddrname(s, name, namelen, 1);
 9125              		.loc 1 2754 1 is_stmt 0 view .LVU2971
 9126 0000 08B5     		push	{r3, lr}
 9127              	.LCFI109:
 9128              		.cfi_def_cfa_offset 8
 9129              		.cfi_offset 3, -8
 9130              		.cfi_offset 14, -4
2755:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9131              		.loc 1 2755 3 is_stmt 1 view .LVU2972
2755:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9132              		.loc 1 2755 10 is_stmt 0 view .LVU2973
 9133 0002 0123     		movs	r3, #1
 9134 0004 FFF7FEFF 		bl	lwip_getaddrname
 9135              	.LVL968:
2756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9136              		.loc 1 2756 1 view .LVU2974
 9137 0008 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 278


 9138              		.cfi_endproc
 9139              	.LFE408:
 9141              		.section	.text.lwip_getsockopt,"ax",%progbits
 9142              		.align	1
 9143              		.global	lwip_getsockopt
 9144              		.syntax unified
 9145              		.thumb
 9146              		.thumb_func
 9148              	lwip_getsockopt:
 9149              	.LVL969:
 9150              	.LFB409:
2760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err;
 9151              		.loc 1 2760 1 is_stmt 1 view -0
 9152              		.cfi_startproc
 9153              		@ args = 4, pretend = 0, frame = 0
 9154              		@ frame_needed = 0, uses_anonymous_args = 0
2760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err;
 9155              		.loc 1 2760 1 is_stmt 0 view .LVU2976
 9156 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 9157              	.LCFI110:
 9158              		.cfi_def_cfa_offset 28
 9159              		.cfi_offset 4, -28
 9160              		.cfi_offset 5, -24
 9161              		.cfi_offset 6, -20
 9162              		.cfi_offset 7, -16
 9163              		.cfi_offset 8, -12
 9164              		.cfi_offset 9, -8
 9165              		.cfi_offset 14, -4
 9166 0004 83B0     		sub	sp, sp, #12
 9167              	.LCFI111:
 9168              		.cfi_def_cfa_offset 40
 9169 0006 0546     		mov	r5, r0
 9170 0008 0E46     		mov	r6, r1
 9171 000a 1746     		mov	r7, r2
 9172 000c 1C46     		mov	r4, r3
 9173 000e DDF82880 		ldr	r8, [sp, #40]
2761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9174              		.loc 1 2761 3 is_stmt 1 view .LVU2977
2762:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9175              		.loc 1 2762 3 view .LVU2978
2762:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9176              		.loc 1 2762 28 is_stmt 0 view .LVU2979
 9177 0012 FFF7FEFF 		bl	get_socket
 9178              	.LVL970:
2768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9179              		.loc 1 2768 3 is_stmt 1 view .LVU2980
2768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9180              		.loc 1 2768 6 is_stmt 0 view .LVU2981
 9181 0016 30B3     		cbz	r0, .L711
2772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9182              		.loc 1 2772 3 is_stmt 1 view .LVU2982
2772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9183              		.loc 1 2772 6 is_stmt 0 view .LVU2983
 9184 0018 B8F1000F 		cmp	r8, #0
 9185 001c 18BF     		it	ne
 9186 001e 002C     		cmpne	r4, #0
 9187 0020 18D0     		beq	.L713
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 279


2780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
 9188              		.loc 1 2780 3 is_stmt 1 view .LVU2984
 9189 0022 DFF84C90 		ldr	r9, .L715+4
 9190 0026 4846     		mov	r0, r9
 9191              	.LVL971:
2780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_getsockopt_impl(s, level, optname, optval, optlen);
 9192              		.loc 1 2780 3 is_stmt 0 view .LVU2985
 9193 0028 FFF7FEFF 		bl	sys_mutex_lock
 9194              	.LVL972:
2781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9195              		.loc 1 2781 3 is_stmt 1 view .LVU2986
2781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9196              		.loc 1 2781 9 is_stmt 0 view .LVU2987
 9197 002c CDF80080 		str	r8, [sp]
 9198 0030 2346     		mov	r3, r4
 9199 0032 3A46     		mov	r2, r7
 9200 0034 3146     		mov	r1, r6
 9201 0036 2846     		mov	r0, r5
 9202 0038 FFF7FEFF 		bl	lwip_getsockopt_impl
 9203              	.LVL973:
 9204 003c 0446     		mov	r4, r0
 9205              	.LVL974:
2782:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9206              		.loc 1 2782 3 is_stmt 1 view .LVU2988
 9207 003e 4846     		mov	r0, r9
 9208              	.LVL975:
2782:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9209              		.loc 1 2782 3 is_stmt 0 view .LVU2989
 9210 0040 FFF7FEFF 		bl	sys_mutex_unlock
 9211              	.LVL976:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9212              		.loc 1 2830 3 is_stmt 1 view .LVU2990
 9213              	.LBB100:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9214              		.loc 1 2830 3 view .LVU2991
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9215              		.loc 1 2830 3 view .LVU2992
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9216              		.loc 1 2830 3 view .LVU2993
 9217 0044 0CB1     		cbz	r4, .L710
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9218              		.loc 1 2830 3 discriminator 1 view .LVU2994
 9219 0046 094B     		ldr	r3, .L715
 9220 0048 1C60     		str	r4, [r3]
 9221              	.L710:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9222              		.loc 1 2830 3 discriminator 3 view .LVU2995
 9223              	.LBE100:
2830:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9224              		.loc 1 2830 3 discriminator 3 view .LVU2996
2831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
 9225              		.loc 1 2831 20 discriminator 3 view .LVU2997
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9226              		.loc 1 2832 3 discriminator 3 view .LVU2998
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9227              		.loc 1 2832 19 is_stmt 0 discriminator 3 view .LVU2999
 9228 004a 4CB9     		cbnz	r4, .L714
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 280


 9229              	.LVL977:
 9230              	.L707:
2833:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9231              		.loc 1 2833 1 view .LVU3000
 9232 004c 2046     		mov	r0, r4
 9233 004e 03B0     		add	sp, sp, #12
 9234              	.LCFI112:
 9235              		.cfi_remember_state
 9236              		.cfi_def_cfa_offset 28
 9237              		@ sp needed
 9238 0050 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 9239              	.LVL978:
 9240              	.L713:
 9241              	.LCFI113:
 9242              		.cfi_restore_state
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9243              		.loc 1 2773 5 is_stmt 1 view .LVU3001
 9244              	.LBB101:
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9245              		.loc 1 2773 5 view .LVU3002
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9246              		.loc 1 2773 5 view .LVU3003
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9247              		.loc 1 2773 5 view .LVU3004
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9248              		.loc 1 2773 5 view .LVU3005
 9249 0054 054B     		ldr	r3, .L715
 9250 0056 0E22     		movs	r2, #14
 9251 0058 1A60     		str	r2, [r3]
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9252              		.loc 1 2773 5 view .LVU3006
 9253              	.LBE101:
2773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9254              		.loc 1 2773 5 view .LVU3007
2774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9255              		.loc 1 2774 22 view .LVU3008
2775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9256              		.loc 1 2775 5 view .LVU3009
2775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9257              		.loc 1 2775 12 is_stmt 0 view .LVU3010
 9258 005a 4FF0FF34 		mov	r4, #-1
 9259              	.LVL979:
2775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9260              		.loc 1 2775 12 view .LVU3011
 9261 005e F5E7     		b	.L707
 9262              	.LVL980:
 9263              	.L714:
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9264              		.loc 1 2832 19 view .LVU3012
 9265 0060 4FF0FF34 		mov	r4, #-1
 9266              	.LVL981:
2832:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9267              		.loc 1 2832 19 view .LVU3013
 9268 0064 F2E7     		b	.L707
 9269              	.LVL982:
 9270              	.L711:
2769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 281


 9271              		.loc 1 2769 12 view .LVU3014
 9272 0066 4FF0FF34 		mov	r4, #-1
 9273              	.LVL983:
2769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9274              		.loc 1 2769 12 view .LVU3015
 9275 006a EFE7     		b	.L707
 9276              	.L716:
 9277              		.align	2
 9278              	.L715:
 9279 006c 00000000 		.word	errno
 9280 0070 00000000 		.word	lock_tcpip_core
 9281              		.cfi_endproc
 9282              	.LFE409:
 9284              		.section	.text.lwip_setsockopt,"ax",%progbits
 9285              		.align	1
 9286              		.global	lwip_setsockopt
 9287              		.syntax unified
 9288              		.thumb
 9289              		.thumb_func
 9291              	lwip_setsockopt:
 9292              	.LVL984:
 9293              	.LFB412:
3206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
 9294              		.loc 1 3206 1 is_stmt 1 view -0
 9295              		.cfi_startproc
 9296              		@ args = 4, pretend = 0, frame = 0
 9297              		@ frame_needed = 0, uses_anonymous_args = 0
3206:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err = 0;
 9298              		.loc 1 3206 1 is_stmt 0 view .LVU3017
 9299 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 9300              	.LCFI114:
 9301              		.cfi_def_cfa_offset 24
 9302              		.cfi_offset 4, -24
 9303              		.cfi_offset 5, -20
 9304              		.cfi_offset 6, -16
 9305              		.cfi_offset 7, -12
 9306              		.cfi_offset 8, -8
 9307              		.cfi_offset 14, -4
 9308 0004 82B0     		sub	sp, sp, #8
 9309              	.LCFI115:
 9310              		.cfi_def_cfa_offset 32
 9311 0006 0546     		mov	r5, r0
 9312 0008 8846     		mov	r8, r1
 9313 000a 1646     		mov	r6, r2
 9314 000c 1C46     		mov	r4, r3
3207:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9315              		.loc 1 3207 3 is_stmt 1 view .LVU3018
 9316              	.LVL985:
3208:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9317              		.loc 1 3208 3 view .LVU3019
3208:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if !LWIP_TCPIP_CORE_LOCKING
 9318              		.loc 1 3208 28 is_stmt 0 view .LVU3020
 9319 000e FFF7FEFF 		bl	get_socket
 9320              	.LVL986:
3214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9321              		.loc 1 3214 3 is_stmt 1 view .LVU3021
3214:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 282


 9322              		.loc 1 3214 6 is_stmt 0 view .LVU3022
 9323 0012 08B3     		cbz	r0, .L721
3218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9324              		.loc 1 3218 3 is_stmt 1 view .LVU3023
3218:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     sock_set_errno(sock, EFAULT);
 9325              		.loc 1 3218 6 is_stmt 0 view .LVU3024
 9326 0014 BCB1     		cbz	r4, .L723
3226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
 9327              		.loc 1 3226 3 is_stmt 1 view .LVU3025
 9328 0016 124F     		ldr	r7, .L725
 9329 0018 3846     		mov	r0, r7
 9330              	.LVL987:
3226:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   err = lwip_setsockopt_impl(s, level, optname, optval, optlen);
 9331              		.loc 1 3226 3 is_stmt 0 view .LVU3026
 9332 001a FFF7FEFF 		bl	sys_mutex_lock
 9333              	.LVL988:
3227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9334              		.loc 1 3227 3 is_stmt 1 view .LVU3027
3227:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   UNLOCK_TCPIP_CORE();
 9335              		.loc 1 3227 9 is_stmt 0 view .LVU3028
 9336 001e 089B     		ldr	r3, [sp, #32]
 9337 0020 0093     		str	r3, [sp]
 9338 0022 2346     		mov	r3, r4
 9339 0024 3246     		mov	r2, r6
 9340 0026 4146     		mov	r1, r8
 9341 0028 2846     		mov	r0, r5
 9342 002a FFF7FEFF 		bl	lwip_setsockopt_impl
 9343              	.LVL989:
 9344 002e 0446     		mov	r4, r0
 9345              	.LVL990:
3228:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9346              		.loc 1 3228 3 is_stmt 1 view .LVU3029
 9347 0030 3846     		mov	r0, r7
 9348              	.LVL991:
3228:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9349              		.loc 1 3228 3 is_stmt 0 view .LVU3030
 9350 0032 FFF7FEFF 		bl	sys_mutex_unlock
 9351              	.LVL992:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9352              		.loc 1 3271 3 is_stmt 1 view .LVU3031
 9353              	.LBB102:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9354              		.loc 1 3271 3 view .LVU3032
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9355              		.loc 1 3271 3 view .LVU3033
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9356              		.loc 1 3271 3 view .LVU3034
 9357 0036 0CB1     		cbz	r4, .L720
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9358              		.loc 1 3271 3 discriminator 1 view .LVU3035
 9359 0038 0A4B     		ldr	r3, .L725+4
 9360 003a 1C60     		str	r4, [r3]
 9361              	.L720:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9362              		.loc 1 3271 3 discriminator 3 view .LVU3036
 9363              	.LBE102:
3271:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 283


 9364              		.loc 1 3271 3 discriminator 3 view .LVU3037
3272:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err ? -1 : 0;
 9365              		.loc 1 3272 20 discriminator 3 view .LVU3038
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9366              		.loc 1 3273 3 discriminator 3 view .LVU3039
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9367              		.loc 1 3273 19 is_stmt 0 discriminator 3 view .LVU3040
 9368 003c 4CB9     		cbnz	r4, .L724
 9369              	.LVL993:
 9370              	.L717:
3274:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9371              		.loc 1 3274 1 view .LVU3041
 9372 003e 2046     		mov	r0, r4
 9373 0040 02B0     		add	sp, sp, #8
 9374              	.LCFI116:
 9375              		.cfi_remember_state
 9376              		.cfi_def_cfa_offset 24
 9377              		@ sp needed
 9378 0042 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 9379              	.LVL994:
 9380              	.L723:
 9381              	.LCFI117:
 9382              		.cfi_restore_state
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9383              		.loc 1 3219 5 is_stmt 1 view .LVU3042
 9384              	.LBB103:
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9385              		.loc 1 3219 5 view .LVU3043
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9386              		.loc 1 3219 5 view .LVU3044
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9387              		.loc 1 3219 5 view .LVU3045
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9388              		.loc 1 3219 5 view .LVU3046
 9389 0046 074B     		ldr	r3, .L725+4
 9390 0048 0E22     		movs	r2, #14
 9391 004a 1A60     		str	r2, [r3]
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9392              		.loc 1 3219 5 view .LVU3047
 9393              	.LBE103:
3219:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     done_socket(sock);
 9394              		.loc 1 3219 5 view .LVU3048
3220:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
 9395              		.loc 1 3220 22 view .LVU3049
3221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9396              		.loc 1 3221 5 view .LVU3050
3221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9397              		.loc 1 3221 12 is_stmt 0 view .LVU3051
 9398 004c 4FF0FF34 		mov	r4, #-1
 9399              	.LVL995:
3221:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9400              		.loc 1 3221 12 view .LVU3052
 9401 0050 F5E7     		b	.L717
 9402              	.LVL996:
 9403              	.L724:
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9404              		.loc 1 3273 19 view .LVU3053
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 284


 9405 0052 4FF0FF34 		mov	r4, #-1
 9406              	.LVL997:
3273:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9407              		.loc 1 3273 19 view .LVU3054
 9408 0056 F2E7     		b	.L717
 9409              	.LVL998:
 9410              	.L721:
3215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9411              		.loc 1 3215 12 view .LVU3055
 9412 0058 4FF0FF34 		mov	r4, #-1
 9413              	.LVL999:
3215:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9414              		.loc 1 3215 12 view .LVU3056
 9415 005c EFE7     		b	.L717
 9416              	.L726:
 9417 005e 00BF     		.align	2
 9418              	.L725:
 9419 0060 00000000 		.word	lock_tcpip_core
 9420 0064 00000000 		.word	errno
 9421              		.cfi_endproc
 9422              	.LFE412:
 9424              		.section	.text.lwip_ioctl,"ax",%progbits
 9425              		.align	1
 9426              		.global	lwip_ioctl
 9427              		.syntax unified
 9428              		.thumb
 9429              		.thumb_func
 9431              	lwip_ioctl:
 9432              	.LVL1000:
 9433              	.LFB414:
3741:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3742:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3743:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_ioctl(int s, long cmd, void *argp)
3744:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 9434              		.loc 1 3744 1 is_stmt 1 view -0
 9435              		.cfi_startproc
 9436              		@ args = 0, pretend = 0, frame = 0
 9437              		@ frame_needed = 0, uses_anonymous_args = 0
 9438              		.loc 1 3744 1 is_stmt 0 view .LVU3058
 9439 0000 38B5     		push	{r3, r4, r5, lr}
 9440              	.LCFI118:
 9441              		.cfi_def_cfa_offset 16
 9442              		.cfi_offset 3, -16
 9443              		.cfi_offset 4, -12
 9444              		.cfi_offset 5, -8
 9445              		.cfi_offset 14, -4
 9446 0002 0D46     		mov	r5, r1
 9447 0004 1446     		mov	r4, r2
3745:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9448              		.loc 1 3745 3 is_stmt 1 view .LVU3059
 9449              		.loc 1 3745 28 is_stmt 0 view .LVU3060
 9450 0006 FFF7FEFF 		bl	get_socket
 9451              	.LVL1001:
3746:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   u8_t val;
 9452              		.loc 1 3746 3 is_stmt 1 view .LVU3061
3747:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
3748:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int recv_avail;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 285


3749:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3750:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3751:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 9453              		.loc 1 3751 3 view .LVU3062
 9454              		.loc 1 3751 6 is_stmt 0 view .LVU3063
 9455 000a D0B1     		cbz	r0, .L731
 9456 000c 0246     		mov	r2, r0
3752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3753:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3754:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3755:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (cmd) {
 9457              		.loc 1 3755 3 is_stmt 1 view .LVU3064
 9458 000e 0E4B     		ldr	r3, .L733
 9459 0010 9D42     		cmp	r5, r3
 9460 0012 10D1     		bne	.L729
3756:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF || LWIP_FIONREAD_LINUXMODE
3757:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case FIONREAD:
3758:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (!argp) {
3759:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, EINVAL);
3760:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3761:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return -1;
3762:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3763:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_FIONREAD_LINUXMODE
3764:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) != NETCONN_TCP) {
3765:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         struct netbuf *nb;
3766:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock->lastdata.netbuf) {
3767:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           nb = sock->lastdata.netbuf;
3768:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           *((int *)argp) = nb->p->tot_len;
3769:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
3770:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           struct netbuf *rxbuf;
3771:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           err_t err = netconn_recv_udp_raw_netbuf_flags(sock->conn, &rxbuf, NETCONN_DONTBLOCK);
3772:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (err != ERR_OK) {
3773:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *((int *)argp) = 0;
3774:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           } else {
3775:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             sock->lastdata.netbuf = rxbuf;
3776:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             *((int *)argp) = rxbuf->p->tot_len;
3777:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3778:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3779:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         done_socket(sock);
3780:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         return 0;
3781:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3782:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_FIONREAD_LINUXMODE */
3783:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3784:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_SO_RCVBUF
3785:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* we come here if either LWIP_FIONREAD_LINUXMODE==0 or this is a TCP socket */
3786:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       SYS_ARCH_GET(sock->conn->recv_avail, recv_avail);
3787:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (recv_avail < 0) {
3788:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         recv_avail = 0;
3789:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3790:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3791:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Check if there is data left from the last recv operation. /maq 041215 */
3792:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (sock->lastdata.netbuf) {
3793:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
3794:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           recv_avail += sock->lastdata.pbuf->tot_len;
3795:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         } else {
3796:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           recv_avail += sock->lastdata.netbuf->p->tot_len;
3797:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 286


3798:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3799:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       *((int *)argp) = recv_avail;
3800:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3801:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONREAD, %p) = %"U16_F"\n", s, argp, *((u16_t *)
3802:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
3803:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
3804:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return 0;
3805:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else /* LWIP_SO_RCVBUF */
3806:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3807:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF */
3808:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif /* LWIP_SO_RCVBUF || LWIP_FIONREAD_LINUXMODE */
3809:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3810:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case (long)FIONBIO:
3811:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       val = 0;
 9461              		.loc 1 3811 7 view .LVU3065
 9462              	.LVL1002:
3812:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (argp && *(int *)argp) {
 9463              		.loc 1 3812 7 view .LVU3066
 9464              		.loc 1 3812 10 is_stmt 0 view .LVU3067
 9465 0014 44B1     		cbz	r4, .L730
 9466              		.loc 1 3812 19 discriminator 1 view .LVU3068
 9467 0016 2368     		ldr	r3, [r4]
 9468              		.loc 1 3812 16 discriminator 1 view .LVU3069
 9469 0018 33B1     		cbz	r3, .L730
3813:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         val = 1;
 9470              		.loc 1 3813 9 is_stmt 1 view .LVU3070
 9471              	.LVL1003:
3814:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       netconn_set_nonblocking(sock->conn, val);
 9472              		.loc 1 3815 7 view .LVU3071
 9473              		.loc 1 3815 7 view .LVU3072
 9474              		.loc 1 3815 7 view .LVU3073
 9475              		.loc 1 3815 7 view .LVU3074
 9476 001a 0268     		ldr	r2, [r0]
 9477 001c 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9478 001e 43F00203 		orr	r3, r3, #2
 9479 0022 1377     		strb	r3, [r2, #28]
 9480              		.loc 1 3815 7 view .LVU3075
3816:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
3817:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
3818:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       done_socket(sock);
3819:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       return 0;
 9481              		.loc 1 3819 14 is_stmt 0 view .LVU3076
 9482 0024 0020     		movs	r0, #0
 9483              	.LVL1004:
 9484              		.loc 1 3819 14 view .LVU3077
 9485 0026 05E0     		b	.L727
 9486              	.LVL1005:
 9487              	.L730:
3815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
 9488              		.loc 1 3815 7 is_stmt 1 discriminator 2 view .LVU3078
3815:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, FIONBIO, %d)\n", s, val));
 9489              		.loc 1 3815 7 discriminator 2 view .LVU3079
 9490 0028 1268     		ldr	r2, [r2]
 9491 002a 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9492 002c 03F0FD03 		and	r3, r3, #253
 9493 0030 1377     		strb	r3, [r2, #28]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 287


 9494              		.loc 1 3819 14 is_stmt 0 discriminator 2 view .LVU3080
 9495 0032 0020     		movs	r0, #0
 9496              	.LVL1006:
 9497              	.L727:
3820:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3821:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3823:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } /* switch (cmd) */
3824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_ioctl(%d, UNIMPL: 0x%lx, %p)\n", s, cmd, argp));
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, ENOSYS); /* not yet implemented */
3826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3827:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
3828:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9498              		.loc 1 3828 1 view .LVU3081
 9499 0034 38BD     		pop	{r3, r4, r5, pc}
 9500              	.LVL1007:
 9501              	.L729:
3822:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   } /* switch (cmd) */
 9502              		.loc 1 3822 7 is_stmt 1 view .LVU3082
3824:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   sock_set_errno(sock, ENOSYS); /* not yet implemented */
 9503              		.loc 1 3824 84 view .LVU3083
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9504              		.loc 1 3825 3 view .LVU3084
 9505              	.LBB104:
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9506              		.loc 1 3825 3 view .LVU3085
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9507              		.loc 1 3825 3 view .LVU3086
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9508              		.loc 1 3825 3 view .LVU3087
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9509              		.loc 1 3825 3 view .LVU3088
 9510 0036 054B     		ldr	r3, .L733+4
 9511 0038 2622     		movs	r2, #38
 9512 003a 1A60     		str	r2, [r3]
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9513              		.loc 1 3825 3 view .LVU3089
 9514              	.LBE104:
3825:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
 9515              		.loc 1 3825 3 view .LVU3090
3826:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return -1;
 9516              		.loc 1 3826 20 view .LVU3091
3827:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9517              		.loc 1 3827 3 view .LVU3092
3827:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9518              		.loc 1 3827 10 is_stmt 0 view .LVU3093
 9519 003c 4FF0FF30 		mov	r0, #-1
 9520              	.LVL1008:
3827:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9521              		.loc 1 3827 10 view .LVU3094
 9522 0040 F8E7     		b	.L727
 9523              	.LVL1009:
 9524              	.L731:
3752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9525              		.loc 1 3752 12 view .LVU3095
 9526 0042 4FF0FF30 		mov	r0, #-1
 9527              	.LVL1010:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 288


3752:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9528              		.loc 1 3752 12 view .LVU3096
 9529 0046 F5E7     		b	.L727
 9530              	.L734:
 9531              		.align	2
 9532              	.L733:
 9533 0048 7E660480 		.word	-2147195266
 9534 004c 00000000 		.word	errno
 9535              		.cfi_endproc
 9536              	.LFE414:
 9538              		.section	.text.lwip_fcntl,"ax",%progbits
 9539              		.align	1
 9540              		.global	lwip_fcntl
 9541              		.syntax unified
 9542              		.thumb
 9543              		.thumb_func
 9545              	lwip_fcntl:
 9546              	.LVL1011:
 9547              	.LFB415:
3829:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3830:Middlewares/Third_Party/LwIP/src/api/sockets.c **** /** A minimal implementation of fcntl.
3831:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * Currently only the commands F_GETFL and F_SETFL are implemented.
3832:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * The flag O_NONBLOCK and access modes are supported for F_GETFL, only
3833:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  * the flag O_NONBLOCK is implemented for F_SETFL.
3834:Middlewares/Third_Party/LwIP/src/api/sockets.c ****  */
3835:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3836:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_fcntl(int s, int cmd, int val)
3837:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 9548              		.loc 1 3837 1 is_stmt 1 view -0
 9549              		.cfi_startproc
 9550              		@ args = 0, pretend = 0, frame = 0
 9551              		@ frame_needed = 0, uses_anonymous_args = 0
 9552              		.loc 1 3837 1 is_stmt 0 view .LVU3098
 9553 0000 70B5     		push	{r4, r5, r6, lr}
 9554              	.LCFI119:
 9555              		.cfi_def_cfa_offset 16
 9556              		.cfi_offset 4, -16
 9557              		.cfi_offset 5, -12
 9558              		.cfi_offset 6, -8
 9559              		.cfi_offset 14, -4
 9560 0002 0C46     		mov	r4, r1
 9561 0004 1546     		mov	r5, r2
3838:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   struct lwip_sock *sock = get_socket(s);
 9562              		.loc 1 3838 3 is_stmt 1 view .LVU3099
 9563              		.loc 1 3838 28 is_stmt 0 view .LVU3100
 9564 0006 FFF7FEFF 		bl	get_socket
 9565              	.LVL1012:
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int ret = -1;
 9566              		.loc 1 3839 3 is_stmt 1 view .LVU3101
3840:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9567              		.loc 1 3840 3 view .LVU3102
3841:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3842:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (!sock) {
 9568              		.loc 1 3842 3 view .LVU3103
 9569              		.loc 1 3842 6 is_stmt 0 view .LVU3104
 9570 000a 0028     		cmp	r0, #0
 9571 000c 48D0     		beq	.L745
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 289


 9572 000e 0646     		mov	r6, r0
3843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return -1;
3844:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3845:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3846:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (cmd) {
 9573              		.loc 1 3846 3 is_stmt 1 view .LVU3105
 9574 0010 032C     		cmp	r4, #3
 9575 0012 07D0     		beq	.L737
 9576 0014 042C     		cmp	r4, #4
 9577 0016 2AD0     		beq	.L738
3847:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case F_GETFL:
3848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = netconn_is_nonblocking(sock->conn) ? O_NONBLOCK : 0;
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
3850:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3851:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (NETCONNTYPE_GROUP(netconn_type(sock->conn)) == NETCONN_TCP) {
3852:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
3853:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         LOCK_TCPIP_CORE();
3854:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
3855:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_DECL_PROTECT(lev);
3856:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* the proper thing to do here would be to get into the tcpip_thread,
3857:Middlewares/Third_Party/LwIP/src/api/sockets.c ****            but locking should be OK as well since we only *read* some flags */
3858:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_PROTECT(lev);
3859:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3860:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCP
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         if (sock->conn->pcb.tcp) {
3862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
3863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_RDONLY;
3864:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_FIN)) {
3866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_WRONLY;
3867:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
3868:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         }
3869:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3870:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
3871:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         UNLOCK_TCPIP_CORE();
3872:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
3873:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         SYS_ARCH_UNPROTECT(lev);
3874:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3875:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
3876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         op_mode |= O_RDWR;
3877:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3878:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3879:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* ensure O_RDWR for (O_RDONLY|O_WRONLY) != O_RDWR cases */
3880:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret |= (op_mode == (O_RDONLY | O_WRONLY)) ? O_RDWR : op_mode;
3881:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3883:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case F_SETFL:
3884:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* Bits corresponding to the file access mode and the file creation flags [..] that are set i
3885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       val &= ~(O_RDONLY | O_WRONLY | O_RDWR);
3886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((val & ~O_NONBLOCK) == 0) {
3887:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         netconn_set_nonblocking(sock->conn, val & O_NONBLOCK);
3889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
3890:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, 0);
3891:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       } else {
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, ENOSYS); /* not yet implemented */
3893:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 290


3894:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3895:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3896:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       LWIP_DEBUGF(SOCKETS_DEBUG, ("lwip_fcntl(%d, UNIMPL: %d, %d)\n", s, cmd, val));
 9578              		.loc 1 3896 84 view .LVU3106
3897:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, ENOSYS); /* not yet implemented */
 9579              		.loc 1 3897 7 view .LVU3107
 9580              	.LBB105:
 9581              		.loc 1 3897 7 view .LVU3108
 9582              	.LVL1013:
 9583              		.loc 1 3897 7 view .LVU3109
 9584              		.loc 1 3897 7 view .LVU3110
 9585              		.loc 1 3897 7 view .LVU3111
 9586 0018 234B     		ldr	r3, .L752
 9587 001a 2622     		movs	r2, #38
 9588 001c 1A60     		str	r2, [r3]
 9589              	.LBE105:
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9590              		.loc 1 3839 7 is_stmt 0 view .LVU3112
 9591 001e 4FF0FF30 		mov	r0, #-1
 9592              	.LVL1014:
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9593              		.loc 1 3839 7 view .LVU3113
 9594 0022 0BE0     		b	.L735
 9595              	.LVL1015:
 9596              	.L737:
3848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
 9597              		.loc 1 3848 7 is_stmt 1 view .LVU3114
3848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
 9598              		.loc 1 3848 13 is_stmt 0 view .LVU3115
 9599 0024 0368     		ldr	r3, [r0]
 9600 0026 187F     		ldrb	r0, [r3, #28]	@ zero_extendqisi2
 9601              	.LVL1016:
3848:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       sock_set_errno(sock, 0);
 9602              		.loc 1 3848 11 view .LVU3116
 9603 0028 C0F34005 		ubfx	r5, r0, #1, #1
 9604              	.LVL1017:
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9605              		.loc 1 3849 7 is_stmt 1 view .LVU3117
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9606              		.loc 1 3849 7 view .LVU3118
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9607              		.loc 1 3849 7 view .LVU3119
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9608              		.loc 1 3849 7 view .LVU3120
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9609              		.loc 1 3849 7 view .LVU3121
3849:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9610              		.loc 1 3849 7 view .LVU3122
3851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 9611              		.loc 1 3851 7 view .LVU3123
3851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 9612              		.loc 1 3851 11 is_stmt 0 view .LVU3124
 9613 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
3851:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_TCPIP_CORE_LOCKING
 9614              		.loc 1 3851 10 view .LVU3125
 9615 002e 03F0F003 		and	r3, r3, #240
 9616 0032 102B     		cmp	r3, #16
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 291


 9617 0034 03D0     		beq	.L751
3876:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9618              		.loc 1 3876 17 view .LVU3126
 9619 0036 0624     		movs	r4, #6
 9620              	.LVL1018:
 9621              	.L740:
3880:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9622              		.loc 1 3880 7 is_stmt 1 view .LVU3127
3880:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9623              		.loc 1 3880 11 is_stmt 0 view .LVU3128
 9624 0038 44EA0500 		orr	r0, r4, r5
 9625              	.LVL1019:
3882:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case F_SETFL:
 9626              		.loc 1 3882 7 is_stmt 1 view .LVU3129
 9627              	.L735:
3898:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3899:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3900:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   done_socket(sock);
3901:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
3902:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9628              		.loc 1 3902 1 is_stmt 0 view .LVU3130
 9629 003c 70BD     		pop	{r4, r5, r6, pc}
 9630              	.LVL1020:
 9631              	.L751:
3853:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 9632              		.loc 1 3853 9 is_stmt 1 view .LVU3131
 9633 003e 1B48     		ldr	r0, .L752+4
 9634 0040 FFF7FEFF 		bl	sys_mutex_lock
 9635              	.LVL1021:
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9636              		.loc 1 3861 9 view .LVU3132
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9637              		.loc 1 3861 17 is_stmt 0 view .LVU3133
 9638 0044 3368     		ldr	r3, [r6]
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9639              		.loc 1 3861 28 view .LVU3134
 9640 0046 5B68     		ldr	r3, [r3, #4]
3861:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           if (!(sock->conn->pcb.tcp->flags & TF_RXCLOSED)) {
 9641              		.loc 1 3861 12 view .LVU3135
 9642 0048 7BB1     		cbz	r3, .L747
3862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_RDONLY;
 9643              		.loc 1 3862 11 is_stmt 1 view .LVU3136
3862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_RDONLY;
 9644              		.loc 1 3862 36 is_stmt 0 view .LVU3137
 9645 004a 5B8B     		ldrh	r3, [r3, #26]
3862:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_RDONLY;
 9646              		.loc 1 3862 14 view .LVU3138
 9647 004c 13F0100F 		tst	r3, #16
 9648 0050 09D0     		beq	.L748
3840:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9649              		.loc 1 3840 7 view .LVU3139
 9650 0052 0024     		movs	r4, #0
 9651              	.LVL1022:
 9652              	.L742:
3865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_WRONLY;
 9653              		.loc 1 3865 11 is_stmt 1 view .LVU3140
3865:Middlewares/Third_Party/LwIP/src/api/sockets.c ****             op_mode |= O_WRONLY;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 292


 9654              		.loc 1 3865 14 is_stmt 0 view .LVU3141
 9655 0054 13F0200F 		tst	r3, #32
 9656 0058 01D1     		bne	.L741
3866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 9657              		.loc 1 3866 13 is_stmt 1 view .LVU3142
3866:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 9658              		.loc 1 3866 21 is_stmt 0 view .LVU3143
 9659 005a 44F00404 		orr	r4, r4, #4
 9660              	.LVL1023:
 9661              	.L741:
3871:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #else
 9662              		.loc 1 3871 9 is_stmt 1 view .LVU3144
 9663 005e 1348     		ldr	r0, .L752+4
 9664 0060 FFF7FEFF 		bl	sys_mutex_unlock
 9665              	.LVL1024:
 9666 0064 E8E7     		b	.L740
 9667              	.LVL1025:
 9668              	.L748:
3863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 9669              		.loc 1 3863 21 is_stmt 0 view .LVU3145
 9670 0066 0224     		movs	r4, #2
 9671              	.LVL1026:
3863:Middlewares/Third_Party/LwIP/src/api/sockets.c ****           }
 9672              		.loc 1 3863 21 view .LVU3146
 9673 0068 F4E7     		b	.L742
 9674              	.LVL1027:
 9675              	.L747:
3840:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9676              		.loc 1 3840 7 view .LVU3147
 9677 006a 0024     		movs	r4, #0
 9678              	.LVL1028:
3840:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
 9679              		.loc 1 3840 7 view .LVU3148
 9680 006c F7E7     		b	.L741
 9681              	.LVL1029:
 9682              	.L738:
3885:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if ((val & ~O_NONBLOCK) == 0) {
 9683              		.loc 1 3885 7 is_stmt 1 view .LVU3149
3886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
 9684              		.loc 1 3886 7 view .LVU3150
3886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
 9685              		.loc 1 3886 10 is_stmt 0 view .LVU3151
 9686 006e 35F00700 		bics	r0, r5, #7
 9687              	.LVL1030:
3886:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         /* only O_NONBLOCK, all other bits are zero */
 9688              		.loc 1 3886 10 view .LVU3152
 9689 0072 0FD1     		bne	.L743
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9690              		.loc 1 3888 9 is_stmt 1 view .LVU3153
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9691              		.loc 1 3888 9 view .LVU3154
 9692 0074 15F00105 		ands	r5, r5, #1
 9693              	.LVL1031:
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9694              		.loc 1 3888 9 is_stmt 0 view .LVU3155
 9695 0078 05D0     		beq	.L744
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 293


 9696              		.loc 1 3888 9 is_stmt 1 discriminator 1 view .LVU3156
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9697              		.loc 1 3888 9 discriminator 1 view .LVU3157
 9698 007a 3268     		ldr	r2, [r6]
 9699 007c 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9700 007e 43F00203 		orr	r3, r3, #2
 9701 0082 1377     		strb	r3, [r2, #28]
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9702              		.loc 1 3888 9 discriminator 1 view .LVU3158
 9703 0084 DAE7     		b	.L735
 9704              	.L744:
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9705              		.loc 1 3888 9 discriminator 2 view .LVU3159
3888:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         ret = 0;
 9706              		.loc 1 3888 9 discriminator 2 view .LVU3160
 9707 0086 3268     		ldr	r2, [r6]
 9708 0088 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 9709 008a 03F0FD03 		and	r3, r3, #253
 9710 008e 1377     		strb	r3, [r2, #28]
3889:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         sock_set_errno(sock, 0);
 9711              		.loc 1 3889 13 is_stmt 0 discriminator 2 view .LVU3161
 9712 0090 2846     		mov	r0, r5
 9713 0092 D3E7     		b	.L735
 9714              	.LVL1032:
 9715              	.L743:
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9716              		.loc 1 3892 9 is_stmt 1 discriminator 2 view .LVU3162
 9717              	.LBB106:
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9718              		.loc 1 3892 9 discriminator 2 view .LVU3163
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9719              		.loc 1 3892 9 discriminator 2 view .LVU3164
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9720              		.loc 1 3892 9 discriminator 2 view .LVU3165
3892:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9721              		.loc 1 3892 9 discriminator 2 view .LVU3166
 9722 0094 044B     		ldr	r3, .L752
 9723 0096 2622     		movs	r2, #38
 9724 0098 1A60     		str	r2, [r3]
 9725              	.LBE106:
3839:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int op_mode = 0;
 9726              		.loc 1 3839 7 is_stmt 0 discriminator 2 view .LVU3167
 9727 009a 4FF0FF30 		mov	r0, #-1
 9728 009e CDE7     		b	.L735
 9729              	.LVL1033:
 9730              	.L745:
3843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9731              		.loc 1 3843 12 view .LVU3168
 9732 00a0 4FF0FF30 		mov	r0, #-1
 9733              	.LVL1034:
3843:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9734              		.loc 1 3843 12 view .LVU3169
 9735 00a4 CAE7     		b	.L735
 9736              	.L753:
 9737 00a6 00BF     		.align	2
 9738              	.L752:
 9739 00a8 00000000 		.word	errno
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 294


 9740 00ac 00000000 		.word	lock_tcpip_core
 9741              		.cfi_endproc
 9742              	.LFE415:
 9744              		.section	.text.lwip_inet_ntop,"ax",%progbits
 9745              		.align	1
 9746              		.global	lwip_inet_ntop
 9747              		.syntax unified
 9748              		.thumb
 9749              		.thumb_func
 9751              	lwip_inet_ntop:
 9752              	.LVL1035:
 9753              	.LFB416:
3903:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3904:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_COMPAT_SOCKETS == 2 && LWIP_POSIX_SOCKETS_IO_NAMES
3905:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3906:Middlewares/Third_Party/LwIP/src/api/sockets.c **** fcntl(int s, int cmd, ...)
3907:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
3908:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   va_list ap;
3909:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int val;
3910:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3911:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   va_start(ap, cmd);
3912:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   val = va_arg(ap, int);
3913:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   va_end(ap);
3914:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return lwip_fcntl(s, cmd, val);
3915:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
3916:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3917:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
3918:Middlewares/Third_Party/LwIP/src/api/sockets.c **** const char *
3919:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_inet_ntop(int af, const void *src, char *dst, socklen_t size)
3920:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 9754              		.loc 1 3920 1 is_stmt 1 view -0
 9755              		.cfi_startproc
 9756              		@ args = 0, pretend = 0, frame = 0
 9757              		@ frame_needed = 0, uses_anonymous_args = 0
 9758              		.loc 1 3920 1 is_stmt 0 view .LVU3171
 9759 0000 08B5     		push	{r3, lr}
 9760              	.LCFI120:
 9761              		.cfi_def_cfa_offset 8
 9762              		.cfi_offset 3, -8
 9763              		.cfi_offset 14, -4
 9764 0002 8C46     		mov	ip, r1
 9765 0004 1146     		mov	r1, r2
 9766              	.LVL1036:
3921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   const char *ret = NULL;
 9767              		.loc 1 3921 3 is_stmt 1 view .LVU3172
3922:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int size_int = (int)size;
 9768              		.loc 1 3922 3 view .LVU3173
3923:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   if (size_int < 0) {
 9769              		.loc 1 3923 3 view .LVU3174
 9770              		.loc 1 3923 6 is_stmt 0 view .LVU3175
 9771 0006 1A1E     		subs	r2, r3, #0
 9772              	.LVL1037:
 9773              		.loc 1 3923 6 view .LVU3176
 9774 0008 06DB     		blt	.L759
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     set_errno(ENOSPC);
3925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
3926:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 295


3927:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (af) {
 9775              		.loc 1 3927 3 is_stmt 1 view .LVU3177
 9776 000a 0228     		cmp	r0, #2
 9777 000c 09D0     		beq	.L760
3928:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
3929:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case AF_INET:
3930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = ip4addr_ntoa_r((const ip4_addr_t *)src, dst, size_int);
3931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
3932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOSPC);
3933:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3934:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3935:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3936:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
3937:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case AF_INET6:
3938:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ret = ip6addr_ntoa_r((const ip6_addr_t *)src, dst, size_int);
3939:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
3940:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOSPC);
3941:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3942:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3943:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3944:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3945:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAFNOSUPPORT);
 9778              		.loc 1 3945 7 discriminator 1 view .LVU3178
 9779              		.loc 1 3945 7 discriminator 1 view .LVU3179
 9780              		.loc 1 3945 7 discriminator 1 view .LVU3180
 9781 000e 094B     		ldr	r3, .L761
 9782              	.LVL1038:
 9783              		.loc 1 3945 7 is_stmt 0 discriminator 1 view .LVU3181
 9784 0010 6122     		movs	r2, #97
 9785              	.LVL1039:
 9786              		.loc 1 3945 7 discriminator 1 view .LVU3182
 9787 0012 1A60     		str	r2, [r3]
 9788              		.loc 1 3945 7 is_stmt 1 discriminator 1 view .LVU3183
3946:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9789              		.loc 1 3946 7 discriminator 1 view .LVU3184
3921:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int size_int = (int)size;
 9790              		.loc 1 3921 15 is_stmt 0 discriminator 1 view .LVU3185
 9791 0014 0020     		movs	r0, #0
 9792              	.LVL1040:
 9793              	.L754:
3947:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3948:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return ret;
3949:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9794              		.loc 1 3949 1 view .LVU3186
 9795 0016 08BD     		pop	{r3, pc}
 9796              	.LVL1041:
 9797              	.L759:
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9798              		.loc 1 3924 5 is_stmt 1 discriminator 1 view .LVU3187
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9799              		.loc 1 3924 5 discriminator 1 view .LVU3188
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9800              		.loc 1 3924 5 discriminator 1 view .LVU3189
 9801 0018 064B     		ldr	r3, .L761
 9802 001a 1C22     		movs	r2, #28
 9803              	.LVL1042:
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 296


 9804              		.loc 1 3924 5 is_stmt 0 discriminator 1 view .LVU3190
 9805 001c 1A60     		str	r2, [r3]
3924:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     return NULL;
 9806              		.loc 1 3924 5 is_stmt 1 discriminator 1 view .LVU3191
3925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9807              		.loc 1 3925 5 discriminator 1 view .LVU3192
3925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9808              		.loc 1 3925 12 is_stmt 0 discriminator 1 view .LVU3193
 9809 001e 0020     		movs	r0, #0
 9810              	.LVL1043:
3925:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
 9811              		.loc 1 3925 12 discriminator 1 view .LVU3194
 9812 0020 F9E7     		b	.L754
 9813              	.LVL1044:
 9814              	.L760:
3930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
 9815              		.loc 1 3930 7 is_stmt 1 view .LVU3195
3930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
 9816              		.loc 1 3930 13 is_stmt 0 view .LVU3196
 9817 0022 6046     		mov	r0, ip
 9818              	.LVL1045:
3930:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (ret == NULL) {
 9819              		.loc 1 3930 13 view .LVU3197
 9820 0024 FFF7FEFF 		bl	ip4addr_ntoa_r
 9821              	.LVL1046:
3931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOSPC);
 9822              		.loc 1 3931 7 is_stmt 1 view .LVU3198
3931:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         set_errno(ENOSPC);
 9823              		.loc 1 3931 10 is_stmt 0 view .LVU3199
 9824 0028 0028     		cmp	r0, #0
 9825 002a F4D1     		bne	.L754
3932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9826              		.loc 1 3932 9 is_stmt 1 discriminator 1 view .LVU3200
3932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9827              		.loc 1 3932 9 discriminator 1 view .LVU3201
3932:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
 9828              		.loc 1 3932 9 discriminator 1 view .LVU3202
 9829 002c 014B     		ldr	r3, .L761
 9830 002e 1C22     		movs	r2, #28
 9831 0030 1A60     		str	r2, [r3]
 9832 0032 F0E7     		b	.L754
 9833              	.L762:
 9834              		.align	2
 9835              	.L761:
 9836 0034 00000000 		.word	errno
 9837              		.cfi_endproc
 9838              	.LFE416:
 9840              		.section	.text.lwip_inet_pton,"ax",%progbits
 9841              		.align	1
 9842              		.global	lwip_inet_pton
 9843              		.syntax unified
 9844              		.thumb
 9845              		.thumb_func
 9847              	lwip_inet_pton:
 9848              	.LVL1047:
 9849              	.LFB417:
3950:Middlewares/Third_Party/LwIP/src/api/sockets.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 297


3951:Middlewares/Third_Party/LwIP/src/api/sockets.c **** int
3952:Middlewares/Third_Party/LwIP/src/api/sockets.c **** lwip_inet_pton(int af, const char *src, void *dst)
3953:Middlewares/Third_Party/LwIP/src/api/sockets.c **** {
 9850              		.loc 1 3953 1 view -0
 9851              		.cfi_startproc
 9852              		@ args = 0, pretend = 0, frame = 0
 9853              		@ frame_needed = 0, uses_anonymous_args = 0
 9854              		.loc 1 3953 1 is_stmt 0 view .LVU3204
 9855 0000 08B5     		push	{r3, lr}
 9856              	.LCFI121:
 9857              		.cfi_def_cfa_offset 8
 9858              		.cfi_offset 3, -8
 9859              		.cfi_offset 14, -4
3954:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   int err;
 9860              		.loc 1 3954 3 is_stmt 1 view .LVU3205
3955:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   switch (af) {
 9861              		.loc 1 3955 3 view .LVU3206
 9862 0002 0228     		cmp	r0, #2
 9863 0004 04D1     		bne	.L764
 9864 0006 0846     		mov	r0, r1
 9865              	.LVL1048:
 9866              		.loc 1 3955 3 is_stmt 0 view .LVU3207
 9867 0008 1146     		mov	r1, r2
 9868              	.LVL1049:
3956:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV4
3957:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case AF_INET:
3958:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ip4addr_aton(src, (ip4_addr_t *)dst);
 9869              		.loc 1 3958 7 is_stmt 1 view .LVU3208
 9870              		.loc 1 3958 13 is_stmt 0 view .LVU3209
 9871 000a FFF7FEFF 		bl	ip4addr_aton
 9872              	.LVL1050:
3959:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9873              		.loc 1 3959 7 is_stmt 1 view .LVU3210
 9874              	.L763:
3960:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3961:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #if LWIP_IPV6
3962:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     case AF_INET6: {
3963:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       /* convert into temporary variable since ip6_addr_t might be larger
3964:Middlewares/Third_Party/LwIP/src/api/sockets.c ****          than in6_addr when scopes are enabled */
3965:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       ip6_addr_t addr;
3966:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = ip6addr_aton(src, &addr);
3967:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       if (err) {
3968:Middlewares/Third_Party/LwIP/src/api/sockets.c ****         memcpy(dst, &addr.addr, sizeof(addr.addr));
3969:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       }
3970:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3971:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     }
3972:Middlewares/Third_Party/LwIP/src/api/sockets.c **** #endif
3973:Middlewares/Third_Party/LwIP/src/api/sockets.c ****     default:
3974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       err = -1;
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAFNOSUPPORT);
3976:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
3977:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   }
3978:Middlewares/Third_Party/LwIP/src/api/sockets.c ****   return err;
3979:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9875              		.loc 1 3979 1 is_stmt 0 view .LVU3211
 9876 000e 08BD     		pop	{r3, pc}
 9877              	.LVL1051:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 298


 9878              	.L764:
3974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAFNOSUPPORT);
 9879              		.loc 1 3974 7 is_stmt 1 view .LVU3212
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9880              		.loc 1 3975 7 view .LVU3213
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9881              		.loc 1 3975 7 view .LVU3214
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9882              		.loc 1 3975 7 view .LVU3215
 9883 0010 024B     		ldr	r3, .L767
 9884 0012 6122     		movs	r2, #97
 9885              	.LVL1052:
3975:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       break;
 9886              		.loc 1 3975 7 is_stmt 0 view .LVU3216
 9887 0014 1A60     		str	r2, [r3]
3974:Middlewares/Third_Party/LwIP/src/api/sockets.c ****       set_errno(EAFNOSUPPORT);
 9888              		.loc 1 3974 11 view .LVU3217
 9889 0016 4FF0FF30 		mov	r0, #-1
 9890              	.LVL1053:
3978:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9891              		.loc 1 3978 3 is_stmt 1 view .LVU3218
3978:Middlewares/Third_Party/LwIP/src/api/sockets.c **** }
 9892              		.loc 1 3978 10 is_stmt 0 view .LVU3219
 9893 001a F8E7     		b	.L763
 9894              	.L768:
 9895              		.align	2
 9896              	.L767:
 9897 001c 00000000 		.word	errno
 9898              		.cfi_endproc
 9899              	.LFE417:
 9901              		.section	.bss.select_cb_list,"aw",%nobits
 9902              		.align	2
 9903              		.set	.LANCHOR1,. + 0
 9906              	select_cb_list:
 9907 0000 00000000 		.space	4
 9908              		.section	.bss.sockets,"aw",%nobits
 9909              		.align	2
 9910              		.set	.LANCHOR0,. + 0
 9913              	sockets:
 9914 0000 00000000 		.space	64
 9914      00000000 
 9914      00000000 
 9914      00000000 
 9914      00000000 
 9915              		.text
 9916              	.Letext0:
 9917              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 9918              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 9919              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\lib\\gcc\\arm-none-eabi\
 9920              		.file 5 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 9921              		.file 6 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 9922              		.file 7 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 9923              		.file 8 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 9924              		.file 9 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 9925              		.file 10 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 9926              		.file 11 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 9927              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 299


 9928              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 9929              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 9930              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 9931              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 9932              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/inet.h"
 9933              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/sockets.h"
 9934              		.file 19 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 9935              		.file 20 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 9936              		.file 21 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 9937              		.file 22 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 9938              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/sockets_priv.h"
 9939              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/netbuf.h"
 9940              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/api.h"
 9941              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 9942              		.file 27 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 9943              		.file 28 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 9944              		.file 29 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 9945              		.file 30 "Middlewares/Third_Party/LwIP/src/include/lwip/errno.h"
 9946              		.file 31 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 9947              		.file 32 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
 9948              		.file 33 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
 9949              		.file 34 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 9950              		.file 35 "<built-in>"
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 300


DEFINED SYMBOLS
                            *ABS*:00000000 sockets.c
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:19     .text.tryget_socket_unconn_nouse:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:24     .text.tryget_socket_unconn_nouse:00000000 tryget_socket_unconn_nouse
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:55     .text.tryget_socket_unconn_nouse:00000010 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:60     .text.tryget_socket_unconn:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:65     .text.tryget_socket_unconn:00000000 tryget_socket_unconn
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:90     .text.tryget_socket_unconn_locked:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:95     .text.tryget_socket_unconn_locked:00000000 tryget_socket_unconn_locked
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:120    .text.tryget_socket:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:125    .text.tryget_socket:00000000 tryget_socket
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:166    .text.get_socket:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:171    .text.get_socket:00000000 get_socket
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:210    .text.get_socket:00000014 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:215    .text.free_socket_locked:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:220    .text.free_socket_locked:00000000 free_socket_locked
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:259    .text.lwip_poll_should_wake:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:264    .text.lwip_poll_should_wake:00000000 lwip_poll_should_wake
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:371    .rodata.lwip_sockopt_to_ipopt.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:381    .text.lwip_sockopt_to_ipopt:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:386    .text.lwip_sockopt_to_ipopt:00000000 lwip_sockopt_to_ipopt
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:436    .text.lwip_sockopt_to_ipopt:00000024 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:443    .rodata.alloc_socket.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:447    .text.alloc_socket:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:452    .text.alloc_socket:00000000 alloc_socket
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:585    .text.alloc_socket:00000078 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:593    .rodata.lwip_selscan.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:597    .text.lwip_selscan:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:602    .text.lwip_selscan:00000000 lwip_selscan
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1047   .text.lwip_selscan:0000024c $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1054   .rodata.lwip_pollscan.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1058   .text.lwip_pollscan:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1063   .text.lwip_pollscan:00000000 lwip_pollscan
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1374   .text.lwip_pollscan:00000138 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1382   .text.lwip_link_select_cb:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1387   .text.lwip_link_select_cb:00000000 lwip_link_select_cb
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1435   .text.lwip_link_select_cb:00000020 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1441   .rodata.lwip_unlink_select_cb.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1448   .text.lwip_unlink_select_cb:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1453   .text.lwip_unlink_select_cb:00000000 lwip_unlink_select_cb
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1550   .text.lwip_unlink_select_cb:00000058 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1560   .rodata.lwip_sock_make_addr.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1570   .text.lwip_sock_make_addr:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1575   .text.lwip_sock_make_addr:00000000 lwip_sock_make_addr
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1727   .text.lwip_sock_make_addr:0000008c $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1736   .text.lwip_recv_tcp_from:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1741   .text.lwip_recv_tcp_from:00000000 lwip_recv_tcp_from
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1840   .text.lwip_getaddrname:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1845   .text.lwip_getaddrname:00000000 lwip_getaddrname
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1989   .text.lwip_getaddrname:00000074 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1994   .text.free_socket_free_elements:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:1999   .text.free_socket_free_elements:00000000 free_socket_free_elements
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:2048   .text.free_socket:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:2053   .text.free_socket:00000000 free_socket
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:2128   .rodata.lwip_recv_tcp.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:2144   .text.lwip_recv_tcp:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:2149   .text.lwip_recv_tcp:00000000 lwip_recv_tcp
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 301


C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:2503   .text.lwip_recv_tcp:00000158 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:2515   .rodata.lwip_recvfrom_udp_raw.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:2522   .text.lwip_recvfrom_udp_raw:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:2527   .text.lwip_recvfrom_udp_raw:00000000 lwip_recvfrom_udp_raw
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:2830   .text.lwip_recvfrom_udp_raw:00000100 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:2838   .text.select_check_waiters:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:2843   .text.select_check_waiters:00000000 select_check_waiters
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:3060   .text.select_check_waiters:000000e4 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:3065   .rodata.event_callback.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:3069   .text.event_callback:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:3074   .text.event_callback:00000000 event_callback
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:3135   .text.event_callback:0000002a $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:3343   .text.event_callback:000000e4 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:3350   .text.lwip_getsockopt_impl:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:3355   .text.lwip_getsockopt_impl:00000000 lwip_getsockopt_impl
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4002   .rodata.lwip_setsockopt_impl.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4006   .text.lwip_setsockopt_impl:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4011   .text.lwip_setsockopt_impl:00000000 lwip_setsockopt_impl
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4610   .text.lwip_setsockopt_impl:0000021c $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4617   .text.lwip_socket_thread_init:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4623   .text.lwip_socket_thread_init:00000000 lwip_socket_thread_init
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4637   .text.lwip_socket_thread_cleanup:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4643   .text.lwip_socket_thread_cleanup:00000000 lwip_socket_thread_cleanup
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4657   .text.lwip_socket_dbg_get_socket:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4663   .text.lwip_socket_dbg_get_socket:00000000 lwip_socket_dbg_get_socket
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4686   .rodata.lwip_accept.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4693   .text.lwip_accept:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:4699   .text.lwip_accept:00000000 lwip_accept
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5092   .text.lwip_accept:00000164 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5103   .rodata.lwip_bind.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5107   .text.lwip_bind:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5113   .text.lwip_bind:00000000 lwip_bind
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5268   .text.lwip_bind:00000074 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5276   .rodata.lwip_close.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5280   .text.lwip_close:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5286   .text.lwip_close:00000000 lwip_close
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5415   .text.lwip_close:00000060 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5423   .rodata.lwip_connect.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5427   .text.lwip_connect:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5433   .text.lwip_connect:00000000 lwip_connect
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5612   .text.lwip_connect:00000080 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5620   .text.lwip_listen:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5626   .text.lwip_listen:00000000 lwip_listen
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5745   .text.lwip_listen:00000054 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5750   .rodata.lwip_recvfrom.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5754   .text.lwip_recvfrom:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5760   .text.lwip_recvfrom:00000000 lwip_recvfrom
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5985   .text.lwip_recvfrom:000000bc $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5991   .text.lwip_read:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:5997   .text.lwip_read:00000000 lwip_read
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:6029   .text.lwip_recv:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:6035   .text.lwip_recv:00000000 lwip_recv
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:6068   .rodata.lwip_recvmsg.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:6075   .text.lwip_recvmsg:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:6081   .text.lwip_recvmsg:00000000 lwip_recvmsg
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:6461   .text.lwip_recvmsg:0000014c $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:6470   .text.lwip_readv:00000000 $t
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 302


C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:6476   .text.lwip_readv:00000000 lwip_readv
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:6534   .rodata.lwip_sendmsg.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:6550   .text.lwip_sendmsg:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:6556   .text.lwip_sendmsg:00000000 lwip_sendmsg
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7130   .text.lwip_sendmsg:000001f8 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7142   .rodata.lwip_sendto.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7146   .text.lwip_sendto:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7152   .text.lwip_sendto:00000000 lwip_sendto
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7439   .text.lwip_send:00000000 lwip_send
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7425   .text.lwip_sendto:000000fc $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7433   .text.lwip_send:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7589   .text.lwip_send:0000007c $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7594   .text.lwip_socket:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7600   .text.lwip_socket:00000000 lwip_socket
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7778   .text.lwip_socket:00000080 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7784   .text.lwip_write:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7790   .text.lwip_write:00000000 lwip_write
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7814   .text.lwip_writev:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7820   .text.lwip_writev:00000000 lwip_writev
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7878   .text.lwip_select:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:7884   .text.lwip_select:00000000 lwip_select
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:8621   .text.lwip_select:0000031c $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:8631   .rodata.lwip_poll.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:8638   .text.lwip_poll:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:8644   .text.lwip_poll:00000000 lwip_poll
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:8887   .text.lwip_poll:000000c8 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:8896   .text.lwip_shutdown:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:8902   .text.lwip_shutdown:00000000 lwip_shutdown
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9077   .text.lwip_shutdown:00000078 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9082   .text.lwip_getpeername:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9088   .text.lwip_getpeername:00000000 lwip_getpeername
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9112   .text.lwip_getsockname:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9118   .text.lwip_getsockname:00000000 lwip_getsockname
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9142   .text.lwip_getsockopt:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9148   .text.lwip_getsockopt:00000000 lwip_getsockopt
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9279   .text.lwip_getsockopt:0000006c $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9285   .text.lwip_setsockopt:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9291   .text.lwip_setsockopt:00000000 lwip_setsockopt
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9419   .text.lwip_setsockopt:00000060 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9425   .text.lwip_ioctl:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9431   .text.lwip_ioctl:00000000 lwip_ioctl
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9533   .text.lwip_ioctl:00000048 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9539   .text.lwip_fcntl:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9545   .text.lwip_fcntl:00000000 lwip_fcntl
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9739   .text.lwip_fcntl:000000a8 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9745   .text.lwip_inet_ntop:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9751   .text.lwip_inet_ntop:00000000 lwip_inet_ntop
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9836   .text.lwip_inet_ntop:00000034 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9841   .text.lwip_inet_pton:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9847   .text.lwip_inet_pton:00000000 lwip_inet_pton
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9897   .text.lwip_inet_pton:0000001c $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9902   .bss.select_cb_list:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9906   .bss.select_cb_list:00000000 select_cb_list
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9909   .bss.sockets:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:9913   .bss.sockets:00000000 sockets
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:3141   .text.event_callback:0000002f $d
C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s:3141   .text.event_callback:00000030 $t
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccNZcyE5.s 			page 303



UNDEFINED SYMBOLS
errno
printf
sys_arch_protect
sys_arch_unprotect
sys_mutex_lock
sys_mutex_unlock
lock_tcpip_core
lwip_htons
memcpy
netconn_getaddr
err_to_errno
pbuf_free
netconn_delete
netbuf_delete
netconn_recv_tcp_pbuf_flags
pbuf_copy_partial
pbuf_free_header
netconn_tcp_recvd
netconn_recv_udp_raw_netbuf_flags
sys_sem_signal
netconn_err
netif_find
tcp_bind_netif
udp_bind_netif
netconn_accept
netconn_bind
netconn_prepare_delete
netconn_connect
netconn_disconnect
netconn_listen_with_backlog
netconn_write_vectors_partly
pbuf_alloc
pbuf_cat
netbuf_free
netconn_send
netbuf_ref
netconn_write_partly
netconn_new_with_proto_and_callback
memset
sys_sem_new
sys_arch_sem_wait
sys_sem_free
netconn_shutdown
ip4addr_ntoa_r
ip4addr_aton
