ARM GAS  C:\usertemp\ccmutrvj.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"ff.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "Middlewares/Third_Party/FatFs/src/ff.c"
  19              		.section	.text.ld_word,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	ld_word:
  26              	.LVL0:
  27              	.LFB333:
   1:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - Generic FAT file system module  R0.12c                             /
   3:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:Middlewares/Third_Party/FatFs/src/ff.c **** /
   5:Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2017, ChaN, all right reserved.
   6:Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is an open source software. Redistribution and use of FatFs in
   8:Middlewares/Third_Party/FatFs/src/ff.c **** / source and binary forms, with or without modification, are permitted provided
   9:Middlewares/Third_Party/FatFs/src/ff.c **** / that the following condition is met:
  10:Middlewares/Third_Party/FatFs/src/ff.c **** /
  11:Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  12:Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  13:Middlewares/Third_Party/FatFs/src/ff.c **** /
  14:Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  15:Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  16:Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  17:Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  18:Middlewares/Third_Party/FatFs/src/ff.c **** /----------------------------------------------------------------------------*/
  19:Middlewares/Third_Party/FatFs/src/ff.c **** 
  20:Middlewares/Third_Party/FatFs/src/ff.c **** 
  21:Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
  22:Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of device I/O functions */
  23:Middlewares/Third_Party/FatFs/src/ff.c **** 
  24:Middlewares/Third_Party/FatFs/src/ff.c **** 
  25:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
  26:Middlewares/Third_Party/FatFs/src/ff.c **** 
  27:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
  28:Middlewares/Third_Party/FatFs/src/ff.c **** 
  29:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
  30:Middlewares/Third_Party/FatFs/src/ff.c **** 
  31:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 68300	/* Revision ID */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 2


  32:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
  33:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
  34:Middlewares/Third_Party/FatFs/src/ff.c **** 
  35:Middlewares/Third_Party/FatFs/src/ff.c **** 
  36:Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS upper conversion tables */
  37:Middlewares/Third_Party/FatFs/src/ff.c **** 
  38:Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
  39:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
  40:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
  41:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
  42:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
  43:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
  44:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
  45:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
  46:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
  47:Middlewares/Third_Party/FatFs/src/ff.c **** 
  48:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
  49:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  50:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  51:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  52:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  53:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
  54:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  55:Middlewares/Third_Party/FatFs/src/ff.c **** 
  56:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
  57:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  58:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  59:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
  60:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
  61:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
  62:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
  63:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
  64:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
  65:Middlewares/Third_Party/FatFs/src/ff.c **** 
  66:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
  67:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  68:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  69:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  70:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  71:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
  72:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  73:Middlewares/Third_Party/FatFs/src/ff.c **** 
  74:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. */
  75:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  76:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
  77:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  78:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  79:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  80:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  81:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  82:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  83:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  84:Middlewares/Third_Party/FatFs/src/ff.c **** 
  85:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic */
  86:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  87:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  88:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
ARM GAS  C:\usertemp\ccmutrvj.s 			page 3


  89:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  90:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  91:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  92:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  93:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  94:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  95:Middlewares/Third_Party/FatFs/src/ff.c **** 
  96:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek */
  97:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  98:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  99:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x93,0x94,0x95,0x96,0x97,0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87, \
 100:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96, \
 101:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 102:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 103:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 104:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xEF,0xF5,0xF0,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 105:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 106:Middlewares/Third_Party/FatFs/src/ff.c **** 
 107:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 771	/* KBL */
 108:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 109:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 110:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 111:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 112:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 113:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 114:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDC,0xDE,0xDE, \
 115:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 116:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFE,0xFF}
 117:Middlewares/Third_Party/FatFs/src/ff.c **** 
 118:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic */
 119:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 120:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F, \
 121:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0x95,0x96,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 122:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 123:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 124:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 125:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xA5,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 126:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF, \
 127:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 128:Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Latin 1 */
 130:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 131:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x41,0x43,0x45,0x45,0x45,0x49,0x49,0x49,0x41,0x41, \
 132:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x92,0x92,0x4F,0x4F,0x4F,0x55,0x55,0x59,0x4F,0x55,0x4F,0x9C,0x4F,0x9E,0x9F, \
 133:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 134:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0x41,0x41,0x41,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 135:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0x41,0x41,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 136:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0x45,0x45,0x45,0x49,0x49,0x49,0x49,0xD9,0xDA,0xDB,0xDC,0xDD,0x49,0xDF, \
 137:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x4F,0xE1,0x4F,0x4F,0x4F,0x4F,0xE6,0xE8,0xE8,0x55,0x55,0x55,0x59,0x59,0xEE,0xEF, \
 138:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 139:Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 */
 141:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 142:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F, \
 143:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x91,0xE2,0x99,0x95,0x95,0x97,0x97,0x99,0x9A,0x9B,0x9B,0x9D,0x9E,0xAC, \
 144:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF, \
 145:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBD,0xBF, \
ARM GAS  C:\usertemp\ccmutrvj.s 			page 4


 146:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 147:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD2,0xD3,0xD2,0xD5,0xD6,0xD7,0xB7,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 148:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF, \
 149:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xEB,0xFC,0xFC,0xFE,0xFF}
 150:Middlewares/Third_Party/FatFs/src/ff.c **** 
 151:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic */
 152:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 153:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F, \
 154:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x91,0x93,0x93,0x95,0x95,0x97,0x97,0x99,0x99,0x9B,0x9B,0x9D,0x9D,0x9F,0x9F, \
 155:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF, \
 156:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB6,0xB6,0xB8,0xB8,0xB9,0xBA,0xBB,0xBC,0xBE,0xBE,0xBF, \
 157:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 158:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD3,0xD3,0xD5,0xD5,0xD7,0xD7,0xDD,0xD9,0xDA,0xDB,0xDC,0xDD,0xE0,0xDF, \
 159:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF, \
 160:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFD,0xFE,0xFF}
 161:Middlewares/Third_Party/FatFs/src/ff.c **** 
 162:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish */
 163:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 164:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x49,0x8E,0x8F, \
 165:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x98,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9E, \
 166:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 167:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 168:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 169:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0x49,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 170:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0xED,0xEE,0xEF, \
 171:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 172:Middlewares/Third_Party/FatFs/src/ff.c **** 
 173:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 860	/* Portuguese */
 174:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 175:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x8F,0x8E,0x91,0x86,0x80,0x89,0x89,0x92,0x8B,0x8C,0x98,0x8E,0x8F, \
 176:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x8C,0x99,0xA9,0x96,0x9D,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 177:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x86,0x8B,0x9F,0x96,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 178:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 179:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 180:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 181:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 182:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 183:Middlewares/Third_Party/FatFs/src/ff.c **** 
 184:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 861	/* Icelandic */
 185:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 186:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x8B,0x8B,0x8D,0x8E,0x8F, \
 187:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x8D,0x55,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 188:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA4,0xA5,0xA6,0xA7,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 189:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 190:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 191:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 192:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 193:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 194:Middlewares/Third_Party/FatFs/src/ff.c **** 
 195:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew */
 196:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 197:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 198:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 199:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 200:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 201:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 202:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
ARM GAS  C:\usertemp\ccmutrvj.s 			page 5


 203:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 204:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 205:Middlewares/Third_Party/FatFs/src/ff.c **** 
 206:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 863	/* Canadian-French */
 207:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 208:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x41,0x8F, \
 209:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x45,0x45,0x4F,0x45,0x49,0x55,0x55,0x98,0x4F,0x55,0x9B,0x9C,0x55,0x55,0x9F, \
 210:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0x4F,0x55,0xA4,0xA5,0xA6,0xA7,0x49,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 211:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 212:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 213:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 214:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 215:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 216:Middlewares/Third_Party/FatFs/src/ff.c **** 
 217:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 864	/* Arabic */
 218:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 219:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 220:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 221:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 222:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 223:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 224:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 225:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 226:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 227:Middlewares/Third_Party/FatFs/src/ff.c **** 
 228:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 865	/* Nordic */
 229:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 230:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 231:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 232:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 233:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 234:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 235:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 236:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 237:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 238:Middlewares/Third_Party/FatFs/src/ff.c **** 
 239:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian */
 240:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 241:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 242:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 243:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 244:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 245:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 246:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 247:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 248:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 249:Middlewares/Third_Party/FatFs/src/ff.c **** 
 250:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 869	/* Greek 2 */
 251:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 252:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 253:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x86,0x9C,0x8D,0x8F,0x90, \
 254:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x90,0x92,0x95,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 255:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 256:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 257:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xA4,0xA5,0xA6,0xD9,0xDA,0xDB,0xDC,0xA7,0xA8,0xDF, \
 258:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA9,0xAA,0xAC,0xAD,0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xCF,0xCF,0xD0,0xEF, \
 259:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xD1,0xD2,0xD3,0xF5,0xD4,0xF7,0xF8,0xF9,0xD5,0x96,0x95,0x98,0xFE,0xFF}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 6


 260:Middlewares/Third_Party/FatFs/src/ff.c **** 
 261:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 262:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 263:Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot enable LFN without valid code page.
 264:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 265:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 266:Middlewares/Third_Party/FatFs/src/ff.c **** 
 267:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 268:Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 270:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 271:Middlewares/Third_Party/FatFs/src/ff.c **** 
 272:Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 274:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 275:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 276:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 277:Middlewares/Third_Party/FatFs/src/ff.c **** 
 278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S != 0	/* Code page is DBCS */
 279:Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 281:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 282:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 283:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 284:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 285:Middlewares/Third_Party/FatFs/src/ff.c **** 
 286:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 287:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 288:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 289:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 290:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 291:Middlewares/Third_Party/FatFs/src/ff.c **** 
 292:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 295:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 296:Middlewares/Third_Party/FatFs/src/ff.c **** 
 297:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 300:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file attribute bits for internal use */
 301:Middlewares/Third_Party/FatFs/src/ff.c **** #define	AM_VOL		0x08	/* Volume label */
 302:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_LFN		0x0F	/* LFN entry */
 303:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_MASK		0x3F	/* Mask of defined bits */
 304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 305:Middlewares/Third_Party/FatFs/src/ff.c **** 
 306:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file access control and file status flags for internal use */
 307:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_SEEKEND	0x20	/* Seek to end of the file on file open */
 308:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_MODIFIED	0x40	/* File has been modified */
 309:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_DIRTY	0x80	/* FIL.buf[] needs to be written-back */
 310:Middlewares/Third_Party/FatFs/src/ff.c **** 
 311:Middlewares/Third_Party/FatFs/src/ff.c **** 
 312:Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags in fn[] */
 313:Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of the name status byte */
 314:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 315:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
 316:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 7


 317:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
 318:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 319:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 320:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NOLFN	0x40	/* Do not find LFN */
 321:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NONAME	0x80	/* Not followed */
 322:Middlewares/Third_Party/FatFs/src/ff.c **** 
 323:Middlewares/Third_Party/FatFs/src/ff.c **** 
 324:Middlewares/Third_Party/FatFs/src/ff.c **** /* Limits and boundaries */
 325:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR		0x200000		/* Max size of FAT directory */
 326:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR_EX	0x10000000		/* Max size of exFAT directory */
 327:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_FAT12	0xFF5			/* Max FAT12 clusters (differs from specs, but correct for real DOS/Windo
 328:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT16	0xFFF5			/* Max FAT16 clusters (differs from specs, but correct for real DOS/Wind
 329:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT32	0x0FFFFFF5		/* Max FAT32 clusters (not specified, practical limit) */
 330:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_EXFAT	0x7FFFFFFD		/* Max exFAT clusters (differs from specs, implementation limit) */
 331:Middlewares/Third_Party/FatFs/src/ff.c **** 
 332:Middlewares/Third_Party/FatFs/src/ff.c **** 
 333:Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the FAT structure as simple byte array instead of structure member
 334:Middlewares/Third_Party/FatFs/src/ff.c **** / because the C structure is not binary compatible between different platforms */
 335:Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_JmpBoot			0		/* x86 jump instruction (3-byte) */
 337:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8-byte) */
 338:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (WORD) */
 339:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (BYTE) */
 340:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (WORD) */
 341:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FATs (BYTE) */
 342:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Size of root directory area for FAT12/16 [entry] (WORD) */
 343:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size (16-bit) [sector] (WORD) */
 344:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor byte (BYTE) */
 345:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size (16-bit) [sector] (WORD) */
 346:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size for int13h [sector] (WORD) */
 347:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads for int13h (WORD) */
 348:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Volume offset from top of the drive (DWORD) */
 349:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size (32-bit) [sector] (DWORD) */
 350:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number for int13h (BYTE) */
 351:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres			37		/* Error flag (BYTE) */
 352:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (BYTE) */
 353:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (DWORD) */
 354:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label string (8-byte) */
 355:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type string (8-byte) */
 356:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode			62		/* Boot code (448-byte) */
 357:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (WORD) */
 358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 359:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT32: FAT size [sector] (DWORD) */
 360:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags32		40		/* FAT32: Extended flags (WORD) */
 361:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer32			42		/* FAT32: File system version (WORD) */
 362:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus32		44		/* FAT32: Root directory cluster (DWORD) */
 363:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo32		48		/* FAT32: Offset of FSINFO sector (WORD) */
 364:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec32		50		/* FAT32: Offset of backup boot sector (WORD) */
 365:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* FAT32: Physical drive number for int13h (BYTE) */
 366:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres32			65		/* FAT32: Error flag (BYTE) */
 367:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* FAT32: Extended boot signature (BYTE) */
 368:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* FAT32: Volume serial number (DWORD) */
 369:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* FAT32: Volume label string (8-byte) */
 370:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* FAT32: File system type string (8-byte) */
 371:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode32		90		/* FAT32: Boot code (420-byte) */
 372:Middlewares/Third_Party/FatFs/src/ff.c **** 
 373:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ZeroedEx		11		/* exFAT: MBZ field (53-byte) */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 8


 374:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolOfsEx		64		/* exFAT: Volume offset from top of the drive [sector] (QWORD) */
 375:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSecEx		72		/* exFAT: Volume size [sector] (QWORD) */
 376:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatOfsEx		80		/* exFAT: FAT offset from top of the volume [sector] (DWORD) */
 377:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatSzEx			84		/* exFAT: FAT size [sector] (DWORD) */
 378:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DataOfsEx		88		/* exFAT: Data offset from top of the volume [sector] (DWORD) */
 379:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumClusEx		92		/* exFAT: Number of clusters (DWORD) */
 380:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClusEx		96		/* exFAT: Root directory start cluster (DWORD) */
 381:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolIDEx			100		/* exFAT: Volume serial number (DWORD) */
 382:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVerEx			104		/* exFAT: File system version (WORD) */
 383:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolFlagEx		106		/* exFAT: Volume flags (BYTE) */
 384:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ActFatEx		107		/* exFAT: Active FAT flags (BYTE) */
 385:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSecEx	108		/* exFAT: Log2 of sector size in unit of byte (BYTE) */
 386:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClusEx	109		/* exFAT: Log2 of cluster size in unit of sector (BYTE) */
 387:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATsEx		110		/* exFAT: Number of FATs (BYTE) */
 388:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DrvNumEx		111		/* exFAT: Physical drive number for int13h (BYTE) */
 389:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_PercInUseEx		112		/* exFAT: Percent in use (BYTE) */
 390:Middlewares/Third_Party/FatFs/src/ff.c **** #define	BPB_RsvdEx			113		/* exFAT: Reserved (7-byte) */
 391:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCodeEx		120		/* exFAT: Boot code (390-byte) */
 392:Middlewares/Third_Party/FatFs/src/ff.c **** 
 393:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11-byte) */
 394:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (BYTE) */
 395:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (BYTE) */
 396:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTime10		13		/* Created time sub-second (BYTE) */
 397:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (DWORD) */
 398:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (WORD) */
 399:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (WORD) */
 400:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_ModTime			22		/* Modified time (DWORD) */
 401:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (WORD) */
 402:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (DWORD) */
 403:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN: LFN order and LLE flag (BYTE) */
 404:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN: LFN attribute (BYTE) */
 405:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN: Entry type (BYTE) */
 406:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* LFN: Checksum of the SFN (BYTE) */
 407:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* LFN: MBZ field (WORD) */
 408:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Type			0		/* exFAT: Type of exFAT directory entry (BYTE) */
 409:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumLabel		1		/* exFAT: Number of volume label characters (BYTE) */
 410:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Label			2		/* exFAT: Volume label (11-WORD) */
 411:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CaseSum		4		/* exFAT: Sum of case conversion table (DWORD) */
 412:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumSec			1		/* exFAT: Number of secondary entries (BYTE) */
 413:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_SetSum			2		/* exFAT: Sum of the set of directory entries (WORD) */
 414:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Attr			4		/* exFAT: File attribute (WORD) */
 415:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime		8		/* exFAT: Created time (DWORD) */
 416:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime		12		/* exFAT: Modified time (DWORD) */
 417:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTime		16		/* exFAT: Last accessed time (DWORD) */
 418:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime10		20		/* exFAT: Created time subsecond (BYTE) */
 419:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime10		21		/* exFAT: Modified time subsecond (BYTE) */
 420:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTZ			22		/* exFAT: Created timezone (BYTE) */
 421:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTZ			23		/* exFAT: Modified timezone (BYTE) */
 422:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTZ			24		/* exFAT: Last accessed timezone (BYTE) */
 423:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_GenFlags		33		/* exFAT: General secondary flags (WORD) */
 424:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumName		35		/* exFAT: Number of file name characters (BYTE) */
 425:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NameHash		36		/* exFAT: Hash of file name (WORD) */
 426:Middlewares/Third_Party/FatFs/src/ff.c **** #define XDIR_ValidFileSize	40		/* exFAT: Valid file size (QWORD) */
 427:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FstClus		52		/* exFAT: First cluster of the file data (DWORD) */
 428:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FileSize		56		/* exFAT: File/Directory size (QWORD) */
 429:Middlewares/Third_Party/FatFs/src/ff.c **** 
 430:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZDIRE				32		/* Size of a directory entry */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 9


 431:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark set to DIR_Name[0] */
 432:Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 433:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 434:Middlewares/Third_Party/FatFs/src/ff.c **** 
 435:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FAT32 FSI: Leading signature (DWORD) */
 436:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FAT32 FSI: Structure signature (DWORD) */
 437:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FAT32 FSI: Number of free clusters (DWORD) */
 438:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FAT32 FSI: Last allocated cluster (DWORD) */
 439:Middlewares/Third_Party/FatFs/src/ff.c **** 
 440:Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Offset of partition table in the MBR */
 441:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 442:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_Boot			0		/* MBR PTE: Boot indicator */
 443:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StHead			1		/* MBR PTE: Start head */
 444:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StSec			2		/* MBR PTE: Start sector */
 445:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StCyl			3		/* MBR PTE: Start cylinder */
 446:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_System			4		/* MBR PTE: System ID */
 447:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdHead			5		/* MBR PTE: End head */
 448:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdSec			6		/* MBR PTE: End sector */
 449:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdCyl			7		/* MBR PTE: End cylinder */
 450:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StLba			8		/* MBR PTE: Start in LBA */
 451:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_SizLba			12		/* MBR PTE: Size in LBA */
 452:Middlewares/Third_Party/FatFs/src/ff.c **** 
 453:Middlewares/Third_Party/FatFs/src/ff.c **** 
 454:Middlewares/Third_Party/FatFs/src/ff.c **** /* Post process after fatal error on file operation */
 455:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 456:Middlewares/Third_Party/FatFs/src/ff.c **** 
 457:Middlewares/Third_Party/FatFs/src/ff.c **** 
 458:Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 460:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 461:Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 462:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 463:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
 464:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 465:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 466:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 467:Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 468:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 469:Middlewares/Third_Party/FatFs/src/ff.c **** 
 470:Middlewares/Third_Party/FatFs/src/ff.c **** 
 471:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of volume - partition conversion */
 472:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
 473:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) VolToPart[vol].pd	/* Get physical drive number */
 474:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) VolToPart[vol].pt	/* Get partition index */
 475:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 476:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) (BYTE)(vol)	/* Each logical drive is bound to the same physical drive number */
 477:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) 0			/* Find first valid partition or in SFD */
 478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 479:Middlewares/Third_Party/FatFs/src/ff.c **** 
 480:Middlewares/Third_Party/FatFs/src/ff.c **** 
 481:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 482:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 483:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 484:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 485:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 486:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
 487:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  C:\usertemp\ccmutrvj.s 			page 10


 488:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
 489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 490:Middlewares/Third_Party/FatFs/src/ff.c **** 
 491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 492:Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp */
 493:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 494:Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 495:Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
 496:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 497:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 498:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 499:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 500:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 501:Middlewares/Third_Party/FatFs/src/ff.c **** 
 502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 503:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock controls */
 504:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 505:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 506:Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 507:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 508:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 509:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 510:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, containing directory (0:root) */
 511:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs;		/* Object ID 3, offset in the directory */
 512:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 513:Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 514:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 515:Middlewares/Third_Party/FatFs/src/ff.c **** 
 516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:Middlewares/Third_Party/FatFs/src/ff.c **** 
 518:Middlewares/Third_Party/FatFs/src/ff.c **** 
 519:Middlewares/Third_Party/FatFs/src/ff.c **** 
 520:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 521:Middlewares/Third_Party/FatFs/src/ff.c **** 
 522:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Work Area
 523:Middlewares/Third_Party/FatFs/src/ff.c **** 
 524:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 525:Middlewares/Third_Party/FatFs/src/ff.c **** 
 526:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Variables defined here without initial value shall be guaranteed
 527:Middlewares/Third_Party/FatFs/src/ff.c **** /  zero/null at start-up. If not, the linker option or start-up routine is
 528:Middlewares/Third_Party/FatFs/src/ff.c **** /  not compliance with C standard. */
 529:Middlewares/Third_Party/FatFs/src/ff.c **** 
 530:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 10
 531:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 532:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 533:Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 534:Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 535:Middlewares/Third_Party/FatFs/src/ff.c **** 
 536:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
 537:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 538:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 541:Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 542:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 543:Middlewares/Third_Party/FatFs/src/ff.c **** 
 544:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0		/* Non-LFN configuration */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 11


 545:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 546:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 547:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 548:Middlewares/Third_Party/FatFs/src/ff.c **** 
 549:Middlewares/Third_Party/FatFs/src/ff.c **** #else					/* LFN configuration */
 550:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 551:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN value
 552:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 553:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAXDIRB(nc)	((nc + 44U) / 15 * SZDIRE)
 554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1		/* LFN enabled with static working buffer */
 556:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 557:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE	DirBuf[MAXDIRB(_MAX_LFN)];	/* Directory entry block scratchpad buffer */
 558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 559:Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];	/* LFN enabled with static working buffer */
 560:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 561:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 562:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 563:Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 	/* LFN enabled with dynamic working buffer on the stack */
 565:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 566:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1]; BYTE dbuf[MAXDIRB(_MAX_LFN)];
 567:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; (fs)->dirbuf = dbuf; }
 568:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 569:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 570:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1];
 571:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; }
 572:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 574:Middlewares/Third_Party/FatFs/src/ff.c **** 
 575:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 	/* LFN enabled with dynamic working buffer on the heap */
 576:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 577:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 578:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2 + MAXDIRB(_MAX_LFN)); if (!lfn) LEAVE_FF
 579:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 580:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 581:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 582:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2); if (!lfn) LEAVE_FF(fs, FR_NOT_ENOUGH_C
 583:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 585:Middlewares/Third_Party/FatFs/src/ff.c **** 
 586:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 587:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 588:Middlewares/Third_Party/FatFs/src/ff.c **** 
 589:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 590:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* else _USE_LFN == 0 */
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 592:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 593:Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for SBCS extended characters */
 594:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 595:Middlewares/Third_Party/FatFs/src/ff.c **** 
 596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 597:Middlewares/Third_Party/FatFs/src/ff.c **** 
 598:Middlewares/Third_Party/FatFs/src/ff.c **** 
 599:Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 
 601:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
ARM GAS  C:\usertemp\ccmutrvj.s 			page 12


 602:Middlewares/Third_Party/FatFs/src/ff.c **** 
 603:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 604:Middlewares/Third_Party/FatFs/src/ff.c **** 
 605:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 606:Middlewares/Third_Party/FatFs/src/ff.c **** 
 607:Middlewares/Third_Party/FatFs/src/ff.c **** 
 608:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 609:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load/Store multi-byte word in the FAT structure                       */
 610:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 612:Middlewares/Third_Party/FatFs/src/ff.c **** static
 613:Middlewares/Third_Party/FatFs/src/ff.c **** WORD ld_word (const BYTE* ptr)	/*	 Load a 2-byte little-endian word */
 614:Middlewares/Third_Party/FatFs/src/ff.c **** {
  28              		.loc 1 614 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 615:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD rv;
  33              		.loc 1 615 2 view .LVU1
 616:Middlewares/Third_Party/FatFs/src/ff.c **** 
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[1];
  34              		.loc 1 617 2 view .LVU2
  35              		.loc 1 617 10 is_stmt 0 view .LVU3
  36 0000 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
  37              	.LVL1:
 618:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  38              		.loc 1 618 2 is_stmt 1 view .LVU4
  39              		.loc 1 618 20 is_stmt 0 view .LVU5
  40 0002 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  41              	.LVL2:
 619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
  42              		.loc 1 619 2 is_stmt 1 view .LVU6
 620:Middlewares/Third_Party/FatFs/src/ff.c **** }
  43              		.loc 1 620 1 is_stmt 0 view .LVU7
  44 0004 40EA0220 		orr	r0, r0, r2, lsl #8
  45              	.LVL3:
  46              		.loc 1 620 1 view .LVU8
  47 0008 7047     		bx	lr
  48              		.cfi_endproc
  49              	.LFE333:
  51              		.section	.text.ld_dword,"ax",%progbits
  52              		.align	1
  53              		.syntax unified
  54              		.thumb
  55              		.thumb_func
  57              	ld_dword:
  58              	.LVL4:
  59              	.LFB334:
 621:Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:Middlewares/Third_Party/FatFs/src/ff.c **** static
 623:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_dword (const BYTE* ptr)	/* Load a 4-byte little-endian word */
 624:Middlewares/Third_Party/FatFs/src/ff.c **** {
  60              		.loc 1 624 1 is_stmt 1 view -0
  61              		.cfi_startproc
  62              		@ args = 0, pretend = 0, frame = 0
  63              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 13


  64              		@ link register save eliminated.
 625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rv;
  65              		.loc 1 625 2 view .LVU10
 626:Middlewares/Third_Party/FatFs/src/ff.c **** 
 627:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[3];
  66              		.loc 1 627 2 view .LVU11
  67              		.loc 1 627 10 is_stmt 0 view .LVU12
  68 0000 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
  69              	.LVL5:
 628:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
  70              		.loc 1 628 2 is_stmt 1 view .LVU13
  71              		.loc 1 628 20 is_stmt 0 view .LVU14
  72 0002 8278     		ldrb	r2, [r0, #2]	@ zero_extendqisi2
  73              		.loc 1 628 5 view .LVU15
  74 0004 42EA0322 		orr	r2, r2, r3, lsl #8
  75              	.LVL6:
 629:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
  76              		.loc 1 629 2 is_stmt 1 view .LVU16
  77              		.loc 1 629 20 is_stmt 0 view .LVU17
  78 0008 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
  79              		.loc 1 629 5 view .LVU18
  80 000a 43EA0223 		orr	r3, r3, r2, lsl #8
  81              	.LVL7:
 630:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  82              		.loc 1 630 2 is_stmt 1 view .LVU19
  83              		.loc 1 630 20 is_stmt 0 view .LVU20
  84 000e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  85              	.LVL8:
 631:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
  86              		.loc 1 631 2 is_stmt 1 view .LVU21
 632:Middlewares/Third_Party/FatFs/src/ff.c **** }
  87              		.loc 1 632 1 is_stmt 0 view .LVU22
  88 0010 40EA0320 		orr	r0, r0, r3, lsl #8
  89              	.LVL9:
  90              		.loc 1 632 1 view .LVU23
  91 0014 7047     		bx	lr
  92              		.cfi_endproc
  93              	.LFE334:
  95              		.section	.text.st_word,"ax",%progbits
  96              		.align	1
  97              		.syntax unified
  98              		.thumb
  99              		.thumb_func
 101              	st_word:
 102              	.LVL10:
 103              	.LFB335:
 633:Middlewares/Third_Party/FatFs/src/ff.c **** 
 634:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 635:Middlewares/Third_Party/FatFs/src/ff.c **** static
 636:Middlewares/Third_Party/FatFs/src/ff.c **** QWORD ld_qword (const BYTE* ptr)	/* Load an 8-byte little-endian word */
 637:Middlewares/Third_Party/FatFs/src/ff.c **** {
 638:Middlewares/Third_Party/FatFs/src/ff.c **** 	QWORD rv;
 639:Middlewares/Third_Party/FatFs/src/ff.c **** 
 640:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[7];
 641:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[6];
 642:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[5];
 643:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[4];
ARM GAS  C:\usertemp\ccmutrvj.s 			page 14


 644:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[3];
 645:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
 646:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
 647:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
 648:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 649:Middlewares/Third_Party/FatFs/src/ff.c **** }
 650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 651:Middlewares/Third_Party/FatFs/src/ff.c **** 
 652:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 653:Middlewares/Third_Party/FatFs/src/ff.c **** static
 654:Middlewares/Third_Party/FatFs/src/ff.c **** void st_word (BYTE* ptr, WORD val)	/* Store a 2-byte word in little-endian */
 655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 104              		.loc 1 655 1 is_stmt 1 view -0
 105              		.cfi_startproc
 106              		@ args = 0, pretend = 0, frame = 0
 107              		@ frame_needed = 0, uses_anonymous_args = 0
 108              		@ link register save eliminated.
 656:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 109              		.loc 1 656 2 view .LVU25
 110              		.loc 1 656 9 is_stmt 0 view .LVU26
 111 0000 0170     		strb	r1, [r0]
 112              		.loc 1 656 22 is_stmt 1 view .LVU27
 113              	.LVL11:
 657:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 114              		.loc 1 657 2 view .LVU28
 115              		.loc 1 657 11 is_stmt 0 view .LVU29
 116 0002 090A     		lsrs	r1, r1, #8
 117              		.loc 1 657 9 view .LVU30
 118 0004 4170     		strb	r1, [r0, #1]
 658:Middlewares/Third_Party/FatFs/src/ff.c **** }
 119              		.loc 1 658 1 view .LVU31
 120 0006 7047     		bx	lr
 121              		.cfi_endproc
 122              	.LFE335:
 124              		.section	.text.st_dword,"ax",%progbits
 125              		.align	1
 126              		.syntax unified
 127              		.thumb
 128              		.thumb_func
 130              	st_dword:
 131              	.LVL12:
 132              	.LFB336:
 659:Middlewares/Third_Party/FatFs/src/ff.c **** 
 660:Middlewares/Third_Party/FatFs/src/ff.c **** static
 661:Middlewares/Third_Party/FatFs/src/ff.c **** void st_dword (BYTE* ptr, DWORD val)	/* Store a 4-byte word in little-endian */
 662:Middlewares/Third_Party/FatFs/src/ff.c **** {
 133              		.loc 1 662 1 is_stmt 1 view -0
 134              		.cfi_startproc
 135              		@ args = 0, pretend = 0, frame = 0
 136              		@ frame_needed = 0, uses_anonymous_args = 0
 137              		@ link register save eliminated.
 663:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 138              		.loc 1 663 2 view .LVU33
 139              		.loc 1 663 9 is_stmt 0 view .LVU34
 140 0000 0170     		strb	r1, [r0]
 141              		.loc 1 663 22 is_stmt 1 view .LVU35
 142              	.LVL13:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 15


 664:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 143              		.loc 1 664 2 view .LVU36
 144              		.loc 1 664 11 is_stmt 0 view .LVU37
 145 0002 C1F30723 		ubfx	r3, r1, #8, #8
 146              		.loc 1 664 9 view .LVU38
 147 0006 4370     		strb	r3, [r0, #1]
 148              		.loc 1 664 22 is_stmt 1 view .LVU39
 149              	.LVL14:
 665:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 150              		.loc 1 665 2 view .LVU40
 151              		.loc 1 665 11 is_stmt 0 view .LVU41
 152 0008 C1F30743 		ubfx	r3, r1, #16, #8
 153              		.loc 1 665 9 view .LVU42
 154 000c 8370     		strb	r3, [r0, #2]
 155              		.loc 1 665 22 is_stmt 1 view .LVU43
 156              	.LVL15:
 666:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 157              		.loc 1 666 2 view .LVU44
 158              		.loc 1 666 11 is_stmt 0 view .LVU45
 159 000e 090E     		lsrs	r1, r1, #24
 160              	.LVL16:
 161              		.loc 1 666 9 view .LVU46
 162 0010 C170     		strb	r1, [r0, #3]
 667:Middlewares/Third_Party/FatFs/src/ff.c **** }
 163              		.loc 1 667 1 view .LVU47
 164 0012 7047     		bx	lr
 165              		.cfi_endproc
 166              	.LFE336:
 168              		.section	.text.mem_cpy,"ax",%progbits
 169              		.align	1
 170              		.syntax unified
 171              		.thumb
 172              		.thumb_func
 174              	mem_cpy:
 175              	.LVL17:
 176              	.LFB337:
 668:Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 670:Middlewares/Third_Party/FatFs/src/ff.c **** static
 671:Middlewares/Third_Party/FatFs/src/ff.c **** void st_qword (BYTE* ptr, QWORD val)	/* Store an 8-byte word in little-endian */
 672:Middlewares/Third_Party/FatFs/src/ff.c **** {
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 675:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 676:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 677:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 678:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 679:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 681:Middlewares/Third_Party/FatFs/src/ff.c **** }
 682:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 683:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
 684:Middlewares/Third_Party/FatFs/src/ff.c **** 
 685:Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 688:Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 16


 689:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 690:Middlewares/Third_Party/FatFs/src/ff.c **** 
 691:Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 692:Middlewares/Third_Party/FatFs/src/ff.c **** static
 693:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
 177              		.loc 1 693 53 is_stmt 1 view -0
 178              		.cfi_startproc
 179              		@ args = 0, pretend = 0, frame = 0
 180              		@ frame_needed = 0, uses_anonymous_args = 0
 181              		@ link register save eliminated.
 694:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 182              		.loc 1 694 2 view .LVU49
 695:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
 183              		.loc 1 695 2 view .LVU50
 696:Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cnt) {
 184              		.loc 1 697 2 view .LVU51
 185              		.loc 1 697 5 is_stmt 0 view .LVU52
 186 0000 9446     		mov	ip, r2
 187 0002 32B1     		cbz	r2, .L5
 188              	.LVL18:
 189              	.L7:
 698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 190              		.loc 1 698 3 is_stmt 1 view .LVU53
 699:Middlewares/Third_Party/FatFs/src/ff.c **** 			*d++ = *s++;
 191              		.loc 1 699 4 view .LVU54
 192              		.loc 1 699 11 is_stmt 0 view .LVU55
 193 0004 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 194 0006 0131     		adds	r1, r1, #1
 195              	.LVL19:
 196              		.loc 1 699 9 view .LVU56
 197 0008 0270     		strb	r2, [r0]
 198 000a 0130     		adds	r0, r0, #1
 199              	.LVL20:
 700:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (--cnt);
 200              		.loc 1 700 12 is_stmt 1 discriminator 1 view .LVU57
 201              		.loc 1 700 12 is_stmt 0 discriminator 1 view .LVU58
 202 000c BCF1010C 		subs	ip, ip, #1
 203              	.LVL21:
 204              		.loc 1 700 12 discriminator 1 view .LVU59
 205 0010 F8D1     		bne	.L7
 206              	.LVL22:
 207              	.L5:
 701:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 702:Middlewares/Third_Party/FatFs/src/ff.c **** }
 208              		.loc 1 702 1 view .LVU60
 209 0012 7047     		bx	lr
 210              		.cfi_endproc
 211              	.LFE337:
 213              		.section	.text.mem_set,"ax",%progbits
 214              		.align	1
 215              		.syntax unified
 216              		.thumb
 217              		.thumb_func
 219              	mem_set:
 220              	.LFB338:
 703:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 17


 704:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory block */
 705:Middlewares/Third_Party/FatFs/src/ff.c **** static
 706:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
 221              		.loc 1 706 45 is_stmt 1 view -0
 222              		.cfi_startproc
 223              		@ args = 0, pretend = 0, frame = 0
 224              		@ frame_needed = 0, uses_anonymous_args = 0
 225              		@ link register save eliminated.
 226              	.LVL23:
 227              	.L9:
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 709:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 228              		.loc 1 709 2 view .LVU62
 710:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
 229              		.loc 1 710 3 view .LVU63
 230              		.loc 1 710 8 is_stmt 0 view .LVU64
 231 0000 0170     		strb	r1, [r0]
 232 0002 0130     		adds	r0, r0, #1
 711:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt);
 233              		.loc 1 711 11 is_stmt 1 discriminator 1 view .LVU65
 234              	.LVL24:
 235              		.loc 1 711 11 is_stmt 0 discriminator 1 view .LVU66
 236 0004 013A     		subs	r2, r2, #1
 237              	.LVL25:
 238              		.loc 1 711 11 discriminator 1 view .LVU67
 239 0006 FBD1     		bne	.L9
 712:Middlewares/Third_Party/FatFs/src/ff.c **** }
 240              		.loc 1 712 1 view .LVU68
 241 0008 7047     		bx	lr
 242              		.cfi_endproc
 243              	.LFE338:
 245              		.section	.text.mem_cmp,"ax",%progbits
 246              		.align	1
 247              		.syntax unified
 248              		.thumb
 249              		.thumb_func
 251              	mem_cmp:
 252              	.LVL26:
 253              	.LFB339:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 
 714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory block */
 715:Middlewares/Third_Party/FatFs/src/ff.c **** static
 716:Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {	/* ZR:same, NZ:different */
 254              		.loc 1 716 58 is_stmt 1 view -0
 255              		.cfi_startproc
 256              		@ args = 0, pretend = 0, frame = 0
 257              		@ frame_needed = 0, uses_anonymous_args = 0
 258              		@ link register save eliminated.
 259              		.loc 1 716 58 is_stmt 0 view .LVU70
 260 0000 8446     		mov	ip, r0
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 261              		.loc 1 717 2 is_stmt 1 view .LVU71
 262              	.LVL27:
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 263              		.loc 1 718 2 view .LVU72
 264              	.L12:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 18


 719:Middlewares/Third_Party/FatFs/src/ff.c **** 
 720:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 265              		.loc 1 720 2 view .LVU73
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 		r = *d++ - *s++;
 266              		.loc 1 721 3 view .LVU74
 267              		.loc 1 721 7 is_stmt 0 view .LVU75
 268 0002 9CF80000 		ldrb	r0, [ip]	@ zero_extendqisi2
 269 0006 0CF1010C 		add	ip, ip, #1
 270              	.LVL28:
 271              		.loc 1 721 14 view .LVU76
 272 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 273 000c 0131     		adds	r1, r1, #1
 274              	.LVL29:
 275              		.loc 1 721 5 view .LVU77
 276 000e C01A     		subs	r0, r0, r3
 277              	.LVL30:
 722:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt && r == 0);
 278              		.loc 1 722 17 is_stmt 1 discriminator 2 view .LVU78
 279              		.loc 1 722 17 is_stmt 0 discriminator 2 view .LVU79
 280 0010 013A     		subs	r2, r2, #1
 281              	.LVL31:
 282              		.loc 1 722 17 discriminator 2 view .LVU80
 283 0012 01D0     		beq	.L10
 284              		.loc 1 722 17 discriminator 1 view .LVU81
 285 0014 0028     		cmp	r0, #0
 286 0016 F4D0     		beq	.L12
 287              	.L10:
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 724:Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
 725:Middlewares/Third_Party/FatFs/src/ff.c **** }
 288              		.loc 1 725 1 view .LVU82
 289 0018 7047     		bx	lr
 290              		.cfi_endproc
 291              	.LFE339:
 293              		.section	.text.chk_chr,"ax",%progbits
 294              		.align	1
 295              		.syntax unified
 296              		.thumb
 297              		.thumb_func
 299              	chk_chr:
 300              	.LVL32:
 301              	.LFB340:
 726:Middlewares/Third_Party/FatFs/src/ff.c **** 
 727:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 728:Middlewares/Third_Party/FatFs/src/ff.c **** static
 729:Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {	/* NZ:contained, ZR:not contained */
 302              		.loc 1 729 40 is_stmt 1 view -0
 303              		.cfi_startproc
 304              		@ args = 0, pretend = 0, frame = 0
 305              		@ frame_needed = 0, uses_anonymous_args = 0
 306              		@ link register save eliminated.
 307              		.loc 1 729 40 is_stmt 0 view .LVU84
 308 0000 0346     		mov	r3, r0
 730:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 309              		.loc 1 730 2 is_stmt 1 view .LVU85
 310              		.loc 1 730 8 is_stmt 0 view .LVU86
 311 0002 00E0     		b	.L14
ARM GAS  C:\usertemp\ccmutrvj.s 			page 19


 312              	.LVL33:
 313              	.L16:
 314              		.loc 1 730 30 is_stmt 1 discriminator 3 view .LVU87
 315              		.loc 1 730 33 is_stmt 0 discriminator 3 view .LVU88
 316 0004 0133     		adds	r3, r3, #1
 317              	.LVL34:
 318              	.L14:
 319              		.loc 1 730 14 is_stmt 1 discriminator 1 view .LVU89
 320              		.loc 1 730 9 is_stmt 0 discriminator 1 view .LVU90
 321 0006 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 322              		.loc 1 730 14 discriminator 1 view .LVU91
 323 0008 08B1     		cbz	r0, .L15
 324              		.loc 1 730 14 discriminator 2 view .LVU92
 325 000a 8842     		cmp	r0, r1
 326 000c FAD1     		bne	.L16
 327              	.L15:
 731:Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
 328              		.loc 1 731 2 is_stmt 1 view .LVU93
 732:Middlewares/Third_Party/FatFs/src/ff.c **** }
 329              		.loc 1 732 1 is_stmt 0 view .LVU94
 330 000e 7047     		bx	lr
 331              		.cfi_endproc
 332              	.LFE340:
 334              		.section	.text.chk_lock,"ax",%progbits
 335              		.align	1
 336              		.syntax unified
 337              		.thumb
 338              		.thumb_func
 340              	chk_lock:
 341              	.LVL35:
 342              	.LFB341:
 733:Middlewares/Third_Party/FatFs/src/ff.c **** 
 734:Middlewares/Third_Party/FatFs/src/ff.c **** 
 735:Middlewares/Third_Party/FatFs/src/ff.c **** 
 736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 738:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 739:Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 740:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 741:Middlewares/Third_Party/FatFs/src/ff.c **** static
 742:Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 743:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 744:Middlewares/Third_Party/FatFs/src/ff.c **** )
 745:Middlewares/Third_Party/FatFs/src/ff.c **** {
 746:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (fs && ff_req_grant(fs->sobj)) ? 1 : 0;
 747:Middlewares/Third_Party/FatFs/src/ff.c **** }
 748:Middlewares/Third_Party/FatFs/src/ff.c **** 
 749:Middlewares/Third_Party/FatFs/src/ff.c **** 
 750:Middlewares/Third_Party/FatFs/src/ff.c **** static
 751:Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 752:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 753:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 754:Middlewares/Third_Party/FatFs/src/ff.c **** )
 755:Middlewares/Third_Party/FatFs/src/ff.c **** {
 756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs && res != FR_NOT_ENABLED && res != FR_INVALID_DRIVE && res != FR_TIMEOUT) {
 757:Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
 758:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 20


 759:Middlewares/Third_Party/FatFs/src/ff.c **** }
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 
 761:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 762:Middlewares/Third_Party/FatFs/src/ff.c **** 
 763:Middlewares/Third_Party/FatFs/src/ff.c **** 
 764:Middlewares/Third_Party/FatFs/src/ff.c **** 
 765:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 766:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 767:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:Middlewares/Third_Party/FatFs/src/ff.c **** 
 770:Middlewares/Third_Party/FatFs/src/ff.c **** static
 771:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 772:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 773:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 774:Middlewares/Third_Party/FatFs/src/ff.c **** )
 775:Middlewares/Third_Party/FatFs/src/ff.c **** {
 343              		.loc 1 775 1 is_stmt 1 view -0
 344              		.cfi_startproc
 345              		@ args = 0, pretend = 0, frame = 0
 346              		@ frame_needed = 0, uses_anonymous_args = 0
 347              		@ link register save eliminated.
 348              		.loc 1 775 1 is_stmt 0 view .LVU96
 349 0000 10B4     		push	{r4}
 350              	.LCFI0:
 351              		.cfi_def_cfa_offset 4
 352              		.cfi_offset 4, -4
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 353              		.loc 1 776 2 is_stmt 1 view .LVU97
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 354              		.loc 1 779 2 view .LVU98
 355              	.LVL36:
 356              		.loc 1 779 14 is_stmt 0 view .LVU99
 357 0002 4FF0000C 		mov	ip, #0
 358              		.loc 1 779 9 view .LVU100
 359 0006 6346     		mov	r3, ip
 360              		.loc 1 779 2 view .LVU101
 361 0008 02E0     		b	.L18
 362              	.LVL37:
 363              	.L25:
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->obj.fs &&	 	/* Check if the object matched with an open object */
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
 364              		.loc 1 785 7 view .LVU102
 365 000a 4FF0010C 		mov	ip, #1
 366              	.LVL38:
 367              	.L19:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 368              		.loc 1 779 34 is_stmt 1 discriminator 2 view .LVU103
 369 000e 0133     		adds	r3, r3, #1
 370              	.LVL39:
 371              	.L18:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 21


 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 372              		.loc 1 779 21 discriminator 1 view .LVU104
 373 0010 042B     		cmp	r3, #4
 374 0012 15D8     		bhi	.L20
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 375              		.loc 1 780 3 view .LVU105
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 376              		.loc 1 780 15 is_stmt 0 view .LVU106
 377 0014 1A01     		lsls	r2, r3, #4
 378 0016 184C     		ldr	r4, .L32
 379 0018 A258     		ldr	r2, [r4, r2]
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 380              		.loc 1 780 6 view .LVU107
 381 001a 002A     		cmp	r2, #0
 382 001c F5D0     		beq	.L25
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 383              		.loc 1 781 4 is_stmt 1 view .LVU108
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 384              		.loc 1 781 30 is_stmt 0 view .LVU109
 385 001e 0468     		ldr	r4, [r0]
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 386              		.loc 1 781 7 view .LVU110
 387 0020 A242     		cmp	r2, r4
 388 0022 F4D1     		bne	.L19
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 389              		.loc 1 782 13 view .LVU111
 390 0024 144A     		ldr	r2, .L32
 391 0026 02EB0312 		add	r2, r2, r3, lsl #4
 392 002a 5468     		ldr	r4, [r2, #4]
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 393              		.loc 1 782 28 view .LVU112
 394 002c 8268     		ldr	r2, [r0, #8]
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 395              		.loc 1 781 34 discriminator 1 view .LVU113
 396 002e 9442     		cmp	r4, r2
 397 0030 EDD1     		bne	.L19
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 398              		.loc 1 783 13 view .LVU114
 399 0032 114A     		ldr	r2, .L32
 400 0034 02EB0312 		add	r2, r2, r3, lsl #4
 401 0038 9468     		ldr	r4, [r2, #8]
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 402              		.loc 1 783 23 view .LVU115
 403 003a 4269     		ldr	r2, [r0, #20]
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 404              		.loc 1 782 36 view .LVU116
 405 003c 9442     		cmp	r4, r2
 406 003e E6D1     		bne	.L19
 407              	.L20:
 786:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {	/* The object is not opened */
 408              		.loc 1 788 2 is_stmt 1 view .LVU117
 409              		.loc 1 788 5 is_stmt 0 view .LVU118
 410 0040 052B     		cmp	r3, #5
 411 0042 0BD0     		beq	.L30
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
ARM GAS  C:\usertemp\ccmutrvj.s 			page 22


 790:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 
 792:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 793:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 412              		.loc 1 793 2 is_stmt 1 view .LVU119
 413              		.loc 1 793 52 is_stmt 0 view .LVU120
 414 0044 B1B9     		cbnz	r1, .L27
 415              		.loc 1 793 25 discriminator 2 view .LVU121
 416 0046 0C4A     		ldr	r2, .L32
 417 0048 02EB0313 		add	r3, r2, r3, lsl #4
 418              	.LVL40:
 419              		.loc 1 793 25 discriminator 2 view .LVU122
 420 004c 9B89     		ldrh	r3, [r3, #12]
 421              		.loc 1 793 14 discriminator 2 view .LVU123
 422 004e B3F5807F 		cmp	r3, #256
 423 0052 0DD0     		beq	.L31
 424              		.loc 1 793 52 discriminator 4 view .LVU124
 425 0054 0020     		movs	r0, #0
 426              	.LVL41:
 427              	.L24:
 794:Middlewares/Third_Party/FatFs/src/ff.c **** }
 428              		.loc 1 794 1 view .LVU125
 429 0056 5DF8044B 		ldr	r4, [sp], #4
 430              	.LCFI1:
 431              		.cfi_remember_state
 432              		.cfi_restore 4
 433              		.cfi_def_cfa_offset 0
 434 005a 7047     		bx	lr
 435              	.LVL42:
 436              	.L30:
 437              	.LCFI2:
 438              		.cfi_restore_state
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 439              		.loc 1 789 3 is_stmt 1 view .LVU126
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 440              		.loc 1 789 14 is_stmt 0 view .LVU127
 441 005c 0229     		cmp	r1, #2
 442 005e 14BF     		ite	ne
 443 0060 6346     		movne	r3, ip
 444 0062 4CF00103 		orreq	r3, ip, #1
 445              	.LVL43:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 446              		.loc 1 789 35 view .LVU128
 447 0066 0BB1     		cbz	r3, .L26
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 448              		.loc 1 789 35 discriminator 1 view .LVU129
 449 0068 0020     		movs	r0, #0
 450              	.LVL44:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 451              		.loc 1 789 35 discriminator 1 view .LVU130
 452 006a F4E7     		b	.L24
 453              	.LVL45:
 454              	.L26:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 455              		.loc 1 789 35 discriminator 2 view .LVU131
 456 006c 1220     		movs	r0, #18
 457              	.LVL46:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 23


 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 458              		.loc 1 789 35 view .LVU132
 459 006e F2E7     		b	.L24
 460              	.LVL47:
 461              	.L31:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 462              		.loc 1 793 52 discriminator 3 view .LVU133
 463 0070 1020     		movs	r0, #16
 464              	.LVL48:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 465              		.loc 1 793 52 discriminator 3 view .LVU134
 466 0072 F0E7     		b	.L24
 467              	.LVL49:
 468              	.L27:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 469              		.loc 1 793 52 discriminator 3 view .LVU135
 470 0074 1020     		movs	r0, #16
 471              	.LVL50:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 472              		.loc 1 793 52 discriminator 3 view .LVU136
 473 0076 EEE7     		b	.L24
 474              	.L33:
 475              		.align	2
 476              	.L32:
 477 0078 00000000 		.word	Files
 478              		.cfi_endproc
 479              	.LFE341:
 481              		.section	.text.enq_lock,"ax",%progbits
 482              		.align	1
 483              		.syntax unified
 484              		.thumb
 485              		.thumb_func
 487              	enq_lock:
 488              	.LFB342:
 795:Middlewares/Third_Party/FatFs/src/ff.c **** 
 796:Middlewares/Third_Party/FatFs/src/ff.c **** 
 797:Middlewares/Third_Party/FatFs/src/ff.c **** static
 798:Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 799:Middlewares/Third_Party/FatFs/src/ff.c **** {
 489              		.loc 1 799 1 is_stmt 1 view -0
 490              		.cfi_startproc
 491              		@ args = 0, pretend = 0, frame = 0
 492              		@ frame_needed = 0, uses_anonymous_args = 0
 493              		@ link register save eliminated.
 800:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 494              		.loc 1 800 2 view .LVU138
 801:Middlewares/Third_Party/FatFs/src/ff.c **** 
 802:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 495              		.loc 1 802 2 view .LVU139
 496              	.LVL51:
 497              		.loc 1 802 9 is_stmt 0 view .LVU140
 498 0000 0020     		movs	r0, #0
 499              		.loc 1 802 2 view .LVU141
 500 0002 00E0     		b	.L35
 501              	.LVL52:
 502              	.L37:
 503              		.loc 1 802 44 is_stmt 1 discriminator 4 view .LVU142
ARM GAS  C:\usertemp\ccmutrvj.s 			page 24


 504 0004 0130     		adds	r0, r0, #1
 505              	.LVL53:
 506              	.L35:
 507              		.loc 1 802 27 discriminator 1 view .LVU143
 508 0006 0428     		cmp	r0, #4
 509 0008 04D8     		bhi	.L36
 510              		.loc 1 802 38 is_stmt 0 discriminator 3 view .LVU144
 511 000a 0301     		lsls	r3, r0, #4
 512 000c 034A     		ldr	r2, .L38
 513 000e D358     		ldr	r3, [r2, r3]
 514              		.loc 1 802 27 discriminator 3 view .LVU145
 515 0010 002B     		cmp	r3, #0
 516 0012 F7D1     		bne	.L37
 517              	.L36:
 803:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 518              		.loc 1 803 2 is_stmt 1 view .LVU146
 804:Middlewares/Third_Party/FatFs/src/ff.c **** }
 519              		.loc 1 804 1 is_stmt 0 view .LVU147
 520 0014 0538     		subs	r0, r0, #5
 521              	.LVL54:
 522              		.loc 1 804 1 view .LVU148
 523 0016 18BF     		it	ne
 524 0018 0120     		movne	r0, #1
 525              	.LVL55:
 526              		.loc 1 804 1 view .LVU149
 527 001a 7047     		bx	lr
 528              	.L39:
 529              		.align	2
 530              	.L38:
 531 001c 00000000 		.word	Files
 532              		.cfi_endproc
 533              	.LFE342:
 535              		.section	.text.inc_lock,"ax",%progbits
 536              		.align	1
 537              		.syntax unified
 538              		.thumb
 539              		.thumb_func
 541              	inc_lock:
 542              	.LVL56:
 543              	.LFB343:
 805:Middlewares/Third_Party/FatFs/src/ff.c **** 
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 
 807:Middlewares/Third_Party/FatFs/src/ff.c **** static
 808:Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 809:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 811:Middlewares/Third_Party/FatFs/src/ff.c **** )
 812:Middlewares/Third_Party/FatFs/src/ff.c **** {
 544              		.loc 1 812 1 is_stmt 1 view -0
 545              		.cfi_startproc
 546              		@ args = 0, pretend = 0, frame = 0
 547              		@ frame_needed = 0, uses_anonymous_args = 0
 548              		@ link register save eliminated.
 549              		.loc 1 812 1 is_stmt 0 view .LVU151
 550 0000 70B4     		push	{r4, r5, r6}
 551              	.LCFI3:
 552              		.cfi_def_cfa_offset 12
ARM GAS  C:\usertemp\ccmutrvj.s 			page 25


 553              		.cfi_offset 4, -12
 554              		.cfi_offset 5, -8
 555              		.cfi_offset 6, -4
 813:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 556              		.loc 1 813 2 is_stmt 1 view .LVU152
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 557              		.loc 1 816 2 view .LVU153
 558              	.LVL57:
 559              		.loc 1 816 9 is_stmt 0 view .LVU154
 560 0002 0023     		movs	r3, #0
 561              		.loc 1 816 2 view .LVU155
 562 0004 00E0     		b	.L41
 563              	.LVL58:
 564              	.L42:
 565              		.loc 1 816 29 is_stmt 1 discriminator 2 view .LVU156
 566 0006 0133     		adds	r3, r3, #1
 567              	.LVL59:
 568              	.L41:
 569              		.loc 1 816 16 discriminator 1 view .LVU157
 570 0008 042B     		cmp	r3, #4
 571 000a 13D8     		bhi	.L43
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 572              		.loc 1 817 3 view .LVU158
 573              		.loc 1 817 15 is_stmt 0 view .LVU159
 574 000c 1A01     		lsls	r2, r3, #4
 575 000e 244C     		ldr	r4, .L57
 576 0010 A458     		ldr	r4, [r4, r2]
 577              		.loc 1 817 29 view .LVU160
 578 0012 0268     		ldr	r2, [r0]
 579              		.loc 1 817 6 view .LVU161
 580 0014 9442     		cmp	r4, r2
 581 0016 F6D1     		bne	.L42
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 582              		.loc 1 818 12 view .LVU162
 583 0018 214A     		ldr	r2, .L57
 584 001a 02EB0312 		add	r2, r2, r3, lsl #4
 585 001e 5468     		ldr	r4, [r2, #4]
 586              		.loc 1 818 27 view .LVU163
 587 0020 8268     		ldr	r2, [r0, #8]
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 588              		.loc 1 817 33 discriminator 1 view .LVU164
 589 0022 9442     		cmp	r4, r2
 590 0024 EFD1     		bne	.L42
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].ofs == dp->dptr) break;
 591              		.loc 1 819 12 view .LVU165
 592 0026 1E4A     		ldr	r2, .L57
 593 0028 02EB0312 		add	r2, r2, r3, lsl #4
 594 002c 9468     		ldr	r4, [r2, #8]
 595              		.loc 1 819 22 view .LVU166
 596 002e 4269     		ldr	r2, [r0, #20]
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 597              		.loc 1 818 35 view .LVU167
 598 0030 9442     		cmp	r4, r2
 599 0032 E8D1     		bne	.L42
 600              	.L43:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 26


 820:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 601              		.loc 1 822 2 is_stmt 1 view .LVU168
 602              		.loc 1 822 5 is_stmt 0 view .LVU169
 603 0034 052B     		cmp	r3, #5
 604 0036 1FD0     		beq	.L56
 605              	.LVL60:
 606              	.L46:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 829:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 830:Middlewares/Third_Party/FatFs/src/ff.c **** 
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 607              		.loc 1 831 2 is_stmt 1 view .LVU170
 608              		.loc 1 831 5 is_stmt 0 view .LVU171
 609 0038 01B3     		cbz	r1, .L50
 610              		.loc 1 831 21 discriminator 1 view .LVU172
 611 003a 194A     		ldr	r2, .L57
 612 003c 02EB0312 		add	r2, r2, r3, lsl #4
 613 0040 9289     		ldrh	r2, [r2, #12]
 614              		.loc 1 831 10 discriminator 1 view .LVU173
 615 0042 52BB     		cbnz	r2, .L54
 832:Middlewares/Third_Party/FatFs/src/ff.c **** 
 833:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 616              		.loc 1 833 15 discriminator 2 view .LVU174
 617 0044 4FF48072 		mov	r2, #256
 618 0048 1EE0     		b	.L51
 619              	.LVL61:
 620              	.L48:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 621              		.loc 1 823 45 is_stmt 1 discriminator 4 view .LVU175
 622 004a 0133     		adds	r3, r3, #1
 623              	.LVL62:
 624              	.L45:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 625              		.loc 1 823 28 discriminator 1 view .LVU176
 626 004c 042B     		cmp	r3, #4
 627 004e 04D8     		bhi	.L47
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 628              		.loc 1 823 39 is_stmt 0 discriminator 3 view .LVU177
 629 0050 1A01     		lsls	r2, r3, #4
 630 0052 134C     		ldr	r4, .L57
 631 0054 A258     		ldr	r2, [r4, r2]
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 632              		.loc 1 823 28 discriminator 3 view .LVU178
 633 0056 002A     		cmp	r2, #0
 634 0058 F7D1     		bne	.L48
 635              	.L47:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 636              		.loc 1 824 3 is_stmt 1 view .LVU179
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 637              		.loc 1 824 6 is_stmt 0 view .LVU180
ARM GAS  C:\usertemp\ccmutrvj.s 			page 27


 638 005a 052B     		cmp	r3, #5
 639 005c 1BD0     		beq	.L53
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 640              		.loc 1 825 3 is_stmt 1 view .LVU181
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 641              		.loc 1 825 15 is_stmt 0 view .LVU182
 642 005e 104D     		ldr	r5, .L57
 643 0060 1C01     		lsls	r4, r3, #4
 644 0062 05EB0312 		add	r2, r5, r3, lsl #4
 645 0066 0668     		ldr	r6, [r0]
 646 0068 2E51     		str	r6, [r5, r4]
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 647              		.loc 1 826 3 is_stmt 1 view .LVU183
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 648              		.loc 1 826 25 is_stmt 0 view .LVU184
 649 006a 8468     		ldr	r4, [r0, #8]
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 650              		.loc 1 826 16 view .LVU185
 651 006c 5460     		str	r4, [r2, #4]
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 652              		.loc 1 827 3 is_stmt 1 view .LVU186
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 653              		.loc 1 827 20 is_stmt 0 view .LVU187
 654 006e 4069     		ldr	r0, [r0, #20]
 655              	.LVL63:
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 656              		.loc 1 827 16 view .LVU188
 657 0070 9060     		str	r0, [r2, #8]
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 658              		.loc 1 828 3 is_stmt 1 view .LVU189
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 659              		.loc 1 828 16 is_stmt 0 view .LVU190
 660 0072 0020     		movs	r0, #0
 661 0074 9081     		strh	r0, [r2, #12]	@ movhi
 662 0076 DFE7     		b	.L46
 663              	.LVL64:
 664              	.L56:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 665              		.loc 1 823 10 view .LVU191
 666 0078 0023     		movs	r3, #0
 667              	.LVL65:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 668              		.loc 1 823 10 view .LVU192
 669 007a E7E7     		b	.L45
 670              	.LVL66:
 671              	.L50:
 672              		.loc 1 833 39 discriminator 1 view .LVU193
 673 007c 084A     		ldr	r2, .L57
 674 007e 02EB0312 		add	r2, r2, r3, lsl #4
 675 0082 9289     		ldrh	r2, [r2, #12]
 676              		.loc 1 833 15 discriminator 1 view .LVU194
 677 0084 0132     		adds	r2, r2, #1
 678 0086 92B2     		uxth	r2, r2
 679              	.L51:
 680              		.loc 1 833 15 discriminator 4 view .LVU195
 681 0088 0549     		ldr	r1, .L57
 682              	.LVL67:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 28


 683              		.loc 1 833 15 discriminator 4 view .LVU196
 684 008a 01EB0311 		add	r1, r1, r3, lsl #4
 685 008e 8A81     		strh	r2, [r1, #12]	@ movhi
 834:Middlewares/Third_Party/FatFs/src/ff.c **** 
 835:Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 686              		.loc 1 835 2 is_stmt 1 view .LVU197
 687              		.loc 1 835 11 is_stmt 0 view .LVU198
 688 0090 581C     		adds	r0, r3, #1
 689              	.L40:
 836:Middlewares/Third_Party/FatFs/src/ff.c **** }
 690              		.loc 1 836 1 view .LVU199
 691 0092 70BC     		pop	{r4, r5, r6}
 692              	.LCFI4:
 693              		.cfi_remember_state
 694              		.cfi_restore 6
 695              		.cfi_restore 5
 696              		.cfi_restore 4
 697              		.cfi_def_cfa_offset 0
 698 0094 7047     		bx	lr
 699              	.LVL68:
 700              	.L53:
 701              	.LCFI5:
 702              		.cfi_restore_state
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 703              		.loc 1 824 29 discriminator 1 view .LVU200
 704 0096 0020     		movs	r0, #0
 705              	.LVL69:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 706              		.loc 1 824 29 discriminator 1 view .LVU201
 707 0098 FBE7     		b	.L40
 708              	.L54:
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 
 709              		.loc 1 831 34 discriminator 2 view .LVU202
 710 009a 0020     		movs	r0, #0
 711 009c F9E7     		b	.L40
 712              	.L58:
 713 009e 00BF     		.align	2
 714              	.L57:
 715 00a0 00000000 		.word	Files
 716              		.cfi_endproc
 717              	.LFE343:
 719              		.section	.text.dec_lock,"ax",%progbits
 720              		.align	1
 721              		.syntax unified
 722              		.thumb
 723              		.thumb_func
 725              	dec_lock:
 726              	.LVL70:
 727              	.LFB344:
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 
 838:Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:Middlewares/Third_Party/FatFs/src/ff.c **** static
 840:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 842:Middlewares/Third_Party/FatFs/src/ff.c **** )
 843:Middlewares/Third_Party/FatFs/src/ff.c **** {
 728              		.loc 1 843 1 is_stmt 1 view -0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 29


 729              		.cfi_startproc
 730              		@ args = 0, pretend = 0, frame = 0
 731              		@ frame_needed = 0, uses_anonymous_args = 0
 732              		@ link register save eliminated.
 844:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
 733              		.loc 1 844 2 view .LVU204
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 734              		.loc 1 845 2 view .LVU205
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 735              		.loc 1 848 2 view .LVU206
 736              		.loc 1 848 5 is_stmt 0 view .LVU207
 737 0000 0138     		subs	r0, r0, #1
 738              	.LVL71:
 739              		.loc 1 848 5 view .LVU208
 740 0002 0428     		cmp	r0, #4
 741 0004 15D8     		bhi	.L63
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
 742              		.loc 1 849 3 is_stmt 1 view .LVU209
 743              		.loc 1 849 5 is_stmt 0 view .LVU210
 744 0006 0D4B     		ldr	r3, .L66
 745 0008 03EB0013 		add	r3, r3, r0, lsl #4
 746 000c 9B89     		ldrh	r3, [r3, #12]
 747              	.LVL72:
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 748              		.loc 1 850 3 is_stmt 1 view .LVU211
 749              		.loc 1 850 6 is_stmt 0 view .LVU212
 750 000e B3F5807F 		cmp	r3, #256
 751 0012 03D0     		beq	.L64
 851:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n > 0) n--;				/* Decrement read mode open count */
 752              		.loc 1 851 3 is_stmt 1 view .LVU213
 753              		.loc 1 851 6 is_stmt 0 view .LVU214
 754 0014 43B1     		cbz	r3, .L62
 755              		.loc 1 851 14 is_stmt 1 discriminator 1 view .LVU215
 756              		.loc 1 851 15 is_stmt 0 discriminator 1 view .LVU216
 757 0016 013B     		subs	r3, r3, #1
 758              	.LVL73:
 759              		.loc 1 851 15 discriminator 1 view .LVU217
 760 0018 9BB2     		uxth	r3, r3
 761              	.LVL74:
 762              		.loc 1 851 15 discriminator 1 view .LVU218
 763 001a 00E0     		b	.L61
 764              	.L64:
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 765              		.loc 1 850 21 discriminator 1 view .LVU219
 766 001c 0023     		movs	r3, #0
 767              	.LVL75:
 768              	.L61:
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 769              		.loc 1 852 3 is_stmt 1 view .LVU220
 770              		.loc 1 852 16 is_stmt 0 view .LVU221
 771 001e 074A     		ldr	r2, .L66
 772 0020 02EB0012 		add	r2, r2, r0, lsl #4
 773 0024 9381     		strh	r3, [r2, #12]	@ movhi
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 774              		.loc 1 853 3 is_stmt 1 view .LVU222
ARM GAS  C:\usertemp\ccmutrvj.s 			page 30


 775              		.loc 1 853 6 is_stmt 0 view .LVU223
 776 0026 33B9     		cbnz	r3, .L65
 777              	.L62:
 778              	.LVL76:
 779              		.loc 1 853 15 is_stmt 1 discriminator 1 view .LVU224
 780              		.loc 1 853 27 is_stmt 0 discriminator 1 view .LVU225
 781 0028 0301     		lsls	r3, r0, #4
 782 002a 0020     		movs	r0, #0
 783              	.LVL77:
 784              		.loc 1 853 27 discriminator 1 view .LVU226
 785 002c 034A     		ldr	r2, .L66
 786 002e D050     		str	r0, [r2, r3]
 787 0030 7047     		bx	lr
 788              	.LVL78:
 789              	.L63:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 855:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 856:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 790              		.loc 1 856 7 view .LVU227
 791 0032 0220     		movs	r0, #2
 792              	.LVL79:
 793              		.loc 1 856 7 view .LVU228
 794 0034 7047     		bx	lr
 795              	.LVL80:
 796              	.L65:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 797              		.loc 1 854 7 view .LVU229
 798 0036 0020     		movs	r0, #0
 799              	.LVL81:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 800              		.loc 1 858 2 is_stmt 1 view .LVU230
 859:Middlewares/Third_Party/FatFs/src/ff.c **** }
 801              		.loc 1 859 1 is_stmt 0 view .LVU231
 802 0038 7047     		bx	lr
 803              	.L67:
 804 003a 00BF     		.align	2
 805              	.L66:
 806 003c 00000000 		.word	Files
 807              		.cfi_endproc
 808              	.LFE344:
 810              		.section	.text.clear_lock,"ax",%progbits
 811              		.align	1
 812              		.syntax unified
 813              		.thumb
 814              		.thumb_func
 816              	clear_lock:
 817              	.LVL82:
 818              	.LFB345:
 860:Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:Middlewares/Third_Party/FatFs/src/ff.c **** 
 862:Middlewares/Third_Party/FatFs/src/ff.c **** static
 863:Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
 864:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 865:Middlewares/Third_Party/FatFs/src/ff.c **** )
 866:Middlewares/Third_Party/FatFs/src/ff.c **** {
 819              		.loc 1 866 1 is_stmt 1 view -0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 31


 820              		.cfi_startproc
 821              		@ args = 0, pretend = 0, frame = 0
 822              		@ frame_needed = 0, uses_anonymous_args = 0
 823              		@ link register save eliminated.
 867:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 824              		.loc 1 867 2 view .LVU233
 868:Middlewares/Third_Party/FatFs/src/ff.c **** 
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 825              		.loc 1 869 2 view .LVU234
 826              		.loc 1 869 9 is_stmt 0 view .LVU235
 827 0000 0023     		movs	r3, #0
 828              		.loc 1 869 2 view .LVU236
 829 0002 03E0     		b	.L73
 830              	.LVL83:
 831              	.L80:
 832              	.LCFI6:
 833              		.cfi_def_cfa_offset 4
 834              		.cfi_offset 4, -4
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 871:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 872:Middlewares/Third_Party/FatFs/src/ff.c **** }
 835              		.loc 1 872 1 view .LVU237
 836 0004 5DF8044B 		ldr	r4, [sp], #4
 837              	.LCFI7:
 838              		.cfi_restore 4
 839              		.cfi_def_cfa_offset 0
 840 0008 7047     		bx	lr
 841              	.L79:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 842              		.loc 1 869 29 is_stmt 1 discriminator 2 view .LVU238
 843 000a 0133     		adds	r3, r3, #1
 844              	.LVL84:
 845              	.L73:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 846              		.loc 1 869 16 discriminator 1 view .LVU239
 847 000c 042B     		cmp	r3, #4
 848 000e 11D8     		bhi	.L78
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 849              		.loc 1 870 3 view .LVU240
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 850              		.loc 1 870 15 is_stmt 0 view .LVU241
 851 0010 1A01     		lsls	r2, r3, #4
 852 0012 0949     		ldr	r1, .L81
 853 0014 8A58     		ldr	r2, [r1, r2]
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 854              		.loc 1 870 6 view .LVU242
 855 0016 8242     		cmp	r2, r0
 856 0018 F7D1     		bne	.L79
 866:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 857              		.loc 1 866 1 view .LVU243
 858 001a 10B4     		push	{r4}
 859              	.LCFI8:
 860              		.cfi_def_cfa_offset 4
 861              		.cfi_offset 4, -4
 862              	.L74:
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 863              		.loc 1 870 26 is_stmt 1 discriminator 1 view .LVU244
ARM GAS  C:\usertemp\ccmutrvj.s 			page 32


 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 864              		.loc 1 870 38 is_stmt 0 discriminator 1 view .LVU245
 865 001c 1A01     		lsls	r2, r3, #4
 866 001e 0024     		movs	r4, #0
 867 0020 8C50     		str	r4, [r1, r2]
 868              	.L70:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 869              		.loc 1 869 29 is_stmt 1 discriminator 2 view .LVU246
 870 0022 0133     		adds	r3, r3, #1
 871              	.LVL85:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 872              		.loc 1 869 16 discriminator 1 view .LVU247
 873 0024 042B     		cmp	r3, #4
 874 0026 EDD8     		bhi	.L80
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 875              		.loc 1 870 3 view .LVU248
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 876              		.loc 1 870 15 is_stmt 0 view .LVU249
 877 0028 1A01     		lsls	r2, r3, #4
 878 002a 0349     		ldr	r1, .L81
 879 002c 8A58     		ldr	r2, [r1, r2]
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 880              		.loc 1 870 6 view .LVU250
 881 002e 8242     		cmp	r2, r0
 882 0030 F7D1     		bne	.L70
 883 0032 F3E7     		b	.L74
 884              	.L78:
 885              	.LCFI9:
 886              		.cfi_def_cfa_offset 0
 887              		.cfi_restore 4
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 888              		.loc 1 870 6 view .LVU251
 889 0034 7047     		bx	lr
 890              	.L82:
 891 0036 00BF     		.align	2
 892              	.L81:
 893 0038 00000000 		.word	Files
 894              		.cfi_endproc
 895              	.LFE345:
 897              		.section	.text.clust2sect,"ax",%progbits
 898              		.align	1
 899              		.syntax unified
 900              		.thumb
 901              		.thumb_func
 903              	clust2sect:
 904              	.LVL86:
 905              	.LFB349:
 873:Middlewares/Third_Party/FatFs/src/ff.c **** 
 874:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_LOCK != 0 */
 875:Middlewares/Third_Party/FatFs/src/ff.c **** 
 876:Middlewares/Third_Party/FatFs/src/ff.c **** 
 877:Middlewares/Third_Party/FatFs/src/ff.c **** 
 878:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 879:Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 880:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 881:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 882:Middlewares/Third_Party/FatFs/src/ff.c **** static
ARM GAS  C:\usertemp\ccmutrvj.s 			page 33


 883:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (	/* Returns FR_OK or FR_DISK_ERROR */
 884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs			/* File system object */
 885:Middlewares/Third_Party/FatFs/src/ff.c **** )
 886:Middlewares/Third_Party/FatFs/src/ff.c **** {
 887:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 888:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 890:Middlewares/Third_Party/FatFs/src/ff.c **** 
 891:Middlewares/Third_Party/FatFs/src/ff.c **** 
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 903:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 904:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 907:Middlewares/Third_Party/FatFs/src/ff.c **** }
 908:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 
 911:Middlewares/Third_Party/FatFs/src/ff.c **** static
 912:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (	/* Returns FR_OK or FR_DISK_ERROR */
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector		/* Sector number to make appearance in the fs->win[] */
 915:Middlewares/Third_Party/FatFs/src/ff.c **** )
 916:Middlewares/Third_Party/FatFs/src/ff.c **** {
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 921:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 922:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 923:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 928:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 930:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 931:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 932:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 933:Middlewares/Third_Party/FatFs/src/ff.c **** }
 934:Middlewares/Third_Party/FatFs/src/ff.c **** 
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 936:Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 939:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  C:\usertemp\ccmutrvj.s 			page 34


 940:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 941:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 942:Middlewares/Third_Party/FatFs/src/ff.c **** 
 943:Middlewares/Third_Party/FatFs/src/ff.c **** static
 944:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK:succeeded, !=0:error */
 945:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 946:Middlewares/Third_Party/FatFs/src/ff.c **** )
 947:Middlewares/Third_Party/FatFs/src/ff.c **** {
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 949:Middlewares/Third_Party/FatFs/src/ff.c **** 
 950:Middlewares/Third_Party/FatFs/src/ff.c **** 
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 955:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win, 0, SS(fs));
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 962:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK) res = FR_DISK_ERR;
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 972:Middlewares/Third_Party/FatFs/src/ff.c **** }
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 974:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 975:Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:Middlewares/Third_Party/FatFs/src/ff.c **** 
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 
 978:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 979:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 980:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 
 982:Middlewares/Third_Party/FatFs/src/ff.c **** static
 983:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0:Sector number, 0:Failed (invalid cluster#) */
 984:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 986:Middlewares/Third_Party/FatFs/src/ff.c **** )
 987:Middlewares/Third_Party/FatFs/src/ff.c **** {
 906              		.loc 1 987 1 is_stmt 1 view -0
 907              		.cfi_startproc
 908              		@ args = 0, pretend = 0, frame = 0
 909              		@ frame_needed = 0, uses_anonymous_args = 0
 910              		@ link register save eliminated.
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 911              		.loc 1 988 2 view .LVU253
 912              		.loc 1 988 7 is_stmt 0 view .LVU254
 913 0000 0239     		subs	r1, r1, #2
ARM GAS  C:\usertemp\ccmutrvj.s 			page 35


 914              	.LVL87:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 915              		.loc 1 989 2 is_stmt 1 view .LVU255
 916              		.loc 1 989 16 is_stmt 0 view .LVU256
 917 0002 8369     		ldr	r3, [r0, #24]
 918              		.loc 1 989 27 view .LVU257
 919 0004 023B     		subs	r3, r3, #2
 920              		.loc 1 989 5 view .LVU258
 921 0006 8B42     		cmp	r3, r1
 922 0008 04D9     		bls	.L85
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 923              		.loc 1 990 2 is_stmt 1 view .LVU259
 924              		.loc 1 990 18 is_stmt 0 view .LVU260
 925 000a 4389     		ldrh	r3, [r0, #10]
 926              		.loc 1 990 30 view .LVU261
 927 000c C06A     		ldr	r0, [r0, #44]
 928              	.LVL88:
 929              		.loc 1 990 26 view .LVU262
 930 000e 01FB0300 		mla	r0, r1, r3, r0
 931 0012 7047     		bx	lr
 932              	.LVL89:
 933              	.L85:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 934              		.loc 1 989 39 discriminator 1 view .LVU263
 935 0014 0020     		movs	r0, #0
 936              	.LVL90:
 991:Middlewares/Third_Party/FatFs/src/ff.c **** }
 937              		.loc 1 991 1 view .LVU264
 938 0016 7047     		bx	lr
 939              		.cfi_endproc
 940              	.LFE349:
 942              		.section	.text.clmt_clust,"ax",%progbits
 943              		.align	1
 944              		.syntax unified
 945              		.thumb
 946              		.thumb_func
 948              	clmt_clust:
 949              	.LVL91:
 950              	.LFB354:
 992:Middlewares/Third_Party/FatFs/src/ff.c **** 
 993:Middlewares/Third_Party/FatFs/src/ff.c **** 
 994:Middlewares/Third_Party/FatFs/src/ff.c **** 
 995:Middlewares/Third_Party/FatFs/src/ff.c **** 
 996:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 997:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 998:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 999:Middlewares/Third_Party/FatFs/src/ff.c **** 
1000:Middlewares/Third_Party/FatFs/src/ff.c **** static
1001:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x7FFFFFFF:Cluster status */
1002:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Corresponding object */
1003:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* Cluster number to get the value */
1004:Middlewares/Third_Party/FatFs/src/ff.c **** )
1005:Middlewares/Third_Party/FatFs/src/ff.c **** {
1006:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
1007:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1009:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 36


1010:Middlewares/Third_Party/FatFs/src/ff.c **** 
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check if in valid range */
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
1013:Middlewares/Third_Party/FatFs/src/ff.c **** 
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
1016:Middlewares/Third_Party/FatFs/src/ff.c **** 
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
1018:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1036:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1037:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1038:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->objsize) {
1039:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD cofs = clst - obj->sclust;	/* Offset from start cluster */
1040:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD clen = (DWORD)((obj->objsize - 1) / SS(fs)) / fs->csize;	/* Number of clusters - 1 */
1041:Middlewares/Third_Party/FatFs/src/ff.c **** 
1042:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 2) {	/* Is there no valid chain on the FAT? */
1043:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cofs <= clen) {
1044:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = (cofs == clen) ? 0x7FFFFFFF : clst + 1;	/* Generate the value */
1045:Middlewares/Third_Party/FatFs/src/ff.c **** 						break;
1046:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1047:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1048:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 3 && cofs < obj->n_cont) {	/* Is it in the 1st fragment? */
1049:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = clst + 1; 	/* Generate the value */
1050:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1051:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1052:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat != 2) {	/* Get value from FAT if FAT chain is valid */
1053:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->n_frag != 0) {	/* Is it on the growing edge? */
1054:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = 0x7FFFFFFF;	/* Generate EOC */
1055:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
1056:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1057:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x7FFFFFFF;
1058:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1059:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1060:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1061:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1062:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* go to default */
1063:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1064:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
1066:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 37


1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
1070:Middlewares/Third_Party/FatFs/src/ff.c **** }
1071:Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 
1075:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1076:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1077:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
1078:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 
1080:Middlewares/Third_Party/FatFs/src/ff.c **** static
1081:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (	/* FR_OK(0):succeeded, !=0:error */
1082:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Corresponding file system object */
1083:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,		/* FAT index number (cluster number) to be changed */
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val		/* New value to be set to the entry */
1085:Middlewares/Third_Party/FatFs/src/ff.c **** )
1086:Middlewares/Third_Party/FatFs/src/ff.c **** {
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
1090:Middlewares/Third_Party/FatFs/src/ff.c **** 
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= 2 && clst < fs->n_fatent) {	/* Check if in valid range */
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 
1107:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :	/* WORD aligned items */
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1113:Middlewares/Third_Party/FatFs/src/ff.c **** 
1114:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :	/* DWORD aligned items */
1115:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1116:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1117:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1120:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
1122:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + clst * 4 % SS(fs), val);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 38


1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1125:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1126:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1127:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1128:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1129:Middlewares/Third_Party/FatFs/src/ff.c **** }
1130:Middlewares/Third_Party/FatFs/src/ff.c **** 
1131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1132:Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 
1134:Middlewares/Third_Party/FatFs/src/ff.c **** 
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 
1136:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
1137:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1138:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Accessing FAT and Allocation Bitmap                            */
1139:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1140:Middlewares/Third_Party/FatFs/src/ff.c **** 
1141:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1142:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find a contiguous free cluster block */
1143:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1144:Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:Middlewares/Third_Party/FatFs/src/ff.c **** static
1146:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD find_bitmap (	/* 0:Not found, 2..:Cluster block found, 0xFFFFFFFF:Disk error */
1147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to scan from */
1149:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl	/* Number of contiguous clusters to find (1..) */
1150:Middlewares/Third_Party/FatFs/src/ff.c **** )
1151:Middlewares/Third_Party/FatFs/src/ff.c **** {
1152:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm, bv;
1153:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1154:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val, scl, ctr;
1155:Middlewares/Third_Party/FatFs/src/ff.c **** 
1156:Middlewares/Third_Party/FatFs/src/ff.c **** 
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit in the bitmap corresponds to cluster #2 */
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) clst = 0;
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 	scl = val = clst; ctr = 0;
1160:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1161:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fs->database + val / 8 / SS(fs)) != FR_OK) return 0xFFFFFFFF;	/* (assuming bi
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = val / 8 % SS(fs); bm = 1 << (val % 8);
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 				bv = fs->win[i] & bm; bm <<= 1;		/* Get bit value */
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++val >= fs->n_fatent - 2) {	/* Next cluster (with wrap-around) */
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = 0; bm = 0; i = SS(fs);
1168:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!bv) {	/* Is it a free cluster? */
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (++ctr == ncl) return scl + 2;	/* Check if run length is sufficient for required */
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 					scl = val; ctr = 0;		/* Encountered a cluster in-use, restart to scan */
1173:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1174:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (val == clst) return 0;	/* All cluster scanned? */
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm);
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1179:Middlewares/Third_Party/FatFs/src/ff.c **** }
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 39


1181:Middlewares/Third_Party/FatFs/src/ff.c **** 
1182:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1183:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set/Clear a block of allocation bitmap */
1184:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 
1186:Middlewares/Third_Party/FatFs/src/ff.c **** static
1187:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT change_bitmap (
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1189:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to change from */
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl,	/* Number of clusters to be changed */
1191:Middlewares/Third_Party/FatFs/src/ff.c **** 	int bv		/* bit value to be set (0 or 1) */
1192:Middlewares/Third_Party/FatFs/src/ff.c **** )
1193:Middlewares/Third_Party/FatFs/src/ff.c **** {
1194:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm;
1195:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1196:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect;
1197:Middlewares/Third_Party/FatFs/src/ff.c **** 
1198:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit corresponds to cluster #2 */
1199:Middlewares/Third_Party/FatFs/src/ff.c **** 	sect = fs->database + clst / 8 / SS(fs);	/* Sector address (assuming bitmap is located top of the 
1200:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = clst / 8 % SS(fs);						/* Byte offset in the sector */
1201:Middlewares/Third_Party/FatFs/src/ff.c **** 	bm = 1 << (clst % 8);						/* Bit mask in the byte */
1202:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1203:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect++) != FR_OK) return FR_DISK_ERR;
1204:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (bv == (int)((fs->win[i] & bm) != 0)) return FR_INT_ERR;	/* Is the bit expected value? */
1207:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->win[i] ^= bm;	/* Flip the bit */
1208:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
1209:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--ncl == 0) return FR_OK;	/* All bits processed? */
1210:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm <<= 1);		/* Next bit */
1211:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1212:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));		/* Next byte */
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1215:Middlewares/Third_Party/FatFs/src/ff.c **** }
1216:Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 
1218:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1219:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the first fragment of the FAT chain    */
1220:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 
1222:Middlewares/Third_Party/FatFs/src/ff.c **** static
1223:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_first_frag (
1224:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj	/* Pointer to the corresponding object */
1225:Middlewares/Third_Party/FatFs/src/ff.c **** )
1226:Middlewares/Third_Party/FatFs/src/ff.c **** {
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, n;
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 
1230:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj->stat == 3) {	/* Has the object been changed 'fragmented'? */
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (cl = obj->sclust, n = obj->n_cont; n; cl++, n--) {	/* Create cluster chain on the FAT */
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(obj->fs, cl, cl + 1);
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = 0;	/* Change status 'FAT chain is valid' */
1236:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 40


1238:Middlewares/Third_Party/FatFs/src/ff.c **** }
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 
1241:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1242:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the last fragment of the FAT chain     */
1243:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1244:Middlewares/Third_Party/FatFs/src/ff.c **** 
1245:Middlewares/Third_Party/FatFs/src/ff.c **** static
1246:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_last_frag (
1247:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Pointer to the corresponding object */
1248:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD lcl,	/* Last cluster of the fragment */
1249:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD term	/* Value to set the last FAT entry */
1250:Middlewares/Third_Party/FatFs/src/ff.c **** )
1251:Middlewares/Third_Party/FatFs/src/ff.c **** {
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1253:Middlewares/Third_Party/FatFs/src/ff.c **** 
1254:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (obj->n_frag > 0) {	/* Create the last chain on the FAT */
1255:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(obj->fs, lcl - obj->n_frag + 1, (obj->n_frag > 1) ? lcl - obj->n_frag + 2 : term);
1256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->n_frag--;
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1259:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
1261:Middlewares/Third_Party/FatFs/src/ff.c **** 
1262:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT && !_FS_READONLY */
1263:Middlewares/Third_Party/FatFs/src/ff.c **** 
1264:Middlewares/Third_Party/FatFs/src/ff.c **** 
1265:Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1267:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1268:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1269:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1270:Middlewares/Third_Party/FatFs/src/ff.c **** static
1271:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (	/* FR_OK(0):succeeded, !=0:error */
1272:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1273:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,			/* Cluster to remove a chain from */
1274:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD pclst			/* Previous cluster of clst (0:an entire chain) */
1275:Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:Middlewares/Third_Party/FatFs/src/ff.c **** {
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1279:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1280:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst;
1282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1283:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rt[2];
1285:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Check if in valid range */
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 
1289:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Mark the previous cluster 'EOC' on the FAT if it exists */
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (pclst && (!_FS_EXFAT || fs->fs_type != FS_EXFAT || obj->stat != 2)) {
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1294:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 41


1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Remove the chain */
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1304:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst < fs->n_fatent - 2) {	/* Update FSINFO */
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
1308:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1309:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1310:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1311:Middlewares/Third_Party/FatFs/src/ff.c **** 			ecl = nxt;
1312:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* End of contiguous cluster block */
1313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1314:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, ecl - scl + 1, 0);	/* Mark the cluster block 'free' on the bitmap 
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) return res;
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1318:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1319:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1320:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[0] = clust2sect(fs, scl);					/* Start sector */
1321:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
1322:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Inform device the block can be erased */
1323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1324:Middlewares/Third_Party/FatFs/src/ff.c **** 			scl = ecl = nxt;
1325:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1326:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = nxt;					/* Next cluster */
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
1329:Middlewares/Third_Party/FatFs/src/ff.c **** 
1330:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
1332:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pclst == 0) {	/* Does the object have no chain? */
1333:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 0;		/* Change the object status 'initial' */
1334:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 3 && pclst >= obj->sclust && pclst <= obj->sclust + obj->n_cont) {	/* Did the c
1336:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 2;	/* Change the object status 'contiguous' */
1337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1340:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1342:Middlewares/Third_Party/FatFs/src/ff.c **** }
1343:Middlewares/Third_Party/FatFs/src/ff.c **** 
1344:Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:Middlewares/Third_Party/FatFs/src/ff.c **** 
1347:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1348:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch a chain or Create a new chain                  */
1349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1350:Middlewares/Third_Party/FatFs/src/ff.c **** static
1351:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
ARM GAS  C:\usertemp\ccmutrvj.s 			page 42


1352:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1353:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch, 0:Create a new chain */
1354:Middlewares/Third_Party/FatFs/src/ff.c **** )
1355:Middlewares/Third_Party/FatFs/src/ff.c **** {
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1359:Middlewares/Third_Party/FatFs/src/ff.c **** 
1360:Middlewares/Third_Party/FatFs/src/ff.c **** 
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Create a new chain */
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
1364:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1365:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Stretch current chain */
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(obj, clst);			/* Check the cluster status */
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
1371:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1372:Middlewares/Third_Party/FatFs/src/ff.c **** 
1373:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
1375:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = find_bitmap(fs, scl, 1);				/* Find a free cluster */
1376:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0 || ncl == 0xFFFFFFFF) return ncl;	/* No free cluster or hard error? */
1377:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = change_bitmap(fs, ncl, 1, 1);			/* Mark the cluster 'in use' */
1378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_INT_ERR) return 1;
1379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_DISK_ERR) return 0xFFFFFFFF;
1380:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (clst == 0) {							/* Is it a new chain? */
1381:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 2;							/* Set status 'contiguous' */
1382:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {									/* It is a stretched chain */
1383:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 2 && ncl != scl + 1) {	/* Is the chain got fragmented? */
1384:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_cont = scl - obj->sclust;	/* Set size of the contiguous part */
1385:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 3;						/* Change status 'just fragmented' */
1386:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1387:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1388:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (obj->stat != 2) {	/* Is the file non-contiguous? */
1389:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == clst + 1) {	/* Is the cluster next to previous one? */
1390:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_frag = obj->n_frag ? obj->n_frag + 1 : 2;	/* Increment size of last framgent */
1391:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* New fragment */
1392:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->n_frag == 0) obj->n_frag = 1;
1393:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_last_frag(obj, clst, ncl);	/* Fill last fragment on the FAT and link it to new one *
1394:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) obj->n_frag = 1;
1395:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1396:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1397:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
1398:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1399:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = scl;	/* Start cluster */
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
1406:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			cs = get_fat(obj, ncl);			/* Get the cluster status */
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 43


1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
1411:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, ncl, 0xFFFFFFFF);	/* Mark the new cluster 'EOC' */
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
1415:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1416:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1417:Middlewares/Third_Party/FatFs/src/ff.c **** 
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {			/* Update FSINFO if function succeeded. */
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
1422:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;	/* Failed. Generate error status */
1424:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1425:Middlewares/Third_Party/FatFs/src/ff.c **** 
1426:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error status */
1427:Middlewares/Third_Party/FatFs/src/ff.c **** }
1428:Middlewares/Third_Party/FatFs/src/ff.c **** 
1429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1430:Middlewares/Third_Party/FatFs/src/ff.c **** 
1431:Middlewares/Third_Party/FatFs/src/ff.c **** 
1432:Middlewares/Third_Party/FatFs/src/ff.c **** 
1433:Middlewares/Third_Party/FatFs/src/ff.c **** 
1434:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1435:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1436:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1437:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1438:Middlewares/Third_Party/FatFs/src/ff.c **** 
1439:Middlewares/Third_Party/FatFs/src/ff.c **** static
1440:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1441:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1442:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File offset to be converted to cluster# */
1443:Middlewares/Third_Party/FatFs/src/ff.c **** )
1444:Middlewares/Third_Party/FatFs/src/ff.c **** {
 951              		.loc 1 1444 1 is_stmt 1 view -0
 952              		.cfi_startproc
 953              		@ args = 0, pretend = 0, frame = 0
 954              		@ frame_needed = 0, uses_anonymous_args = 0
 955              		@ link register save eliminated.
1445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
 956              		.loc 1 1445 2 view .LVU266
1446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = fp->obj.fs;
 957              		.loc 1 1446 2 view .LVU267
 958              		.loc 1 1446 9 is_stmt 0 view .LVU268
 959 0000 0268     		ldr	r2, [r0]
 960              	.LVL92:
1447:Middlewares/Third_Party/FatFs/src/ff.c **** 
1448:Middlewares/Third_Party/FatFs/src/ff.c **** 
1449:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 961              		.loc 1 1449 2 is_stmt 1 view .LVU269
 962              		.loc 1 1449 10 is_stmt 0 view .LVU270
 963 0002 C36A     		ldr	r3, [r0, #44]
 964              		.loc 1 1449 6 view .LVU271
 965 0004 0433     		adds	r3, r3, #4
 966              	.LVL93:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 44


1450:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = (DWORD)(ofs / SS(fs) / fs->csize);	/* Cluster order from top of the file */
 967              		.loc 1 1450 2 is_stmt 1 view .LVU272
 968              		.loc 1 1450 19 is_stmt 0 view .LVU273
 969 0006 490A     		lsrs	r1, r1, #9
 970              	.LVL94:
 971              		.loc 1 1450 32 view .LVU274
 972 0008 5289     		ldrh	r2, [r2, #10]
 973              	.LVL95:
 974              		.loc 1 1450 5 view .LVU275
 975 000a B1FBF2F1 		udiv	r1, r1, r2
 976              	.LVL96:
 977              		.loc 1 1450 5 view .LVU276
 978 000e 01E0     		b	.L89
 979              	.LVL97:
 980              	.L90:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
1455:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 981              		.loc 1 1455 3 is_stmt 1 view .LVU277
 982              		.loc 1 1455 6 is_stmt 0 view .LVU278
 983 0010 091A     		subs	r1, r1, r0
 984              	.LVL98:
 985              		.loc 1 1455 14 is_stmt 1 view .LVU279
 986              		.loc 1 1455 17 is_stmt 0 view .LVU280
 987 0012 0833     		adds	r3, r3, #8
 988              	.LVL99:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 989              		.loc 1 1451 2 is_stmt 1 view .LVU281
 990              	.L89:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 991              		.loc 1 1451 2 view .LVU282
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 992              		.loc 1 1452 3 view .LVU283
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 993              		.loc 1 1452 7 is_stmt 0 view .LVU284
 994 0014 1868     		ldr	r0, [r3]
 995              	.LVL100:
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 996              		.loc 1 1453 3 is_stmt 1 view .LVU285
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 997              		.loc 1 1453 6 is_stmt 0 view .LVU286
 998 0016 18B1     		cbz	r0, .L86
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 999              		.loc 1 1454 3 is_stmt 1 view .LVU287
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 1000              		.loc 1 1454 6 is_stmt 0 view .LVU288
 1001 0018 8142     		cmp	r1, r0
 1002 001a F9D2     		bcs	.L90
1456:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1457:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 1003              		.loc 1 1457 2 is_stmt 1 view .LVU289
 1004              		.loc 1 1457 14 is_stmt 0 view .LVU290
 1005 001c 5868     		ldr	r0, [r3, #4]
 1006              	.LVL101:
 1007              		.loc 1 1457 12 view .LVU291
ARM GAS  C:\usertemp\ccmutrvj.s 			page 45


 1008 001e 0844     		add	r0, r0, r1
 1009              	.L86:
1458:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1010              		.loc 1 1458 1 view .LVU292
 1011 0020 7047     		bx	lr
 1012              		.cfi_endproc
 1013              	.LFE354:
 1015              		.section	.text.ld_clust,"ax",%progbits
 1016              		.align	1
 1017              		.syntax unified
 1018              		.thumb
 1019              		.thumb_func
 1021              	ld_clust:
 1022              	.LVL102:
 1023              	.LFB358:
1459:Middlewares/Third_Party/FatFs/src/ff.c **** 
1460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
1461:Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:Middlewares/Third_Party/FatFs/src/ff.c **** 
1463:Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:Middlewares/Third_Party/FatFs/src/ff.c **** 
1465:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1466:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1467:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1468:Middlewares/Third_Party/FatFs/src/ff.c **** 
1469:Middlewares/Third_Party/FatFs/src/ff.c **** static
1470:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (	/* FR_OK(0):succeeded, !=0:error */
1471:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1472:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* Offset of directory table */
1473:Middlewares/Third_Party/FatFs/src/ff.c **** )
1474:Middlewares/Third_Party/FatFs/src/ff.c **** {
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1477:Middlewares/Third_Party/FatFs/src/ff.c **** 
1478:Middlewares/Third_Party/FatFs/src/ff.c **** 
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR) || ofs % SZDIRE)
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
1481:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;				/* Set current offset */
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
1487:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1488:Middlewares/Third_Party/FatFs/src/ff.c **** 
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
1492:Middlewares/Third_Party/FatFs/src/ff.c **** 
1493:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {			/* Dynamic table (sub-directory or root-directory in FAT32+) */
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		csz = (DWORD)fs->csize * SS(fs);	/* Bytes per cluster */
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
1500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 46


1501:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = clust2sect(fs, clst);
1502:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;					/* Current cluster# */
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
1507:Middlewares/Third_Party/FatFs/src/ff.c **** 
1508:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1509:Middlewares/Third_Party/FatFs/src/ff.c **** }
1510:Middlewares/Third_Party/FatFs/src/ff.c **** 
1511:Middlewares/Third_Party/FatFs/src/ff.c **** 
1512:Middlewares/Third_Party/FatFs/src/ff.c **** 
1513:Middlewares/Third_Party/FatFs/src/ff.c **** 
1514:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1515:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
1516:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1517:Middlewares/Third_Party/FatFs/src/ff.c **** 
1518:Middlewares/Third_Party/FatFs/src/ff.c **** static
1519:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK(0):succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1521:Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1522:Middlewares/Third_Party/FatFs/src/ff.c **** )
1523:Middlewares/Third_Party/FatFs/src/ff.c **** {
1524:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
1525:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1526:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1527:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1529:Middlewares/Third_Party/FatFs/src/ff.c **** 
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	ofs = dp->dptr + SZDIRE;	/* Next entry */
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs % SS(fs) == 0) {	/* Sector changed? */
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
1535:Middlewares/Third_Party/FatFs/src/ff.c **** 
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1540:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1541:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((ofs / SS(fs) & (fs->csize - 1)) == 0) {		/* Cluster changed? */
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
1547:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) {								/* If no stretch, report EOT */
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
1550:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&dp->obj, dp->clust);	/* Allocate a cluster */
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1555:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_EXFAT) dp->obj.stat |= 4;			/* The directory needs to be updated */
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 47


1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
1562:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1563:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect -= n;							/* Restore window offset */
1564:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1565:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) dp->sect = 0;					/* (this line is to suppress compiler warning) */
1566:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0; return FR_NO_FILE;			/* Report EOT */
1567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;		/* Initialize data for new cluster */
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
1571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1573:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;						/* Current entry */
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
1577:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1578:Middlewares/Third_Party/FatFs/src/ff.c **** }
1579:Middlewares/Third_Party/FatFs/src/ff.c **** 
1580:Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1584:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve a block of directory entries             */
1586:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1587:Middlewares/Third_Party/FatFs/src/ff.c **** 
1588:Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (	/* FR_OK(0):succeeded, !=0:error */
1590:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1591:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent		/* Number of contiguous entries to allocate */
1592:Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:Middlewares/Third_Party/FatFs/src/ff.c **** {
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1597:Middlewares/Third_Party/FatFs/src/ff.c **** 
1598:Middlewares/Third_Party/FatFs/src/ff.c **** 
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1605:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((fs->fs_type == FS_EXFAT) ? (int)((dp->dir[XDIR_Type] & 0x80) == 0) : (int)(dp->dir[DIR_Name
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1608:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[DIR_Name] == DDEM || dp->dir[DIR_Name] == 0) {
1609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
1611:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
1613:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 48


1615:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
1616:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1617:Middlewares/Third_Party/FatFs/src/ff.c **** 
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
1619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1620:Middlewares/Third_Party/FatFs/src/ff.c **** }
1621:Middlewares/Third_Party/FatFs/src/ff.c **** 
1622:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1623:Middlewares/Third_Party/FatFs/src/ff.c **** 
1624:Middlewares/Third_Party/FatFs/src/ff.c **** 
1625:Middlewares/Third_Party/FatFs/src/ff.c **** 
1626:Middlewares/Third_Party/FatFs/src/ff.c **** 
1627:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1628:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT: Directory handling - Load/Store start cluster number             */
1629:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 
1631:Middlewares/Third_Party/FatFs/src/ff.c **** static
1632:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (	/* Returns the top cluster value of the SFN entry */
1633:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Pointer to the fs object */
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir	/* Pointer to the key entry */
1635:Middlewares/Third_Party/FatFs/src/ff.c **** )
1636:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1024              		.loc 1 1636 1 is_stmt 1 view -0
 1025              		.cfi_startproc
 1026              		@ args = 0, pretend = 0, frame = 0
 1027              		@ frame_needed = 0, uses_anonymous_args = 0
 1028              		.loc 1 1636 1 is_stmt 0 view .LVU294
 1029 0000 70B5     		push	{r4, r5, r6, lr}
 1030              	.LCFI10:
 1031              		.cfi_def_cfa_offset 16
 1032              		.cfi_offset 4, -16
 1033              		.cfi_offset 5, -12
 1034              		.cfi_offset 6, -8
 1035              		.cfi_offset 14, -4
 1036 0002 0646     		mov	r6, r0
 1037 0004 0D46     		mov	r5, r1
1637:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
 1038              		.loc 1 1637 2 is_stmt 1 view .LVU295
1638:Middlewares/Third_Party/FatFs/src/ff.c **** 
1639:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ld_word(dir + DIR_FstClusLO);
 1039              		.loc 1 1639 2 view .LVU296
 1040              		.loc 1 1639 7 is_stmt 0 view .LVU297
 1041 0006 01F11A00 		add	r0, r1, #26
 1042              	.LVL103:
 1043              		.loc 1 1639 7 view .LVU298
 1044 000a FFF7FEFF 		bl	ld_word
 1045              	.LVL104:
1640:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 1046              		.loc 1 1640 2 is_stmt 1 view .LVU299
 1047              		.loc 1 1640 8 is_stmt 0 view .LVU300
 1048 000e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1049              		.loc 1 1640 5 view .LVU301
 1050 0010 032B     		cmp	r3, #3
 1051 0012 00D0     		beq	.L94
 1052              	.LVL105:
 1053              	.L91:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 49


1642:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1643:Middlewares/Third_Party/FatFs/src/ff.c **** 
1644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
1645:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1054              		.loc 1 1645 1 view .LVU302
 1055 0014 70BD     		pop	{r4, r5, r6, pc}
 1056              	.LVL106:
 1057              	.L94:
 1058              		.loc 1 1645 1 view .LVU303
 1059 0016 0446     		mov	r4, r0
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1060              		.loc 1 1641 3 is_stmt 1 view .LVU304
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1061              		.loc 1 1641 16 is_stmt 0 view .LVU305
 1062 0018 05F11400 		add	r0, r5, #20
 1063              	.LVL107:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1064              		.loc 1 1641 16 view .LVU306
 1065 001c FFF7FEFF 		bl	ld_word
 1066              	.LVL108:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1067              		.loc 1 1641 6 discriminator 1 view .LVU307
 1068 0020 44EA0040 		orr	r0, r4, r0, lsl #16
 1069              	.LVL109:
1644:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1070              		.loc 1 1644 2 is_stmt 1 view .LVU308
1644:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1071              		.loc 1 1644 9 is_stmt 0 view .LVU309
 1072 0024 F6E7     		b	.L91
 1073              		.cfi_endproc
 1074              	.LFE358:
 1076              		.section	.text.st_clust,"ax",%progbits
 1077              		.align	1
 1078              		.syntax unified
 1079              		.thumb
 1080              		.thumb_func
 1082              	st_clust:
 1083              	.LVL110:
 1084              	.LFB359:
1646:Middlewares/Third_Party/FatFs/src/ff.c **** 
1647:Middlewares/Third_Party/FatFs/src/ff.c **** 
1648:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1649:Middlewares/Third_Party/FatFs/src/ff.c **** static
1650:Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1652:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the key entry */
1653:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
1654:Middlewares/Third_Party/FatFs/src/ff.c **** )
1655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1085              		.loc 1 1655 1 is_stmt 1 view -0
 1086              		.cfi_startproc
 1087              		@ args = 0, pretend = 0, frame = 0
 1088              		@ frame_needed = 0, uses_anonymous_args = 0
 1089              		.loc 1 1655 1 is_stmt 0 view .LVU311
 1090 0000 70B5     		push	{r4, r5, r6, lr}
 1091              	.LCFI11:
 1092              		.cfi_def_cfa_offset 16
ARM GAS  C:\usertemp\ccmutrvj.s 			page 50


 1093              		.cfi_offset 4, -16
 1094              		.cfi_offset 5, -12
 1095              		.cfi_offset 6, -8
 1096              		.cfi_offset 14, -4
 1097 0002 0646     		mov	r6, r0
 1098 0004 0C46     		mov	r4, r1
 1099 0006 1546     		mov	r5, r2
1656:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + DIR_FstClusLO, (WORD)cl);
 1100              		.loc 1 1656 2 is_stmt 1 view .LVU312
 1101 0008 91B2     		uxth	r1, r2
 1102              	.LVL111:
 1103              		.loc 1 1656 2 is_stmt 0 view .LVU313
 1104 000a 04F11A00 		add	r0, r4, #26
 1105              	.LVL112:
 1106              		.loc 1 1656 2 view .LVU314
 1107 000e FFF7FEFF 		bl	st_word
 1108              	.LVL113:
1657:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 1109              		.loc 1 1657 2 is_stmt 1 view .LVU315
 1110              		.loc 1 1657 8 is_stmt 0 view .LVU316
 1111 0012 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1112              		.loc 1 1657 5 view .LVU317
 1113 0014 032B     		cmp	r3, #3
 1114 0016 00D0     		beq	.L98
 1115              	.L95:
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
1659:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1660:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1116              		.loc 1 1660 1 view .LVU318
 1117 0018 70BD     		pop	{r4, r5, r6, pc}
 1118              	.LVL114:
 1119              	.L98:
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 1120              		.loc 1 1658 3 is_stmt 1 view .LVU319
 1121 001a 290C     		lsrs	r1, r5, #16
 1122 001c 04F11400 		add	r0, r4, #20
 1123 0020 FFF7FEFF 		bl	st_word
 1124              	.LVL115:
 1125              		.loc 1 1660 1 is_stmt 0 view .LVU320
 1126 0024 F8E7     		b	.L95
 1127              		.cfi_endproc
 1128              	.LFE359:
 1130              		.section	.text.get_fileinfo,"ax",%progbits
 1131              		.align	1
 1132              		.syntax unified
 1133              		.thumb
 1134              		.thumb_func
 1136              	get_fileinfo:
 1137              	.LVL116:
 1138              	.LFB364:
1661:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1662:Middlewares/Third_Party/FatFs/src/ff.c **** 
1663:Middlewares/Third_Party/FatFs/src/ff.c **** 
1664:Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1666:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1667:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: LFN handling                                                  */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 51


1668:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1669:Middlewares/Third_Party/FatFs/src/ff.c **** static
1670:Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1671:Middlewares/Third_Party/FatFs/src/ff.c **** 
1672:Middlewares/Third_Party/FatFs/src/ff.c **** 
1673:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1674:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Compare a part of file name with an LFN entry */
1675:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1676:Middlewares/Third_Party/FatFs/src/ff.c **** static
1677:Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (				/* 1:matched, 0:not matched */
1678:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN working buffer to be compared */
1679:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir				/* Pointer to the directory entry containing the part of LFN */
1680:Middlewares/Third_Party/FatFs/src/ff.c **** )
1681:Middlewares/Third_Party/FatFs/src/ff.c **** {
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1684:Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:Middlewares/Third_Party/FatFs/src/ff.c **** 
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO */
1687:Middlewares/Third_Party/FatFs/src/ff.c **** 
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1689:Middlewares/Third_Party/FatFs/src/ff.c **** 
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
1695:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = uc;
1697:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1699:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1700:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1701:Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i]) return 0;	/* Last segment matched but different len
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN matched */
1705:Middlewares/Third_Party/FatFs/src/ff.c **** }
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 
1707:Middlewares/Third_Party/FatFs/src/ff.c **** 
1708:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
1709:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1710:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Pick a part of file name from an LFN entry */
1711:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1712:Middlewares/Third_Party/FatFs/src/ff.c **** static
1713:Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:succeeded, 0:buffer overflow or invalid LFN entry */
1714:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN working buffer */
1715:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the LFN entry */
1716:Middlewares/Third_Party/FatFs/src/ff.c **** )
1717:Middlewares/Third_Party/FatFs/src/ff.c **** {
1718:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1719:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1720:Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:Middlewares/Third_Party/FatFs/src/ff.c **** 
1722:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO is 0 */
1723:Middlewares/Third_Party/FatFs/src/ff.c **** 
1724:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Offset in the LFN buffer */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 52


1725:Middlewares/Third_Party/FatFs/src/ff.c **** 
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
1731:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1733:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1735:Middlewares/Third_Party/FatFs/src/ff.c **** 
1736:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
1738:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
1739:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1740:Middlewares/Third_Party/FatFs/src/ff.c **** 
1741:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN is valid */
1742:Middlewares/Third_Party/FatFs/src/ff.c **** }
1743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1744:Middlewares/Third_Party/FatFs/src/ff.c **** 
1745:Middlewares/Third_Party/FatFs/src/ff.c **** 
1746:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1747:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1748:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create an entry of LFN entries */
1749:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1750:Middlewares/Third_Party/FatFs/src/ff.c **** static
1751:Middlewares/Third_Party/FatFs/src/ff.c **** void put_lfn (
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to the LFN */
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,			/* Pointer to the LFN entry to be created */
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,			/* LFN order (1-20) */
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum			/* Checksum of the corresponding SFN */
1756:Middlewares/Third_Party/FatFs/src/ff.c **** )
1757:Middlewares/Third_Party/FatFs/src/ff.c **** {
1758:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1759:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1760:Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:Middlewares/Third_Party/FatFs/src/ff.c **** 
1762:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set checksum */
1763:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
1764:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
1765:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + LDIR_FstClusLO, 0);
1766:Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN working buffer */
1768:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
1769:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfn[i++];	/* Get an effective character */
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
1773:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
1774:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfn[i]) ord |= LLEF;	/* Last LFN part is the start of LFN sequence */
1775:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
1776:Middlewares/Third_Party/FatFs/src/ff.c **** }
1777:Middlewares/Third_Party/FatFs/src/ff.c **** 
1778:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1779:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1780:Middlewares/Third_Party/FatFs/src/ff.c **** 
1781:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 53


1782:Middlewares/Third_Party/FatFs/src/ff.c **** 
1783:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && !_FS_READONLY
1784:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1785:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create a Numbered SFN                                        */
1786:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1787:Middlewares/Third_Party/FatFs/src/ff.c **** 
1788:Middlewares/Third_Party/FatFs/src/ff.c **** static
1789:Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1793:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1794:Middlewares/Third_Party/FatFs/src/ff.c **** )
1795:Middlewares/Third_Party/FatFs/src/ff.c **** {
1796:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
1797:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
1798:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1799:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
1800:Middlewares/Third_Party/FatFs/src/ff.c **** 
1801:Middlewares/Third_Party/FatFs/src/ff.c **** 
1802:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
1803:Middlewares/Third_Party/FatFs/src/ff.c **** 
1804:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* In case of many collisions, generate a hash number instead of sequential number 
1805:Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
1809:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
1810:Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
1812:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1813:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1814:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
1815:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1816:Middlewares/Third_Party/FatFs/src/ff.c **** 
1817:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1818:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
1819:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)((seq % 16) + '0');
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
1824:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
1825:Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
1826:Middlewares/Third_Party/FatFs/src/ff.c **** 
1827:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
1829:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
1830:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1831:Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1832:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1833:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
1836:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
1837:Middlewares/Third_Party/FatFs/src/ff.c **** }
1838:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 && !_FS_READONLY */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 54


1839:Middlewares/Third_Party/FatFs/src/ff.c **** 
1840:Middlewares/Third_Party/FatFs/src/ff.c **** 
1841:Middlewares/Third_Party/FatFs/src/ff.c **** 
1842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1843:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1844:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Calculate checksum of an SFN entry                           */
1845:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1846:Middlewares/Third_Party/FatFs/src/ff.c **** 
1847:Middlewares/Third_Party/FatFs/src/ff.c **** static
1848:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
1849:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1850:Middlewares/Third_Party/FatFs/src/ff.c **** )
1851:Middlewares/Third_Party/FatFs/src/ff.c **** {
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
1853:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
1854:Middlewares/Third_Party/FatFs/src/ff.c **** 
1855:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1856:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = (sum >> 1) + (sum << 7) + *dir++;
1857:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--n);
1858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1859:Middlewares/Third_Party/FatFs/src/ff.c **** }
1860:Middlewares/Third_Party/FatFs/src/ff.c **** 
1861:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1862:Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:Middlewares/Third_Party/FatFs/src/ff.c **** 
1865:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1866:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1867:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Checksum                                                       */
1868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1869:Middlewares/Third_Party/FatFs/src/ff.c **** 
1870:Middlewares/Third_Party/FatFs/src/ff.c **** static
1871:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xdir_sum (			/* Get checksum of the directoly block */
1872:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Directory entry block to be calculated */
1873:Middlewares/Third_Party/FatFs/src/ff.c **** )
1874:Middlewares/Third_Party/FatFs/src/ff.c **** {
1875:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, szblk;
1876:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum;
1877:Middlewares/Third_Party/FatFs/src/ff.c **** 
1878:Middlewares/Third_Party/FatFs/src/ff.c **** 
1879:Middlewares/Third_Party/FatFs/src/ff.c **** 	szblk = (dir[XDIR_NumSec] + 1) * SZDIRE;
1880:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = sum = 0; i < szblk; i++) {
1881:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == XDIR_SetSum) {	/* Skip sum field */
1882:Middlewares/Third_Party/FatFs/src/ff.c **** 			i++;
1883:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1884:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + dir[i];
1885:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1886:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1887:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1888:Middlewares/Third_Party/FatFs/src/ff.c **** }
1889:Middlewares/Third_Party/FatFs/src/ff.c **** 
1890:Middlewares/Third_Party/FatFs/src/ff.c **** 
1891:Middlewares/Third_Party/FatFs/src/ff.c **** 
1892:Middlewares/Third_Party/FatFs/src/ff.c **** static
1893:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xname_sum (		/* Get check sum (to be used as hash) of the name */
1894:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* name	/* File name to be calculated */
1895:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  C:\usertemp\ccmutrvj.s 			page 55


1896:Middlewares/Third_Party/FatFs/src/ff.c **** {
1897:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
1898:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum = 0;
1899:Middlewares/Third_Party/FatFs/src/ff.c **** 
1900:Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:Middlewares/Third_Party/FatFs/src/ff.c **** 	while ((chr = *name++) != 0) {
1902:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = ff_wtoupper(chr);		/* File name needs to be ignored case */
1903:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr & 0xFF);
1904:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr >> 8);
1905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1907:Middlewares/Third_Party/FatFs/src/ff.c **** }
1908:Middlewares/Third_Party/FatFs/src/ff.c **** 
1909:Middlewares/Third_Party/FatFs/src/ff.c **** 
1910:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _USE_MKFS
1911:Middlewares/Third_Party/FatFs/src/ff.c **** static
1912:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD xsum32 (
1913:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE  dat,	/* Data to be sumed */
1914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sum	/* Previous value */
1915:Middlewares/Third_Party/FatFs/src/ff.c **** )
1916:Middlewares/Third_Party/FatFs/src/ff.c **** {
1917:Middlewares/Third_Party/FatFs/src/ff.c **** 	sum = ((sum & 1) ? 0x80000000 : 0) + (sum >> 1) + dat;
1918:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1919:Middlewares/Third_Party/FatFs/src/ff.c **** }
1920:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1921:Middlewares/Third_Party/FatFs/src/ff.c **** 
1922:Middlewares/Third_Party/FatFs/src/ff.c **** 
1923:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1924:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1925:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get object information from a directory block */
1926:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1927:Middlewares/Third_Party/FatFs/src/ff.c **** 
1928:Middlewares/Third_Party/FatFs/src/ff.c **** static
1929:Middlewares/Third_Party/FatFs/src/ff.c **** void get_xdir_info (
1930:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block 85+C0+C1s */
1931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Buffer to store the extracted file information */
1932:Middlewares/Third_Party/FatFs/src/ff.c **** )
1933:Middlewares/Third_Party/FatFs/src/ff.c **** {
1934:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT di, si;
1935:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
1936:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1937:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nc;
1938:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1939:Middlewares/Third_Party/FatFs/src/ff.c **** 
1940:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get file name */
1941:Middlewares/Third_Party/FatFs/src/ff.c **** 	di = 0;
1942:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
1943:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2; di < dirb[XDIR_NumName]; si += 2, di++) {
1944:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1945:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ld_word(dirb + si);					/* Get a character */
1946:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) { di = 0; break; }	/* Buffer overflow --> inaccessible object name */
1947:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di] = w;						/* Store it */
1948:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1950:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2, nc = 0; nc < dirb[XDIR_NumName]; si += 2, nc++) {
1951:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1952:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(ld_word(dirb + si), 0);	/* Get a character and Unicode -> OEM */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 56


1953:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {				/* Is it a double byte char? (always false at SBCS cfg) */
1954:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[di++] = (char)(w >> 8);	/* Put 1st byte of the DBC */
1955:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1956:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == 0 || di >= _MAX_LFN) { di = 0; break; }	/* Invalid char or buffer overflow --> inaccessi
1957:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di++] = (char)w;
1958:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1959:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1960:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) fno->fname[di++] = '?';	/* Inaccessible object name? */
1961:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[di] = 0;						/* Terminate file name */
1962:Middlewares/Third_Party/FatFs/src/ff.c **** 
1963:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[0] = 0;							/* No SFN */
1964:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dirb[XDIR_Attr];					/* Attribute */
1965:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = (fno->fattrib & AM_DIR) ? 0 : ld_qword(dirb + XDIR_FileSize);	/* Size */
1966:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = ld_word(dirb + XDIR_ModTime + 0);	/* Time */
1967:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fdate = ld_word(dirb + XDIR_ModTime + 2);	/* Date */
1968:Middlewares/Third_Party/FatFs/src/ff.c **** }
1969:Middlewares/Third_Party/FatFs/src/ff.c **** 
1970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1971:Middlewares/Third_Party/FatFs/src/ff.c **** 
1972:Middlewares/Third_Party/FatFs/src/ff.c **** 
1973:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1974:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get a directry entry block */
1975:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1976:Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:Middlewares/Third_Party/FatFs/src/ff.c **** static
1978:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_xdir (	/* FR_INT_ERR: invalid entry block */
1979:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the reading direcotry object pointing the 85 entry */
1980:Middlewares/Third_Party/FatFs/src/ff.c **** )
1981:Middlewares/Third_Party/FatFs/src/ff.c **** {
1982:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1983:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, sz_ent;
1984:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the on-memory direcotry entry block 85+C0+C1s */
1985:Middlewares/Third_Party/FatFs/src/ff.c **** 
1986:Middlewares/Third_Party/FatFs/src/ff.c **** 
1987:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load 85 entry */
1988:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1990:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0x85) return FR_INT_ERR;
1991:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + 0, dp->dir, SZDIRE);
1992:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_ent = (dirb[XDIR_NumSec] + 1) * SZDIRE;
1993:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_ent < 3 * SZDIRE || sz_ent > 19 * SZDIRE) return FR_INT_ERR;
1994:Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C0 entry */
1996:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_next(dp, 0);
1997:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1998:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1999:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2000:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0xC0) return FR_INT_ERR;
2001:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + SZDIRE, dp->dir, SZDIRE);
2002:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (MAXDIRB(dirb[XDIR_NumName]) > sz_ent) return FR_INT_ERR;
2003:Middlewares/Third_Party/FatFs/src/ff.c **** 
2004:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C1 entries */
2005:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SZDIRE * 2;	/* C1 offset */
2006:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2007:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2008:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2009:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 57


2010:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2011:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->dir[XDIR_Type] != 0xC1) return FR_INT_ERR;
2012:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < MAXDIRB(_MAX_LFN)) mem_cpy(dirb + i, dp->dir, SZDIRE);
2013:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while ((i += SZDIRE) < sz_ent);
2014:Middlewares/Third_Party/FatFs/src/ff.c **** 
2015:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Sanity check (do it when accessible object name) */
2016:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i <= MAXDIRB(_MAX_LFN)) {
2017:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (xdir_sum(dirb) != ld_word(dirb + XDIR_SetSum)) return FR_INT_ERR;
2018:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2019:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2020:Middlewares/Third_Party/FatFs/src/ff.c **** }
2021:Middlewares/Third_Party/FatFs/src/ff.c **** 
2022:Middlewares/Third_Party/FatFs/src/ff.c **** 
2023:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY || _FS_RPATH != 0
2024:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2025:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Load the object's directory entry block */
2026:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2027:Middlewares/Third_Party/FatFs/src/ff.c **** static
2028:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_obj_dir (
2029:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Blank directory object to be used to access containing direcotry */
2030:Middlewares/Third_Party/FatFs/src/ff.c **** 	const _FDID* obj	/* Object with its containing directory information */
2031:Middlewares/Third_Party/FatFs/src/ff.c **** )
2032:Middlewares/Third_Party/FatFs/src/ff.c **** {
2033:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2034:Middlewares/Third_Party/FatFs/src/ff.c **** 
2035:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Open object containing directory */
2036:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.fs = obj->fs;
2037:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.sclust = obj->c_scl;
2038:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.stat = (BYTE)obj->c_size;
2039:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.objsize = obj->c_size & 0xFFFFFF00;
2040:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->blk_ofs = obj->c_ofs;
2041:Middlewares/Third_Party/FatFs/src/ff.c **** 
2042:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);	/* Goto object's entry block */
2043:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2044:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_xdir(dp);		/* Load the object's entry block */
2045:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2046:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2047:Middlewares/Third_Party/FatFs/src/ff.c **** }
2048:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 
2051:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2052:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2053:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Store the directory block to the media */
2054:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2055:Middlewares/Third_Party/FatFs/src/ff.c **** static
2056:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT store_xdir (
2057:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Pointer to the direcotry object */
2058:Middlewares/Third_Party/FatFs/src/ff.c **** )
2059:Middlewares/Third_Party/FatFs/src/ff.c **** {
2060:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2061:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent;
2062:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the direcotry entry block 85+C0+C1s */
2063:Middlewares/Third_Party/FatFs/src/ff.c **** 
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create set sum */
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_SetSum, xdir_sum(dirb));
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = dirb[XDIR_NumSec] + 1;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 58


2067:Middlewares/Third_Party/FatFs/src/ff.c **** 
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Store the set of directory to the volume */
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (res == FR_OK) {
2071:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(dp->dir, dirb, SZDIRE);
2074:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.fs->wflag = 1;
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (--nent == 0) break;
2076:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb += SZDIRE;
2077:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2078:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2079:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (res == FR_OK || res == FR_DISK_ERR) ? res : FR_INT_ERR;
2080:Middlewares/Third_Party/FatFs/src/ff.c **** }
2081:Middlewares/Third_Party/FatFs/src/ff.c **** 
2082:Middlewares/Third_Party/FatFs/src/ff.c **** 
2083:Middlewares/Third_Party/FatFs/src/ff.c **** 
2084:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2085:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Create a new directory enrty block */
2086:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2087:Middlewares/Third_Party/FatFs/src/ff.c **** 
2088:Middlewares/Third_Party/FatFs/src/ff.c **** static
2089:Middlewares/Third_Party/FatFs/src/ff.c **** void create_xdir (
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block buffer */
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn	/* Pointer to the nul terminated file name */
2092:Middlewares/Third_Party/FatFs/src/ff.c **** )
2093:Middlewares/Third_Party/FatFs/src/ff.c **** {
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE nb, nc;
2096:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2097:Middlewares/Third_Party/FatFs/src/ff.c **** 
2098:Middlewares/Third_Party/FatFs/src/ff.c **** 
2099:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create 85+C0 entry */
2100:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dirb, 0, 2 * SZDIRE);
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type] = 0x85;
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type + SZDIRE] = 0xC0;
2103:Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create C1 entries */
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	nc = 0; nb = 1; chr = 1; i = SZDIRE * 2;
2106:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb[i++] = 0xC1; dirb[i++] = 0;	/* Entry type C1 */
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill name field */
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chr && (chr = lfn[nc]) != 0) nc++;	/* Get a character if exist */
2110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirb + i, chr); 		/* Store it */
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while ((i += 2) % SZDIRE != 0);
2112:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb++;
2113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (lfn[nc]);	/* Fill next entry if any char follows */
2114:Middlewares/Third_Party/FatFs/src/ff.c **** 
2115:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumName] = nc;	/* Set name length */
2116:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumSec] = nb;		/* Set block length */
2117:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_NameHash, xname_sum(lfn));	/* Set name hash */
2118:Middlewares/Third_Party/FatFs/src/ff.c **** }
2119:Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
2121:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
2122:Middlewares/Third_Party/FatFs/src/ff.c **** 
2123:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 59


2124:Middlewares/Third_Party/FatFs/src/ff.c **** 
2125:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
2126:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2127:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
2128:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 
2130:Middlewares/Third_Party/FatFs/src/ff.c **** static
2131:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
2132:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
2133:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
2134:Middlewares/Third_Party/FatFs/src/ff.c **** )
2135:Middlewares/Third_Party/FatFs/src/ff.c **** {
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2138:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
2139:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2140:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
2141:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
2149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2150:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_USE_LABEL && vol) {
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x83) break;	/* Volume label entry? */
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x85) {		/* Start of the file entry block? */
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->blk_ofs = dp->dptr;	/* Get location of the block */
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_xdir(dp);	/* Load the entry block */
2158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
2159:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->obj.attr = fs->dirbuf[XDIR_Attr] & AM_MASK;	/* Get attribute */
2160:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2161:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2163:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2164:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else
2165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2166:Middlewares/Third_Party/FatFs/src/ff.c **** 		{	/* On the FAT12/16/32 volume */
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;	/* Get attribute */
2168:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == DDEM || c == '.' || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry without valid 
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
2171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (a == AM_LFN) {			/* An LFN entry is found */
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
2177:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2178:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check LFN validity and capture it */
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && pick_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0
2180:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 60


2181:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ord || sum != sum_sfn(dp->dir)) {	/* Is there a valid LFN? */
2182:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
2183:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2184:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2185:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2186:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2187:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != DDEM && c != '.' && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol) {	/* Is it a 
2189:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2190:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2191:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2192:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2195:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2196:Middlewares/Third_Party/FatFs/src/ff.c **** 
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;		/* Terminate the read operation on error or EOT */
2198:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2199:Middlewares/Third_Party/FatFs/src/ff.c **** }
2200:Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
2202:Middlewares/Third_Party/FatFs/src/ff.c **** 
2203:Middlewares/Third_Party/FatFs/src/ff.c **** 
2204:Middlewares/Third_Party/FatFs/src/ff.c **** 
2205:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2206:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
2207:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 
2209:Middlewares/Third_Party/FatFs/src/ff.c **** static
2210:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (	/* FR_OK(0):succeeded, !=0:error */
2211:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object with the file name */
2212:Middlewares/Third_Party/FatFs/src/ff.c **** )
2213:Middlewares/Third_Party/FatFs/src/ff.c **** {
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2216:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
2217:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2218:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
2219:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2220:Middlewares/Third_Party/FatFs/src/ff.c **** 
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
2222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2223:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2225:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE nc;
2226:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT di, ni;
2227:Middlewares/Third_Party/FatFs/src/ff.c **** 		WORD hash = xname_sum(fs->lfnbuf);		/* Hash value of the name to find */
2228:Middlewares/Third_Party/FatFs/src/ff.c **** 
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((res = dir_read(dp, 0)) == FR_OK) {	/* Read an item */
2230:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 255
2231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->dirbuf[XDIR_NumName] > _MAX_LFN) continue;			/* Skip comparison if inaccessible object n
2232:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->dirbuf + XDIR_NameHash) != hash) continue;	/* Skip comparison if hash mismatched
2234:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (nc = fs->dirbuf[XDIR_NumName], di = SZDIRE * 2, ni = 0; nc; nc--, di += 2, ni++) {	/* Compa
2235:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((di % SZDIRE) == 0) di += 2;
2236:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ff_wtoupper(ld_word(fs->dirbuf + di)) != ff_wtoupper(fs->lfnbuf[ni])) break;
2237:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 61


2238:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nc == 0 && !fs->lfnbuf[ni]) break;	/* Name matched? */
2239:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2240:Middlewares/Third_Party/FatFs/src/ff.c **** 		return res;
2241:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2242:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2243:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2244:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2245:Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2247:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
2251:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
2252:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2256:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2264:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && cmp_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0x
2266:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2267:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dp->dir)) break;	/* LFN matched? */
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2271:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2272:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2273:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = dp->dir[DIR_Attr] & AM_MASK;
2275:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
2276:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);	/* Next entry */
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
2279:Middlewares/Third_Party/FatFs/src/ff.c **** 
2280:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2281:Middlewares/Third_Party/FatFs/src/ff.c **** }
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 
2286:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2287:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2288:Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
2289:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2290:Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:Middlewares/Third_Party/FatFs/src/ff.c **** static
2292:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:succeeded, FR_DENIED:no free entry or too many SFN collision, FR_DI
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
2294:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  C:\usertemp\ccmutrvj.s 			page 62


2295:Middlewares/Third_Party/FatFs/src/ff.c **** {
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2298:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nlen, nent;
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], sum;
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
2302:Middlewares/Third_Party/FatFs/src/ff.c **** 
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[NSFLAG] & (NS_DOT | NS_NONAME)) return FR_INVALID_NAME;	/* Check name validity */
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 
2306:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2309:Middlewares/Third_Party/FatFs/src/ff.c **** 
2310:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (nlen + 14) / 15 + 2;	/* Number of entries to allocate (85+C0+C1s) */
2311:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_alloc(dp, nent);		/* Allocate entries */
2312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2313:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->blk_ofs = dp->dptr - SZDIRE * (nent - 1);	/* Set the allocated entry block offset */
2314:Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.sclust != 0 && (dp->obj.stat & 4)) {	/* Has the sub-directory been stretched? */
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.objsize += (DWORD)fs->csize * SS(fs);	/* Increase the directory size by cluster size */
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_first_frag(&dp->obj);				/* Fill first fragment on the FAT if needed */
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_last_frag(&dp->obj, dp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if neede
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = load_obj_dir(&dj, &dp->obj);				/* Load the object status */
2322:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_FileSize, dp->obj.objsize);		/* Update the allocation status */
2324:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_ValidFileSize, dp->obj.objsize);
2325:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbuf[XDIR_GenFlags] = dp->obj.stat | 1;
2326:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = store_xdir(&dj);							/* Store the object status */
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		create_xdir(fs->dirbuf, fs->lfnbuf);	/* Create on-memory directory block to be written later */
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2333:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2334:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, dp->fn, 12);
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
2348:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create an SFN with/without LFNs. */
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = (sn[NSFLAG] & NS_LFN) ? (nlen + 12) / 13 + 1 : 1;	/* Number of entries to allocate */
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 63


2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dp->sect);
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
2365:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
2368:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set SFN entry */
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
2376:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
2378:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2380:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2381:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2384:Middlewares/Third_Party/FatFs/src/ff.c **** }
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 
2386:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 
2390:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE == 0
2391:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2392:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
2393:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 
2395:Middlewares/Third_Party/FatFs/src/ff.c **** static
2396:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK:Succeeded, FR_DISK_ERR:A disk error */
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
2398:Middlewares/Third_Party/FatFs/src/ff.c **** )
2399:Middlewares/Third_Party/FatFs/src/ff.c **** {
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2402:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD last = dp->dptr;
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = (dp->blk_ofs == 0xFFFFFFFF) ? FR_OK : dir_sdi(dp, dp->blk_ofs);	/* Goto top of the entry blo
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 64


2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[XDIR_Type] &= 0x7F;
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* On the FAT12/16/32 volume */
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[DIR_Name] = DDEM;
2415:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
2421:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2422:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
2423:Middlewares/Third_Party/FatFs/src/ff.c **** 
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(fs, dp->sect);
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
2427:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
2428:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2430:Middlewares/Third_Party/FatFs/src/ff.c **** 
2431:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2432:Middlewares/Third_Party/FatFs/src/ff.c **** }
2433:Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY && _FS_MINIMIZE == 0 */
2435:Middlewares/Third_Party/FatFs/src/ff.c **** 
2436:Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
2439:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2440:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
2441:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2442:Middlewares/Third_Party/FatFs/src/ff.c **** 
2443:Middlewares/Third_Party/FatFs/src/ff.c **** static
2444:Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
2445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
2447:Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1139              		.loc 1 2448 1 is_stmt 1 view -0
 1140              		.cfi_startproc
 1141              		@ args = 0, pretend = 0, frame = 0
 1142              		@ frame_needed = 0, uses_anonymous_args = 0
 1143              		.loc 1 2448 1 is_stmt 0 view .LVU322
 1144 0000 38B5     		push	{r3, r4, r5, lr}
 1145              	.LCFI12:
 1146              		.cfi_def_cfa_offset 16
 1147              		.cfi_offset 3, -16
 1148              		.cfi_offset 4, -12
 1149              		.cfi_offset 5, -8
 1150              		.cfi_offset 14, -4
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
 1151              		.loc 1 2449 2 is_stmt 1 view .LVU323
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c;
 1152              		.loc 1 2450 2 view .LVU324
2451:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 65


 1153              		.loc 1 2451 2 view .LVU325
2452:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, lfv;
2454:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2455:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2456:Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:Middlewares/Third_Party/FatFs/src/ff.c **** 
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[0] = 0;		/* Invaidate file info */
 1154              		.loc 1 2458 2 view .LVU326
 1155              		.loc 1 2458 16 is_stmt 0 view .LVU327
 1156 0002 0023     		movs	r3, #0
 1157 0004 4B72     		strb	r3, [r1, #9]
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
 1158              		.loc 1 2459 2 is_stmt 1 view .LVU328
 1159              		.loc 1 2459 9 is_stmt 0 view .LVU329
 1160 0006 C369     		ldr	r3, [r0, #28]
 1161              		.loc 1 2459 5 view .LVU330
 1162 0008 73B3     		cbz	r3, .L99
 1163 000a 0546     		mov	r5, r0
 1164 000c 0C46     		mov	r4, r1
2460:Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2462:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2463:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2464:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_xdir_info(fs->dirbuf, fno);
2465:Middlewares/Third_Party/FatFs/src/ff.c **** 		return;
2466:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2467:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2468:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->blk_ofs != 0xFFFFFFFF) {	/* Get LFN if available */
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
2471:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
2472:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
2475:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
2476:Middlewares/Third_Party/FatFs/src/ff.c **** 					fno->fname[i++] = (char)(w >> 8);
2477:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= _MAX_LFN) { i = 0; break; }	/* No LFN if buffer overflow */
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
2481:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[i] = 0;	/* Terminate the LFN */
2483:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2484:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2485:Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2492:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
2495:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2496:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
ARM GAS  C:\usertemp\ccmutrvj.s 			page 66


2497:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dp->dir[i])) {
2498:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = c << 8 | dp->dir[i++];
2499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2500:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
2501:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
2502:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->altname[j] = c;
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
2507:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[j] = c;
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 		j++;
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!lfv) {
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
2515:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[j] = 0;	/* Terminate the SFN */
2517:Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2519:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
 1165              		.loc 1 2519 8 view .LVU331
 1166 000e 0022     		movs	r2, #0
 1167              		.loc 1 2519 4 view .LVU332
 1168 0010 1346     		mov	r3, r2
 1169 0012 06E0     		b	.L101
 1170              	.LVL117:
 1171              	.L103:
2520:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2522:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 1172              		.loc 1 2524 3 is_stmt 1 view .LVU333
 1173              		.loc 1 2524 6 is_stmt 0 view .LVU334
 1174 0014 BCF1090F 		cmp	ip, #9
 1175 0018 0FD0     		beq	.L108
 1176              	.L104:
2525:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 1177              		.loc 1 2525 3 is_stmt 1 view .LVU335
 1178              	.LVL118:
 1179              		.loc 1 2525 19 is_stmt 0 view .LVU336
 1180 001a A118     		adds	r1, r4, r2
 1181 001c 4B72     		strb	r3, [r1, #9]
 1182              		.loc 1 2525 15 view .LVU337
 1183 001e 0132     		adds	r2, r2, #1
 1184              	.LVL119:
 1185              	.L102:
 1186              		.loc 1 2525 15 view .LVU338
 1187 0020 6346     		mov	r3, ip
 1188              	.LVL120:
 1189              	.L101:
2520:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
 1190              		.loc 1 2520 11 is_stmt 1 view .LVU339
 1191 0022 0A2B     		cmp	r3, #10
ARM GAS  C:\usertemp\ccmutrvj.s 			page 67


 1192 0024 0ED8     		bhi	.L109
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 1193              		.loc 1 2521 3 view .LVU340
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 1194              		.loc 1 2521 23 is_stmt 0 view .LVU341
 1195 0026 03F1010C 		add	ip, r3, #1
 1196              	.LVL121:
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 1197              		.loc 1 2521 5 view .LVU342
 1198 002a 296A     		ldr	r1, [r5, #32]
 1199 002c CB5C     		ldrb	r3, [r1, r3]	@ zero_extendqisi2
 1200              	.LVL122:
2522:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 1201              		.loc 1 2522 3 is_stmt 1 view .LVU343
2522:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 1202              		.loc 1 2522 6 is_stmt 0 view .LVU344
 1203 002e 202B     		cmp	r3, #32
 1204 0030 F6D0     		beq	.L102
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 1205              		.loc 1 2523 3 is_stmt 1 view .LVU345
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 1206              		.loc 1 2523 6 is_stmt 0 view .LVU346
 1207 0032 052B     		cmp	r3, #5
 1208 0034 EED1     		bne	.L103
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 1209              		.loc 1 2523 21 discriminator 1 view .LVU347
 1210 0036 E523     		movs	r3, #229
 1211              	.LVL123:
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
 1212              		.loc 1 2523 21 discriminator 1 view .LVU348
 1213 0038 ECE7     		b	.L103
 1214              	.LVL124:
 1215              	.L108:
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 1216              		.loc 1 2524 15 is_stmt 1 discriminator 1 view .LVU349
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 1217              		.loc 1 2524 31 is_stmt 0 discriminator 1 view .LVU350
 1218 003a A118     		adds	r1, r4, r2
 1219 003c 2E20     		movs	r0, #46
 1220 003e 4872     		strb	r0, [r1, #9]
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 1221              		.loc 1 2524 27 discriminator 1 view .LVU351
 1222 0040 0132     		adds	r2, r2, #1
 1223              	.LVL125:
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
 1224              		.loc 1 2524 27 discriminator 1 view .LVU352
 1225 0042 EAE7     		b	.L104
 1226              	.LVL126:
 1227              	.L109:
2526:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2527:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[j] = 0;
 1228              		.loc 1 2527 2 is_stmt 1 view .LVU353
 1229              		.loc 1 2527 16 is_stmt 0 view .LVU354
 1230 0044 2244     		add	r2, r2, r4
 1231              	.LVL127:
 1232              		.loc 1 2527 16 view .LVU355
 1233 0046 0023     		movs	r3, #0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 68


 1234              	.LVL128:
 1235              		.loc 1 2527 16 view .LVU356
 1236 0048 5372     		strb	r3, [r2, #9]
2528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2529:Middlewares/Third_Party/FatFs/src/ff.c **** 
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dp->dir[DIR_Attr];				/* Attribute */
 1237              		.loc 1 2530 2 is_stmt 1 view .LVU357
 1238              		.loc 1 2530 19 is_stmt 0 view .LVU358
 1239 004a 2B6A     		ldr	r3, [r5, #32]
 1240              		.loc 1 2530 15 view .LVU359
 1241 004c DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1242 004e 2372     		strb	r3, [r4, #8]
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 1243              		.loc 1 2531 2 is_stmt 1 view .LVU360
 1244              		.loc 1 2531 26 is_stmt 0 view .LVU361
 1245 0050 286A     		ldr	r0, [r5, #32]
 1246              		.loc 1 2531 15 view .LVU362
 1247 0052 1C30     		adds	r0, r0, #28
 1248 0054 FFF7FEFF 		bl	ld_dword
 1249              	.LVL129:
 1250              		.loc 1 2531 13 discriminator 1 view .LVU363
 1251 0058 2060     		str	r0, [r4]
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 1252              		.loc 1 2532 2 is_stmt 1 view .LVU364
 1253              		.loc 1 2532 18 is_stmt 0 view .LVU365
 1254 005a 286A     		ldr	r0, [r5, #32]
 1255              		.loc 1 2532 7 view .LVU366
 1256 005c 1630     		adds	r0, r0, #22
 1257 005e FFF7FEFF 		bl	ld_dword
 1258              	.LVL130:
2533:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 1259              		.loc 1 2533 2 is_stmt 1 view .LVU367
 1260              		.loc 1 2533 13 is_stmt 0 view .LVU368
 1261 0062 E080     		strh	r0, [r4, #6]	@ movhi
 1262              		.loc 1 2533 25 is_stmt 1 view .LVU369
 1263              		.loc 1 2533 38 is_stmt 0 view .LVU370
 1264 0064 000C     		lsrs	r0, r0, #16
 1265              	.LVL131:
 1266              		.loc 1 2533 36 view .LVU371
 1267 0066 A080     		strh	r0, [r4, #4]	@ movhi
 1268              	.LVL132:
 1269              	.L99:
2534:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1270              		.loc 1 2534 1 view .LVU372
 1271 0068 38BD     		pop	{r3, r4, r5, pc}
 1272              		.cfi_endproc
 1273              	.LFE364:
 1275              		.section	.rodata.create_name.str1.4,"aMS",%progbits,1
 1276              		.align	2
 1277              	.LC0:
 1278 0000 222A2B2C 		.ascii	"\"*+,:;<=>?[]|\177\000"
 1278      3A3B3C3D 
 1278      3E3F5B5D 
 1278      7C7F00
 1279              		.section	.text.create_name,"ax",%progbits
 1280              		.align	1
 1281              		.syntax unified
ARM GAS  C:\usertemp\ccmutrvj.s 			page 69


 1282              		.thumb
 1283              		.thumb_func
 1285              	create_name:
 1286              	.LVL133:
 1287              	.LFB365:
2535:Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 
2538:Middlewares/Third_Party/FatFs/src/ff.c **** 
2539:Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
2541:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2542:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
2543:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2544:Middlewares/Third_Party/FatFs/src/ff.c **** 
2545:Middlewares/Third_Party/FatFs/src/ff.c **** static
2546:Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
2547:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
2548:Middlewares/Third_Party/FatFs/src/ff.c **** )
2549:Middlewares/Third_Party/FatFs/src/ff.c **** {
2550:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2551:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2552:Middlewares/Third_Party/FatFs/src/ff.c **** 
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
2555:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2556:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
2557:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2558:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr)) {		/* Get DBC 2nd byte if needed */
2559:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
2560:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2561:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
2563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2564:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
2565:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2566:Middlewares/Third_Party/FatFs/src/ff.c **** }
2567:Middlewares/Third_Party/FatFs/src/ff.c **** 
2568:Middlewares/Third_Party/FatFs/src/ff.c **** 
2569:Middlewares/Third_Party/FatFs/src/ff.c **** static
2570:Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* 0:not matched, 1:matched */
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
2572:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
2573:Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
2575:Middlewares/Third_Party/FatFs/src/ff.c **** )
2576:Middlewares/Third_Party/FatFs/src/ff.c **** {
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
2579:Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
2580:Middlewares/Third_Party/FatFs/src/ff.c **** 
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 70


2587:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
2595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
2596:Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
2597:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
2599:Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc == 0) return 1;	/* Branch matched? (matched at end of both strings) */
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2603:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 
2606:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
2607:Middlewares/Third_Party/FatFs/src/ff.c **** }
2608:Middlewares/Third_Party/FatFs/src/ff.c **** 
2609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 
2613:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2614:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a top segment and create the object name in directory form       */
2615:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2616:Middlewares/Third_Party/FatFs/src/ff.c **** 
2617:Middlewares/Third_Party/FatFs/src/ff.c **** static
2618:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (	/* FR_OK: successful, FR_INVALID_NAME: could not create */
2619:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2620:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
2621:Middlewares/Third_Party/FatFs/src/ff.c **** )
2622:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1288              		.loc 1 2622 1 is_stmt 1 view -0
 1289              		.cfi_startproc
 1290              		@ args = 0, pretend = 0, frame = 0
 1291              		@ frame_needed = 0, uses_anonymous_args = 0
 1292              		.loc 1 2622 1 is_stmt 0 view .LVU374
 1293 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1294              	.LCFI13:
 1295              		.cfi_def_cfa_offset 40
 1296              		.cfi_offset 3, -40
 1297              		.cfi_offset 4, -36
 1298              		.cfi_offset 5, -32
 1299              		.cfi_offset 6, -28
 1300              		.cfi_offset 7, -24
 1301              		.cfi_offset 8, -20
 1302              		.cfi_offset 9, -16
 1303              		.cfi_offset 10, -12
 1304              		.cfi_offset 11, -8
 1305              		.cfi_offset 14, -4
 1306 0004 0646     		mov	r6, r0
 1307 0006 0F46     		mov	r7, r1
2623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 71


2624:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
2628:Middlewares/Third_Party/FatFs/src/ff.c **** 
2629:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; lfn = dp->obj.fs->lfnbuf; si = di = 0;
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) return FR_INVALID_NAME;	/* Reject too long name */
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2640:Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
2642:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b)) return FR_INVALID_NAME;	/* Reject invalid sequence */
2645:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
2647:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
2648:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) return FR_INVALID_NAME;	/* Reject illegal characters
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
2651:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
2653:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
2654:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2655:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') ||
2656:Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {	/* Is this segment a dot name? */
2657:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
2658:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)		/* Create dot name for SFN entry */
2659:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
2660:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
2661:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2662:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2663:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Snip off trailing spaces and dots if exist */
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
2668:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
2671:Middlewares/Third_Party/FatFs/src/ff.c **** 
2672:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
2677:Middlewares/Third_Party/FatFs/src/ff.c **** 
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = b = 0; ni = 8;
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 72


2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
2689:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
2694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2695:Middlewares/Third_Party/FatFs/src/ff.c **** 
2696:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
2697:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
2700:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2702:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* Is this DBC? (always false at SBCS cfg) */
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2709:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
2717:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
2720:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2721:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2722:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2723:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
2725:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2726:Middlewares/Third_Party/FatFs/src/ff.c **** 
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with DDEM, replace it
2728:Middlewares/Third_Party/FatFs/src/ff.c **** 
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
2734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2735:Middlewares/Third_Party/FatFs/src/ff.c **** 
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
2737:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 73


2738:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2739:Middlewares/Third_Party/FatFs/src/ff.c **** 
2740:Middlewares/Third_Party/FatFs/src/ff.c **** 
2741:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* _USE_LFN != 0 : Non-LFN configuration */
2742:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, d, *sfn;
 1308              		.loc 1 2742 2 is_stmt 1 view .LVU375
2743:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
 1309              		.loc 1 2743 2 view .LVU376
2744:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
 1310              		.loc 1 2744 2 view .LVU377
2745:Middlewares/Third_Party/FatFs/src/ff.c **** 
2746:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2747:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; sfn = dp->fn;
 1311              		.loc 1 2747 2 view .LVU378
 1312              		.loc 1 2747 4 is_stmt 0 view .LVU379
 1313 0008 0D68     		ldr	r5, [r1]
 1314              	.LVL134:
 1315              		.loc 1 2747 13 is_stmt 1 view .LVU380
 1316              		.loc 1 2747 17 is_stmt 0 view .LVU381
 1317 000a 00F12408 		add	r8, r0, #36
 1318              	.LVL135:
2748:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
 1319              		.loc 1 2748 2 is_stmt 1 view .LVU382
 1320 000e 0B22     		movs	r2, #11
 1321 0010 2021     		movs	r1, #32
 1322              	.LVL136:
 1323              		.loc 1 2748 2 is_stmt 0 view .LVU383
 1324 0012 4046     		mov	r0, r8
 1325              	.LVL137:
 1326              		.loc 1 2748 2 view .LVU384
 1327 0014 FFF7FEFF 		bl	mem_set
 1328              	.LVL138:
2749:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
 1329              		.loc 1 2749 2 is_stmt 1 view .LVU385
 1330              		.loc 1 2749 14 view .LVU386
2750:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
 1331              		.loc 1 2751 2 view .LVU387
 1332              		.loc 1 2751 7 is_stmt 0 view .LVU388
 1333 0018 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1334              		.loc 1 2751 5 view .LVU389
 1335 001a 2E2B     		cmp	r3, #46
 1336 001c 05D0     		beq	.L136
2749:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
 1337              		.loc 1 2749 9 view .LVU390
 1338 001e 4FF00009 		mov	r9, #0
2749:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
 1339              		.loc 1 2749 5 view .LVU391
 1340 0022 4B46     		mov	r3, r9
2749:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
 1341              		.loc 1 2749 17 view .LVU392
 1342 0024 4FF0080B 		mov	fp, #8
 1343 0028 49E0     		b	.L111
 1344              	.L136:
2749:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
 1345              		.loc 1 2749 9 view .LVU393
 1346 002a 0021     		movs	r1, #0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 74


2749:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
 1347              		.loc 1 2749 5 view .LVU394
 1348 002c 0B46     		mov	r3, r1
 1349 002e 03E0     		b	.L113
 1350              	.LVL139:
 1351              	.L137:
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
2754:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2755:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1352              		.loc 1 2755 4 is_stmt 1 view .LVU395
 1353              		.loc 1 2755 13 is_stmt 0 view .LVU396
 1354 0030 08F80130 		strb	r3, [r8, r1]
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 1355              		.loc 1 2752 3 is_stmt 1 view .LVU397
 1356              		.loc 1 2755 9 is_stmt 0 view .LVU398
 1357 0034 0131     		adds	r1, r1, #1
 1358              	.LVL140:
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
 1359              		.loc 1 2753 18 view .LVU399
 1360 0036 1346     		mov	r3, r2
 1361              	.LVL141:
 1362              	.L113:
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 1363              		.loc 1 2752 3 is_stmt 1 view .LVU400
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
 1364              		.loc 1 2753 4 view .LVU401
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
 1365              		.loc 1 2753 18 is_stmt 0 view .LVU402
 1366 0038 5A1C     		adds	r2, r3, #1
 1367              	.LVL142:
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
 1368              		.loc 1 2753 6 view .LVU403
 1369 003a EB5C     		ldrb	r3, [r5, r3]	@ zero_extendqisi2
 1370              	.LVL143:
2754:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1371              		.loc 1 2754 4 is_stmt 1 view .LVU404
2754:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1372              		.loc 1 2754 7 is_stmt 0 view .LVU405
 1373 003c 022A     		cmp	r2, #2
 1374 003e 98BF     		it	ls
 1375 0040 2E2B     		cmpls	r3, #46
 1376 0042 F5D0     		beq	.L137
2756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2757:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
 1377              		.loc 1 2757 3 is_stmt 1 view .LVU406
 1378              		.loc 1 2757 6 is_stmt 0 view .LVU407
 1379 0044 2F2B     		cmp	r3, #47
 1380 0046 18BF     		it	ne
 1381 0048 5C2B     		cmpne	r3, #92
 1382 004a 01D0     		beq	.L114
 1383              		.loc 1 2757 29 discriminator 1 view .LVU408
 1384 004c 202B     		cmp	r3, #32
 1385 004e 5BD8     		bhi	.L128
 1386              	.L114:
2758:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = p + si;								/* Return pointer to the next segment */
 1387              		.loc 1 2758 3 is_stmt 1 view .LVU409
ARM GAS  C:\usertemp\ccmutrvj.s 			page 75


 1388              		.loc 1 2758 13 is_stmt 0 view .LVU410
 1389 0050 2A44     		add	r2, r2, r5
 1390              	.LVL144:
 1391              		.loc 1 2758 9 view .LVU411
 1392 0052 3A60     		str	r2, [r7]
2759:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of the path
 1393              		.loc 1 2759 3 is_stmt 1 view .LVU412
 1394              		.loc 1 2759 15 is_stmt 0 view .LVU413
 1395 0054 202B     		cmp	r3, #32
 1396 0056 04D8     		bhi	.L129
 1397              		.loc 1 2759 15 discriminator 1 view .LVU414
 1398 0058 2423     		movs	r3, #36
 1399              	.LVL145:
 1400              	.L116:
 1401              		.loc 1 2759 15 discriminator 4 view .LVU415
 1402 005a 86F82F30 		strb	r3, [r6, #47]
2760:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
 1403              		.loc 1 2760 3 is_stmt 1 view .LVU416
 1404              		.loc 1 2760 10 is_stmt 0 view .LVU417
 1405 005e 0020     		movs	r0, #0
 1406 0060 55E0     		b	.L115
 1407              	.LVL146:
 1408              	.L129:
2759:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of the path
 1409              		.loc 1 2759 15 discriminator 2 view .LVU418
 1410 0062 2023     		movs	r3, #32
 1411              	.LVL147:
2759:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of the path
 1412              		.loc 1 2759 15 discriminator 2 view .LVU419
 1413 0064 F9E7     		b	.L116
 1414              	.LVL148:
 1415              	.L120:
2761:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2762:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
2767:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 1416              		.loc 1 2767 42 is_stmt 1 discriminator 2 view .LVU420
 1417              		.loc 1 2767 44 is_stmt 0 discriminator 2 view .LVU421
 1418 0066 0AF1010A 		add	r10, r10, #1
 1419              	.LVL149:
 1420              	.L118:
 1421              		.loc 1 2767 24 is_stmt 1 discriminator 1 view .LVU422
 1422              		.loc 1 2767 12 is_stmt 0 discriminator 1 view .LVU423
 1423 006a 15F80A30 		ldrb	r3, [r5, r10]	@ zero_extendqisi2
 1424              		.loc 1 2767 24 discriminator 1 view .LVU424
 1425 006e 2F2B     		cmp	r3, #47
 1426 0070 F9D0     		beq	.L120
 1427              		.loc 1 2767 24 discriminator 1 view .LVU425
 1428 0072 5C2B     		cmp	r3, #92
 1429 0074 F7D0     		beq	.L120
 1430              	.L117:
2768:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2769:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {		/* End of body or over size? */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 76


2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
2773:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
2774:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2775:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
2776:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2777:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
2778:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2779:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII only cfg) */
2781:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2782:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false at SBCS cfg.) */
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1) return FR_INVALID_NAME;	/* Reject invalid DBC */
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c)) return FR_INVALID_NAME;	/* Reject illegal chrs for SFN */
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2793:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2794:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2795:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = p + si;						/* Return pointer to the next segment */
 1431              		.loc 1 2795 2 is_stmt 1 view .LVU426
 1432              		.loc 1 2795 12 is_stmt 0 view .LVU427
 1433 0076 5544     		add	r5, r5, r10
 1434              	.LVL150:
 1435              		.loc 1 2795 8 view .LVU428
 1436 0078 3D60     		str	r5, [r7]
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == 0) return FR_INVALID_NAME;	/* Reject nul string */
 1437              		.loc 1 2796 2 is_stmt 1 view .LVU429
 1438              		.loc 1 2796 5 is_stmt 0 view .LVU430
 1439 007a B9F1000F 		cmp	r9, #0
 1440 007e 4AD0     		beq	.L132
2797:Middlewares/Third_Party/FatFs/src/ff.c **** 
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* If the first character collides with DDEM, replace it with 
 1441              		.loc 1 2798 2 is_stmt 1 view .LVU431
 1442              		.loc 1 2798 9 is_stmt 0 view .LVU432
 1443 0080 96F82430 		ldrb	r3, [r6, #36]	@ zero_extendqisi2
 1444              		.loc 1 2798 5 view .LVU433
 1445 0084 E52B     		cmp	r3, #229
 1446 0086 39D0     		beq	.L138
 1447              	.L125:
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 1448              		.loc 1 2799 2 is_stmt 1 view .LVU434
 1449              		.loc 1 2799 14 is_stmt 0 view .LVU435
 1450 0088 202C     		cmp	r4, #32
 1451 008a 3BD8     		bhi	.L133
 1452              		.loc 1 2799 14 discriminator 1 view .LVU436
 1453 008c 0423     		movs	r3, #4
 1454              	.L126:
 1455              		.loc 1 2799 14 discriminator 4 view .LVU437
 1456 008e 86F82F30 		strb	r3, [r6, #47]
2800:Middlewares/Third_Party/FatFs/src/ff.c **** 
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 77


 1457              		.loc 1 2801 2 is_stmt 1 view .LVU438
 1458              		.loc 1 2801 9 is_stmt 0 view .LVU439
 1459 0092 0020     		movs	r0, #0
 1460 0094 3BE0     		b	.L115
 1461              	.LVL151:
 1462              	.L121:
2775:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 1463              		.loc 1 2775 3 is_stmt 1 view .LVU440
2775:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 1464              		.loc 1 2775 6 is_stmt 0 view .LVU441
 1465 0096 14F0800F 		tst	r4, #128
 1466 009a 2BD1     		bne	.L139
 1467              	.L123:
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
 1468              		.loc 1 2784 3 is_stmt 1 view .LVU442
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 1469              		.loc 1 2790 4 view .LVU443
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 1470              		.loc 1 2790 8 is_stmt 0 view .LVU444
 1471 009c 2146     		mov	r1, r4
 1472 009e 1F48     		ldr	r0, .L140
 1473 00a0 FFF7FEFF 		bl	chk_chr
 1474              	.LVL152:
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 1475              		.loc 1 2790 7 discriminator 1 view .LVU445
 1476 00a4 A8BB     		cbnz	r0, .L131
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1477              		.loc 1 2791 4 is_stmt 1 view .LVU446
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1478              		.loc 1 2791 8 is_stmt 0 view .LVU447
 1479 00a6 A4F16103 		sub	r3, r4, #97
 1480 00aa DBB2     		uxtb	r3, r3
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1481              		.loc 1 2791 7 view .LVU448
 1482 00ac 192B     		cmp	r3, #25
 1483 00ae 01D8     		bhi	.L124
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1484              		.loc 1 2791 20 is_stmt 1 discriminator 1 view .LVU449
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1485              		.loc 1 2791 22 is_stmt 0 discriminator 1 view .LVU450
 1486 00b0 203C     		subs	r4, r4, #32
 1487              	.LVL153:
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1488              		.loc 1 2791 22 discriminator 1 view .LVU451
 1489 00b2 E4B2     		uxtb	r4, r4
 1490              	.LVL154:
 1491              	.L124:
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1492              		.loc 1 2792 4 is_stmt 1 view .LVU452
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1493              		.loc 1 2792 13 is_stmt 0 view .LVU453
 1494 00b4 08F80940 		strb	r4, [r8, r9]
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1495              		.loc 1 2792 9 view .LVU454
 1496 00b8 09F10109 		add	r9, r9, #1
 1497              	.LVL155:
 1498              	.L122:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 78


2792:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1499              		.loc 1 2792 9 view .LVU455
 1500 00bc 5346     		mov	r3, r10
 1501              	.LVL156:
 1502              	.L111:
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
 1503              		.loc 1 2763 2 is_stmt 1 view .LVU456
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 1504              		.loc 1 2764 3 view .LVU457
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 1505              		.loc 1 2764 17 is_stmt 0 view .LVU458
 1506 00be 03F1010A 		add	r10, r3, #1
 1507              	.LVL157:
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
 1508              		.loc 1 2764 5 view .LVU459
 1509 00c2 EC5C     		ldrb	r4, [r5, r3]	@ zero_extendqisi2
 1510              	.LVL158:
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
 1511              		.loc 1 2765 3 is_stmt 1 view .LVU460
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
 1512              		.loc 1 2765 6 is_stmt 0 view .LVU461
 1513 00c4 202C     		cmp	r4, #32
 1514 00c6 D6D9     		bls	.L117
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 1515              		.loc 1 2766 3 is_stmt 1 view .LVU462
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 1516              		.loc 1 2766 6 is_stmt 0 view .LVU463
 1517 00c8 5C2C     		cmp	r4, #92
 1518 00ca 18BF     		it	ne
 1519 00cc 2F2C     		cmpne	r4, #47
 1520 00ce CCD0     		beq	.L118
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
 1521              		.loc 1 2770 3 is_stmt 1 view .LVU464
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
 1522              		.loc 1 2770 6 is_stmt 0 view .LVU465
 1523 00d0 2E2C     		cmp	r4, #46
 1524 00d2 18BF     		it	ne
 1525 00d4 CB45     		cmpne	fp, r9
 1526 00d6 DED8     		bhi	.L121
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1527              		.loc 1 2771 4 is_stmt 1 view .LVU466
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1528              		.loc 1 2771 22 is_stmt 0 view .LVU467
 1529 00d8 2E3C     		subs	r4, r4, #46
 1530              	.LVL159:
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1531              		.loc 1 2771 22 view .LVU468
 1532 00da 18BF     		it	ne
 1533 00dc 0124     		movne	r4, #1
 1534              	.LVL160:
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1535              		.loc 1 2771 17 view .LVU469
 1536 00de BBF10B0F 		cmp	fp, #11
 1537 00e2 08BF     		it	eq
 1538 00e4 44F00104 		orreq	r4, r4, #1
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1539              		.loc 1 2771 7 view .LVU470
ARM GAS  C:\usertemp\ccmutrvj.s 			page 79


 1540 00e8 84B9     		cbnz	r4, .L130
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 1541              		.loc 1 2772 6 view .LVU471
 1542 00ea 4FF00809 		mov	r9, #8
 1543              	.LVL161:
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 1544              		.loc 1 2772 14 view .LVU472
 1545 00ee 4FF00B0B 		mov	fp, #11
 1546              	.LVL162:
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 1547              		.loc 1 2772 14 view .LVU473
 1548 00f2 E3E7     		b	.L122
 1549              	.LVL163:
 1550              	.L139:
2777:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1551              		.loc 1 2777 4 is_stmt 1 view .LVU474
2777:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1552              		.loc 1 2777 16 is_stmt 0 view .LVU475
 1553 00f4 803C     		subs	r4, r4, #128
 1554              	.LVL164:
2777:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1555              		.loc 1 2777 6 view .LVU476
 1556 00f6 0A4B     		ldr	r3, .L140+4
 1557 00f8 1C5D     		ldrb	r4, [r3, r4]	@ zero_extendqisi2
 1558              	.LVL165:
2777:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1559              		.loc 1 2777 6 view .LVU477
 1560 00fa CFE7     		b	.L123
 1561              	.LVL166:
 1562              	.L138:
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 1563              		.loc 1 2798 22 is_stmt 1 discriminator 1 view .LVU478
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 1564              		.loc 1 2798 29 is_stmt 0 discriminator 1 view .LVU479
 1565 00fc 0523     		movs	r3, #5
 1566 00fe 86F82430 		strb	r3, [r6, #36]
 1567 0102 C1E7     		b	.L125
 1568              	.L133:
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1569              		.loc 1 2799 14 discriminator 2 view .LVU480
 1570 0104 0023     		movs	r3, #0
 1571 0106 C2E7     		b	.L126
 1572              	.LVL167:
 1573              	.L128:
2757:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = p + si;								/* Return pointer to the next segment */
 1574              		.loc 1 2757 48 discriminator 2 view .LVU481
 1575 0108 0620     		movs	r0, #6
 1576 010a 00E0     		b	.L115
 1577              	.LVL168:
 1578              	.L130:
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
 1579              		.loc 1 2771 37 discriminator 1 view .LVU482
 1580 010c 0620     		movs	r0, #6
 1581              	.LVL169:
 1582              	.L115:
2802:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LFN != 0 */
2803:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  C:\usertemp\ccmutrvj.s 			page 80


 1583              		.loc 1 2803 1 view .LVU483
 1584 010e BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1585              	.LVL170:
 1586              	.L131:
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
 1587              		.loc 1 2790 50 discriminator 1 view .LVU484
 1588 0112 0620     		movs	r0, #6
 1589 0114 FBE7     		b	.L115
 1590              	.LVL171:
 1591              	.L132:
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1592              		.loc 1 2796 21 discriminator 1 view .LVU485
 1593 0116 0620     		movs	r0, #6
 1594 0118 F9E7     		b	.L115
 1595              	.L141:
 1596 011a 00BF     		.align	2
 1597              	.L140:
 1598 011c 00000000 		.word	.LC0
 1599 0120 00000000 		.word	ExCvt
 1600              		.cfi_endproc
 1601              	.LFE365:
 1603              		.section	.text.get_ldnumber,"ax",%progbits
 1604              		.align	1
 1605              		.syntax unified
 1606              		.thumb
 1607              		.thumb_func
 1609              	get_ldnumber:
 1610              	.LVL172:
 1611              	.LFB367:
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 
2805:Middlewares/Third_Party/FatFs/src/ff.c **** 
2806:Middlewares/Third_Party/FatFs/src/ff.c **** 
2807:Middlewares/Third_Party/FatFs/src/ff.c **** 
2808:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2809:Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2810:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 
2812:Middlewares/Third_Party/FatFs/src/ff.c **** static
2813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2814:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2815:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2816:Middlewares/Third_Party/FatFs/src/ff.c **** )
2817:Middlewares/Third_Party/FatFs/src/ff.c **** {
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
2822:Middlewares/Third_Party/FatFs/src/ff.c **** 
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 
2824:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2825:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path != '/' && *path != '\\') {	/* Without heading separator */
2826:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = fs->cdir;				/* Start from current directory */
2827:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2828:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2829:Middlewares/Third_Party/FatFs/src/ff.c **** 	{										/* With heading separator */
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*path == '/' || *path == '\\') path++;	/* Strip heading separator */
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 81


2832:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2833:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj->n_frag = 0;	/* Invalidate last fragment counter of the object */
2835:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2836:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT && obj->sclust) {	/* Retrieve the sub-directory status if needed */
2837:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_scl = fs->cdc_scl;
2840:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_size = fs->cdc_size;
2841:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_ofs = fs->cdc_ofs;
2842:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_obj_dir(&dj, obj);
2843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2844:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->objsize = ld_dword(fs->dirbuf + XDIR_FileSize);
2845:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2846:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2847:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2848:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 
2854:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fn[NSFLAG] = NS_NONAME;
2865:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;
2866:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2870:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2871:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
2873:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(obj->attr & AM_DIR)) {		/* It is not a sub-directory and cannot follow */
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
2876:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2877:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2878:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {		/* Save containing directory information for next dir */
2879:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_scl = obj->sclust;
2880:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
2881:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_ofs = dp->blk_ofs;
2882:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Open next directory */
2883:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
2886:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_clust(fs, fs->win + dp->dptr % SS(fs));	/* Open next directory */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 82


2889:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 
2893:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2894:Middlewares/Third_Party/FatFs/src/ff.c **** }
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 
2899:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2900:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2901:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 
2903:Middlewares/Third_Party/FatFs/src/ff.c **** static
2904:Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2906:Middlewares/Third_Party/FatFs/src/ff.c **** )
2907:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1612              		.loc 1 2907 1 is_stmt 1 view -0
 1613              		.cfi_startproc
 1614              		@ args = 0, pretend = 0, frame = 0
 1615              		@ frame_needed = 0, uses_anonymous_args = 0
 1616              		@ link register save eliminated.
 1617              		.loc 1 2907 1 is_stmt 0 view .LVU487
 1618 0000 0146     		mov	r1, r0
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1619              		.loc 1 2908 2 is_stmt 1 view .LVU488
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1620              		.loc 1 2909 2 view .LVU489
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1621              		.loc 1 2910 2 view .LVU490
 1622              	.LVL173:
2911:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const volid[] = {_VOLUME_STRS};
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2914:Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2915:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2916:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2917:Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:Middlewares/Third_Party/FatFs/src/ff.c **** 
2919:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 1623              		.loc 1 2919 2 view .LVU491
 1624              		.loc 1 2919 6 is_stmt 0 view .LVU492
 1625 0002 0068     		ldr	r0, [r0]
 1626              	.LVL174:
 1627              		.loc 1 2919 5 view .LVU493
 1628 0004 08B1     		cbz	r0, .L153
2920:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 1629              		.loc 1 2920 11 view .LVU494
 1630 0006 0246     		mov	r2, r0
 1631 0008 03E0     		b	.L143
 1632              	.L153:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1633              		.loc 1 2910 6 view .LVU495
 1634 000a 4FF0FF30 		mov	r0, #-1
 1635 000e 7047     		bx	lr
ARM GAS  C:\usertemp\ccmutrvj.s 			page 83


 1636              	.LVL175:
 1637              	.L145:
 1638              		.loc 1 2920 73 is_stmt 1 discriminator 3 view .LVU496
 1639 0010 0132     		adds	r2, r2, #1
 1640              	.LVL176:
 1641              	.L143:
 1642              		.loc 1 2920 56 discriminator 1 view .LVU497
 1643              		.loc 1 2920 26 is_stmt 0 discriminator 1 view .LVU498
 1644 0012 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1645              		.loc 1 2920 56 discriminator 1 view .LVU499
 1646 0014 202B     		cmp	r3, #32
 1647 0016 01D9     		bls	.L152
 1648 0018 3A2B     		cmp	r3, #58
 1649 001a F9D1     		bne	.L145
 1650              	.L152:
2921:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
 1651              		.loc 1 2921 3 is_stmt 1 view .LVU500
 1652              		.loc 1 2921 6 is_stmt 0 view .LVU501
 1653 001c 3A2B     		cmp	r3, #58
 1654 001e 01D0     		beq	.L154
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0';
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2926:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
2928:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2929:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2930:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2931:Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2932:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = volid[i]; tp = *path;
2935:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2936:Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
2937:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2940:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2941:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2944:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2945:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
2947:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2948:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2950:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 1655              		.loc 1 2951 7 view .LVU502
 1656 0020 0020     		movs	r0, #0
 1657              	.LVL177:
2952:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2953:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2954:Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
2955:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  C:\usertemp\ccmutrvj.s 			page 84


 1658              		.loc 1 2955 1 view .LVU503
 1659 0022 7047     		bx	lr
 1660              	.LVL178:
 1661              	.L154:
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
 1662              		.loc 1 2922 4 is_stmt 1 view .LVU504
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1663              		.loc 1 2923 4 view .LVU505
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1664              		.loc 1 2923 11 is_stmt 0 view .LVU506
 1665 0024 0346     		mov	r3, r0
 1666              	.LVL179:
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1667              		.loc 1 2923 8 view .LVU507
 1668 0026 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 1669              	.LVL180:
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1670              		.loc 1 2923 14 view .LVU508
 1671 002a 3038     		subs	r0, r0, #48
 1672              	.LVL181:
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1673              		.loc 1 2924 4 is_stmt 1 view .LVU509
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1674              		.loc 1 2924 7 is_stmt 0 view .LVU510
 1675 002c 0928     		cmp	r0, #9
 1676 002e 98BF     		it	ls
 1677 0030 9A42     		cmpls	r2, r3
 1678 0032 03D1     		bne	.L150
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1679              		.loc 1 2925 5 is_stmt 1 view .LVU511
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1680              		.loc 1 2925 8 is_stmt 0 view .LVU512
 1681 0034 28B9     		cbnz	r0, .L151
2926:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
 1682              		.loc 1 2926 6 is_stmt 1 view .LVU513
 1683              	.LVL182:
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1684              		.loc 1 2927 6 view .LVU514
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1685              		.loc 1 2927 12 is_stmt 0 view .LVU515
 1686 0036 0132     		adds	r2, r2, #1
 1687              	.LVL183:
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1688              		.loc 1 2927 12 view .LVU516
 1689 0038 0A60     		str	r2, [r1]
 1690 003a 7047     		bx	lr
 1691              	.LVL184:
 1692              	.L150:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1693              		.loc 1 2910 6 view .LVU517
 1694 003c 4FF0FF30 		mov	r0, #-1
 1695              	.LVL185:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1696              		.loc 1 2910 6 view .LVU518
 1697 0040 7047     		bx	lr
 1698              	.LVL186:
 1699              	.L151:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 85


2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1700              		.loc 1 2910 6 view .LVU519
 1701 0042 4FF0FF30 		mov	r0, #-1
 1702              	.LVL187:
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1703              		.loc 1 2946 4 is_stmt 1 view .LVU520
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1704              		.loc 1 2946 11 is_stmt 0 view .LVU521
 1705 0046 7047     		bx	lr
 1706              		.cfi_endproc
 1707              	.LFE367:
 1709              		.section	.text.putc_init,"ax",%progbits
 1710              		.align	1
 1711              		.syntax unified
 1712              		.thumb
 1713              		.thumb_func
 1715              	putc_init:
 1716              	.LVL188:
 1717              	.LFB393:
2956:Middlewares/Third_Party/FatFs/src/ff.c **** 
2957:Middlewares/Third_Party/FatFs/src/ff.c **** 
2958:Middlewares/Third_Party/FatFs/src/ff.c **** 
2959:Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2961:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2962:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2963:Middlewares/Third_Party/FatFs/src/ff.c **** 
2964:Middlewares/Third_Party/FatFs/src/ff.c **** static
2965:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT, 1:exFAT, 2:Valid BS but not FAT, 3:Not a BS, 4:Disk error */
2966:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2967:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to load and check if it is an FAT-VBR or not */
2968:Middlewares/Third_Party/FatFs/src/ff.c **** )
2969:Middlewares/Third_Party/FatFs/src/ff.c **** {
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
2972:Middlewares/Third_Party/FatFs/src/ff.c **** 
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(fs->win + BS_55AA) != 0xAA55) return 3;	/* Check boot record signature (always placed 
2974:Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->win[BS_JmpBoot] == 0xE9 || (fs->win[BS_JmpBoot] == 0xEB && fs->win[BS_JmpBoot + 2] == 0x90
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
2978:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2979:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2980:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!mem_cmp(fs->win + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11)) return 1;
2981:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 2;
2983:Middlewares/Third_Party/FatFs/src/ff.c **** }
2984:Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:Middlewares/Third_Party/FatFs/src/ff.c **** 
2987:Middlewares/Third_Party/FatFs/src/ff.c **** 
2988:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2989:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2990:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2991:Middlewares/Third_Party/FatFs/src/ff.c **** 
2992:Middlewares/Third_Party/FatFs/src/ff.c **** static
2993:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 86


2994:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2995:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2996:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* !=0: Check write protection for write access */
2997:Middlewares/Third_Party/FatFs/src/ff.c **** )
2998:Middlewares/Third_Party/FatFs/src/ff.c **** {
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
3006:Middlewares/Third_Party/FatFs/src/ff.c **** 
3007:Middlewares/Third_Party/FatFs/src/ff.c **** 
3008:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3012:Middlewares/Third_Party/FatFs/src/ff.c **** 
3013:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
3016:Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
3019:Middlewares/Third_Party/FatFs/src/ff.c **** 
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= (BYTE)~FA_READ;				/* Desired access mode, write access or not */
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
3026:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
3028:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3029:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3030:Middlewares/Third_Party/FatFs/src/ff.c **** 
3031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
3032:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
3033:Middlewares/Third_Party/FatFs/src/ff.c **** 
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
3039:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && mode && (stat & STA_PROTECT)) { /* Check disk write protection if needed */
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
3042:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3043:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS					/* Get sector size (multiple sector size cfg only) */
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK) return FR_DISK_ERR;
3045:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
3046:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3047:Middlewares/Third_Party/FatFs/src/ff.c **** 
3048:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning rules, FDISK and SFD. */
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 87


3051:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
3055:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3056:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);					/* Partition number: 0:auto, 1-4:forced */
3057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {							/* Find an FAT volume */
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
3062:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 4) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
3065:Middlewares/Third_Party/FatFs/src/ff.c **** 
3066:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found (bsect). Following code initializes the file system object */
3067:Middlewares/Third_Party/FatFs/src/ff.c **** 
3068:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3069:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1) {
3070:Middlewares/Third_Party/FatFs/src/ff.c **** 		QWORD maxlba;
3071:Middlewares/Third_Party/FatFs/src/ff.c **** 
3072:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = BPB_ZeroedEx; i < BPB_ZeroedEx + 53 && fs->win[i] == 0; i++) ;	/* Check zero filler */
3073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < BPB_ZeroedEx + 53) return FR_NO_FILESYSTEM;
3074:Middlewares/Third_Party/FatFs/src/ff.c **** 
3075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_FSVerEx) != 0x100) return FR_NO_FILESYSTEM;	/* Check exFAT revision (Mu
3076:Middlewares/Third_Party/FatFs/src/ff.c **** 
3077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (1 << fs->win[BPB_BytsPerSecEx] != SS(fs)) {	/* (BPB_BytsPerSecEx must be equal to the physica
3078:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_NO_FILESYSTEM;
3079:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3080:Middlewares/Third_Party/FatFs/src/ff.c **** 
3081:Middlewares/Third_Party/FatFs/src/ff.c **** 		maxlba = ld_qword(fs->win + BPB_TotSecEx) + bsect;	/* Last LBA + 1 of the volume */
3082:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba >= 0x100000000) return FR_NO_FILESYSTEM;	/* (It cannot be handled in 32-bit LBA) */
3083:Middlewares/Third_Party/FatFs/src/ff.c **** 
3084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = ld_dword(fs->win + BPB_FatSzEx);	/* Number of sectors per FAT */
3085:Middlewares/Third_Party/FatFs/src/ff.c **** 
3086:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATsEx];			/* Number of FATs */
3087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1) return FR_NO_FILESYSTEM;	/* (Supports only 1 FAT) */
3088:Middlewares/Third_Party/FatFs/src/ff.c **** 
3089:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = 1 << fs->win[BPB_SecPerClusEx];		/* Cluster size */
3090:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0)	return FR_NO_FILESYSTEM;	/* (Must be 1..32768) */
3091:Middlewares/Third_Party/FatFs/src/ff.c **** 
3092:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = ld_dword(fs->win + BPB_NumClusEx);		/* Number of clusters */
3093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst > MAX_EXFAT) return FR_NO_FILESYSTEM;	/* (Too many clusters) */
3094:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;
3095:Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3097:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;
3098:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + ld_dword(fs->win + BPB_DataOfsEx);
3099:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + ld_dword(fs->win + BPB_FatOfsEx);
3100:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba < (QWORD)fs->database + nclst * fs->csize) return FR_NO_FILESYSTEM;	/* (Volume size mu
3101:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = ld_dword(fs->win + BPB_RootClusEx);
3102:Middlewares/Third_Party/FatFs/src/ff.c **** 
3103:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Check if bitmap location is in assumption (at the first cluster) */
3104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, clust2sect(fs, fs->dirbase)) != FR_OK) return FR_DISK_ERR;
3105:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < SS(fs); i += SZDIRE) {
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->win[i] == 0x81 && ld_dword(fs->win + i + 20) == 2) break;	/* 81 entry with cluster #2? *
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 88


3108:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == SS(fs)) return FR_NO_FILESYSTEM;
3109:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3110:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3111:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_EXFAT;			/* FAT sub-type */
3113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
3114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_BytsPerSec) != SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_BytsPerSec must
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize = ld_word(fs->win + BPB_FATSz16);		/* Number of sectors per FAT */
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATs];				/* Number of FATs */
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = fs->win[BPB_SecPerClus];			/* Cluster size */
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_rootdir = ld_word(fs->win + BPB_RootEntCnt);	/* Number of root directory entries */
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		tsect = ld_word(fs->win + BPB_TotSec16);		/* Number of sectors on the volume */
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		nrsv = ld_word(fs->win + BPB_RsvdSecCnt);		/* Number of reserved sectors */
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
3137:Middlewares/Third_Party/FatFs/src/ff.c **** 
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine the FAT sub type */
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZDIRE);	/* RSV + FAT + DIR */
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
3146:Middlewares/Third_Party/FatFs/src/ff.c **** 
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;						/* Number of FAT entries */
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
3157:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir == 0)	return FR_NO_FILESYSTEM;/* (BPB_RootEntCnt must not be 0) */
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
3162:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_FATSz must not
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 89


3165:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3166:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get FSINFO if available */
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3168:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
3169:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo32 == 1 */
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
3173:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3179:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst = ld_dword(fs->win + FSI_Free_Count);
3181:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3182:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->last_clst = ld_dword(fs->win + FSI_Nxt_Free);
3184:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3187:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* (_FS_NOFSINFO & 3) != 3 */
3188:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;		/* FAT sub-type */
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
3193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->lfnbuf = LfnBuf;	/* Static LFN working buffer */
3195:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->dirbuf = DirBuf;	/* Static directory block scratchpad buuffer */
3197:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3198:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3199:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
3200:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;			/* Initialize current directory */
3201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3202:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0			/* Clear file lock semaphores */
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
3204:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3205:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3206:Middlewares/Third_Party/FatFs/src/ff.c **** }
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 
3210:Middlewares/Third_Party/FatFs/src/ff.c **** 
3211:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3212:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
3213:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 
3215:Middlewares/Third_Party/FatFs/src/ff.c **** static
3216:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* Returns FR_OK or FR_INVALID_OBJECT */
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,		/* Pointer to the _OBJ, the 1st member in the FIL/DIR object, to check validity */
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fs		/* Pointer to pointer to the owner file system object to return */
3219:Middlewares/Third_Party/FatFs/src/ff.c **** )
3220:Middlewares/Third_Party/FatFs/src/ff.c **** {
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 90


3222:Middlewares/Third_Party/FatFs/src/ff.c **** 
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj && obj->fs && obj->fs->fs_type && obj->id == obj->fs->id) {	/* Test if the object is valid
3225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3226:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (lock_fs(obj->fs)) {	/* Obtain the filesystem object */
3227:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialize
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3229:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3230:Middlewares/Third_Party/FatFs/src/ff.c **** 				unlock_fs(obj->fs, FR_OK);
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_TIMEOUT;
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3235:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialized
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3239:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	*fs = (res == FR_OK) ? obj->fs : 0;	/* Corresponding filesystem object */
3242:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3243:Middlewares/Third_Party/FatFs/src/ff.c **** }
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 
3246:Middlewares/Third_Party/FatFs/src/ff.c **** 
3247:Middlewares/Third_Party/FatFs/src/ff.c **** 
3248:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------------------------------------
3249:Middlewares/Third_Party/FatFs/src/ff.c **** 
3250:Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions (FatFs API)
3251:Middlewares/Third_Party/FatFs/src/ff.c **** 
3252:Middlewares/Third_Party/FatFs/src/ff.c **** ----------------------------------------------------------------------------*/
3253:Middlewares/Third_Party/FatFs/src/ff.c **** 
3254:Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:Middlewares/Third_Party/FatFs/src/ff.c **** 
3256:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
3258:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3259:Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
3261:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
3262:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
3263:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* Mode option 0:Do not mount (delayed mount), 1:Mount immediately */
3264:Middlewares/Third_Party/FatFs/src/ff.c **** )
3265:Middlewares/Third_Party/FatFs/src/ff.c **** {
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
3271:Middlewares/Third_Party/FatFs/src/ff.c **** 
3272:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
3278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 91


3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
3280:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3281:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
3283:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
3285:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
3289:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
3291:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);	/* Force mounted the volume */
3298:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3299:Middlewares/Third_Party/FatFs/src/ff.c **** }
3300:Middlewares/Third_Party/FatFs/src/ff.c **** 
3301:Middlewares/Third_Party/FatFs/src/ff.c **** 
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 
3303:Middlewares/Third_Party/FatFs/src/ff.c **** 
3304:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3305:Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
3306:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3307:Middlewares/Third_Party/FatFs/src/ff.c **** 
3308:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
3309:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
3310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
3311:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
3312:Middlewares/Third_Party/FatFs/src/ff.c **** )
3313:Middlewares/Third_Party/FatFs/src/ff.c **** {
3314:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3316:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3317:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3318:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl, bcs, clst, sc;
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
3320:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3321:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3322:Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
3325:Middlewares/Third_Party/FatFs/src/ff.c **** 
3326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= _FS_READONLY ? FA_READ : FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_CREATE_NEW | FA_OPEN_A
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3332:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 92


3336:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3339:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3341:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3342:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3343:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3344:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
3347:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
3348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3349:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
3350:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3351:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
3352:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
3355:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3356:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW) res = FR_EXIST;	/* Cannot create as new file */
3361:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
3365:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3367:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get current allocation info */
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.fs = fs;
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.n_frag = 0;
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Initialize directory entry block */
3374:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_CrtTime, dw);	/* Set created time */
3375:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_CrtTime10] = 0;
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, dw);	/* Set modified time */
3377:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_ModTime10] = 0;
3378:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_ARC;				/* Reset attribute */
3379:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, 0);		/* Reset file allocation info */
3380:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_FileSize, 0);
3381:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_ValidFileSize, 0);
3382:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 1;
3383:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
3384:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK && fp->obj.sclust) {		/* Remove the cluster chain if exist */
3385:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&fp->obj, fp->obj.sclust, 0);
3386:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->last_clst = fp->obj.sclust - 1;		/* Reuse the cluster hole */
3387:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3388:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
3389:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3390:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
3391:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean directory info */
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_CrtTime, dw);	/* Set created time */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 93


3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
3399:Middlewares/Third_Party/FatFs/src/ff.c **** 
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cl) {							/* Remove the cluster chain if exist */
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
3406:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3407:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3408:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3409:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3411:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Following succeeded */
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3415:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dj.obj.attr & AM_RDO)) { /* R/O violation */
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
3418:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3419:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3420:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
3426:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
3427:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3429:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
3430:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3431:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3432:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* R/O configuration */
3433:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3434:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3435:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3436:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3437:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3438:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3439:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3440:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3441:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3442:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3443:Middlewares/Third_Party/FatFs/src/ff.c **** 
3444:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3445:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_scl = dj.obj.sclust;							/* Get containing directory info */
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_ofs = dj.blk_ofs;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 94


3450:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
3451:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3452:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_clust(fs, dj.dir);					/* Get object allocation info */
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;			/* Disable fast seek mode */
3461:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.fs = fs;	 	/* Validate the file object */
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
3467:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
3468:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3469:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3470:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fp->buf, 0, _MAX_SS);	/* Clear sector buffer */
3471:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((mode & FA_SEEKEND) && fp->obj.objsize > 0) {	/* Seek to end of file if FA_OPEN_APPEND is sp
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
3480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->sect = sc + (DWORD)(ofs / SS(fs));
3487:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3488:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_read(fs->drv, fp->buf, fp->sect, 1) != RES_OK) res = FR_DISK_ERR;
3489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3490:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3493:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3497:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3498:Middlewares/Third_Party/FatFs/src/ff.c **** 
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) fp->obj.fs = 0;	/* Invalidate file object on error */
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3502:Middlewares/Third_Party/FatFs/src/ff.c **** }
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 95


3507:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3508:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
3509:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 
3511:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 	/* Pointer to the file object */
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,	/* Pointer to data buffer */
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,	/* Number of bytes to read */
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br	/* Pointer to number of bytes read */
3516:Middlewares/Third_Party/FatFs/src/ff.c **** )
3517:Middlewares/Third_Party/FatFs/src/ff.c **** {
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
3532:Middlewares/Third_Party/FatFs/src/ff.c **** 
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
3540:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
3541:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3544:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3545:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3546:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, fp->clust);	/* Follow cluster chain on the FAT */
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fs, FR_INT_ERR);
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, rbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
3563:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 96


3564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->wflag && fs->winsect - sect < cc) {
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fs->winsect - sect) * SS(fs)), fs->win, SS(fs));
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3568:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA_DIRTY) && fp->sect - sect < cc) {
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3572:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fs) * cc;				/* Number of bytes transferred */
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
3576:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3577:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3578:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect) {			/* Load data sector if not in cache */
3579:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK)	ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
3586:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3587:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
3589:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
3592:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3593:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3594:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fs->win + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3595:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3596:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fp->buf + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3597:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3598:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3599:Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
3601:Middlewares/Third_Party/FatFs/src/ff.c **** }
3602:Middlewares/Third_Party/FatFs/src/ff.c **** 
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 
3606:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3607:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3608:Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
3609:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3610:Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	const void* buff,	/* Pointer to the data to be written */
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
3616:Middlewares/Third_Party/FatFs/src/ff.c **** )
3617:Middlewares/Third_Party/FatFs/src/ff.c **** {
3618:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3620:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 97


3621:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check fptr wrap-around (file size cannot reach 4GiB on FATxx) */
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((!_FS_EXFAT || fs->fs_type != FS_EXFAT) && (DWORD)(fp->fptr + btw) < (DWORD)fp->fptr) {
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
3633:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3634:Middlewares/Third_Party/FatFs/src/ff.c **** 
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3645:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* On the middle or end of the file */
3646:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, fp->clust);	/* Follow or stretch cluster chain on the FAT */
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3654:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
3660:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3661:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3662:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->winsect == fp->sect && sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Write-back s
3663:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back sector cache */
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
3667:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3668:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, wbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 98


3678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct writ
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fs->win, wbuff + ((fs->winsect - sect) * SS(fs)), SS(fs));
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 0;
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3684:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write *
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3690:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fs) * cc;		/* Number of bytes transferred */
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3694:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->obj.objsize) {	/* Avoid silly cache filling on the growing edge */
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->winsect = sect;
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect && 		/* Fill sector cache with file data */
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3705:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
3710:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fs->win + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
3714:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fp->buf + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3716:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
3717:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA_MODIFIED;				/* Set file change flag */
3721:Middlewares/Third_Party/FatFs/src/ff.c **** 
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
3723:Middlewares/Third_Party/FatFs/src/ff.c **** }
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 
3728:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3729:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
3730:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3731:Middlewares/Third_Party/FatFs/src/ff.c **** 
3732:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
3733:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3734:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  C:\usertemp\ccmutrvj.s 			page 99


3735:Middlewares/Third_Party/FatFs/src/ff.c **** {
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3739:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3740:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3741:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3742:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3744:Middlewares/Third_Party/FatFs/src/ff.c **** 
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3747:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
3748:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {	/* Write-back cached data if needed */
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3753:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3754:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
3755:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();				/* Modified time */
3756:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_first_frag(&fp->obj);	/* Fill first fragment on the FAT if needed */
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if nee
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3762:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 					INIT_NAMBUF(fs);
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_obj_dir(&dj, &fp->obj);	/* Load directory entry block */
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_Attr] |= AM_ARC;				/* Set archive bit */
3767:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_GenFlags] = fp->obj.stat | 1;	/* Update file allocation info */
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_FstClus, fp->obj.sclust);
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_FileSize, fp->obj.objsize);
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_ValidFileSize, fp->obj.objsize);
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_ModTime, tm);		/* Update modified time */
3772:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_ModTime10] = 0;
3773:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_AccTime, 0);
3774:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&dj);	/* Restore it to the directory */
3775:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3776:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = sync_fs(fs);
3777:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag &= (BYTE)~FA_MODIFIED;
3778:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3779:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3780:Middlewares/Third_Party/FatFs/src/ff.c **** 					FREE_NAMBUF();
3781:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3782:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3783:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3784:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, fp->dir_sect);
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 100


3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
3796:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3797:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3798:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3802:Middlewares/Third_Party/FatFs/src/ff.c **** }
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 
3804:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3805:Middlewares/Third_Party/FatFs/src/ff.c **** 
3806:Middlewares/Third_Party/FatFs/src/ff.c **** 
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 
3808:Middlewares/Third_Party/FatFs/src/ff.c **** 
3809:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3810:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
3811:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3812:Middlewares/Third_Party/FatFs/src/ff.c **** 
3813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object to be closed */
3815:Middlewares/Third_Party/FatFs/src/ff.c **** )
3816:Middlewares/Third_Party/FatFs/src/ff.c **** {
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 
3820:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
3823:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(&fp->obj, &fs);	/* Lock volume */
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3827:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->obj.lockid);	/* Decrement file open counter */
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
3830:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.fs = 0;			/* Invalidate file object */
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3834:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
3836:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3838:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3839:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3840:Middlewares/Third_Party/FatFs/src/ff.c **** }
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 
3845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
3846:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3847:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
3848:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  C:\usertemp\ccmutrvj.s 			page 101


3849:Middlewares/Third_Party/FatFs/src/ff.c **** 
3850:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3851:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
3852:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
3853:Middlewares/Third_Party/FatFs/src/ff.c **** )
3854:Middlewares/Third_Party/FatFs/src/ff.c **** {
3855:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3856:Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3859:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
3860:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3861:Middlewares/Third_Party/FatFs/src/ff.c **** 
3862:Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;	/* Set it as current volume */
3863:Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3865:Middlewares/Third_Party/FatFs/src/ff.c **** }
3866:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3867:Middlewares/Third_Party/FatFs/src/ff.c **** 
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 
3869:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3871:Middlewares/Third_Party/FatFs/src/ff.c **** )
3872:Middlewares/Third_Party/FatFs/src/ff.c **** {
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->cdir = dj.obj.sclust;	/* It is the start directory itself */
3887:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_scl = dj.obj.c_scl;
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_size = dj.obj.c_size;
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_ofs = dj.obj.c_ofs;
3892:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3893:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {	/* It is a sub-directory */
3896:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3897:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
3898:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_dword(fs->dirbuf + XDIR_FstClus);		/* Sub-directory cluster */
3899:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_scl = dj.obj.sclust;						/* Save containing directory information */
3900:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3901:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_ofs = dj.blk_ofs;
3902:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3903:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3904:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_clust(fs, dj.dir);					/* Sub-directory cluster */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 102


3906:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3907:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3908:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3909:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3910:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3911:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3912:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3914:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3915:Middlewares/Third_Party/FatFs/src/ff.c **** 
3916:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3917:Middlewares/Third_Party/FatFs/src/ff.c **** }
3918:Middlewares/Third_Party/FatFs/src/ff.c **** 
3919:Middlewares/Third_Party/FatFs/src/ff.c **** 
3920:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3921:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3922:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3923:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
3924:Middlewares/Third_Party/FatFs/src/ff.c **** )
3925:Middlewares/Third_Party/FatFs/src/ff.c **** {
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3933:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3934:Middlewares/Third_Party/FatFs/src/ff.c **** 
3935:Middlewares/Third_Party/FatFs/src/ff.c **** 
3936:Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3937:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume((const TCHAR**)&buff, &fs, 0);	/* Get current volume */
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* (Cannot do getcwd on exFAT and returns root path)
3944:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.sclust = fs->cdir;				/* Start to follow upper directory from current directory */
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((ccl = dj.obj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3946:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dj.sect);
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.obj.sclust = ld_clust(fs, dj.dir);	/* Goto parent directory */
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 0);
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {							/* Find the entry links to the child directory */
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_read(&dj, 0);
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ccl == ld_clust(fs, dj.dir)) break;	/* Found the entry */
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_next(&dj, 0);
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (res == FR_OK);
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3961:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = 0; fno.fname[n]; n++) ;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 103


3963:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NOT_ENOUGH_CORE; break;
3965:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (n) buff[--i] = fno.fname[--n];
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
3968:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3969:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3970:Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3971:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3972:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3973:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3974:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3975:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3976:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
3977:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3978:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3979:Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3981:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3982:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3983:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3986:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3987:Middlewares/Third_Party/FatFs/src/ff.c **** 
3988:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3989:Middlewares/Third_Party/FatFs/src/ff.c **** }
3990:Middlewares/Third_Party/FatFs/src/ff.c **** 
3991:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
3992:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3993:Middlewares/Third_Party/FatFs/src/ff.c **** 
3994:Middlewares/Third_Party/FatFs/src/ff.c **** 
3995:Middlewares/Third_Party/FatFs/src/ff.c **** 
3996:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3997:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3998:Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3999:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4000:Middlewares/Third_Party/FatFs/src/ff.c **** 
4001:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
4002:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
4003:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File pointer from top of file */
4004:Middlewares/Third_Party/FatFs/src/ff.c **** )
4005:Middlewares/Third_Party/FatFs/src/ff.c **** {
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4008:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
4009:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
4010:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4011:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
4012:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4013:Middlewares/Third_Party/FatFs/src/ff.c **** 
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
4015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
4016:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
4017:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && fs->fs_type == FS_EXFAT) {
4018:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if needed
4019:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 104


4020:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
4022:Middlewares/Third_Party/FatFs/src/ff.c **** 
4023:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4031:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
4041:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fs->n_fatent);	/* Repeat until end of chain */
4043:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
4047:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
4049:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4050:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->obj.objsize) ofs = fp->obj.objsize;	/* Clip offset at the file size */
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
4058:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
4059:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4060:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
4064:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4065:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4066:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fs->drv, fp->buf, dsc, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Load current sec
4067:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sect = dsc;
4069:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4072:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
4073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4074:Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
4076:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
ARM GAS  C:\usertemp\ccmutrvj.s 			page 105


4077:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type != FS_EXFAT && ofs >= 0x100000000) ofs = 0xFFFFFFFF;	/* Clip at 4GiB-1 if at FATx
4079:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->obj.objsize && (_FS_READONLY || !(fp->flag & FA_WRITE))) {	/* In read-only mode, cl
4081:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
4082:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
4092:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
4093:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;					/* start from the first cluster */
4094:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
4100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4101:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
4103:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
4106:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
4107:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
4110:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
4111:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag |= FA_MODIFIED;
4112:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, clst);	/* Follow chain with forceed stretch */
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
4116:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4117:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4118:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4119:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, clst);	/* Follow cluster chain if not in write mode */
4121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
4125:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
4131:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4132:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4133:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 106


4134:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_READONLY && fp->fptr > fp->obj.objsize) {		/* Set file change flag if the file size is e
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
4137:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4138:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) && nsect != fp->sect) {	/* Fill sector cache if needed */
4139:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4140:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {			/* Write-back dirty sector cache */
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4145:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, nsect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
4147:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = nsect;
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4153:Middlewares/Third_Party/FatFs/src/ff.c **** }
4154:Middlewares/Third_Party/FatFs/src/ff.c **** 
4155:Middlewares/Third_Party/FatFs/src/ff.c **** 
4156:Middlewares/Third_Party/FatFs/src/ff.c **** 
4157:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
4158:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4159:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
4160:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 
4162:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
4165:Middlewares/Third_Party/FatFs/src/ff.c **** )
4166:Middlewares/Third_Party/FatFs/src/ff.c **** {
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 
4175:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4176:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj = &dp->obj;
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
4184:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
4185:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4186:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_scl = obj->sclust;							/* Get containing directory inforamation */
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_ofs = dp->blk_ofs;
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 107


4191:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4192:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4194:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_clust(fs, dp->dir);	/* Get object allocation info */
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4198:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* This object is a file */
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
4205:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = 0;	/* Root directory need not to be locked */
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4214:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
4219:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) obj->fs = 0;		/* Invalidate the directory object if function faild */
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4223:Middlewares/Third_Party/FatFs/src/ff.c **** }
4224:Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:Middlewares/Third_Party/FatFs/src/ff.c **** 
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 
4228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4229:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
4230:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 
4232:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
4234:Middlewares/Third_Party/FatFs/src/ff.c **** )
4235:Middlewares/Third_Party/FatFs/src/ff.c **** {
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);			/* Check validity of the file object */
4241:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4242:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.lockid) {				/* Decrement sub-directory open counter */
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
4245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
4247:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  C:\usertemp\ccmutrvj.s 			page 108


4248:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.fs = 0;			/* Invalidate directory object */
4250:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
4252:Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
4253:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4254:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4255:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4256:Middlewares/Third_Party/FatFs/src/ff.c **** }
4257:Middlewares/Third_Party/FatFs/src/ff.c **** 
4258:Middlewares/Third_Party/FatFs/src/ff.c **** 
4259:Middlewares/Third_Party/FatFs/src/ff.c **** 
4260:Middlewares/Third_Party/FatFs/src/ff.c **** 
4261:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4262:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
4263:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 
4265:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4268:Middlewares/Third_Party/FatFs/src/ff.c **** )
4269:Middlewares/Third_Party/FatFs/src/ff.c **** {
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);	/* Check validity of the directory object */
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_NAMBUF(fs);
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_NAMBUF();
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4292:Middlewares/Third_Party/FatFs/src/ff.c **** }
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 
4296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
4297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find Next File                                                        */
4299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 
4301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
4304:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  C:\usertemp\ccmutrvj.s 			page 109


4305:Middlewares/Third_Party/FatFs/src/ff.c **** {
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;		/* Test for the file name */
4313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && _USE_FIND == 2
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->altname, 0, 0)) break;	/* Test for alternative name if exist *
4315:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4318:Middlewares/Third_Party/FatFs/src/ff.c **** }
4319:Middlewares/Third_Party/FatFs/src/ff.c **** 
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 
4322:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4323:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find First File                                                       */
4324:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4325:Middlewares/Third_Party/FatFs/src/ff.c **** 
4326:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
4327:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
4331:Middlewares/Third_Party/FatFs/src/ff.c **** )
4332:Middlewares/Third_Party/FatFs/src/ff.c **** {
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4334:Middlewares/Third_Party/FatFs/src/ff.c **** 
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4339:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4342:Middlewares/Third_Party/FatFs/src/ff.c **** }
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 
4344:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 
4346:Middlewares/Third_Party/FatFs/src/ff.c **** 
4347:Middlewares/Third_Party/FatFs/src/ff.c **** 
4348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
4349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4350:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
4351:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 
4353:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4355:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4356:Middlewares/Third_Party/FatFs/src/ff.c **** )
4357:Middlewares/Third_Party/FatFs/src/ff.c **** {
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4360:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4361:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 110


4362:Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &dj.obj.fs, 0);
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
4373:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4376:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4377:Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.obj.fs, res);
4379:Middlewares/Third_Party/FatFs/src/ff.c **** }
4380:Middlewares/Third_Party/FatFs/src/ff.c **** 
4381:Middlewares/Third_Party/FatFs/src/ff.c **** 
4382:Middlewares/Third_Party/FatFs/src/ff.c **** 
4383:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4384:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4385:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
4386:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4387:Middlewares/Third_Party/FatFs/src/ff.c **** 
4388:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
4389:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4390:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
4391:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
4392:Middlewares/Third_Party/FatFs/src/ff.c **** )
4393:Middlewares/Third_Party/FatFs/src/ff.c **** {
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4400:Middlewares/Third_Party/FatFs/src/ff.c **** 
4401:Middlewares/Third_Party/FatFs/src/ff.c **** 
4402:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
4406:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) {
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
4409:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			nfree = 0;
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 111


4419:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
4420:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4421:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4422:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* exFAT: Scan bitmap table */
4423:Middlewares/Third_Party/FatFs/src/ff.c **** 					BYTE bm;
4424:Middlewares/Third_Party/FatFs/src/ff.c **** 					UINT b;
4425:Middlewares/Third_Party/FatFs/src/ff.c **** 
4426:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent - 2;
4427:Middlewares/Third_Party/FatFs/src/ff.c **** 					sect = fs->database;
4428:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0;
4429:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4430:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0 && (res = move_window(fs, sect++)) != FR_OK) break;
4431:Middlewares/Third_Party/FatFs/src/ff.c **** 						for (b = 8, bm = fs->win[i]; b && clst; b--, clst--) {
4432:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!(bm & 1)) nfree++;
4433:Middlewares/Third_Party/FatFs/src/ff.c **** 							bm >>= 1;
4434:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4435:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = (i + 1) % SS(fs);
4436:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (clst);
4437:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4438:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4439:Middlewares/Third_Party/FatFs/src/ff.c **** 				{	/* FAT16/32: Sector alighed FAT entries */
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent; sect = fs->fatbase;
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
4448:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_FAT16) {
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
4452:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							if ((ld_dword(p) & 0x0FFFFFFF) == 0) nfree++;
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
4455:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (--clst);
4457:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = nfree;			/* Return the free clusters */
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4466:Middlewares/Third_Party/FatFs/src/ff.c **** }
4467:Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:Middlewares/Third_Party/FatFs/src/ff.c **** 
4469:Middlewares/Third_Party/FatFs/src/ff.c **** 
4470:Middlewares/Third_Party/FatFs/src/ff.c **** 
4471:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4472:Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
4473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4474:Middlewares/Third_Party/FatFs/src/ff.c **** 
4475:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
ARM GAS  C:\usertemp\ccmutrvj.s 			page 112


4476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4477:Middlewares/Third_Party/FatFs/src/ff.c **** )
4478:Middlewares/Third_Party/FatFs/src/ff.c **** {
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
4482:Middlewares/Third_Party/FatFs/src/ff.c **** 
4483:Middlewares/Third_Party/FatFs/src/ff.c **** 
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
4487:Middlewares/Third_Party/FatFs/src/ff.c **** 
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr < fp->obj.objsize) {	/* Process when fptr is not on the eof */
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
4492:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = get_fat(&fp->obj, fp->clust);
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
4499:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->obj.objsize = fp->fptr;	/* Set file size to current R/W point */
4502:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
4503:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (fp->flag & FA_DIRTY)) {
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
4507:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4509:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4510:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4511:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) ABORT(fs, res);
4513:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4516:Middlewares/Third_Party/FatFs/src/ff.c **** }
4517:Middlewares/Third_Party/FatFs/src/ff.c **** 
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 
4521:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4522:Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File/Directory                                               */
4523:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 
4525:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
4526:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
4527:Middlewares/Third_Party/FatFs/src/ff.c **** )
4528:Middlewares/Third_Party/FatFs/src/ff.c **** {
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4530:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
4532:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 113


4533:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4534:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4535:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4536:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4537:Middlewares/Third_Party/FatFs/src/ff.c **** 
4538:Middlewares/Third_Party/FatFs/src/ff.c **** 
4539:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4543:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
4546:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
4547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4548:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Check if it is an open object */
4550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_RDO) {
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
4557:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4558:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4559:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4560:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4561:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj.fs = fs;
4562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4563:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.sclust = dclst = ld_dword(fs->dirbuf + XDIR_FstClus);
4564:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4565:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
4566:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4568:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 					dclst = ld_clust(fs, dj.dir);
4570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {			/* Is it a sub-directory? */
4572:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == fs->cdir) {		 		/* Is it the current directory? */
4574:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
4575:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4576:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4577:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.fs = fs;						/* Open the sub-directory */
4579:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
4580:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4581:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_EXFAT) {
4582:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.objsize = obj.objsize;
4583:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.stat = obj.stat;
4584:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4585:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 0);
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 114


4590:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4592:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4593:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4594:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
4597:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
4598:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4599:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&obj, dclst, 0);
4600:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&dj.obj, dclst, 0);
4602:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4603:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(fs);
4605:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4606:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 
4610:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4611:Middlewares/Third_Party/FatFs/src/ff.c **** }
4612:Middlewares/Third_Party/FatFs/src/ff.c **** 
4613:Middlewares/Third_Party/FatFs/src/ff.c **** 
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 
4616:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4617:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
4618:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4619:Middlewares/Third_Party/FatFs/src/ff.c **** 
4620:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
4621:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
4622:Middlewares/Third_Party/FatFs/src/ff.c **** )
4623:Middlewares/Third_Party/FatFs/src/ff.c **** {
4624:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4626:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
4629:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
4630:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4631:Middlewares/Third_Party/FatFs/src/ff.c **** 
4632:Middlewares/Third_Party/FatFs/src/ff.c **** 
4633:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 115


4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
4666:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* Initialize directory entry block */
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, tm);	/* Created time */
4682:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, dcl);	/* Table start cluster */
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FileSize, (DWORD)dj.obj.objsize);	/* File size needs to be valid */
4684:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ValidFileSize, (DWORD)dj.obj.objsize);
4685:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 3;				/* Initialize the object flag (contiguous) */
4686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_DIR;				/* Attribute */
4687:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
4688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4690:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = dj.dir;
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
4696:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4700:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(&dj.obj, dcl, 0);		/* Could not register, remove cluster chain */
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 116


4704:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4705:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4708:Middlewares/Third_Party/FatFs/src/ff.c **** }
4709:Middlewares/Third_Party/FatFs/src/ff.c **** 
4710:Middlewares/Third_Party/FatFs/src/ff.c **** 
4711:Middlewares/Third_Party/FatFs/src/ff.c **** 
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 
4713:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename a File/Directory                                               */
4715:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4716:Middlewares/Third_Party/FatFs/src/ff.c **** 
4717:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
4718:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object name to be renamed */
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
4720:Middlewares/Third_Party/FatFs/src/ff.c **** )
4721:Middlewares/Third_Party/FatFs/src/ff.c **** {
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 
4729:Middlewares/Third_Party/FatFs/src/ff.c **** 
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	get_ldnumber(&path_new);						/* Snip drive number of new name off */
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
4736:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
4737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
4740:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4741:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4742:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Object to be renamed is found */
4743:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4744:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {	/* At exFAT */
4745:Middlewares/Third_Party/FatFs/src/ff.c **** 				BYTE nf, nn;
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 				WORD nh;
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, fs->dirbuf, SZDIRE * 2);	/* Save 85+C0 entry of old object */
4749:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof djo);
4750:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4751:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4752:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4753:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4754:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4755:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4756:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4757:Middlewares/Third_Party/FatFs/src/ff.c **** 						nf = fs->dirbuf[XDIR_NumSec]; nn = fs->dirbuf[XDIR_NumName];
4758:Middlewares/Third_Party/FatFs/src/ff.c **** 						nh = ld_word(fs->dirbuf + XDIR_NameHash);
4759:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(fs->dirbuf, buf, SZDIRE * 2);
4760:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_NumSec] = nf; fs->dirbuf[XDIR_NumName] = nn;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 117


4761:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_word(fs->dirbuf + XDIR_NameHash, nh);
4762:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4763:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&djn);
4764:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4765:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4767:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4768:Middlewares/Third_Party/FatFs/src/ff.c **** 			{	/* At FAT12/FAT16/FAT32 */
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about the object except name */
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4774:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
4786:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
4787:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(fs, dw);
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
4793:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
4794:Middlewares/Third_Party/FatFs/src/ff.c **** 							}
4795:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4796:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4797:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4798:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
4803:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4804:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4805:Middlewares/Third_Party/FatFs/src/ff.c **** /* End of the critical section */
4806:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4807:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4808:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4809:Middlewares/Third_Party/FatFs/src/ff.c **** 
4810:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4811:Middlewares/Third_Party/FatFs/src/ff.c **** }
4812:Middlewares/Third_Party/FatFs/src/ff.c **** 
4813:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4814:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
4815:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
4816:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
4817:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 118


4818:Middlewares/Third_Party/FatFs/src/ff.c **** 
4819:Middlewares/Third_Party/FatFs/src/ff.c **** 
4820:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_CHMOD && !_FS_READONLY
4821:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
4823:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4824:Middlewares/Third_Party/FatFs/src/ff.c **** 
4825:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
4826:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4827:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
4828:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
4829:Middlewares/Third_Party/FatFs/src/ff.c **** )
4830:Middlewares/Third_Party/FatFs/src/ff.c **** {
4831:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4832:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4834:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4835:Middlewares/Third_Party/FatFs/src/ff.c **** 
4836:Middlewares/Third_Party/FatFs/src/ff.c **** 
4837:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4838:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4839:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4840:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4841:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4842:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4844:Middlewares/Third_Party/FatFs/src/ff.c **** 			mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
4845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4846:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4847:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->dirbuf[XDIR_Attr] = (attr & mask) | (fs->dirbuf[XDIR_Attr] & (BYTE)~mask);	/* Apply attribu
4848:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4849:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4850:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4851:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4852:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[DIR_Attr] = (attr & mask) | (dj.dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change 
4853:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4854:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4855:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4856:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4857:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4858:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4859:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4860:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4861:Middlewares/Third_Party/FatFs/src/ff.c **** 
4862:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4863:Middlewares/Third_Party/FatFs/src/ff.c **** }
4864:Middlewares/Third_Party/FatFs/src/ff.c **** 
4865:Middlewares/Third_Party/FatFs/src/ff.c **** 
4866:Middlewares/Third_Party/FatFs/src/ff.c **** 
4867:Middlewares/Third_Party/FatFs/src/ff.c **** 
4868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4869:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
4870:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4871:Middlewares/Third_Party/FatFs/src/ff.c **** 
4872:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
4873:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
4874:Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 119


4875:Middlewares/Third_Party/FatFs/src/ff.c **** )
4876:Middlewares/Third_Party/FatFs/src/ff.c **** {
4877:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4878:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4879:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4880:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4881:Middlewares/Third_Party/FatFs/src/ff.c **** 
4882:Middlewares/Third_Party/FatFs/src/ff.c **** 
4883:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4884:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4885:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4886:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4887:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4889:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4890:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4891:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4892:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(fs->dirbuf + XDIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4893:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4895:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4896:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4897:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(dj.dir + DIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4899:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4900:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4901:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4902:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4903:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4904:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4906:Middlewares/Third_Party/FatFs/src/ff.c **** 
4907:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4908:Middlewares/Third_Party/FatFs/src/ff.c **** }
4909:Middlewares/Third_Party/FatFs/src/ff.c **** 
4910:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_CHMOD && !_FS_READONLY */
4911:Middlewares/Third_Party/FatFs/src/ff.c **** 
4912:Middlewares/Third_Party/FatFs/src/ff.c **** 
4913:Middlewares/Third_Party/FatFs/src/ff.c **** 
4914:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
4915:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4916:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Volume Label                                                      */
4917:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4918:Middlewares/Third_Party/FatFs/src/ff.c **** 
4919:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
4920:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4921:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
4922:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
4923:Middlewares/Third_Party/FatFs/src/ff.c **** )
4924:Middlewares/Third_Party/FatFs/src/ff.c **** {
4925:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4926:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4927:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4928:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT si, di;
4929:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE || _FS_EXFAT
4930:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
4931:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  C:\usertemp\ccmutrvj.s 			page 120


4932:Middlewares/Third_Party/FatFs/src/ff.c **** 
4933:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4934:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4935:Middlewares/Third_Party/FatFs/src/ff.c **** 
4936:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
4937:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
4938:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs; dj.obj.sclust = 0;	/* Open root directory */
4939:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
4940:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4941:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	res = dir_read(&dj, 1);			/* Find a volume label entry */
4942:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	if (res == FR_OK) {
4943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4944:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4945:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (si = di = 0; si < dj.dir[XDIR_NumLabel]; si++) {	/* Extract volume label from 83 entry */
4946:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ld_word(dj.dir + XDIR_Label + si * 2);
4947:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4948:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = w;
4949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4950:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ff_convert(w, 0);	/* Unicode -> OEM */
4951:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (w == 0) w = '?';	/* Replace wrong character */
4952:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_DF1S && w >= 0x100) label[di++] = (char)(w >> 8);
4953:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = (char)w;
4954:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4955:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4956:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[di] = 0;
4957:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4959:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4960:Middlewares/Third_Party/FatFs/src/ff.c **** 					si = di = 0;		/* Extract volume label from AM_VOL entry with code comversion */
4961:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4962:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4963:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = (si < 11) ? dj.dir[si++] : ' ';
4964:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsDBCS1(w) && si < 11 && IsDBCS2(dj.dir[si])) {
4965:Middlewares/Third_Party/FatFs/src/ff.c **** 							w = w << 8 | dj.dir[si++];
4966:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4967:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = ff_convert(w, 1);	/* OEM -> Unicode */
4968:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4969:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = dj.dir[si++];
4970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4971:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (di < 11);
4972:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {				/* Truncate trailing spaces */
4973:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di] = 0;
4974:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (di == 0) break;
4975:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (label[--di] == ' ');
4976:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4977:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4978:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4979:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {	/* No label entry and return nul string */
4980:Middlewares/Third_Party/FatFs/src/ff.c **** 			label[0] = 0;
4981:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4982:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4983:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4984:Middlewares/Third_Party/FatFs/src/ff.c **** 
4985:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
4986:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
4987:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, fs->volbase);
4988:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
ARM GAS  C:\usertemp\ccmutrvj.s 			page 121


4989:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (fs->fs_type) {
4990:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_EXFAT:
4991:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BPB_VolIDEx; break;
4992:Middlewares/Third_Party/FatFs/src/ff.c **** 
4993:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_FAT32:
4994:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID32; break;
4995:Middlewares/Third_Party/FatFs/src/ff.c **** 
4996:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
4997:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID;
4998:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4999:Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = ld_dword(fs->win + di);
5000:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5001:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5002:Middlewares/Third_Party/FatFs/src/ff.c **** 
5003:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5004:Middlewares/Third_Party/FatFs/src/ff.c **** }
5005:Middlewares/Third_Party/FatFs/src/ff.c **** 
5006:Middlewares/Third_Party/FatFs/src/ff.c **** 
5007:Middlewares/Third_Party/FatFs/src/ff.c **** 
5008:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5009:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5010:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set Volume Label                                                      */
5011:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5012:Middlewares/Third_Party/FatFs/src/ff.c **** 
5013:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
5014:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
5015:Middlewares/Third_Party/FatFs/src/ff.c **** )
5016:Middlewares/Third_Party/FatFs/src/ff.c **** {
5017:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5018:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
5019:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5020:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE dirvn[22];
5021:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, slen;
5022:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
5023:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char badchr[] = "\"*+,.:;<=>\?[]|\x7F";
5024:Middlewares/Third_Party/FatFs/src/ff.c **** 
5025:Middlewares/Third_Party/FatFs/src/ff.c **** 
5026:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
5027:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&label, &fs, FA_WRITE);
5028:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
5029:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
5030:Middlewares/Third_Party/FatFs/src/ff.c **** 
5031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get length of given volume label */
5032:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (slen = 0; (UINT)label[slen] >= ' '; slen++) ;	/* Get name length */
5033:Middlewares/Third_Party/FatFs/src/ff.c **** 
5034:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5035:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
5036:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = j = 0; i < slen; ) {	/* Create volume label in directory form */
5037:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = label[i++];
5038:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
5039:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w)) {
5040:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5041:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5042:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 1);
5043:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w == 0 || chk_chr(badchr, w) || j == 22) {	/* Check validity check validity of the volume la
5045:Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(fs, FR_INVALID_NAME);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 122


5046:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5047:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirvn + j, w); j += 2;
5048:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5049:Middlewares/Third_Party/FatFs/src/ff.c **** 		slen = j;
5050:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5051:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5052:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
5053:Middlewares/Third_Party/FatFs/src/ff.c **** 		for ( ; slen && label[slen - 1] == ' '; slen--) ;	/* Remove trailing spaces */
5054:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (slen) {		/* Is there a volume label to be set? */
5055:Middlewares/Third_Party/FatFs/src/ff.c **** 			dirvn[0] = 0; i = j = 0;	/* Create volume label in directory form */
5056:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
5057:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5058:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(label[i++]), 0);
5059:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5060:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (BYTE)label[i++];
5061:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsDBCS1(w)) {
5062:Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (j < 10 && i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5063:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5064:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
5065:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
5066:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5067:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
5068:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
5069:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
5070:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5071:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
5072:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5074:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5075:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0 || chk_chr(badchr, w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) {	/* Reject invalid ch
5076:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fs, FR_INVALID_NAME);
5077:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5078:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x100) dirvn[j++] = (BYTE)(w >> 8);
5079:Middlewares/Third_Party/FatFs/src/ff.c **** 				dirvn[j++] = (BYTE)w;
5080:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (i < slen);
5081:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j < 11) dirvn[j++] = ' ';	/* Fill remaining name field */
5082:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dirvn[0] == DDEM) LEAVE_FF(fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
5083:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5084:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5085:Middlewares/Third_Party/FatFs/src/ff.c **** 
5086:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
5087:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.sclust = 0;		/* Open root directory */
5088:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
5089:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5090:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);	/* Get volume label entry */
5091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
5092:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5093:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);	/* Change the volume label */
5094:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5095:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5096:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {
5097:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dj.dir, dirvn, 11);	/* Change the volume label */
5098:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5099:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Name] = DDEM;	/* Remove the volume label */
5100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5101:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5102:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 123


5103:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(fs);
5104:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* No volume label entry is found or error */
5105:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
5106:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
5107:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {	/* Create a volume label entry */
5108:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry */
5109:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
5110:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZDIRE);	/* Clear the entry */
5111:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5112:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_Type] = 0x83;		/* Create 83 entry */
5113:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);
5114:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5115:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
5116:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[DIR_Attr] = AM_VOL;		/* Create volume label entry */
5117:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir, dirvn, 11);
5118:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
5119:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
5120:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(fs);
5121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5122:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5123:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5124:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5125:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5126:Middlewares/Third_Party/FatFs/src/ff.c **** 
5127:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5128:Middlewares/Third_Party/FatFs/src/ff.c **** }
5129:Middlewares/Third_Party/FatFs/src/ff.c **** 
5130:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
5131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
5132:Middlewares/Third_Party/FatFs/src/ff.c **** 
5133:Middlewares/Third_Party/FatFs/src/ff.c **** 
5134:Middlewares/Third_Party/FatFs/src/ff.c **** 
5135:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_EXPAND && !_FS_READONLY
5136:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5137:Middlewares/Third_Party/FatFs/src/ff.c **** /* Allocate a Contiguous Blocks to the File                              */
5138:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5139:Middlewares/Third_Party/FatFs/src/ff.c **** 
5140:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_expand (
5141:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
5142:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t fsz,	/* File size to be expanded to */
5143:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt		/* Operation mode 0:Find and prepare or 1:Find and allocate */
5144:Middlewares/Third_Party/FatFs/src/ff.c **** )
5145:Middlewares/Third_Party/FatFs/src/ff.c **** {
5146:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, stcl, scl, ncl, tcl, lclst;
5149:Middlewares/Third_Party/FatFs/src/ff.c **** 
5150:Middlewares/Third_Party/FatFs/src/ff.c **** 
5151:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5152:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5153:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fsz == 0 || fp->obj.objsize != 0 || !(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);
5154:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5155:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type != FS_EXFAT && fsz >= 0x100000000) LEAVE_FF(fs, FR_DENIED);	/* Check if in size li
5156:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5157:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (DWORD)fs->csize * SS(fs);	/* Cluster size */
5158:Middlewares/Third_Party/FatFs/src/ff.c **** 	tcl = (DWORD)(fsz / n) + ((fsz & (n - 1)) ? 1 : 0);	/* Number of clusters required */
5159:Middlewares/Third_Party/FatFs/src/ff.c **** 	stcl = fs->last_clst; lclst = 0;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 124


5160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stcl < 2 || stcl >= fs->n_fatent) stcl = 2;
5161:Middlewares/Third_Party/FatFs/src/ff.c **** 
5162:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
5164:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = find_bitmap(fs, stcl, tcl);			/* Find a contiguous cluster block */
5165:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0) res = FR_DENIED;				/* No contiguous cluster block was found */
5166:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0xFFFFFFFF) res = FR_DISK_ERR;
5167:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, tcl, 1);	/* Mark the cluster block 'in use' */
5170:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl + tcl - 1;
5171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5172:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5173:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5174:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5175:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5176:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5177:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
5178:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst = stcl; ncl = 0;
5179:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {	/* Find a contiguous cluster block */
5180:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = get_fat(&fp->obj, clst);
5181:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (++clst >= fs->n_fatent) clst = 2;
5182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 1) { res = FR_INT_ERR; break; }
5183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
5184:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0) {	/* Is it a free cluster? */
5185:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++ncl == tcl) break;	/* Break if a contiguous cluster block is found */
5186:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5187:Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = clst; ncl = 0;		/* Not a free cluster */
5188:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5189:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == stcl) { res = FR_DENIED; break; }	/* No contiguous cluster? */
5190:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5191:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5192:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5193:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (clst = scl, n = tcl; n; clst++, n--) {	/* Create a cluster chain on the FAT */
5194:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fs, clst, (n == 1) ? 0xFFFFFFFF : clst + 1);
5195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
5196:Middlewares/Third_Party/FatFs/src/ff.c **** 					lclst = clst;
5197:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5198:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5199:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5200:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5201:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5202:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5203:Middlewares/Third_Party/FatFs/src/ff.c **** 
5204:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5205:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = lclst;		/* Set suggested start cluster to start next */
5206:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt) {	/* Is it allocated now? */
5207:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = scl;		/* Update object allocation information */
5208:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fsz;
5209:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT) fp->obj.stat = 2;	/* Set status 'contiguous chain' */
5210:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
5211:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clst <= fs->n_fatent - 2) {	/* Update FSINFO */
5212:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst -= tcl;
5213:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
5214:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5215:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5216:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 125


5217:Middlewares/Third_Party/FatFs/src/ff.c **** 
5218:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5219:Middlewares/Third_Party/FatFs/src/ff.c **** }
5220:Middlewares/Third_Party/FatFs/src/ff.c **** 
5221:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_EXPAND && !_FS_READONLY */
5222:Middlewares/Third_Party/FatFs/src/ff.c **** 
5223:Middlewares/Third_Party/FatFs/src/ff.c **** 
5224:Middlewares/Third_Party/FatFs/src/ff.c **** 
5225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD
5226:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5227:Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly                                   */
5228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5229:Middlewares/Third_Party/FatFs/src/ff.c **** 
5230:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
5231:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
5232:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
5233:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
5234:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
5235:Middlewares/Third_Party/FatFs/src/ff.c **** )
5236:Middlewares/Third_Party/FatFs/src/ff.c **** {
5237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5238:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5239:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
5240:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
5241:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, csect;
5242:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dbuf;
5243:Middlewares/Third_Party/FatFs/src/ff.c **** 
5244:Middlewares/Third_Party/FatFs/src/ff.c **** 
5245:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
5246:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5247:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5248:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
5249:Middlewares/Third_Party/FatFs/src/ff.c **** 
5250:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
5251:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
5252:Middlewares/Third_Party/FatFs/src/ff.c **** 
5253:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream goes busy */
5254:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
5255:Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
5256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {				/* On the sector boundary? */
5257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {						/* On the cluster boundary? */
5258:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
5259:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust : get_fat(&fp->obj, fp->clust);
5260:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fs, FR_INT_ERR);
5261:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
5262:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
5263:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5264:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5265:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fs, fp->clust);			/* Get current data sector */
5266:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fs, FR_INT_ERR);
5267:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
5268:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
5269:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window to the file dat
5270:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fs->win;
5271:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5272:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->sect != sect) {		/* Fill sector cache with file data */
5273:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
ARM GAS  C:\usertemp\ccmutrvj.s 			page 126


5274:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
5275:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5276:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
5277:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5278:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5280:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5281:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fp->buf;
5282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5283:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->sect = sect;
5284:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
5285:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;					/* Clip it by btr if needed */
5286:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(dbuf + ((UINT)fp->fptr % SS(fs)), rcnt);	/* Forward the file data */
5287:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fs, FR_INT_ERR);
5288:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5289:Middlewares/Third_Party/FatFs/src/ff.c **** 
5290:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
5291:Middlewares/Third_Party/FatFs/src/ff.c **** }
5292:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
5293:Middlewares/Third_Party/FatFs/src/ff.c **** 
5294:Middlewares/Third_Party/FatFs/src/ff.c **** 
5295:Middlewares/Third_Party/FatFs/src/ff.c **** 
5296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
5297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create an FAT/exFAT volume                                            */
5299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5300:Middlewares/Third_Party/FatFs/src/ff.c **** 
5301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
5302:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
5303:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt,			/* Format option */
5304:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD au,			/* Size of allocation unit (cluster) [byte] */
5305:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work,			/* Pointer to working buffer */
5306:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len			/* Size of working buffer */
5307:Middlewares/Third_Party/FatFs/src/ff.c **** )
5308:Middlewares/Third_Party/FatFs/src/ff.c **** {
5309:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
5310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
5311:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
5312:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
5313:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
5314:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
5315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
5316:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
5317:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
5318:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
5319:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
5320:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5321:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
5322:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tbl[3];
5323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5324:Middlewares/Third_Party/FatFs/src/ff.c **** 
5325:Middlewares/Third_Party/FatFs/src/ff.c **** 
5326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);					/* Get target logical drive */
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 127


5331:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
5332:Middlewares/Third_Party/FatFs/src/ff.c **** 
5333:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check physical drive status */
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5337:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
5338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &ss) != RES_OK) return FR_DISK_ERR;
5340:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
5341:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5342:Middlewares/Third_Party/FatFs/src/ff.c **** 	ss = _MAX_SS;
5343:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((au != 0 && au < ss) || au > 0x1000000 || (au & (au - 1))) return FR_INVALID_PARAMETER;	/* Che
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
5346:Middlewares/Third_Party/FatFs/src/ff.c **** 
5347:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get working buffer */
5348:Middlewares/Third_Party/FatFs/src/ff.c **** 	buf = (BYTE*)work;		/* Working buffer */
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
5352:Middlewares/Third_Party/FatFs/src/ff.c **** 
5353:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine where the volume to be located (b_vol, sz_vol) */
5354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {
5355:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
5356:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Load MBR */
5357:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(buf + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;	/* Check if MBR is valid */
5358:Middlewares/Third_Party/FatFs/src/ff.c **** 		pte = buf + (MBR_Table + (part - 1) * SZ_PTE);
5359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!pte[PTE_System]) return FR_MKFS_ABORTED;	/* No partition? */
5360:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = ld_dword(pte + PTE_StLba);		/* Get volume start sector */
5361:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol = ld_dword(pte + PTE_SizLba);	/* Get volume size */
5362:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5363:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a single-partition in this function */
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_vol) != RES_OK) return FR_DISK_ERR;
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
5368:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_vol < 128) return FR_MKFS_ABORTED;	/* Check if volume size is >=128s */
5370:Middlewares/Third_Party/FatFs/src/ff.c **** 
5371:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-determine the FAT type */
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
5373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
5374:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
5375:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_EXFAT; break;
5376:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5377:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (au > 128) return FR_INVALID_PARAMETER;	/* Too large au for FAT/FAT32 */
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
5382:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5383:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_FAT)) return FR_INVALID_PARAMETER;	/* no-FAT? */
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
5386:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
5387:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 128


5388:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5389:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_EXFAT) {	/* Create an exFAT volume */
5390:Middlewares/Third_Party/FatFs/src/ff.c **** 		DWORD szb_bit, szb_case, sum, nb, cl;
5391:Middlewares/Third_Party/FatFs/src/ff.c **** 		WCHAR ch, si;
5392:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT j, st;
5393:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE b;
5394:Middlewares/Third_Party/FatFs/src/ff.c **** 
5395:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x1000) return FR_MKFS_ABORTED;	/* Too small volume? */
5396:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5397:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area may be erased *
5398:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5399:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5400:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine FAT location, data location and number of clusters */
5401:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!au) {	/* au auto-selection */
5402:Middlewares/Third_Party/FatFs/src/ff.c **** 			au = 8;
5403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x80000) au = 64;		/* >= 512Ks */
5404:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x4000000) au = 256;	/* >= 64Ms */
5405:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5406:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat = b_vol + 32;										/* FAT start at offset 32 */
5407:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_fat = ((sz_vol / au + 2) * 4 + ss - 1) / ss;			/* Number of FAT sectors */
5408:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_data = (b_fat + sz_fat + sz_blk - 1) & ~(sz_blk - 1);	/* Align data area to the erase block bou
5409:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (b_data >= sz_vol / 2) return FR_MKFS_ABORTED;		/* Too small volume? */
5410:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_clst = (sz_vol - (b_data - b_vol)) / au;				/* Number of clusters */
5411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst <16) return FR_MKFS_ABORTED;					/* Too few clusters? */
5412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst > MAX_EXFAT) return FR_MKFS_ABORTED;			/* Too many clusters? */
5413:Middlewares/Third_Party/FatFs/src/ff.c **** 
5414:Middlewares/Third_Party/FatFs/src/ff.c **** 		szb_bit = (n_clst + 7) / 8;						/* Size of allocation bitmap */
5415:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = (szb_bit + au * ss - 1) / (au * ss);	/* Number of allocation bitmap clusters */
5416:Middlewares/Third_Party/FatFs/src/ff.c **** 
5417:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a compressed up-case table */
5418:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * tbl[0];	/* Table start sector */
5419:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = 0;						/* Table checksum to be stored in the 82 entry */
5420:Middlewares/Third_Party/FatFs/src/ff.c **** 		st = si = i = j = szb_case = 0;
5421:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5422:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (st) {
5423:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 0:
5424:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = ff_wtoupper(si);	/* Get an up-case char */
5425:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ch != si) {
5426:Middlewares/Third_Party/FatFs/src/ff.c **** 					si++; break;		/* Store the up-case char if exist */
5427:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5428:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (j = 1; (WCHAR)(si + j) && (WCHAR)(si + j) == ff_wtoupper((WCHAR)(si + j)); j++) ;	/* Get r
5429:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (j >= 128) {
5430:Middlewares/Third_Party/FatFs/src/ff.c **** 					ch = 0xFFFF; st = 2; break;	/* Compress the no-case block if run is >= 128 */
5431:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5432:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 1;			/* Do not compress short run */
5433:Middlewares/Third_Party/FatFs/src/ff.c **** 				/* go to next case */
5434:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 1:
5435:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = si++;		/* Fill the short run */
5436:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--j == 0) st = 0;
5437:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
5438:Middlewares/Third_Party/FatFs/src/ff.c **** 
5439:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
5440:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = (WCHAR)j; si += j;	/* Number of chars to skip */
5441:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 0;
5442:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5443:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 0] = (BYTE)ch, sum);		/* Put it into the write buffer */
5444:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 1] = (BYTE)(ch >> 8), sum);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 129


5445:Middlewares/Third_Party/FatFs/src/ff.c **** 			i += 2; szb_case += 2;
5446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!si || i == szb_buf) {		/* Write buffered data when buffer full or end of process */
5447:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (i + ss - 1) / ss;
5448:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5449:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; i = 0;
5450:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5451:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (si);
5452:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[1] = (szb_case + au * ss - 1) / (au * ss);	/* Number of up-case table clusters */
5453:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[2] = 1;										/* Number of root dir clusters */
5454:Middlewares/Third_Party/FatFs/src/ff.c **** 
5455:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the allocation bitmap */
5456:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data; nsect = (szb_bit + ss - 1) / ss;	/* Start of bitmap and number of sectors */
5457:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb = tbl[0] + tbl[1] + tbl[2];					/* Number of clusters in-use by system */
5458:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5459:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf);
5460:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; nb >= 8 && i < szb_buf; buf[i++] = 0xFF, nb -= 8) ;
5461:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (b = 1; nb && i < szb_buf; buf[i] |= b, b <<= 1, nb--) ;
5462:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;		/* Write the buffered data */
5463:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5464:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5465:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5466:Middlewares/Third_Party/FatFs/src/ff.c **** 
5467:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the FAT */
5468:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat; nsect = sz_fat;	/* Start of FAT and number of FAT sectors */
5469:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = nb = cl = 0;
5470:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5471:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf); i = 0;	/* Clear work area and reset write index */
5472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl == 0) {	/* Set entry 0 and 1 */
5473:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFF8); i += 4; cl++;
5474:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFFF); i += 4; cl++;
5475:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5476:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {			/* Create chains of bitmap, up-case and root dir */
5477:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (nb && i < szb_buf) {			/* Create a chain */
5478:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(buf + i, (nb > 1) ? cl + 1 : 0xFFFFFFFF);
5479:Middlewares/Third_Party/FatFs/src/ff.c **** 					i += 4; cl++; nb--;
5480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!nb && j < 3) nb = tbl[j++];	/* Next chain */
5482:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nb && i < szb_buf);
5483:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;	/* Write the buffered data */
5484:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5485:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5486:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5487:Middlewares/Third_Party/FatFs/src/ff.c **** 
5488:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the root directory */
5489:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, szb_buf);
5490:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 0 + 0] = 0x83;		/* 83 entry (volume label) */
5491:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 1 + 0] = 0x81;		/* 81 entry (allocation bitmap) */
5492:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 20, 2);
5493:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 24, szb_bit);
5494:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 2 + 0] = 0x82;		/* 82 entry (up-case table) */
5495:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 4, sum);
5496:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 20, 2 + tbl[0]);
5497:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 24, szb_case);
5498:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * (tbl[0] + tbl[1]);	nsect = au;	/* Start of the root directory and number of 
5499:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill root directory sectors */
5500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 130


5502:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5503:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5504:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5505:Middlewares/Third_Party/FatFs/src/ff.c **** 
5506:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create two set of the exFAT VBR blocks */
5507:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_vol;
5508:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; n < 2; n++) {
5509:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Main record (+0) */
5510:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5511:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11);	/* Boot jump code (x86), OEM name */
5512:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolOfsEx, b_vol);					/* Volume offset in the physical drive [sector] */
5513:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSecEx, sz_vol);					/* Volume size [sector] */
5514:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatOfsEx, b_fat - b_vol);			/* FAT offset [sector] */
5515:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatSzEx, sz_fat);					/* FAT size [sector] */
5516:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_DataOfsEx, b_data - b_vol);			/* Data offset [sector] */
5517:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_NumClusEx, n_clst);					/* Number of clusters */
5518:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClusEx, 2 + tbl[0] + tbl[1]);	/* Root dir cluster # */
5519:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolIDEx, GET_FATTIME());				/* VSN */
5520:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSVerEx, 0x100);						/* File system version (1.00) */
5521:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_BytsPerSecEx] = 0, i = ss; i >>= 1; buf[BPB_BytsPerSecEx]++) ;	/* Log2 of sector si
5522:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_SecPerClusEx] = 0, i = au; i >>= 1; buf[BPB_SecPerClusEx]++) ;	/* Log2 of cluster s
5523:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_NumFATsEx] = 1;					/* Number of FATs */
5524:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_DrvNumEx] = 0x80;				/* Drive number (for int13) */
5525:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_BootCodeEx, 0xFEEB);	/* Boot code (x86) */
5526:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);			/* Signature (placed here regardless of sector size) */
5527:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = sum = 0; i < ss; i++) {		/* VBR checksum */
5528:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i != BPB_VolFlagEx && i != BPB_VolFlagEx + 1 && i != BPB_PercInUseEx) sum = xsum32(buf[i], 
5529:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5530:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5531:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Extended bootstrap record (+1..+8) */
5532:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5533:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + ss - 2, 0xAA55);	/* Signature (placed at end of sector) */
5534:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 1; j < 9; j++) {
5535:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5536:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5537:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5538:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* OEM/Reserved record (+9..+10) */
5539:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5540:Middlewares/Third_Party/FatFs/src/ff.c **** 			for ( ; j < 11; j++) {
5541:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5542:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5543:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5544:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Sum record (+11) */
5545:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < ss; i += 4) st_dword(buf + i, sum);		/* Fill with checksum value */
5546:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5548:Middlewares/Third_Party/FatFs/src/ff.c **** 
5549:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
5551:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* Create an FAT12/16/32 volume */
5552:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
5554:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {	/* FAT32 volume */
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 131


5559:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;	/* Number of clusters */
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
5565:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
5569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
5573:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					fmt = FS_FAT12;
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
5576:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n + ss - 1) / ss;		/* FAT size [sector] */
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
5580:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_fat = b_vol + sz_rsv;						/* FAT base */
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
5583:Middlewares/Third_Party/FatFs/src/ff.c **** 
5584:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Align data base to erase block boundary (for flash memory media) */
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = ((b_data + sz_blk - 1) & ~(sz_blk - 1)) - b_data;	/* Next nearest erase block from current d
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
5588:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat += n / n_fats;
5590:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5591:Middlewares/Third_Party/FatFs/src/ff.c **** 
5592:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Determine number of clusters and final check of validity of the FAT sub-type */
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol < b_data + pau * 16 - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5599:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5600:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT16) {
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
5605:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((opt & FM_FAT32)) {
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
5608:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5611:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 				if  (n_clst <= MAX_FAT12) {	/* Too few clusters for FAT16 */
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5615:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 132


5616:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT12 && n_clst > MAX_FAT12) return FR_MKFS_ABORTED;	/* Too many clusters for FAT1
5618:Middlewares/Third_Party/FatFs/src/ff.c **** 
5619:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Ok, it is the valid cluster configuration */
5620:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
5621:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
5622:Middlewares/Third_Party/FatFs/src/ff.c **** 
5623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5624:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area can be erased *
5625:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5626:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5627:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FAT VBR */
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, ss);
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
5636:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
5637:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSec32, sz_vol);		/* Volume size in 32-bit LBA */
5639:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_Media] = 0xF8;							/* Media descriptor byte */
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
5652:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
5653:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID, GET_FATTIME());	/* VSN */
5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
5659:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BS_55AA, 0xAA55);					/* Signature (offset is fixed here regardless of sector size)
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
5662:Middlewares/Third_Party/FatFs/src/ff.c **** 
5663:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FSINFO record if needed */
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 133


5673:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
5674:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5675:Middlewares/Third_Party/FatFs/src/ff.c **** 
5676:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize FAT area */
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, (UINT)szb_buf);
5678:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
5684:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, (fmt == FS_FAT12) ? 0xFFFFF8 : 0xFFFFFFF8);	/* Entry 0 and 1 */
5686:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5687:Middlewares/Third_Party/FatFs/src/ff.c **** 			nsect = sz_fat;		/* Number of FAT sectors */
5688:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {	/* Fill FAT sectors */
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
5694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5695:Middlewares/Third_Party/FatFs/src/ff.c **** 
5696:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize root directory (fill with zero) */
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		nsect = (fmt == FS_FAT32) ? pau : sz_dir;	/* Number of root directory sectors */
5698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5703:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5704:Middlewares/Third_Party/FatFs/src/ff.c **** 
5705:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
5706:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_EXFAT && fmt == FS_EXFAT) {
5707:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
5708:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
5711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x10000) {
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
5714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = (fmt == FS_FAT16) ? 0x04 : 0x01;	/* FAT16 (<64KS) : FAT12 (<64KS) */
5716:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5717:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5719:Middlewares/Third_Party/FatFs/src/ff.c **** 
5720:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Update partition information */
5721:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {	/* Created in the existing partition */
5722:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
5723:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Read the MBR */
5724:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[MBR_Table + (part - 1) * SZ_PTE + PTE_System] = sys;		/* Set system ID */
5725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it back to the MBR */
5726:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Created as a new single partition */
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_SFD)) {	/* Create partition table if in FDISK format */
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 134


5730:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
5743:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5744:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5745:Middlewares/Third_Party/FatFs/src/ff.c **** 
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) return FR_DISK_ERR;
5747:Middlewares/Third_Party/FatFs/src/ff.c **** 
5748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
5749:Middlewares/Third_Party/FatFs/src/ff.c **** }
5750:Middlewares/Third_Party/FatFs/src/ff.c **** 
5751:Middlewares/Third_Party/FatFs/src/ff.c **** 
5752:Middlewares/Third_Party/FatFs/src/ff.c **** 
5753:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
5754:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5755:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
5756:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5757:Middlewares/Third_Party/FatFs/src/ff.c **** 
5758:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
5759:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
5760:Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD* szt,	/* Pointer to the size table for each partitions */
5761:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
5762:Middlewares/Third_Party/FatFs/src/ff.c **** )
5763:Middlewares/Third_Party/FatFs/src/ff.c **** {
5764:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
5765:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
5766:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5767:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
5768:Middlewares/Third_Party/FatFs/src/ff.c **** 
5769:Middlewares/Third_Party/FatFs/src/ff.c **** 
5770:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5771:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5772:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5773:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
5774:Middlewares/Third_Party/FatFs/src/ff.c **** 
5775:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the CHS without any consideration of the drive geometry */
5776:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
5777:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
5778:Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
5779:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
5780:Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
5781:Middlewares/Third_Party/FatFs/src/ff.c **** 
5782:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
5783:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
5784:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
5785:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
5786:Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;	/* Number of cylinder
ARM GAS  C:\usertemp\ccmutrvj.s 			page 135


5787:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
5788:Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
5789:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
5790:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
5791:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
5792:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
5793:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5794:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
5795:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5796:Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;	/* End cylinder */
5797:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
5798:Middlewares/Third_Party/FatFs/src/ff.c **** 
5799:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
5800:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
5801:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
5802:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
5803:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x07;						/* System type (temporary setting) */
5804:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
5805:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
5806:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
5807:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 8, s_part);			/* Start sector in LBA */
5808:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 12, sz_part);			/* Number of sectors */
5809:Middlewares/Third_Party/FatFs/src/ff.c **** 
5810:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
5811:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
5812:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5813:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(p, 0xAA55);
5814:Middlewares/Third_Party/FatFs/src/ff.c **** 
5815:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
5816:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
5817:Middlewares/Third_Party/FatFs/src/ff.c **** }
5818:Middlewares/Third_Party/FatFs/src/ff.c **** 
5819:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
5820:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
5821:Middlewares/Third_Party/FatFs/src/ff.c **** 
5822:Middlewares/Third_Party/FatFs/src/ff.c **** 
5823:Middlewares/Third_Party/FatFs/src/ff.c **** 
5824:Middlewares/Third_Party/FatFs/src/ff.c **** 
5825:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
5826:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5827:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
5828:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5829:Middlewares/Third_Party/FatFs/src/ff.c **** 
5830:Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
5831:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
5832:Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
5833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
5834:Middlewares/Third_Party/FatFs/src/ff.c **** )
5835:Middlewares/Third_Party/FatFs/src/ff.c **** {
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
5838:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
5839:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
5840:Middlewares/Third_Party/FatFs/src/ff.c **** 
5841:Middlewares/Third_Party/FatFs/src/ff.c **** 
5842:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
5843:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
ARM GAS  C:\usertemp\ccmutrvj.s 			page 136


5844:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
5845:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5846:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5847:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5848:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
5849:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
5850:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence (0x80-0x7FF) */
5851:Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
5852:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
5853:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
5854:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';	/* Reject invalid code range */
5855:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5856:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence (0x800-0xFFFF) */
5857:Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
5858:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
5859:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
5860:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';	/* Reject invalid code range */
5861:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
5862:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
5863:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5864:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5865:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5866:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
5867:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5868:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5869:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
5870:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
5871:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5872:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5873:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
5874:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
5875:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5876:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5877:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5878:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
5879:Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
5880:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
5881:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
5882:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5883:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
5884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
5885:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5886:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5889:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5890:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
5895:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
5897:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
5898:Middlewares/Third_Party/FatFs/src/ff.c **** }
5899:Middlewares/Third_Party/FatFs/src/ff.c **** 
5900:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 137


5901:Middlewares/Third_Party/FatFs/src/ff.c **** 
5902:Middlewares/Third_Party/FatFs/src/ff.c **** 
5903:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5904:Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
5905:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5906:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
5907:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5908:Middlewares/Third_Party/FatFs/src/ff.c **** 
5909:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
5910:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp;		/* Ptr to the writing file */
5911:Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;	/* Write index of buf[] (-1:error), number of chars written */
5912:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];	/* Write buffer */
5913:Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
5914:Middlewares/Third_Party/FatFs/src/ff.c **** 
5915:Middlewares/Third_Party/FatFs/src/ff.c **** 
5916:Middlewares/Third_Party/FatFs/src/ff.c **** static
5917:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (		/* Buffered write with code conversion */
5918:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5919:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
5920:Middlewares/Third_Party/FatFs/src/ff.c **** )
5921:Middlewares/Third_Party/FatFs/src/ff.c **** {
5922:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
5923:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
5924:Middlewares/Third_Party/FatFs/src/ff.c **** 
5925:Middlewares/Third_Party/FatFs/src/ff.c **** 
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n') {	 /* LF -> CRLF conversion */
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
5928:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5929:Middlewares/Third_Party/FatFs/src/ff.c **** 
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;		/* Write index of pb->buf[] */
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
5932:Middlewares/Third_Party/FatFs/src/ff.c **** 
5933:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5934:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
5935:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
5936:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
5937:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5938:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
5939:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
5940:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
5941:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
5942:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
5943:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5944:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
5945:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5946:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
5947:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5948:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5949:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
5950:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5951:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5952:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
5953:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
5954:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
5955:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
5956:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
5957:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 138


5958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5959:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
5960:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5961:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5962:Middlewares/Third_Party/FatFs/src/ff.c **** 
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
5966:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
5968:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
5969:Middlewares/Third_Party/FatFs/src/ff.c **** }
5970:Middlewares/Third_Party/FatFs/src/ff.c **** 
5971:Middlewares/Third_Party/FatFs/src/ff.c **** 
5972:Middlewares/Third_Party/FatFs/src/ff.c **** static
5973:Middlewares/Third_Party/FatFs/src/ff.c **** int putc_flush (		/* Flush left characters in the buffer */
5974:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb
5975:Middlewares/Third_Party/FatFs/src/ff.c **** )
5976:Middlewares/Third_Party/FatFs/src/ff.c **** {
5977:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
5978:Middlewares/Third_Party/FatFs/src/ff.c **** 
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb->idx >= 0	/* Flush buffered characters to the file */
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
5982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
5983:Middlewares/Third_Party/FatFs/src/ff.c **** }
5984:Middlewares/Third_Party/FatFs/src/ff.c **** 
5985:Middlewares/Third_Party/FatFs/src/ff.c **** 
5986:Middlewares/Third_Party/FatFs/src/ff.c **** static
5987:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_init (		/* Initialize write buffer */
5988:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5989:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp
5990:Middlewares/Third_Party/FatFs/src/ff.c **** )
5991:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1718              		.loc 1 5991 1 is_stmt 1 view -0
 1719              		.cfi_startproc
 1720              		@ args = 0, pretend = 0, frame = 0
 1721              		@ frame_needed = 0, uses_anonymous_args = 0
 1722              		@ link register save eliminated.
5992:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->fp = fp;
 1723              		.loc 1 5992 2 view .LVU523
 1724              		.loc 1 5992 9 is_stmt 0 view .LVU524
 1725 0000 0160     		str	r1, [r0]
5993:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr = pb->idx = 0;
 1726              		.loc 1 5993 2 is_stmt 1 view .LVU525
 1727              		.loc 1 5993 21 is_stmt 0 view .LVU526
 1728 0002 0023     		movs	r3, #0
 1729 0004 4360     		str	r3, [r0, #4]
 1730              		.loc 1 5993 11 view .LVU527
 1731 0006 8360     		str	r3, [r0, #8]
5994:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1732              		.loc 1 5994 1 view .LVU528
 1733 0008 7047     		bx	lr
 1734              		.cfi_endproc
 1735              	.LFE393:
 1737              		.section	.text.validate,"ax",%progbits
 1738              		.align	1
ARM GAS  C:\usertemp\ccmutrvj.s 			page 139


 1739              		.syntax unified
 1740              		.thumb
 1741              		.thumb_func
 1743              	validate:
 1744              	.LVL189:
 1745              	.LFB370:
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 1746              		.loc 1 3220 1 is_stmt 1 view -0
 1747              		.cfi_startproc
 1748              		@ args = 0, pretend = 0, frame = 0
 1749              		@ frame_needed = 0, uses_anonymous_args = 0
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 1750              		.loc 1 3220 1 is_stmt 0 view .LVU530
 1751 0000 38B5     		push	{r3, r4, r5, lr}
 1752              	.LCFI14:
 1753              		.cfi_def_cfa_offset 16
 1754              		.cfi_offset 3, -16
 1755              		.cfi_offset 4, -12
 1756              		.cfi_offset 5, -8
 1757              		.cfi_offset 14, -4
 1758 0002 0D46     		mov	r5, r1
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1759              		.loc 1 3221 2 is_stmt 1 view .LVU531
 1760              	.LVL190:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1761              		.loc 1 3224 2 view .LVU532
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1762              		.loc 1 3224 5 is_stmt 0 view .LVU533
 1763 0004 0446     		mov	r4, r0
 1764 0006 98B1     		cbz	r0, .L158
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1765              		.loc 1 3224 16 discriminator 1 view .LVU534
 1766 0008 0368     		ldr	r3, [r0]
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1767              		.loc 1 3224 10 discriminator 1 view .LVU535
 1768 000a 9BB1     		cbz	r3, .L159
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1769              		.loc 1 3224 31 discriminator 2 view .LVU536
 1770 000c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1771              		.loc 1 3224 21 discriminator 2 view .LVU537
 1772 000e A2B1     		cbz	r2, .L160
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1773              		.loc 1 3224 47 discriminator 3 view .LVU538
 1774 0010 8188     		ldrh	r1, [r0, #4]
 1775              	.LVL191:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1776              		.loc 1 3224 62 discriminator 3 view .LVU539
 1777 0012 DA88     		ldrh	r2, [r3, #6]
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1778              		.loc 1 3224 41 discriminator 3 view .LVU540
 1779 0014 9142     		cmp	r1, r2
 1780 0016 03D0     		beq	.L164
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1781              		.loc 1 3221 10 view .LVU541
 1782 0018 0920     		movs	r0, #9
 1783              	.LVL192:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 140


3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1784              		.loc 1 3241 33 discriminator 2 view .LVU542
 1785 001a 0024     		movs	r4, #0
 1786              	.LVL193:
 1787              	.L157:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1788              		.loc 1 3241 6 discriminator 4 view .LVU543
 1789 001c 2C60     		str	r4, [r5]
3242:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1790              		.loc 1 3242 2 is_stmt 1 view .LVU544
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1791              		.loc 1 3243 1 is_stmt 0 view .LVU545
 1792 001e 38BD     		pop	{r3, r4, r5, pc}
 1793              	.LVL194:
 1794              	.L164:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1795              		.loc 1 3236 3 is_stmt 1 view .LVU546
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1796              		.loc 1 3236 9 is_stmt 0 view .LVU547
 1797 0020 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1798              	.LVL195:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1799              		.loc 1 3236 9 view .LVU548
 1800 0022 FFF7FEFF 		bl	disk_status
 1801              	.LVL196:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1802              		.loc 1 3236 6 discriminator 1 view .LVU549
 1803 0026 10F00100 		ands	r0, r0, #1
 1804 002a 09D1     		bne	.L162
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1805              		.loc 1 3237 4 is_stmt 1 view .LVU550
 1806              	.LVL197:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1807              		.loc 1 3241 2 view .LVU551
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1808              		.loc 1 3241 33 is_stmt 0 discriminator 1 view .LVU552
 1809 002c 2468     		ldr	r4, [r4]
 1810              	.LVL198:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1811              		.loc 1 3241 33 discriminator 1 view .LVU553
 1812 002e F5E7     		b	.L157
 1813              	.LVL199:
 1814              	.L158:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1815              		.loc 1 3221 10 view .LVU554
 1816 0030 0920     		movs	r0, #9
 1817              	.LVL200:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1818              		.loc 1 3221 10 view .LVU555
 1819 0032 F3E7     		b	.L157
 1820              	.LVL201:
 1821              	.L159:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1822              		.loc 1 3241 33 discriminator 2 view .LVU556
 1823 0034 1C46     		mov	r4, r3
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1824              		.loc 1 3221 10 view .LVU557
ARM GAS  C:\usertemp\ccmutrvj.s 			page 141


 1825 0036 0920     		movs	r0, #9
 1826              	.LVL202:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1827              		.loc 1 3221 10 view .LVU558
 1828 0038 F0E7     		b	.L157
 1829              	.LVL203:
 1830              	.L160:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1831              		.loc 1 3221 10 view .LVU559
 1832 003a 0920     		movs	r0, #9
 1833              	.LVL204:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1834              		.loc 1 3241 33 discriminator 2 view .LVU560
 1835 003c 0024     		movs	r4, #0
 1836              	.LVL205:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1837              		.loc 1 3241 33 discriminator 2 view .LVU561
 1838 003e EDE7     		b	.L157
 1839              	.LVL206:
 1840              	.L162:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1841              		.loc 1 3221 10 view .LVU562
 1842 0040 0920     		movs	r0, #9
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1843              		.loc 1 3241 33 discriminator 2 view .LVU563
 1844 0042 0024     		movs	r4, #0
 1845              	.LVL207:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1846              		.loc 1 3241 33 discriminator 2 view .LVU564
 1847 0044 EAE7     		b	.L157
 1848              		.cfi_endproc
 1849              	.LFE370:
 1851              		.section	.text.sync_window,"ax",%progbits
 1852              		.align	1
 1853              		.syntax unified
 1854              		.thumb
 1855              		.thumb_func
 1857              	sync_window:
 1858              	.LVL208:
 1859              	.LFB346:
 886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1860              		.loc 1 886 1 is_stmt 1 view -0
 1861              		.cfi_startproc
 1862              		@ args = 0, pretend = 0, frame = 0
 1863              		@ frame_needed = 0, uses_anonymous_args = 0
 886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1864              		.loc 1 886 1 is_stmt 0 view .LVU566
 1865 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1866              	.LCFI15:
 1867              		.cfi_def_cfa_offset 24
 1868              		.cfi_offset 4, -24
 1869              		.cfi_offset 5, -20
 1870              		.cfi_offset 6, -16
 1871              		.cfi_offset 7, -12
 1872              		.cfi_offset 8, -8
 1873              		.cfi_offset 14, -4
 887:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 142


 1874              		.loc 1 887 2 is_stmt 1 view .LVU567
 888:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1875              		.loc 1 888 2 view .LVU568
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1876              		.loc 1 889 2 view .LVU569
 1877              	.LVL209:
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1878              		.loc 1 892 2 view .LVU570
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1879              		.loc 1 892 8 is_stmt 0 view .LVU571
 1880 0004 C578     		ldrb	r5, [r0, #3]	@ zero_extendqisi2
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1881              		.loc 1 892 5 view .LVU572
 1882 0006 15B9     		cbnz	r5, .L171
 1883              	.LVL210:
 1884              	.L166:
 906:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1885              		.loc 1 906 2 is_stmt 1 view .LVU573
 907:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1886              		.loc 1 907 1 is_stmt 0 view .LVU574
 1887 0008 2846     		mov	r0, r5
 1888 000a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1889              	.LVL211:
 1890              	.L171:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1891              		.loc 1 907 1 view .LVU575
 1892 000e 0446     		mov	r4, r0
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 1893              		.loc 1 893 3 is_stmt 1 view .LVU576
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 1894              		.loc 1 893 9 is_stmt 0 view .LVU577
 1895 0010 076B     		ldr	r7, [r0, #48]
 1896              	.LVL212:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1897              		.loc 1 894 3 is_stmt 1 view .LVU578
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1898              		.loc 1 894 29 is_stmt 0 view .LVU579
 1899 0012 00F13408 		add	r8, r0, #52
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1900              		.loc 1 894 7 view .LVU580
 1901 0016 0123     		movs	r3, #1
 1902 0018 3A46     		mov	r2, r7
 1903 001a 4146     		mov	r1, r8
 1904 001c 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 1905              	.LVL213:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1906              		.loc 1 894 7 view .LVU581
 1907 001e FFF7FEFF 		bl	disk_write
 1908              	.LVL214:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1909              		.loc 1 894 6 discriminator 1 view .LVU582
 1910 0022 0546     		mov	r5, r0
 1911 0024 A0B9     		cbnz	r0, .L169
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1912              		.loc 1 897 4 is_stmt 1 view .LVU583
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1913              		.loc 1 897 14 is_stmt 0 view .LVU584
ARM GAS  C:\usertemp\ccmutrvj.s 			page 143


 1914 0026 0023     		movs	r3, #0
 1915 0028 E370     		strb	r3, [r4, #3]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1916              		.loc 1 898 4 is_stmt 1 view .LVU585
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1917              		.loc 1 898 18 is_stmt 0 view .LVU586
 1918 002a 636A     		ldr	r3, [r4, #36]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1919              		.loc 1 898 14 view .LVU587
 1920 002c FB1A     		subs	r3, r7, r3
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1921              		.loc 1 898 32 view .LVU588
 1922 002e E269     		ldr	r2, [r4, #28]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1923              		.loc 1 898 7 view .LVU589
 1924 0030 9342     		cmp	r3, r2
 1925 0032 E9D2     		bcs	.L166
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1926              		.loc 1 899 5 is_stmt 1 view .LVU590
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1927              		.loc 1 899 17 is_stmt 0 view .LVU591
 1928 0034 A678     		ldrb	r6, [r4, #2]	@ zero_extendqisi2
 1929              	.LVL215:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1930              		.loc 1 899 5 view .LVU592
 1931 0036 08E0     		b	.L167
 1932              	.L168:
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 1933              		.loc 1 900 6 is_stmt 1 view .LVU593
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 1934              		.loc 1 900 17 is_stmt 0 view .LVU594
 1935 0038 E369     		ldr	r3, [r4, #28]
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 1936              		.loc 1 900 12 view .LVU595
 1937 003a 1F44     		add	r7, r7, r3
 1938              	.LVL216:
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1939              		.loc 1 901 6 is_stmt 1 view .LVU596
 1940 003c 0123     		movs	r3, #1
 1941 003e 3A46     		mov	r2, r7
 1942 0040 4146     		mov	r1, r8
 1943 0042 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 1944 0044 FFF7FEFF 		bl	disk_write
 1945              	.LVL217:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1946              		.loc 1 899 38 discriminator 3 view .LVU597
 1947 0048 013E     		subs	r6, r6, #1
 1948              	.LVL218:
 1949              	.L167:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1950              		.loc 1 899 30 discriminator 1 view .LVU598
 1951 004a 012E     		cmp	r6, #1
 1952 004c F4D8     		bhi	.L168
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1953              		.loc 1 899 30 is_stmt 0 discriminator 1 view .LVU599
 1954 004e DBE7     		b	.L166
 1955              	.LVL219:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 144


 1956              	.L169:
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1957              		.loc 1 895 8 view .LVU600
 1958 0050 0125     		movs	r5, #1
 1959 0052 D9E7     		b	.L166
 1960              		.cfi_endproc
 1961              	.LFE346:
 1963              		.section	.text.move_window,"ax",%progbits
 1964              		.align	1
 1965              		.syntax unified
 1966              		.thumb
 1967              		.thumb_func
 1969              	move_window:
 1970              	.LVL220:
 1971              	.LFB347:
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1972              		.loc 1 916 1 is_stmt 1 view -0
 1973              		.cfi_startproc
 1974              		@ args = 0, pretend = 0, frame = 0
 1975              		@ frame_needed = 0, uses_anonymous_args = 0
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1976              		.loc 1 916 1 is_stmt 0 view .LVU602
 1977 0000 70B5     		push	{r4, r5, r6, lr}
 1978              	.LCFI16:
 1979              		.cfi_def_cfa_offset 16
 1980              		.cfi_offset 4, -16
 1981              		.cfi_offset 5, -12
 1982              		.cfi_offset 6, -8
 1983              		.cfi_offset 14, -4
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1984              		.loc 1 917 2 is_stmt 1 view .LVU603
 1985              	.LVL221:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1986              		.loc 1 920 2 view .LVU604
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1987              		.loc 1 920 18 is_stmt 0 view .LVU605
 1988 0002 036B     		ldr	r3, [r0, #48]
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1989              		.loc 1 920 5 view .LVU606
 1990 0004 8B42     		cmp	r3, r1
 1991 0006 02D1     		bne	.L178
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1992              		.loc 1 917 10 view .LVU607
 1993 0008 0026     		movs	r6, #0
 1994              	.LVL222:
 1995              	.L173:
 932:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1996              		.loc 1 932 2 is_stmt 1 view .LVU608
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1997              		.loc 1 933 1 is_stmt 0 view .LVU609
 1998 000a 3046     		mov	r0, r6
 1999 000c 70BD     		pop	{r4, r5, r6, pc}
 2000              	.LVL223:
 2001              	.L178:
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2002              		.loc 1 933 1 view .LVU610
 2003 000e 0446     		mov	r4, r0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 145


 2004 0010 0D46     		mov	r5, r1
 922:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2005              		.loc 1 922 3 is_stmt 1 view .LVU611
 922:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2006              		.loc 1 922 9 is_stmt 0 view .LVU612
 2007 0012 FFF7FEFF 		bl	sync_window
 2008              	.LVL224:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 2009              		.loc 1 924 3 is_stmt 1 view .LVU613
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 2010              		.loc 1 924 6 is_stmt 0 view .LVU614
 2011 0016 0646     		mov	r6, r0
 2012 0018 0028     		cmp	r0, #0
 2013 001a F6D1     		bne	.L173
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2014              		.loc 1 925 4 is_stmt 1 view .LVU615
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2015              		.loc 1 925 8 is_stmt 0 view .LVU616
 2016 001c 0123     		movs	r3, #1
 2017 001e 2A46     		mov	r2, r5
 2018 0020 04F13401 		add	r1, r4, #52
 2019 0024 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2020              	.LVL225:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2021              		.loc 1 925 8 view .LVU617
 2022 0026 FFF7FEFF 		bl	disk_read
 2023              	.LVL226:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2024              		.loc 1 925 7 discriminator 1 view .LVU618
 2025 002a 10B1     		cbz	r0, .L174
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 2026              		.loc 1 927 9 view .LVU619
 2027 002c 0126     		movs	r6, #1
 2028              	.LVL227:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 2029              		.loc 1 926 12 view .LVU620
 2030 002e 4FF0FF35 		mov	r5, #-1
 2031              	.LVL228:
 2032              	.L174:
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2033              		.loc 1 929 4 is_stmt 1 view .LVU621
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2034              		.loc 1 929 16 is_stmt 0 view .LVU622
 2035 0032 2563     		str	r5, [r4, #48]
 2036 0034 E9E7     		b	.L173
 2037              		.cfi_endproc
 2038              	.LFE347:
 2040              		.section	.text.check_fs,"ax",%progbits
 2041              		.align	1
 2042              		.syntax unified
 2043              		.thumb
 2044              		.thumb_func
 2046              	check_fs:
 2047              	.LVL229:
 2048              	.LFB368:
2969:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 2049              		.loc 1 2969 1 is_stmt 1 view -0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 146


 2050              		.cfi_startproc
 2051              		@ args = 0, pretend = 0, frame = 0
 2052              		@ frame_needed = 0, uses_anonymous_args = 0
2969:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 2053              		.loc 1 2969 1 is_stmt 0 view .LVU624
 2054 0000 38B5     		push	{r3, r4, r5, lr}
 2055              	.LCFI17:
 2056              		.cfi_def_cfa_offset 16
 2057              		.cfi_offset 3, -16
 2058              		.cfi_offset 4, -12
 2059              		.cfi_offset 5, -8
 2060              		.cfi_offset 14, -4
 2061 0002 0446     		mov	r4, r0
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2062              		.loc 1 2970 2 is_stmt 1 view .LVU625
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2063              		.loc 1 2970 12 is_stmt 0 view .LVU626
 2064 0004 0023     		movs	r3, #0
 2065 0006 C370     		strb	r3, [r0, #3]
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2066              		.loc 1 2970 17 is_stmt 1 view .LVU627
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2067              		.loc 1 2970 29 is_stmt 0 view .LVU628
 2068 0008 4FF0FF33 		mov	r3, #-1
 2069 000c 0363     		str	r3, [r0, #48]
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2070              		.loc 1 2971 2 is_stmt 1 view .LVU629
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2071              		.loc 1 2971 6 is_stmt 0 view .LVU630
 2072 000e FFF7FEFF 		bl	move_window
 2073              	.LVL230:
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2074              		.loc 1 2971 5 discriminator 1 view .LVU631
 2075 0012 30BB     		cbnz	r0, .L182
 2076 0014 0546     		mov	r5, r0
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2077              		.loc 1 2973 2 is_stmt 1 view .LVU632
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2078              		.loc 1 2973 6 is_stmt 0 view .LVU633
 2079 0016 04F23220 		addw	r0, r4, #562
 2080 001a FFF7FEFF 		bl	ld_word
 2081              	.LVL231:
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2082              		.loc 1 2973 5 discriminator 1 view .LVU634
 2083 001e 4AF65523 		movw	r3, #43605
 2084 0022 9842     		cmp	r0, r3
 2085 0024 1FD1     		bne	.L183
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2086              		.loc 1 2975 2 is_stmt 1 view .LVU635
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2087              		.loc 1 2975 13 is_stmt 0 view .LVU636
 2088 0026 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2089              		.loc 1 2975 5 view .LVU637
 2090 002a E92B     		cmp	r3, #233
 2091 002c 07D0     		beq	.L181
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
ARM GAS  C:\usertemp\ccmutrvj.s 			page 147


 2092              		.loc 1 2975 66 discriminator 1 view .LVU638
 2093 002e 636B     		ldr	r3, [r4, #52]
 2094 0030 03F0FF13 		and	r3, r3, #16711935
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2095              		.loc 1 2975 34 discriminator 1 view .LVU639
 2096 0034 0D4A     		ldr	r2, .L186
 2097 0036 9342     		cmp	r3, r2
 2098 0038 01D0     		beq	.L181
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2099              		.loc 1 2982 9 view .LVU640
 2100 003a 0225     		movs	r5, #2
 2101 003c 14E0     		b	.L180
 2102              	.L181:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2103              		.loc 1 2976 3 is_stmt 1 view .LVU641
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2104              		.loc 1 2976 8 is_stmt 0 view .LVU642
 2105 003e 04F16A00 		add	r0, r4, #106
 2106 0042 FFF7FEFF 		bl	ld_dword
 2107              	.LVL232:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2108              		.loc 1 2976 42 discriminator 1 view .LVU643
 2109 0046 20F07F40 		bic	r0, r0, #-16777216
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2110              		.loc 1 2976 6 discriminator 1 view .LVU644
 2111 004a 094B     		ldr	r3, .L186+4
 2112 004c 9842     		cmp	r0, r3
 2113 004e 0BD0     		beq	.L180
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2114              		.loc 1 2977 3 is_stmt 1 view .LVU645
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2115              		.loc 1 2977 7 is_stmt 0 view .LVU646
 2116 0050 04F18600 		add	r0, r4, #134
 2117 0054 FFF7FEFF 		bl	ld_dword
 2118              	.LVL233:
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2119              		.loc 1 2977 6 discriminator 1 view .LVU647
 2120 0058 064B     		ldr	r3, .L186+8
 2121 005a 9842     		cmp	r0, r3
 2122 005c 04D0     		beq	.L180
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2123              		.loc 1 2982 9 view .LVU648
 2124 005e 0225     		movs	r5, #2
 2125 0060 02E0     		b	.L180
 2126              	.L182:
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2127              		.loc 1 2971 45 discriminator 1 view .LVU649
 2128 0062 0425     		movs	r5, #4
 2129 0064 00E0     		b	.L180
 2130              	.L183:
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2131              		.loc 1 2973 51 discriminator 1 view .LVU650
 2132 0066 0325     		movs	r5, #3
 2133              	.L180:
2983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2134              		.loc 1 2983 1 view .LVU651
 2135 0068 2846     		mov	r0, r5
ARM GAS  C:\usertemp\ccmutrvj.s 			page 148


 2136 006a 38BD     		pop	{r3, r4, r5, pc}
 2137              	.LVL234:
 2138              	.L187:
2983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2139              		.loc 1 2983 1 view .LVU652
 2140              		.align	2
 2141              	.L186:
 2142 006c EB009000 		.word	9437419
 2143 0070 46415400 		.word	5521734
 2144 0074 46415433 		.word	861159750
 2145              		.cfi_endproc
 2146              	.LFE368:
 2148              		.section	.text.find_volume,"ax",%progbits
 2149              		.align	1
 2150              		.syntax unified
 2151              		.thumb
 2152              		.thumb_func
 2154              	find_volume:
 2155              	.LVL235:
 2156              	.LFB369:
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 2157              		.loc 1 2998 1 is_stmt 1 view -0
 2158              		.cfi_startproc
 2159              		@ args = 0, pretend = 0, frame = 16
 2160              		@ frame_needed = 0, uses_anonymous_args = 0
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 2161              		.loc 1 2998 1 is_stmt 0 view .LVU654
 2162 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2163              	.LCFI18:
 2164              		.cfi_def_cfa_offset 36
 2165              		.cfi_offset 4, -36
 2166              		.cfi_offset 5, -32
 2167              		.cfi_offset 6, -28
 2168              		.cfi_offset 7, -24
 2169              		.cfi_offset 8, -20
 2170              		.cfi_offset 9, -16
 2171              		.cfi_offset 10, -12
 2172              		.cfi_offset 11, -8
 2173              		.cfi_offset 14, -4
 2174 0004 85B0     		sub	sp, sp, #20
 2175              	.LCFI19:
 2176              		.cfi_def_cfa_offset 56
 2177 0006 0D46     		mov	r5, r1
 2178 0008 1646     		mov	r6, r2
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 2179              		.loc 1 2999 2 is_stmt 1 view .LVU655
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 2180              		.loc 1 3000 2 view .LVU656
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
 2181              		.loc 1 3001 2 view .LVU657
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
 2182              		.loc 1 3002 2 view .LVU658
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 2183              		.loc 1 3003 2 view .LVU659
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 2184              		.loc 1 3004 2 view .LVU660
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 149


 2185              		.loc 1 3005 2 view .LVU661
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 2186              		.loc 1 3009 2 view .LVU662
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 2187              		.loc 1 3009 7 is_stmt 0 view .LVU663
 2188 000a 0023     		movs	r3, #0
 2189 000c 0B60     		str	r3, [r1]
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2190              		.loc 1 3010 2 is_stmt 1 view .LVU664
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2191              		.loc 1 3010 8 is_stmt 0 view .LVU665
 2192 000e FFF7FEFF 		bl	get_ldnumber
 2193              	.LVL236:
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2194              		.loc 1 3011 2 is_stmt 1 view .LVU666
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2195              		.loc 1 3011 5 is_stmt 0 view .LVU667
 2196 0012 071E     		subs	r7, r0, #0
 2197 0014 C0F24681 		blt	.L205
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 2198              		.loc 1 3014 2 is_stmt 1 view .LVU668
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 2199              		.loc 1 3014 5 is_stmt 0 view .LVU669
 2200 0018 B64B     		ldr	r3, .L235
 2201 001a 53F82740 		ldr	r4, [r3, r7, lsl #2]
 2202              	.LVL237:
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2203              		.loc 1 3015 2 is_stmt 1 view .LVU670
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2204              		.loc 1 3015 5 is_stmt 0 view .LVU671
 2205 001e 002C     		cmp	r4, #0
 2206 0020 00F04581 		beq	.L206
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
 2207              		.loc 1 3017 14 is_stmt 1 view .LVU672
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2208              		.loc 1 3018 2 view .LVU673
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2209              		.loc 1 3018 7 is_stmt 0 view .LVU674
 2210 0024 2C60     		str	r4, [r5]
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 2211              		.loc 1 3020 2 is_stmt 1 view .LVU675
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 2212              		.loc 1 3020 7 is_stmt 0 view .LVU676
 2213 0026 06F0FE06 		and	r6, r6, #254
 2214              	.LVL238:
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2215              		.loc 1 3021 2 is_stmt 1 view .LVU677
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2216              		.loc 1 3021 8 is_stmt 0 view .LVU678
 2217 002a 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2218              		.loc 1 3021 5 view .LVU679
 2219 002c 73B1     		cbz	r3, .L190
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2220              		.loc 1 3022 3 is_stmt 1 view .LVU680
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2221              		.loc 1 3022 10 is_stmt 0 view .LVU681
ARM GAS  C:\usertemp\ccmutrvj.s 			page 150


 2222 002e 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2223              	.LVL239:
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2224              		.loc 1 3022 10 view .LVU682
 2225 0030 FFF7FEFF 		bl	disk_status
 2226              	.LVL240:
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2227              		.loc 1 3023 3 is_stmt 1 view .LVU683
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2228              		.loc 1 3023 6 is_stmt 0 view .LVU684
 2229 0034 10F00105 		ands	r5, r0, #1
 2230              	.LVL241:
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2231              		.loc 1 3023 6 view .LVU685
 2232 0038 08D1     		bne	.L190
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2233              		.loc 1 3024 4 is_stmt 1 view .LVU686
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2234              		.loc 1 3024 7 is_stmt 0 view .LVU687
 2235 003a 002E     		cmp	r6, #0
 2236 003c 00F03381 		beq	.L189
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2237              		.loc 1 3024 30 discriminator 1 view .LVU688
 2238 0040 10F0040F 		tst	r0, #4
 2239 0044 00F02F81 		beq	.L189
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 2240              		.loc 1 3025 12 view .LVU689
 2241 0048 0A25     		movs	r5, #10
 2242 004a 2CE1     		b	.L189
 2243              	.LVL242:
 2244              	.L190:
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2245              		.loc 1 3034 2 is_stmt 1 view .LVU690
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2246              		.loc 1 3034 14 is_stmt 0 view .LVU691
 2247 004c 0023     		movs	r3, #0
 2248 004e 2370     		strb	r3, [r4]
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2249              		.loc 1 3035 2 is_stmt 1 view .LVU692
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2250              		.loc 1 3035 12 is_stmt 0 view .LVU693
 2251 0050 F8B2     		uxtb	r0, r7
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2252              		.loc 1 3035 10 view .LVU694
 2253 0052 6070     		strb	r0, [r4, #1]
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 2254              		.loc 1 3036 2 is_stmt 1 view .LVU695
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 2255              		.loc 1 3036 9 is_stmt 0 view .LVU696
 2256 0054 FFF7FEFF 		bl	disk_initialize
 2257              	.LVL243:
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2258              		.loc 1 3037 2 is_stmt 1 view .LVU697
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2259              		.loc 1 3037 5 is_stmt 0 view .LVU698
 2260 0058 10F00105 		ands	r5, r0, #1
 2261 005c 40F02981 		bne	.L208
ARM GAS  C:\usertemp\ccmutrvj.s 			page 151


3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2262              		.loc 1 3040 2 is_stmt 1 view .LVU699
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2263              		.loc 1 3040 5 is_stmt 0 view .LVU700
 2264 0060 1EB1     		cbz	r6, .L191
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2265              		.loc 1 3040 28 discriminator 1 view .LVU701
 2266 0062 10F0040F 		tst	r0, #4
 2267 0066 40F02681 		bne	.L209
 2268              	.L191:
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 2269              		.loc 1 3049 2 is_stmt 1 view .LVU702
 2270              	.LVL244:
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 2271              		.loc 1 3050 2 view .LVU703
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 2272              		.loc 1 3050 8 is_stmt 0 view .LVU704
 2273 006a 0021     		movs	r1, #0
 2274 006c 2046     		mov	r0, r4
 2275              	.LVL245:
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 2276              		.loc 1 3050 8 view .LVU705
 2277 006e FFF7FEFF 		bl	check_fs
 2278              	.LVL246:
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 2279              		.loc 1 3051 2 is_stmt 1 view .LVU706
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 2280              		.loc 1 3051 5 is_stmt 0 view .LVU707
 2281 0072 0228     		cmp	r0, #2
 2282 0074 7ED0     		beq	.L210
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 2283              		.loc 1 3049 8 view .LVU708
 2284 0076 0027     		movs	r7, #0
 2285              	.LVL247:
 2286              	.L193:
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2287              		.loc 1 3063 2 is_stmt 1 view .LVU709
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2288              		.loc 1 3063 5 is_stmt 0 view .LVU710
 2289 0078 0428     		cmp	r0, #4
 2290 007a 00F01E81 		beq	.L213
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2291              		.loc 1 3064 2 is_stmt 1 view .LVU711
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2292              		.loc 1 3064 5 is_stmt 0 view .LVU712
 2293 007e 0128     		cmp	r0, #1
 2294 0080 00F21D81 		bhi	.L214
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2295              		.loc 1 3116 3 is_stmt 1 view .LVU713
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2296              		.loc 1 3116 7 is_stmt 0 view .LVU714
 2297 0084 04F13F00 		add	r0, r4, #63
 2298              	.LVL248:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2299              		.loc 1 3116 7 view .LVU715
 2300 0088 FFF7FEFF 		bl	ld_word
 2301              	.LVL249:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 152


3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2302              		.loc 1 3116 6 discriminator 1 view .LVU716
 2303 008c B0F5007F 		cmp	r0, #512
 2304 0090 40F01781 		bne	.L215
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2305              		.loc 1 3118 3 is_stmt 1 view .LVU717
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2306              		.loc 1 3118 12 is_stmt 0 view .LVU718
 2307 0094 04F14A00 		add	r0, r4, #74
 2308 0098 FFF7FEFF 		bl	ld_word
 2309              	.LVL250:
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2310              		.loc 1 3118 10 discriminator 1 view .LVU719
 2311 009c 0646     		mov	r6, r0
 2312              	.LVL251:
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2313              		.loc 1 3119 3 is_stmt 1 view .LVU720
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2314              		.loc 1 3119 6 is_stmt 0 view .LVU721
 2315 009e 20B9     		cbnz	r0, .L198
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2316              		.loc 1 3119 20 is_stmt 1 discriminator 1 view .LVU722
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2317              		.loc 1 3119 29 is_stmt 0 discriminator 1 view .LVU723
 2318 00a0 04F15800 		add	r0, r4, #88
 2319              	.LVL252:
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2320              		.loc 1 3119 29 discriminator 1 view .LVU724
 2321 00a4 FFF7FEFF 		bl	ld_dword
 2322              	.LVL253:
 2323 00a8 0646     		mov	r6, r0
 2324              	.LVL254:
 2325              	.L198:
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2326              		.loc 1 3120 3 is_stmt 1 view .LVU725
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2327              		.loc 1 3120 13 is_stmt 0 view .LVU726
 2328 00aa E661     		str	r6, [r4, #28]
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2329              		.loc 1 3122 3 is_stmt 1 view .LVU727
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2330              		.loc 1 3122 23 is_stmt 0 view .LVU728
 2331 00ac 94F84420 		ldrb	r2, [r4, #68]	@ zero_extendqisi2
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2332              		.loc 1 3122 14 view .LVU729
 2333 00b0 A270     		strb	r2, [r4, #2]
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2334              		.loc 1 3123 3 is_stmt 1 view .LVU730
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2335              		.loc 1 3123 23 is_stmt 0 view .LVU731
 2336 00b2 531E     		subs	r3, r2, #1
 2337 00b4 DBB2     		uxtb	r3, r3
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2338              		.loc 1 3123 6 view .LVU732
 2339 00b6 012B     		cmp	r3, #1
 2340 00b8 00F20581 		bhi	.L216
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 153


 2341              		.loc 1 3124 3 is_stmt 1 view .LVU733
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2342              		.loc 1 3124 10 is_stmt 0 view .LVU734
 2343 00bc 06FB02F8 		mul	r8, r6, r2
 2344              	.LVL255:
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2345              		.loc 1 3126 3 is_stmt 1 view .LVU735
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2346              		.loc 1 3126 22 is_stmt 0 view .LVU736
 2347 00c0 94F84190 		ldrb	r9, [r4, #65]	@ zero_extendqisi2
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2348              		.loc 1 3126 13 view .LVU737
 2349 00c4 A4F80A90 		strh	r9, [r4, #10]	@ movhi
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2350              		.loc 1 3127 3 is_stmt 1 view .LVU738
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2351              		.loc 1 3127 6 is_stmt 0 view .LVU739
 2352 00c8 B9F1000F 		cmp	r9, #0
 2353 00cc 00F0FD80 		beq	.L217
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2354              		.loc 1 3127 49 discriminator 2 view .LVU740
 2355 00d0 09F1FF33 		add	r3, r9, #-1
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2356              		.loc 1 3127 22 discriminator 2 view .LVU741
 2357 00d4 19EA030F 		tst	r9, r3
 2358 00d8 40F0F980 		bne	.L218
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2359              		.loc 1 3129 3 is_stmt 1 view .LVU742
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2360              		.loc 1 3129 19 is_stmt 0 view .LVU743
 2361 00dc 04F14500 		add	r0, r4, #69
 2362 00e0 FFF7FEFF 		bl	ld_word
 2363              	.LVL256:
 2364 00e4 8246     		mov	r10, r0
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2365              		.loc 1 3129 17 discriminator 1 view .LVU744
 2366 00e6 2081     		strh	r0, [r4, #8]	@ movhi
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2367              		.loc 1 3130 3 is_stmt 1 view .LVU745
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2368              		.loc 1 3130 6 is_stmt 0 view .LVU746
 2369 00e8 10F00F0F 		tst	r0, #15
 2370 00ec 40F0F180 		bne	.L219
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2371              		.loc 1 3132 3 is_stmt 1 view .LVU747
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2372              		.loc 1 3132 11 is_stmt 0 view .LVU748
 2373 00f0 04F14700 		add	r0, r4, #71
 2374 00f4 FFF7FEFF 		bl	ld_word
 2375              	.LVL257:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2376              		.loc 1 3132 9 discriminator 1 view .LVU749
 2377 00f8 8346     		mov	fp, r0
 2378              	.LVL258:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2379              		.loc 1 3133 3 is_stmt 1 view .LVU750
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 154


 2380              		.loc 1 3133 6 is_stmt 0 view .LVU751
 2381 00fa 20B9     		cbnz	r0, .L199
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2382              		.loc 1 3133 19 is_stmt 1 discriminator 1 view .LVU752
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2383              		.loc 1 3133 27 is_stmt 0 discriminator 1 view .LVU753
 2384 00fc 04F15400 		add	r0, r4, #84
 2385              	.LVL259:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2386              		.loc 1 3133 27 discriminator 1 view .LVU754
 2387 0100 FFF7FEFF 		bl	ld_dword
 2388              	.LVL260:
 2389 0104 8346     		mov	fp, r0
 2390              	.LVL261:
 2391              	.L199:
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 2392              		.loc 1 3135 3 is_stmt 1 view .LVU755
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 2393              		.loc 1 3135 10 is_stmt 0 view .LVU756
 2394 0106 04F14200 		add	r0, r4, #66
 2395              	.LVL262:
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 2396              		.loc 1 3135 10 view .LVU757
 2397 010a FFF7FEFF 		bl	ld_word
 2398              	.LVL263:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2399              		.loc 1 3136 3 is_stmt 1 view .LVU758
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2400              		.loc 1 3136 6 is_stmt 0 view .LVU759
 2401 010e 0246     		mov	r2, r0
 2402 0110 0028     		cmp	r0, #0
 2403 0112 00F0E080 		beq	.L220
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2404              		.loc 1 3139 3 is_stmt 1 view .LVU760
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2405              		.loc 1 3139 17 is_stmt 0 view .LVU761
 2406 0116 00EB0803 		add	r3, r0, r8
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2407              		.loc 1 3139 10 view .LVU762
 2408 011a 03EB1A13 		add	r3, r3, r10, lsr #4
 2409              	.LVL264:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2410              		.loc 1 3140 3 is_stmt 1 view .LVU763
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2411              		.loc 1 3140 6 is_stmt 0 view .LVU764
 2412 011e 9B45     		cmp	fp, r3
 2413 0120 C0F0DB80 		bcc	.L221
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2414              		.loc 1 3141 3 is_stmt 1 view .LVU765
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2415              		.loc 1 3141 18 is_stmt 0 view .LVU766
 2416 0124 ABEB030B 		sub	fp, fp, r3
 2417              	.LVL265:
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2418              		.loc 1 3141 9 view .LVU767
 2419 0128 BBFBF9F1 		udiv	r1, fp, r9
 2420              	.LVL266:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 155


3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2421              		.loc 1 3142 3 is_stmt 1 view .LVU768
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2422              		.loc 1 3142 6 is_stmt 0 view .LVU769
 2423 012c CB45     		cmp	fp, r9
 2424 012e C0F0D680 		bcc	.L222
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 2425              		.loc 1 3143 3 is_stmt 1 view .LVU770
 2426              	.LVL267:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2427              		.loc 1 3144 3 view .LVU771
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2428              		.loc 1 3144 6 is_stmt 0 view .LVU772
 2429 0132 4FF6F570 		movw	r0, #65525
 2430              	.LVL268:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2431              		.loc 1 3144 6 view .LVU773
 2432 0136 8142     		cmp	r1, r0
 2433 0138 34D8     		bhi	.L223
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2434              		.loc 1 3144 27 is_stmt 1 discriminator 1 view .LVU774
 2435              	.LVL269:
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2436              		.loc 1 3145 3 view .LVU775
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2437              		.loc 1 3145 6 is_stmt 0 view .LVU776
 2438 013a 40F6F570 		movw	r0, #4085
 2439 013e 8142     		cmp	r1, r0
 2440 0140 6AD9     		bls	.L224
 2441 0142 4FF0020B 		mov	fp, #2
 2442 0146 2FE0     		b	.L200
 2443              	.LVL270:
 2444              	.L211:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2445              		.loc 1 3054 54 discriminator 2 view .LVU777
 2446 0148 0020     		movs	r0, #0
 2447              	.LVL271:
 2448              	.L194:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2449              		.loc 1 3054 10 discriminator 4 view .LVU778
 2450 014a 04AB     		add	r3, sp, #16
 2451 014c 03EB8603 		add	r3, r3, r6, lsl #2
 2452 0150 43F8100C 		str	r0, [r3, #-16]
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2453              		.loc 1 3052 23 is_stmt 1 discriminator 2 view .LVU779
 2454 0154 0136     		adds	r6, r6, #1
 2455              	.LVL272:
 2456              	.L192:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2457              		.loc 1 3052 17 discriminator 1 view .LVU780
 2458 0156 032E     		cmp	r6, #3
 2459 0158 0ED8     		bhi	.L230
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2460              		.loc 1 3053 4 view .LVU781
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2461              		.loc 1 3053 9 is_stmt 0 view .LVU782
 2462 015a 04F13400 		add	r0, r4, #52
ARM GAS  C:\usertemp\ccmutrvj.s 			page 156


3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2463              		.loc 1 3053 34 view .LVU783
 2464 015e 3301     		lsls	r3, r6, #4
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2465              		.loc 1 3053 30 view .LVU784
 2466 0160 03F5DF73 		add	r3, r3, #446
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2467              		.loc 1 3053 7 view .LVU785
 2468 0164 1844     		add	r0, r0, r3
 2469              	.LVL273:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2470              		.loc 1 3054 4 is_stmt 1 view .LVU786
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2471              		.loc 1 3054 14 is_stmt 0 view .LVU787
 2472 0166 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2473              		.loc 1 3054 54 view .LVU788
 2474 0168 002B     		cmp	r3, #0
 2475 016a EDD0     		beq	.L211
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2476              		.loc 1 3054 29 discriminator 1 view .LVU789
 2477 016c 0830     		adds	r0, r0, #8
 2478              	.LVL274:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2479              		.loc 1 3054 29 discriminator 1 view .LVU790
 2480 016e FFF7FEFF 		bl	ld_dword
 2481              	.LVL275:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2482              		.loc 1 3054 29 discriminator 1 view .LVU791
 2483 0172 EAE7     		b	.L194
 2484              	.LVL276:
 2485              	.L210:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2486              		.loc 1 3052 10 view .LVU792
 2487 0174 0026     		movs	r6, #0
 2488              	.LVL277:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2489              		.loc 1 3052 10 view .LVU793
 2490 0176 EEE7     		b	.L192
 2491              	.LVL278:
 2492              	.L230:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2493              		.loc 1 3052 10 view .LVU794
 2494 0178 0026     		movs	r6, #0
 2495              	.LVL279:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2496              		.loc 1 3052 10 view .LVU795
 2497 017a 0AE0     		b	.L197
 2498              	.LVL280:
 2499              	.L231:
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2500              		.loc 1 3060 18 discriminator 1 view .LVU796
 2501 017c 3946     		mov	r1, r7
 2502 017e 2046     		mov	r0, r4
 2503 0180 FFF7FEFF 		bl	check_fs
 2504              	.LVL281:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 157


 2505              		.loc 1 3061 40 is_stmt 1 view .LVU797
 2506 0184 0128     		cmp	r0, #1
 2507 0186 7FF677AF 		bls	.L193
 2508              	.LVL282:
 2509              	.L196:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2510              		.loc 1 3061 40 is_stmt 0 discriminator 1 view .LVU798
 2511 018a 0136     		adds	r6, r6, #1
 2512              	.LVL283:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2513              		.loc 1 3061 40 discriminator 1 view .LVU799
 2514 018c 032E     		cmp	r6, #3
 2515 018e 3FF673AF 		bhi	.L193
 2516              	.LVL284:
 2517              	.L197:
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
 2518              		.loc 1 3058 3 is_stmt 1 view .LVU800
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 2519              		.loc 1 3059 4 view .LVU801
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 2520              		.loc 1 3059 10 is_stmt 0 view .LVU802
 2521 0192 04AB     		add	r3, sp, #16
 2522 0194 03EB8603 		add	r3, r3, r6, lsl #2
 2523 0198 53F8107C 		ldr	r7, [r3, #-16]
 2524              	.LVL285:
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2525              		.loc 1 3060 4 is_stmt 1 view .LVU803
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2526              		.loc 1 3060 8 is_stmt 0 view .LVU804
 2527 019c 002F     		cmp	r7, #0
 2528 019e EDD1     		bne	.L231
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2529              		.loc 1 3060 8 discriminator 2 view .LVU805
 2530 01a0 0320     		movs	r0, #3
 2531 01a2 F2E7     		b	.L196
 2532              	.LVL286:
 2533              	.L223:
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 2534              		.loc 1 3143 7 view .LVU806
 2535 01a4 4FF0030B 		mov	fp, #3
 2536              	.LVL287:
 2537              	.L200:
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2538              		.loc 1 3148 3 is_stmt 1 view .LVU807
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2539              		.loc 1 3148 24 is_stmt 0 view .LVU808
 2540 01a8 01F10209 		add	r9, r1, #2
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2541              		.loc 1 3148 16 view .LVU809
 2542 01ac C4F81890 		str	r9, [r4, #24]
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 2543              		.loc 1 3149 3 is_stmt 1 view .LVU810
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 2544              		.loc 1 3149 15 is_stmt 0 view .LVU811
 2545 01b0 2762     		str	r7, [r4, #32]
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2546              		.loc 1 3150 3 is_stmt 1 view .LVU812
ARM GAS  C:\usertemp\ccmutrvj.s 			page 158


3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2547              		.loc 1 3150 23 is_stmt 0 view .LVU813
 2548 01b2 3A44     		add	r2, r2, r7
 2549              	.LVL288:
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2550              		.loc 1 3150 15 view .LVU814
 2551 01b4 6262     		str	r2, [r4, #36]
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2552              		.loc 1 3151 3 is_stmt 1 view .LVU815
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2553              		.loc 1 3151 24 is_stmt 0 view .LVU816
 2554 01b6 3B44     		add	r3, r3, r7
 2555              	.LVL289:
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2556              		.loc 1 3151 16 view .LVU817
 2557 01b8 E362     		str	r3, [r4, #44]
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 2558              		.loc 1 3152 3 is_stmt 1 view .LVU818
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 2559              		.loc 1 3152 6 is_stmt 0 view .LVU819
 2560 01ba BBF1030F 		cmp	fp, #3
 2561 01be 2ED0     		beq	.L232
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2562              		.loc 1 3158 4 is_stmt 1 view .LVU820
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2563              		.loc 1 3158 7 is_stmt 0 view .LVU821
 2564 01c0 BAF1000F 		cmp	r10, #0
 2565 01c4 00F09180 		beq	.L227
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2566              		.loc 1 3159 4 is_stmt 1 view .LVU822
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2567              		.loc 1 3159 30 is_stmt 0 view .LVU823
 2568 01c8 4244     		add	r2, r2, r8
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2569              		.loc 1 3159 16 view .LVU824
 2570 01ca A262     		str	r2, [r4, #40]
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 2571              		.loc 1 3160 4 is_stmt 1 view .LVU825
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2572              		.loc 1 3161 22 is_stmt 0 view .LVU826
 2573 01cc BBF1020F 		cmp	fp, #2
 2574 01d0 36D0     		beq	.L233
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2575              		.loc 1 3161 37 discriminator 2 view .LVU827
 2576 01d2 09EB4903 		add	r3, r9, r9, lsl #1
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2577              		.loc 1 3161 61 discriminator 2 view .LVU828
 2578 01d6 09F00109 		and	r9, r9, #1
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2579              		.loc 1 3161 22 discriminator 2 view .LVU829
 2580 01da 09EB5309 		add	r9, r9, r3, lsr #1
 2581              	.LVL290:
 2582              	.L202:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2583              		.loc 1 3163 3 is_stmt 1 view .LVU830
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2584              		.loc 1 3163 27 is_stmt 0 view .LVU831
ARM GAS  C:\usertemp\ccmutrvj.s 			page 159


 2585 01de 09F2FF19 		addw	r9, r9, #511
 2586              	.LVL291:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2587              		.loc 1 3163 6 view .LVU832
 2588 01e2 B6EB592F 		cmp	r6, r9, lsr #9
 2589 01e6 C0F08280 		bcc	.L228
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2590              		.loc 1 3167 3 is_stmt 1 view .LVU833
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2591              		.loc 1 3167 33 is_stmt 0 view .LVU834
 2592 01ea 4FF0FF33 		mov	r3, #-1
 2593 01ee 2361     		str	r3, [r4, #16]
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2594              		.loc 1 3167 17 view .LVU835
 2595 01f0 E360     		str	r3, [r4, #12]
3168:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2596              		.loc 1 3168 3 is_stmt 1 view .LVU836
3168:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2597              		.loc 1 3168 16 is_stmt 0 view .LVU837
 2598 01f2 8023     		movs	r3, #128
 2599 01f4 2371     		strb	r3, [r4, #4]
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 2600              		.loc 1 3170 3 is_stmt 1 view .LVU838
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 2601              		.loc 1 3170 6 is_stmt 0 view .LVU839
 2602 01f6 BBF1030F 		cmp	fp, #3
 2603 01fa 24D0     		beq	.L234
 2604              	.L204:
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 2605              		.loc 1 3191 2 is_stmt 1 view .LVU840
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 2606              		.loc 1 3191 14 is_stmt 0 view .LVU841
 2607 01fc 84F800B0 		strb	fp, [r4]
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2608              		.loc 1 3192 2 is_stmt 1 view .LVU842
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2609              		.loc 1 3192 11 is_stmt 0 view .LVU843
 2610 0200 3D4A     		ldr	r2, .L235+4
 2611 0202 1388     		ldrh	r3, [r2]
 2612 0204 0133     		adds	r3, r3, #1
 2613 0206 9BB2     		uxth	r3, r3
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2614              		.loc 1 3192 9 view .LVU844
 2615 0208 1380     		strh	r3, [r2]	@ movhi
 2616 020a E380     		strh	r3, [r4, #6]	@ movhi
3200:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2617              		.loc 1 3200 2 is_stmt 1 view .LVU845
3200:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2618              		.loc 1 3200 11 is_stmt 0 view .LVU846
 2619 020c 0023     		movs	r3, #0
 2620 020e 6361     		str	r3, [r4, #20]
3203:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2621              		.loc 1 3203 2 is_stmt 1 view .LVU847
 2622 0210 2046     		mov	r0, r4
 2623 0212 FFF7FEFF 		bl	clear_lock
 2624              	.LVL292:
3205:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  C:\usertemp\ccmutrvj.s 			page 160


 2625              		.loc 1 3205 2 view .LVU848
3205:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2626              		.loc 1 3205 9 is_stmt 0 view .LVU849
 2627 0216 46E0     		b	.L189
 2628              	.LVL293:
 2629              	.L224:
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2630              		.loc 1 3145 31 discriminator 1 view .LVU850
 2631 0218 4FF0010B 		mov	fp, #1
 2632 021c C4E7     		b	.L200
 2633              	.LVL294:
 2634              	.L232:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2635              		.loc 1 3153 4 is_stmt 1 view .LVU851
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2636              		.loc 1 3153 8 is_stmt 0 view .LVU852
 2637 021e 04F15E00 		add	r0, r4, #94
 2638 0222 FFF7FEFF 		bl	ld_word
 2639              	.LVL295:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2640              		.loc 1 3153 7 discriminator 1 view .LVU853
 2641 0226 0028     		cmp	r0, #0
 2642 0228 5BD1     		bne	.L225
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2643              		.loc 1 3154 4 is_stmt 1 view .LVU854
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2644              		.loc 1 3154 7 is_stmt 0 view .LVU855
 2645 022a BAF1000F 		cmp	r10, #0
 2646 022e 5AD1     		bne	.L226
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2647              		.loc 1 3155 4 is_stmt 1 view .LVU856
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2648              		.loc 1 3155 18 is_stmt 0 view .LVU857
 2649 0230 04F16000 		add	r0, r4, #96
 2650 0234 FFF7FEFF 		bl	ld_dword
 2651              	.LVL296:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2652              		.loc 1 3155 16 discriminator 1 view .LVU858
 2653 0238 A062     		str	r0, [r4, #40]
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2654              		.loc 1 3156 4 is_stmt 1 view .LVU859
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2655              		.loc 1 3156 11 is_stmt 0 view .LVU860
 2656 023a 4FEA8909 		lsl	r9, r9, #2
 2657              	.LVL297:
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2658              		.loc 1 3156 11 view .LVU861
 2659 023e CEE7     		b	.L202
 2660              	.LVL298:
 2661              	.L233:
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2662              		.loc 1 3161 22 discriminator 1 view .LVU862
 2663 0240 4FEA4909 		lsl	r9, r9, #1
 2664 0244 CBE7     		b	.L202
 2665              	.LVL299:
 2666              	.L234:
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
ARM GAS  C:\usertemp\ccmutrvj.s 			page 161


 2667              		.loc 1 3171 7 view .LVU863
 2668 0246 04F16400 		add	r0, r4, #100
 2669 024a FFF7FEFF 		bl	ld_word
 2670              	.LVL300:
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 2671              		.loc 1 3171 4 discriminator 1 view .LVU864
 2672 024e 0128     		cmp	r0, #1
 2673 0250 D4D1     		bne	.L204
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2674              		.loc 1 3172 7 view .LVU865
 2675 0252 791C     		adds	r1, r7, #1
 2676 0254 2046     		mov	r0, r4
 2677 0256 FFF7FEFF 		bl	move_window
 2678              	.LVL301:
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2679              		.loc 1 3172 4 discriminator 1 view .LVU866
 2680 025a 0028     		cmp	r0, #0
 2681 025c CED1     		bne	.L204
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2682              		.loc 1 3174 4 is_stmt 1 view .LVU867
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2683              		.loc 1 3174 17 is_stmt 0 view .LVU868
 2684 025e 0023     		movs	r3, #0
 2685 0260 2371     		strb	r3, [r4, #4]
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2686              		.loc 1 3175 4 is_stmt 1 view .LVU869
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2687              		.loc 1 3175 8 is_stmt 0 view .LVU870
 2688 0262 04F23220 		addw	r0, r4, #562
 2689 0266 FFF7FEFF 		bl	ld_word
 2690              	.LVL302:
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2691              		.loc 1 3175 7 discriminator 1 view .LVU871
 2692 026a 4AF65523 		movw	r3, #43605
 2693 026e 9842     		cmp	r0, r3
 2694 0270 C4D1     		bne	.L204
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 2695              		.loc 1 3176 8 view .LVU872
 2696 0272 04F13400 		add	r0, r4, #52
 2697 0276 FFF7FEFF 		bl	ld_dword
 2698              	.LVL303:
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 2699              		.loc 1 3176 5 discriminator 1 view .LVU873
 2700 027a 204B     		ldr	r3, .L235+8
 2701 027c 9842     		cmp	r0, r3
 2702 027e BDD1     		bne	.L204
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
 2703              		.loc 1 3177 8 view .LVU874
 2704 0280 04F50670 		add	r0, r4, #536
 2705 0284 FFF7FEFF 		bl	ld_dword
 2706              	.LVL304:
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
 2707              		.loc 1 3177 5 discriminator 1 view .LVU875
 2708 0288 1D4B     		ldr	r3, .L235+12
 2709 028a 9842     		cmp	r0, r3
 2710 028c B6D1     		bne	.L204
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  C:\usertemp\ccmutrvj.s 			page 162


 2711              		.loc 1 3180 5 is_stmt 1 view .LVU876
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2712              		.loc 1 3180 21 is_stmt 0 view .LVU877
 2713 028e 04F50770 		add	r0, r4, #540
 2714 0292 FFF7FEFF 		bl	ld_dword
 2715              	.LVL305:
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2716              		.loc 1 3180 19 discriminator 1 view .LVU878
 2717 0296 2061     		str	r0, [r4, #16]
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2718              		.loc 1 3183 5 is_stmt 1 view .LVU879
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2719              		.loc 1 3183 21 is_stmt 0 view .LVU880
 2720 0298 04F50870 		add	r0, r4, #544
 2721 029c FFF7FEFF 		bl	ld_dword
 2722              	.LVL306:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2723              		.loc 1 3183 19 discriminator 1 view .LVU881
 2724 02a0 E060     		str	r0, [r4, #12]
 2725 02a2 ABE7     		b	.L204
 2726              	.LVL307:
 2727              	.L205:
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2728              		.loc 1 3011 22 discriminator 1 view .LVU882
 2729 02a4 0B25     		movs	r5, #11
 2730              	.LVL308:
 2731              	.L189:
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2732              		.loc 1 3206 1 view .LVU883
 2733 02a6 2846     		mov	r0, r5
 2734 02a8 05B0     		add	sp, sp, #20
 2735              	.LCFI20:
 2736              		.cfi_remember_state
 2737              		.cfi_def_cfa_offset 36
 2738              		@ sp needed
 2739 02aa BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2740              	.LVL309:
 2741              	.L206:
 2742              	.LCFI21:
 2743              		.cfi_restore_state
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2744              		.loc 1 3015 18 discriminator 1 view .LVU884
 2745 02ae 0C25     		movs	r5, #12
 2746              	.LVL310:
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2747              		.loc 1 3015 18 discriminator 1 view .LVU885
 2748 02b0 F9E7     		b	.L189
 2749              	.LVL311:
 2750              	.L208:
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2751              		.loc 1 3038 10 view .LVU886
 2752 02b2 0325     		movs	r5, #3
 2753 02b4 F7E7     		b	.L189
 2754              	.L209:
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2755              		.loc 1 3041 10 view .LVU887
 2756 02b6 0A25     		movs	r5, #10
ARM GAS  C:\usertemp\ccmutrvj.s 			page 163


 2757 02b8 F5E7     		b	.L189
 2758              	.LVL312:
 2759              	.L213:
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2760              		.loc 1 3063 23 discriminator 1 view .LVU888
 2761 02ba 0125     		movs	r5, #1
 2762 02bc F3E7     		b	.L189
 2763              	.L214:
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2764              		.loc 1 3064 23 discriminator 1 view .LVU889
 2765 02be 0D25     		movs	r5, #13
 2766 02c0 F1E7     		b	.L189
 2767              	.LVL313:
 2768              	.L215:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2769              		.loc 1 3116 59 discriminator 1 view .LVU890
 2770 02c2 0D25     		movs	r5, #13
 2771 02c4 EFE7     		b	.L189
 2772              	.LVL314:
 2773              	.L216:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2774              		.loc 1 3123 50 discriminator 1 view .LVU891
 2775 02c6 0D25     		movs	r5, #13
 2776 02c8 EDE7     		b	.L189
 2777              	.LVL315:
 2778              	.L217:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2779              		.loc 1 3127 63 discriminator 3 view .LVU892
 2780 02ca 0D25     		movs	r5, #13
 2781 02cc EBE7     		b	.L189
 2782              	.L218:
 2783 02ce 0D25     		movs	r5, #13
 2784 02d0 E9E7     		b	.L189
 2785              	.L219:
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2786              		.loc 1 3130 49 discriminator 1 view .LVU893
 2787 02d2 0D25     		movs	r5, #13
 2788 02d4 E7E7     		b	.L189
 2789              	.LVL316:
 2790              	.L220:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2791              		.loc 1 3136 25 discriminator 1 view .LVU894
 2792 02d6 0D25     		movs	r5, #13
 2793 02d8 E5E7     		b	.L189
 2794              	.LVL317:
 2795              	.L221:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2796              		.loc 1 3140 30 discriminator 1 view .LVU895
 2797 02da 0D25     		movs	r5, #13
 2798 02dc E3E7     		b	.L189
 2799              	.LVL318:
 2800              	.L222:
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2801              		.loc 1 3142 26 discriminator 1 view .LVU896
 2802 02de 0D25     		movs	r5, #13
 2803 02e0 E1E7     		b	.L189
 2804              	.LVL319:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 164


 2805              	.L225:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2806              		.loc 1 3153 52 discriminator 1 view .LVU897
 2807 02e2 0D25     		movs	r5, #13
 2808 02e4 DFE7     		b	.L189
 2809              	.L226:
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2810              		.loc 1 3154 30 discriminator 1 view .LVU898
 2811 02e6 0D25     		movs	r5, #13
 2812 02e8 DDE7     		b	.L189
 2813              	.LVL320:
 2814              	.L227:
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2815              		.loc 1 3158 35 discriminator 1 view .LVU899
 2816 02ea 0D25     		movs	r5, #13
 2817 02ec DBE7     		b	.L189
 2818              	.LVL321:
 2819              	.L228:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2820              		.loc 1 3163 60 discriminator 1 view .LVU900
 2821 02ee 0D25     		movs	r5, #13
 2822 02f0 D9E7     		b	.L189
 2823              	.L236:
 2824 02f2 00BF     		.align	2
 2825              	.L235:
 2826 02f4 00000000 		.word	FatFs
 2827 02f8 00000000 		.word	Fsid
 2828 02fc 52526141 		.word	1096897106
 2829 0300 72724161 		.word	1631679090
 2830              		.cfi_endproc
 2831              	.LFE369:
 2833              		.section	.text.put_fat,"ax",%progbits
 2834              		.align	1
 2835              		.syntax unified
 2836              		.thumb
 2837              		.thumb_func
 2839              	put_fat:
 2840              	.LVL322:
 2841              	.LFB351:
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 2842              		.loc 1 1086 1 is_stmt 1 view -0
 2843              		.cfi_startproc
 2844              		@ args = 0, pretend = 0, frame = 0
 2845              		@ frame_needed = 0, uses_anonymous_args = 0
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 2846              		.loc 1 1086 1 is_stmt 0 view .LVU902
 2847 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2848              	.LCFI22:
 2849              		.cfi_def_cfa_offset 32
 2850              		.cfi_offset 4, -32
 2851              		.cfi_offset 5, -28
 2852              		.cfi_offset 6, -24
 2853              		.cfi_offset 7, -20
 2854              		.cfi_offset 8, -16
 2855              		.cfi_offset 9, -12
 2856              		.cfi_offset 10, -8
 2857              		.cfi_offset 14, -4
ARM GAS  C:\usertemp\ccmutrvj.s 			page 165


1087:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 2858              		.loc 1 1087 2 is_stmt 1 view .LVU903
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
 2859              		.loc 1 1088 2 view .LVU904
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2860              		.loc 1 1089 2 view .LVU905
 2861              	.LVL323:
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 2862              		.loc 1 1091 2 view .LVU906
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 2863              		.loc 1 1091 5 is_stmt 0 view .LVU907
 2864 0004 0129     		cmp	r1, #1
 2865 0006 75D9     		bls	.L245
 2866 0008 0746     		mov	r7, r0
 2867 000a 0C46     		mov	r4, r1
 2868 000c 1646     		mov	r6, r2
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 2869              		.loc 1 1091 28 discriminator 1 view .LVU908
 2870 000e 8369     		ldr	r3, [r0, #24]
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 2871              		.loc 1 1091 16 discriminator 1 view .LVU909
 2872 0010 8B42     		cmp	r3, r1
 2873 0012 73D9     		bls	.L246
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 2874              		.loc 1 1092 3 is_stmt 1 view .LVU910
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 2875              		.loc 1 1092 13 is_stmt 0 view .LVU911
 2876 0014 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 2877              		.loc 1 1092 3 view .LVU912
 2878 0016 022B     		cmp	r3, #2
 2879 0018 3ED0     		beq	.L239
 2880 001a 032B     		cmp	r3, #3
 2881 001c 4FD0     		beq	.L240
 2882 001e 012B     		cmp	r3, #1
 2883 0020 6ED1     		bne	.L247
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2884              		.loc 1 1094 4 is_stmt 1 view .LVU913
 2885              	.LVL324:
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2886              		.loc 1 1094 21 view .LVU914
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2887              		.loc 1 1094 24 is_stmt 0 view .LVU915
 2888 0022 01EB5108 		add	r8, r1, r1, lsr #1
 2889              	.LVL325:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2890              		.loc 1 1095 4 is_stmt 1 view .LVU916
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2891              		.loc 1 1095 28 is_stmt 0 view .LVU917
 2892 0026 416A     		ldr	r1, [r0, #36]
 2893              	.LVL326:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2894              		.loc 1 1095 10 view .LVU918
 2895 0028 01EB5821 		add	r1, r1, r8, lsr #9
 2896 002c FFF7FEFF 		bl	move_window
 2897              	.LVL327:
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 166


 2898              		.loc 1 1096 4 is_stmt 1 view .LVU919
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 2899              		.loc 1 1096 7 is_stmt 0 view .LVU920
 2900 0030 0546     		mov	r5, r0
 2901 0032 0028     		cmp	r0, #0
 2902 0034 5FD1     		bne	.L238
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 2903              		.loc 1 1097 4 is_stmt 1 view .LVU921
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 2904              		.loc 1 1097 8 is_stmt 0 view .LVU922
 2905 0036 07F1340A 		add	r10, r7, #52
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 2906              		.loc 1 1097 23 view .LVU923
 2907 003a 08F10109 		add	r9, r8, #1
 2908              	.LVL328:
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 2909              		.loc 1 1097 23 view .LVU924
 2910 003e C8F30808 		ubfx	r8, r8, #0, #9
 2911              	.LVL329:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2912              		.loc 1 1098 4 is_stmt 1 view .LVU925
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2913              		.loc 1 1098 7 is_stmt 0 view .LVU926
 2914 0042 14F00104 		ands	r4, r4, #1
 2915              	.LVL330:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2916              		.loc 1 1098 7 view .LVU927
 2917 0046 1DD0     		beq	.L241
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2918              		.loc 1 1098 24 discriminator 1 view .LVU928
 2919 0048 1AF80830 		ldrb	r3, [r10, r8]	@ zero_extendqisi2
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2920              		.loc 1 1098 7 discriminator 1 view .LVU929
 2921 004c 03F00F03 		and	r3, r3, #15
 2922 0050 43EA0613 		orr	r3, r3, r6, lsl #4
 2923 0054 DBB2     		uxtb	r3, r3
 2924              	.L242:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2925              		.loc 1 1098 7 discriminator 4 view .LVU930
 2926 0056 0AF80830 		strb	r3, [r10, r8]
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2927              		.loc 1 1099 4 is_stmt 1 view .LVU931
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 2928              		.loc 1 1099 14 is_stmt 0 view .LVU932
 2929 005a 0123     		movs	r3, #1
 2930 005c FB70     		strb	r3, [r7, #3]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2931              		.loc 1 1100 4 is_stmt 1 view .LVU933
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2932              		.loc 1 1100 28 is_stmt 0 view .LVU934
 2933 005e 796A     		ldr	r1, [r7, #36]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2934              		.loc 1 1100 10 view .LVU935
 2935 0060 01EB5921 		add	r1, r1, r9, lsr #9
 2936 0064 3846     		mov	r0, r7
 2937              	.LVL331:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 167


 2938              		.loc 1 1100 10 view .LVU936
 2939 0066 FFF7FEFF 		bl	move_window
 2940              	.LVL332:
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 2941              		.loc 1 1101 4 is_stmt 1 view .LVU937
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 2942              		.loc 1 1101 7 is_stmt 0 view .LVU938
 2943 006a 0546     		mov	r5, r0
 2944 006c 0028     		cmp	r0, #0
 2945 006e 42D1     		bne	.L238
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 2946              		.loc 1 1102 4 is_stmt 1 view .LVU939
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 2947              		.loc 1 1102 21 is_stmt 0 view .LVU940
 2948 0070 C9F30809 		ubfx	r9, r9, #0, #9
 2949              	.LVL333:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2950              		.loc 1 1103 4 is_stmt 1 view .LVU941
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2951              		.loc 1 1103 7 is_stmt 0 view .LVU942
 2952 0074 44B1     		cbz	r4, .L243
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2953              		.loc 1 1103 7 discriminator 1 view .LVU943
 2954 0076 C6F30713 		ubfx	r3, r6, #4, #8
 2955              	.L244:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2956              		.loc 1 1103 7 discriminator 4 view .LVU944
 2957 007a 0AF80930 		strb	r3, [r10, r9]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2958              		.loc 1 1104 4 is_stmt 1 view .LVU945
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 2959              		.loc 1 1104 14 is_stmt 0 view .LVU946
 2960 007e 0123     		movs	r3, #1
 2961 0080 FB70     		strb	r3, [r7, #3]
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2962              		.loc 1 1105 4 is_stmt 1 view .LVU947
 2963 0082 38E0     		b	.L238
 2964              	.LVL334:
 2965              	.L241:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2966              		.loc 1 1098 7 is_stmt 0 discriminator 2 view .LVU948
 2967 0084 F3B2     		uxtb	r3, r6
 2968 0086 E6E7     		b	.L242
 2969              	.LVL335:
 2970              	.L243:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2971              		.loc 1 1103 43 discriminator 2 view .LVU949
 2972 0088 1AF80930 		ldrb	r3, [r10, r9]	@ zero_extendqisi2
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2973              		.loc 1 1103 74 discriminator 2 view .LVU950
 2974 008c C6F30322 		ubfx	r2, r6, #8, #4
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2975              		.loc 1 1103 7 discriminator 2 view .LVU951
 2976 0090 23F00F03 		bic	r3, r3, #15
 2977 0094 1343     		orrs	r3, r3, r2
 2978 0096 F0E7     		b	.L244
 2979              	.LVL336:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 168


 2980              	.L239:
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2981              		.loc 1 1108 4 is_stmt 1 view .LVU952
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2982              		.loc 1 1108 28 is_stmt 0 view .LVU953
 2983 0098 416A     		ldr	r1, [r0, #36]
 2984              	.LVL337:
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2985              		.loc 1 1108 10 view .LVU954
 2986 009a 01EB1421 		add	r1, r1, r4, lsr #8
 2987 009e FFF7FEFF 		bl	move_window
 2988              	.LVL338:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 2989              		.loc 1 1109 4 is_stmt 1 view .LVU955
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 2990              		.loc 1 1109 7 is_stmt 0 view .LVU956
 2991 00a2 0546     		mov	r5, r0
 2992 00a4 38BB     		cbnz	r0, .L238
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2993              		.loc 1 1110 4 is_stmt 1 view .LVU957
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2994              		.loc 1 1110 12 is_stmt 0 view .LVU958
 2995 00a6 07F13400 		add	r0, r7, #52
 2996              	.LVL339:
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 2997              		.loc 1 1110 27 view .LVU959
 2998 00aa 6400     		lsls	r4, r4, #1
 2999              	.LVL340:
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3000              		.loc 1 1110 31 view .LVU960
 3001 00ac 04F4FF74 		and	r4, r4, #510
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3002              		.loc 1 1110 4 view .LVU961
 3003 00b0 B1B2     		uxth	r1, r6
 3004 00b2 2044     		add	r0, r0, r4
 3005 00b4 FFF7FEFF 		bl	st_word
 3006              	.LVL341:
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3007              		.loc 1 1111 4 is_stmt 1 view .LVU962
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3008              		.loc 1 1111 14 is_stmt 0 view .LVU963
 3009 00b8 0123     		movs	r3, #1
 3010 00ba FB70     		strb	r3, [r7, #3]
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3011              		.loc 1 1112 4 is_stmt 1 view .LVU964
 3012 00bc 1BE0     		b	.L238
 3013              	.LVL342:
 3014              	.L240:
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3015              		.loc 1 1118 4 view .LVU965
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3016              		.loc 1 1118 28 is_stmt 0 view .LVU966
 3017 00be 416A     		ldr	r1, [r0, #36]
 3018              	.LVL343:
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3019              		.loc 1 1118 10 view .LVU967
 3020 00c0 01EBD411 		add	r1, r1, r4, lsr #7
ARM GAS  C:\usertemp\ccmutrvj.s 			page 169


 3021 00c4 FFF7FEFF 		bl	move_window
 3022              	.LVL344:
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3023              		.loc 1 1119 4 is_stmt 1 view .LVU968
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3024              		.loc 1 1119 7 is_stmt 0 view .LVU969
 3025 00c8 0546     		mov	r5, r0
 3026 00ca A0B9     		cbnz	r0, .L238
1120:Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
 3027              		.loc 1 1120 4 is_stmt 1 view .LVU970
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3028              		.loc 1 1121 5 view .LVU971
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3029              		.loc 1 1121 16 is_stmt 0 view .LVU972
 3030 00cc 26F07046 		bic	r6, r6, #-268435456
 3031              	.LVL345:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3032              		.loc 1 1121 42 view .LVU973
 3033 00d0 07F13403 		add	r3, r7, #52
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3034              		.loc 1 1121 57 view .LVU974
 3035 00d4 A400     		lsls	r4, r4, #2
 3036              	.LVL346:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3037              		.loc 1 1121 61 view .LVU975
 3038 00d6 04F4FE74 		and	r4, r4, #508
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3039              		.loc 1 1121 33 view .LVU976
 3040 00da 1C44     		add	r4, r4, r3
 3041 00dc 2046     		mov	r0, r4
 3042              	.LVL347:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3043              		.loc 1 1121 33 view .LVU977
 3044 00de FFF7FEFF 		bl	ld_dword
 3045              	.LVL348:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3046              		.loc 1 1121 71 discriminator 1 view .LVU978
 3047 00e2 00F07041 		and	r1, r0, #-268435456
 3048              	.LVL349:
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3049              		.loc 1 1123 4 is_stmt 1 view .LVU979
 3050 00e6 3143     		orrs	r1, r1, r6
 3051              	.LVL350:
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3052              		.loc 1 1123 4 is_stmt 0 view .LVU980
 3053 00e8 2046     		mov	r0, r4
 3054 00ea FFF7FEFF 		bl	st_dword
 3055              	.LVL351:
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3056              		.loc 1 1124 4 is_stmt 1 view .LVU981
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3057              		.loc 1 1124 14 is_stmt 0 view .LVU982
 3058 00ee 0123     		movs	r3, #1
 3059 00f0 FB70     		strb	r3, [r7, #3]
1125:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3060              		.loc 1 1125 4 is_stmt 1 view .LVU983
 3061 00f2 00E0     		b	.L238
ARM GAS  C:\usertemp\ccmutrvj.s 			page 170


 3062              	.LVL352:
 3063              	.L245:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3064              		.loc 1 1089 10 is_stmt 0 view .LVU984
 3065 00f4 0225     		movs	r5, #2
 3066              	.LVL353:
 3067              	.L238:
1128:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3068              		.loc 1 1128 2 is_stmt 1 view .LVU985
1129:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3069              		.loc 1 1129 1 is_stmt 0 view .LVU986
 3070 00f6 2846     		mov	r0, r5
 3071 00f8 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3072              	.LVL354:
 3073              	.L246:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3074              		.loc 1 1089 10 view .LVU987
 3075 00fc 0225     		movs	r5, #2
 3076 00fe FAE7     		b	.L238
 3077              	.L247:
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 3078              		.loc 1 1092 3 view .LVU988
 3079 0100 0225     		movs	r5, #2
 3080 0102 F8E7     		b	.L238
 3081              		.cfi_endproc
 3082              	.LFE351:
 3084              		.section	.text.get_fat,"ax",%progbits
 3085              		.align	1
 3086              		.syntax unified
 3087              		.thumb
 3088              		.thumb_func
 3090              	get_fat:
 3091              	.LVL355:
 3092              	.LFB350:
1005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 3093              		.loc 1 1005 1 is_stmt 1 view -0
 3094              		.cfi_startproc
 3095              		@ args = 0, pretend = 0, frame = 0
 3096              		@ frame_needed = 0, uses_anonymous_args = 0
1005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 3097              		.loc 1 1005 1 is_stmt 0 view .LVU990
 3098 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3099              	.LCFI23:
 3100              		.cfi_def_cfa_offset 24
 3101              		.cfi_offset 3, -24
 3102              		.cfi_offset 4, -20
 3103              		.cfi_offset 5, -16
 3104              		.cfi_offset 6, -12
 3105              		.cfi_offset 7, -8
 3106              		.cfi_offset 14, -4
1006:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 3107              		.loc 1 1006 2 is_stmt 1 view .LVU991
1007:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 3108              		.loc 1 1007 2 view .LVU992
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3109              		.loc 1 1008 2 view .LVU993
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 171


 3110              		.loc 1 1008 9 is_stmt 0 view .LVU994
 3111 0002 0568     		ldr	r5, [r0]
 3112              	.LVL356:
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3113              		.loc 1 1011 2 is_stmt 1 view .LVU995
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3114              		.loc 1 1011 5 is_stmt 0 view .LVU996
 3115 0004 0129     		cmp	r1, #1
 3116 0006 54D9     		bls	.L254
 3117 0008 0C46     		mov	r4, r1
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3118              		.loc 1 1011 28 discriminator 1 view .LVU997
 3119 000a AB69     		ldr	r3, [r5, #24]
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3120              		.loc 1 1011 15 discriminator 1 view .LVU998
 3121 000c 8B42     		cmp	r3, r1
 3122 000e 52D9     		bls	.L255
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3123              		.loc 1 1015 3 is_stmt 1 view .LVU999
 3124              	.LVL357:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3125              		.loc 1 1017 3 view .LVU1000
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3126              		.loc 1 1017 13 is_stmt 0 view .LVU1001
 3127 0010 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3128              		.loc 1 1017 3 view .LVU1002
 3129 0012 022B     		cmp	r3, #2
 3130 0014 2BD0     		beq	.L251
 3131 0016 032B     		cmp	r3, #3
 3132 0018 39D0     		beq	.L252
 3133 001a 012B     		cmp	r3, #1
 3134 001c 4DD1     		bne	.L256
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3135              		.loc 1 1019 4 is_stmt 1 view .LVU1003
 3136              	.LVL358:
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3137              		.loc 1 1019 21 view .LVU1004
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3138              		.loc 1 1019 24 is_stmt 0 view .LVU1005
 3139 001e 01EB5106 		add	r6, r1, r1, lsr #1
 3140              	.LVL359:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3141              		.loc 1 1020 4 is_stmt 1 view .LVU1006
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3142              		.loc 1 1020 26 is_stmt 0 view .LVU1007
 3143 0022 696A     		ldr	r1, [r5, #36]
 3144              	.LVL360:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3145              		.loc 1 1020 8 view .LVU1008
 3146 0024 01EB5621 		add	r1, r1, r6, lsr #9
 3147 0028 2846     		mov	r0, r5
 3148              	.LVL361:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3149              		.loc 1 1020 8 view .LVU1009
 3150 002a FFF7FEFF 		bl	move_window
 3151              	.LVL362:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 172


1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3152              		.loc 1 1020 7 discriminator 1 view .LVU1010
 3153 002e 10B1     		cbz	r0, .L262
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3154              		.loc 1 1015 7 view .LVU1011
 3155 0030 4FF0FF30 		mov	r0, #-1
 3156 0034 3EE0     		b	.L249
 3157              	.L262:
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3158              		.loc 1 1021 4 is_stmt 1 view .LVU1012
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3159              		.loc 1 1021 19 is_stmt 0 view .LVU1013
 3160 0036 771C     		adds	r7, r6, #1
 3161              	.LVL363:
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3162              		.loc 1 1021 22 view .LVU1014
 3163 0038 C6F30806 		ubfx	r6, r6, #0, #9
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3164              		.loc 1 1021 16 view .LVU1015
 3165 003c 2E44     		add	r6, r6, r5
 3166 003e 96F83460 		ldrb	r6, [r6, #52]	@ zero_extendqisi2
 3167              	.LVL364:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3168              		.loc 1 1022 4 is_stmt 1 view .LVU1016
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3169              		.loc 1 1022 26 is_stmt 0 view .LVU1017
 3170 0042 696A     		ldr	r1, [r5, #36]
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3171              		.loc 1 1022 8 view .LVU1018
 3172 0044 01EB5721 		add	r1, r1, r7, lsr #9
 3173 0048 2846     		mov	r0, r5
 3174 004a FFF7FEFF 		bl	move_window
 3175              	.LVL365:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3176              		.loc 1 1022 7 discriminator 1 view .LVU1019
 3177 004e B0BB     		cbnz	r0, .L258
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3178              		.loc 1 1023 4 is_stmt 1 view .LVU1020
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3179              		.loc 1 1023 21 is_stmt 0 view .LVU1021
 3180 0050 C7F30807 		ubfx	r7, r7, #0, #9
 3181              	.LVL366:
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3182              		.loc 1 1023 17 view .LVU1022
 3183 0054 2F44     		add	r7, r7, r5
 3184 0056 97F83430 		ldrb	r3, [r7, #52]	@ zero_extendqisi2
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3185              		.loc 1 1023 7 view .LVU1023
 3186 005a 46EA0320 		orr	r0, r6, r3, lsl #8
 3187              	.LVL367:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3188              		.loc 1 1024 4 is_stmt 1 view .LVU1024
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3189              		.loc 1 1024 33 is_stmt 0 view .LVU1025
 3190 005e 14F0010F 		tst	r4, #1
 3191 0062 01D0     		beq	.L253
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 173


 3192              		.loc 1 1024 33 discriminator 1 view .LVU1026
 3193 0064 0009     		lsrs	r0, r0, #4
 3194              	.LVL368:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3195              		.loc 1 1024 33 discriminator 1 view .LVU1027
 3196 0066 25E0     		b	.L249
 3197              	.LVL369:
 3198              	.L253:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3199              		.loc 1 1024 33 discriminator 2 view .LVU1028
 3200 0068 C0F30B00 		ubfx	r0, r0, #0, #12
 3201              	.LVL370:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3202              		.loc 1 1024 33 discriminator 2 view .LVU1029
 3203 006c 22E0     		b	.L249
 3204              	.LVL371:
 3205              	.L251:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3206              		.loc 1 1028 4 is_stmt 1 view .LVU1030
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3207              		.loc 1 1028 26 is_stmt 0 view .LVU1031
 3208 006e 696A     		ldr	r1, [r5, #36]
 3209              	.LVL372:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3210              		.loc 1 1028 8 view .LVU1032
 3211 0070 01EB1421 		add	r1, r1, r4, lsr #8
 3212 0074 2846     		mov	r0, r5
 3213              	.LVL373:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3214              		.loc 1 1028 8 view .LVU1033
 3215 0076 FFF7FEFF 		bl	move_window
 3216              	.LVL374:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3217              		.loc 1 1028 7 discriminator 1 view .LVU1034
 3218 007a 18BB     		cbnz	r0, .L259
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3219              		.loc 1 1029 4 is_stmt 1 view .LVU1035
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3220              		.loc 1 1029 18 is_stmt 0 view .LVU1036
 3221 007c 05F13400 		add	r0, r5, #52
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3222              		.loc 1 1029 33 view .LVU1037
 3223 0080 6400     		lsls	r4, r4, #1
 3224              	.LVL375:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3225              		.loc 1 1029 37 view .LVU1038
 3226 0082 04F4FF74 		and	r4, r4, #510
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3227              		.loc 1 1029 10 view .LVU1039
 3228 0086 2044     		add	r0, r0, r4
 3229 0088 FFF7FEFF 		bl	ld_word
 3230              	.LVL376:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3231              		.loc 1 1030 4 is_stmt 1 view .LVU1040
 3232 008c 12E0     		b	.L249
 3233              	.LVL377:
 3234              	.L252:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 174


1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3235              		.loc 1 1033 4 view .LVU1041
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3236              		.loc 1 1033 26 is_stmt 0 view .LVU1042
 3237 008e 696A     		ldr	r1, [r5, #36]
 3238              	.LVL378:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3239              		.loc 1 1033 8 view .LVU1043
 3240 0090 01EBD411 		add	r1, r1, r4, lsr #7
 3241 0094 2846     		mov	r0, r5
 3242              	.LVL379:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3243              		.loc 1 1033 8 view .LVU1044
 3244 0096 FFF7FEFF 		bl	move_window
 3245              	.LVL380:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3246              		.loc 1 1033 7 discriminator 1 view .LVU1045
 3247 009a B0B9     		cbnz	r0, .L260
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3248              		.loc 1 1034 4 is_stmt 1 view .LVU1046
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3249              		.loc 1 1034 19 is_stmt 0 view .LVU1047
 3250 009c 05F13400 		add	r0, r5, #52
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3251              		.loc 1 1034 34 view .LVU1048
 3252 00a0 A400     		lsls	r4, r4, #2
 3253              	.LVL381:
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3254              		.loc 1 1034 38 view .LVU1049
 3255 00a2 04F4FE74 		and	r4, r4, #508
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3256              		.loc 1 1034 10 view .LVU1050
 3257 00a6 2044     		add	r0, r0, r4
 3258 00a8 FFF7FEFF 		bl	ld_dword
 3259              	.LVL382:
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3260              		.loc 1 1034 8 discriminator 1 view .LVU1051
 3261 00ac 20F07040 		bic	r0, r0, #-268435456
 3262              	.LVL383:
1035:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 3263              		.loc 1 1035 4 is_stmt 1 view .LVU1052
 3264 00b0 00E0     		b	.L249
 3265              	.LVL384:
 3266              	.L254:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3267              		.loc 1 1012 7 is_stmt 0 view .LVU1053
 3268 00b2 0120     		movs	r0, #1
 3269              	.LVL385:
 3270              	.L249:
1070:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3271              		.loc 1 1070 1 view .LVU1054
 3272 00b4 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3273              	.LVL386:
 3274              	.L255:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3275              		.loc 1 1012 7 view .LVU1055
 3276 00b6 0120     		movs	r0, #1
ARM GAS  C:\usertemp\ccmutrvj.s 			page 175


 3277              	.LVL387:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3278              		.loc 1 1012 7 view .LVU1056
 3279 00b8 FCE7     		b	.L249
 3280              	.LVL388:
 3281              	.L256:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3282              		.loc 1 1017 3 view .LVU1057
 3283 00ba 0120     		movs	r0, #1
 3284              	.LVL389:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3285              		.loc 1 1017 3 view .LVU1058
 3286 00bc FAE7     		b	.L249
 3287              	.LVL390:
 3288              	.L258:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3289              		.loc 1 1015 7 view .LVU1059
 3290 00be 4FF0FF30 		mov	r0, #-1
 3291 00c2 F7E7     		b	.L249
 3292              	.LVL391:
 3293              	.L259:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3294              		.loc 1 1015 7 view .LVU1060
 3295 00c4 4FF0FF30 		mov	r0, #-1
 3296 00c8 F4E7     		b	.L249
 3297              	.L260:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3298              		.loc 1 1015 7 view .LVU1061
 3299 00ca 4FF0FF30 		mov	r0, #-1
1069:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3300              		.loc 1 1069 2 is_stmt 1 view .LVU1062
1069:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3301              		.loc 1 1069 9 is_stmt 0 view .LVU1063
 3302 00ce F1E7     		b	.L249
 3303              		.cfi_endproc
 3304              	.LFE350:
 3306              		.section	.text.dir_sdi,"ax",%progbits
 3307              		.align	1
 3308              		.syntax unified
 3309              		.thumb
 3310              		.thumb_func
 3312              	dir_sdi:
 3313              	.LVL392:
 3314              	.LFB355:
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
 3315              		.loc 1 1474 1 is_stmt 1 view -0
 3316              		.cfi_startproc
 3317              		@ args = 0, pretend = 0, frame = 0
 3318              		@ frame_needed = 0, uses_anonymous_args = 0
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
 3319              		.loc 1 1474 1 is_stmt 0 view .LVU1065
 3320 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3321              	.LCFI24:
 3322              		.cfi_def_cfa_offset 24
 3323              		.cfi_offset 4, -24
 3324              		.cfi_offset 5, -20
 3325              		.cfi_offset 6, -16
ARM GAS  C:\usertemp\ccmutrvj.s 			page 176


 3326              		.cfi_offset 7, -12
 3327              		.cfi_offset 8, -8
 3328              		.cfi_offset 14, -4
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3329              		.loc 1 1475 2 is_stmt 1 view .LVU1066
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3330              		.loc 1 1476 2 view .LVU1067
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3331              		.loc 1 1476 9 is_stmt 0 view .LVU1068
 3332 0004 D0F80080 		ldr	r8, [r0]
 3333              	.LVL393:
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3334              		.loc 1 1479 2 is_stmt 1 view .LVU1069
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3335              		.loc 1 1479 5 is_stmt 0 view .LVU1070
 3336 0008 B1F5001F 		cmp	r1, #2097152
 3337 000c 3FD2     		bcs	.L270
 3338 000e 0746     		mov	r7, r0
 3339 0010 0E46     		mov	r6, r1
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3340              		.loc 1 1479 84 discriminator 1 view .LVU1071
 3341 0012 11F01F0F 		tst	r1, #31
 3342 0016 3DD1     		bne	.L271
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 3343              		.loc 1 1482 2 is_stmt 1 view .LVU1072
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 3344              		.loc 1 1482 11 is_stmt 0 view .LVU1073
 3345 0018 4161     		str	r1, [r0, #20]
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 3346              		.loc 1 1483 2 is_stmt 1 view .LVU1074
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 3347              		.loc 1 1483 7 is_stmt 0 view .LVU1075
 3348 001a 8468     		ldr	r4, [r0, #8]
 3349              	.LVL394:
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3350              		.loc 1 1484 2 is_stmt 1 view .LVU1076
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3351              		.loc 1 1484 5 is_stmt 0 view .LVU1077
 3352 001c E4B9     		cbnz	r4, .L265
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3353              		.loc 1 1484 21 discriminator 1 view .LVU1078
 3354 001e 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3355              		.loc 1 1484 16 discriminator 1 view .LVU1079
 3356 0022 022B     		cmp	r3, #2
 3357 0024 01D9     		bls	.L266
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 3358              		.loc 1 1485 3 is_stmt 1 view .LVU1080
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 3359              		.loc 1 1485 8 is_stmt 0 view .LVU1081
 3360 0026 D8F82840 		ldr	r4, [r8, #40]
 3361              	.LVL395:
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3362              		.loc 1 1486 3 is_stmt 1 view .LVU1082
 3363              	.L266:
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 3364              		.loc 1 1489 2 view .LVU1083
ARM GAS  C:\usertemp\ccmutrvj.s 			page 177


1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 3365              		.loc 1 1489 5 is_stmt 0 view .LVU1084
 3366 002a ACB9     		cbnz	r4, .L265
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3367              		.loc 1 1490 3 is_stmt 1 view .LVU1085
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3368              		.loc 1 1490 25 is_stmt 0 view .LVU1086
 3369 002c B8F80830 		ldrh	r3, [r8, #8]
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3370              		.loc 1 1490 6 view .LVU1087
 3371 0030 B3EB561F 		cmp	r3, r6, lsr #5
 3372 0034 30D9     		bls	.L272
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3373              		.loc 1 1491 3 is_stmt 1 view .LVU1088
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3374              		.loc 1 1491 16 is_stmt 0 view .LVU1089
 3375 0036 D8F82830 		ldr	r3, [r8, #40]
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3376              		.loc 1 1491 12 view .LVU1090
 3377 003a FB61     		str	r3, [r7, #28]
 3378              	.LVL396:
 3379              	.L267:
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
 3380              		.loc 1 1503 2 is_stmt 1 view .LVU1091
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
 3381              		.loc 1 1503 12 is_stmt 0 view .LVU1092
 3382 003c BC61     		str	r4, [r7, #24]
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3383              		.loc 1 1504 2 is_stmt 1 view .LVU1093
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3384              		.loc 1 1504 9 is_stmt 0 view .LVU1094
 3385 003e FB69     		ldr	r3, [r7, #28]
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3386              		.loc 1 1504 5 view .LVU1095
 3387 0040 93B3     		cbz	r3, .L276
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3388              		.loc 1 1505 2 is_stmt 1 view .LVU1096
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3389              		.loc 1 1505 11 is_stmt 0 view .LVU1097
 3390 0042 03EB5623 		add	r3, r3, r6, lsr #9
 3391 0046 FB61     		str	r3, [r7, #28]
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3392              		.loc 1 1506 2 is_stmt 1 view .LVU1098
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3393              		.loc 1 1506 12 is_stmt 0 view .LVU1099
 3394 0048 08F13408 		add	r8, r8, #52
 3395              	.LVL397:
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3396              		.loc 1 1506 27 view .LVU1100
 3397 004c C6F30801 		ubfx	r1, r6, #0, #9
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3398              		.loc 1 1506 20 view .LVU1101
 3399 0050 4144     		add	r1, r1, r8
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3400              		.loc 1 1506 10 view .LVU1102
 3401 0052 3962     		str	r1, [r7, #32]
1508:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  C:\usertemp\ccmutrvj.s 			page 178


 3402              		.loc 1 1508 2 is_stmt 1 view .LVU1103
1508:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3403              		.loc 1 1508 9 is_stmt 0 view .LVU1104
 3404 0054 0020     		movs	r0, #0
 3405 0056 1BE0     		b	.L264
 3406              	.LVL398:
 3407              	.L265:
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3408              		.loc 1 1494 3 is_stmt 1 view .LVU1105
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3409              		.loc 1 1494 18 is_stmt 0 view .LVU1106
 3410 0058 B8F80A50 		ldrh	r5, [r8, #10]
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3411              		.loc 1 1494 7 view .LVU1107
 3412 005c 6D02     		lsls	r5, r5, #9
 3413              	.LVL399:
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 3414              		.loc 1 1495 3 is_stmt 1 view .LVU1108
 3415              	.L268:
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 3416              		.loc 1 1495 14 view .LVU1109
 3417 005e AE42     		cmp	r6, r5
 3418 0060 0FD3     		bcc	.L278
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3419              		.loc 1 1496 4 view .LVU1110
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3420              		.loc 1 1496 11 is_stmt 0 view .LVU1111
 3421 0062 2146     		mov	r1, r4
 3422 0064 3846     		mov	r0, r7
 3423 0066 FFF7FEFF 		bl	get_fat
 3424              	.LVL400:
 3425 006a 0446     		mov	r4, r0
 3426              	.LVL401:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3427              		.loc 1 1497 4 is_stmt 1 view .LVU1112
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3428              		.loc 1 1497 7 is_stmt 0 view .LVU1113
 3429 006c B0F1FF3F 		cmp	r0, #-1
 3430 0070 14D0     		beq	.L273
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3431              		.loc 1 1498 4 is_stmt 1 view .LVU1114
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3432              		.loc 1 1498 7 is_stmt 0 view .LVU1115
 3433 0072 0128     		cmp	r0, #1
 3434 0074 14D9     		bls	.L274
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3435              		.loc 1 1498 30 discriminator 2 view .LVU1116
 3436 0076 D8F81830 		ldr	r3, [r8, #24]
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3437              		.loc 1 1498 17 discriminator 2 view .LVU1117
 3438 007a 8342     		cmp	r3, r0
 3439 007c 12D9     		bls	.L275
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3440              		.loc 1 1499 4 is_stmt 1 view .LVU1118
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3441              		.loc 1 1499 8 is_stmt 0 view .LVU1119
 3442 007e 761B     		subs	r6, r6, r5
ARM GAS  C:\usertemp\ccmutrvj.s 			page 179


 3443              	.LVL402:
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3444              		.loc 1 1499 8 view .LVU1120
 3445 0080 EDE7     		b	.L268
 3446              	.LVL403:
 3447              	.L278:
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3448              		.loc 1 1501 3 is_stmt 1 view .LVU1121
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3449              		.loc 1 1501 14 is_stmt 0 view .LVU1122
 3450 0082 2146     		mov	r1, r4
 3451 0084 4046     		mov	r0, r8
 3452 0086 FFF7FEFF 		bl	clust2sect
 3453              	.LVL404:
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3454              		.loc 1 1501 12 discriminator 1 view .LVU1123
 3455 008a F861     		str	r0, [r7, #28]
 3456 008c D6E7     		b	.L267
 3457              	.LVL405:
 3458              	.L270:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3459              		.loc 1 1480 10 view .LVU1124
 3460 008e 0220     		movs	r0, #2
 3461              	.LVL406:
 3462              	.L264:
1509:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3463              		.loc 1 1509 1 view .LVU1125
 3464 0090 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3465              	.LVL407:
 3466              	.L271:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3467              		.loc 1 1480 10 view .LVU1126
 3468 0094 0220     		movs	r0, #2
 3469              	.LVL408:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3470              		.loc 1 1480 10 view .LVU1127
 3471 0096 FBE7     		b	.L264
 3472              	.LVL409:
 3473              	.L272:
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3474              		.loc 1 1490 45 discriminator 1 view .LVU1128
 3475 0098 0220     		movs	r0, #2
 3476              	.LVL410:
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3477              		.loc 1 1490 45 discriminator 1 view .LVU1129
 3478 009a F9E7     		b	.L264
 3479              	.LVL411:
 3480              	.L273:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3481              		.loc 1 1497 35 discriminator 1 view .LVU1130
 3482 009c 0120     		movs	r0, #1
 3483              	.LVL412:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3484              		.loc 1 1497 35 discriminator 1 view .LVU1131
 3485 009e F7E7     		b	.L264
 3486              	.LVL413:
 3487              	.L274:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 180


1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3488              		.loc 1 1498 49 discriminator 3 view .LVU1132
 3489 00a0 0220     		movs	r0, #2
 3490              	.LVL414:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3491              		.loc 1 1498 49 discriminator 3 view .LVU1133
 3492 00a2 F5E7     		b	.L264
 3493              	.LVL415:
 3494              	.L275:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3495              		.loc 1 1498 49 discriminator 3 view .LVU1134
 3496 00a4 0220     		movs	r0, #2
 3497              	.LVL416:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3498              		.loc 1 1498 49 discriminator 3 view .LVU1135
 3499 00a6 F3E7     		b	.L264
 3500              	.LVL417:
 3501              	.L276:
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3502              		.loc 1 1504 24 discriminator 1 view .LVU1136
 3503 00a8 0220     		movs	r0, #2
 3504 00aa F1E7     		b	.L264
 3505              		.cfi_endproc
 3506              	.LFE355:
 3508              		.section	.text.create_chain,"ax",%progbits
 3509              		.align	1
 3510              		.syntax unified
 3511              		.thumb
 3512              		.thumb_func
 3514              	create_chain:
 3515              	.LVL418:
 3516              	.LFB353:
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3517              		.loc 1 1355 1 is_stmt 1 view -0
 3518              		.cfi_startproc
 3519              		@ args = 0, pretend = 0, frame = 0
 3520              		@ frame_needed = 0, uses_anonymous_args = 0
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3521              		.loc 1 1355 1 is_stmt 0 view .LVU1138
 3522 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3523              	.LCFI25:
 3524              		.cfi_def_cfa_offset 24
 3525              		.cfi_offset 4, -24
 3526              		.cfi_offset 5, -20
 3527              		.cfi_offset 6, -16
 3528              		.cfi_offset 7, -12
 3529              		.cfi_offset 8, -8
 3530              		.cfi_offset 14, -4
 3531 0004 0546     		mov	r5, r0
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3532              		.loc 1 1356 2 is_stmt 1 view .LVU1139
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 3533              		.loc 1 1357 2 view .LVU1140
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3534              		.loc 1 1358 2 view .LVU1141
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3535              		.loc 1 1358 9 is_stmt 0 view .LVU1142
ARM GAS  C:\usertemp\ccmutrvj.s 			page 181


 3536 0006 0668     		ldr	r6, [r0]
 3537              	.LVL419:
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 3538              		.loc 1 1361 2 is_stmt 1 view .LVU1143
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 3539              		.loc 1 1361 5 is_stmt 0 view .LVU1144
 3540 0008 0F46     		mov	r7, r1
 3541 000a 51B9     		cbnz	r1, .L280
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 3542              		.loc 1 1362 3 is_stmt 1 view .LVU1145
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 3543              		.loc 1 1362 7 is_stmt 0 view .LVU1146
 3544 000c D6F80C80 		ldr	r8, [r6, #12]
 3545              	.LVL420:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3546              		.loc 1 1363 3 is_stmt 1 view .LVU1147
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3547              		.loc 1 1363 6 is_stmt 0 view .LVU1148
 3548 0010 B8F1000F 		cmp	r8, #0
 3549 0014 12D0     		beq	.L289
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3550              		.loc 1 1363 28 discriminator 2 view .LVU1149
 3551 0016 B369     		ldr	r3, [r6, #24]
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3552              		.loc 1 1363 16 discriminator 2 view .LVU1150
 3553 0018 4345     		cmp	r3, r8
 3554 001a 11D8     		bhi	.L281
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3555              		.loc 1 1363 44 discriminator 3 view .LVU1151
 3556 001c 4FF00108 		mov	r8, #1
 3557              	.LVL421:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3558              		.loc 1 1363 44 discriminator 3 view .LVU1152
 3559 0020 0EE0     		b	.L281
 3560              	.LVL422:
 3561              	.L280:
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3562              		.loc 1 1366 3 is_stmt 1 view .LVU1153
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3563              		.loc 1 1366 8 is_stmt 0 view .LVU1154
 3564 0022 FFF7FEFF 		bl	get_fat
 3565              	.LVL423:
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3566              		.loc 1 1366 8 view .LVU1155
 3567 0026 0346     		mov	r3, r0
 3568              	.LVL424:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3569              		.loc 1 1367 3 is_stmt 1 view .LVU1156
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3570              		.loc 1 1367 6 is_stmt 0 view .LVU1157
 3571 0028 0128     		cmp	r0, #1
 3572 002a 4CD9     		bls	.L291
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3573              		.loc 1 1368 3 is_stmt 1 view .LVU1158
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3574              		.loc 1 1368 6 is_stmt 0 view .LVU1159
 3575 002c B0F1FF3F 		cmp	r0, #-1
ARM GAS  C:\usertemp\ccmutrvj.s 			page 182


 3576 0030 4ED0     		beq	.L279
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3577              		.loc 1 1369 3 is_stmt 1 view .LVU1160
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3578              		.loc 1 1369 14 is_stmt 0 view .LVU1161
 3579 0032 B269     		ldr	r2, [r6, #24]
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3580              		.loc 1 1369 6 view .LVU1162
 3581 0034 8242     		cmp	r2, r0
 3582 0036 4BD8     		bhi	.L279
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3583              		.loc 1 1370 7 view .LVU1163
 3584 0038 B846     		mov	r8, r7
 3585 003a 01E0     		b	.L281
 3586              	.LVL425:
 3587              	.L289:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3588              		.loc 1 1363 44 discriminator 3 view .LVU1164
 3589 003c 4FF00108 		mov	r8, #1
 3590              	.LVL426:
 3591              	.L281:
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 3592              		.loc 1 1400 3 is_stmt 1 view .LVU1165
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 3593              		.loc 1 1400 7 is_stmt 0 view .LVU1166
 3594 0040 4446     		mov	r4, r8
 3595 0042 0CE0     		b	.L285
 3596              	.LVL427:
 3597              	.L283:
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 3598              		.loc 1 1407 4 is_stmt 1 view .LVU1167
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 3599              		.loc 1 1407 9 is_stmt 0 view .LVU1168
 3600 0044 2146     		mov	r1, r4
 3601 0046 2846     		mov	r0, r5
 3602 0048 FFF7FEFF 		bl	get_fat
 3603              	.LVL428:
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 3604              		.loc 1 1408 4 is_stmt 1 view .LVU1169
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 3605              		.loc 1 1408 7 is_stmt 0 view .LVU1170
 3606 004c 0346     		mov	r3, r0
 3607 004e 78B1     		cbz	r0, .L284
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 3608              		.loc 1 1409 4 is_stmt 1 view .LVU1171
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 3609              		.loc 1 1409 7 is_stmt 0 view .LVU1172
 3610 0050 B0F1FF3F 		cmp	r0, #-1
 3611 0054 18BF     		it	ne
 3612 0056 0128     		cmpne	r0, #1
 3613 0058 3AD0     		beq	.L279
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3614              		.loc 1 1410 4 is_stmt 1 view .LVU1173
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3615              		.loc 1 1410 7 is_stmt 0 view .LVU1174
 3616 005a 4445     		cmp	r4, r8
 3617 005c 37D0     		beq	.L296
ARM GAS  C:\usertemp\ccmutrvj.s 			page 183


 3618              	.LVL429:
 3619              	.L285:
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
 3620              		.loc 1 1401 3 is_stmt 1 view .LVU1175
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 3621              		.loc 1 1402 4 view .LVU1176
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 3622              		.loc 1 1402 7 is_stmt 0 view .LVU1177
 3623 005e 0134     		adds	r4, r4, #1
 3624              	.LVL430:
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3625              		.loc 1 1403 4 is_stmt 1 view .LVU1178
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3626              		.loc 1 1403 17 is_stmt 0 view .LVU1179
 3627 0060 B369     		ldr	r3, [r6, #24]
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3628              		.loc 1 1403 7 view .LVU1180
 3629 0062 A342     		cmp	r3, r4
 3630 0064 EED8     		bhi	.L283
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 3631              		.loc 1 1404 5 is_stmt 1 view .LVU1181
 3632              	.LVL431:
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3633              		.loc 1 1405 5 view .LVU1182
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3634              		.loc 1 1405 8 is_stmt 0 view .LVU1183
 3635 0066 B8F1010F 		cmp	r8, #1
 3636 006a 2ED9     		bls	.L292
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 3637              		.loc 1 1404 9 view .LVU1184
 3638 006c 0224     		movs	r4, #2
 3639 006e E9E7     		b	.L283
 3640              	.LVL432:
 3641              	.L284:
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3642              		.loc 1 1412 3 is_stmt 1 view .LVU1185
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3643              		.loc 1 1412 9 is_stmt 0 view .LVU1186
 3644 0070 4FF0FF32 		mov	r2, #-1
 3645 0074 2146     		mov	r1, r4
 3646 0076 3046     		mov	r0, r6
 3647              	.LVL433:
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3648              		.loc 1 1412 9 view .LVU1187
 3649 0078 FFF7FEFF 		bl	put_fat
 3650              	.LVL434:
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3651              		.loc 1 1413 3 is_stmt 1 view .LVU1188
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3652              		.loc 1 1413 11 is_stmt 0 view .LVU1189
 3653 007c 0246     		mov	r2, r0
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3654              		.loc 1 1413 20 view .LVU1190
 3655 007e B0FA80F0 		clz	r0, r0
 3656              	.LVL435:
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3657              		.loc 1 1413 20 view .LVU1191
ARM GAS  C:\usertemp\ccmutrvj.s 			page 184


 3658 0082 4009     		lsrs	r0, r0, #5
 3659 0084 002F     		cmp	r7, #0
 3660 0086 08BF     		it	eq
 3661 0088 0020     		moveq	r0, #0
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3662              		.loc 1 1413 6 view .LVU1192
 3663 008a 70B9     		cbnz	r0, .L297
 3664              	.LVL436:
 3665              	.L286:
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 3666              		.loc 1 1418 2 is_stmt 1 view .LVU1193
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 3667              		.loc 1 1418 5 is_stmt 0 view .LVU1194
 3668 008c A2B9     		cbnz	r2, .L287
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 3669              		.loc 1 1419 3 is_stmt 1 view .LVU1195
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 3670              		.loc 1 1419 17 is_stmt 0 view .LVU1196
 3671 008e F460     		str	r4, [r6, #12]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3672              		.loc 1 1420 3 is_stmt 1 view .LVU1197
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3673              		.loc 1 1420 9 is_stmt 0 view .LVU1198
 3674 0090 3269     		ldr	r2, [r6, #16]
 3675              	.LVL437:
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3676              		.loc 1 1420 26 view .LVU1199
 3677 0092 B369     		ldr	r3, [r6, #24]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3678              		.loc 1 1420 37 view .LVU1200
 3679 0094 023B     		subs	r3, r3, #2
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3680              		.loc 1 1420 6 view .LVU1201
 3681 0096 9A42     		cmp	r2, r3
 3682 0098 01D8     		bhi	.L288
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3683              		.loc 1 1420 42 is_stmt 1 discriminator 1 view .LVU1202
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3684              		.loc 1 1420 55 is_stmt 0 discriminator 1 view .LVU1203
 3685 009a 013A     		subs	r2, r2, #1
 3686 009c 3261     		str	r2, [r6, #16]
 3687              	.L288:
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 3688              		.loc 1 1421 3 is_stmt 1 view .LVU1204
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 3689              		.loc 1 1421 5 is_stmt 0 view .LVU1205
 3690 009e 3379     		ldrb	r3, [r6, #4]	@ zero_extendqisi2
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 3691              		.loc 1 1421 16 view .LVU1206
 3692 00a0 43F00103 		orr	r3, r3, #1
 3693 00a4 3371     		strb	r3, [r6, #4]
 3694 00a6 2346     		mov	r3, r4
 3695 00a8 12E0     		b	.L279
 3696              	.LVL438:
 3697              	.L297:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3698              		.loc 1 1414 4 is_stmt 1 view .LVU1207
ARM GAS  C:\usertemp\ccmutrvj.s 			page 185


1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3699              		.loc 1 1414 10 is_stmt 0 view .LVU1208
 3700 00aa 2246     		mov	r2, r4
 3701              	.LVL439:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3702              		.loc 1 1414 10 view .LVU1209
 3703 00ac 3946     		mov	r1, r7
 3704 00ae 3046     		mov	r0, r6
 3705 00b0 FFF7FEFF 		bl	put_fat
 3706              	.LVL440:
 3707 00b4 0246     		mov	r2, r0
 3708              	.LVL441:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3709              		.loc 1 1414 10 view .LVU1210
 3710 00b6 E9E7     		b	.L286
 3711              	.L287:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3712              		.loc 1 1423 3 is_stmt 1 view .LVU1211
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3713              		.loc 1 1423 43 is_stmt 0 view .LVU1212
 3714 00b8 012A     		cmp	r2, #1
 3715 00ba 01D0     		beq	.L298
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3716              		.loc 1 1423 43 discriminator 2 view .LVU1213
 3717 00bc 0123     		movs	r3, #1
 3718              	.LVL442:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3719              		.loc 1 1423 43 discriminator 2 view .LVU1214
 3720 00be 07E0     		b	.L279
 3721              	.LVL443:
 3722              	.L298:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3723              		.loc 1 1423 43 discriminator 1 view .LVU1215
 3724 00c0 4FF0FF33 		mov	r3, #-1
 3725 00c4 04E0     		b	.L279
 3726              	.LVL444:
 3727              	.L291:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3728              		.loc 1 1367 22 discriminator 1 view .LVU1216
 3729 00c6 0123     		movs	r3, #1
 3730 00c8 02E0     		b	.L279
 3731              	.LVL445:
 3732              	.L292:
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3733              		.loc 1 1405 27 discriminator 1 view .LVU1217
 3734 00ca 0023     		movs	r3, #0
 3735 00cc 00E0     		b	.L279
 3736              	.LVL446:
 3737              	.L296:
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3738              		.loc 1 1410 27 discriminator 1 view .LVU1218
 3739 00ce 0023     		movs	r3, #0
 3740              	.LVL447:
 3741              	.L279:
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3742              		.loc 1 1427 1 view .LVU1219
 3743 00d0 1846     		mov	r0, r3
ARM GAS  C:\usertemp\ccmutrvj.s 			page 186


 3744 00d2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3745              		.loc 1 1427 1 view .LVU1220
 3746              		.cfi_endproc
 3747              	.LFE353:
 3749              		.section	.text.remove_chain,"ax",%progbits
 3750              		.align	1
 3751              		.syntax unified
 3752              		.thumb
 3753              		.thumb_func
 3755              	remove_chain:
 3756              	.LVL448:
 3757              	.LFB352:
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 3758              		.loc 1 1276 1 is_stmt 1 view -0
 3759              		.cfi_startproc
 3760              		@ args = 0, pretend = 0, frame = 0
 3761              		@ frame_needed = 0, uses_anonymous_args = 0
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 3762              		.loc 1 1276 1 is_stmt 0 view .LVU1222
 3763 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3764              	.LCFI26:
 3765              		.cfi_def_cfa_offset 24
 3766              		.cfi_offset 3, -24
 3767              		.cfi_offset 4, -20
 3768              		.cfi_offset 5, -16
 3769              		.cfi_offset 6, -12
 3770              		.cfi_offset 7, -8
 3771              		.cfi_offset 14, -4
 3772 0002 0C46     		mov	r4, r1
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
 3773              		.loc 1 1277 2 is_stmt 1 view .LVU1223
 3774              	.LVL449:
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 3775              		.loc 1 1278 2 view .LVU1224
1279:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
 3776              		.loc 1 1279 2 view .LVU1225
1279:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
 3777              		.loc 1 1279 9 is_stmt 0 view .LVU1226
 3778 0004 0568     		ldr	r5, [r0]
 3779              	.LVL450:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3780              		.loc 1 1287 2 is_stmt 1 view .LVU1227
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3781              		.loc 1 1287 5 is_stmt 0 view .LVU1228
 3782 0006 0129     		cmp	r1, #1
 3783 0008 2ED9     		bls	.L304
 3784 000a 0646     		mov	r6, r0
 3785 000c 1146     		mov	r1, r2
 3786              	.LVL451:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3787              		.loc 1 1287 28 discriminator 2 view .LVU1229
 3788 000e AB69     		ldr	r3, [r5, #24]
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3789              		.loc 1 1287 15 discriminator 2 view .LVU1230
 3790 0010 A342     		cmp	r3, r4
 3791 0012 2BD9     		bls	.L305
ARM GAS  C:\usertemp\ccmutrvj.s 			page 187


1290:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 3792              		.loc 1 1290 2 is_stmt 1 view .LVU1231
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 3793              		.loc 1 1290 5 is_stmt 0 view .LVU1232
 3794 0014 4AB1     		cbz	r2, .L303
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 3795              		.loc 1 1291 3 is_stmt 1 view .LVU1233
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 3796              		.loc 1 1291 9 is_stmt 0 view .LVU1234
 3797 0016 4FF0FF32 		mov	r2, #-1
 3798              	.LVL452:
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 3799              		.loc 1 1291 9 view .LVU1235
 3800 001a 2846     		mov	r0, r5
 3801              	.LVL453:
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 3802              		.loc 1 1291 9 view .LVU1236
 3803 001c FFF7FEFF 		bl	put_fat
 3804              	.LVL454:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3805              		.loc 1 1292 3 is_stmt 1 view .LVU1237
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3806              		.loc 1 1292 6 is_stmt 0 view .LVU1238
 3807 0020 0746     		mov	r7, r0
 3808 0022 10B1     		cbz	r0, .L303
 3809 0024 23E0     		b	.L300
 3810              	.LVL455:
 3811              	.L302:
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
 3812              		.loc 1 1327 3 is_stmt 1 view .LVU1239
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3813              		.loc 1 1328 16 view .LVU1240
 3814 0026 A242     		cmp	r2, r4
 3815 0028 21D9     		bls	.L300
 3816              	.LVL456:
 3817              	.L303:
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
 3818              		.loc 1 1296 2 view .LVU1241
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 3819              		.loc 1 1297 3 view .LVU1242
 3820 002a 2746     		mov	r7, r4
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 3821              		.loc 1 1297 9 is_stmt 0 view .LVU1243
 3822 002c 2146     		mov	r1, r4
 3823 002e 3046     		mov	r0, r6
 3824 0030 FFF7FEFF 		bl	get_fat
 3825              	.LVL457:
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 3826              		.loc 1 1298 3 is_stmt 1 view .LVU1244
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 3827              		.loc 1 1298 6 is_stmt 0 view .LVU1245
 3828 0034 0446     		mov	r4, r0
 3829              	.LVL458:
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 3830              		.loc 1 1298 6 view .LVU1246
 3831 0036 E0B1     		cbz	r0, .L306
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 188


 3832              		.loc 1 1299 3 is_stmt 1 view .LVU1247
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 3833              		.loc 1 1299 6 is_stmt 0 view .LVU1248
 3834 0038 0128     		cmp	r0, #1
 3835 003a 1CD0     		beq	.L307
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3836              		.loc 1 1300 3 is_stmt 1 view .LVU1249
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3837              		.loc 1 1300 6 is_stmt 0 view .LVU1250
 3838 003c B0F1FF3F 		cmp	r0, #-1
 3839 0040 1BD0     		beq	.L308
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
 3840              		.loc 1 1301 3 is_stmt 1 view .LVU1251
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 3841              		.loc 1 1302 4 view .LVU1252
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 3842              		.loc 1 1302 10 is_stmt 0 view .LVU1253
 3843 0042 0022     		movs	r2, #0
 3844 0044 3946     		mov	r1, r7
 3845 0046 2846     		mov	r0, r5
 3846              	.LVL459:
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 3847              		.loc 1 1302 10 view .LVU1254
 3848 0048 FFF7FEFF 		bl	put_fat
 3849              	.LVL460:
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3850              		.loc 1 1303 4 is_stmt 1 view .LVU1255
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3851              		.loc 1 1303 7 is_stmt 0 view .LVU1256
 3852 004c 0746     		mov	r7, r0
 3853              	.LVL461:
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3854              		.loc 1 1303 7 view .LVU1257
 3855 004e 70B9     		cbnz	r0, .L300
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 3856              		.loc 1 1305 3 is_stmt 1 view .LVU1258
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 3857              		.loc 1 1305 9 is_stmt 0 view .LVU1259
 3858 0050 2B69     		ldr	r3, [r5, #16]
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 3859              		.loc 1 1305 25 view .LVU1260
 3860 0052 AA69     		ldr	r2, [r5, #24]
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 3861              		.loc 1 1305 36 view .LVU1261
 3862 0054 911E     		subs	r1, r2, #2
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 3863              		.loc 1 1305 6 view .LVU1262
 3864 0056 8B42     		cmp	r3, r1
 3865 0058 E5D2     		bcs	.L302
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 3866              		.loc 1 1306 4 is_stmt 1 view .LVU1263
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 3867              		.loc 1 1306 17 is_stmt 0 view .LVU1264
 3868 005a 0133     		adds	r3, r3, #1
 3869 005c 2B61     		str	r3, [r5, #16]
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3870              		.loc 1 1307 4 is_stmt 1 view .LVU1265
ARM GAS  C:\usertemp\ccmutrvj.s 			page 189


1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3871              		.loc 1 1307 6 is_stmt 0 view .LVU1266
 3872 005e 2B79     		ldrb	r3, [r5, #4]	@ zero_extendqisi2
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3873              		.loc 1 1307 17 view .LVU1267
 3874 0060 43F00103 		orr	r3, r3, #1
 3875 0064 2B71     		strb	r3, [r5, #4]
 3876 0066 DEE7     		b	.L302
 3877              	.LVL462:
 3878              	.L304:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3879              		.loc 1 1287 47 discriminator 3 view .LVU1268
 3880 0068 0227     		movs	r7, #2
 3881 006a 00E0     		b	.L300
 3882              	.LVL463:
 3883              	.L305:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3884              		.loc 1 1287 47 discriminator 3 view .LVU1269
 3885 006c 0227     		movs	r7, #2
 3886              	.LVL464:
 3887              	.L300:
1342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3888              		.loc 1 1342 1 view .LVU1270
 3889 006e 3846     		mov	r0, r7
 3890 0070 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3891              	.LVL465:
 3892              	.L306:
1341:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3893              		.loc 1 1341 9 view .LVU1271
 3894 0072 0027     		movs	r7, #0
 3895              	.LVL466:
1341:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3896              		.loc 1 1341 9 view .LVU1272
 3897 0074 FBE7     		b	.L300
 3898              	.LVL467:
 3899              	.L307:
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 3900              		.loc 1 1299 24 discriminator 1 view .LVU1273
 3901 0076 0227     		movs	r7, #2
 3902              	.LVL468:
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 3903              		.loc 1 1299 24 discriminator 1 view .LVU1274
 3904 0078 F9E7     		b	.L300
 3905              	.LVL469:
 3906              	.L308:
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3907              		.loc 1 1300 33 discriminator 1 view .LVU1275
 3908 007a 0127     		movs	r7, #1
 3909              	.LVL470:
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3910              		.loc 1 1300 33 discriminator 1 view .LVU1276
 3911 007c F7E7     		b	.L300
 3912              		.cfi_endproc
 3913              	.LFE352:
 3915              		.section	.text.dir_remove,"ax",%progbits
 3916              		.align	1
 3917              		.syntax unified
ARM GAS  C:\usertemp\ccmutrvj.s 			page 190


 3918              		.thumb
 3919              		.thumb_func
 3921              	dir_remove:
 3922              	.LVL471:
 3923              	.LFB363:
2399:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3924              		.loc 1 2399 1 is_stmt 1 view -0
 3925              		.cfi_startproc
 3926              		@ args = 0, pretend = 0, frame = 0
 3927              		@ frame_needed = 0, uses_anonymous_args = 0
2399:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3928              		.loc 1 2399 1 is_stmt 0 view .LVU1278
 3929 0000 38B5     		push	{r3, r4, r5, lr}
 3930              	.LCFI27:
 3931              		.cfi_def_cfa_offset 16
 3932              		.cfi_offset 3, -16
 3933              		.cfi_offset 4, -12
 3934              		.cfi_offset 5, -8
 3935              		.cfi_offset 14, -4
 3936 0002 0446     		mov	r4, r0
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3937              		.loc 1 2400 2 is_stmt 1 view .LVU1279
2401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 3938              		.loc 1 2401 2 view .LVU1280
2401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 3939              		.loc 1 2401 9 is_stmt 0 view .LVU1281
 3940 0004 0568     		ldr	r5, [r0]
 3941              	.LVL472:
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3942              		.loc 1 2424 2 is_stmt 1 view .LVU1282
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3943              		.loc 1 2424 8 is_stmt 0 view .LVU1283
 3944 0006 C169     		ldr	r1, [r0, #28]
 3945 0008 2846     		mov	r0, r5
 3946              	.LVL473:
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3947              		.loc 1 2424 8 view .LVU1284
 3948 000a FFF7FEFF 		bl	move_window
 3949              	.LVL474:
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
 3950              		.loc 1 2425 2 is_stmt 1 view .LVU1285
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
 3951              		.loc 1 2425 5 is_stmt 0 view .LVU1286
 3952 000e 20B9     		cbnz	r0, .L311
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
 3953              		.loc 1 2426 3 is_stmt 1 view .LVU1287
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
 3954              		.loc 1 2426 5 is_stmt 0 view .LVU1288
 3955 0010 236A     		ldr	r3, [r4, #32]
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
 3956              		.loc 1 2426 21 view .LVU1289
 3957 0012 E522     		movs	r2, #229
 3958 0014 1A70     		strb	r2, [r3]
2427:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3959              		.loc 1 2427 3 is_stmt 1 view .LVU1290
2427:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3960              		.loc 1 2427 13 is_stmt 0 view .LVU1291
ARM GAS  C:\usertemp\ccmutrvj.s 			page 191


 3961 0016 0123     		movs	r3, #1
 3962 0018 EB70     		strb	r3, [r5, #3]
 3963              	.L311:
2431:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3964              		.loc 1 2431 2 is_stmt 1 view .LVU1292
2432:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3965              		.loc 1 2432 1 is_stmt 0 view .LVU1293
 3966 001a 38BD     		pop	{r3, r4, r5, pc}
2432:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3967              		.loc 1 2432 1 view .LVU1294
 3968              		.cfi_endproc
 3969              	.LFE363:
 3971              		.section	.text.dir_next,"ax",%progbits
 3972              		.align	1
 3973              		.syntax unified
 3974              		.thumb
 3975              		.thumb_func
 3977              	dir_next:
 3978              	.LVL475:
 3979              	.LFB356:
1523:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
 3980              		.loc 1 1523 1 is_stmt 1 view -0
 3981              		.cfi_startproc
 3982              		@ args = 0, pretend = 0, frame = 0
 3983              		@ frame_needed = 0, uses_anonymous_args = 0
1523:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
 3984              		.loc 1 1523 1 is_stmt 0 view .LVU1296
 3985 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3986              	.LCFI28:
 3987              		.cfi_def_cfa_offset 32
 3988              		.cfi_offset 4, -32
 3989              		.cfi_offset 5, -28
 3990              		.cfi_offset 6, -24
 3991              		.cfi_offset 7, -20
 3992              		.cfi_offset 8, -16
 3993              		.cfi_offset 9, -12
 3994              		.cfi_offset 10, -8
 3995              		.cfi_offset 14, -4
1524:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3996              		.loc 1 1524 2 is_stmt 1 view .LVU1297
1525:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3997              		.loc 1 1525 2 view .LVU1298
1525:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 3998              		.loc 1 1525 9 is_stmt 0 view .LVU1299
 3999 0004 0668     		ldr	r6, [r0]
 4000              	.LVL476:
1527:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4001              		.loc 1 1527 2 is_stmt 1 view .LVU1300
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 4002              		.loc 1 1530 2 view .LVU1301
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 4003              		.loc 1 1530 10 is_stmt 0 view .LVU1302
 4004 0006 4569     		ldr	r5, [r0, #20]
 4005              	.LVL477:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4006              		.loc 1 1531 2 is_stmt 1 view .LVU1303
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 192


 4007              		.loc 1 1531 9 is_stmt 0 view .LVU1304
 4008 0008 C369     		ldr	r3, [r0, #28]
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4009              		.loc 1 1531 5 view .LVU1305
 4010 000a 002B     		cmp	r3, #0
 4011 000c 6CD0     		beq	.L321
 4012 000e 0446     		mov	r4, r0
 4013 0010 8846     		mov	r8, r1
 4014 0012 2035     		adds	r5, r5, #32
 4015              	.LVL478:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4016              		.loc 1 1531 16 discriminator 2 view .LVU1306
 4017 0014 B5F5001F 		cmp	r5, #2097152
 4018 0018 68D2     		bcs	.L322
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4019              		.loc 1 1533 2 is_stmt 1 view .LVU1307
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4020              		.loc 1 1533 10 is_stmt 0 view .LVU1308
 4021 001a C5F30807 		ubfx	r7, r5, #0, #9
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4022              		.loc 1 1533 5 view .LVU1309
 4023 001e 3FB9     		cbnz	r7, .L315
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4024              		.loc 1 1534 3 is_stmt 1 view .LVU1310
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4025              		.loc 1 1534 11 is_stmt 0 view .LVU1311
 4026 0020 0133     		adds	r3, r3, #1
 4027 0022 C361     		str	r3, [r0, #28]
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4028              		.loc 1 1536 3 is_stmt 1 view .LVU1312
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4029              		.loc 1 1536 10 is_stmt 0 view .LVU1313
 4030 0024 8169     		ldr	r1, [r0, #24]
 4031              	.LVL479:
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4032              		.loc 1 1536 6 view .LVU1314
 4033 0026 79B9     		cbnz	r1, .L316
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4034              		.loc 1 1537 4 is_stmt 1 view .LVU1315
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4035              		.loc 1 1537 26 is_stmt 0 view .LVU1316
 4036 0028 3389     		ldrh	r3, [r6, #8]
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4037              		.loc 1 1537 7 view .LVU1317
 4038 002a B3EB551F 		cmp	r3, r5, lsr #5
 4039 002e 07D9     		bls	.L331
 4040              	.LVL480:
 4041              	.L315:
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 4042              		.loc 1 1574 2 is_stmt 1 view .LVU1318
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 4043              		.loc 1 1574 11 is_stmt 0 view .LVU1319
 4044 0030 6561     		str	r5, [r4, #20]
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4045              		.loc 1 1575 2 is_stmt 1 view .LVU1320
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4046              		.loc 1 1575 12 is_stmt 0 view .LVU1321
ARM GAS  C:\usertemp\ccmutrvj.s 			page 193


 4047 0032 06F13403 		add	r3, r6, #52
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4048              		.loc 1 1575 20 view .LVU1322
 4049 0036 3B44     		add	r3, r3, r7
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4050              		.loc 1 1575 10 view .LVU1323
 4051 0038 2362     		str	r3, [r4, #32]
1577:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4052              		.loc 1 1577 2 is_stmt 1 view .LVU1324
1577:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4053              		.loc 1 1577 9 is_stmt 0 view .LVU1325
 4054 003a 0020     		movs	r0, #0
 4055              	.LVL481:
 4056              	.L314:
1578:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4057              		.loc 1 1578 1 view .LVU1326
 4058 003c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4059              	.LVL482:
 4060              	.L331:
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4061              		.loc 1 1538 5 is_stmt 1 view .LVU1327
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4062              		.loc 1 1538 14 is_stmt 0 view .LVU1328
 4063 0040 0023     		movs	r3, #0
 4064 0042 C361     		str	r3, [r0, #28]
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4065              		.loc 1 1538 19 is_stmt 1 view .LVU1329
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4066              		.loc 1 1538 26 is_stmt 0 view .LVU1330
 4067 0044 0420     		movs	r0, #4
 4068              	.LVL483:
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4069              		.loc 1 1538 26 view .LVU1331
 4070 0046 F9E7     		b	.L314
 4071              	.LVL484:
 4072              	.L316:
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4073              		.loc 1 1542 4 is_stmt 1 view .LVU1332
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4074              		.loc 1 1542 27 is_stmt 0 view .LVU1333
 4075 0048 7389     		ldrh	r3, [r6, #10]
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4076              		.loc 1 1542 35 view .LVU1334
 4077 004a 013B     		subs	r3, r3, #1
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4078              		.loc 1 1542 7 view .LVU1335
 4079 004c 13EA5529 		ands	r9, r3, r5, lsr #9
 4080 0050 EED1     		bne	.L315
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4081              		.loc 1 1543 5 is_stmt 1 view .LVU1336
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4082              		.loc 1 1543 12 is_stmt 0 view .LVU1337
 4083 0052 FFF7FEFF 		bl	get_fat
 4084              	.LVL485:
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4085              		.loc 1 1543 12 view .LVU1338
 4086 0056 8246     		mov	r10, r0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 194


 4087              	.LVL486:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4088              		.loc 1 1544 5 is_stmt 1 view .LVU1339
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4089              		.loc 1 1544 8 is_stmt 0 view .LVU1340
 4090 0058 0128     		cmp	r0, #1
 4091 005a 49D9     		bls	.L323
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4092              		.loc 1 1545 5 is_stmt 1 view .LVU1341
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4093              		.loc 1 1545 8 is_stmt 0 view .LVU1342
 4094 005c B0F1FF3F 		cmp	r0, #-1
 4095 0060 48D0     		beq	.L324
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4096              		.loc 1 1546 5 is_stmt 1 view .LVU1343
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4097              		.loc 1 1546 19 is_stmt 0 view .LVU1344
 4098 0062 B369     		ldr	r3, [r6, #24]
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4099              		.loc 1 1546 8 view .LVU1345
 4100 0064 8342     		cmp	r3, r0
 4101 0066 37D8     		bhi	.L317
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 4102              		.loc 1 1548 6 is_stmt 1 view .LVU1346
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 4103              		.loc 1 1548 9 is_stmt 0 view .LVU1347
 4104 0068 B8F1000F 		cmp	r8, #0
 4105 006c 11D0     		beq	.L332
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4106              		.loc 1 1551 6 is_stmt 1 view .LVU1348
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4107              		.loc 1 1551 13 is_stmt 0 view .LVU1349
 4108 006e A169     		ldr	r1, [r4, #24]
 4109 0070 2046     		mov	r0, r4
 4110              	.LVL487:
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4111              		.loc 1 1551 13 view .LVU1350
 4112 0072 FFF7FEFF 		bl	create_chain
 4113              	.LVL488:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4114              		.loc 1 1552 6 is_stmt 1 view .LVU1351
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4115              		.loc 1 1552 9 is_stmt 0 view .LVU1352
 4116 0076 8246     		mov	r10, r0
 4117 0078 0028     		cmp	r0, #0
 4118 007a 3DD0     		beq	.L325
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4119              		.loc 1 1553 6 is_stmt 1 view .LVU1353
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4120              		.loc 1 1553 9 is_stmt 0 view .LVU1354
 4121 007c 0128     		cmp	r0, #1
 4122 007e 3DD0     		beq	.L326
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4123              		.loc 1 1554 6 is_stmt 1 view .LVU1355
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4124              		.loc 1 1554 9 is_stmt 0 view .LVU1356
 4125 0080 B0F1FF3F 		cmp	r0, #-1
ARM GAS  C:\usertemp\ccmutrvj.s 			page 195


 4126 0084 3CD0     		beq	.L327
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
 4127              		.loc 1 1556 6 is_stmt 1 view .LVU1357
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4128              		.loc 1 1557 6 view .LVU1358
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4129              		.loc 1 1557 10 is_stmt 0 view .LVU1359
 4130 0086 3046     		mov	r0, r6
 4131              	.LVL489:
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4132              		.loc 1 1557 10 view .LVU1360
 4133 0088 FFF7FEFF 		bl	sync_window
 4134              	.LVL490:
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4135              		.loc 1 1557 9 discriminator 1 view .LVU1361
 4136 008c 28B1     		cbz	r0, .L333
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4137              		.loc 1 1557 43 discriminator 1 view .LVU1362
 4138 008e 0120     		movs	r0, #1
 4139 0090 D4E7     		b	.L314
 4140              	.LVL491:
 4141              	.L332:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4142              		.loc 1 1549 7 is_stmt 1 view .LVU1363
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4143              		.loc 1 1549 16 is_stmt 0 view .LVU1364
 4144 0092 0023     		movs	r3, #0
 4145 0094 E361     		str	r3, [r4, #28]
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4146              		.loc 1 1549 21 is_stmt 1 view .LVU1365
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4147              		.loc 1 1549 28 is_stmt 0 view .LVU1366
 4148 0096 0420     		movs	r0, #4
 4149              	.LVL492:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4150              		.loc 1 1549 28 view .LVU1367
 4151 0098 D0E7     		b	.L314
 4152              	.L333:
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 4153              		.loc 1 1558 6 is_stmt 1 view .LVU1368
 4154 009a 4FF40072 		mov	r2, #512
 4155 009e 0021     		movs	r1, #0
 4156 00a0 06F13400 		add	r0, r6, #52
 4157 00a4 FFF7FEFF 		bl	mem_set
 4158              	.LVL493:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4159              		.loc 1 1559 6 view .LVU1369
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4160              		.loc 1 1559 32 is_stmt 0 view .LVU1370
 4161 00a8 5146     		mov	r1, r10
 4162 00aa 3046     		mov	r0, r6
 4163 00ac FFF7FEFF 		bl	clust2sect
 4164              	.LVL494:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4165              		.loc 1 1559 30 discriminator 1 view .LVU1371
 4166 00b0 3063     		str	r0, [r6, #48]
 4167              	.LVL495:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 196


 4168              	.L319:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4169              		.loc 1 1559 56 is_stmt 1 discriminator 1 view .LVU1372
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4170              		.loc 1 1559 60 is_stmt 0 discriminator 1 view .LVU1373
 4171 00b2 7389     		ldrh	r3, [r6, #10]
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4172              		.loc 1 1559 56 discriminator 1 view .LVU1374
 4173 00b4 9945     		cmp	r9, r3
 4174 00b6 0BD2     		bcs	.L334
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 4175              		.loc 1 1560 7 is_stmt 1 view .LVU1375
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 4176              		.loc 1 1560 17 is_stmt 0 view .LVU1376
 4177 00b8 0123     		movs	r3, #1
 4178 00ba F370     		strb	r3, [r6, #3]
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4179              		.loc 1 1561 7 is_stmt 1 view .LVU1377
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4180              		.loc 1 1561 11 is_stmt 0 view .LVU1378
 4181 00bc 3046     		mov	r0, r6
 4182 00be FFF7FEFF 		bl	sync_window
 4183              	.LVL496:
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4184              		.loc 1 1561 10 discriminator 1 view .LVU1379
 4185 00c2 F8B9     		cbnz	r0, .L329
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4186              		.loc 1 1559 72 is_stmt 1 discriminator 2 view .LVU1380
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4187              		.loc 1 1559 70 is_stmt 0 discriminator 2 view .LVU1381
 4188 00c4 09F10109 		add	r9, r9, #1
 4189              	.LVL497:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4190              		.loc 1 1559 76 discriminator 2 view .LVU1382
 4191 00c8 336B     		ldr	r3, [r6, #48]
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4192              		.loc 1 1559 85 discriminator 2 view .LVU1383
 4193 00ca 0133     		adds	r3, r3, #1
 4194 00cc 3363     		str	r3, [r6, #48]
 4195 00ce F0E7     		b	.L319
 4196              	.L334:
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4197              		.loc 1 1563 6 is_stmt 1 view .LVU1384
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4198              		.loc 1 1563 8 is_stmt 0 view .LVU1385
 4199 00d0 336B     		ldr	r3, [r6, #48]
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4200              		.loc 1 1563 18 view .LVU1386
 4201 00d2 A3EB0903 		sub	r3, r3, r9
 4202 00d6 3363     		str	r3, [r6, #48]
 4203              	.LVL498:
 4204              	.L317:
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 4205              		.loc 1 1569 5 is_stmt 1 view .LVU1387
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 4206              		.loc 1 1569 15 is_stmt 0 view .LVU1388
 4207 00d8 C4F818A0 		str	r10, [r4, #24]
ARM GAS  C:\usertemp\ccmutrvj.s 			page 197


1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4208              		.loc 1 1570 5 is_stmt 1 view .LVU1389
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4209              		.loc 1 1570 16 is_stmt 0 view .LVU1390
 4210 00dc 5146     		mov	r1, r10
 4211 00de 3046     		mov	r0, r6
 4212 00e0 FFF7FEFF 		bl	clust2sect
 4213              	.LVL499:
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4214              		.loc 1 1570 14 discriminator 1 view .LVU1391
 4215 00e4 E061     		str	r0, [r4, #28]
 4216 00e6 A3E7     		b	.L315
 4217              	.LVL500:
 4218              	.L321:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4219              		.loc 1 1531 105 discriminator 3 view .LVU1392
 4220 00e8 0420     		movs	r0, #4
 4221              	.LVL501:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4222              		.loc 1 1531 105 discriminator 3 view .LVU1393
 4223 00ea A7E7     		b	.L314
 4224              	.LVL502:
 4225              	.L322:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4226              		.loc 1 1531 105 discriminator 3 view .LVU1394
 4227 00ec 0420     		movs	r0, #4
 4228              	.LVL503:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4229              		.loc 1 1531 105 discriminator 3 view .LVU1395
 4230 00ee A5E7     		b	.L314
 4231              	.LVL504:
 4232              	.L323:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4233              		.loc 1 1544 27 discriminator 1 view .LVU1396
 4234 00f0 0220     		movs	r0, #2
 4235              	.LVL505:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4236              		.loc 1 1544 27 discriminator 1 view .LVU1397
 4237 00f2 A3E7     		b	.L314
 4238              	.LVL506:
 4239              	.L324:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4240              		.loc 1 1545 36 discriminator 1 view .LVU1398
 4241 00f4 0120     		movs	r0, #1
 4242              	.LVL507:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4243              		.loc 1 1545 36 discriminator 1 view .LVU1399
 4244 00f6 A1E7     		b	.L314
 4245              	.LVL508:
 4246              	.L325:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4247              		.loc 1 1552 28 discriminator 1 view .LVU1400
 4248 00f8 0720     		movs	r0, #7
 4249              	.LVL509:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4250              		.loc 1 1552 28 discriminator 1 view .LVU1401
 4251 00fa 9FE7     		b	.L314
ARM GAS  C:\usertemp\ccmutrvj.s 			page 198


 4252              	.LVL510:
 4253              	.L326:
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4254              		.loc 1 1553 28 discriminator 1 view .LVU1402
 4255 00fc 0220     		movs	r0, #2
 4256              	.LVL511:
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4257              		.loc 1 1553 28 discriminator 1 view .LVU1403
 4258 00fe 9DE7     		b	.L314
 4259              	.LVL512:
 4260              	.L327:
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4261              		.loc 1 1554 37 discriminator 1 view .LVU1404
 4262 0100 0120     		movs	r0, #1
 4263              	.LVL513:
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4264              		.loc 1 1554 37 discriminator 1 view .LVU1405
 4265 0102 9BE7     		b	.L314
 4266              	.LVL514:
 4267              	.L329:
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4268              		.loc 1 1561 44 discriminator 1 view .LVU1406
 4269 0104 0120     		movs	r0, #1
 4270 0106 99E7     		b	.L314
 4271              		.cfi_endproc
 4272              	.LFE356:
 4274              		.section	.text.dir_find,"ax",%progbits
 4275              		.align	1
 4276              		.syntax unified
 4277              		.thumb
 4278              		.thumb_func
 4280              	dir_find:
 4281              	.LVL515:
 4282              	.LFB361:
2213:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4283              		.loc 1 2213 1 is_stmt 1 view -0
 4284              		.cfi_startproc
 4285              		@ args = 0, pretend = 0, frame = 0
 4286              		@ frame_needed = 0, uses_anonymous_args = 0
2213:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4287              		.loc 1 2213 1 is_stmt 0 view .LVU1408
 4288 0000 70B5     		push	{r4, r5, r6, lr}
 4289              	.LCFI29:
 4290              		.cfi_def_cfa_offset 16
 4291              		.cfi_offset 4, -16
 4292              		.cfi_offset 5, -12
 4293              		.cfi_offset 6, -8
 4294              		.cfi_offset 14, -4
 4295 0002 0446     		mov	r4, r0
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4296              		.loc 1 2214 2 is_stmt 1 view .LVU1409
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
 4297              		.loc 1 2215 2 view .LVU1410
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
 4298              		.loc 1 2215 9 is_stmt 0 view .LVU1411
 4299 0004 0668     		ldr	r6, [r0]
 4300              	.LVL516:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 199


2216:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 4301              		.loc 1 2216 2 is_stmt 1 view .LVU1412
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4302              		.loc 1 2221 2 view .LVU1413
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4303              		.loc 1 2221 8 is_stmt 0 view .LVU1414
 4304 0006 0021     		movs	r1, #0
 4305 0008 FFF7FEFF 		bl	dir_sdi
 4306              	.LVL517:
2222:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4307              		.loc 1 2222 2 is_stmt 1 view .LVU1415
2222:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4308              		.loc 1 2222 5 is_stmt 0 view .LVU1416
 4309 000c 0546     		mov	r5, r0
 4310 000e 40B1     		cbz	r0, .L338
 4311              	.LVL518:
 4312              	.L336:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4313              		.loc 1 2281 1 view .LVU1417
 4314 0010 2846     		mov	r0, r5
 4315 0012 70BD     		pop	{r4, r5, r6, pc}
 4316              	.LVL519:
 4317              	.L337:
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 4318              		.loc 1 2277 3 is_stmt 1 view .LVU1418
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 4319              		.loc 1 2277 9 is_stmt 0 view .LVU1419
 4320 0014 0021     		movs	r1, #0
 4321 0016 2046     		mov	r0, r4
 4322 0018 FFF7FEFF 		bl	dir_next
 4323              	.LVL520:
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4324              		.loc 1 2278 15 is_stmt 1 view .LVU1420
 4325 001c 0546     		mov	r5, r0
 4326 001e 0028     		cmp	r0, #0
 4327 0020 F6D1     		bne	.L336
 4328              	.LVL521:
 4329              	.L338:
2247:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4330              		.loc 1 2247 2 view .LVU1421
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4331              		.loc 1 2248 3 view .LVU1422
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4332              		.loc 1 2248 9 is_stmt 0 view .LVU1423
 4333 0022 E169     		ldr	r1, [r4, #28]
 4334 0024 3046     		mov	r0, r6
 4335              	.LVL522:
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4336              		.loc 1 2248 9 view .LVU1424
 4337 0026 FFF7FEFF 		bl	move_window
 4338              	.LVL523:
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 4339              		.loc 1 2249 3 is_stmt 1 view .LVU1425
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 4340              		.loc 1 2249 6 is_stmt 0 view .LVU1426
 4341 002a 0546     		mov	r5, r0
 4342 002c 0028     		cmp	r0, #0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 200


 4343 002e EFD1     		bne	.L336
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4344              		.loc 1 2250 3 is_stmt 1 view .LVU1427
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4345              		.loc 1 2250 9 is_stmt 0 view .LVU1428
 4346 0030 206A     		ldr	r0, [r4, #32]
 4347              	.LVL524:
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4348              		.loc 1 2250 5 view .LVU1429
 4349 0032 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 4350              	.LVL525:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4351              		.loc 1 2251 3 is_stmt 1 view .LVU1430
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4352              		.loc 1 2251 6 is_stmt 0 view .LVU1431
 4353 0034 7BB1     		cbz	r3, .L339
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
 4354              		.loc 1 2274 3 is_stmt 1 view .LVU1432
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
 4355              		.loc 1 2274 25 is_stmt 0 view .LVU1433
 4356 0036 C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
 4357              		.loc 1 2274 36 view .LVU1434
 4358 0038 03F03F03 		and	r3, r3, #63
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
 4359              		.loc 1 2274 16 view .LVU1435
 4360 003c A371     		strb	r3, [r4, #6]
 4361              	.LVL526:
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4362              		.loc 1 2275 3 is_stmt 1 view .LVU1436
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4363              		.loc 1 2275 16 is_stmt 0 view .LVU1437
 4364 003e C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4365              		.loc 1 2275 6 view .LVU1438
 4366 0040 13F0080F 		tst	r3, #8
 4367 0044 E6D1     		bne	.L337
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4368              		.loc 1 2275 41 discriminator 1 view .LVU1439
 4369 0046 0B22     		movs	r2, #11
 4370 0048 04F12401 		add	r1, r4, #36
 4371 004c FFF7FEFF 		bl	mem_cmp
 4372              	.LVL527:
2275:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4373              		.loc 1 2275 37 discriminator 1 view .LVU1440
 4374 0050 0028     		cmp	r0, #0
 4375 0052 DFD1     		bne	.L337
 4376 0054 DCE7     		b	.L336
 4377              	.LVL528:
 4378              	.L339:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4379              		.loc 1 2251 21 discriminator 1 view .LVU1441
 4380 0056 0425     		movs	r5, #4
 4381              	.LVL529:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4382              		.loc 1 2251 21 discriminator 1 view .LVU1442
 4383 0058 DAE7     		b	.L336
ARM GAS  C:\usertemp\ccmutrvj.s 			page 201


 4384              		.cfi_endproc
 4385              	.LFE361:
 4387              		.section	.text.follow_path,"ax",%progbits
 4388              		.align	1
 4389              		.syntax unified
 4390              		.thumb
 4391              		.thumb_func
 4393              	follow_path:
 4394              	.LVL530:
 4395              	.LFB366:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4396              		.loc 1 2817 1 is_stmt 1 view -0
 4397              		.cfi_startproc
 4398              		@ args = 0, pretend = 0, frame = 8
 4399              		@ frame_needed = 0, uses_anonymous_args = 0
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4400              		.loc 1 2817 1 is_stmt 0 view .LVU1444
 4401 0000 70B5     		push	{r4, r5, r6, lr}
 4402              	.LCFI30:
 4403              		.cfi_def_cfa_offset 16
 4404              		.cfi_offset 4, -16
 4405              		.cfi_offset 5, -12
 4406              		.cfi_offset 6, -8
 4407              		.cfi_offset 14, -4
 4408 0002 82B0     		sub	sp, sp, #8
 4409              	.LCFI31:
 4410              		.cfi_def_cfa_offset 24
 4411 0004 0446     		mov	r4, r0
 4412 0006 0191     		str	r1, [sp, #4]
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
 4413              		.loc 1 2818 2 is_stmt 1 view .LVU1445
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
 4414              		.loc 1 2819 2 view .LVU1446
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 4415              		.loc 1 2820 2 view .LVU1447
 4416              	.LVL531:
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4417              		.loc 1 2821 2 view .LVU1448
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4418              		.loc 1 2821 9 is_stmt 0 view .LVU1449
 4419 0008 0568     		ldr	r5, [r0]
 4420              	.LVL532:
2825:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = fs->cdir;				/* Start from current directory */
 4421              		.loc 1 2825 2 is_stmt 1 view .LVU1450
2825:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = fs->cdir;				/* Start from current directory */
 4422              		.loc 1 2825 6 is_stmt 0 view .LVU1451
 4423 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
2825:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = fs->cdir;				/* Start from current directory */
 4424              		.loc 1 2825 5 view .LVU1452
 4425 000c 2F2B     		cmp	r3, #47
 4426 000e 18BF     		it	ne
 4427 0010 5C2B     		cmpne	r3, #92
 4428 0012 10D0     		beq	.L342
2826:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
 4429              		.loc 1 2826 3 is_stmt 1 view .LVU1453
2826:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
 4430              		.loc 1 2826 19 is_stmt 0 view .LVU1454
ARM GAS  C:\usertemp\ccmutrvj.s 			page 202


 4431 0014 6B69     		ldr	r3, [r5, #20]
2826:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
 4432              		.loc 1 2826 15 view .LVU1455
 4433 0016 8360     		str	r3, [r0, #8]
 4434              	.L343:
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 4435              		.loc 1 2850 2 is_stmt 1 view .LVU1456
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 4436              		.loc 1 2850 12 is_stmt 0 view .LVU1457
 4437 0018 019B     		ldr	r3, [sp, #4]
 4438 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 4439              		.loc 1 2850 5 view .LVU1458
 4440 001c 1F2B     		cmp	r3, #31
 4441 001e 29D8     		bhi	.L345
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4442              		.loc 1 2851 3 is_stmt 1 view .LVU1459
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4443              		.loc 1 2851 18 is_stmt 0 view .LVU1460
 4444 0020 8023     		movs	r3, #128
 4445 0022 84F82F30 		strb	r3, [r4, #47]
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4446              		.loc 1 2852 3 is_stmt 1 view .LVU1461
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4447              		.loc 1 2852 9 is_stmt 0 view .LVU1462
 4448 0026 0021     		movs	r1, #0
 4449              	.LVL533:
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4450              		.loc 1 2852 9 view .LVU1463
 4451 0028 2046     		mov	r0, r4
 4452              	.LVL534:
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4453              		.loc 1 2852 9 view .LVU1464
 4454 002a FFF7FEFF 		bl	dir_sdi
 4455              	.LVL535:
 4456 002e 0646     		mov	r6, r0
 4457              	.LVL536:
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4458              		.loc 1 2852 9 view .LVU1465
 4459 0030 38E0     		b	.L346
 4460              	.LVL537:
 4461              	.L344:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4462              		.loc 1 2830 41 is_stmt 1 discriminator 2 view .LVU1466
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4463              		.loc 1 2830 45 is_stmt 0 discriminator 2 view .LVU1467
 4464 0032 0133     		adds	r3, r3, #1
 4465 0034 0193     		str	r3, [sp, #4]
 4466              	.L342:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4467              		.loc 1 2830 23 is_stmt 1 discriminator 1 view .LVU1468
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4468              		.loc 1 2830 10 is_stmt 0 discriminator 1 view .LVU1469
 4469 0036 019B     		ldr	r3, [sp, #4]
 4470 0038 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 4471              		.loc 1 2830 23 discriminator 1 view .LVU1470
ARM GAS  C:\usertemp\ccmutrvj.s 			page 203


 4472 003a 2F2A     		cmp	r2, #47
 4473 003c F9D0     		beq	.L344
 4474 003e 5C2A     		cmp	r2, #92
 4475 0040 F7D0     		beq	.L344
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4476              		.loc 1 2831 3 is_stmt 1 view .LVU1471
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4477              		.loc 1 2831 15 is_stmt 0 view .LVU1472
 4478 0042 0023     		movs	r3, #0
 4479 0044 A360     		str	r3, [r4, #8]
 4480 0046 E7E7     		b	.L343
 4481              	.LVL538:
 4482              	.L348:
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4483              		.loc 1 2867 7 is_stmt 1 view .LVU1473
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4484              		.loc 1 2867 10 is_stmt 0 view .LVU1474
 4485 0048 13F0040F 		tst	r3, #4
 4486 004c 2FD0     		beq	.L351
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4487              		.loc 1 2858 10 view .LVU1475
 4488 004e 0646     		mov	r6, r0
 4489 0050 28E0     		b	.L346
 4490              	.L347:
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 4491              		.loc 1 2872 4 is_stmt 1 view .LVU1476
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 4492              		.loc 1 2872 7 is_stmt 0 view .LVU1477
 4493 0052 13F0040F 		tst	r3, #4
 4494 0056 2CD1     		bne	.L352
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4495              		.loc 1 2874 4 is_stmt 1 view .LVU1478
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4496              		.loc 1 2874 13 is_stmt 0 view .LVU1479
 4497 0058 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 4498              	.LVL539:
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4499              		.loc 1 2874 7 view .LVU1480
 4500 005a 13F0100F 		tst	r3, #16
 4501 005e 2AD0     		beq	.L353
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4502              		.loc 1 2888 5 is_stmt 1 view .LVU1481
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4503              		.loc 1 2888 32 is_stmt 0 view .LVU1482
 4504 0060 05F13401 		add	r1, r5, #52
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4505              		.loc 1 2888 44 view .LVU1483
 4506 0064 6369     		ldr	r3, [r4, #20]
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4507              		.loc 1 2888 51 view .LVU1484
 4508 0066 C3F30803 		ubfx	r3, r3, #0, #9
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4509              		.loc 1 2888 19 view .LVU1485
 4510 006a 1944     		add	r1, r1, r3
 4511 006c 2846     		mov	r0, r5
 4512              	.LVL540:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 204


 4513              		.loc 1 2888 19 view .LVU1486
 4514 006e FFF7FEFF 		bl	ld_clust
 4515              	.LVL541:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4516              		.loc 1 2888 17 discriminator 1 view .LVU1487
 4517 0072 A060     		str	r0, [r4, #8]
 4518              	.LVL542:
 4519              	.L345:
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 4520              		.loc 1 2855 3 is_stmt 1 view .LVU1488
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4521              		.loc 1 2856 4 view .LVU1489
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4522              		.loc 1 2856 10 is_stmt 0 view .LVU1490
 4523 0074 01A9     		add	r1, sp, #4
 4524 0076 2046     		mov	r0, r4
 4525 0078 FFF7FEFF 		bl	create_name
 4526              	.LVL543:
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 4527              		.loc 1 2857 4 is_stmt 1 view .LVU1491
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 4528              		.loc 1 2857 7 is_stmt 0 view .LVU1492
 4529 007c 0646     		mov	r6, r0
 4530 007e 88B9     		cbnz	r0, .L346
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4531              		.loc 1 2858 4 is_stmt 1 view .LVU1493
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4532              		.loc 1 2858 10 is_stmt 0 view .LVU1494
 4533 0080 2046     		mov	r0, r4
 4534              	.LVL544:
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4535              		.loc 1 2858 10 view .LVU1495
 4536 0082 FFF7FEFF 		bl	dir_find
 4537              	.LVL545:
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4538              		.loc 1 2859 4 is_stmt 1 view .LVU1496
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4539              		.loc 1 2859 7 is_stmt 0 view .LVU1497
 4540 0086 94F82F30 		ldrb	r3, [r4, #47]	@ zero_extendqisi2
 4541              	.LVL546:
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4542              		.loc 1 2860 4 is_stmt 1 view .LVU1498
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4543              		.loc 1 2860 7 is_stmt 0 view .LVU1499
 4544 008a 0028     		cmp	r0, #0
 4545 008c E1D0     		beq	.L347
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 4546              		.loc 1 2861 5 is_stmt 1 view .LVU1500
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 4547              		.loc 1 2861 8 is_stmt 0 view .LVU1501
 4548 008e 0428     		cmp	r0, #4
 4549 0090 0BD1     		bne	.L350
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
 4550              		.loc 1 2862 6 is_stmt 1 view .LVU1502
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
 4551              		.loc 1 2862 9 is_stmt 0 view .LVU1503
 4552 0092 13F0200F 		tst	r3, #32
ARM GAS  C:\usertemp\ccmutrvj.s 			page 205


 4553 0096 D7D0     		beq	.L348
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fn[NSFLAG] = NS_NONAME;
 4554              		.loc 1 2863 7 is_stmt 1 view .LVU1504
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fn[NSFLAG] = NS_NONAME;
 4555              		.loc 1 2863 10 is_stmt 0 view .LVU1505
 4556 0098 13F0040F 		tst	r3, #4
 4557 009c EAD0     		beq	.L345
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;
 4558              		.loc 1 2864 7 is_stmt 1 view .LVU1506
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;
 4559              		.loc 1 2864 22 is_stmt 0 view .LVU1507
 4560 009e 8023     		movs	r3, #128
 4561              	.LVL547:
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;
 4562              		.loc 1 2864 22 view .LVU1508
 4563 00a0 84F82F30 		strb	r3, [r4, #47]
 4564              	.LVL548:
2865:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
 4565              		.loc 1 2865 7 is_stmt 1 view .LVU1509
 4566              	.L346:
2893:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4567              		.loc 1 2893 2 view .LVU1510
2894:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4568              		.loc 1 2894 1 is_stmt 0 view .LVU1511
 4569 00a4 3046     		mov	r0, r6
 4570 00a6 02B0     		add	sp, sp, #8
 4571              	.LCFI32:
 4572              		.cfi_remember_state
 4573              		.cfi_def_cfa_offset 16
 4574              		@ sp needed
 4575 00a8 70BD     		pop	{r4, r5, r6, pc}
 4576              	.LVL549:
 4577              	.L350:
 4578              	.LCFI33:
 4579              		.cfi_restore_state
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4580              		.loc 1 2858 10 view .LVU1512
 4581 00aa 0646     		mov	r6, r0
 4582 00ac FAE7     		b	.L346
 4583              	.L351:
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4584              		.loc 1 2867 32 discriminator 1 view .LVU1513
 4585 00ae 0526     		movs	r6, #5
 4586 00b0 F8E7     		b	.L346
 4587              	.L352:
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4588              		.loc 1 2858 10 view .LVU1514
 4589 00b2 0646     		mov	r6, r0
 4590 00b4 F6E7     		b	.L346
 4591              	.LVL550:
 4592              	.L353:
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4593              		.loc 1 2875 9 view .LVU1515
 4594 00b6 0526     		movs	r6, #5
 4595 00b8 F4E7     		b	.L346
 4596              		.cfi_endproc
 4597              	.LFE366:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 206


 4599              		.section	.text.dir_alloc,"ax",%progbits
 4600              		.align	1
 4601              		.syntax unified
 4602              		.thumb
 4603              		.thumb_func
 4605              	dir_alloc:
 4606              	.LVL551:
 4607              	.LFB357:
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4608              		.loc 1 1593 1 is_stmt 1 view -0
 4609              		.cfi_startproc
 4610              		@ args = 0, pretend = 0, frame = 0
 4611              		@ frame_needed = 0, uses_anonymous_args = 0
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4612              		.loc 1 1593 1 is_stmt 0 view .LVU1517
 4613 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4614              	.LCFI34:
 4615              		.cfi_def_cfa_offset 24
 4616              		.cfi_offset 3, -24
 4617              		.cfi_offset 4, -20
 4618              		.cfi_offset 5, -16
 4619              		.cfi_offset 6, -12
 4620              		.cfi_offset 7, -8
 4621              		.cfi_offset 14, -4
 4622 0002 0446     		mov	r4, r0
 4623 0004 0E46     		mov	r6, r1
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 4624              		.loc 1 1594 2 is_stmt 1 view .LVU1518
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4625              		.loc 1 1595 2 view .LVU1519
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4626              		.loc 1 1596 2 view .LVU1520
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4627              		.loc 1 1596 9 is_stmt 0 view .LVU1521
 4628 0006 0768     		ldr	r7, [r0]
 4629              	.LVL552:
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4630              		.loc 1 1599 2 is_stmt 1 view .LVU1522
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4631              		.loc 1 1599 8 is_stmt 0 view .LVU1523
 4632 0008 0021     		movs	r1, #0
 4633              	.LVL553:
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4634              		.loc 1 1599 8 view .LVU1524
 4635 000a FFF7FEFF 		bl	dir_sdi
 4636              	.LVL554:
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4637              		.loc 1 1600 2 is_stmt 1 view .LVU1525
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4638              		.loc 1 1600 5 is_stmt 0 view .LVU1526
 4639 000e 0246     		mov	r2, r0
 4640 0010 B8B9     		cbnz	r0, .L356
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4641              		.loc 1 1601 5 view .LVU1527
 4642 0012 0025     		movs	r5, #0
 4643 0014 06E0     		b	.L358
 4644              	.LVL555:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 207


 4645              	.L360:
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4646              		.loc 1 1612 7 view .LVU1528
 4647 0016 0025     		movs	r5, #0
 4648              	.LVL556:
 4649              	.L357:
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 4650              		.loc 1 1614 4 is_stmt 1 view .LVU1529
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 4651              		.loc 1 1614 10 is_stmt 0 view .LVU1530
 4652 0018 0121     		movs	r1, #1
 4653 001a 2046     		mov	r0, r4
 4654              	.LVL557:
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 4655              		.loc 1 1614 10 view .LVU1531
 4656 001c FFF7FEFF 		bl	dir_next
 4657              	.LVL558:
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4658              		.loc 1 1615 16 is_stmt 1 view .LVU1532
 4659 0020 0246     		mov	r2, r0
 4660 0022 70B9     		cbnz	r0, .L356
 4661              	.LVL559:
 4662              	.L358:
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
 4663              		.loc 1 1602 3 view .LVU1533
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4664              		.loc 1 1603 4 view .LVU1534
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4665              		.loc 1 1603 10 is_stmt 0 view .LVU1535
 4666 0024 E169     		ldr	r1, [r4, #28]
 4667 0026 3846     		mov	r0, r7
 4668              	.LVL560:
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4669              		.loc 1 1603 10 view .LVU1536
 4670 0028 FFF7FEFF 		bl	move_window
 4671              	.LVL561:
1604:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4672              		.loc 1 1604 4 is_stmt 1 view .LVU1537
1604:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4673              		.loc 1 1604 7 is_stmt 0 view .LVU1538
 4674 002c 0246     		mov	r2, r0
 4675 002e 40B9     		cbnz	r0, .L356
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4676              		.loc 1 1608 4 is_stmt 1 view .LVU1539
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4677              		.loc 1 1608 10 is_stmt 0 view .LVU1540
 4678 0030 236A     		ldr	r3, [r4, #32]
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4679              		.loc 1 1608 15 view .LVU1541
 4680 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4681              		.loc 1 1608 7 view .LVU1542
 4682 0034 002B     		cmp	r3, #0
 4683 0036 18BF     		it	ne
 4684 0038 E52B     		cmpne	r3, #229
 4685 003a ECD1     		bne	.L360
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
ARM GAS  C:\usertemp\ccmutrvj.s 			page 208


 4686              		.loc 1 1610 5 is_stmt 1 view .LVU1543
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4687              		.loc 1 1610 8 is_stmt 0 view .LVU1544
 4688 003c 0135     		adds	r5, r5, #1
 4689              	.LVL562:
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4690              		.loc 1 1610 8 view .LVU1545
 4691 003e B542     		cmp	r5, r6
 4692 0040 EAD1     		bne	.L357
 4693              	.LVL563:
 4694              	.L356:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4695              		.loc 1 1618 2 is_stmt 1 view .LVU1546
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4696              		.loc 1 1618 5 is_stmt 0 view .LVU1547
 4697 0042 042A     		cmp	r2, #4
 4698 0044 01D0     		beq	.L363
 4699              	.LVL564:
 4700              	.L359:
1619:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4701              		.loc 1 1619 2 is_stmt 1 view .LVU1548
1620:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4702              		.loc 1 1620 1 is_stmt 0 view .LVU1549
 4703 0046 1046     		mov	r0, r2
 4704 0048 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4705              	.LVL565:
 4706              	.L363:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4707              		.loc 1 1618 29 discriminator 1 view .LVU1550
 4708 004a 0722     		movs	r2, #7
 4709              	.LVL566:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4710              		.loc 1 1618 29 discriminator 1 view .LVU1551
 4711 004c FBE7     		b	.L359
 4712              		.cfi_endproc
 4713              	.LFE357:
 4715              		.section	.text.dir_register,"ax",%progbits
 4716              		.align	1
 4717              		.syntax unified
 4718              		.thumb
 4719              		.thumb_func
 4721              	dir_register:
 4722              	.LVL567:
 4723              	.LFB362:
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4724              		.loc 1 2295 1 is_stmt 1 view -0
 4725              		.cfi_startproc
 4726              		@ args = 0, pretend = 0, frame = 0
 4727              		@ frame_needed = 0, uses_anonymous_args = 0
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4728              		.loc 1 2295 1 is_stmt 0 view .LVU1553
 4729 0000 70B5     		push	{r4, r5, r6, lr}
 4730              	.LCFI35:
 4731              		.cfi_def_cfa_offset 16
 4732              		.cfi_offset 4, -16
 4733              		.cfi_offset 5, -12
 4734              		.cfi_offset 6, -8
ARM GAS  C:\usertemp\ccmutrvj.s 			page 209


 4735              		.cfi_offset 14, -4
 4736 0002 0446     		mov	r4, r0
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4737              		.loc 1 2296 2 is_stmt 1 view .LVU1554
2297:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4738              		.loc 1 2297 2 view .LVU1555
2297:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4739              		.loc 1 2297 9 is_stmt 0 view .LVU1556
 4740 0004 0668     		ldr	r6, [r0]
 4741              	.LVL568:
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4742              		.loc 1 2366 2 is_stmt 1 view .LVU1557
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4743              		.loc 1 2366 8 is_stmt 0 view .LVU1558
 4744 0006 0121     		movs	r1, #1
 4745 0008 FFF7FEFF 		bl	dir_alloc
 4746              	.LVL569:
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4747              		.loc 1 2371 2 is_stmt 1 view .LVU1559
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4748              		.loc 1 2371 5 is_stmt 0 view .LVU1560
 4749 000c 0546     		mov	r5, r0
 4750 000e 08B1     		cbz	r0, .L367
 4751              	.LVL570:
 4752              	.L365:
2383:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4753              		.loc 1 2383 2 is_stmt 1 view .LVU1561
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4754              		.loc 1 2384 1 is_stmt 0 view .LVU1562
 4755 0010 2846     		mov	r0, r5
 4756 0012 70BD     		pop	{r4, r5, r6, pc}
 4757              	.LVL571:
 4758              	.L367:
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4759              		.loc 1 2372 3 is_stmt 1 view .LVU1563
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4760              		.loc 1 2372 9 is_stmt 0 view .LVU1564
 4761 0014 E169     		ldr	r1, [r4, #28]
 4762 0016 3046     		mov	r0, r6
 4763              	.LVL572:
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4764              		.loc 1 2372 9 view .LVU1565
 4765 0018 FFF7FEFF 		bl	move_window
 4766              	.LVL573:
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 4767              		.loc 1 2373 3 is_stmt 1 view .LVU1566
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 4768              		.loc 1 2373 6 is_stmt 0 view .LVU1567
 4769 001c 0546     		mov	r5, r0
 4770 001e 0028     		cmp	r0, #0
 4771 0020 F6D1     		bne	.L365
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 4772              		.loc 1 2374 4 is_stmt 1 view .LVU1568
 4773 0022 2022     		movs	r2, #32
 4774 0024 0021     		movs	r1, #0
 4775 0026 206A     		ldr	r0, [r4, #32]
 4776              	.LVL574:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 210


2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 4777              		.loc 1 2374 4 is_stmt 0 view .LVU1569
 4778 0028 FFF7FEFF 		bl	mem_set
 4779              	.LVL575:
2375:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 4780              		.loc 1 2375 4 is_stmt 1 view .LVU1570
 4781 002c 0B22     		movs	r2, #11
 4782 002e 04F12401 		add	r1, r4, #36
 4783 0032 206A     		ldr	r0, [r4, #32]
 4784 0034 FFF7FEFF 		bl	mem_cpy
 4785              	.LVL576:
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4786              		.loc 1 2379 4 view .LVU1571
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4787              		.loc 1 2379 14 is_stmt 0 view .LVU1572
 4788 0038 0123     		movs	r3, #1
 4789 003a F370     		strb	r3, [r6, #3]
 4790 003c E8E7     		b	.L365
 4791              		.cfi_endproc
 4792              	.LFE362:
 4794              		.section	.text.dir_read,"ax",%progbits
 4795              		.align	1
 4796              		.syntax unified
 4797              		.thumb
 4798              		.thumb_func
 4800              	dir_read:
 4801              	.LVL577:
 4802              	.LFB360:
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 4803              		.loc 1 2135 1 is_stmt 1 view -0
 4804              		.cfi_startproc
 4805              		@ args = 0, pretend = 0, frame = 0
 4806              		@ frame_needed = 0, uses_anonymous_args = 0
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 4807              		.loc 1 2135 1 is_stmt 0 view .LVU1574
 4808 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4809              	.LCFI36:
 4810              		.cfi_def_cfa_offset 24
 4811              		.cfi_offset 3, -24
 4812              		.cfi_offset 4, -20
 4813              		.cfi_offset 5, -16
 4814              		.cfi_offset 6, -12
 4815              		.cfi_offset 7, -8
 4816              		.cfi_offset 14, -4
 4817 0002 0446     		mov	r4, r0
 4818 0004 0E46     		mov	r6, r1
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4819              		.loc 1 2136 2 is_stmt 1 view .LVU1575
 4820              	.LVL578:
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
 4821              		.loc 1 2137 2 view .LVU1576
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
 4822              		.loc 1 2137 9 is_stmt 0 view .LVU1577
 4823 0006 0568     		ldr	r5, [r0]
 4824              	.LVL579:
2138:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 4825              		.loc 1 2138 2 is_stmt 1 view .LVU1578
ARM GAS  C:\usertemp\ccmutrvj.s 			page 211


2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4826              		.loc 1 2143 2 view .LVU1579
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4827              		.loc 1 2136 10 is_stmt 0 view .LVU1580
 4828 0008 0427     		movs	r7, #4
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4829              		.loc 1 2143 8 view .LVU1581
 4830 000a 05E0     		b	.L369
 4831              	.LVL580:
 4832              	.L371:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4833              		.loc 1 2193 3 is_stmt 1 view .LVU1582
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4834              		.loc 1 2193 9 is_stmt 0 view .LVU1583
 4835 000c 0021     		movs	r1, #0
 4836 000e 2046     		mov	r0, r4
 4837              	.LVL581:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4838              		.loc 1 2193 9 view .LVU1584
 4839 0010 FFF7FEFF 		bl	dir_next
 4840              	.LVL582:
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4841              		.loc 1 2194 3 is_stmt 1 view .LVU1585
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4842              		.loc 1 2194 6 is_stmt 0 view .LVU1586
 4843 0014 0746     		mov	r7, r0
 4844 0016 E8B9     		cbnz	r0, .L370
 4845              	.LVL583:
 4846              	.L369:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4847              		.loc 1 2143 9 is_stmt 1 view .LVU1587
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4848              		.loc 1 2143 11 is_stmt 0 view .LVU1588
 4849 0018 E169     		ldr	r1, [r4, #28]
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4850              		.loc 1 2143 9 view .LVU1589
 4851 001a D9B1     		cbz	r1, .L370
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4852              		.loc 1 2144 3 is_stmt 1 view .LVU1590
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4853              		.loc 1 2144 9 is_stmt 0 view .LVU1591
 4854 001c 2846     		mov	r0, r5
 4855 001e FFF7FEFF 		bl	move_window
 4856              	.LVL584:
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 4857              		.loc 1 2145 3 is_stmt 1 view .LVU1592
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 4858              		.loc 1 2145 6 is_stmt 0 view .LVU1593
 4859 0022 0746     		mov	r7, r0
 4860 0024 B0B9     		cbnz	r0, .L370
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4861              		.loc 1 2146 3 is_stmt 1 view .LVU1594
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4862              		.loc 1 2146 9 is_stmt 0 view .LVU1595
 4863 0026 236A     		ldr	r3, [r4, #32]
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4864              		.loc 1 2146 5 view .LVU1596
ARM GAS  C:\usertemp\ccmutrvj.s 			page 212


 4865 0028 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 4866              	.LVL585:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 4867              		.loc 1 2147 3 is_stmt 1 view .LVU1597
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 4868              		.loc 1 2147 6 is_stmt 0 view .LVU1598
 4869 002a 92B1     		cbz	r2, .L374
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4870              		.loc 1 2167 4 is_stmt 1 view .LVU1599
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4871              		.loc 1 2167 30 is_stmt 0 view .LVU1600
 4872 002c DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4873              		.loc 1 2167 21 view .LVU1601
 4874 002e 03F03F03 		and	r3, r3, #63
 4875              	.LVL586:
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4876              		.loc 1 2167 17 view .LVU1602
 4877 0032 A371     		strb	r3, [r4, #6]
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 4878              		.loc 1 2188 4 is_stmt 1 view .LVU1603
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 4879              		.loc 1 2188 7 is_stmt 0 view .LVU1604
 4880 0034 E52A     		cmp	r2, #229
 4881 0036 18BF     		it	ne
 4882 0038 2E2A     		cmpne	r2, #46
 4883 003a E7D0     		beq	.L371
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 4884              		.loc 1 2188 30 discriminator 1 view .LVU1605
 4885 003c 0F2B     		cmp	r3, #15
 4886 003e E5D0     		beq	.L371
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 4887              		.loc 1 2188 57 discriminator 2 view .LVU1606
 4888 0040 23F02003 		bic	r3, r3, #32
 4889              	.LVL587:
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 4890              		.loc 1 2188 48 discriminator 2 view .LVU1607
 4891 0044 082B     		cmp	r3, #8
 4892 0046 14BF     		ite	ne
 4893 0048 0023     		movne	r3, #0
 4894 004a 0123     		moveq	r3, #1
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 4895              		.loc 1 2188 45 discriminator 2 view .LVU1608
 4896 004c B342     		cmp	r3, r6
 4897 004e DDD1     		bne	.L371
 4898 0050 00E0     		b	.L370
 4899              	.LVL588:
 4900              	.L374:
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4901              		.loc 1 2148 8 view .LVU1609
 4902 0052 0427     		movs	r7, #4
 4903              	.LVL589:
 4904              	.L370:
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4905              		.loc 1 2197 2 is_stmt 1 view .LVU1610
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4906              		.loc 1 2197 5 is_stmt 0 view .LVU1611
ARM GAS  C:\usertemp\ccmutrvj.s 			page 213


 4907 0054 0FB1     		cbz	r7, .L373
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4908              		.loc 1 2197 20 is_stmt 1 discriminator 1 view .LVU1612
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4909              		.loc 1 2197 29 is_stmt 0 discriminator 1 view .LVU1613
 4910 0056 0023     		movs	r3, #0
 4911 0058 E361     		str	r3, [r4, #28]
 4912              	.L373:
2198:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4913              		.loc 1 2198 2 is_stmt 1 view .LVU1614
2199:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4914              		.loc 1 2199 1 is_stmt 0 view .LVU1615
 4915 005a 3846     		mov	r0, r7
 4916 005c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
2199:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4917              		.loc 1 2199 1 view .LVU1616
 4918              		.cfi_endproc
 4919              	.LFE360:
 4921              		.section	.text.sync_fs,"ax",%progbits
 4922              		.align	1
 4923              		.syntax unified
 4924              		.thumb
 4925              		.thumb_func
 4927              	sync_fs:
 4928              	.LVL590:
 4929              	.LFB348:
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4930              		.loc 1 947 1 is_stmt 1 view -0
 4931              		.cfi_startproc
 4932              		@ args = 0, pretend = 0, frame = 0
 4933              		@ frame_needed = 0, uses_anonymous_args = 0
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4934              		.loc 1 947 1 is_stmt 0 view .LVU1618
 4935 0000 70B5     		push	{r4, r5, r6, lr}
 4936              	.LCFI37:
 4937              		.cfi_def_cfa_offset 16
 4938              		.cfi_offset 4, -16
 4939              		.cfi_offset 5, -12
 4940              		.cfi_offset 6, -8
 4941              		.cfi_offset 14, -4
 4942 0002 0446     		mov	r4, r0
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4943              		.loc 1 948 2 is_stmt 1 view .LVU1619
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4944              		.loc 1 951 2 view .LVU1620
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4945              		.loc 1 951 8 is_stmt 0 view .LVU1621
 4946 0004 FFF7FEFF 		bl	sync_window
 4947              	.LVL591:
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 4948              		.loc 1 952 2 is_stmt 1 view .LVU1622
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 4949              		.loc 1 952 5 is_stmt 0 view .LVU1623
 4950 0008 0546     		mov	r5, r0
 4951 000a 48B9     		cbnz	r0, .L377
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 4952              		.loc 1 954 3 is_stmt 1 view .LVU1624
ARM GAS  C:\usertemp\ccmutrvj.s 			page 214


 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 4953              		.loc 1 954 9 is_stmt 0 view .LVU1625
 4954 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 4955              		.loc 1 954 6 view .LVU1626
 4956 000e 032B     		cmp	r3, #3
 4957 0010 08D0     		beq	.L381
 4958              	.LVL592:
 4959              	.L378:
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4960              		.loc 1 968 3 is_stmt 1 view .LVU1627
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4961              		.loc 1 968 7 is_stmt 0 view .LVU1628
 4962 0012 0022     		movs	r2, #0
 4963 0014 1146     		mov	r1, r2
 4964 0016 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 4965 0018 FFF7FEFF 		bl	disk_ioctl
 4966              	.LVL593:
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4967              		.loc 1 968 6 discriminator 1 view .LVU1629
 4968 001c 00B1     		cbz	r0, .L377
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4969              		.loc 1 968 56 discriminator 1 view .LVU1630
 4970 001e 0125     		movs	r5, #1
 4971              	.LVL594:
 4972              	.L377:
 971:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4973              		.loc 1 971 2 is_stmt 1 view .LVU1631
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4974              		.loc 1 972 1 is_stmt 0 view .LVU1632
 4975 0020 2846     		mov	r0, r5
 4976 0022 70BD     		pop	{r4, r5, r6, pc}
 4977              	.LVL595:
 4978              	.L381:
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 4979              		.loc 1 954 36 discriminator 1 view .LVU1633
 4980 0024 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 4981              		.loc 1 954 31 discriminator 1 view .LVU1634
 4982 0026 012B     		cmp	r3, #1
 4983 0028 F3D1     		bne	.L378
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 4984              		.loc 1 956 4 is_stmt 1 view .LVU1635
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 4985              		.loc 1 956 14 is_stmt 0 view .LVU1636
 4986 002a 04F13406 		add	r6, r4, #52
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 4987              		.loc 1 956 4 view .LVU1637
 4988 002e 4FF40072 		mov	r2, #512
 4989 0032 0021     		movs	r1, #0
 4990 0034 3046     		mov	r0, r6
 4991              	.LVL596:
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 4992              		.loc 1 956 4 view .LVU1638
 4993 0036 FFF7FEFF 		bl	mem_set
 4994              	.LVL597:
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 215


 4995              		.loc 1 957 4 is_stmt 1 view .LVU1639
 4996 003a 4AF65521 		movw	r1, #43605
 4997 003e 04F23220 		addw	r0, r4, #562
 4998 0042 FFF7FEFF 		bl	st_word
 4999              	.LVL598:
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 5000              		.loc 1 958 4 view .LVU1640
 5001 0046 0F49     		ldr	r1, .L382
 5002 0048 3046     		mov	r0, r6
 5003 004a FFF7FEFF 		bl	st_dword
 5004              	.LVL599:
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 5005              		.loc 1 959 4 view .LVU1641
 5006 004e 0E49     		ldr	r1, .L382+4
 5007 0050 04F50670 		add	r0, r4, #536
 5008 0054 FFF7FEFF 		bl	st_dword
 5009              	.LVL600:
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 5010              		.loc 1 960 4 view .LVU1642
 5011 0058 2169     		ldr	r1, [r4, #16]
 5012 005a 04F50770 		add	r0, r4, #540
 5013 005e FFF7FEFF 		bl	st_dword
 5014              	.LVL601:
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 5015              		.loc 1 961 4 view .LVU1643
 5016 0062 E168     		ldr	r1, [r4, #12]
 5017 0064 04F50870 		add	r0, r4, #544
 5018 0068 FFF7FEFF 		bl	st_dword
 5019              	.LVL602:
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5020              		.loc 1 963 4 view .LVU1644
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5021              		.loc 1 963 20 is_stmt 0 view .LVU1645
 5022 006c 226A     		ldr	r2, [r4, #32]
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5023              		.loc 1 963 30 view .LVU1646
 5024 006e 0132     		adds	r2, r2, #1
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5025              		.loc 1 963 16 view .LVU1647
 5026 0070 2263     		str	r2, [r4, #48]
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 5027              		.loc 1 964 4 is_stmt 1 view .LVU1648
 5028 0072 0123     		movs	r3, #1
 5029 0074 3146     		mov	r1, r6
 5030 0076 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 5031 0078 FFF7FEFF 		bl	disk_write
 5032              	.LVL603:
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5033              		.loc 1 965 4 view .LVU1649
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5034              		.loc 1 965 17 is_stmt 0 view .LVU1650
 5035 007c 0023     		movs	r3, #0
 5036 007e 2371     		strb	r3, [r4, #4]
 5037 0080 C7E7     		b	.L378
 5038              	.L383:
 5039 0082 00BF     		.align	2
 5040              	.L382:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 216


 5041 0084 52526141 		.word	1096897106
 5042 0088 72724161 		.word	1631679090
 5043              		.cfi_endproc
 5044              	.LFE348:
 5046              		.section	.text.f_mount,"ax",%progbits
 5047              		.align	1
 5048              		.global	f_mount
 5049              		.syntax unified
 5050              		.thumb
 5051              		.thumb_func
 5053              	f_mount:
 5054              	.LVL604:
 5055              	.LFB371:
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 5056              		.loc 1 3265 1 is_stmt 1 view -0
 5057              		.cfi_startproc
 5058              		@ args = 0, pretend = 0, frame = 16
 5059              		@ frame_needed = 0, uses_anonymous_args = 0
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 5060              		.loc 1 3265 1 is_stmt 0 view .LVU1652
 5061 0000 70B5     		push	{r4, r5, r6, lr}
 5062              	.LCFI38:
 5063              		.cfi_def_cfa_offset 16
 5064              		.cfi_offset 4, -16
 5065              		.cfi_offset 5, -12
 5066              		.cfi_offset 6, -8
 5067              		.cfi_offset 14, -4
 5068 0002 84B0     		sub	sp, sp, #16
 5069              	.LCFI39:
 5070              		.cfi_def_cfa_offset 32
 5071 0004 0190     		str	r0, [sp, #4]
 5072 0006 0091     		str	r1, [sp]
 5073 0008 1646     		mov	r6, r2
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 5074              		.loc 1 3266 2 is_stmt 1 view .LVU1653
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5075              		.loc 1 3267 2 view .LVU1654
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
 5076              		.loc 1 3268 2 view .LVU1655
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5077              		.loc 1 3269 2 view .LVU1656
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5078              		.loc 1 3269 15 is_stmt 0 view .LVU1657
 5079 000a 0391     		str	r1, [sp, #12]
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 5080              		.loc 1 3273 2 is_stmt 1 view .LVU1658
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 5081              		.loc 1 3273 8 is_stmt 0 view .LVU1659
 5082 000c 03A8     		add	r0, sp, #12
 5083              	.LVL605:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 5084              		.loc 1 3273 8 view .LVU1660
 5085 000e FFF7FEFF 		bl	get_ldnumber
 5086              	.LVL606:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5087              		.loc 1 3274 2 is_stmt 1 view .LVU1661
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 217


 5088              		.loc 1 3274 5 is_stmt 0 view .LVU1662
 5089 0012 041E     		subs	r4, r0, #0
 5090 0014 20DB     		blt	.L388
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5091              		.loc 1 3275 2 is_stmt 1 view .LVU1663
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5092              		.loc 1 3275 6 is_stmt 0 view .LVU1664
 5093 0016 114B     		ldr	r3, .L392
 5094 0018 53F82450 		ldr	r5, [r3, r4, lsl #2]
 5095              	.LVL607:
3277:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5096              		.loc 1 3277 2 is_stmt 1 view .LVU1665
3277:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5097              		.loc 1 3277 5 is_stmt 0 view .LVU1666
 5098 001c 25B1     		cbz	r5, .L386
3279:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5099              		.loc 1 3279 3 is_stmt 1 view .LVU1667
 5100 001e 2846     		mov	r0, r5
 5101              	.LVL608:
3279:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5102              		.loc 1 3279 3 is_stmt 0 view .LVU1668
 5103 0020 FFF7FEFF 		bl	clear_lock
 5104              	.LVL609:
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5105              		.loc 1 3284 3 is_stmt 1 view .LVU1669
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5106              		.loc 1 3284 16 is_stmt 0 view .LVU1670
 5107 0024 0023     		movs	r3, #0
 5108 0026 2B70     		strb	r3, [r5]
 5109              	.L386:
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 5110              		.loc 1 3287 2 is_stmt 1 view .LVU1671
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 5111              		.loc 1 3287 6 is_stmt 0 view .LVU1672
 5112 0028 019B     		ldr	r3, [sp, #4]
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 5113              		.loc 1 3287 5 view .LVU1673
 5114 002a 0BB1     		cbz	r3, .L387
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
 5115              		.loc 1 3288 3 is_stmt 1 view .LVU1674
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
 5116              		.loc 1 3288 15 is_stmt 0 view .LVU1675
 5117 002c 0022     		movs	r2, #0
 5118 002e 1A70     		strb	r2, [r3]
 5119              	.L387:
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5120              		.loc 1 3293 2 is_stmt 1 view .LVU1676
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5121              		.loc 1 3293 13 is_stmt 0 view .LVU1677
 5122 0030 019B     		ldr	r3, [sp, #4]
 5123 0032 0A4A     		ldr	r2, .L392
 5124 0034 42F82430 		str	r3, [r2, r4, lsl #2]
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5125              		.loc 1 3295 2 is_stmt 1 view .LVU1678
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5126              		.loc 1 3295 17 is_stmt 0 view .LVU1679
 5127 0038 721E     		subs	r2, r6, #1
ARM GAS  C:\usertemp\ccmutrvj.s 			page 218


 5128 003a 18BF     		it	ne
 5129 003c 0122     		movne	r2, #1
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5130              		.loc 1 3295 10 view .LVU1680
 5131 003e 002B     		cmp	r3, #0
 5132 0040 08BF     		it	eq
 5133 0042 42F00102 		orreq	r2, r2, #1
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5134              		.loc 1 3295 5 view .LVU1681
 5135 0046 12B1     		cbz	r2, .L391
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5136              		.loc 1 3295 30 discriminator 1 view .LVU1682
 5137 0048 0020     		movs	r0, #0
 5138              	.LVL610:
 5139              	.L385:
3299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5140              		.loc 1 3299 1 view .LVU1683
 5141 004a 04B0     		add	sp, sp, #16
 5142              	.LCFI40:
 5143              		.cfi_remember_state
 5144              		.cfi_def_cfa_offset 16
 5145              		@ sp needed
 5146 004c 70BD     		pop	{r4, r5, r6, pc}
 5147              	.LVL611:
 5148              	.L391:
 5149              	.LCFI41:
 5150              		.cfi_restore_state
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 5151              		.loc 1 3297 2 is_stmt 1 view .LVU1684
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 5152              		.loc 1 3297 8 is_stmt 0 view .LVU1685
 5153 004e 01A9     		add	r1, sp, #4
 5154 0050 6846     		mov	r0, sp
 5155 0052 FFF7FEFF 		bl	find_volume
 5156              	.LVL612:
3298:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5157              		.loc 1 3298 2 is_stmt 1 view .LVU1686
 5158 0056 F8E7     		b	.L385
 5159              	.LVL613:
 5160              	.L388:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5161              		.loc 1 3274 22 is_stmt 0 discriminator 1 view .LVU1687
 5162 0058 0B20     		movs	r0, #11
 5163              	.LVL614:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5164              		.loc 1 3274 22 discriminator 1 view .LVU1688
 5165 005a F6E7     		b	.L385
 5166              	.L393:
 5167              		.align	2
 5168              	.L392:
 5169 005c 00000000 		.word	FatFs
 5170              		.cfi_endproc
 5171              	.LFE371:
 5173              		.section	.text.f_open,"ax",%progbits
 5174              		.align	1
 5175              		.global	f_open
 5176              		.syntax unified
ARM GAS  C:\usertemp\ccmutrvj.s 			page 219


 5177              		.thumb
 5178              		.thumb_func
 5180              	f_open:
 5181              	.LVL615:
 5182              	.LFB372:
3313:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5183              		.loc 1 3313 1 is_stmt 1 view -0
 5184              		.cfi_startproc
 5185              		@ args = 0, pretend = 0, frame = 64
 5186              		@ frame_needed = 0, uses_anonymous_args = 0
3313:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5187              		.loc 1 3313 1 is_stmt 0 view .LVU1690
 5188 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5189              	.LCFI42:
 5190              		.cfi_def_cfa_offset 28
 5191              		.cfi_offset 4, -28
 5192              		.cfi_offset 5, -24
 5193              		.cfi_offset 6, -20
 5194              		.cfi_offset 7, -16
 5195              		.cfi_offset 8, -12
 5196              		.cfi_offset 9, -8
 5197              		.cfi_offset 14, -4
 5198 0004 91B0     		sub	sp, sp, #68
 5199              	.LCFI43:
 5200              		.cfi_def_cfa_offset 96
 5201 0006 0191     		str	r1, [sp, #4]
3314:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 5202              		.loc 1 3314 2 is_stmt 1 view .LVU1691
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 5203              		.loc 1 3315 2 view .LVU1692
3316:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 5204              		.loc 1 3316 2 view .LVU1693
3318:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
 5205              		.loc 1 3318 2 view .LVU1694
3319:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5206              		.loc 1 3319 2 view .LVU1695
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5207              		.loc 1 3324 2 view .LVU1696
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5208              		.loc 1 3324 5 is_stmt 0 view .LVU1697
 5209 0008 0028     		cmp	r0, #0
 5210 000a 00F00881 		beq	.L409
 5211 000e 1446     		mov	r4, r2
 5212 0010 0646     		mov	r6, r0
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 5213              		.loc 1 3327 2 is_stmt 1 view .LVU1698
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 5214              		.loc 1 3327 7 is_stmt 0 view .LVU1699
 5215 0012 02F03F07 		and	r7, r2, #63
 5216              	.LVL616:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5217              		.loc 1 3328 2 is_stmt 1 view .LVU1700
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5218              		.loc 1 3328 8 is_stmt 0 view .LVU1701
 5219 0016 3A46     		mov	r2, r7
 5220 0018 03A9     		add	r1, sp, #12
 5221              	.LVL617:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 220


3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5222              		.loc 1 3328 8 view .LVU1702
 5223 001a 01A8     		add	r0, sp, #4
 5224              	.LVL618:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5225              		.loc 1 3328 8 view .LVU1703
 5226 001c FFF7FEFF 		bl	find_volume
 5227              	.LVL619:
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 5228              		.loc 1 3329 2 is_stmt 1 view .LVU1704
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 5229              		.loc 1 3329 5 is_stmt 0 view .LVU1705
 5230 0020 0546     		mov	r5, r0
 5231 0022 28B1     		cbz	r0, .L423
 5232              	.LVL620:
 5233              	.L396:
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5234              		.loc 1 3499 20 is_stmt 1 discriminator 1 view .LVU1706
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5235              		.loc 1 3499 31 is_stmt 0 discriminator 1 view .LVU1707
 5236 0024 0023     		movs	r3, #0
 5237 0026 3360     		str	r3, [r6]
 5238              	.LVL621:
 5239              	.L395:
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5240              		.loc 1 3502 1 view .LVU1708
 5241 0028 2846     		mov	r0, r5
 5242 002a 11B0     		add	sp, sp, #68
 5243              	.LCFI44:
 5244              		.cfi_remember_state
 5245              		.cfi_def_cfa_offset 28
 5246              		@ sp needed
 5247 002c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5248              	.LVL622:
 5249              	.L423:
 5250              	.LCFI45:
 5251              		.cfi_restore_state
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 5252              		.loc 1 3330 3 is_stmt 1 view .LVU1709
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 5253              		.loc 1 3330 13 is_stmt 0 view .LVU1710
 5254 0030 039B     		ldr	r3, [sp, #12]
 5255 0032 0493     		str	r3, [sp, #16]
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 5256              		.loc 1 3331 18 is_stmt 1 view .LVU1711
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5257              		.loc 1 3332 3 view .LVU1712
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5258              		.loc 1 3332 9 is_stmt 0 view .LVU1713
 5259 0034 0199     		ldr	r1, [sp, #4]
 5260 0036 04A8     		add	r0, sp, #16
 5261              	.LVL623:
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5262              		.loc 1 3332 9 view .LVU1714
 5263 0038 FFF7FEFF 		bl	follow_path
 5264              	.LVL624:
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 221


 5265              		.loc 1 3334 3 is_stmt 1 view .LVU1715
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 5266              		.loc 1 3334 6 is_stmt 0 view .LVU1716
 5267 003c 0546     		mov	r5, r0
 5268 003e 60B9     		cbnz	r0, .L397
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5269              		.loc 1 3335 4 is_stmt 1 view .LVU1717
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5270              		.loc 1 3335 8 is_stmt 0 view .LVU1718
 5271 0040 9DF93F30 		ldrsb	r3, [sp, #63]
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5272              		.loc 1 3335 7 view .LVU1719
 5273 0044 002B     		cmp	r3, #0
 5274 0046 52DB     		blt	.L410
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5275              		.loc 1 3340 5 is_stmt 1 view .LVU1720
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5276              		.loc 1 3340 11 is_stmt 0 view .LVU1721
 5277 0048 14F03E0F 		tst	r4, #62
 5278 004c 14BF     		ite	ne
 5279 004e 0121     		movne	r1, #1
 5280 0050 0021     		moveq	r1, #0
 5281 0052 04A8     		add	r0, sp, #16
 5282              	.LVL625:
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5283              		.loc 1 3340 11 view .LVU1722
 5284 0054 FFF7FEFF 		bl	chk_lock
 5285              	.LVL626:
 5286 0058 0546     		mov	r5, r0
 5287              	.LVL627:
 5288              	.L397:
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5289              		.loc 1 3345 3 is_stmt 1 view .LVU1723
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5290              		.loc 1 3345 6 is_stmt 0 view .LVU1724
 5291 005a 14F01C0F 		tst	r4, #28
 5292 005e 5CD0     		beq	.L398
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 5293              		.loc 1 3346 4 is_stmt 1 view .LVU1725
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 5294              		.loc 1 3346 7 is_stmt 0 view .LVU1726
 5295 0060 002D     		cmp	r5, #0
 5296 0062 50D0     		beq	.L399
3347:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5297              		.loc 1 3347 5 is_stmt 1 view .LVU1727
3347:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5298              		.loc 1 3347 8 is_stmt 0 view .LVU1728
 5299 0064 042D     		cmp	r5, #4
 5300 0066 44D0     		beq	.L424
 5301              	.LVL628:
 5302              	.L400:
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5303              		.loc 1 3354 5 is_stmt 1 view .LVU1729
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5304              		.loc 1 3354 10 is_stmt 0 view .LVU1730
 5305 0068 47F00807 		orr	r7, r7, #8
 5306              	.LVL629:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 222


 5307              	.L401:
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 5308              		.loc 1 3363 4 is_stmt 1 view .LVU1731
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 5309              		.loc 1 3363 7 is_stmt 0 view .LVU1732
 5310 006c 002D     		cmp	r5, #0
 5311 006e D9D1     		bne	.L396
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 5312              		.loc 1 3363 21 discriminator 1 view .LVU1733
 5313 0070 17F0080F 		tst	r7, #8
 5314 0074 61D0     		beq	.L402
3364:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 5315              		.loc 1 3364 5 is_stmt 1 view .LVU1734
3364:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 5316              		.loc 1 3364 10 is_stmt 0 view .LVU1735
 5317 0076 FFF7FEFF 		bl	get_fattime
 5318              	.LVL630:
 5319 007a 0446     		mov	r4, r0
 5320              	.LVL631:
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 5321              		.loc 1 3392 6 is_stmt 1 view .LVU1736
 5322 007c 0146     		mov	r1, r0
 5323 007e 0C98     		ldr	r0, [sp, #48]
 5324              	.LVL632:
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 5325              		.loc 1 3392 6 is_stmt 0 view .LVU1737
 5326 0080 0E30     		adds	r0, r0, #14
 5327 0082 FFF7FEFF 		bl	st_dword
 5328              	.LVL633:
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
 5329              		.loc 1 3393 6 is_stmt 1 view .LVU1738
 5330 0086 2146     		mov	r1, r4
 5331 0088 0C98     		ldr	r0, [sp, #48]
 5332 008a 1630     		adds	r0, r0, #22
 5333 008c FFF7FEFF 		bl	st_dword
 5334              	.LVL634:
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 5335              		.loc 1 3394 6 view .LVU1739
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 5336              		.loc 1 3394 23 is_stmt 0 view .LVU1740
 5337 0090 0C9B     		ldr	r3, [sp, #48]
 5338 0092 2022     		movs	r2, #32
 5339 0094 DA72     		strb	r2, [r3, #11]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 5340              		.loc 1 3395 6 is_stmt 1 view .LVU1741
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 5341              		.loc 1 3395 11 is_stmt 0 view .LVU1742
 5342 0096 DDF80C80 		ldr	r8, [sp, #12]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 5343              		.loc 1 3395 26 view .LVU1743
 5344 009a DDF83090 		ldr	r9, [sp, #48]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 5345              		.loc 1 3395 11 view .LVU1744
 5346 009e 4946     		mov	r1, r9
 5347 00a0 4046     		mov	r0, r8
 5348 00a2 FFF7FEFF 		bl	ld_clust
 5349              	.LVL635:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 223


 5350 00a6 0446     		mov	r4, r0
 5351              	.LVL636:
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 5352              		.loc 1 3396 6 is_stmt 1 view .LVU1745
 5353 00a8 0022     		movs	r2, #0
 5354 00aa 4946     		mov	r1, r9
 5355 00ac 4046     		mov	r0, r8
 5356              	.LVL637:
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 5357              		.loc 1 3396 6 is_stmt 0 view .LVU1746
 5358 00ae FFF7FEFF 		bl	st_clust
 5359              	.LVL638:
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 5360              		.loc 1 3397 6 is_stmt 1 view .LVU1747
 5361 00b2 0021     		movs	r1, #0
 5362 00b4 0C98     		ldr	r0, [sp, #48]
 5363 00b6 1C30     		adds	r0, r0, #28
 5364 00b8 FFF7FEFF 		bl	st_dword
 5365              	.LVL639:
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5366              		.loc 1 3398 6 view .LVU1748
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5367              		.loc 1 3398 16 is_stmt 0 view .LVU1749
 5368 00bc 039B     		ldr	r3, [sp, #12]
 5369 00be 0122     		movs	r2, #1
 5370 00c0 DA70     		strb	r2, [r3, #3]
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 5371              		.loc 1 3400 6 is_stmt 1 view .LVU1750
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 5372              		.loc 1 3400 9 is_stmt 0 view .LVU1751
 5373 00c2 002C     		cmp	r4, #0
 5374 00c4 39D0     		beq	.L402
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 5375              		.loc 1 3401 7 is_stmt 1 view .LVU1752
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 5376              		.loc 1 3401 14 is_stmt 0 view .LVU1753
 5377 00c6 039B     		ldr	r3, [sp, #12]
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 5378              		.loc 1 3401 10 view .LVU1754
 5379 00c8 D3F83080 		ldr	r8, [r3, #48]
 5380              	.LVL640:
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 5381              		.loc 1 3402 7 is_stmt 1 view .LVU1755
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 5382              		.loc 1 3402 13 is_stmt 0 view .LVU1756
 5383 00cc 0022     		movs	r2, #0
 5384 00ce 2146     		mov	r1, r4
 5385 00d0 04A8     		add	r0, sp, #16
 5386 00d2 FFF7FEFF 		bl	remove_chain
 5387              	.LVL641:
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 5388              		.loc 1 3403 7 is_stmt 1 view .LVU1757
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 5389              		.loc 1 3403 10 is_stmt 0 view .LVU1758
 5390 00d6 0546     		mov	r5, r0
 5391 00d8 0028     		cmp	r0, #0
 5392 00da A3D1     		bne	.L396
ARM GAS  C:\usertemp\ccmutrvj.s 			page 224


3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 5393              		.loc 1 3404 8 is_stmt 1 view .LVU1759
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 5394              		.loc 1 3404 14 is_stmt 0 view .LVU1760
 5395 00dc 4146     		mov	r1, r8
 5396 00de 0398     		ldr	r0, [sp, #12]
 5397              	.LVL642:
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 5398              		.loc 1 3404 14 view .LVU1761
 5399 00e0 FFF7FEFF 		bl	move_window
 5400              	.LVL643:
 5401 00e4 0546     		mov	r5, r0
 5402              	.LVL644:
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 5403              		.loc 1 3405 8 is_stmt 1 view .LVU1762
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 5404              		.loc 1 3405 27 is_stmt 0 view .LVU1763
 5405 00e6 013C     		subs	r4, r4, #1
 5406              	.LVL645:
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 5407              		.loc 1 3405 22 view .LVU1764
 5408 00e8 039B     		ldr	r3, [sp, #12]
 5409 00ea DC60     		str	r4, [r3, #12]
 5410 00ec 25E0     		b	.L402
 5411              	.LVL646:
 5412              	.L410:
3336:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5413              		.loc 1 3336 9 view .LVU1765
 5414 00ee 0625     		movs	r5, #6
 5415 00f0 B3E7     		b	.L397
 5416              	.LVL647:
 5417              	.L424:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5418              		.loc 1 3349 6 is_stmt 1 view .LVU1766
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5419              		.loc 1 3349 12 is_stmt 0 view .LVU1767
 5420 00f2 FFF7FEFF 		bl	enq_lock
 5421              	.LVL648:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5422              		.loc 1 3349 43 discriminator 1 view .LVU1768
 5423 00f6 08B9     		cbnz	r0, .L425
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5424              		.loc 1 3349 43 discriminator 2 view .LVU1769
 5425 00f8 1225     		movs	r5, #18
 5426              	.LVL649:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5427              		.loc 1 3349 43 discriminator 2 view .LVU1770
 5428 00fa B5E7     		b	.L400
 5429              	.LVL650:
 5430              	.L425:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5431              		.loc 1 3349 25 discriminator 1 view .LVU1771
 5432 00fc 04A8     		add	r0, sp, #16
 5433 00fe FFF7FEFF 		bl	dir_register
 5434              	.LVL651:
 5435 0102 0546     		mov	r5, r0
 5436              	.LVL652:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 225


3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5437              		.loc 1 3349 25 discriminator 1 view .LVU1772
 5438 0104 B0E7     		b	.L400
 5439              	.LVL653:
 5440              	.L399:
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5441              		.loc 1 3357 5 is_stmt 1 view .LVU1773
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5442              		.loc 1 3357 15 is_stmt 0 view .LVU1774
 5443 0106 9DF81630 		ldrb	r3, [sp, #22]	@ zero_extendqisi2
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5444              		.loc 1 3357 8 view .LVU1775
 5445 010a 13F0110F 		tst	r3, #17
 5446 010e 13D1     		bne	.L412
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5447              		.loc 1 3360 6 is_stmt 1 view .LVU1776
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5448              		.loc 1 3360 9 is_stmt 0 view .LVU1777
 5449 0110 14F0040F 		tst	r4, #4
 5450 0114 AAD0     		beq	.L401
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5451              		.loc 1 3360 36 discriminator 1 view .LVU1778
 5452 0116 0825     		movs	r5, #8
 5453              	.LVL654:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5454              		.loc 1 3360 36 discriminator 1 view .LVU1779
 5455 0118 84E7     		b	.L396
 5456              	.LVL655:
 5457              	.L398:
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 5458              		.loc 1 3412 4 is_stmt 1 view .LVU1780
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 5459              		.loc 1 3412 7 is_stmt 0 view .LVU1781
 5460 011a 002D     		cmp	r5, #0
 5461 011c 82D1     		bne	.L396
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5462              		.loc 1 3413 5 is_stmt 1 view .LVU1782
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5463              		.loc 1 3413 15 is_stmt 0 view .LVU1783
 5464 011e 9DF81630 		ldrb	r3, [sp, #22]	@ zero_extendqisi2
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5465              		.loc 1 3413 8 view .LVU1784
 5466 0122 13F0100F 		tst	r3, #16
 5467 0126 76D1     		bne	.L414
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5468              		.loc 1 3416 6 is_stmt 1 view .LVU1785
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5469              		.loc 1 3416 9 is_stmt 0 view .LVU1786
 5470 0128 14F0020F 		tst	r4, #2
 5471 012c 05D0     		beq	.L402
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5472              		.loc 1 3416 28 discriminator 1 view .LVU1787
 5473 012e 13F0010F 		tst	r3, #1
 5474 0132 02D0     		beq	.L402
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5475              		.loc 1 3417 11 view .LVU1788
 5476 0134 0725     		movs	r5, #7
ARM GAS  C:\usertemp\ccmutrvj.s 			page 226


 5477              	.LVL656:
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5478              		.loc 1 3417 11 view .LVU1789
 5479 0136 75E7     		b	.L396
 5480              	.LVL657:
 5481              	.L412:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5482              		.loc 1 3358 10 view .LVU1790
 5483 0138 0725     		movs	r5, #7
 5484              	.LVL658:
 5485              	.L402:
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5486              		.loc 1 3422 3 is_stmt 1 view .LVU1791
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5487              		.loc 1 3422 6 is_stmt 0 view .LVU1792
 5488 013a 002D     		cmp	r5, #0
 5489 013c 7FF472AF 		bne	.L396
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 5490              		.loc 1 3423 4 is_stmt 1 view .LVU1793
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 5491              		.loc 1 3423 7 is_stmt 0 view .LVU1794
 5492 0140 17F0080F 		tst	r7, #8
 5493 0144 01D0     		beq	.L403
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 5494              		.loc 1 3424 5 is_stmt 1 view .LVU1795
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 5495              		.loc 1 3424 10 is_stmt 0 view .LVU1796
 5496 0146 47F04007 		orr	r7, r7, #64
 5497              	.LVL659:
 5498              	.L403:
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 5499              		.loc 1 3425 4 is_stmt 1 view .LVU1797
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 5500              		.loc 1 3425 21 is_stmt 0 view .LVU1798
 5501 014a 039B     		ldr	r3, [sp, #12]
 5502 014c 1B6B     		ldr	r3, [r3, #48]
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 5503              		.loc 1 3425 17 view .LVU1799
 5504 014e 7362     		str	r3, [r6, #36]
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5505              		.loc 1 3426 4 is_stmt 1 view .LVU1800
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5506              		.loc 1 3426 20 is_stmt 0 view .LVU1801
 5507 0150 0C9B     		ldr	r3, [sp, #48]
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 5508              		.loc 1 3426 16 view .LVU1802
 5509 0152 B362     		str	r3, [r6, #40]
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 5510              		.loc 1 3428 4 is_stmt 1 view .LVU1803
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 5511              		.loc 1 3428 21 is_stmt 0 view .LVU1804
 5512 0154 012F     		cmp	r7, #1
 5513 0156 94BF     		ite	ls
 5514 0158 0021     		movls	r1, #0
 5515 015a 0121     		movhi	r1, #1
 5516 015c 04A8     		add	r0, sp, #16
 5517 015e FFF7FEFF 		bl	inc_lock
ARM GAS  C:\usertemp\ccmutrvj.s 			page 227


 5518              	.LVL660:
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 5519              		.loc 1 3428 19 discriminator 1 view .LVU1805
 5520 0162 3061     		str	r0, [r6, #16]
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5521              		.loc 1 3429 4 is_stmt 1 view .LVU1806
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5522              		.loc 1 3429 7 is_stmt 0 view .LVU1807
 5523 0164 08B9     		cbnz	r0, .L426
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5524              		.loc 1 3429 29 discriminator 1 view .LVU1808
 5525 0166 0225     		movs	r5, #2
 5526              	.LVL661:
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5527              		.loc 1 3429 29 discriminator 1 view .LVU1809
 5528 0168 5CE7     		b	.L396
 5529              	.LVL662:
 5530              	.L426:
3444:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 5531              		.loc 1 3444 3 is_stmt 1 view .LVU1810
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 5532              		.loc 1 3456 5 view .LVU1811
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 5533              		.loc 1 3456 22 is_stmt 0 view .LVU1812
 5534 016a 039C     		ldr	r4, [sp, #12]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 5535              		.loc 1 3456 37 view .LVU1813
 5536 016c DDF83080 		ldr	r8, [sp, #48]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 5537              		.loc 1 3456 22 view .LVU1814
 5538 0170 4146     		mov	r1, r8
 5539 0172 2046     		mov	r0, r4
 5540 0174 FFF7FEFF 		bl	ld_clust
 5541              	.LVL663:
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 5542              		.loc 1 3456 20 discriminator 1 view .LVU1815
 5543 0178 B060     		str	r0, [r6, #8]
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5544              		.loc 1 3457 5 is_stmt 1 view .LVU1816
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5545              		.loc 1 3457 23 is_stmt 0 view .LVU1817
 5546 017a 08F11C00 		add	r0, r8, #28
 5547 017e FFF7FEFF 		bl	ld_dword
 5548              	.LVL664:
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5549              		.loc 1 3457 21 discriminator 1 view .LVU1818
 5550 0182 F060     		str	r0, [r6, #12]
3460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5551              		.loc 1 3460 4 is_stmt 1 view .LVU1819
3460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5552              		.loc 1 3460 14 is_stmt 0 view .LVU1820
 5553 0184 0021     		movs	r1, #0
 5554 0186 F162     		str	r1, [r6, #44]
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 5555              		.loc 1 3462 4 is_stmt 1 view .LVU1821
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 5556              		.loc 1 3462 15 is_stmt 0 view .LVU1822
ARM GAS  C:\usertemp\ccmutrvj.s 			page 228


 5557 0188 3460     		str	r4, [r6]
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 5558              		.loc 1 3463 4 is_stmt 1 view .LVU1823
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 5559              		.loc 1 3463 19 is_stmt 0 view .LVU1824
 5560 018a E388     		ldrh	r3, [r4, #6]
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 5561              		.loc 1 3463 15 view .LVU1825
 5562 018c B380     		strh	r3, [r6, #4]	@ movhi
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 5563              		.loc 1 3464 4 is_stmt 1 view .LVU1826
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 5564              		.loc 1 3464 13 is_stmt 0 view .LVU1827
 5565 018e 3775     		strb	r7, [r6, #20]
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 5566              		.loc 1 3465 4 is_stmt 1 view .LVU1828
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 5567              		.loc 1 3465 12 is_stmt 0 view .LVU1829
 5568 0190 7175     		strb	r1, [r6, #21]
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
 5569              		.loc 1 3466 4 is_stmt 1 view .LVU1830
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
 5570              		.loc 1 3466 13 is_stmt 0 view .LVU1831
 5571 0192 3162     		str	r1, [r6, #32]
3467:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 5572              		.loc 1 3467 4 is_stmt 1 view .LVU1832
3467:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 5573              		.loc 1 3467 13 is_stmt 0 view .LVU1833
 5574 0194 B161     		str	r1, [r6, #24]
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5575              		.loc 1 3470 4 is_stmt 1 view .LVU1834
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5576              		.loc 1 3470 14 is_stmt 0 view .LVU1835
 5577 0196 06F13008 		add	r8, r6, #48
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5578              		.loc 1 3470 4 view .LVU1836
 5579 019a 4FF40072 		mov	r2, #512
 5580 019e 4046     		mov	r0, r8
 5581 01a0 FFF7FEFF 		bl	mem_set
 5582              	.LVL665:
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 5583              		.loc 1 3472 4 is_stmt 1 view .LVU1837
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 5584              		.loc 1 3472 7 is_stmt 0 view .LVU1838
 5585 01a4 17F0200F 		tst	r7, #32
 5586 01a8 31D0     		beq	.L404
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 5587              		.loc 1 3472 38 discriminator 1 view .LVU1839
 5588 01aa F468     		ldr	r4, [r6, #12]
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 5589              		.loc 1 3472 28 discriminator 1 view .LVU1840
 5590 01ac 7CB3     		cbz	r4, .L404
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 5591              		.loc 1 3473 5 is_stmt 1 view .LVU1841
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 5592              		.loc 1 3473 14 is_stmt 0 view .LVU1842
 5593 01ae B461     		str	r4, [r6, #24]
ARM GAS  C:\usertemp\ccmutrvj.s 			page 229


3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 5594              		.loc 1 3474 5 is_stmt 1 view .LVU1843
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 5595              		.loc 1 3474 20 is_stmt 0 view .LVU1844
 5596 01b0 039B     		ldr	r3, [sp, #12]
 5597 01b2 5F89     		ldrh	r7, [r3, #10]
 5598              	.LVL666:
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 5599              		.loc 1 3474 9 view .LVU1845
 5600 01b4 7F02     		lsls	r7, r7, #9
 5601              	.LVL667:
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 5602              		.loc 1 3475 5 is_stmt 1 view .LVU1846
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 5603              		.loc 1 3475 10 is_stmt 0 view .LVU1847
 5604 01b6 B168     		ldr	r1, [r6, #8]
 5605              	.LVL668:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 5606              		.loc 1 3476 5 is_stmt 1 view .LVU1848
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 5607              		.loc 1 3476 5 is_stmt 0 view .LVU1849
 5608 01b8 01E0     		b	.L405
 5609              	.LVL669:
 5610              	.L417:
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 5611              		.loc 1 3478 25 discriminator 1 view .LVU1850
 5612 01ba 0225     		movs	r5, #2
 5613              	.LVL670:
 5614              	.L406:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 5615              		.loc 1 3476 64 is_stmt 1 discriminator 2 view .LVU1851
 5616 01bc E41B     		subs	r4, r4, r7
 5617              	.LVL671:
 5618              	.L405:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 5619              		.loc 1 3476 46 discriminator 1 view .LVU1852
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 5620              		.loc 1 3476 53 is_stmt 0 discriminator 1 view .LVU1853
 5621 01be BC42     		cmp	r4, r7
 5622 01c0 94BF     		ite	ls
 5623 01c2 0023     		movls	r3, #0
 5624 01c4 0123     		movhi	r3, #1
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 5625              		.loc 1 3476 46 discriminator 1 view .LVU1854
 5626 01c6 5DB9     		cbnz	r5, .L421
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 5627              		.loc 1 3476 46 discriminator 1 view .LVU1855
 5628 01c8 53B1     		cbz	r3, .L421
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 5629              		.loc 1 3477 6 is_stmt 1 view .LVU1856
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 5630              		.loc 1 3477 13 is_stmt 0 view .LVU1857
 5631 01ca 3046     		mov	r0, r6
 5632 01cc FFF7FEFF 		bl	get_fat
 5633              	.LVL672:
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 5634              		.loc 1 3477 13 view .LVU1858
ARM GAS  C:\usertemp\ccmutrvj.s 			page 230


 5635 01d0 0146     		mov	r1, r0
 5636              	.LVL673:
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 5637              		.loc 1 3478 6 is_stmt 1 view .LVU1859
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 5638              		.loc 1 3478 9 is_stmt 0 view .LVU1860
 5639 01d2 0128     		cmp	r0, #1
 5640 01d4 F1D9     		bls	.L417
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5641              		.loc 1 3479 6 is_stmt 1 view .LVU1861
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5642              		.loc 1 3479 9 is_stmt 0 view .LVU1862
 5643 01d6 B0F1FF3F 		cmp	r0, #-1
 5644 01da EFD1     		bne	.L406
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5645              		.loc 1 3479 34 discriminator 1 view .LVU1863
 5646 01dc 0125     		movs	r5, #1
 5647              	.LVL674:
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5648              		.loc 1 3479 34 discriminator 1 view .LVU1864
 5649 01de EDE7     		b	.L406
 5650              	.LVL675:
 5651              	.L421:
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 5652              		.loc 1 3481 5 is_stmt 1 view .LVU1865
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 5653              		.loc 1 3481 15 is_stmt 0 view .LVU1866
 5654 01e0 F161     		str	r1, [r6, #28]
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 5655              		.loc 1 3482 5 is_stmt 1 view .LVU1867
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 5656              		.loc 1 3482 8 is_stmt 0 view .LVU1868
 5657 01e2 002D     		cmp	r5, #0
 5658 01e4 7FF41EAF 		bne	.L396
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 5659              		.loc 1 3482 29 discriminator 1 view .LVU1869
 5660 01e8 C4F30803 		ubfx	r3, r4, #0, #9
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 5661              		.loc 1 3482 22 discriminator 1 view .LVU1870
 5662 01ec 7BB1     		cbz	r3, .L404
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 5663              		.loc 1 3483 6 is_stmt 1 view .LVU1871
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 5664              		.loc 1 3483 16 is_stmt 0 view .LVU1872
 5665 01ee 039F     		ldr	r7, [sp, #12]
 5666              	.LVL676:
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 5667              		.loc 1 3483 16 view .LVU1873
 5668 01f0 3846     		mov	r0, r7
 5669 01f2 FFF7FEFF 		bl	clust2sect
 5670              	.LVL677:
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 5671              		.loc 1 3483 9 discriminator 1 view .LVU1874
 5672 01f6 08B9     		cbnz	r0, .L427
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 5673              		.loc 1 3484 11 view .LVU1875
 5674 01f8 0225     		movs	r5, #2
ARM GAS  C:\usertemp\ccmutrvj.s 			page 231


 5675              	.LVL678:
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 5676              		.loc 1 3484 11 view .LVU1876
 5677 01fa 13E7     		b	.L396
 5678              	.LVL679:
 5679              	.L427:
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 5680              		.loc 1 3486 7 is_stmt 1 view .LVU1877
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 5681              		.loc 1 3486 21 is_stmt 0 view .LVU1878
 5682 01fc 00EB5422 		add	r2, r0, r4, lsr #9
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 5683              		.loc 1 3486 16 view .LVU1879
 5684 0200 3262     		str	r2, [r6, #32]
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5685              		.loc 1 3488 7 is_stmt 1 view .LVU1880
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5686              		.loc 1 3488 11 is_stmt 0 view .LVU1881
 5687 0202 0123     		movs	r3, #1
 5688 0204 4146     		mov	r1, r8
 5689 0206 7878     		ldrb	r0, [r7, #1]	@ zero_extendqisi2
 5690              	.LVL680:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5691              		.loc 1 3488 11 view .LVU1882
 5692 0208 FFF7FEFF 		bl	disk_read
 5693              	.LVL681:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5694              		.loc 1 3488 10 discriminator 1 view .LVU1883
 5695 020c 28B9     		cbnz	r0, .L420
 5696              	.LVL682:
 5697              	.L404:
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5698              		.loc 1 3496 16 is_stmt 1 view .LVU1884
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5699              		.loc 1 3499 2 view .LVU1885
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5700              		.loc 1 3499 5 is_stmt 0 view .LVU1886
 5701 020e 002D     		cmp	r5, #0
 5702 0210 3FF40AAF 		beq	.L395
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5703              		.loc 1 3499 5 view .LVU1887
 5704 0214 06E7     		b	.L396
 5705              	.LVL683:
 5706              	.L414:
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5707              		.loc 1 3414 10 view .LVU1888
 5708 0216 0425     		movs	r5, #4
 5709              	.LVL684:
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5710              		.loc 1 3414 10 view .LVU1889
 5711 0218 04E7     		b	.L396
 5712              	.LVL685:
 5713              	.L420:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5714              		.loc 1 3488 67 discriminator 1 view .LVU1890
 5715 021a 0125     		movs	r5, #1
 5716              	.LVL686:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 232


3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5717              		.loc 1 3488 67 discriminator 1 view .LVU1891
 5718 021c 02E7     		b	.L396
 5719              	.LVL687:
 5720              	.L409:
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5721              		.loc 1 3324 18 discriminator 1 view .LVU1892
 5722 021e 0925     		movs	r5, #9
 5723 0220 02E7     		b	.L395
 5724              		.cfi_endproc
 5725              	.LFE372:
 5727              		.section	.text.f_read,"ax",%progbits
 5728              		.align	1
 5729              		.global	f_read
 5730              		.syntax unified
 5731              		.thumb
 5732              		.thumb_func
 5734              	f_read:
 5735              	.LVL688:
 5736              	.LFB373:
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5737              		.loc 1 3517 1 is_stmt 1 view -0
 5738              		.cfi_startproc
 5739              		@ args = 0, pretend = 0, frame = 16
 5740              		@ frame_needed = 0, uses_anonymous_args = 0
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5741              		.loc 1 3517 1 is_stmt 0 view .LVU1894
 5742 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5743              	.LCFI46:
 5744              		.cfi_def_cfa_offset 36
 5745              		.cfi_offset 4, -36
 5746              		.cfi_offset 5, -32
 5747              		.cfi_offset 6, -28
 5748              		.cfi_offset 7, -24
 5749              		.cfi_offset 8, -20
 5750              		.cfi_offset 9, -16
 5751              		.cfi_offset 10, -12
 5752              		.cfi_offset 11, -8
 5753              		.cfi_offset 14, -4
 5754 0004 85B0     		sub	sp, sp, #20
 5755              	.LCFI47:
 5756              		.cfi_def_cfa_offset 56
 5757 0006 0446     		mov	r4, r0
 5758 0008 0E46     		mov	r6, r1
 5759 000a 1746     		mov	r7, r2
 5760 000c 9846     		mov	r8, r3
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 5761              		.loc 1 3518 2 is_stmt 1 view .LVU1895
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 5762              		.loc 1 3519 2 view .LVU1896
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
 5763              		.loc 1 3520 2 view .LVU1897
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
 5764              		.loc 1 3521 2 view .LVU1898
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
 5765              		.loc 1 3522 2 view .LVU1899
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 233


 5766              		.loc 1 3523 2 view .LVU1900
 5767              	.LVL689:
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 5768              		.loc 1 3526 2 view .LVU1901
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 5769              		.loc 1 3526 6 is_stmt 0 view .LVU1902
 5770 000e 0023     		movs	r3, #0
 5771              	.LVL690:
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 5772              		.loc 1 3526 6 view .LVU1903
 5773 0010 C8F80030 		str	r3, [r8]
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 5774              		.loc 1 3527 2 is_stmt 1 view .LVU1904
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 5775              		.loc 1 3527 8 is_stmt 0 view .LVU1905
 5776 0014 03A9     		add	r1, sp, #12
 5777              	.LVL691:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 5778              		.loc 1 3527 8 view .LVU1906
 5779 0016 FFF7FEFF 		bl	validate
 5780              	.LVL692:
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 5781              		.loc 1 3528 2 is_stmt 1 view .LVU1907
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 5782              		.loc 1 3528 5 is_stmt 0 view .LVU1908
 5783 001a 0190     		str	r0, [sp, #4]
 5784 001c 0028     		cmp	r0, #0
 5785 001e 40F0AE80 		bne	.L431
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 5786              		.loc 1 3528 27 discriminator 2 view .LVU1909
 5787 0022 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 5788 0024 0193     		str	r3, [sp, #4]
 5789              	.LVL693:
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 5790              		.loc 1 3528 19 discriminator 2 view .LVU1910
 5791 0026 002B     		cmp	r3, #0
 5792 0028 40F0A980 		bne	.L431
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 5793              		.loc 1 3529 2 is_stmt 1 view .LVU1911
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 5794              		.loc 1 3529 10 is_stmt 0 view .LVU1912
 5795 002c 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 5796              	.LVL694:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 5797              		.loc 1 3529 5 view .LVU1913
 5798 002e 13F0010F 		tst	r3, #1
 5799 0032 00F0C380 		beq	.L453
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 5800              		.loc 1 3530 2 is_stmt 1 view .LVU1914
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 5801              		.loc 1 3530 18 is_stmt 0 view .LVU1915
 5802 0036 E568     		ldr	r5, [r4, #12]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 5803              		.loc 1 3530 31 view .LVU1916
 5804 0038 A369     		ldr	r3, [r4, #24]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 5805              		.loc 1 3530 9 view .LVU1917
ARM GAS  C:\usertemp\ccmutrvj.s 			page 234


 5806 003a ED1A     		subs	r5, r5, r3
 5807              	.LVL695:
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5808              		.loc 1 3531 2 is_stmt 1 view .LVU1918
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5809              		.loc 1 3531 5 is_stmt 0 view .LVU1919
 5810 003c BD42     		cmp	r5, r7
 5811 003e 62D3     		bcc	.L451
 5812 0040 3D46     		mov	r5, r7
 5813              	.LVL696:
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5814              		.loc 1 3531 5 view .LVU1920
 5815 0042 60E0     		b	.L451
 5816              	.LVL697:
 5817              	.L436:
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 5818              		.loc 1 3542 6 is_stmt 1 view .LVU1921
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 5819              		.loc 1 3542 12 is_stmt 0 view .LVU1922
 5820 0044 E36A     		ldr	r3, [r4, #44]
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 5821              		.loc 1 3542 9 view .LVU1923
 5822 0046 1BB1     		cbz	r3, .L438
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 5823              		.loc 1 3543 7 is_stmt 1 view .LVU1924
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 5824              		.loc 1 3543 14 is_stmt 0 view .LVU1925
 5825 0048 2046     		mov	r0, r4
 5826 004a FFF7FEFF 		bl	clmt_clust
 5827              	.LVL698:
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 5828              		.loc 1 3543 14 view .LVU1926
 5829 004e 6AE0     		b	.L437
 5830              	.LVL699:
 5831              	.L438:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5832              		.loc 1 3547 7 is_stmt 1 view .LVU1927
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5833              		.loc 1 3547 14 is_stmt 0 view .LVU1928
 5834 0050 E169     		ldr	r1, [r4, #28]
 5835 0052 2046     		mov	r0, r4
 5836 0054 FFF7FEFF 		bl	get_fat
 5837              	.LVL700:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5838              		.loc 1 3547 14 view .LVU1929
 5839 0058 65E0     		b	.L437
 5840              	.L460:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 5841              		.loc 1 3550 19 is_stmt 1 discriminator 1 view .LVU1930
 5842 005a 4FF0020A 		mov	r10, #2
 5843 005e 84F815A0 		strb	r10, [r4, #21]
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 5844              		.loc 1 3550 19 discriminator 1 view .LVU1931
 5845 0062 CDF804A0 		str	r10, [sp, #4]
 5846              	.LVL701:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 5847              		.loc 1 3550 19 is_stmt 0 view .LVU1932
ARM GAS  C:\usertemp\ccmutrvj.s 			page 235


 5848 0066 8AE0     		b	.L431
 5849              	.LVL702:
 5850              	.L461:
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 5851              		.loc 1 3551 29 is_stmt 1 discriminator 1 view .LVU1933
 5852 0068 4FF0010A 		mov	r10, #1
 5853 006c 84F815A0 		strb	r10, [r4, #21]
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 5854              		.loc 1 3551 29 discriminator 1 view .LVU1934
 5855 0070 CDF804A0 		str	r10, [sp, #4]
 5856              	.LVL703:
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 5857              		.loc 1 3551 29 is_stmt 0 view .LVU1935
 5858 0074 83E0     		b	.L431
 5859              	.LVL704:
 5860              	.L462:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5861              		.loc 1 3555 15 is_stmt 1 discriminator 1 view .LVU1936
 5862 0076 4FF0020A 		mov	r10, #2
 5863 007a 84F815A0 		strb	r10, [r4, #21]
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5864              		.loc 1 3555 15 discriminator 1 view .LVU1937
 5865 007e CDF804A0 		str	r10, [sp, #4]
 5866              	.LVL705:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 5867              		.loc 1 3555 15 is_stmt 0 view .LVU1938
 5868 0082 7CE0     		b	.L431
 5869              	.LVL706:
 5870              	.L444:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 5871              		.loc 1 3562 78 is_stmt 1 discriminator 2 view .LVU1939
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 5872              		.loc 1 3569 5 view .LVU1940
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 5873              		.loc 1 3569 9 is_stmt 0 view .LVU1941
 5874 0084 94F91430 		ldrsb	r3, [r4, #20]
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 5875              		.loc 1 3569 8 view .LVU1942
 5876 0088 002B     		cmp	r3, #0
 5877 008a 02DB     		blt	.L457
 5878              	.L445:
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 5879              		.loc 1 3574 5 is_stmt 1 view .LVU1943
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 5880              		.loc 1 3574 10 is_stmt 0 view .LVU1944
 5881 008c 4FEA4A27 		lsl	r7, r10, #9
 5882              	.LVL707:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5883              		.loc 1 3575 5 is_stmt 1 view .LVU1945
 5884 0090 2FE0     		b	.L446
 5885              	.LVL708:
 5886              	.L457:
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 5887              		.loc 1 3569 36 is_stmt 0 discriminator 1 view .LVU1946
 5888 0092 206A     		ldr	r0, [r4, #32]
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 5889              		.loc 1 3569 43 discriminator 1 view .LVU1947
ARM GAS  C:\usertemp\ccmutrvj.s 			page 236


 5890 0094 A0EB0900 		sub	r0, r0, r9
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 5891              		.loc 1 3569 31 discriminator 1 view .LVU1948
 5892 0098 5045     		cmp	r0, r10
 5893 009a F7D2     		bcs	.L445
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5894              		.loc 1 3570 6 is_stmt 1 view .LVU1949
 5895 009c 4FF40072 		mov	r2, #512
 5896 00a0 04F13001 		add	r1, r4, #48
 5897 00a4 06EB4020 		add	r0, r6, r0, lsl #9
 5898 00a8 FFF7FEFF 		bl	mem_cpy
 5899              	.LVL709:
 5900 00ac EEE7     		b	.L445
 5901              	.L442:
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 5902              		.loc 1 3578 4 view .LVU1950
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 5903              		.loc 1 3578 10 is_stmt 0 view .LVU1951
 5904 00ae 226A     		ldr	r2, [r4, #32]
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 5905              		.loc 1 3578 7 view .LVU1952
 5906 00b0 4A45     		cmp	r2, r9
 5907 00b2 0DD0     		beq	.L447
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 5908              		.loc 1 3580 5 is_stmt 1 view .LVU1953
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 5909              		.loc 1 3580 9 is_stmt 0 view .LVU1954
 5910 00b4 94F91430 		ldrsb	r3, [r4, #20]
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 5911              		.loc 1 3580 8 view .LVU1955
 5912 00b8 002B     		cmp	r3, #0
 5913 00ba 64DB     		blt	.L458
 5914              	.L448:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5915              		.loc 1 3585 5 is_stmt 1 view .LVU1956
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5916              		.loc 1 3585 9 is_stmt 0 view .LVU1957
 5917 00bc 0123     		movs	r3, #1
 5918 00be 4A46     		mov	r2, r9
 5919 00c0 04F13001 		add	r1, r4, #48
 5920 00c4 0398     		ldr	r0, [sp, #12]
 5921 00c6 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 5922 00c8 FFF7FEFF 		bl	disk_read
 5923              	.LVL710:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5924              		.loc 1 3585 8 discriminator 1 view .LVU1958
 5925 00cc 0028     		cmp	r0, #0
 5926 00ce 6ED1     		bne	.L459
 5927              	.L447:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5928              		.loc 1 3585 79 is_stmt 1 discriminator 2 view .LVU1959
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5929              		.loc 1 3588 4 view .LVU1960
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5930              		.loc 1 3588 13 is_stmt 0 view .LVU1961
 5931 00d0 C4F82090 		str	r9, [r4, #32]
 5932              	.LVL711:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 237


 5933              	.L434:
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 5934              		.loc 1 3590 3 is_stmt 1 view .LVU1962
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 5935              		.loc 1 3590 27 is_stmt 0 view .LVU1963
 5936 00d4 A369     		ldr	r3, [r4, #24]
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 5937              		.loc 1 3590 34 view .LVU1964
 5938 00d6 C3F30803 		ubfx	r3, r3, #0, #9
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 5939              		.loc 1 3590 8 view .LVU1965
 5940 00da C3F50077 		rsb	r7, r3, #512
 5941              	.LVL712:
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 5942              		.loc 1 3591 3 is_stmt 1 view .LVU1966
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 5943              		.loc 1 3591 6 is_stmt 0 view .LVU1967
 5944 00de BD42     		cmp	r5, r7
 5945 00e0 00D2     		bcs	.L450
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 5946              		.loc 1 3591 24 discriminator 1 view .LVU1968
 5947 00e2 2F46     		mov	r7, r5
 5948              	.LVL713:
 5949              	.L450:
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5950              		.loc 1 3596 3 is_stmt 1 view .LVU1969
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5951              		.loc 1 3596 18 is_stmt 0 view .LVU1970
 5952 00e4 04F13001 		add	r1, r4, #48
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5953              		.loc 1 3596 3 view .LVU1971
 5954 00e8 3A46     		mov	r2, r7
 5955 00ea 1944     		add	r1, r1, r3
 5956 00ec 3046     		mov	r0, r6
 5957 00ee FFF7FEFF 		bl	mem_cpy
 5958              	.LVL714:
 5959              	.L446:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 5960              		.loc 1 3534 47 is_stmt 1 view .LVU1972
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 5961              		.loc 1 3534 9 is_stmt 0 view .LVU1973
 5962 00f2 3E44     		add	r6, r6, r7
 5963              	.LVL715:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 5964              		.loc 1 3534 20 view .LVU1974
 5965 00f4 A369     		ldr	r3, [r4, #24]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 5966              		.loc 1 3534 27 view .LVU1975
 5967 00f6 3B44     		add	r3, r3, r7
 5968 00f8 A361     		str	r3, [r4, #24]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 5969              		.loc 1 3534 36 view .LVU1976
 5970 00fa D8F80030 		ldr	r3, [r8]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 5971              		.loc 1 3534 40 view .LVU1977
 5972 00fe 3B44     		add	r3, r3, r7
 5973 0100 C8F80030 		str	r3, [r8]
ARM GAS  C:\usertemp\ccmutrvj.s 			page 238


3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 5974              		.loc 1 3534 53 view .LVU1978
 5975 0104 ED1B     		subs	r5, r5, r7
 5976              	.LVL716:
 5977              	.L451:
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 5978              		.loc 1 3533 11 is_stmt 1 view .LVU1979
 5979 0106 002D     		cmp	r5, #0
 5980 0108 39D0     		beq	.L431
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 5981              		.loc 1 3535 3 view .LVU1980
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 5982              		.loc 1 3535 9 is_stmt 0 view .LVU1981
 5983 010a A169     		ldr	r1, [r4, #24]
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 5984              		.loc 1 3535 16 view .LVU1982
 5985 010c C1F30803 		ubfx	r3, r1, #0, #9
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 5986              		.loc 1 3535 6 view .LVU1983
 5987 0110 002B     		cmp	r3, #0
 5988 0112 DFD1     		bne	.L434
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 5989              		.loc 1 3536 4 is_stmt 1 view .LVU1984
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 5990              		.loc 1 3536 42 is_stmt 0 view .LVU1985
 5991 0114 039B     		ldr	r3, [sp, #12]
 5992 0116 5F89     		ldrh	r7, [r3, #10]
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 5993              		.loc 1 3536 50 view .LVU1986
 5994 0118 013F     		subs	r7, r7, #1
 5995              	.LVL717:
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 5996              		.loc 1 3537 4 is_stmt 1 view .LVU1987
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 5997              		.loc 1 3537 7 is_stmt 0 view .LVU1988
 5998 011a 17EA5127 		ands	r7, r7, r1, lsr #9
 5999              	.LVL718:
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 6000              		.loc 1 3537 7 view .LVU1989
 6001 011e 08D1     		bne	.L435
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 6002              		.loc 1 3538 5 is_stmt 1 view .LVU1990
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 6003              		.loc 1 3538 8 is_stmt 0 view .LVU1991
 6004 0120 0029     		cmp	r1, #0
 6005 0122 8FD1     		bne	.L436
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 6006              		.loc 1 3539 6 is_stmt 1 view .LVU1992
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 6007              		.loc 1 3539 11 is_stmt 0 view .LVU1993
 6008 0124 A068     		ldr	r0, [r4, #8]
 6009              	.LVL719:
 6010              	.L437:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6011              		.loc 1 3550 5 is_stmt 1 view .LVU1994
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6012              		.loc 1 3550 8 is_stmt 0 view .LVU1995
ARM GAS  C:\usertemp\ccmutrvj.s 			page 239


 6013 0126 0128     		cmp	r0, #1
 6014 0128 97D9     		bls	.L460
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6015              		.loc 1 3550 40 is_stmt 1 discriminator 2 view .LVU1996
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6016              		.loc 1 3551 5 view .LVU1997
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6017              		.loc 1 3551 8 is_stmt 0 view .LVU1998
 6018 012a B0F1FF3F 		cmp	r0, #-1
 6019 012e 9BD0     		beq	.L461
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6020              		.loc 1 3551 51 is_stmt 1 discriminator 2 view .LVU1999
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6021              		.loc 1 3552 5 view .LVU2000
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6022              		.loc 1 3552 15 is_stmt 0 view .LVU2001
 6023 0130 E061     		str	r0, [r4, #28]
 6024              	.LVL720:
 6025              	.L435:
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 6026              		.loc 1 3554 4 is_stmt 1 view .LVU2002
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 6027              		.loc 1 3554 11 is_stmt 0 view .LVU2003
 6028 0132 DDF80CB0 		ldr	fp, [sp, #12]
 6029 0136 E169     		ldr	r1, [r4, #28]
 6030 0138 5846     		mov	r0, fp
 6031 013a FFF7FEFF 		bl	clust2sect
 6032              	.LVL721:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6033              		.loc 1 3555 4 is_stmt 1 view .LVU2004
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6034              		.loc 1 3555 7 is_stmt 0 view .LVU2005
 6035 013e 8146     		mov	r9, r0
 6036 0140 0028     		cmp	r0, #0
 6037 0142 98D0     		beq	.L462
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6038              		.loc 1 3555 36 is_stmt 1 discriminator 2 view .LVU2006
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 6039              		.loc 1 3556 4 view .LVU2007
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 6040              		.loc 1 3556 9 is_stmt 0 view .LVU2008
 6041 0144 B944     		add	r9, r9, r7
 6042              	.LVL722:
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 6043              		.loc 1 3557 4 is_stmt 1 view .LVU2009
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 6044              		.loc 1 3557 7 is_stmt 0 view .LVU2010
 6045 0146 4FEA552A 		lsr	r10, r5, #9
 6046              	.LVL723:
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 6047              		.loc 1 3558 4 is_stmt 1 view .LVU2011
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 6048              		.loc 1 3558 7 is_stmt 0 view .LVU2012
 6049 014a B5F5007F 		cmp	r5, #512
 6050 014e AED3     		bcc	.L442
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6051              		.loc 1 3559 5 is_stmt 1 view .LVU2013
ARM GAS  C:\usertemp\ccmutrvj.s 			page 240


3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6052              		.loc 1 3559 15 is_stmt 0 view .LVU2014
 6053 0150 07EB0A03 		add	r3, r7, r10
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6054              		.loc 1 3559 24 view .LVU2015
 6055 0154 BBF80A20 		ldrh	r2, [fp, #10]
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6056              		.loc 1 3559 8 view .LVU2016
 6057 0158 9342     		cmp	r3, r2
 6058 015a 01D9     		bls	.L443
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6059              		.loc 1 3560 6 is_stmt 1 view .LVU2017
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6060              		.loc 1 3560 9 is_stmt 0 view .LVU2018
 6061 015c A2EB070A 		sub	r10, r2, r7
 6062              	.LVL724:
 6063              	.L443:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6064              		.loc 1 3562 5 is_stmt 1 view .LVU2019
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6065              		.loc 1 3562 9 is_stmt 0 view .LVU2020
 6066 0160 5346     		mov	r3, r10
 6067 0162 4A46     		mov	r2, r9
 6068 0164 3146     		mov	r1, r6
 6069 0166 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 6070 016a FFF7FEFF 		bl	disk_read
 6071              	.LVL725:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6072              		.loc 1 3562 8 discriminator 1 view .LVU2021
 6073 016e 0028     		cmp	r0, #0
 6074 0170 88D0     		beq	.L444
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6075              		.loc 1 3562 56 is_stmt 1 discriminator 1 view .LVU2022
 6076 0172 4FF0010A 		mov	r10, #1
 6077              	.LVL726:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6078              		.loc 1 3562 56 is_stmt 0 discriminator 1 view .LVU2023
 6079 0176 84F815A0 		strb	r10, [r4, #21]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6080              		.loc 1 3562 56 is_stmt 1 discriminator 1 view .LVU2024
 6081 017a CDF804A0 		str	r10, [sp, #4]
 6082              	.LVL727:
 6083              	.L431:
3601:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6084              		.loc 1 3601 1 is_stmt 0 view .LVU2025
 6085 017e 0198     		ldr	r0, [sp, #4]
 6086 0180 05B0     		add	sp, sp, #20
 6087              	.LCFI48:
 6088              		.cfi_remember_state
 6089              		.cfi_def_cfa_offset 36
 6090              		@ sp needed
 6091 0182 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6092              	.LVL728:
 6093              	.L458:
 6094              	.LCFI49:
 6095              		.cfi_restore_state
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 241


 6096              		.loc 1 3581 6 is_stmt 1 view .LVU2026
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6097              		.loc 1 3581 10 is_stmt 0 view .LVU2027
 6098 0186 0123     		movs	r3, #1
 6099 0188 04F13001 		add	r1, r4, #48
 6100 018c 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 6101 0190 FFF7FEFF 		bl	disk_write
 6102              	.LVL729:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6103              		.loc 1 3581 9 discriminator 1 view .LVU2028
 6104 0194 20B9     		cbnz	r0, .L463
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6105              		.loc 1 3581 85 is_stmt 1 discriminator 2 view .LVU2029
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6106              		.loc 1 3582 6 view .LVU2030
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6107              		.loc 1 3582 8 is_stmt 0 view .LVU2031
 6108 0196 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6109              		.loc 1 3582 15 view .LVU2032
 6110 0198 03F07F03 		and	r3, r3, #127
 6111 019c 2375     		strb	r3, [r4, #20]
 6112 019e 8DE7     		b	.L448
 6113              	.L463:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6114              		.loc 1 3581 63 is_stmt 1 discriminator 1 view .LVU2033
 6115 01a0 4FF0010A 		mov	r10, #1
 6116              	.LVL730:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6117              		.loc 1 3581 63 is_stmt 0 discriminator 1 view .LVU2034
 6118 01a4 84F815A0 		strb	r10, [r4, #21]
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6119              		.loc 1 3581 63 is_stmt 1 discriminator 1 view .LVU2035
 6120 01a8 CDF804A0 		str	r10, [sp, #4]
 6121              	.LVL731:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6122              		.loc 1 3581 63 is_stmt 0 view .LVU2036
 6123 01ac E7E7     		b	.L431
 6124              	.LVL732:
 6125              	.L459:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6126              		.loc 1 3585 57 is_stmt 1 discriminator 1 view .LVU2037
 6127 01ae 4FF0010A 		mov	r10, #1
 6128              	.LVL733:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6129              		.loc 1 3585 57 is_stmt 0 discriminator 1 view .LVU2038
 6130 01b2 84F815A0 		strb	r10, [r4, #21]
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6131              		.loc 1 3585 57 is_stmt 1 discriminator 1 view .LVU2039
 6132 01b6 CDF804A0 		str	r10, [sp, #4]
 6133              	.LVL734:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6134              		.loc 1 3585 57 is_stmt 0 view .LVU2040
 6135 01ba E0E7     		b	.L431
 6136              	.LVL735:
 6137              	.L453:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 242


 6138              		.loc 1 3529 29 discriminator 1 view .LVU2041
 6139 01bc 0723     		movs	r3, #7
 6140 01be 0193     		str	r3, [sp, #4]
 6141              	.LVL736:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 6142              		.loc 1 3529 29 discriminator 1 view .LVU2042
 6143 01c0 DDE7     		b	.L431
 6144              		.cfi_endproc
 6145              	.LFE373:
 6147              		.section	.text.f_write,"ax",%progbits
 6148              		.align	1
 6149              		.global	f_write
 6150              		.syntax unified
 6151              		.thumb
 6152              		.thumb_func
 6154              	f_write:
 6155              	.LVL737:
 6156              	.LFB374:
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6157              		.loc 1 3617 1 is_stmt 1 view -0
 6158              		.cfi_startproc
 6159              		@ args = 0, pretend = 0, frame = 16
 6160              		@ frame_needed = 0, uses_anonymous_args = 0
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6161              		.loc 1 3617 1 is_stmt 0 view .LVU2044
 6162 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 6163              	.LCFI50:
 6164              		.cfi_def_cfa_offset 36
 6165              		.cfi_offset 4, -36
 6166              		.cfi_offset 5, -32
 6167              		.cfi_offset 6, -28
 6168              		.cfi_offset 7, -24
 6169              		.cfi_offset 8, -20
 6170              		.cfi_offset 9, -16
 6171              		.cfi_offset 10, -12
 6172              		.cfi_offset 11, -8
 6173              		.cfi_offset 14, -4
 6174 0004 85B0     		sub	sp, sp, #20
 6175              	.LCFI51:
 6176              		.cfi_def_cfa_offset 56
 6177 0006 0446     		mov	r4, r0
 6178 0008 0E46     		mov	r6, r1
 6179 000a 1546     		mov	r5, r2
 6180 000c 9846     		mov	r8, r3
3618:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 6181              		.loc 1 3618 2 is_stmt 1 view .LVU2045
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 6182              		.loc 1 3619 2 view .LVU2046
3620:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
 6183              		.loc 1 3620 2 view .LVU2047
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
 6184              		.loc 1 3621 2 view .LVU2048
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6185              		.loc 1 3622 2 view .LVU2049
 6186              	.LVL738:
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 6187              		.loc 1 3625 2 view .LVU2050
ARM GAS  C:\usertemp\ccmutrvj.s 			page 243


3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 6188              		.loc 1 3625 6 is_stmt 0 view .LVU2051
 6189 000e 0023     		movs	r3, #0
 6190              	.LVL739:
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 6191              		.loc 1 3625 6 view .LVU2052
 6192 0010 C8F80030 		str	r3, [r8]
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6193              		.loc 1 3626 2 is_stmt 1 view .LVU2053
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6194              		.loc 1 3626 8 is_stmt 0 view .LVU2054
 6195 0014 03A9     		add	r1, sp, #12
 6196              	.LVL740:
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 6197              		.loc 1 3626 8 view .LVU2055
 6198 0016 FFF7FEFF 		bl	validate
 6199              	.LVL741:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 6200              		.loc 1 3627 2 is_stmt 1 view .LVU2056
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 6201              		.loc 1 3627 5 is_stmt 0 view .LVU2057
 6202 001a 0190     		str	r0, [sp, #4]
 6203 001c 0028     		cmp	r0, #0
 6204 001e 49D1     		bne	.L467
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 6205              		.loc 1 3627 27 discriminator 2 view .LVU2058
 6206 0020 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 6207 0022 0193     		str	r3, [sp, #4]
 6208              	.LVL742:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 6209              		.loc 1 3627 19 discriminator 2 view .LVU2059
 6210 0024 002B     		cmp	r3, #0
 6211 0026 45D1     		bne	.L467
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6212              		.loc 1 3628 2 is_stmt 1 view .LVU2060
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6213              		.loc 1 3628 10 is_stmt 0 view .LVU2061
 6214 0028 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 6215              	.LVL743:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6216              		.loc 1 3628 5 view .LVU2062
 6217 002a 13F0020F 		tst	r3, #2
 6218 002e 00F0E280 		beq	.L490
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 6219              		.loc 1 3631 2 is_stmt 1 view .LVU2063
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 6220              		.loc 1 3631 59 is_stmt 0 view .LVU2064
 6221 0032 A369     		ldr	r3, [r4, #24]
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 6222              		.loc 1 3631 5 view .LVU2065
 6223 0034 EB42     		cmn	r3, r5
 6224 0036 C0F0B080 		bcc	.L488
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6225              		.loc 1 3632 3 is_stmt 1 view .LVU2066
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6226              		.loc 1 3632 7 is_stmt 0 view .LVU2067
 6227 003a DD43     		mvns	r5, r3
ARM GAS  C:\usertemp\ccmutrvj.s 			page 244


 6228              	.LVL744:
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6229              		.loc 1 3632 7 view .LVU2068
 6230 003c ADE0     		b	.L488
 6231              	.LVL745:
 6232              	.L471:
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6233              		.loc 1 3647 6 is_stmt 1 view .LVU2069
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6234              		.loc 1 3647 12 is_stmt 0 view .LVU2070
 6235 003e E36A     		ldr	r3, [r4, #44]
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6236              		.loc 1 3647 9 view .LVU2071
 6237 0040 002B     		cmp	r3, #0
 6238 0042 3BD0     		beq	.L474
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 6239              		.loc 1 3648 7 is_stmt 1 view .LVU2072
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 6240              		.loc 1 3648 14 is_stmt 0 view .LVU2073
 6241 0044 2046     		mov	r0, r4
 6242 0046 FFF7FEFF 		bl	clmt_clust
 6243              	.LVL746:
 6244              	.L473:
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 6245              		.loc 1 3655 5 is_stmt 1 view .LVU2074
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 6246              		.loc 1 3655 8 is_stmt 0 view .LVU2075
 6247 004a 0028     		cmp	r0, #0
 6248 004c 00F0CE80 		beq	.L475
 6249              	.L472:
 6250              	.LVL747:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6251              		.loc 1 3656 5 is_stmt 1 view .LVU2076
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6252              		.loc 1 3656 8 is_stmt 0 view .LVU2077
 6253 0050 0128     		cmp	r0, #1
 6254 0052 38D0     		beq	.L493
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6255              		.loc 1 3656 41 is_stmt 1 discriminator 2 view .LVU2078
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6256              		.loc 1 3657 5 view .LVU2079
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6257              		.loc 1 3657 8 is_stmt 0 view .LVU2080
 6258 0054 B0F1FF3F 		cmp	r0, #-1
 6259 0058 3CD0     		beq	.L494
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6260              		.loc 1 3657 51 is_stmt 1 discriminator 2 view .LVU2081
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 6261              		.loc 1 3658 5 view .LVU2082
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 6262              		.loc 1 3658 15 is_stmt 0 view .LVU2083
 6263 005a E061     		str	r0, [r4, #28]
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6264              		.loc 1 3659 5 is_stmt 1 view .LVU2084
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6265              		.loc 1 3659 16 is_stmt 0 view .LVU2085
 6266 005c A368     		ldr	r3, [r4, #8]
ARM GAS  C:\usertemp\ccmutrvj.s 			page 245


3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6267              		.loc 1 3659 8 view .LVU2086
 6268 005e 03B9     		cbnz	r3, .L470
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6269              		.loc 1 3659 30 is_stmt 1 discriminator 1 view .LVU2087
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6270              		.loc 1 3659 45 is_stmt 0 discriminator 1 view .LVU2088
 6271 0060 A060     		str	r0, [r4, #8]
 6272              	.L470:
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6273              		.loc 1 3664 4 is_stmt 1 view .LVU2089
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6274              		.loc 1 3664 8 is_stmt 0 view .LVU2090
 6275 0062 94F91430 		ldrsb	r3, [r4, #20]
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 6276              		.loc 1 3664 7 view .LVU2091
 6277 0066 002B     		cmp	r3, #0
 6278 0068 3BDB     		blt	.L495
 6279              	.L478:
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 6280              		.loc 1 3669 4 is_stmt 1 view .LVU2092
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 6281              		.loc 1 3669 11 is_stmt 0 view .LVU2093
 6282 006a DDF80CB0 		ldr	fp, [sp, #12]
 6283 006e E169     		ldr	r1, [r4, #28]
 6284 0070 5846     		mov	r0, fp
 6285 0072 FFF7FEFF 		bl	clust2sect
 6286              	.LVL748:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6287              		.loc 1 3670 4 is_stmt 1 view .LVU2094
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6288              		.loc 1 3670 7 is_stmt 0 view .LVU2095
 6289 0076 8146     		mov	r9, r0
 6290 0078 0028     		cmp	r0, #0
 6291 007a 47D0     		beq	.L496
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6292              		.loc 1 3670 36 is_stmt 1 discriminator 2 view .LVU2096
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 6293              		.loc 1 3671 4 view .LVU2097
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 6294              		.loc 1 3671 9 is_stmt 0 view .LVU2098
 6295 007c B944     		add	r9, r9, r7
 6296              	.LVL749:
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 6297              		.loc 1 3672 4 is_stmt 1 view .LVU2099
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 6298              		.loc 1 3672 7 is_stmt 0 view .LVU2100
 6299 007e 4FEA552A 		lsr	r10, r5, #9
 6300              	.LVL750:
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 6301              		.loc 1 3673 4 is_stmt 1 view .LVU2101
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 6302              		.loc 1 3673 7 is_stmt 0 view .LVU2102
 6303 0082 B5F5007F 		cmp	r5, #512
 6304 0086 5DD3     		bcc	.L481
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6305              		.loc 1 3674 5 is_stmt 1 view .LVU2103
ARM GAS  C:\usertemp\ccmutrvj.s 			page 246


3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6306              		.loc 1 3674 15 is_stmt 0 view .LVU2104
 6307 0088 07EB0A03 		add	r3, r7, r10
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6308              		.loc 1 3674 24 view .LVU2105
 6309 008c BBF80A20 		ldrh	r2, [fp, #10]
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 6310              		.loc 1 3674 8 view .LVU2106
 6311 0090 9342     		cmp	r3, r2
 6312 0092 01D9     		bls	.L482
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6313              		.loc 1 3675 6 is_stmt 1 view .LVU2107
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6314              		.loc 1 3675 9 is_stmt 0 view .LVU2108
 6315 0094 A2EB070A 		sub	r10, r2, r7
 6316              	.LVL751:
 6317              	.L482:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6318              		.loc 1 3677 5 is_stmt 1 view .LVU2109
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6319              		.loc 1 3677 9 is_stmt 0 view .LVU2110
 6320 0098 5346     		mov	r3, r10
 6321 009a 4A46     		mov	r2, r9
 6322 009c 3146     		mov	r1, r6
 6323 009e 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 6324 00a2 FFF7FEFF 		bl	disk_write
 6325              	.LVL752:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6326              		.loc 1 3677 8 discriminator 1 view .LVU2111
 6327 00a6 C0B3     		cbz	r0, .L483
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6328              		.loc 1 3677 57 is_stmt 1 discriminator 1 view .LVU2112
 6329 00a8 4FF0010A 		mov	r10, #1
 6330              	.LVL753:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6331              		.loc 1 3677 57 is_stmt 0 discriminator 1 view .LVU2113
 6332 00ac 84F815A0 		strb	r10, [r4, #21]
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6333              		.loc 1 3677 57 is_stmt 1 discriminator 1 view .LVU2114
 6334 00b0 CDF804A0 		str	r10, [sp, #4]
 6335              	.LVL754:
 6336              	.L467:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6337              		.loc 1 3723 1 is_stmt 0 view .LVU2115
 6338 00b4 0198     		ldr	r0, [sp, #4]
 6339 00b6 05B0     		add	sp, sp, #20
 6340              	.LCFI52:
 6341              		.cfi_remember_state
 6342              		.cfi_def_cfa_offset 36
 6343              		@ sp needed
 6344 00b8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6345              	.LVL755:
 6346              	.L474:
 6347              	.LCFI53:
 6348              		.cfi_restore_state
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6349              		.loc 1 3652 7 is_stmt 1 view .LVU2116
ARM GAS  C:\usertemp\ccmutrvj.s 			page 247


3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6350              		.loc 1 3652 14 is_stmt 0 view .LVU2117
 6351 00bc E169     		ldr	r1, [r4, #28]
 6352 00be 2046     		mov	r0, r4
 6353 00c0 FFF7FEFF 		bl	create_chain
 6354              	.LVL756:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6355              		.loc 1 3652 14 view .LVU2118
 6356 00c4 C1E7     		b	.L473
 6357              	.LVL757:
 6358              	.L493:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6359              		.loc 1 3656 20 is_stmt 1 discriminator 1 view .LVU2119
 6360 00c6 4FF0020A 		mov	r10, #2
 6361 00ca 84F815A0 		strb	r10, [r4, #21]
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6362              		.loc 1 3656 20 discriminator 1 view .LVU2120
 6363 00ce CDF804A0 		str	r10, [sp, #4]
 6364              	.LVL758:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 6365              		.loc 1 3656 20 is_stmt 0 view .LVU2121
 6366 00d2 EFE7     		b	.L467
 6367              	.LVL759:
 6368              	.L494:
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6369              		.loc 1 3657 29 is_stmt 1 discriminator 1 view .LVU2122
 6370 00d4 4FF0010A 		mov	r10, #1
 6371 00d8 84F815A0 		strb	r10, [r4, #21]
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6372              		.loc 1 3657 29 discriminator 1 view .LVU2123
 6373 00dc CDF804A0 		str	r10, [sp, #4]
 6374              	.LVL760:
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6375              		.loc 1 3657 29 is_stmt 0 view .LVU2124
 6376 00e0 E8E7     		b	.L467
 6377              	.LVL761:
 6378              	.L495:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6379              		.loc 1 3665 5 is_stmt 1 view .LVU2125
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6380              		.loc 1 3665 9 is_stmt 0 view .LVU2126
 6381 00e2 0123     		movs	r3, #1
 6382 00e4 226A     		ldr	r2, [r4, #32]
 6383 00e6 04F13001 		add	r1, r4, #48
 6384 00ea 0398     		ldr	r0, [sp, #12]
 6385 00ec 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 6386 00ee FFF7FEFF 		bl	disk_write
 6387              	.LVL762:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6388              		.loc 1 3665 8 discriminator 1 view .LVU2127
 6389 00f2 20B9     		cbnz	r0, .L497
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6390              		.loc 1 3665 84 is_stmt 1 discriminator 2 view .LVU2128
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6391              		.loc 1 3666 5 view .LVU2129
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6392              		.loc 1 3666 7 is_stmt 0 view .LVU2130
ARM GAS  C:\usertemp\ccmutrvj.s 			page 248


 6393 00f4 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6394              		.loc 1 3666 14 view .LVU2131
 6395 00f6 03F07F03 		and	r3, r3, #127
 6396 00fa 2375     		strb	r3, [r4, #20]
 6397 00fc B5E7     		b	.L478
 6398              	.L497:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6399              		.loc 1 3665 62 is_stmt 1 discriminator 1 view .LVU2132
 6400 00fe 4FF0010A 		mov	r10, #1
 6401 0102 84F815A0 		strb	r10, [r4, #21]
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6402              		.loc 1 3665 62 discriminator 1 view .LVU2133
 6403 0106 CDF804A0 		str	r10, [sp, #4]
 6404              	.LVL763:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6405              		.loc 1 3665 62 is_stmt 0 view .LVU2134
 6406 010a D3E7     		b	.L467
 6407              	.LVL764:
 6408              	.L496:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6409              		.loc 1 3670 15 is_stmt 1 discriminator 1 view .LVU2135
 6410 010c 4FF0020A 		mov	r10, #2
 6411 0110 84F815A0 		strb	r10, [r4, #21]
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6412              		.loc 1 3670 15 discriminator 1 view .LVU2136
 6413 0114 CDF804A0 		str	r10, [sp, #4]
 6414              	.LVL765:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6415              		.loc 1 3670 15 is_stmt 0 view .LVU2137
 6416 0118 CCE7     		b	.L467
 6417              	.LVL766:
 6418              	.L483:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6419              		.loc 1 3677 79 is_stmt 1 discriminator 2 view .LVU2138
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 6420              		.loc 1 3685 5 view .LVU2139
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 6421              		.loc 1 3685 11 is_stmt 0 view .LVU2140
 6422 011a 216A     		ldr	r1, [r4, #32]
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 6423              		.loc 1 3685 18 view .LVU2141
 6424 011c A1EB0901 		sub	r1, r1, r9
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 6425              		.loc 1 3685 8 view .LVU2142
 6426 0120 5145     		cmp	r1, r10
 6427 0122 02D3     		bcc	.L498
 6428              	.L484:
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6429              		.loc 1 3691 5 is_stmt 1 view .LVU2143
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6430              		.loc 1 3691 10 is_stmt 0 view .LVU2144
 6431 0124 4FEA4A27 		lsl	r7, r10, #9
 6432              	.LVL767:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6433              		.loc 1 3692 5 is_stmt 1 view .LVU2145
 6434 0128 28E0     		b	.L485
ARM GAS  C:\usertemp\ccmutrvj.s 			page 249


 6435              	.LVL768:
 6436              	.L498:
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 6437              		.loc 1 3686 6 view .LVU2146
 6438 012a 4FF40072 		mov	r2, #512
 6439 012e 06EB4121 		add	r1, r6, r1, lsl #9
 6440 0132 04F13000 		add	r0, r4, #48
 6441 0136 FFF7FEFF 		bl	mem_cpy
 6442              	.LVL769:
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6443              		.loc 1 3687 6 view .LVU2147
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6444              		.loc 1 3687 8 is_stmt 0 view .LVU2148
 6445 013a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6446              		.loc 1 3687 15 view .LVU2149
 6447 013c 03F07F03 		and	r3, r3, #127
 6448 0140 2375     		strb	r3, [r4, #20]
 6449 0142 EFE7     		b	.L484
 6450              	.L481:
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 6451              		.loc 1 3700 4 is_stmt 1 view .LVU2150
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 6452              		.loc 1 3700 10 is_stmt 0 view .LVU2151
 6453 0144 236A     		ldr	r3, [r4, #32]
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 6454              		.loc 1 3700 7 view .LVU2152
 6455 0146 4B45     		cmp	r3, r9
 6456 0148 03D0     		beq	.L486
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 6457              		.loc 1 3701 7 view .LVU2153
 6458 014a A269     		ldr	r2, [r4, #24]
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 6459              		.loc 1 3701 23 view .LVU2154
 6460 014c E368     		ldr	r3, [r4, #12]
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 6461              		.loc 1 3700 25 discriminator 1 view .LVU2155
 6462 014e 9A42     		cmp	r2, r3
 6463 0150 3BD3     		bcc	.L499
 6464              	.L486:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6465              		.loc 1 3703 28 is_stmt 1 view .LVU2156
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6466              		.loc 1 3706 4 view .LVU2157
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6467              		.loc 1 3706 13 is_stmt 0 view .LVU2158
 6468 0152 C4F82090 		str	r9, [r4, #32]
 6469              	.LVL770:
 6470              	.L469:
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 6471              		.loc 1 3708 3 is_stmt 1 view .LVU2159
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 6472              		.loc 1 3708 27 is_stmt 0 view .LVU2160
 6473 0156 A369     		ldr	r3, [r4, #24]
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 6474              		.loc 1 3708 34 view .LVU2161
 6475 0158 C3F30803 		ubfx	r3, r3, #0, #9
ARM GAS  C:\usertemp\ccmutrvj.s 			page 250


3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 6476              		.loc 1 3708 8 view .LVU2162
 6477 015c C3F50077 		rsb	r7, r3, #512
 6478              	.LVL771:
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6479              		.loc 1 3709 3 is_stmt 1 view .LVU2163
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6480              		.loc 1 3709 6 is_stmt 0 view .LVU2164
 6481 0160 BD42     		cmp	r5, r7
 6482 0162 00D2     		bcs	.L487
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6483              		.loc 1 3709 24 discriminator 1 view .LVU2165
 6484 0164 2F46     		mov	r7, r5
 6485              	.LVL772:
 6486              	.L487:
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 6487              		.loc 1 3715 3 is_stmt 1 view .LVU2166
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 6488              		.loc 1 3715 11 is_stmt 0 view .LVU2167
 6489 0166 04F13000 		add	r0, r4, #48
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 6490              		.loc 1 3715 3 view .LVU2168
 6491 016a 3A46     		mov	r2, r7
 6492 016c 3146     		mov	r1, r6
 6493 016e 1844     		add	r0, r0, r3
 6494 0170 FFF7FEFF 		bl	mem_cpy
 6495              	.LVL773:
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6496              		.loc 1 3716 3 is_stmt 1 view .LVU2169
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6497              		.loc 1 3716 5 is_stmt 0 view .LVU2170
 6498 0174 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6499              		.loc 1 3716 12 view .LVU2171
 6500 0176 63F07F03 		orn	r3, r3, #127
 6501 017a 2375     		strb	r3, [r4, #20]
 6502              	.L485:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 6503              		.loc 1 3636 124 is_stmt 1 view .LVU2172
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 6504              		.loc 1 3636 9 is_stmt 0 view .LVU2173
 6505 017c 3E44     		add	r6, r6, r7
 6506              	.LVL774:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 6507              		.loc 1 3636 20 view .LVU2174
 6508 017e A369     		ldr	r3, [r4, #24]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 6509              		.loc 1 3636 27 view .LVU2175
 6510 0180 3B44     		add	r3, r3, r7
 6511 0182 A361     		str	r3, [r4, #24]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 6512              		.loc 1 3636 73 view .LVU2176
 6513 0184 E268     		ldr	r2, [r4, #12]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 6514              		.loc 1 3636 94 view .LVU2177
 6515 0186 9342     		cmp	r3, r2
 6516 0188 38BF     		it	cc
ARM GAS  C:\usertemp\ccmutrvj.s 			page 251


 6517 018a 1346     		movcc	r3, r2
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 6518              		.loc 1 3636 52 view .LVU2178
 6519 018c E360     		str	r3, [r4, #12]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 6520              		.loc 1 3636 113 view .LVU2179
 6521 018e D8F80030 		ldr	r3, [r8]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 6522              		.loc 1 3636 117 view .LVU2180
 6523 0192 3B44     		add	r3, r3, r7
 6524 0194 C8F80030 		str	r3, [r8]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 6525              		.loc 1 3636 130 view .LVU2181
 6526 0198 ED1B     		subs	r5, r5, r7
 6527              	.LVL775:
 6528              	.L488:
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
 6529              		.loc 1 3635 11 is_stmt 1 view .LVU2182
 6530 019a 3DB3     		cbz	r5, .L475
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 6531              		.loc 1 3637 3 view .LVU2183
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 6532              		.loc 1 3637 9 is_stmt 0 view .LVU2184
 6533 019c A169     		ldr	r1, [r4, #24]
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 6534              		.loc 1 3637 16 view .LVU2185
 6535 019e C1F30803 		ubfx	r3, r1, #0, #9
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 6536              		.loc 1 3637 6 view .LVU2186
 6537 01a2 002B     		cmp	r3, #0
 6538 01a4 D7D1     		bne	.L469
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 6539              		.loc 1 3638 4 is_stmt 1 view .LVU2187
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 6540              		.loc 1 3638 43 is_stmt 0 view .LVU2188
 6541 01a6 039B     		ldr	r3, [sp, #12]
 6542 01a8 5F89     		ldrh	r7, [r3, #10]
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 6543              		.loc 1 3638 51 view .LVU2189
 6544 01aa 013F     		subs	r7, r7, #1
 6545              	.LVL776:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6546              		.loc 1 3639 4 is_stmt 1 view .LVU2190
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6547              		.loc 1 3639 7 is_stmt 0 view .LVU2191
 6548 01ac 17EA5127 		ands	r7, r7, r1, lsr #9
 6549              	.LVL777:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6550              		.loc 1 3639 7 view .LVU2192
 6551 01b0 7FF457AF 		bne	.L470
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 6552              		.loc 1 3640 5 is_stmt 1 view .LVU2193
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 6553              		.loc 1 3640 8 is_stmt 0 view .LVU2194
 6554 01b4 0029     		cmp	r1, #0
 6555 01b6 7FF442AF 		bne	.L471
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 252


 6556              		.loc 1 3641 6 is_stmt 1 view .LVU2195
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 6557              		.loc 1 3641 11 is_stmt 0 view .LVU2196
 6558 01ba A068     		ldr	r0, [r4, #8]
 6559              	.LVL778:
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
 6560              		.loc 1 3642 6 is_stmt 1 view .LVU2197
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
 6561              		.loc 1 3642 9 is_stmt 0 view .LVU2198
 6562 01bc 0028     		cmp	r0, #0
 6563 01be 7FF447AF 		bne	.L472
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6564              		.loc 1 3643 7 is_stmt 1 view .LVU2199
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6565              		.loc 1 3643 14 is_stmt 0 view .LVU2200
 6566 01c2 2046     		mov	r0, r4
 6567              	.LVL779:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6568              		.loc 1 3643 14 view .LVU2201
 6569 01c4 FFF7FEFF 		bl	create_chain
 6570              	.LVL780:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6571              		.loc 1 3643 14 view .LVU2202
 6572 01c8 3FE7     		b	.L473
 6573              	.LVL781:
 6574              	.L499:
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
 6575              		.loc 1 3702 5 view .LVU2203
 6576 01ca 0123     		movs	r3, #1
 6577 01cc 4A46     		mov	r2, r9
 6578 01ce 04F13001 		add	r1, r4, #48
 6579 01d2 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 6580 01d6 FFF7FEFF 		bl	disk_read
 6581              	.LVL782:
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 6582              		.loc 1 3701 32 view .LVU2204
 6583 01da 0028     		cmp	r0, #0
 6584 01dc B9D0     		beq	.L486
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6585              		.loc 1 3703 6 is_stmt 1 view .LVU2205
 6586 01de 4FF0010A 		mov	r10, #1
 6587              	.LVL783:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6588              		.loc 1 3703 6 is_stmt 0 view .LVU2206
 6589 01e2 84F815A0 		strb	r10, [r4, #21]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6590              		.loc 1 3703 6 is_stmt 1 view .LVU2207
 6591 01e6 CDF804A0 		str	r10, [sp, #4]
 6592              	.LVL784:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6593              		.loc 1 3703 6 is_stmt 0 view .LVU2208
 6594 01ea 63E7     		b	.L467
 6595              	.LVL785:
 6596              	.L475:
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6597              		.loc 1 3720 2 is_stmt 1 view .LVU2209
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 253


 6598              		.loc 1 3720 4 is_stmt 0 view .LVU2210
 6599 01ec 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6600              		.loc 1 3720 11 view .LVU2211
 6601 01ee 43F04003 		orr	r3, r3, #64
 6602 01f2 2375     		strb	r3, [r4, #20]
3722:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6603              		.loc 1 3722 2 is_stmt 1 view .LVU2212
 6604 01f4 5EE7     		b	.L467
 6605              	.LVL786:
 6606              	.L490:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6607              		.loc 1 3628 30 is_stmt 0 discriminator 1 view .LVU2213
 6608 01f6 0723     		movs	r3, #7
 6609 01f8 0193     		str	r3, [sp, #4]
 6610              	.LVL787:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6611              		.loc 1 3628 30 discriminator 1 view .LVU2214
 6612 01fa 5BE7     		b	.L467
 6613              		.cfi_endproc
 6614              	.LFE374:
 6616              		.section	.text.putc_bfd,"ax",%progbits
 6617              		.align	1
 6618              		.syntax unified
 6619              		.thumb
 6620              		.thumb_func
 6622              	putc_bfd:
 6623              	.LVL788:
 6624              	.LFB391:
5921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 6625              		.loc 1 5921 1 is_stmt 1 view -0
 6626              		.cfi_startproc
 6627              		@ args = 0, pretend = 0, frame = 8
 6628              		@ frame_needed = 0, uses_anonymous_args = 0
5921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 6629              		.loc 1 5921 1 is_stmt 0 view .LVU2216
 6630 0000 70B5     		push	{r4, r5, r6, lr}
 6631              	.LCFI54:
 6632              		.cfi_def_cfa_offset 16
 6633              		.cfi_offset 4, -16
 6634              		.cfi_offset 5, -12
 6635              		.cfi_offset 6, -8
 6636              		.cfi_offset 14, -4
 6637 0002 82B0     		sub	sp, sp, #8
 6638              	.LCFI55:
 6639              		.cfi_def_cfa_offset 24
 6640 0004 0446     		mov	r4, r0
 6641 0006 0D46     		mov	r5, r1
5922:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
 6642              		.loc 1 5922 2 is_stmt 1 view .LVU2217
5923:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6643              		.loc 1 5923 2 view .LVU2218
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 6644              		.loc 1 5926 2 view .LVU2219
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 6645              		.loc 1 5926 5 is_stmt 0 view .LVU2220
 6646 0008 0A29     		cmp	r1, #10
ARM GAS  C:\usertemp\ccmutrvj.s 			page 254


 6647 000a 0DD0     		beq	.L507
 6648              	.LVL789:
 6649              	.L501:
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 6650              		.loc 1 5930 2 is_stmt 1 view .LVU2221
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 6651              		.loc 1 5930 4 is_stmt 0 view .LVU2222
 6652 000c 6368     		ldr	r3, [r4, #4]
 6653              	.LVL790:
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6654              		.loc 1 5931 2 is_stmt 1 view .LVU2223
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6655              		.loc 1 5931 5 is_stmt 0 view .LVU2224
 6656 000e 002B     		cmp	r3, #0
 6657 0010 08DB     		blt	.L500
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6658              		.loc 1 5960 2 is_stmt 1 view .LVU2225
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6659              		.loc 1 5960 11 is_stmt 0 view .LVU2226
 6660 0012 5E1C     		adds	r6, r3, #1
 6661              	.LVL791:
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6662              		.loc 1 5960 15 view .LVU2227
 6663 0014 2344     		add	r3, r3, r4
 6664 0016 1D73     		strb	r5, [r3, #12]
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 6665              		.loc 1 5963 2 is_stmt 1 view .LVU2228
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 6666              		.loc 1 5963 5 is_stmt 0 view .LVU2229
 6667 0018 3C2E     		cmp	r6, #60
 6668 001a 09DC     		bgt	.L508
 6669              	.LVL792:
 6670              	.L504:
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 6671              		.loc 1 5967 2 is_stmt 1 view .LVU2230
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 6672              		.loc 1 5967 10 is_stmt 0 view .LVU2231
 6673 001c 6660     		str	r6, [r4, #4]
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6674              		.loc 1 5968 2 is_stmt 1 view .LVU2232
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6675              		.loc 1 5968 4 is_stmt 0 view .LVU2233
 6676 001e A368     		ldr	r3, [r4, #8]
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6677              		.loc 1 5968 10 view .LVU2234
 6678 0020 0133     		adds	r3, r3, #1
 6679 0022 A360     		str	r3, [r4, #8]
 6680              	.LVL793:
 6681              	.L500:
5969:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6682              		.loc 1 5969 1 view .LVU2235
 6683 0024 02B0     		add	sp, sp, #8
 6684              	.LCFI56:
 6685              		.cfi_remember_state
 6686              		.cfi_def_cfa_offset 16
 6687              		@ sp needed
 6688 0026 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 255


 6689              	.LVL794:
 6690              	.L507:
 6691              	.LCFI57:
 6692              		.cfi_restore_state
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6693              		.loc 1 5927 3 is_stmt 1 view .LVU2236
 6694 0028 0D21     		movs	r1, #13
 6695              	.LVL795:
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6696              		.loc 1 5927 3 is_stmt 0 view .LVU2237
 6697 002a FFF7E9FF 		bl	putc_bfd
 6698              	.LVL796:
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6699              		.loc 1 5927 3 view .LVU2238
 6700 002e EDE7     		b	.L501
 6701              	.LVL797:
 6702              	.L508:
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6703              		.loc 1 5964 3 is_stmt 1 view .LVU2239
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6704              		.loc 1 5964 21 is_stmt 0 view .LVU2240
 6705 0030 2146     		mov	r1, r4
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6706              		.loc 1 5964 3 view .LVU2241
 6707 0032 51F80C0B 		ldr	r0, [r1], #12
 6708 0036 01AB     		add	r3, sp, #4
 6709 0038 3246     		mov	r2, r6
 6710 003a FFF7FEFF 		bl	f_write
 6711              	.LVL798:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6712              		.loc 1 5965 3 is_stmt 1 view .LVU2242
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6713              		.loc 1 5965 11 is_stmt 0 view .LVU2243
 6714 003e 019B     		ldr	r3, [sp, #4]
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6715              		.loc 1 5965 27 view .LVU2244
 6716 0040 9E42     		cmp	r6, r3
 6717 0042 02D0     		beq	.L509
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6718              		.loc 1 5965 27 discriminator 2 view .LVU2245
 6719 0044 4FF0FF36 		mov	r6, #-1
 6720              	.LVL799:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6721              		.loc 1 5965 27 discriminator 2 view .LVU2246
 6722 0048 E8E7     		b	.L504
 6723              	.LVL800:
 6724              	.L509:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6725              		.loc 1 5965 27 discriminator 1 view .LVU2247
 6726 004a 0026     		movs	r6, #0
 6727              	.LVL801:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6728              		.loc 1 5965 27 discriminator 1 view .LVU2248
 6729 004c E6E7     		b	.L504
 6730              		.cfi_endproc
 6731              	.LFE391:
 6733              		.section	.text.putc_flush,"ax",%progbits
ARM GAS  C:\usertemp\ccmutrvj.s 			page 256


 6734              		.align	1
 6735              		.syntax unified
 6736              		.thumb
 6737              		.thumb_func
 6739              	putc_flush:
 6740              	.LVL802:
 6741              	.LFB392:
5976:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 6742              		.loc 1 5976 1 is_stmt 1 view -0
 6743              		.cfi_startproc
 6744              		@ args = 0, pretend = 0, frame = 8
 6745              		@ frame_needed = 0, uses_anonymous_args = 0
5977:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6746              		.loc 1 5977 2 view .LVU2250
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 6747              		.loc 1 5979 2 view .LVU2251
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 6748              		.loc 1 5979 11 is_stmt 0 view .LVU2252
 6749 0000 4268     		ldr	r2, [r0, #4]
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 6750              		.loc 1 5979 5 view .LVU2253
 6751 0002 002A     		cmp	r2, #0
 6752 0004 10DB     		blt	.L512
5976:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 6753              		.loc 1 5976 1 view .LVU2254
 6754 0006 10B5     		push	{r4, lr}
 6755              	.LCFI58:
 6756              		.cfi_def_cfa_offset 8
 6757              		.cfi_offset 4, -8
 6758              		.cfi_offset 14, -4
 6759 0008 82B0     		sub	sp, sp, #8
 6760              	.LCFI59:
 6761              		.cfi_def_cfa_offset 16
 6762 000a 0446     		mov	r4, r0
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 6763              		.loc 1 5980 24 view .LVU2255
 6764 000c 0146     		mov	r1, r0
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 6765              		.loc 1 5980 6 view .LVU2256
 6766 000e 51F80C0B 		ldr	r0, [r1], #12
 6767              	.LVL803:
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 6768              		.loc 1 5980 6 view .LVU2257
 6769 0012 01AB     		add	r3, sp, #4
 6770 0014 FFF7FEFF 		bl	f_write
 6771              	.LVL804:
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 6772              		.loc 1 5980 3 discriminator 1 view .LVU2258
 6773 0018 48B9     		cbnz	r0, .L513
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 6774              		.loc 1 5981 14 view .LVU2259
 6775 001a 6268     		ldr	r2, [r4, #4]
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 6776              		.loc 1 5981 20 view .LVU2260
 6777 001c 019B     		ldr	r3, [sp, #4]
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 6778              		.loc 1 5981 3 view .LVU2261
ARM GAS  C:\usertemp\ccmutrvj.s 			page 257


 6779 001e 9A42     		cmp	r2, r3
 6780 0020 08D1     		bne	.L514
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 6781              		.loc 1 5981 27 is_stmt 1 discriminator 1 view .LVU2262
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 6782              		.loc 1 5981 36 is_stmt 0 discriminator 1 view .LVU2263
 6783 0022 A068     		ldr	r0, [r4, #8]
 6784              	.L510:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6785              		.loc 1 5983 1 view .LVU2264
 6786 0024 02B0     		add	sp, sp, #8
 6787              	.LCFI60:
 6788              		.cfi_def_cfa_offset 8
 6789              		@ sp needed
 6790 0026 10BD     		pop	{r4, pc}
 6791              	.LVL805:
 6792              	.L512:
 6793              	.LCFI61:
 6794              		.cfi_def_cfa_offset 0
 6795              		.cfi_restore 4
 6796              		.cfi_restore 14
5982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6797              		.loc 1 5982 9 view .LVU2265
 6798 0028 4FF0FF30 		mov	r0, #-1
 6799              	.LVL806:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6800              		.loc 1 5983 1 view .LVU2266
 6801 002c 7047     		bx	lr
 6802              	.LVL807:
 6803              	.L513:
 6804              	.LCFI62:
 6805              		.cfi_def_cfa_offset 16
 6806              		.cfi_offset 4, -8
 6807              		.cfi_offset 14, -4
5982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6808              		.loc 1 5982 9 view .LVU2267
 6809 002e 4FF0FF30 		mov	r0, #-1
 6810 0032 F7E7     		b	.L510
 6811              	.L514:
 6812 0034 4FF0FF30 		mov	r0, #-1
 6813 0038 F4E7     		b	.L510
 6814              		.cfi_endproc
 6815              	.LFE392:
 6817              		.section	.text.f_sync,"ax",%progbits
 6818              		.align	1
 6819              		.global	f_sync
 6820              		.syntax unified
 6821              		.thumb
 6822              		.thumb_func
 6824              	f_sync:
 6825              	.LVL808:
 6826              	.LFB375:
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6827              		.loc 1 3735 1 is_stmt 1 view -0
 6828              		.cfi_startproc
 6829              		@ args = 0, pretend = 0, frame = 8
 6830              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 258


3735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6831              		.loc 1 3735 1 is_stmt 0 view .LVU2269
 6832 0000 70B5     		push	{r4, r5, r6, lr}
 6833              	.LCFI63:
 6834              		.cfi_def_cfa_offset 16
 6835              		.cfi_offset 4, -16
 6836              		.cfi_offset 5, -12
 6837              		.cfi_offset 6, -8
 6838              		.cfi_offset 14, -4
 6839 0002 82B0     		sub	sp, sp, #8
 6840              	.LCFI64:
 6841              		.cfi_def_cfa_offset 24
 6842 0004 0446     		mov	r4, r0
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 6843              		.loc 1 3736 2 is_stmt 1 view .LVU2270
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 6844              		.loc 1 3737 2 view .LVU2271
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 6845              		.loc 1 3738 2 view .LVU2272
3739:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 6846              		.loc 1 3739 2 view .LVU2273
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6847              		.loc 1 3745 2 view .LVU2274
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6848              		.loc 1 3745 8 is_stmt 0 view .LVU2275
 6849 0006 01A9     		add	r1, sp, #4
 6850 0008 FFF7FEFF 		bl	validate
 6851              	.LVL809:
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 6852              		.loc 1 3746 2 is_stmt 1 view .LVU2276
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 6853              		.loc 1 3746 5 is_stmt 0 view .LVU2277
 6854 000c 70B9     		cbnz	r0, .L520
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6855              		.loc 1 3747 3 is_stmt 1 view .LVU2278
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6856              		.loc 1 3747 9 is_stmt 0 view .LVU2279
 6857 000e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 6858              		.loc 1 3747 6 view .LVU2280
 6859 0010 13F0400F 		tst	r3, #64
 6860 0014 0AD0     		beq	.L520
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 6861              		.loc 1 3749 4 is_stmt 1 view .LVU2281
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 6862              		.loc 1 3749 7 is_stmt 0 view .LVU2282
 6863 0016 13F0800F 		tst	r3, #128
 6864 001a 09D1     		bne	.L524
 6865              	.L521:
3755:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 6866              		.loc 1 3755 4 is_stmt 1 view .LVU2283
3755:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 6867              		.loc 1 3755 9 is_stmt 0 view .LVU2284
 6868 001c FFF7FEFF 		bl	get_fattime
 6869              	.LVL810:
 6870 0020 0546     		mov	r5, r0
 6871              	.LVL811:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 259


3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 6872              		.loc 1 3785 5 is_stmt 1 view .LVU2285
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 6873              		.loc 1 3785 11 is_stmt 0 view .LVU2286
 6874 0022 616A     		ldr	r1, [r4, #36]
 6875 0024 0198     		ldr	r0, [sp, #4]
 6876              	.LVL812:
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 6877              		.loc 1 3785 11 view .LVU2287
 6878 0026 FFF7FEFF 		bl	move_window
 6879              	.LVL813:
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 6880              		.loc 1 3786 5 is_stmt 1 view .LVU2288
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 6881              		.loc 1 3786 8 is_stmt 0 view .LVU2289
 6882 002a 78B1     		cbz	r0, .L525
 6883              	.LVL814:
 6884              	.L520:
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6885              		.loc 1 3802 1 view .LVU2290
 6886 002c 02B0     		add	sp, sp, #8
 6887              	.LCFI65:
 6888              		.cfi_remember_state
 6889              		.cfi_def_cfa_offset 16
 6890              		@ sp needed
 6891 002e 70BD     		pop	{r4, r5, r6, pc}
 6892              	.LVL815:
 6893              	.L524:
 6894              	.LCFI66:
 6895              		.cfi_restore_state
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6896              		.loc 1 3750 5 is_stmt 1 view .LVU2291
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6897              		.loc 1 3750 9 is_stmt 0 view .LVU2292
 6898 0030 0123     		movs	r3, #1
 6899 0032 226A     		ldr	r2, [r4, #32]
 6900 0034 04F13001 		add	r1, r4, #48
 6901 0038 0198     		ldr	r0, [sp, #4]
 6902 003a 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 6903 003c FFF7FEFF 		bl	disk_write
 6904              	.LVL816:
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6905              		.loc 1 3750 8 discriminator 1 view .LVU2293
 6906 0040 40BB     		cbnz	r0, .L522
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6907              		.loc 1 3751 5 is_stmt 1 view .LVU2294
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6908              		.loc 1 3751 7 is_stmt 0 view .LVU2295
 6909 0042 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6910              		.loc 1 3751 14 view .LVU2296
 6911 0044 03F07F03 		and	r3, r3, #127
 6912 0048 2375     		strb	r3, [r4, #20]
 6913 004a E7E7     		b	.L521
 6914              	.LVL817:
 6915              	.L525:
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 260


 6916              		.loc 1 3787 6 is_stmt 1 view .LVU2297
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
 6917              		.loc 1 3787 10 is_stmt 0 view .LVU2298
 6918 004c A66A     		ldr	r6, [r4, #40]
 6919              	.LVL818:
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 6920              		.loc 1 3788 6 is_stmt 1 view .LVU2299
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 6921              		.loc 1 3788 9 is_stmt 0 view .LVU2300
 6922 004e F37A     		ldrb	r3, [r6, #11]	@ zero_extendqisi2
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 6923              		.loc 1 3788 20 view .LVU2301
 6924 0050 43F02003 		orr	r3, r3, #32
 6925 0054 F372     		strb	r3, [r6, #11]
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 6926              		.loc 1 3789 6 is_stmt 1 view .LVU2302
 6927 0056 A268     		ldr	r2, [r4, #8]
 6928 0058 3146     		mov	r1, r6
 6929 005a 2068     		ldr	r0, [r4]
 6930              	.LVL819:
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 6931              		.loc 1 3789 6 is_stmt 0 view .LVU2303
 6932 005c FFF7FEFF 		bl	st_clust
 6933              	.LVL820:
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
 6934              		.loc 1 3790 6 is_stmt 1 view .LVU2304
 6935 0060 E168     		ldr	r1, [r4, #12]
 6936 0062 06F11C00 		add	r0, r6, #28
 6937 0066 FFF7FEFF 		bl	st_dword
 6938              	.LVL821:
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
 6939              		.loc 1 3791 6 view .LVU2305
 6940 006a 2946     		mov	r1, r5
 6941 006c 06F11600 		add	r0, r6, #22
 6942 0070 FFF7FEFF 		bl	st_dword
 6943              	.LVL822:
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 6944              		.loc 1 3792 6 view .LVU2306
 6945 0074 0021     		movs	r1, #0
 6946 0076 06F11200 		add	r0, r6, #18
 6947 007a FFF7FEFF 		bl	st_word
 6948              	.LVL823:
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 6949              		.loc 1 3793 6 view .LVU2307
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 6950              		.loc 1 3793 16 is_stmt 0 view .LVU2308
 6951 007e 019B     		ldr	r3, [sp, #4]
 6952 0080 0122     		movs	r2, #1
 6953 0082 DA70     		strb	r2, [r3, #3]
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 6954              		.loc 1 3794 6 is_stmt 1 view .LVU2309
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 6955              		.loc 1 3794 12 is_stmt 0 view .LVU2310
 6956 0084 0198     		ldr	r0, [sp, #4]
 6957 0086 FFF7FEFF 		bl	sync_fs
 6958              	.LVL824:
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 261


 6959              		.loc 1 3795 6 is_stmt 1 view .LVU2311
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6960              		.loc 1 3795 8 is_stmt 0 view .LVU2312
 6961 008a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6962              		.loc 1 3795 15 view .LVU2313
 6963 008c 23F04003 		bic	r3, r3, #64
 6964 0090 2375     		strb	r3, [r4, #20]
 6965 0092 CBE7     		b	.L520
 6966              	.LVL825:
 6967              	.L522:
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 6968              		.loc 1 3750 62 discriminator 1 view .LVU2314
 6969 0094 0120     		movs	r0, #1
 6970 0096 C9E7     		b	.L520
 6971              		.cfi_endproc
 6972              	.LFE375:
 6974              		.section	.text.f_close,"ax",%progbits
 6975              		.align	1
 6976              		.global	f_close
 6977              		.syntax unified
 6978              		.thumb
 6979              		.thumb_func
 6981              	f_close:
 6982              	.LVL826:
 6983              	.LFB376:
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6984              		.loc 1 3816 1 is_stmt 1 view -0
 6985              		.cfi_startproc
 6986              		@ args = 0, pretend = 0, frame = 8
 6987              		@ frame_needed = 0, uses_anonymous_args = 0
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6988              		.loc 1 3816 1 is_stmt 0 view .LVU2316
 6989 0000 10B5     		push	{r4, lr}
 6990              	.LCFI67:
 6991              		.cfi_def_cfa_offset 8
 6992              		.cfi_offset 4, -8
 6993              		.cfi_offset 14, -4
 6994 0002 82B0     		sub	sp, sp, #8
 6995              	.LCFI68:
 6996              		.cfi_def_cfa_offset 16
 6997 0004 0446     		mov	r4, r0
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 6998              		.loc 1 3817 2 is_stmt 1 view .LVU2317
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6999              		.loc 1 3818 2 view .LVU2318
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 7000              		.loc 1 3821 2 view .LVU2319
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 7001              		.loc 1 3821 8 is_stmt 0 view .LVU2320
 7002 0006 FFF7FEFF 		bl	f_sync
 7003              	.LVL827:
3822:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7004              		.loc 1 3822 2 is_stmt 1 view .LVU2321
3822:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7005              		.loc 1 3822 5 is_stmt 0 view .LVU2322
 7006 000a 08B1     		cbz	r0, .L529
ARM GAS  C:\usertemp\ccmutrvj.s 			page 262


 7007              	.L527:
 7008              	.LVL828:
3839:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7009              		.loc 1 3839 2 is_stmt 1 view .LVU2323
3840:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7010              		.loc 1 3840 1 is_stmt 0 view .LVU2324
 7011 000c 02B0     		add	sp, sp, #8
 7012              	.LCFI69:
 7013              		.cfi_remember_state
 7014              		.cfi_def_cfa_offset 8
 7015              		@ sp needed
 7016 000e 10BD     		pop	{r4, pc}
 7017              	.LVL829:
 7018              	.L529:
 7019              	.LCFI70:
 7020              		.cfi_restore_state
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 7021              		.loc 1 3825 3 is_stmt 1 view .LVU2325
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 7022              		.loc 1 3825 9 is_stmt 0 view .LVU2326
 7023 0010 01A9     		add	r1, sp, #4
 7024 0012 2046     		mov	r0, r4
 7025 0014 FFF7FEFF 		bl	validate
 7026              	.LVL830:
3826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7027              		.loc 1 3826 3 is_stmt 1 view .LVU2327
3826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7028              		.loc 1 3826 6 is_stmt 0 view .LVU2328
 7029 0018 0028     		cmp	r0, #0
 7030 001a F7D1     		bne	.L527
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 7031              		.loc 1 3828 4 is_stmt 1 view .LVU2329
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 7032              		.loc 1 3828 10 is_stmt 0 view .LVU2330
 7033 001c 2069     		ldr	r0, [r4, #16]
 7034              	.LVL831:
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 7035              		.loc 1 3828 10 view .LVU2331
 7036 001e FFF7FEFF 		bl	dec_lock
 7037              	.LVL832:
3829:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7038              		.loc 1 3829 4 is_stmt 1 view .LVU2332
3829:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7039              		.loc 1 3829 7 is_stmt 0 view .LVU2333
 7040 0022 0028     		cmp	r0, #0
 7041 0024 F2D1     		bne	.L527
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7042              		.loc 1 3832 5 is_stmt 1 view .LVU2334
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7043              		.loc 1 3832 16 is_stmt 0 view .LVU2335
 7044 0026 2060     		str	r0, [r4]
 7045 0028 F0E7     		b	.L527
 7046              		.cfi_endproc
 7047              	.LFE376:
 7049              		.section	.text.f_chdir,"ax",%progbits
 7050              		.align	1
 7051              		.global	f_chdir
ARM GAS  C:\usertemp\ccmutrvj.s 			page 263


 7052              		.syntax unified
 7053              		.thumb
 7054              		.thumb_func
 7056              	f_chdir:
 7057              	.LVL833:
 7058              	.LFB377:
3872:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7059              		.loc 1 3872 1 is_stmt 1 view -0
 7060              		.cfi_startproc
 7061              		@ args = 0, pretend = 0, frame = 64
 7062              		@ frame_needed = 0, uses_anonymous_args = 0
3872:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7063              		.loc 1 3872 1 is_stmt 0 view .LVU2337
 7064 0000 30B5     		push	{r4, r5, lr}
 7065              	.LCFI71:
 7066              		.cfi_def_cfa_offset 12
 7067              		.cfi_offset 4, -12
 7068              		.cfi_offset 5, -8
 7069              		.cfi_offset 14, -4
 7070 0002 91B0     		sub	sp, sp, #68
 7071              	.LCFI72:
 7072              		.cfi_def_cfa_offset 80
 7073 0004 0190     		str	r0, [sp, #4]
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 7074              		.loc 1 3873 2 is_stmt 1 view .LVU2338
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7075              		.loc 1 3874 2 view .LVU2339
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 7076              		.loc 1 3875 2 view .LVU2340
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7077              		.loc 1 3879 2 view .LVU2341
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7078              		.loc 1 3879 8 is_stmt 0 view .LVU2342
 7079 0006 0022     		movs	r2, #0
 7080 0008 03A9     		add	r1, sp, #12
 7081 000a 01A8     		add	r0, sp, #4
 7082              	.LVL834:
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7083              		.loc 1 3879 8 view .LVU2343
 7084 000c FFF7FEFF 		bl	find_volume
 7085              	.LVL835:
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 7086              		.loc 1 3880 2 is_stmt 1 view .LVU2344
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 7087              		.loc 1 3880 5 is_stmt 0 view .LVU2345
 7088 0010 0446     		mov	r4, r0
 7089 0012 10B1     		cbz	r0, .L537
 7090              	.LVL836:
 7091              	.L531:
3916:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7092              		.loc 1 3916 2 is_stmt 1 view .LVU2346
3917:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7093              		.loc 1 3917 1 is_stmt 0 view .LVU2347
 7094 0014 2046     		mov	r0, r4
 7095 0016 11B0     		add	sp, sp, #68
 7096              	.LCFI73:
 7097              		.cfi_remember_state
ARM GAS  C:\usertemp\ccmutrvj.s 			page 264


 7098              		.cfi_def_cfa_offset 12
 7099              		@ sp needed
 7100 0018 30BD     		pop	{r4, r5, pc}
 7101              	.LVL837:
 7102              	.L537:
 7103              	.LCFI74:
 7104              		.cfi_restore_state
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 7105              		.loc 1 3881 3 is_stmt 1 view .LVU2348
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 7106              		.loc 1 3881 13 is_stmt 0 view .LVU2349
 7107 001a 039B     		ldr	r3, [sp, #12]
 7108 001c 0493     		str	r3, [sp, #16]
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
 7109              		.loc 1 3882 18 is_stmt 1 view .LVU2350
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
 7110              		.loc 1 3883 3 view .LVU2351
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
 7111              		.loc 1 3883 9 is_stmt 0 view .LVU2352
 7112 001e 0199     		ldr	r1, [sp, #4]
 7113 0020 04A8     		add	r0, sp, #16
 7114              	.LVL838:
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
 7115              		.loc 1 3883 9 view .LVU2353
 7116 0022 FFF7FEFF 		bl	follow_path
 7117              	.LVL839:
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 7118              		.loc 1 3884 3 is_stmt 1 view .LVU2354
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 7119              		.loc 1 3884 6 is_stmt 0 view .LVU2355
 7120 0026 0446     		mov	r4, r0
 7121 0028 90B9     		cbnz	r0, .L532
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->cdir = dj.obj.sclust;	/* It is the start directory itself */
 7122              		.loc 1 3885 4 is_stmt 1 view .LVU2356
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->cdir = dj.obj.sclust;	/* It is the start directory itself */
 7123              		.loc 1 3885 8 is_stmt 0 view .LVU2357
 7124 002a 9DF93F30 		ldrsb	r3, [sp, #63]
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->cdir = dj.obj.sclust;	/* It is the start directory itself */
 7125              		.loc 1 3885 7 view .LVU2358
 7126 002e 002B     		cmp	r3, #0
 7127 0030 0BDB     		blt	.L538
3895:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7128              		.loc 1 3895 5 is_stmt 1 view .LVU2359
3895:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7129              		.loc 1 3895 15 is_stmt 0 view .LVU2360
 7130 0032 9DF81630 		ldrb	r3, [sp, #22]	@ zero_extendqisi2
3895:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7131              		.loc 1 3895 8 view .LVU2361
 7132 0036 13F0100F 		tst	r3, #16
 7133 003a 0DD0     		beq	.L534
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7134              		.loc 1 3905 7 is_stmt 1 view .LVU2362
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7135              		.loc 1 3905 18 is_stmt 0 view .LVU2363
 7136 003c 039D     		ldr	r5, [sp, #12]
 7137 003e 0C99     		ldr	r1, [sp, #48]
 7138 0040 2846     		mov	r0, r5
ARM GAS  C:\usertemp\ccmutrvj.s 			page 265


 7139              	.LVL840:
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7140              		.loc 1 3905 18 view .LVU2364
 7141 0042 FFF7FEFF 		bl	ld_clust
 7142              	.LVL841:
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7143              		.loc 1 3905 16 discriminator 1 view .LVU2365
 7144 0046 6861     		str	r0, [r5, #20]
 7145 0048 02E0     		b	.L532
 7146              	.LVL842:
 7147              	.L538:
3886:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7148              		.loc 1 3886 5 is_stmt 1 view .LVU2366
3886:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7149              		.loc 1 3886 14 is_stmt 0 view .LVU2367
 7150 004a 039B     		ldr	r3, [sp, #12]
 7151 004c 069A     		ldr	r2, [sp, #24]
 7152 004e 5A61     		str	r2, [r3, #20]
 7153              	.LVL843:
 7154              	.L532:
3912:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
 7155              		.loc 1 3912 16 is_stmt 1 view .LVU2368
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7156              		.loc 1 3913 3 view .LVU2369
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7157              		.loc 1 3913 6 is_stmt 0 view .LVU2370
 7158 0050 042C     		cmp	r4, #4
 7159 0052 DFD1     		bne	.L531
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7160              		.loc 1 3913 30 discriminator 1 view .LVU2371
 7161 0054 0524     		movs	r4, #5
 7162              	.LVL844:
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7163              		.loc 1 3913 30 discriminator 1 view .LVU2372
 7164 0056 DDE7     		b	.L531
 7165              	.LVL845:
 7166              	.L534:
3908:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7167              		.loc 1 3908 10 view .LVU2373
 7168 0058 0524     		movs	r4, #5
 7169 005a DBE7     		b	.L531
 7170              		.cfi_endproc
 7171              	.LFE377:
 7173              		.section	.text.f_getcwd,"ax",%progbits
 7174              		.align	1
 7175              		.global	f_getcwd
 7176              		.syntax unified
 7177              		.thumb
 7178              		.thumb_func
 7180              	f_getcwd:
 7181              	.LVL846:
 7182              	.LFB378:
3925:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7183              		.loc 1 3925 1 is_stmt 1 view -0
 7184              		.cfi_startproc
 7185              		@ args = 0, pretend = 0, frame = 88
 7186              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 266


3925:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7187              		.loc 1 3925 1 is_stmt 0 view .LVU2375
 7188 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 7189              	.LCFI75:
 7190              		.cfi_def_cfa_offset 20
 7191              		.cfi_offset 4, -20
 7192              		.cfi_offset 5, -16
 7193              		.cfi_offset 6, -12
 7194              		.cfi_offset 7, -8
 7195              		.cfi_offset 14, -4
 7196 0002 97B0     		sub	sp, sp, #92
 7197              	.LCFI76:
 7198              		.cfi_def_cfa_offset 112
 7199 0004 0190     		str	r0, [sp, #4]
 7200 0006 0E46     		mov	r6, r1
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 7201              		.loc 1 3926 2 is_stmt 1 view .LVU2376
3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7202              		.loc 1 3927 2 view .LVU2377
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
 7203              		.loc 1 3928 2 view .LVU2378
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
 7204              		.loc 1 3929 2 view .LVU2379
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
 7205              		.loc 1 3930 2 view .LVU2380
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
 7206              		.loc 1 3931 2 view .LVU2381
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 7207              		.loc 1 3932 2 view .LVU2382
3936:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
 7208              		.loc 1 3936 2 view .LVU2383
3936:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
 7209              		.loc 1 3936 8 is_stmt 0 view .LVU2384
 7210 0008 0022     		movs	r2, #0
 7211 000a 0270     		strb	r2, [r0]
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7212              		.loc 1 3938 2 is_stmt 1 view .LVU2385
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7213              		.loc 1 3938 8 is_stmt 0 view .LVU2386
 7214 000c 09A9     		add	r1, sp, #36
 7215              	.LVL847:
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7216              		.loc 1 3938 8 view .LVU2387
 7217 000e 01A8     		add	r0, sp, #4
 7218              	.LVL848:
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7219              		.loc 1 3938 8 view .LVU2388
 7220 0010 FFF7FEFF 		bl	find_volume
 7221              	.LVL849:
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 7222              		.loc 1 3939 2 is_stmt 1 view .LVU2389
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 7223              		.loc 1 3939 5 is_stmt 0 view .LVU2390
 7224 0014 0546     		mov	r5, r0
 7225 0016 0028     		cmp	r0, #0
 7226 0018 67D1     		bne	.L540
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 267


 7227              		.loc 1 3940 3 is_stmt 1 view .LVU2391
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 7228              		.loc 1 3940 13 is_stmt 0 view .LVU2392
 7229 001a 099B     		ldr	r3, [sp, #36]
 7230 001c 0A93     		str	r3, [sp, #40]
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
 7231              		.loc 1 3941 18 is_stmt 1 view .LVU2393
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* (Cannot do getcwd on exFAT and returns root path)
 7232              		.loc 1 3942 3 view .LVU2394
 7233              	.LVL850:
3943:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.sclust = fs->cdir;				/* Start to follow upper directory from current directory */
 7234              		.loc 1 3943 3 view .LVU2395
3944:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((ccl = dj.obj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
 7235              		.loc 1 3944 4 view .LVU2396
3944:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((ccl = dj.obj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
 7236              		.loc 1 3944 22 is_stmt 0 view .LVU2397
 7237 001e 5B69     		ldr	r3, [r3, #20]
3944:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((ccl = dj.obj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
 7238              		.loc 1 3944 18 view .LVU2398
 7239 0020 0C93     		str	r3, [sp, #48]
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
 7240              		.loc 1 3945 4 is_stmt 1 view .LVU2399
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* (Cannot do getcwd on exFAT and returns root path)
 7241              		.loc 1 3942 5 is_stmt 0 view .LVU2400
 7242 0022 3446     		mov	r4, r6
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
 7243              		.loc 1 3945 10 view .LVU2401
 7244 0024 13E0     		b	.L541
 7245              	.LVL851:
 7246              	.L555:
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NOT_ENOUGH_CORE; break;
 7247              		.loc 1 3963 5 is_stmt 1 view .LVU2402
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NOT_ENOUGH_CORE; break;
 7248              		.loc 1 3963 15 is_stmt 0 view .LVU2403
 7249 0026 DA1C     		adds	r2, r3, #3
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NOT_ENOUGH_CORE; break;
 7250              		.loc 1 3963 8 view .LVU2404
 7251 0028 A242     		cmp	r2, r4
 7252 002a 0AD9     		bls	.L547
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7253              		.loc 1 3964 10 view .LVU2405
 7254 002c 1125     		movs	r5, #17
 7255              	.LVL852:
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7256              		.loc 1 3964 10 view .LVU2406
 7257 002e 4EE0     		b	.L542
 7258              	.LVL853:
 7259              	.L548:
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
 7260              		.loc 1 3966 15 is_stmt 1 discriminator 2 view .LVU2407
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
 7261              		.loc 1 3966 25 is_stmt 0 discriminator 2 view .LVU2408
 7262 0030 013B     		subs	r3, r3, #1
 7263              	.LVL854:
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
 7264              		.loc 1 3966 25 discriminator 2 view .LVU2409
 7265 0032 013C     		subs	r4, r4, #1
ARM GAS  C:\usertemp\ccmutrvj.s 			page 268


 7266              	.LVL855:
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
 7267              		.loc 1 3966 36 discriminator 2 view .LVU2410
 7268 0034 03F15802 		add	r2, r3, #88
 7269 0038 6A44     		add	r2, sp, r2
 7270 003a 12F8431C 		ldrb	r1, [r2, #-67]	@ zero_extendqisi2
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
 7271              		.loc 1 3966 25 discriminator 2 view .LVU2411
 7272 003e 019A     		ldr	r2, [sp, #4]
 7273 0040 1155     		strb	r1, [r2, r4]
 7274              	.L547:
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
 7275              		.loc 1 3966 12 is_stmt 1 discriminator 1 view .LVU2412
 7276 0042 002B     		cmp	r3, #0
 7277 0044 F4D1     		bne	.L548
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7278              		.loc 1 3967 5 view .LVU2413
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7279              		.loc 1 3967 15 is_stmt 0 view .LVU2414
 7280 0046 013C     		subs	r4, r4, #1
 7281              	.LVL856:
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7282              		.loc 1 3967 15 view .LVU2415
 7283 0048 019B     		ldr	r3, [sp, #4]
 7284              	.LVL857:
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7285              		.loc 1 3967 15 view .LVU2416
 7286 004a 2F22     		movs	r2, #47
 7287 004c 1A55     		strb	r2, [r3, r4]
 7288              	.LVL858:
 7289              	.L541:
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
 7290              		.loc 1 3945 33 is_stmt 1 view .LVU2417
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
 7291              		.loc 1 3945 16 is_stmt 0 view .LVU2418
 7292 004e 0C9F     		ldr	r7, [sp, #48]
 7293              	.LVL859:
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
 7294              		.loc 1 3945 33 view .LVU2419
 7295 0050 002F     		cmp	r7, #0
 7296 0052 3CD0     		beq	.L542
3946:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 7297              		.loc 1 3946 5 is_stmt 1 view .LVU2420
3946:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 7298              		.loc 1 3946 11 is_stmt 0 view .LVU2421
 7299 0054 2021     		movs	r1, #32
 7300 0056 0AA8     		add	r0, sp, #40
 7301 0058 FFF7FEFF 		bl	dir_sdi
 7302              	.LVL860:
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dj.sect);
 7303              		.loc 1 3947 5 is_stmt 1 view .LVU2422
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dj.sect);
 7304              		.loc 1 3947 8 is_stmt 0 view .LVU2423
 7305 005c 0546     		mov	r5, r0
 7306 005e 0028     		cmp	r0, #0
 7307 0060 35D1     		bne	.L542
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 269


 7308              		.loc 1 3948 5 is_stmt 1 view .LVU2424
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 7309              		.loc 1 3948 11 is_stmt 0 view .LVU2425
 7310 0062 1199     		ldr	r1, [sp, #68]
 7311 0064 0998     		ldr	r0, [sp, #36]
 7312              	.LVL861:
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 7313              		.loc 1 3948 11 view .LVU2426
 7314 0066 FFF7FEFF 		bl	move_window
 7315              	.LVL862:
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.obj.sclust = ld_clust(fs, dj.dir);	/* Goto parent directory */
 7316              		.loc 1 3949 5 is_stmt 1 view .LVU2427
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.obj.sclust = ld_clust(fs, dj.dir);	/* Goto parent directory */
 7317              		.loc 1 3949 8 is_stmt 0 view .LVU2428
 7318 006a 0546     		mov	r5, r0
 7319 006c 78BB     		cbnz	r0, .L542
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 0);
 7320              		.loc 1 3950 5 is_stmt 1 view .LVU2429
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 0);
 7321              		.loc 1 3950 21 is_stmt 0 view .LVU2430
 7322 006e 1299     		ldr	r1, [sp, #72]
 7323 0070 0998     		ldr	r0, [sp, #36]
 7324              	.LVL863:
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 0);
 7325              		.loc 1 3950 21 view .LVU2431
 7326 0072 FFF7FEFF 		bl	ld_clust
 7327              	.LVL864:
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 0);
 7328              		.loc 1 3950 19 discriminator 1 view .LVU2432
 7329 0076 0C90     		str	r0, [sp, #48]
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 7330              		.loc 1 3951 5 is_stmt 1 view .LVU2433
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 7331              		.loc 1 3951 11 is_stmt 0 view .LVU2434
 7332 0078 0021     		movs	r1, #0
 7333 007a 0AA8     		add	r0, sp, #40
 7334 007c FFF7FEFF 		bl	dir_sdi
 7335              	.LVL865:
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {							/* Find the entry links to the child directory */
 7336              		.loc 1 3952 5 is_stmt 1 view .LVU2435
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {							/* Find the entry links to the child directory */
 7337              		.loc 1 3952 8 is_stmt 0 view .LVU2436
 7338 0080 0546     		mov	r5, r0
 7339 0082 20BB     		cbnz	r0, .L542
 7340              	.L544:
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_read(&dj, 0);
 7341              		.loc 1 3953 5 is_stmt 1 view .LVU2437
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 7342              		.loc 1 3954 6 view .LVU2438
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 7343              		.loc 1 3954 12 is_stmt 0 view .LVU2439
 7344 0084 0021     		movs	r1, #0
 7345 0086 0AA8     		add	r0, sp, #40
 7346              	.LVL866:
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 7347              		.loc 1 3954 12 view .LVU2440
 7348 0088 FFF7FEFF 		bl	dir_read
ARM GAS  C:\usertemp\ccmutrvj.s 			page 270


 7349              	.LVL867:
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ccl == ld_clust(fs, dj.dir)) break;	/* Found the entry */
 7350              		.loc 1 3955 6 is_stmt 1 view .LVU2441
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ccl == ld_clust(fs, dj.dir)) break;	/* Found the entry */
 7351              		.loc 1 3955 9 is_stmt 0 view .LVU2442
 7352 008c 0546     		mov	r5, r0
 7353 008e 60B9     		cbnz	r0, .L543
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_next(&dj, 0);
 7354              		.loc 1 3956 6 is_stmt 1 view .LVU2443
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_next(&dj, 0);
 7355              		.loc 1 3956 17 is_stmt 0 view .LVU2444
 7356 0090 1299     		ldr	r1, [sp, #72]
 7357 0092 0998     		ldr	r0, [sp, #36]
 7358              	.LVL868:
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_next(&dj, 0);
 7359              		.loc 1 3956 17 view .LVU2445
 7360 0094 FFF7FEFF 		bl	ld_clust
 7361              	.LVL869:
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_next(&dj, 0);
 7362              		.loc 1 3956 9 discriminator 1 view .LVU2446
 7363 0098 B842     		cmp	r0, r7
 7364 009a 06D0     		beq	.L543
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (res == FR_OK);
 7365              		.loc 1 3957 6 is_stmt 1 view .LVU2447
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (res == FR_OK);
 7366              		.loc 1 3957 12 is_stmt 0 view .LVU2448
 7367 009c 0021     		movs	r1, #0
 7368 009e 0AA8     		add	r0, sp, #40
 7369 00a0 FFF7FEFF 		bl	dir_next
 7370              	.LVL870:
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
 7371              		.loc 1 3958 18 is_stmt 1 view .LVU2449
 7372 00a4 0546     		mov	r5, r0
 7373 00a6 0028     		cmp	r0, #0
 7374 00a8 ECD0     		beq	.L544
 7375              	.LVL871:
 7376              	.L543:
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 7377              		.loc 1 3959 5 view .LVU2450
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 7378              		.loc 1 3959 8 is_stmt 0 view .LVU2451
 7379 00aa 042D     		cmp	r5, #4
 7380 00ac 0ED0     		beq	.L552
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
 7381              		.loc 1 3960 5 is_stmt 1 view .LVU2452
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
 7382              		.loc 1 3960 8 is_stmt 0 view .LVU2453
 7383 00ae 75B9     		cbnz	r5, .L542
3961:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = 0; fno.fname[n]; n++) ;
 7384              		.loc 1 3961 5 is_stmt 1 view .LVU2454
 7385 00b0 03A9     		add	r1, sp, #12
 7386 00b2 0AA8     		add	r0, sp, #40
 7387 00b4 FFF7FEFF 		bl	get_fileinfo
 7388              	.LVL872:
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
 7389              		.loc 1 3962 5 view .LVU2455
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
ARM GAS  C:\usertemp\ccmutrvj.s 			page 271


 7390              		.loc 1 3962 12 is_stmt 0 view .LVU2456
 7391 00b8 0023     		movs	r3, #0
 7392              	.LVL873:
 7393              	.L545:
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
 7394              		.loc 1 3962 17 is_stmt 1 discriminator 1 view .LVU2457
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
 7395              		.loc 1 3962 26 is_stmt 0 discriminator 1 view .LVU2458
 7396 00ba 03F15802 		add	r2, r3, #88
 7397 00be 6A44     		add	r2, sp, r2
 7398 00c0 12F8432C 		ldrb	r2, [r2, #-67]	@ zero_extendqisi2
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
 7399              		.loc 1 3962 17 discriminator 1 view .LVU2459
 7400 00c4 002A     		cmp	r2, #0
 7401 00c6 AED0     		beq	.L555
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
 7402              		.loc 1 3962 32 is_stmt 1 discriminator 3 view .LVU2460
 7403 00c8 0133     		adds	r3, r3, #1
 7404              	.LVL874:
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
 7405              		.loc 1 3962 32 is_stmt 0 discriminator 3 view .LVU2461
 7406 00ca F6E7     		b	.L545
 7407              	.LVL875:
 7408              	.L552:
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 7409              		.loc 1 3959 32 discriminator 1 view .LVU2462
 7410 00cc 0225     		movs	r5, #2
 7411              	.LVL876:
 7412              	.L542:
3970:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 7413              		.loc 1 3970 3 is_stmt 1 view .LVU2463
3970:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 7414              		.loc 1 3970 6 is_stmt 0 view .LVU2464
 7415 00ce 019A     		ldr	r2, [sp, #4]
 7416              	.LVL877:
3971:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
 7417              		.loc 1 3971 3 is_stmt 1 view .LVU2465
3971:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
 7418              		.loc 1 3971 6 is_stmt 0 view .LVU2466
 7419 00d0 4DB9     		cbnz	r5, .L550
3976:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
 7420              		.loc 1 3976 4 is_stmt 1 view .LVU2467
3976:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
 7421              		.loc 1 3976 7 is_stmt 0 view .LVU2468
 7422 00d2 B442     		cmp	r4, r6
 7423 00d4 0CD0     		beq	.L556
 7424              	.LVL878:
 7425              	.L551:
3979:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
 7426              		.loc 1 3979 5 is_stmt 1 view .LVU2469
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
 7427              		.loc 1 3980 6 view .LVU2470
 7428 00d6 2146     		mov	r1, r4
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
 7429              		.loc 1 3980 20 is_stmt 0 view .LVU2471
 7430 00d8 0134     		adds	r4, r4, #1
 7431              	.LVL879:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 272


3980:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
 7432              		.loc 1 3980 18 view .LVU2472
 7433 00da 0198     		ldr	r0, [sp, #4]
 7434 00dc 415C     		ldrb	r1, [r0, r1]	@ zero_extendqisi2
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
 7435              		.loc 1 3980 12 view .LVU2473
 7436 00de 1170     		strb	r1, [r2]
 7437 00e0 0132     		adds	r2, r2, #1
 7438              	.LVL880:
3981:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7439              		.loc 1 3981 14 is_stmt 1 discriminator 1 view .LVU2474
 7440 00e2 A642     		cmp	r6, r4
 7441 00e4 F7D8     		bhi	.L551
 7442              	.LVL881:
 7443              	.L550:
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
 7444              		.loc 1 3984 3 view .LVU2475
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
 7445              		.loc 1 3984 7 is_stmt 0 view .LVU2476
 7446 00e6 0023     		movs	r3, #0
 7447 00e8 1370     		strb	r3, [r2]
 7448              	.LVL882:
 7449              	.L540:
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7450              		.loc 1 3985 16 is_stmt 1 view .LVU2477
3988:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7451              		.loc 1 3988 2 view .LVU2478
3989:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7452              		.loc 1 3989 1 is_stmt 0 view .LVU2479
 7453 00ea 2846     		mov	r0, r5
 7454 00ec 17B0     		add	sp, sp, #92
 7455              	.LCFI77:
 7456              		.cfi_remember_state
 7457              		.cfi_def_cfa_offset 20
 7458              		@ sp needed
 7459 00ee F0BD     		pop	{r4, r5, r6, r7, pc}
 7460              	.LVL883:
 7461              	.L556:
 7462              	.LCFI78:
 7463              		.cfi_restore_state
3977:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
 7464              		.loc 1 3977 5 is_stmt 1 view .LVU2480
3977:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
 7465              		.loc 1 3977 11 is_stmt 0 view .LVU2481
 7466 00f0 2F23     		movs	r3, #47
 7467 00f2 02F8013B 		strb	r3, [r2], #1
 7468              	.LVL884:
3977:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
 7469              		.loc 1 3977 11 view .LVU2482
 7470 00f6 F6E7     		b	.L550
 7471              		.cfi_endproc
 7472              	.LFE378:
 7474              		.section	.text.f_lseek,"ax",%progbits
 7475              		.align	1
 7476              		.global	f_lseek
 7477              		.syntax unified
 7478              		.thumb
ARM GAS  C:\usertemp\ccmutrvj.s 			page 273


 7479              		.thumb_func
 7481              	f_lseek:
 7482              	.LVL885:
 7483              	.LFB379:
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7484              		.loc 1 4005 1 is_stmt 1 view -0
 7485              		.cfi_startproc
 7486              		@ args = 0, pretend = 0, frame = 8
 7487              		@ frame_needed = 0, uses_anonymous_args = 0
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7488              		.loc 1 4005 1 is_stmt 0 view .LVU2484
 7489 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7490              	.LCFI79:
 7491              		.cfi_def_cfa_offset 36
 7492              		.cfi_offset 4, -36
 7493              		.cfi_offset 5, -32
 7494              		.cfi_offset 6, -28
 7495              		.cfi_offset 7, -24
 7496              		.cfi_offset 8, -20
 7497              		.cfi_offset 9, -16
 7498              		.cfi_offset 10, -12
 7499              		.cfi_offset 11, -8
 7500              		.cfi_offset 14, -4
 7501 0004 83B0     		sub	sp, sp, #12
 7502              	.LCFI80:
 7503              		.cfi_def_cfa_offset 48
 7504 0006 0446     		mov	r4, r0
 7505 0008 0D46     		mov	r5, r1
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7506              		.loc 1 4006 2 is_stmt 1 view .LVU2485
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
 7507              		.loc 1 4007 2 view .LVU2486
4008:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
 7508              		.loc 1 4008 2 view .LVU2487
4009:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 7509              		.loc 1 4009 2 view .LVU2488
4011:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7510              		.loc 1 4011 2 view .LVU2489
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 7511              		.loc 1 4014 2 view .LVU2490
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 7512              		.loc 1 4014 8 is_stmt 0 view .LVU2491
 7513 000a 01A9     		add	r1, sp, #4
 7514              	.LVL886:
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 7515              		.loc 1 4014 8 view .LVU2492
 7516 000c FFF7FEFF 		bl	validate
 7517              	.LVL887:
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 7518              		.loc 1 4015 2 is_stmt 1 view .LVU2493
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 7519              		.loc 1 4015 5 is_stmt 0 view .LVU2494
 7520 0010 0646     		mov	r6, r0
 7521 0012 78B9     		cbnz	r0, .L560
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 7522              		.loc 1 4015 20 is_stmt 1 discriminator 1 view .LVU2495
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
ARM GAS  C:\usertemp\ccmutrvj.s 			page 274


 7523              		.loc 1 4015 24 is_stmt 0 discriminator 1 view .LVU2496
 7524 0014 667D     		ldrb	r6, [r4, #21]	@ zero_extendqisi2
 7525              	.LVL888:
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7526              		.loc 1 4021 2 is_stmt 1 view .LVU2497
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7527              		.loc 1 4021 5 is_stmt 0 view .LVU2498
 7528 0016 6EB9     		cbnz	r6, .L560
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 7529              		.loc 1 4024 2 is_stmt 1 view .LVU2499
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 7530              		.loc 1 4024 8 is_stmt 0 view .LVU2500
 7531 0018 E36A     		ldr	r3, [r4, #44]
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 7532              		.loc 1 4024 5 view .LVU2501
 7533 001a 002B     		cmp	r3, #0
 7534 001c 00F08980 		beq	.L561
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 7535              		.loc 1 4025 3 is_stmt 1 view .LVU2502
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 7536              		.loc 1 4025 6 is_stmt 0 view .LVU2503
 7537 0020 B5F1FF3F 		cmp	r5, #-1
 7538 0024 0AD0     		beq	.L601
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 7539              		.loc 1 4051 4 is_stmt 1 view .LVU2504
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 7540              		.loc 1 4051 21 is_stmt 0 view .LVU2505
 7541 0026 E768     		ldr	r7, [r4, #12]
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 7542              		.loc 1 4051 7 view .LVU2506
 7543 0028 AF42     		cmp	r7, r5
 7544 002a 00D3     		bcc	.L569
 7545 002c 2F46     		mov	r7, r5
 7546              	.L569:
 7547              	.LVL889:
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 7548              		.loc 1 4052 4 is_stmt 1 view .LVU2507
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 7549              		.loc 1 4052 13 is_stmt 0 view .LVU2508
 7550 002e A761     		str	r7, [r4, #24]
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 7551              		.loc 1 4053 4 is_stmt 1 view .LVU2509
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 7552              		.loc 1 4053 7 is_stmt 0 view .LVU2510
 7553 0030 002F     		cmp	r7, #0
 7554 0032 3FD1     		bne	.L602
 7555              	.LVL890:
 7556              	.L560:
4153:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7557              		.loc 1 4153 1 view .LVU2511
 7558 0034 3046     		mov	r0, r6
 7559 0036 03B0     		add	sp, sp, #12
 7560              	.LCFI81:
 7561              		.cfi_remember_state
 7562              		.cfi_def_cfa_offset 36
 7563              		@ sp needed
 7564 0038 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 275


 7565              	.LVL891:
 7566              	.L601:
 7567              	.LCFI82:
 7568              		.cfi_restore_state
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
 7569              		.loc 1 4026 4 is_stmt 1 view .LVU2512
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 7570              		.loc 1 4027 4 view .LVU2513
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 7571              		.loc 1 4027 15 is_stmt 0 view .LVU2514
 7572 003c 9846     		mov	r8, r3
 7573              	.LVL892:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 7574              		.loc 1 4027 9 view .LVU2515
 7575 003e 58F804BB 		ldr	fp, [r8], #4
 7576              	.LVL893:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 7577              		.loc 1 4027 19 is_stmt 1 view .LVU2516
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 7578              		.loc 1 4028 4 view .LVU2517
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 7579              		.loc 1 4028 7 is_stmt 0 view .LVU2518
 7580 0042 D4F808A0 		ldr	r10, [r4, #8]
 7581              	.LVL894:
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7582              		.loc 1 4029 4 is_stmt 1 view .LVU2519
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7583              		.loc 1 4029 7 is_stmt 0 view .LVU2520
 7584 0046 BAF1000F 		cmp	r10, #0
 7585 004a 27D0     		beq	.L594
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 7586              		.loc 1 4027 24 view .LVU2521
 7587 004c 4FF00209 		mov	r9, #2
 7588              	.LVL895:
 7589              	.L568:
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
 7590              		.loc 1 4030 5 is_stmt 1 view .LVU2522
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7591              		.loc 1 4032 6 view .LVU2523
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7592              		.loc 1 4032 16 view .LVU2524
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7593              		.loc 1 4032 25 view .LVU2525
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7594              		.loc 1 4032 30 is_stmt 0 view .LVU2526
 7595 0050 09F10209 		add	r9, r9, #2
 7596              	.LVL896:
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7597              		.loc 1 4032 30 view .LVU2527
 7598 0054 5146     		mov	r1, r10
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7599              		.loc 1 4032 20 view .LVU2528
 7600 0056 0027     		movs	r7, #0
 7601              	.LVL897:
 7602              	.L566:
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
 7603              		.loc 1 4033 6 is_stmt 1 view .LVU2529
ARM GAS  C:\usertemp\ccmutrvj.s 			page 276


4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 7604              		.loc 1 4034 7 view .LVU2530
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 7605              		.loc 1 4034 17 view .LVU2531
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 7606              		.loc 1 4034 20 is_stmt 0 view .LVU2532
 7607 0058 0137     		adds	r7, r7, #1
 7608              	.LVL898:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 7609              		.loc 1 4035 7 is_stmt 1 view .LVU2533
 7610 005a 0D46     		mov	r5, r1
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 7611              		.loc 1 4035 12 is_stmt 0 view .LVU2534
 7612 005c 2046     		mov	r0, r4
 7613 005e FFF7FEFF 		bl	get_fat
 7614              	.LVL899:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 7615              		.loc 1 4035 12 view .LVU2535
 7616 0062 0146     		mov	r1, r0
 7617              	.LVL900:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7618              		.loc 1 4036 7 is_stmt 1 view .LVU2536
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7619              		.loc 1 4036 10 is_stmt 0 view .LVU2537
 7620 0064 0128     		cmp	r0, #1
 7621 0066 13D9     		bls	.L603
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7622              		.loc 1 4036 41 is_stmt 1 discriminator 2 view .LVU2538
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7623              		.loc 1 4037 7 view .LVU2539
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7624              		.loc 1 4037 10 is_stmt 0 view .LVU2540
 7625 0068 B0F1FF3F 		cmp	r0, #-1
 7626 006c 13D0     		beq	.L604
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7627              		.loc 1 4037 51 is_stmt 1 discriminator 2 view .LVU2541
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 7628              		.loc 1 4038 18 view .LVU2542
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 7629              		.loc 1 4038 25 is_stmt 0 view .LVU2543
 7630 006e 0135     		adds	r5, r5, #1
 7631              	.LVL901:
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 7632              		.loc 1 4038 18 view .LVU2544
 7633 0070 8542     		cmp	r5, r0
 7634 0072 F1D0     		beq	.L566
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 7635              		.loc 1 4039 6 is_stmt 1 view .LVU2545
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 7636              		.loc 1 4039 9 is_stmt 0 view .LVU2546
 7637 0074 CB45     		cmp	fp, r9
 7638 0076 05D3     		bcc	.L567
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7639              		.loc 1 4040 7 is_stmt 1 view .LVU2547
 7640              	.LVL902:
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7641              		.loc 1 4040 14 is_stmt 0 view .LVU2548
ARM GAS  C:\usertemp\ccmutrvj.s 			page 277


 7642 0078 4346     		mov	r3, r8
 7643 007a 43F8087B 		str	r7, [r3], #8
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7644              		.loc 1 4040 21 is_stmt 1 view .LVU2549
 7645              	.LVL903:
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7646              		.loc 1 4040 28 is_stmt 0 view .LVU2550
 7647 007e C8F804A0 		str	r10, [r8, #4]
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7648              		.loc 1 4040 25 view .LVU2551
 7649 0082 9846     		mov	r8, r3
 7650              	.LVL904:
 7651              	.L567:
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7652              		.loc 1 4042 17 is_stmt 1 view .LVU2552
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7653              		.loc 1 4042 21 is_stmt 0 view .LVU2553
 7654 0084 019B     		ldr	r3, [sp, #4]
 7655 0086 9B69     		ldr	r3, [r3, #24]
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7656              		.loc 1 4042 17 view .LVU2554
 7657 0088 8B42     		cmp	r3, r1
 7658 008a 09D9     		bls	.L563
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 7659              		.loc 1 4035 12 view .LVU2555
 7660 008c 8A46     		mov	r10, r1
 7661              	.LVL905:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 7662              		.loc 1 4035 12 view .LVU2556
 7663 008e DFE7     		b	.L568
 7664              	.LVL906:
 7665              	.L603:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7666              		.loc 1 4036 20 is_stmt 1 discriminator 1 view .LVU2557
 7667 0090 0226     		movs	r6, #2
 7668              	.LVL907:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7669              		.loc 1 4036 20 is_stmt 0 discriminator 1 view .LVU2558
 7670 0092 6675     		strb	r6, [r4, #21]
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7671              		.loc 1 4036 20 is_stmt 1 discriminator 1 view .LVU2559
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7672              		.loc 1 4036 20 is_stmt 0 view .LVU2560
 7673 0094 CEE7     		b	.L560
 7674              	.LVL908:
 7675              	.L604:
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7676              		.loc 1 4037 29 is_stmt 1 discriminator 1 view .LVU2561
 7677 0096 0126     		movs	r6, #1
 7678              	.LVL909:
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7679              		.loc 1 4037 29 is_stmt 0 discriminator 1 view .LVU2562
 7680 0098 6675     		strb	r6, [r4, #21]
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7681              		.loc 1 4037 29 is_stmt 1 discriminator 1 view .LVU2563
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7682              		.loc 1 4037 29 is_stmt 0 view .LVU2564
ARM GAS  C:\usertemp\ccmutrvj.s 			page 278


 7683 009a CBE7     		b	.L560
 7684              	.LVL910:
 7685              	.L594:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 7686              		.loc 1 4027 24 view .LVU2565
 7687 009c 4FF00209 		mov	r9, #2
 7688              	.LVL911:
 7689              	.L563:
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 7690              		.loc 1 4044 4 is_stmt 1 view .LVU2566
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 7691              		.loc 1 4044 7 is_stmt 0 view .LVU2567
 7692 00a0 E36A     		ldr	r3, [r4, #44]
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 7693              		.loc 1 4044 15 view .LVU2568
 7694 00a2 C3F80090 		str	r9, [r3]
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 7695              		.loc 1 4045 4 is_stmt 1 view .LVU2569
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 7696              		.loc 1 4045 7 is_stmt 0 view .LVU2570
 7697 00a6 D945     		cmp	r9, fp
 7698 00a8 00F2EC80 		bhi	.L596
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 7699              		.loc 1 4046 5 is_stmt 1 view .LVU2571
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 7700              		.loc 1 4046 10 is_stmt 0 view .LVU2572
 7701 00ac 0023     		movs	r3, #0
 7702 00ae C8F80030 		str	r3, [r8]
 7703 00b2 BFE7     		b	.L560
 7704              	.LVL912:
 7705              	.L602:
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 7706              		.loc 1 4054 5 is_stmt 1 view .LVU2573
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 7707              		.loc 1 4054 17 is_stmt 0 view .LVU2574
 7708 00b4 07F1FF38 		add	r8, r7, #-1
 7709 00b8 4146     		mov	r1, r8
 7710 00ba 2046     		mov	r0, r4
 7711 00bc FFF7FEFF 		bl	clmt_clust
 7712              	.LVL913:
 7713 00c0 0146     		mov	r1, r0
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 7714              		.loc 1 4054 15 discriminator 1 view .LVU2575
 7715 00c2 E061     		str	r0, [r4, #28]
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 7716              		.loc 1 4055 5 is_stmt 1 view .LVU2576
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 7717              		.loc 1 4055 11 is_stmt 0 view .LVU2577
 7718 00c4 019D     		ldr	r5, [sp, #4]
 7719 00c6 2846     		mov	r0, r5
 7720 00c8 FFF7FEFF 		bl	clust2sect
 7721              	.LVL914:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 7722              		.loc 1 4056 5 is_stmt 1 view .LVU2578
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 7723              		.loc 1 4056 8 is_stmt 0 view .LVU2579
 7724 00cc E0B1     		cbz	r0, .L605
ARM GAS  C:\usertemp\ccmutrvj.s 			page 279


4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 7725              		.loc 1 4056 36 is_stmt 1 discriminator 2 view .LVU2580
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 7726              		.loc 1 4057 5 view .LVU2581
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 7727              		.loc 1 4057 45 is_stmt 0 view .LVU2582
 7728 00ce 6989     		ldrh	r1, [r5, #10]
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 7729              		.loc 1 4057 53 view .LVU2583
 7730 00d0 0139     		subs	r1, r1, #1
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 7731              		.loc 1 4057 40 view .LVU2584
 7732 00d2 01EA5821 		and	r1, r1, r8, lsr #9
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 7733              		.loc 1 4057 9 view .LVU2585
 7734 00d6 01EB0008 		add	r8, r1, r0
 7735              	.LVL915:
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7736              		.loc 1 4058 5 is_stmt 1 view .LVU2586
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7737              		.loc 1 4058 18 is_stmt 0 view .LVU2587
 7738 00da C7F30807 		ubfx	r7, r7, #0, #9
 7739              	.LVL916:
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7740              		.loc 1 4058 8 view .LVU2588
 7741 00de 002F     		cmp	r7, #0
 7742 00e0 A8D0     		beq	.L560
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7743              		.loc 1 4058 39 discriminator 1 view .LVU2589
 7744 00e2 226A     		ldr	r2, [r4, #32]
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7745              		.loc 1 4058 27 discriminator 1 view .LVU2590
 7746 00e4 4245     		cmp	r2, r8
 7747 00e6 A5D0     		beq	.L560
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7748              		.loc 1 4061 6 is_stmt 1 view .LVU2591
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7749              		.loc 1 4061 10 is_stmt 0 view .LVU2592
 7750 00e8 94F91430 		ldrsb	r3, [r4, #20]
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7751              		.loc 1 4061 9 view .LVU2593
 7752 00ec 002B     		cmp	r3, #0
 7753 00ee 0EDB     		blt	.L606
 7754              	.L571:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7755              		.loc 1 4066 6 is_stmt 1 view .LVU2594
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7756              		.loc 1 4066 10 is_stmt 0 view .LVU2595
 7757 00f0 0123     		movs	r3, #1
 7758 00f2 4246     		mov	r2, r8
 7759 00f4 04F13001 		add	r1, r4, #48
 7760 00f8 0198     		ldr	r0, [sp, #4]
 7761 00fa 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 7762 00fc FFF7FEFF 		bl	disk_read
 7763              	.LVL917:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7764              		.loc 1 4066 9 discriminator 1 view .LVU2596
ARM GAS  C:\usertemp\ccmutrvj.s 			page 280


 7765 0100 A0B9     		cbnz	r0, .L607
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7766              		.loc 1 4066 79 is_stmt 1 discriminator 2 view .LVU2597
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7767              		.loc 1 4068 6 view .LVU2598
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7768              		.loc 1 4068 15 is_stmt 0 view .LVU2599
 7769 0102 C4F82080 		str	r8, [r4, #32]
 7770 0106 95E7     		b	.L560
 7771              	.LVL918:
 7772              	.L605:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 7773              		.loc 1 4056 15 is_stmt 1 discriminator 1 view .LVU2600
 7774 0108 0226     		movs	r6, #2
 7775              	.LVL919:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 7776              		.loc 1 4056 15 is_stmt 0 discriminator 1 view .LVU2601
 7777 010a 6675     		strb	r6, [r4, #21]
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 7778              		.loc 1 4056 15 is_stmt 1 discriminator 1 view .LVU2602
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 7779              		.loc 1 4056 15 is_stmt 0 view .LVU2603
 7780 010c 92E7     		b	.L560
 7781              	.LVL920:
 7782              	.L606:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 7783              		.loc 1 4062 7 is_stmt 1 view .LVU2604
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 7784              		.loc 1 4062 11 is_stmt 0 view .LVU2605
 7785 010e 0123     		movs	r3, #1
 7786 0110 04F13001 		add	r1, r4, #48
 7787 0114 6878     		ldrb	r0, [r5, #1]	@ zero_extendqisi2
 7788 0116 FFF7FEFF 		bl	disk_write
 7789              	.LVL921:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 7790              		.loc 1 4062 10 discriminator 1 view .LVU2606
 7791 011a 20B9     		cbnz	r0, .L608
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 7792              		.loc 1 4062 86 is_stmt 1 discriminator 2 view .LVU2607
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7793              		.loc 1 4063 7 view .LVU2608
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7794              		.loc 1 4063 9 is_stmt 0 view .LVU2609
 7795 011c 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7796              		.loc 1 4063 16 view .LVU2610
 7797 011e 03F07F03 		and	r3, r3, #127
 7798 0122 2375     		strb	r3, [r4, #20]
 7799 0124 E4E7     		b	.L571
 7800              	.L608:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 7801              		.loc 1 4062 64 is_stmt 1 discriminator 1 view .LVU2611
 7802 0126 0126     		movs	r6, #1
 7803              	.LVL922:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 7804              		.loc 1 4062 64 is_stmt 0 discriminator 1 view .LVU2612
 7805 0128 6675     		strb	r6, [r4, #21]
ARM GAS  C:\usertemp\ccmutrvj.s 			page 281


4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 7806              		.loc 1 4062 64 is_stmt 1 discriminator 1 view .LVU2613
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 7807              		.loc 1 4062 64 is_stmt 0 view .LVU2614
 7808 012a 83E7     		b	.L560
 7809              	.LVL923:
 7810              	.L607:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7811              		.loc 1 4066 57 is_stmt 1 discriminator 1 view .LVU2615
 7812 012c 0126     		movs	r6, #1
 7813              	.LVL924:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7814              		.loc 1 4066 57 is_stmt 0 discriminator 1 view .LVU2616
 7815 012e 6675     		strb	r6, [r4, #21]
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7816              		.loc 1 4066 57 is_stmt 1 discriminator 1 view .LVU2617
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7817              		.loc 1 4066 57 is_stmt 0 view .LVU2618
 7818 0130 80E7     		b	.L560
 7819              	.LVL925:
 7820              	.L561:
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 7821              		.loc 1 4080 3 is_stmt 1 view .LVU2619
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 7822              		.loc 1 4080 20 is_stmt 0 view .LVU2620
 7823 0132 E368     		ldr	r3, [r4, #12]
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 7824              		.loc 1 4080 6 view .LVU2621
 7825 0134 AB42     		cmp	r3, r5
 7826 0136 04D2     		bcs	.L574
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 7827              		.loc 1 4080 53 discriminator 1 view .LVU2622
 7828 0138 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 7829              		.loc 1 4080 29 discriminator 1 view .LVU2623
 7830 013a 12F0020F 		tst	r2, #2
 7831 013e 00D1     		bne	.L574
4081:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7832              		.loc 1 4081 8 view .LVU2624
 7833 0140 1D46     		mov	r5, r3
 7834              	.LVL926:
 7835              	.L574:
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 7836              		.loc 1 4083 3 is_stmt 1 view .LVU2625
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 7837              		.loc 1 4083 9 is_stmt 0 view .LVU2626
 7838 0142 A369     		ldr	r3, [r4, #24]
 7839              	.LVL927:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7840              		.loc 1 4084 3 is_stmt 1 view .LVU2627
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7841              		.loc 1 4084 12 is_stmt 0 view .LVU2628
 7842 0144 0022     		movs	r2, #0
 7843 0146 A261     		str	r2, [r4, #24]
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
 7844              		.loc 1 4085 3 is_stmt 1 view .LVU2629
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 282


 7845              		.loc 1 4085 6 is_stmt 0 view .LVU2630
 7846 0148 DDB1     		cbz	r5, .L575
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7847              		.loc 1 4086 4 is_stmt 1 view .LVU2631
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7848              		.loc 1 4086 19 is_stmt 0 view .LVU2632
 7849 014a 019A     		ldr	r2, [sp, #4]
 7850 014c B2F80A80 		ldrh	r8, [r2, #10]
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7851              		.loc 1 4086 8 view .LVU2633
 7852 0150 4FEA4828 		lsl	r8, r8, #9
 7853              	.LVL928:
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 7854              		.loc 1 4087 4 is_stmt 1 view .LVU2634
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 7855              		.loc 1 4087 7 is_stmt 0 view .LVU2635
 7856 0154 73B1     		cbz	r3, .L576
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 7857              		.loc 1 4088 10 view .LVU2636
 7858 0156 6A1E     		subs	r2, r5, #1
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 7859              		.loc 1 4088 15 view .LVU2637
 7860 0158 B2FBF8F2 		udiv	r2, r2, r8
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 7861              		.loc 1 4088 31 view .LVU2638
 7862 015c 013B     		subs	r3, r3, #1
 7863              	.LVL929:
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 7864              		.loc 1 4088 36 view .LVU2639
 7865 015e B3FBF8F1 		udiv	r1, r3, r8
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 7866              		.loc 1 4087 18 discriminator 1 view .LVU2640
 7867 0162 8A42     		cmp	r2, r1
 7868 0164 06D3     		bcc	.L576
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7869              		.loc 1 4089 5 is_stmt 1 view .LVU2641
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7870              		.loc 1 4089 30 is_stmt 0 view .LVU2642
 7871 0166 C8F10002 		rsb	r2, r8, #0
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7872              		.loc 1 4089 28 view .LVU2643
 7873 016a 1340     		ands	r3, r3, r2
 7874              	.LVL930:
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7875              		.loc 1 4089 14 view .LVU2644
 7876 016c A361     		str	r3, [r4, #24]
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 7877              		.loc 1 4090 5 is_stmt 1 view .LVU2645
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 7878              		.loc 1 4090 9 is_stmt 0 view .LVU2646
 7879 016e EF1A     		subs	r7, r5, r3
 7880              	.LVL931:
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 7881              		.loc 1 4091 5 is_stmt 1 view .LVU2647
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 7882              		.loc 1 4091 10 is_stmt 0 view .LVU2648
 7883 0170 E569     		ldr	r5, [r4, #28]
ARM GAS  C:\usertemp\ccmutrvj.s 			page 283


 7884              	.LVL932:
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 7885              		.loc 1 4091 10 view .LVU2649
 7886 0172 04E0     		b	.L577
 7887              	.LVL933:
 7888              	.L576:
4093:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7889              		.loc 1 4093 5 is_stmt 1 view .LVU2650
4093:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7890              		.loc 1 4093 10 is_stmt 0 view .LVU2651
 7891 0174 A068     		ldr	r0, [r4, #8]
 7892              	.LVL934:
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 7893              		.loc 1 4095 5 is_stmt 1 view .LVU2652
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 7894              		.loc 1 4095 8 is_stmt 0 view .LVU2653
 7895 0176 30B3     		cbz	r0, .L609
 7896              	.L578:
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7897              		.loc 1 4102 5 is_stmt 1 view .LVU2654
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7898              		.loc 1 4102 15 is_stmt 0 view .LVU2655
 7899 0178 E061     		str	r0, [r4, #28]
 7900 017a 2F46     		mov	r7, r5
 7901 017c 0546     		mov	r5, r0
 7902              	.LVL935:
 7903              	.L577:
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 7904              		.loc 1 4104 4 is_stmt 1 view .LVU2656
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 7905              		.loc 1 4104 7 is_stmt 0 view .LVU2657
 7906 017e 002D     		cmp	r5, #0
 7907 0180 41D1     		bne	.L581
 7908              	.LVL936:
 7909              	.L575:
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 7910              		.loc 1 4134 3 is_stmt 1 view .LVU2658
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 7911              		.loc 1 4134 26 is_stmt 0 view .LVU2659
 7912 0182 A369     		ldr	r3, [r4, #24]
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 7913              		.loc 1 4134 42 view .LVU2660
 7914 0184 E268     		ldr	r2, [r4, #12]
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 7915              		.loc 1 4134 6 view .LVU2661
 7916 0186 9342     		cmp	r3, r2
 7917 0188 04D9     		bls	.L590
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
 7918              		.loc 1 4135 4 is_stmt 1 view .LVU2662
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
 7919              		.loc 1 4135 20 is_stmt 0 view .LVU2663
 7920 018a E360     		str	r3, [r4, #12]
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7921              		.loc 1 4136 4 is_stmt 1 view .LVU2664
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7922              		.loc 1 4136 6 is_stmt 0 view .LVU2665
 7923 018c 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
ARM GAS  C:\usertemp\ccmutrvj.s 			page 284


4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7924              		.loc 1 4136 13 view .LVU2666
 7925 018e 42F04002 		orr	r2, r2, #64
 7926 0192 2275     		strb	r2, [r4, #20]
 7927              	.L590:
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7928              		.loc 1 4138 3 is_stmt 1 view .LVU2667
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7929              		.loc 1 4138 16 is_stmt 0 view .LVU2668
 7930 0194 C3F30803 		ubfx	r3, r3, #0, #9
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7931              		.loc 1 4138 6 view .LVU2669
 7932 0198 002B     		cmp	r3, #0
 7933 019a 3FF44BAF 		beq	.L560
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7934              		.loc 1 4138 39 discriminator 1 view .LVU2670
 7935 019e 226A     		ldr	r2, [r4, #32]
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7936              		.loc 1 4138 25 discriminator 1 view .LVU2671
 7937 01a0 AA42     		cmp	r2, r5
 7938 01a2 3FF447AF 		beq	.L560
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7939              		.loc 1 4141 4 is_stmt 1 view .LVU2672
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7940              		.loc 1 4141 8 is_stmt 0 view .LVU2673
 7941 01a6 94F91430 		ldrsb	r3, [r4, #20]
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7942              		.loc 1 4141 7 view .LVU2674
 7943 01aa 002B     		cmp	r3, #0
 7944 01ac 57DB     		blt	.L610
 7945              	.L591:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7946              		.loc 1 4146 4 is_stmt 1 view .LVU2675
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7947              		.loc 1 4146 8 is_stmt 0 view .LVU2676
 7948 01ae 0123     		movs	r3, #1
 7949 01b0 2A46     		mov	r2, r5
 7950 01b2 04F13001 		add	r1, r4, #48
 7951 01b6 0198     		ldr	r0, [sp, #4]
 7952 01b8 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 7953 01ba FFF7FEFF 		bl	disk_read
 7954              	.LVL937:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7955              		.loc 1 4146 7 discriminator 1 view .LVU2677
 7956 01be 0028     		cmp	r0, #0
 7957 01c0 5DD1     		bne	.L611
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7958              		.loc 1 4146 79 is_stmt 1 discriminator 2 view .LVU2678
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7959              		.loc 1 4148 4 view .LVU2679
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7960              		.loc 1 4148 13 is_stmt 0 view .LVU2680
 7961 01c2 2562     		str	r5, [r4, #32]
 7962 01c4 36E7     		b	.L560
 7963              	.LVL938:
 7964              	.L609:
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 285


 7965              		.loc 1 4096 6 is_stmt 1 view .LVU2681
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 7966              		.loc 1 4096 13 is_stmt 0 view .LVU2682
 7967 01c6 0021     		movs	r1, #0
 7968 01c8 2046     		mov	r0, r4
 7969              	.LVL939:
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 7970              		.loc 1 4096 13 view .LVU2683
 7971 01ca FFF7FEFF 		bl	create_chain
 7972              	.LVL940:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7973              		.loc 1 4097 6 is_stmt 1 view .LVU2684
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7974              		.loc 1 4097 9 is_stmt 0 view .LVU2685
 7975 01ce 0128     		cmp	r0, #1
 7976 01d0 04D0     		beq	.L612
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7977              		.loc 1 4097 42 is_stmt 1 discriminator 2 view .LVU2686
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 7978              		.loc 1 4098 6 view .LVU2687
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 7979              		.loc 1 4098 9 is_stmt 0 view .LVU2688
 7980 01d2 B0F1FF3F 		cmp	r0, #-1
 7981 01d6 04D0     		beq	.L613
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 7982              		.loc 1 4098 52 is_stmt 1 discriminator 2 view .LVU2689
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7983              		.loc 1 4099 6 view .LVU2690
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7984              		.loc 1 4099 21 is_stmt 0 view .LVU2691
 7985 01d8 A060     		str	r0, [r4, #8]
 7986 01da CDE7     		b	.L578
 7987              	.L612:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7988              		.loc 1 4097 21 is_stmt 1 discriminator 1 view .LVU2692
 7989 01dc 0226     		movs	r6, #2
 7990              	.LVL941:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7991              		.loc 1 4097 21 is_stmt 0 discriminator 1 view .LVU2693
 7992 01de 6675     		strb	r6, [r4, #21]
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7993              		.loc 1 4097 21 is_stmt 1 discriminator 1 view .LVU2694
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7994              		.loc 1 4097 21 is_stmt 0 view .LVU2695
 7995 01e0 28E7     		b	.L560
 7996              	.LVL942:
 7997              	.L613:
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 7998              		.loc 1 4098 30 is_stmt 1 discriminator 1 view .LVU2696
 7999 01e2 0126     		movs	r6, #1
 8000              	.LVL943:
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 8001              		.loc 1 4098 30 is_stmt 0 discriminator 1 view .LVU2697
 8002 01e4 6675     		strb	r6, [r4, #21]
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 8003              		.loc 1 4098 30 is_stmt 1 discriminator 1 view .LVU2698
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 286


 8004              		.loc 1 4098 30 is_stmt 0 view .LVU2699
 8005 01e6 25E7     		b	.L560
 8006              	.LVL944:
 8007              	.L582:
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8008              		.loc 1 4120 7 is_stmt 1 view .LVU2700
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8009              		.loc 1 4120 14 is_stmt 0 view .LVU2701
 8010 01e8 2946     		mov	r1, r5
 8011 01ea 2046     		mov	r0, r4
 8012 01ec FFF7FEFF 		bl	get_fat
 8013              	.LVL945:
 8014 01f0 0546     		mov	r5, r0
 8015              	.LVL946:
 8016              	.L584:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8017              		.loc 1 4122 6 is_stmt 1 view .LVU2702
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8018              		.loc 1 4122 9 is_stmt 0 view .LVU2703
 8019 01f2 B5F1FF3F 		cmp	r5, #-1
 8020 01f6 27D0     		beq	.L614
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8021              		.loc 1 4122 52 is_stmt 1 discriminator 2 view .LVU2704
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8022              		.loc 1 4123 6 view .LVU2705
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8023              		.loc 1 4123 9 is_stmt 0 view .LVU2706
 8024 01f8 012D     		cmp	r5, #1
 8025 01fa 28D9     		bls	.L586
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8026              		.loc 1 4123 33 discriminator 2 view .LVU2707
 8027 01fc 019B     		ldr	r3, [sp, #4]
 8028 01fe 9B69     		ldr	r3, [r3, #24]
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8029              		.loc 1 4123 20 discriminator 2 view .LVU2708
 8030 0200 AB42     		cmp	r3, r5
 8031 0202 24D9     		bls	.L586
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8032              		.loc 1 4123 66 is_stmt 1 discriminator 4 view .LVU2709
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8033              		.loc 1 4124 6 view .LVU2710
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8034              		.loc 1 4124 16 is_stmt 0 view .LVU2711
 8035 0204 E561     		str	r5, [r4, #28]
 8036              	.LVL947:
 8037              	.L581:
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
 8038              		.loc 1 4105 16 is_stmt 1 view .LVU2712
 8039 0206 4745     		cmp	r7, r8
 8040 0208 10D9     		bls	.L583
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 8041              		.loc 1 4106 6 view .LVU2713
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 8042              		.loc 1 4106 10 is_stmt 0 view .LVU2714
 8043 020a A7EB0807 		sub	r7, r7, r8
 8044              	.LVL948:
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
ARM GAS  C:\usertemp\ccmutrvj.s 			page 287


 8045              		.loc 1 4106 18 is_stmt 1 view .LVU2715
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 8046              		.loc 1 4106 20 is_stmt 0 view .LVU2716
 8047 020e A369     		ldr	r3, [r4, #24]
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 8048              		.loc 1 4106 27 view .LVU2717
 8049 0210 4344     		add	r3, r3, r8
 8050 0212 A361     		str	r3, [r4, #24]
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 8051              		.loc 1 4108 6 is_stmt 1 view .LVU2718
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 8052              		.loc 1 4108 12 is_stmt 0 view .LVU2719
 8053 0214 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 8054              		.loc 1 4108 9 view .LVU2720
 8055 0216 13F0020F 		tst	r3, #2
 8056 021a E5D0     		beq	.L582
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
 8057              		.loc 1 4109 7 is_stmt 1 view .LVU2721
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 8058              		.loc 1 4113 7 view .LVU2722
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 8059              		.loc 1 4113 14 is_stmt 0 view .LVU2723
 8060 021c 2946     		mov	r1, r5
 8061 021e 2046     		mov	r0, r4
 8062 0220 FFF7FEFF 		bl	create_chain
 8063              	.LVL949:
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
 8064              		.loc 1 4114 7 is_stmt 1 view .LVU2724
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
 8065              		.loc 1 4114 10 is_stmt 0 view .LVU2725
 8066 0224 0546     		mov	r5, r0
 8067 0226 0028     		cmp	r0, #0
 8068 0228 E3D1     		bne	.L584
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8069              		.loc 1 4115 12 view .LVU2726
 8070 022a 0746     		mov	r7, r0
 8071              	.LVL950:
 8072              	.L583:
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 8073              		.loc 1 4126 5 is_stmt 1 view .LVU2727
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 8074              		.loc 1 4126 7 is_stmt 0 view .LVU2728
 8075 022c A369     		ldr	r3, [r4, #24]
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 8076              		.loc 1 4126 14 view .LVU2729
 8077 022e 3B44     		add	r3, r3, r7
 8078 0230 A361     		str	r3, [r4, #24]
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 8079              		.loc 1 4127 5 is_stmt 1 view .LVU2730
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 8080              		.loc 1 4127 13 is_stmt 0 view .LVU2731
 8081 0232 C7F30803 		ubfx	r3, r7, #0, #9
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 8082              		.loc 1 4127 8 view .LVU2732
 8083 0236 83B1     		cbz	r3, .L599
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 288


 8084              		.loc 1 4128 6 is_stmt 1 view .LVU2733
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
 8085              		.loc 1 4128 14 is_stmt 0 view .LVU2734
 8086 0238 2946     		mov	r1, r5
 8087 023a 0198     		ldr	r0, [sp, #4]
 8088 023c FFF7FEFF 		bl	clust2sect
 8089              	.LVL951:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8090              		.loc 1 4129 6 is_stmt 1 view .LVU2735
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8091              		.loc 1 4129 9 is_stmt 0 view .LVU2736
 8092 0240 40B1     		cbz	r0, .L615
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8093              		.loc 1 4129 39 is_stmt 1 discriminator 2 view .LVU2737
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8094              		.loc 1 4130 6 view .LVU2738
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8095              		.loc 1 4130 12 is_stmt 0 view .LVU2739
 8096 0242 00EB5725 		add	r5, r0, r7, lsr #9
 8097              	.LVL952:
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8098              		.loc 1 4130 12 view .LVU2740
 8099 0246 9CE7     		b	.L575
 8100              	.LVL953:
 8101              	.L614:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8102              		.loc 1 4122 30 is_stmt 1 discriminator 1 view .LVU2741
 8103 0248 0126     		movs	r6, #1
 8104              	.LVL954:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8105              		.loc 1 4122 30 is_stmt 0 discriminator 1 view .LVU2742
 8106 024a 6675     		strb	r6, [r4, #21]
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8107              		.loc 1 4122 30 is_stmt 1 discriminator 1 view .LVU2743
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 8108              		.loc 1 4122 30 is_stmt 0 view .LVU2744
 8109 024c F2E6     		b	.L560
 8110              	.LVL955:
 8111              	.L586:
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8112              		.loc 1 4123 45 is_stmt 1 discriminator 3 view .LVU2745
 8113 024e 0226     		movs	r6, #2
 8114              	.LVL956:
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8115              		.loc 1 4123 45 is_stmt 0 discriminator 3 view .LVU2746
 8116 0250 6675     		strb	r6, [r4, #21]
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8117              		.loc 1 4123 45 is_stmt 1 discriminator 3 view .LVU2747
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 8118              		.loc 1 4123 45 is_stmt 0 view .LVU2748
 8119 0252 EFE6     		b	.L560
 8120              	.LVL957:
 8121              	.L615:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8122              		.loc 1 4129 18 is_stmt 1 discriminator 1 view .LVU2749
 8123 0254 0226     		movs	r6, #2
 8124              	.LVL958:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 289


4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8125              		.loc 1 4129 18 is_stmt 0 discriminator 1 view .LVU2750
 8126 0256 6675     		strb	r6, [r4, #21]
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8127              		.loc 1 4129 18 is_stmt 1 discriminator 1 view .LVU2751
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 8128              		.loc 1 4129 18 is_stmt 0 view .LVU2752
 8129 0258 ECE6     		b	.L560
 8130              	.LVL959:
 8131              	.L599:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 8132              		.loc 1 4084 20 view .LVU2753
 8133 025a 1D46     		mov	r5, r3
 8134              	.LVL960:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 8135              		.loc 1 4084 20 view .LVU2754
 8136 025c 91E7     		b	.L575
 8137              	.LVL961:
 8138              	.L610:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8139              		.loc 1 4142 5 is_stmt 1 view .LVU2755
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8140              		.loc 1 4142 9 is_stmt 0 view .LVU2756
 8141 025e 0123     		movs	r3, #1
 8142 0260 04F13001 		add	r1, r4, #48
 8143 0264 0198     		ldr	r0, [sp, #4]
 8144 0266 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 8145 0268 FFF7FEFF 		bl	disk_write
 8146              	.LVL962:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8147              		.loc 1 4142 8 discriminator 1 view .LVU2757
 8148 026c 20B9     		cbnz	r0, .L616
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8149              		.loc 1 4142 84 is_stmt 1 discriminator 2 view .LVU2758
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8150              		.loc 1 4143 5 view .LVU2759
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8151              		.loc 1 4143 7 is_stmt 0 view .LVU2760
 8152 026e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8153              		.loc 1 4143 14 view .LVU2761
 8154 0270 03F07F03 		and	r3, r3, #127
 8155 0274 2375     		strb	r3, [r4, #20]
 8156 0276 9AE7     		b	.L591
 8157              	.L616:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8158              		.loc 1 4142 62 is_stmt 1 discriminator 1 view .LVU2762
 8159 0278 0126     		movs	r6, #1
 8160              	.LVL963:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8161              		.loc 1 4142 62 is_stmt 0 discriminator 1 view .LVU2763
 8162 027a 6675     		strb	r6, [r4, #21]
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8163              		.loc 1 4142 62 is_stmt 1 discriminator 1 view .LVU2764
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8164              		.loc 1 4142 62 is_stmt 0 view .LVU2765
 8165 027c DAE6     		b	.L560
ARM GAS  C:\usertemp\ccmutrvj.s 			page 290


 8166              	.LVL964:
 8167              	.L611:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8168              		.loc 1 4146 57 is_stmt 1 discriminator 1 view .LVU2766
 8169 027e 0126     		movs	r6, #1
 8170              	.LVL965:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8171              		.loc 1 4146 57 is_stmt 0 discriminator 1 view .LVU2767
 8172 0280 6675     		strb	r6, [r4, #21]
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8173              		.loc 1 4146 57 is_stmt 1 discriminator 1 view .LVU2768
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8174              		.loc 1 4146 57 is_stmt 0 view .LVU2769
 8175 0282 D7E6     		b	.L560
 8176              	.LVL966:
 8177              	.L596:
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8178              		.loc 1 4048 9 view .LVU2770
 8179 0284 1126     		movs	r6, #17
 8180              	.LVL967:
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8181              		.loc 1 4048 9 view .LVU2771
 8182 0286 D5E6     		b	.L560
 8183              		.cfi_endproc
 8184              	.LFE379:
 8186              		.section	.text.f_opendir,"ax",%progbits
 8187              		.align	1
 8188              		.global	f_opendir
 8189              		.syntax unified
 8190              		.thumb
 8191              		.thumb_func
 8193              	f_opendir:
 8194              	.LVL968:
 8195              	.LFB380:
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8196              		.loc 1 4166 1 is_stmt 1 view -0
 8197              		.cfi_startproc
 8198              		@ args = 0, pretend = 0, frame = 16
 8199              		@ frame_needed = 0, uses_anonymous_args = 0
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8200              		.loc 1 4166 1 is_stmt 0 view .LVU2773
 8201 0000 30B5     		push	{r4, r5, lr}
 8202              	.LCFI83:
 8203              		.cfi_def_cfa_offset 12
 8204              		.cfi_offset 4, -12
 8205              		.cfi_offset 5, -8
 8206              		.cfi_offset 14, -4
 8207 0002 85B0     		sub	sp, sp, #20
 8208              	.LCFI84:
 8209              		.cfi_def_cfa_offset 32
 8210 0004 0191     		str	r1, [sp, #4]
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8211              		.loc 1 4167 2 is_stmt 1 view .LVU2774
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
 8212              		.loc 1 4168 2 view .LVU2775
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 8213              		.loc 1 4169 2 view .LVU2776
ARM GAS  C:\usertemp\ccmutrvj.s 			page 291


4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8214              		.loc 1 4173 2 view .LVU2777
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8215              		.loc 1 4173 5 is_stmt 0 view .LVU2778
 8216 0006 0028     		cmp	r0, #0
 8217 0008 3FD0     		beq	.L624
 8218 000a 0546     		mov	r5, r0
4176:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
 8219              		.loc 1 4176 2 is_stmt 1 view .LVU2779
 8220              	.LVL969:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8221              		.loc 1 4177 2 view .LVU2780
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8222              		.loc 1 4177 8 is_stmt 0 view .LVU2781
 8223 000c 0022     		movs	r2, #0
 8224 000e 03A9     		add	r1, sp, #12
 8225              	.LVL970:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8226              		.loc 1 4177 8 view .LVU2782
 8227 0010 01A8     		add	r0, sp, #4
 8228              	.LVL971:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8229              		.loc 1 4177 8 view .LVU2783
 8230 0012 FFF7FEFF 		bl	find_volume
 8231              	.LVL972:
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 8232              		.loc 1 4178 2 is_stmt 1 view .LVU2784
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 8233              		.loc 1 4178 5 is_stmt 0 view .LVU2785
 8234 0016 0446     		mov	r4, r0
 8235 0018 20B1     		cbz	r0, .L629
 8236              	.LVL973:
 8237              	.L619:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8238              		.loc 1 4220 20 is_stmt 1 discriminator 1 view .LVU2786
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8239              		.loc 1 4220 28 is_stmt 0 discriminator 1 view .LVU2787
 8240 001a 0023     		movs	r3, #0
 8241 001c 2B60     		str	r3, [r5]
 8242              	.LVL974:
 8243              	.L618:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8244              		.loc 1 4223 1 view .LVU2788
 8245 001e 2046     		mov	r0, r4
 8246 0020 05B0     		add	sp, sp, #20
 8247              	.LCFI85:
 8248              		.cfi_remember_state
 8249              		.cfi_def_cfa_offset 12
 8250              		@ sp needed
 8251 0022 30BD     		pop	{r4, r5, pc}
 8252              	.LVL975:
 8253              	.L629:
 8254              	.LCFI86:
 8255              		.cfi_restore_state
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 8256              		.loc 1 4179 3 is_stmt 1 view .LVU2789
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
ARM GAS  C:\usertemp\ccmutrvj.s 			page 292


 8257              		.loc 1 4179 11 is_stmt 0 view .LVU2790
 8258 0024 039B     		ldr	r3, [sp, #12]
 8259 0026 2B60     		str	r3, [r5]
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 8260              		.loc 1 4180 18 is_stmt 1 view .LVU2791
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 8261              		.loc 1 4181 3 view .LVU2792
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 8262              		.loc 1 4181 9 is_stmt 0 view .LVU2793
 8263 0028 0199     		ldr	r1, [sp, #4]
 8264 002a 2846     		mov	r0, r5
 8265              	.LVL976:
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 8266              		.loc 1 4181 9 view .LVU2794
 8267 002c FFF7FEFF 		bl	follow_path
 8268              	.LVL977:
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 8269              		.loc 1 4182 3 is_stmt 1 view .LVU2795
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 8270              		.loc 1 4182 6 is_stmt 0 view .LVU2796
 8271 0030 0446     		mov	r4, r0
 8272 0032 18BB     		cbnz	r0, .L620
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 8273              		.loc 1 4183 4 is_stmt 1 view .LVU2797
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 8274              		.loc 1 4183 8 is_stmt 0 view .LVU2798
 8275 0034 95F92F30 		ldrsb	r3, [r5, #47]
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 8276              		.loc 1 4183 7 view .LVU2799
 8277 0038 002B     		cmp	r3, #0
 8278 003a 08DB     		blt	.L621
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8279              		.loc 1 4184 5 is_stmt 1 view .LVU2800
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8280              		.loc 1 4184 12 is_stmt 0 view .LVU2801
 8281 003c AB79     		ldrb	r3, [r5, #6]	@ zero_extendqisi2
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8282              		.loc 1 4184 8 view .LVU2802
 8283 003e 13F0100F 		tst	r3, #16
 8284 0042 1AD0     		beq	.L625
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8285              		.loc 1 4196 7 is_stmt 1 view .LVU2803
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8286              		.loc 1 4196 21 is_stmt 0 view .LVU2804
 8287 0044 296A     		ldr	r1, [r5, #32]
 8288 0046 0398     		ldr	r0, [sp, #12]
 8289              	.LVL978:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8290              		.loc 1 4196 21 view .LVU2805
 8291 0048 FFF7FEFF 		bl	ld_clust
 8292              	.LVL979:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8293              		.loc 1 4196 19 discriminator 1 view .LVU2806
 8294 004c A860     		str	r0, [r5, #8]
 8295              	.L621:
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
 8296              		.loc 1 4202 4 is_stmt 1 view .LVU2807
ARM GAS  C:\usertemp\ccmutrvj.s 			page 293


4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 8297              		.loc 1 4203 5 view .LVU2808
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 8298              		.loc 1 4203 17 is_stmt 0 view .LVU2809
 8299 004e 039B     		ldr	r3, [sp, #12]
 8300 0050 DB88     		ldrh	r3, [r3, #6]
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 8301              		.loc 1 4203 13 view .LVU2810
 8302 0052 AB80     		strh	r3, [r5, #4]	@ movhi
4204:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8303              		.loc 1 4204 5 is_stmt 1 view .LVU2811
4204:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8304              		.loc 1 4204 11 is_stmt 0 view .LVU2812
 8305 0054 0021     		movs	r1, #0
 8306 0056 2846     		mov	r0, r5
 8307 0058 FFF7FEFF 		bl	dir_sdi
 8308              	.LVL980:
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
 8309              		.loc 1 4206 5 is_stmt 1 view .LVU2813
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
 8310              		.loc 1 4206 8 is_stmt 0 view .LVU2814
 8311 005c 0446     		mov	r4, r0
 8312 005e 68B9     		cbnz	r0, .L620
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 8313              		.loc 1 4207 6 is_stmt 1 view .LVU2815
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 8314              		.loc 1 4207 13 is_stmt 0 view .LVU2816
 8315 0060 AB68     		ldr	r3, [r5, #8]
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 8316              		.loc 1 4207 9 view .LVU2817
 8317 0062 13B9     		cbnz	r3, .L630
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8318              		.loc 1 4211 7 is_stmt 1 view .LVU2818
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8319              		.loc 1 4211 19 is_stmt 0 view .LVU2819
 8320 0064 0023     		movs	r3, #0
 8321 0066 2B61     		str	r3, [r5, #16]
 8322 0068 08E0     		b	.L620
 8323              	.L630:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 8324              		.loc 1 4208 7 is_stmt 1 view .LVU2820
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 8325              		.loc 1 4208 21 is_stmt 0 view .LVU2821
 8326 006a 0021     		movs	r1, #0
 8327 006c 2846     		mov	r0, r5
 8328              	.LVL981:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 8329              		.loc 1 4208 21 view .LVU2822
 8330 006e FFF7FEFF 		bl	inc_lock
 8331              	.LVL982:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 8332              		.loc 1 4208 19 discriminator 1 view .LVU2823
 8333 0072 2861     		str	r0, [r5, #16]
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8334              		.loc 1 4209 7 is_stmt 1 view .LVU2824
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8335              		.loc 1 4209 10 is_stmt 0 view .LVU2825
ARM GAS  C:\usertemp\ccmutrvj.s 			page 294


 8336 0074 10B9     		cbnz	r0, .L620
 8337              	.LVL983:
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8338              		.loc 1 4209 29 discriminator 1 view .LVU2826
 8339 0076 1224     		movs	r4, #18
 8340 0078 02E0     		b	.L623
 8341              	.LVL984:
 8342              	.L625:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8343              		.loc 1 4199 10 view .LVU2827
 8344 007a 0524     		movs	r4, #5
 8345              	.LVL985:
 8346              	.L620:
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
 8347              		.loc 1 4217 16 is_stmt 1 view .LVU2828
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8348              		.loc 1 4218 3 view .LVU2829
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8349              		.loc 1 4218 6 is_stmt 0 view .LVU2830
 8350 007c 042C     		cmp	r4, #4
 8351 007e 02D0     		beq	.L631
 8352              	.LVL986:
 8353              	.L623:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8354              		.loc 1 4220 2 is_stmt 1 view .LVU2831
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8355              		.loc 1 4220 5 is_stmt 0 view .LVU2832
 8356 0080 002C     		cmp	r4, #0
 8357 0082 CCD0     		beq	.L618
 8358 0084 C9E7     		b	.L619
 8359              	.L631:
 8360              	.LVL987:
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8361              		.loc 1 4218 30 discriminator 1 view .LVU2833
 8362 0086 0524     		movs	r4, #5
 8363 0088 C7E7     		b	.L619
 8364              	.LVL988:
 8365              	.L624:
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8366              		.loc 1 4173 18 discriminator 1 view .LVU2834
 8367 008a 0924     		movs	r4, #9
 8368 008c C7E7     		b	.L618
 8369              		.cfi_endproc
 8370              	.LFE380:
 8372              		.section	.text.f_closedir,"ax",%progbits
 8373              		.align	1
 8374              		.global	f_closedir
 8375              		.syntax unified
 8376              		.thumb
 8377              		.thumb_func
 8379              	f_closedir:
 8380              	.LVL989:
 8381              	.LFB381:
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8382              		.loc 1 4235 1 is_stmt 1 view -0
 8383              		.cfi_startproc
 8384              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\usertemp\ccmutrvj.s 			page 295


 8385              		@ frame_needed = 0, uses_anonymous_args = 0
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8386              		.loc 1 4235 1 is_stmt 0 view .LVU2836
 8387 0000 10B5     		push	{r4, lr}
 8388              	.LCFI87:
 8389              		.cfi_def_cfa_offset 8
 8390              		.cfi_offset 4, -8
 8391              		.cfi_offset 14, -4
 8392 0002 82B0     		sub	sp, sp, #8
 8393              	.LCFI88:
 8394              		.cfi_def_cfa_offset 16
 8395 0004 0446     		mov	r4, r0
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8396              		.loc 1 4236 2 is_stmt 1 view .LVU2837
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8397              		.loc 1 4237 2 view .LVU2838
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8398              		.loc 1 4240 2 view .LVU2839
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8399              		.loc 1 4240 8 is_stmt 0 view .LVU2840
 8400 0006 01A9     		add	r1, sp, #4
 8401 0008 FFF7FEFF 		bl	validate
 8402              	.LVL990:
4241:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8403              		.loc 1 4241 2 is_stmt 1 view .LVU2841
4241:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8404              		.loc 1 4241 5 is_stmt 0 view .LVU2842
 8405 000c 20B9     		cbnz	r0, .L633
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 8406              		.loc 1 4243 3 is_stmt 1 view .LVU2843
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 8407              		.loc 1 4243 14 is_stmt 0 view .LVU2844
 8408 000e 2369     		ldr	r3, [r4, #16]
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 8409              		.loc 1 4243 6 view .LVU2845
 8410 0010 23B9     		cbnz	r3, .L636
 8411              	.L634:
 8412              	.LVL991:
4246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8413              		.loc 1 4246 3 is_stmt 1 view .LVU2846
4246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8414              		.loc 1 4246 6 is_stmt 0 view .LVU2847
 8415 0012 08B9     		cbnz	r0, .L633
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8416              		.loc 1 4249 4 is_stmt 1 view .LVU2848
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8417              		.loc 1 4249 15 is_stmt 0 view .LVU2849
 8418 0014 0023     		movs	r3, #0
 8419 0016 2360     		str	r3, [r4]
 8420              	.LVL992:
 8421              	.L633:
4255:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8422              		.loc 1 4255 2 is_stmt 1 view .LVU2850
4256:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8423              		.loc 1 4256 1 is_stmt 0 view .LVU2851
 8424 0018 02B0     		add	sp, sp, #8
 8425              	.LCFI89:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 296


 8426              		.cfi_remember_state
 8427              		.cfi_def_cfa_offset 8
 8428              		@ sp needed
 8429 001a 10BD     		pop	{r4, pc}
 8430              	.LVL993:
 8431              	.L636:
 8432              	.LCFI90:
 8433              		.cfi_restore_state
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8434              		.loc 1 4244 4 is_stmt 1 view .LVU2852
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8435              		.loc 1 4244 10 is_stmt 0 view .LVU2853
 8436 001c 1846     		mov	r0, r3
 8437 001e FFF7FEFF 		bl	dec_lock
 8438              	.LVL994:
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8439              		.loc 1 4244 10 view .LVU2854
 8440 0022 F6E7     		b	.L634
 8441              		.cfi_endproc
 8442              	.LFE381:
 8444              		.section	.text.f_readdir,"ax",%progbits
 8445              		.align	1
 8446              		.global	f_readdir
 8447              		.syntax unified
 8448              		.thumb
 8449              		.thumb_func
 8451              	f_readdir:
 8452              	.LVL995:
 8453              	.LFB382:
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8454              		.loc 1 4269 1 is_stmt 1 view -0
 8455              		.cfi_startproc
 8456              		@ args = 0, pretend = 0, frame = 8
 8457              		@ frame_needed = 0, uses_anonymous_args = 0
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8458              		.loc 1 4269 1 is_stmt 0 view .LVU2856
 8459 0000 70B5     		push	{r4, r5, r6, lr}
 8460              	.LCFI91:
 8461              		.cfi_def_cfa_offset 16
 8462              		.cfi_offset 4, -16
 8463              		.cfi_offset 5, -12
 8464              		.cfi_offset 6, -8
 8465              		.cfi_offset 14, -4
 8466 0002 82B0     		sub	sp, sp, #8
 8467              	.LCFI92:
 8468              		.cfi_def_cfa_offset 24
 8469 0004 0446     		mov	r4, r0
 8470 0006 0D46     		mov	r5, r1
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8471              		.loc 1 4270 2 is_stmt 1 view .LVU2857
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 8472              		.loc 1 4271 2 view .LVU2858
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8473              		.loc 1 4275 2 view .LVU2859
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8474              		.loc 1 4275 8 is_stmt 0 view .LVU2860
 8475 0008 01A9     		add	r1, sp, #4
ARM GAS  C:\usertemp\ccmutrvj.s 			page 297


 8476              	.LVL996:
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8477              		.loc 1 4275 8 view .LVU2861
 8478 000a FFF7FEFF 		bl	validate
 8479              	.LVL997:
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 8480              		.loc 1 4276 2 is_stmt 1 view .LVU2862
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 8481              		.loc 1 4276 5 is_stmt 0 view .LVU2863
 8482 000e 0646     		mov	r6, r0
 8483 0010 C0B9     		cbnz	r0, .L638
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 8484              		.loc 1 4277 3 is_stmt 1 view .LVU2864
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 8485              		.loc 1 4277 6 is_stmt 0 view .LVU2865
 8486 0012 95B1     		cbz	r5, .L643
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
 8487              		.loc 1 4280 19 is_stmt 1 view .LVU2866
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 8488              		.loc 1 4281 4 view .LVU2867
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 8489              		.loc 1 4281 10 is_stmt 0 view .LVU2868
 8490 0014 0021     		movs	r1, #0
 8491 0016 2046     		mov	r0, r4
 8492              	.LVL998:
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 8493              		.loc 1 4281 10 view .LVU2869
 8494 0018 FFF7FEFF 		bl	dir_read
 8495              	.LVL999:
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 8496              		.loc 1 4282 4 is_stmt 1 view .LVU2870
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 8497              		.loc 1 4282 7 is_stmt 0 view .LVU2871
 8498 001c 0428     		cmp	r0, #4
 8499 001e 00D0     		beq	.L640
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 8500              		.loc 1 4283 4 is_stmt 1 view .LVU2872
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 8501              		.loc 1 4283 7 is_stmt 0 view .LVU2873
 8502 0020 98B9     		cbnz	r0, .L641
 8503              	.L640:
 8504              	.LVL1000:
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 8505              		.loc 1 4284 5 is_stmt 1 view .LVU2874
 8506 0022 2946     		mov	r1, r5
 8507 0024 2046     		mov	r0, r4
 8508 0026 FFF7FEFF 		bl	get_fileinfo
 8509              	.LVL1001:
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 8510              		.loc 1 4285 5 view .LVU2875
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 8511              		.loc 1 4285 11 is_stmt 0 view .LVU2876
 8512 002a 0021     		movs	r1, #0
 8513 002c 2046     		mov	r0, r4
 8514 002e FFF7FEFF 		bl	dir_next
 8515              	.LVL1002:
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 298


 8516              		.loc 1 4286 5 is_stmt 1 view .LVU2877
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8517              		.loc 1 4286 8 is_stmt 0 view .LVU2878
 8518 0032 0428     		cmp	r0, #4
 8519 0034 06D0     		beq	.L638
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 8520              		.loc 1 4285 11 view .LVU2879
 8521 0036 0646     		mov	r6, r0
 8522 0038 04E0     		b	.L638
 8523              	.L643:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8524              		.loc 1 4278 4 is_stmt 1 view .LVU2880
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8525              		.loc 1 4278 10 is_stmt 0 view .LVU2881
 8526 003a 0021     		movs	r1, #0
 8527 003c 2046     		mov	r0, r4
 8528              	.LVL1003:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8529              		.loc 1 4278 10 view .LVU2882
 8530 003e FFF7FEFF 		bl	dir_sdi
 8531              	.LVL1004:
 8532 0042 0646     		mov	r6, r0
 8533              	.LVL1005:
 8534              	.L638:
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8535              		.loc 1 4288 17 is_stmt 1 view .LVU2883
4291:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8536              		.loc 1 4291 2 view .LVU2884
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8537              		.loc 1 4292 1 is_stmt 0 view .LVU2885
 8538 0044 3046     		mov	r0, r6
 8539 0046 02B0     		add	sp, sp, #8
 8540              	.LCFI93:
 8541              		.cfi_remember_state
 8542              		.cfi_def_cfa_offset 16
 8543              		@ sp needed
 8544 0048 70BD     		pop	{r4, r5, r6, pc}
 8545              	.LVL1006:
 8546              	.L641:
 8547              	.LCFI94:
 8548              		.cfi_restore_state
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8549              		.loc 1 4292 1 view .LVU2886
 8550 004a 0646     		mov	r6, r0
 8551 004c FAE7     		b	.L638
 8552              		.cfi_endproc
 8553              	.LFE382:
 8555              		.section	.text.f_stat,"ax",%progbits
 8556              		.align	1
 8557              		.global	f_stat
 8558              		.syntax unified
 8559              		.thumb
 8560              		.thumb_func
 8562              	f_stat:
 8563              	.LVL1007:
 8564              	.LFB383:
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 299


 8565              		.loc 1 4357 1 is_stmt 1 view -0
 8566              		.cfi_startproc
 8567              		@ args = 0, pretend = 0, frame = 56
 8568              		@ frame_needed = 0, uses_anonymous_args = 0
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8569              		.loc 1 4357 1 is_stmt 0 view .LVU2888
 8570 0000 30B5     		push	{r4, r5, lr}
 8571              	.LCFI95:
 8572              		.cfi_def_cfa_offset 12
 8573              		.cfi_offset 4, -12
 8574              		.cfi_offset 5, -8
 8575              		.cfi_offset 14, -4
 8576 0002 8FB0     		sub	sp, sp, #60
 8577              	.LCFI96:
 8578              		.cfi_def_cfa_offset 72
 8579 0004 0190     		str	r0, [sp, #4]
 8580 0006 0C46     		mov	r4, r1
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 8581              		.loc 1 4358 2 is_stmt 1 view .LVU2889
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 8582              		.loc 1 4359 2 view .LVU2890
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8583              		.loc 1 4364 2 view .LVU2891
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8584              		.loc 1 4364 8 is_stmt 0 view .LVU2892
 8585 0008 0022     		movs	r2, #0
 8586 000a 02A9     		add	r1, sp, #8
 8587              	.LVL1008:
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8588              		.loc 1 4364 8 view .LVU2893
 8589 000c 01A8     		add	r0, sp, #4
 8590              	.LVL1009:
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8591              		.loc 1 4364 8 view .LVU2894
 8592 000e FFF7FEFF 		bl	find_volume
 8593              	.LVL1010:
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
 8594              		.loc 1 4365 2 is_stmt 1 view .LVU2895
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
 8595              		.loc 1 4365 5 is_stmt 0 view .LVU2896
 8596 0012 0546     		mov	r5, r0
 8597 0014 10B1     		cbz	r0, .L648
 8598              	.LVL1011:
 8599              	.L645:
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8600              		.loc 1 4375 16 is_stmt 1 view .LVU2897
4378:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8601              		.loc 1 4378 2 view .LVU2898
4379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8602              		.loc 1 4379 1 is_stmt 0 view .LVU2899
 8603 0016 2846     		mov	r0, r5
 8604 0018 0FB0     		add	sp, sp, #60
 8605              	.LCFI97:
 8606              		.cfi_remember_state
 8607              		.cfi_def_cfa_offset 12
 8608              		@ sp needed
 8609 001a 30BD     		pop	{r4, r5, pc}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 300


 8610              	.LVL1012:
 8611              	.L648:
 8612              	.LCFI98:
 8613              		.cfi_restore_state
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 8614              		.loc 1 4366 25 is_stmt 1 view .LVU2900
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 8615              		.loc 1 4367 3 view .LVU2901
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 8616              		.loc 1 4367 9 is_stmt 0 view .LVU2902
 8617 001c 0199     		ldr	r1, [sp, #4]
 8618 001e 02A8     		add	r0, sp, #8
 8619              	.LVL1013:
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 8620              		.loc 1 4367 9 view .LVU2903
 8621 0020 FFF7FEFF 		bl	follow_path
 8622              	.LVL1014:
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 8623              		.loc 1 4368 3 is_stmt 1 view .LVU2904
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 8624              		.loc 1 4368 6 is_stmt 0 view .LVU2905
 8625 0024 0546     		mov	r5, r0
 8626 0026 0028     		cmp	r0, #0
 8627 0028 F5D1     		bne	.L645
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 8628              		.loc 1 4369 4 is_stmt 1 view .LVU2906
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 8629              		.loc 1 4369 8 is_stmt 0 view .LVU2907
 8630 002a 9DF93730 		ldrsb	r3, [sp, #55]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 8631              		.loc 1 4369 7 view .LVU2908
 8632 002e 002B     		cmp	r3, #0
 8633 0030 06DB     		blt	.L646
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8634              		.loc 1 4372 5 is_stmt 1 view .LVU2909
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8635              		.loc 1 4372 8 is_stmt 0 view .LVU2910
 8636 0032 002C     		cmp	r4, #0
 8637 0034 EFD0     		beq	.L645
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8638              		.loc 1 4372 14 is_stmt 1 discriminator 1 view .LVU2911
 8639 0036 2146     		mov	r1, r4
 8640 0038 02A8     		add	r0, sp, #8
 8641              	.LVL1015:
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8642              		.loc 1 4372 14 is_stmt 0 discriminator 1 view .LVU2912
 8643 003a FFF7FEFF 		bl	get_fileinfo
 8644              	.LVL1016:
 8645 003e EAE7     		b	.L645
 8646              	.LVL1017:
 8647              	.L646:
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
 8648              		.loc 1 4370 9 view .LVU2913
 8649 0040 0625     		movs	r5, #6
 8650 0042 E8E7     		b	.L645
 8651              		.cfi_endproc
 8652              	.LFE383:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 301


 8654              		.section	.text.f_getfree,"ax",%progbits
 8655              		.align	1
 8656              		.global	f_getfree
 8657              		.syntax unified
 8658              		.thumb
 8659              		.thumb_func
 8661              	f_getfree:
 8662              	.LVL1018:
 8663              	.LFB384:
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8664              		.loc 1 4393 1 is_stmt 1 view -0
 8665              		.cfi_startproc
 8666              		@ args = 0, pretend = 0, frame = 32
 8667              		@ frame_needed = 0, uses_anonymous_args = 0
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8668              		.loc 1 4393 1 is_stmt 0 view .LVU2915
 8669 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 8670              	.LCFI99:
 8671              		.cfi_def_cfa_offset 32
 8672              		.cfi_offset 4, -32
 8673              		.cfi_offset 5, -28
 8674              		.cfi_offset 6, -24
 8675              		.cfi_offset 7, -20
 8676              		.cfi_offset 8, -16
 8677              		.cfi_offset 9, -12
 8678              		.cfi_offset 10, -8
 8679              		.cfi_offset 14, -4
 8680 0004 88B0     		sub	sp, sp, #32
 8681              	.LCFI100:
 8682              		.cfi_def_cfa_offset 64
 8683 0006 0190     		str	r0, [sp, #4]
 8684 0008 8846     		mov	r8, r1
 8685 000a 1446     		mov	r4, r2
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8686              		.loc 1 4394 2 is_stmt 1 view .LVU2916
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
 8687              		.loc 1 4395 2 view .LVU2917
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 8688              		.loc 1 4396 2 view .LVU2918
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 8689              		.loc 1 4397 2 view .LVU2919
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
 8690              		.loc 1 4398 2 view .LVU2920
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8691              		.loc 1 4399 2 view .LVU2921
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8692              		.loc 1 4403 2 view .LVU2922
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8693              		.loc 1 4403 8 is_stmt 0 view .LVU2923
 8694 000c 0022     		movs	r2, #0
 8695              	.LVL1019:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8696              		.loc 1 4403 8 view .LVU2924
 8697 000e 07A9     		add	r1, sp, #28
 8698              	.LVL1020:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8699              		.loc 1 4403 8 view .LVU2925
ARM GAS  C:\usertemp\ccmutrvj.s 			page 302


 8700 0010 01A8     		add	r0, sp, #4
 8701              	.LVL1021:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8702              		.loc 1 4403 8 view .LVU2926
 8703 0012 FFF7FEFF 		bl	find_volume
 8704              	.LVL1022:
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 8705              		.loc 1 4404 2 is_stmt 1 view .LVU2927
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 8706              		.loc 1 4404 5 is_stmt 0 view .LVU2928
 8707 0016 8146     		mov	r9, r0
 8708 0018 0028     		cmp	r0, #0
 8709 001a 59D1     		bne	.L650
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
 8710              		.loc 1 4405 3 is_stmt 1 view .LVU2929
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
 8711              		.loc 1 4405 10 is_stmt 0 view .LVU2930
 8712 001c 079B     		ldr	r3, [sp, #28]
 8713 001e 2360     		str	r3, [r4]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 8714              		.loc 1 4407 3 is_stmt 1 view .LVU2931
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 8715              		.loc 1 4407 9 is_stmt 0 view .LVU2932
 8716 0020 1A69     		ldr	r2, [r3, #16]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 8717              		.loc 1 4407 26 view .LVU2933
 8718 0022 9D69     		ldr	r5, [r3, #24]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 8719              		.loc 1 4407 37 view .LVU2934
 8720 0024 A91E     		subs	r1, r5, #2
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 8721              		.loc 1 4407 6 view .LVU2935
 8722 0026 8A42     		cmp	r2, r1
 8723 0028 02D8     		bhi	.L651
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8724              		.loc 1 4408 4 is_stmt 1 view .LVU2936
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8725              		.loc 1 4408 11 is_stmt 0 view .LVU2937
 8726 002a C8F80020 		str	r2, [r8]
 8727 002e 4FE0     		b	.L650
 8728              	.L651:
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 8729              		.loc 1 4411 4 is_stmt 1 view .LVU2938
 8730              	.LVL1023:
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 8731              		.loc 1 4412 4 view .LVU2939
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 8732              		.loc 1 4412 10 is_stmt 0 view .LVU2940
 8733 0030 1E78     		ldrb	r6, [r3]	@ zero_extendqisi2
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 8734              		.loc 1 4412 7 view .LVU2941
 8735 0032 012E     		cmp	r6, #1
 8736 0034 05D0     		beq	.L665
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 8737              		.loc 1 4440 6 is_stmt 1 view .LVU2942
 8738              	.LVL1024:
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 303


 8739              		.loc 1 4440 27 view .LVU2943
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 8740              		.loc 1 4440 32 is_stmt 0 view .LVU2944
 8741 0036 D3F824A0 		ldr	r10, [r3, #36]
 8742              	.LVL1025:
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 8743              		.loc 1 4441 6 is_stmt 1 view .LVU2945
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 8744              		.loc 1 4441 13 view .LVU2946
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 8745              		.loc 1 4441 15 is_stmt 0 view .LVU2947
 8746 003a 0024     		movs	r4, #0
 8747              	.LVL1026:
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 8748              		.loc 1 4441 8 view .LVU2948
 8749 003c 2646     		mov	r6, r4
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 8750              		.loc 1 4411 10 view .LVU2949
 8751 003e 2746     		mov	r7, r4
 8752 0040 2FE0     		b	.L661
 8753              	.LVL1027:
 8754              	.L665:
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8755              		.loc 1 4413 5 is_stmt 1 view .LVU2950
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8756              		.loc 1 4413 15 view .LVU2951
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8757              		.loc 1 4413 22 is_stmt 0 view .LVU2952
 8758 0042 0293     		str	r3, [sp, #8]
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8759              		.loc 1 4413 10 view .LVU2953
 8760 0044 0224     		movs	r4, #2
 8761              	.LVL1028:
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 8762              		.loc 1 4411 10 view .LVU2954
 8763 0046 0027     		movs	r7, #0
 8764 0048 04E0     		b	.L655
 8765              	.LVL1029:
 8766              	.L654:
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8767              		.loc 1 4419 21 is_stmt 1 view .LVU2955
 8768 004a 0134     		adds	r4, r4, #1
 8769              	.LVL1030:
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8770              		.loc 1 4419 25 is_stmt 0 view .LVU2956
 8771 004c 079B     		ldr	r3, [sp, #28]
 8772 004e 9B69     		ldr	r3, [r3, #24]
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8773              		.loc 1 4419 21 view .LVU2957
 8774 0050 A342     		cmp	r3, r4
 8775 0052 35D9     		bls	.L653
 8776              	.LVL1031:
 8777              	.L655:
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
 8778              		.loc 1 4414 5 is_stmt 1 view .LVU2958
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 8779              		.loc 1 4415 6 view .LVU2959
ARM GAS  C:\usertemp\ccmutrvj.s 			page 304


4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 8780              		.loc 1 4415 13 is_stmt 0 view .LVU2960
 8781 0054 2146     		mov	r1, r4
 8782 0056 02A8     		add	r0, sp, #8
 8783 0058 FFF7FEFF 		bl	get_fat
 8784              	.LVL1032:
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8785              		.loc 1 4416 6 is_stmt 1 view .LVU2961
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8786              		.loc 1 4416 9 is_stmt 0 view .LVU2962
 8787 005c B0F1FF3F 		cmp	r0, #-1
 8788 0060 2DD0     		beq	.L662
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 8789              		.loc 1 4417 6 is_stmt 1 view .LVU2963
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 8790              		.loc 1 4417 9 is_stmt 0 view .LVU2964
 8791 0062 0128     		cmp	r0, #1
 8792 0064 38D0     		beq	.L663
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8793              		.loc 1 4418 6 is_stmt 1 view .LVU2965
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8794              		.loc 1 4418 9 is_stmt 0 view .LVU2966
 8795 0066 0028     		cmp	r0, #0
 8796 0068 EFD1     		bne	.L654
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8797              		.loc 1 4418 21 is_stmt 1 discriminator 1 view .LVU2967
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8798              		.loc 1 4418 26 is_stmt 0 discriminator 1 view .LVU2968
 8799 006a 0137     		adds	r7, r7, #1
 8800              	.LVL1033:
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8801              		.loc 1 4418 26 discriminator 1 view .LVU2969
 8802 006c EDE7     		b	.L654
 8803              	.LVL1034:
 8804              	.L666:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 8805              		.loc 1 4444 8 is_stmt 1 view .LVU2970
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 8806              		.loc 1 4444 14 is_stmt 0 view .LVU2971
 8807 006e 0AF10106 		add	r6, r10, #1
 8808              	.LVL1035:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 8809              		.loc 1 4444 14 view .LVU2972
 8810 0072 5146     		mov	r1, r10
 8811 0074 0798     		ldr	r0, [sp, #28]
 8812 0076 FFF7FEFF 		bl	move_window
 8813              	.LVL1036:
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 8814              		.loc 1 4445 8 is_stmt 1 view .LVU2973
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 8815              		.loc 1 4445 11 is_stmt 0 view .LVU2974
 8816 007a 8146     		mov	r9, r0
 8817 007c 00BB     		cbnz	r0, .L653
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 8818              		.loc 1 4446 8 is_stmt 1 view .LVU2975
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 8819              		.loc 1 4446 14 is_stmt 0 view .LVU2976
ARM GAS  C:\usertemp\ccmutrvj.s 			page 305


 8820 007e 079C     		ldr	r4, [sp, #28]
 8821              	.LVL1037:
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 8822              		.loc 1 4446 10 view .LVU2977
 8823 0080 3434     		adds	r4, r4, #52
 8824              	.LVL1038:
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8825              		.loc 1 4447 8 is_stmt 1 view .LVU2978
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 8826              		.loc 1 4444 14 is_stmt 0 view .LVU2979
 8827 0082 B246     		mov	r10, r6
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8828              		.loc 1 4447 10 view .LVU2980
 8829 0084 4FF40076 		mov	r6, #512
 8830              	.LVL1039:
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8831              		.loc 1 4447 10 view .LVU2981
 8832 0088 0DE0     		b	.L656
 8833              	.LVL1040:
 8834              	.L667:
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 8835              		.loc 1 4450 8 is_stmt 1 view .LVU2982
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 8836              		.loc 1 4450 12 is_stmt 0 view .LVU2983
 8837 008a 2046     		mov	r0, r4
 8838 008c FFF7FEFF 		bl	ld_word
 8839              	.LVL1041:
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 8840              		.loc 1 4450 11 discriminator 1 view .LVU2984
 8841 0090 00B9     		cbnz	r0, .L658
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 8842              		.loc 1 4450 29 is_stmt 1 discriminator 1 view .LVU2985
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 8843              		.loc 1 4450 34 is_stmt 0 discriminator 1 view .LVU2986
 8844 0092 0137     		adds	r7, r7, #1
 8845              	.LVL1042:
 8846              	.L658:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 8847              		.loc 1 4451 8 is_stmt 1 view .LVU2987
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 8848              		.loc 1 4451 10 is_stmt 0 view .LVU2988
 8849 0094 0234     		adds	r4, r4, #2
 8850              	.LVL1043:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 8851              		.loc 1 4451 16 is_stmt 1 view .LVU2989
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 8852              		.loc 1 4451 18 is_stmt 0 view .LVU2990
 8853 0096 023E     		subs	r6, r6, #2
 8854              	.LVL1044:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 8855              		.loc 1 4451 18 view .LVU2991
 8856 0098 01E0     		b	.L659
 8857              	.L660:
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8858              		.loc 1 4454 8 is_stmt 1 view .LVU2992
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8859              		.loc 1 4454 10 is_stmt 0 view .LVU2993
ARM GAS  C:\usertemp\ccmutrvj.s 			page 306


 8860 009a 0434     		adds	r4, r4, #4
 8861              	.LVL1045:
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8862              		.loc 1 4454 16 is_stmt 1 view .LVU2994
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 8863              		.loc 1 4454 18 is_stmt 0 view .LVU2995
 8864 009c 043E     		subs	r6, r6, #4
 8865              	.LVL1046:
 8866              	.L659:
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8867              		.loc 1 4456 15 is_stmt 1 view .LVU2996
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8868              		.loc 1 4456 15 is_stmt 0 view .LVU2997
 8869 009e 013D     		subs	r5, r5, #1
 8870              	.LVL1047:
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8871              		.loc 1 4456 15 view .LVU2998
 8872 00a0 0ED0     		beq	.L653
 8873              	.LVL1048:
 8874              	.L661:
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
 8875              		.loc 1 4442 6 is_stmt 1 view .LVU2999
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 8876              		.loc 1 4443 7 view .LVU3000
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 8877              		.loc 1 4443 10 is_stmt 0 view .LVU3001
 8878 00a2 002E     		cmp	r6, #0
 8879 00a4 E3D0     		beq	.L666
 8880              	.LVL1049:
 8881              	.L656:
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 8882              		.loc 1 4449 7 is_stmt 1 view .LVU3002
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 8883              		.loc 1 4449 13 is_stmt 0 view .LVU3003
 8884 00a6 079B     		ldr	r3, [sp, #28]
 8885 00a8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 8886              		.loc 1 4449 10 view .LVU3004
 8887 00aa 022B     		cmp	r3, #2
 8888 00ac EDD0     		beq	.L667
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 8889              		.loc 1 4453 8 is_stmt 1 view .LVU3005
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 8890              		.loc 1 4453 13 is_stmt 0 view .LVU3006
 8891 00ae 2046     		mov	r0, r4
 8892 00b0 FFF7FEFF 		bl	ld_dword
 8893              	.LVL1050:
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 8894              		.loc 1 4453 11 discriminator 1 view .LVU3007
 8895 00b4 30F07043 		bics	r3, r0, #-268435456
 8896 00b8 EFD1     		bne	.L660
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 8897              		.loc 1 4453 45 is_stmt 1 discriminator 1 view .LVU3008
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 8898              		.loc 1 4453 50 is_stmt 0 discriminator 1 view .LVU3009
 8899 00ba 0137     		adds	r7, r7, #1
 8900              	.LVL1051:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 307


4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 8901              		.loc 1 4453 50 discriminator 1 view .LVU3010
 8902 00bc EDE7     		b	.L660
 8903              	.LVL1052:
 8904              	.L662:
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8905              		.loc 1 4416 36 discriminator 1 view .LVU3011
 8906 00be B146     		mov	r9, r6
 8907              	.LVL1053:
 8908              	.L653:
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 8909              		.loc 1 4459 4 is_stmt 1 view .LVU3012
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 8910              		.loc 1 4459 11 is_stmt 0 view .LVU3013
 8911 00c0 C8F80070 		str	r7, [r8]
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 8912              		.loc 1 4460 4 is_stmt 1 view .LVU3014
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 8913              		.loc 1 4460 6 is_stmt 0 view .LVU3015
 8914 00c4 079B     		ldr	r3, [sp, #28]
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 8915              		.loc 1 4460 18 view .LVU3016
 8916 00c6 1F61     		str	r7, [r3, #16]
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8917              		.loc 1 4461 4 is_stmt 1 view .LVU3017
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8918              		.loc 1 4461 6 is_stmt 0 view .LVU3018
 8919 00c8 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8920              		.loc 1 4461 17 view .LVU3019
 8921 00ca 42F00102 		orr	r2, r2, #1
 8922 00ce 1A71     		strb	r2, [r3, #4]
 8923              	.LVL1054:
 8924              	.L650:
4465:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8925              		.loc 1 4465 2 is_stmt 1 view .LVU3020
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8926              		.loc 1 4466 1 is_stmt 0 view .LVU3021
 8927 00d0 4846     		mov	r0, r9
 8928 00d2 08B0     		add	sp, sp, #32
 8929              	.LCFI101:
 8930              		.cfi_remember_state
 8931              		.cfi_def_cfa_offset 32
 8932              		@ sp needed
 8933 00d4 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 8934              	.LVL1055:
 8935              	.L663:
 8936              	.LCFI102:
 8937              		.cfi_restore_state
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 8938              		.loc 1 4417 27 discriminator 1 view .LVU3022
 8939 00d8 4FF00209 		mov	r9, #2
 8940              	.LVL1056:
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 8941              		.loc 1 4417 27 discriminator 1 view .LVU3023
 8942 00dc F0E7     		b	.L653
 8943              		.cfi_endproc
ARM GAS  C:\usertemp\ccmutrvj.s 			page 308


 8944              	.LFE384:
 8946              		.section	.text.f_truncate,"ax",%progbits
 8947              		.align	1
 8948              		.global	f_truncate
 8949              		.syntax unified
 8950              		.thumb
 8951              		.thumb_func
 8953              	f_truncate:
 8954              	.LVL1057:
 8955              	.LFB385:
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8956              		.loc 1 4478 1 is_stmt 1 view -0
 8957              		.cfi_startproc
 8958              		@ args = 0, pretend = 0, frame = 8
 8959              		@ frame_needed = 0, uses_anonymous_args = 0
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8960              		.loc 1 4478 1 is_stmt 0 view .LVU3025
 8961 0000 30B5     		push	{r4, r5, lr}
 8962              	.LCFI103:
 8963              		.cfi_def_cfa_offset 12
 8964              		.cfi_offset 4, -12
 8965              		.cfi_offset 5, -8
 8966              		.cfi_offset 14, -4
 8967 0002 83B0     		sub	sp, sp, #12
 8968              	.LCFI104:
 8969              		.cfi_def_cfa_offset 24
 8970 0004 0446     		mov	r4, r0
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8971              		.loc 1 4479 2 is_stmt 1 view .LVU3026
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
 8972              		.loc 1 4480 2 view .LVU3027
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8973              		.loc 1 4481 2 view .LVU3028
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 8974              		.loc 1 4484 2 view .LVU3029
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 8975              		.loc 1 4484 8 is_stmt 0 view .LVU3030
 8976 0006 01A9     		add	r1, sp, #4
 8977 0008 FFF7FEFF 		bl	validate
 8978              	.LVL1058:
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8979              		.loc 1 4485 2 is_stmt 1 view .LVU3031
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8980              		.loc 1 4485 5 is_stmt 0 view .LVU3032
 8981 000c 0546     		mov	r5, r0
 8982 000e 0028     		cmp	r0, #0
 8983 0010 49D1     		bne	.L671
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8984              		.loc 1 4485 27 discriminator 2 view .LVU3033
 8985 0012 657D     		ldrb	r5, [r4, #21]	@ zero_extendqisi2
 8986              	.LVL1059:
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8987              		.loc 1 4485 19 discriminator 2 view .LVU3034
 8988 0014 002D     		cmp	r5, #0
 8989 0016 46D1     		bne	.L671
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8990              		.loc 1 4486 2 is_stmt 1 view .LVU3035
ARM GAS  C:\usertemp\ccmutrvj.s 			page 309


4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8991              		.loc 1 4486 10 is_stmt 0 view .LVU3036
 8992 0018 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8993              		.loc 1 4486 5 view .LVU3037
 8994 001a 13F0020F 		tst	r3, #2
 8995 001e 41D0     		beq	.L676
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8996              		.loc 1 4488 2 is_stmt 1 view .LVU3038
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8997              		.loc 1 4488 8 is_stmt 0 view .LVU3039
 8998 0020 A369     		ldr	r3, [r4, #24]
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8999              		.loc 1 4488 24 view .LVU3040
 9000 0022 E268     		ldr	r2, [r4, #12]
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 9001              		.loc 1 4488 5 view .LVU3041
 9002 0024 9342     		cmp	r3, r2
 9003 0026 3ED2     		bcs	.L671
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 9004              		.loc 1 4489 3 is_stmt 1 view .LVU3042
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 9005              		.loc 1 4489 6 is_stmt 0 view .LVU3043
 9006 0028 FBB9     		cbnz	r3, .L672
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 9007              		.loc 1 4490 4 is_stmt 1 view .LVU3044
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 9008              		.loc 1 4490 10 is_stmt 0 view .LVU3045
 9009 002a 0022     		movs	r2, #0
 9010 002c A168     		ldr	r1, [r4, #8]
 9011 002e 2046     		mov	r0, r4
 9012 0030 FFF7FEFF 		bl	remove_chain
 9013              	.LVL1060:
 9014 0034 0546     		mov	r5, r0
 9015              	.LVL1061:
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
 9016              		.loc 1 4491 4 is_stmt 1 view .LVU3046
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
 9017              		.loc 1 4491 19 is_stmt 0 view .LVU3047
 9018 0036 0023     		movs	r3, #0
 9019 0038 A360     		str	r3, [r4, #8]
 9020              	.LVL1062:
 9021              	.L673:
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 9022              		.loc 1 4501 3 is_stmt 1 view .LVU3048
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 9023              		.loc 1 4501 23 is_stmt 0 view .LVU3049
 9024 003a A369     		ldr	r3, [r4, #24]
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 9025              		.loc 1 4501 19 view .LVU3050
 9026 003c E360     		str	r3, [r4, #12]
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9027              		.loc 1 4502 3 is_stmt 1 view .LVU3051
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9028              		.loc 1 4502 5 is_stmt 0 view .LVU3052
 9029 003e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
ARM GAS  C:\usertemp\ccmutrvj.s 			page 310


 9030              		.loc 1 4502 12 view .LVU3053
 9031 0040 43F04003 		orr	r3, r3, #64
 9032 0044 2375     		strb	r3, [r4, #20]
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 9033              		.loc 1 4504 3 is_stmt 1 view .LVU3054
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 9034              		.loc 1 4504 6 is_stmt 0 view .LVU3055
 9035 0046 5DBB     		cbnz	r5, .L675
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 9036              		.loc 1 4504 20 discriminator 1 view .LVU3056
 9037 0048 13F0800F 		tst	r3, #128
 9038 004c 2BD0     		beq	.L671
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 9039              		.loc 1 4505 4 is_stmt 1 view .LVU3057
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 9040              		.loc 1 4505 8 is_stmt 0 view .LVU3058
 9041 004e 0123     		movs	r3, #1
 9042 0050 226A     		ldr	r2, [r4, #32]
 9043 0052 04F13001 		add	r1, r4, #48
 9044 0056 0198     		ldr	r0, [sp, #4]
 9045 0058 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 9046 005a FFF7FEFF 		bl	disk_write
 9047              	.LVL1063:
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 9048              		.loc 1 4505 7 discriminator 1 view .LVU3059
 9049 005e F0B9     		cbnz	r0, .L679
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9050              		.loc 1 4508 5 is_stmt 1 view .LVU3060
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9051              		.loc 1 4508 7 is_stmt 0 view .LVU3061
 9052 0060 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9053              		.loc 1 4508 14 view .LVU3062
 9054 0062 03F07F03 		and	r3, r3, #127
 9055 0066 2375     		strb	r3, [r4, #20]
 9056 0068 1DE0     		b	.L671
 9057              	.L672:
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9058              		.loc 1 4493 4 is_stmt 1 view .LVU3063
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9059              		.loc 1 4493 10 is_stmt 0 view .LVU3064
 9060 006a E169     		ldr	r1, [r4, #28]
 9061 006c 2046     		mov	r0, r4
 9062 006e FFF7FEFF 		bl	get_fat
 9063              	.LVL1064:
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9064              		.loc 1 4494 4 is_stmt 1 view .LVU3065
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 9065              		.loc 1 4495 4 view .LVU3066
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 9066              		.loc 1 4495 7 is_stmt 0 view .LVU3067
 9067 0072 B0F1FF3F 		cmp	r0, #-1
 9068 0076 0ED0     		beq	.L677
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 9069              		.loc 1 4496 4 is_stmt 1 view .LVU3068
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 9070              		.loc 1 4496 7 is_stmt 0 view .LVU3069
ARM GAS  C:\usertemp\ccmutrvj.s 			page 311


 9071 0078 0128     		cmp	r0, #1
 9072 007a 0ED0     		beq	.L681
 9073              	.L674:
 9074              	.LVL1065:
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 9075              		.loc 1 4497 4 is_stmt 1 view .LVU3070
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 9076              		.loc 1 4497 7 is_stmt 0 view .LVU3071
 9077 007c 002D     		cmp	r5, #0
 9078 007e DCD1     		bne	.L673
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 9079              		.loc 1 4497 32 discriminator 1 view .LVU3072
 9080 0080 019B     		ldr	r3, [sp, #4]
 9081 0082 9B69     		ldr	r3, [r3, #24]
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 9082              		.loc 1 4497 21 discriminator 1 view .LVU3073
 9083 0084 8342     		cmp	r3, r0
 9084 0086 D8D9     		bls	.L673
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9085              		.loc 1 4498 5 is_stmt 1 view .LVU3074
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9086              		.loc 1 4498 11 is_stmt 0 view .LVU3075
 9087 0088 E269     		ldr	r2, [r4, #28]
 9088 008a 0146     		mov	r1, r0
 9089 008c 2046     		mov	r0, r4
 9090              	.LVL1066:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9091              		.loc 1 4498 11 view .LVU3076
 9092 008e FFF7FEFF 		bl	remove_chain
 9093              	.LVL1067:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9094              		.loc 1 4498 11 view .LVU3077
 9095 0092 0546     		mov	r5, r0
 9096              	.LVL1068:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9097              		.loc 1 4498 11 view .LVU3078
 9098 0094 D1E7     		b	.L673
 9099              	.LVL1069:
 9100              	.L677:
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 9101              		.loc 1 4495 31 discriminator 1 view .LVU3079
 9102 0096 0125     		movs	r5, #1
 9103 0098 F0E7     		b	.L674
 9104              	.L681:
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 9105              		.loc 1 4496 22 discriminator 1 view .LVU3080
 9106 009a 0225     		movs	r5, #2
 9107 009c CDE7     		b	.L673
 9108              	.LVL1070:
 9109              	.L679:
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9110              		.loc 1 4506 9 view .LVU3081
 9111 009e 0125     		movs	r5, #1
 9112              	.LVL1071:
 9113              	.L675:
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9114              		.loc 1 4512 21 is_stmt 1 discriminator 1 view .LVU3082
ARM GAS  C:\usertemp\ccmutrvj.s 			page 312


 9115 00a0 6575     		strb	r5, [r4, #21]
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9116              		.loc 1 4512 21 discriminator 1 view .LVU3083
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9117              		.loc 1 4512 21 is_stmt 0 view .LVU3084
 9118 00a2 00E0     		b	.L671
 9119              	.LVL1072:
 9120              	.L676:
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9121              		.loc 1 4486 30 discriminator 1 view .LVU3085
 9122 00a4 0725     		movs	r5, #7
 9123              	.LVL1073:
 9124              	.L671:
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9125              		.loc 1 4516 1 view .LVU3086
 9126 00a6 2846     		mov	r0, r5
 9127 00a8 03B0     		add	sp, sp, #12
 9128              	.LCFI105:
 9129              		.cfi_def_cfa_offset 12
 9130              		@ sp needed
 9131 00aa 30BD     		pop	{r4, r5, pc}
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9132              		.loc 1 4516 1 view .LVU3087
 9133              		.cfi_endproc
 9134              	.LFE385:
 9136              		.section	.text.f_unlink,"ax",%progbits
 9137              		.align	1
 9138              		.global	f_unlink
 9139              		.syntax unified
 9140              		.thumb
 9141              		.thumb_func
 9143              	f_unlink:
 9144              	.LVL1074:
 9145              	.LFB386:
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9146              		.loc 1 4528 1 is_stmt 1 view -0
 9147              		.cfi_startproc
 9148              		@ args = 0, pretend = 0, frame = 112
 9149              		@ frame_needed = 0, uses_anonymous_args = 0
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9150              		.loc 1 4528 1 is_stmt 0 view .LVU3089
 9151 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 9152              	.LCFI106:
 9153              		.cfi_def_cfa_offset 20
 9154              		.cfi_offset 4, -20
 9155              		.cfi_offset 5, -16
 9156              		.cfi_offset 6, -12
 9157              		.cfi_offset 7, -8
 9158              		.cfi_offset 14, -4
 9159 0002 9DB0     		sub	sp, sp, #116
 9160              	.LCFI107:
 9161              		.cfi_def_cfa_offset 136
 9162 0004 0190     		str	r0, [sp, #4]
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
 9163              		.loc 1 4529 2 is_stmt 1 view .LVU3090
4530:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
 9164              		.loc 1 4530 2 view .LVU3091
ARM GAS  C:\usertemp\ccmutrvj.s 			page 313


4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9165              		.loc 1 4531 2 view .LVU3092
 9166              	.LVL1075:
4532:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9167              		.loc 1 4532 2 view .LVU3093
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9168              		.loc 1 4540 2 view .LVU3094
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9169              		.loc 1 4540 8 is_stmt 0 view .LVU3095
 9170 0006 0222     		movs	r2, #2
 9171 0008 03A9     		add	r1, sp, #12
 9172 000a 01A8     		add	r0, sp, #4
 9173              	.LVL1076:
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9174              		.loc 1 4540 8 view .LVU3096
 9175 000c FFF7FEFF 		bl	find_volume
 9176              	.LVL1077:
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9177              		.loc 1 4541 2 is_stmt 1 view .LVU3097
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9178              		.loc 1 4541 12 is_stmt 0 view .LVU3098
 9179 0010 039B     		ldr	r3, [sp, #12]
 9180 0012 1093     		str	r3, [sp, #64]
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9181              		.loc 1 4542 2 is_stmt 1 view .LVU3099
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9182              		.loc 1 4542 5 is_stmt 0 view .LVU3100
 9183 0014 0446     		mov	r4, r0
 9184 0016 10B1     		cbz	r0, .L694
 9185              	.LVL1078:
 9186              	.L683:
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9187              		.loc 1 4607 16 is_stmt 1 view .LVU3101
4610:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9188              		.loc 1 4610 2 view .LVU3102
4611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9189              		.loc 1 4611 1 is_stmt 0 view .LVU3103
 9190 0018 2046     		mov	r0, r4
 9191 001a 1DB0     		add	sp, sp, #116
 9192              	.LCFI108:
 9193              		.cfi_remember_state
 9194              		.cfi_def_cfa_offset 20
 9195              		@ sp needed
 9196 001c F0BD     		pop	{r4, r5, r6, r7, pc}
 9197              	.LVL1079:
 9198              	.L694:
 9199              	.LCFI109:
 9200              		.cfi_restore_state
4543:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 9201              		.loc 1 4543 18 is_stmt 1 view .LVU3104
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 9202              		.loc 1 4544 3 view .LVU3105
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 9203              		.loc 1 4544 9 is_stmt 0 view .LVU3106
 9204 001e 0199     		ldr	r1, [sp, #4]
 9205 0020 10A8     		add	r0, sp, #64
 9206              	.LVL1080:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 314


4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 9207              		.loc 1 4544 9 view .LVU3107
 9208 0022 FFF7FEFF 		bl	follow_path
 9209              	.LVL1081:
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
 9210              		.loc 1 4545 3 is_stmt 1 view .LVU3108
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
 9211              		.loc 1 4545 6 is_stmt 0 view .LVU3109
 9212 0026 0446     		mov	r4, r0
 9213 0028 48B9     		cbnz	r0, .L684
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
 9214              		.loc 1 4545 42 discriminator 1 view .LVU3110
 9215 002a 9DF86F30 		ldrb	r3, [sp, #111]	@ zero_extendqisi2
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
 9216              		.loc 1 4545 33 discriminator 1 view .LVU3111
 9217 002e 13F0200F 		tst	r3, #32
 9218 0032 49D1     		bne	.L688
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9219              		.loc 1 4549 3 is_stmt 1 view .LVU3112
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9220              		.loc 1 4549 21 discriminator 1 view .LVU3113
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9221              		.loc 1 4549 27 is_stmt 0 discriminator 1 view .LVU3114
 9222 0034 0221     		movs	r1, #2
 9223 0036 10A8     		add	r0, sp, #64
 9224              	.LVL1082:
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9225              		.loc 1 4549 27 discriminator 1 view .LVU3115
 9226 0038 FFF7FEFF 		bl	chk_lock
 9227              	.LVL1083:
 9228 003c 0446     		mov	r4, r0
 9229              	.LVL1084:
 9230              	.L684:
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 9231              		.loc 1 4551 3 is_stmt 1 view .LVU3116
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 9232              		.loc 1 4551 6 is_stmt 0 view .LVU3117
 9233 003e 002C     		cmp	r4, #0
 9234 0040 EAD1     		bne	.L683
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 9235              		.loc 1 4552 4 is_stmt 1 view .LVU3118
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 9236              		.loc 1 4552 8 is_stmt 0 view .LVU3119
 9237 0042 9DF96F30 		ldrsb	r3, [sp, #111]
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 9238              		.loc 1 4552 7 view .LVU3120
 9239 0046 002B     		cmp	r3, #0
 9240 0048 40DB     		blt	.L689
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9241              		.loc 1 4555 5 is_stmt 1 view .LVU3121
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9242              		.loc 1 4555 15 is_stmt 0 view .LVU3122
 9243 004a 9DF84660 		ldrb	r6, [sp, #70]	@ zero_extendqisi2
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9244              		.loc 1 4555 8 view .LVU3123
 9245 004e 16F0010F 		tst	r6, #1
 9246 0052 3DD1     		bne	.L690
ARM GAS  C:\usertemp\ccmutrvj.s 			page 315


4559:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9247              		.loc 1 4559 4 is_stmt 1 view .LVU3124
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9248              		.loc 1 4569 6 view .LVU3125
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9249              		.loc 1 4569 14 is_stmt 0 view .LVU3126
 9250 0054 039F     		ldr	r7, [sp, #12]
 9251 0056 1899     		ldr	r1, [sp, #96]
 9252 0058 3846     		mov	r0, r7
 9253 005a FFF7FEFF 		bl	ld_clust
 9254              	.LVL1085:
 9255 005e 0546     		mov	r5, r0
 9256              	.LVL1086:
4571:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 9257              		.loc 1 4571 5 is_stmt 1 view .LVU3127
4571:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 9258              		.loc 1 4571 8 is_stmt 0 view .LVU3128
 9259 0060 16F0100F 		tst	r6, #16
 9260 0064 15D0     		beq	.L685
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 9261              		.loc 1 4573 6 is_stmt 1 view .LVU3129
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 9262              		.loc 1 4573 21 is_stmt 0 view .LVU3130
 9263 0066 7B69     		ldr	r3, [r7, #20]
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 9264              		.loc 1 4573 9 view .LVU3131
 9265 0068 8342     		cmp	r3, r0
 9266 006a 33D0     		beq	.L691
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 9267              		.loc 1 4578 7 is_stmt 1 view .LVU3132
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 9268              		.loc 1 4578 18 is_stmt 0 view .LVU3133
 9269 006c 0497     		str	r7, [sp, #16]
4579:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9270              		.loc 1 4579 7 is_stmt 1 view .LVU3134
4579:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9271              		.loc 1 4579 22 is_stmt 0 view .LVU3135
 9272 006e 0690     		str	r0, [sp, #24]
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 9273              		.loc 1 4586 7 is_stmt 1 view .LVU3136
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 9274              		.loc 1 4586 13 is_stmt 0 view .LVU3137
 9275 0070 0021     		movs	r1, #0
 9276 0072 04A8     		add	r0, sp, #16
 9277              	.LVL1087:
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 9278              		.loc 1 4586 13 view .LVU3138
 9279 0074 FFF7FEFF 		bl	dir_sdi
 9280              	.LVL1088:
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 9281              		.loc 1 4587 7 is_stmt 1 view .LVU3139
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 9282              		.loc 1 4587 10 is_stmt 0 view .LVU3140
 9283 0078 0446     		mov	r4, r0
 9284 007a 0028     		cmp	r0, #0
 9285 007c CCD1     		bne	.L683
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 316


 9286              		.loc 1 4588 8 is_stmt 1 view .LVU3141
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 9287              		.loc 1 4588 14 is_stmt 0 view .LVU3142
 9288 007e 0021     		movs	r1, #0
 9289 0080 04A8     		add	r0, sp, #16
 9290              	.LVL1089:
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 9291              		.loc 1 4588 14 view .LVU3143
 9292 0082 FFF7FEFF 		bl	dir_read
 9293              	.LVL1090:
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 9294              		.loc 1 4589 8 is_stmt 1 view .LVU3144
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 9295              		.loc 1 4589 11 is_stmt 0 view .LVU3145
 9296 0086 0446     		mov	r4, r0
 9297 0088 10B1     		cbz	r0, .L692
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9298              		.loc 1 4590 8 is_stmt 1 view .LVU3146
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9299              		.loc 1 4590 11 is_stmt 0 view .LVU3147
 9300 008a 0428     		cmp	r0, #4
 9301 008c 01D1     		bne	.L685
 9302 008e 02E0     		b	.L686
 9303              	.L692:
 9304              	.LVL1091:
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 9305              		.loc 1 4589 30 discriminator 1 view .LVU3148
 9306 0090 0724     		movs	r4, #7
 9307              	.LVL1092:
 9308              	.L685:
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 9309              		.loc 1 4595 4 is_stmt 1 view .LVU3149
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 9310              		.loc 1 4595 7 is_stmt 0 view .LVU3150
 9311 0092 002C     		cmp	r4, #0
 9312 0094 C0D1     		bne	.L683
 9313              	.LVL1093:
 9314              	.L686:
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
 9315              		.loc 1 4596 5 is_stmt 1 view .LVU3151
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
 9316              		.loc 1 4596 11 is_stmt 0 view .LVU3152
 9317 0096 10A8     		add	r0, sp, #64
 9318 0098 FFF7FEFF 		bl	dir_remove
 9319              	.LVL1094:
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9320              		.loc 1 4597 5 is_stmt 1 view .LVU3153
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9321              		.loc 1 4597 13 is_stmt 0 view .LVU3154
 9322 009c 0446     		mov	r4, r0
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9323              		.loc 1 4597 22 view .LVU3155
 9324 009e B0FA80F0 		clz	r0, r0
 9325              	.LVL1095:
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9326              		.loc 1 4597 22 view .LVU3156
 9327 00a2 4009     		lsrs	r0, r0, #5
ARM GAS  C:\usertemp\ccmutrvj.s 			page 317


 9328 00a4 002D     		cmp	r5, #0
 9329 00a6 08BF     		it	eq
 9330 00a8 0020     		moveq	r0, #0
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9331              		.loc 1 4597 8 view .LVU3157
 9332 00aa 30B9     		cbnz	r0, .L695
 9333              	.LVL1096:
 9334              	.L687:
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9335              		.loc 1 4604 5 is_stmt 1 view .LVU3158
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9336              		.loc 1 4604 8 is_stmt 0 view .LVU3159
 9337 00ac 002C     		cmp	r4, #0
 9338 00ae B3D1     		bne	.L683
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9339              		.loc 1 4604 23 is_stmt 1 discriminator 1 view .LVU3160
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9340              		.loc 1 4604 29 is_stmt 0 discriminator 1 view .LVU3161
 9341 00b0 0398     		ldr	r0, [sp, #12]
 9342 00b2 FFF7FEFF 		bl	sync_fs
 9343              	.LVL1097:
 9344 00b6 0446     		mov	r4, r0
 9345              	.LVL1098:
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9346              		.loc 1 4604 29 discriminator 1 view .LVU3162
 9347 00b8 AEE7     		b	.L683
 9348              	.LVL1099:
 9349              	.L695:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9350              		.loc 1 4601 6 is_stmt 1 view .LVU3163
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9351              		.loc 1 4601 12 is_stmt 0 view .LVU3164
 9352 00ba 0022     		movs	r2, #0
 9353 00bc 2946     		mov	r1, r5
 9354 00be 10A8     		add	r0, sp, #64
 9355 00c0 FFF7FEFF 		bl	remove_chain
 9356              	.LVL1100:
 9357 00c4 0446     		mov	r4, r0
 9358              	.LVL1101:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9359              		.loc 1 4601 12 view .LVU3165
 9360 00c6 F1E7     		b	.L687
 9361              	.LVL1102:
 9362              	.L688:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9363              		.loc 1 4601 12 view .LVU3166
 9364 00c8 0624     		movs	r4, #6
 9365 00ca A5E7     		b	.L683
 9366              	.LVL1103:
 9367              	.L689:
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9368              		.loc 1 4553 9 view .LVU3167
 9369 00cc 0624     		movs	r4, #6
 9370 00ce A3E7     		b	.L683
 9371              	.LVL1104:
 9372              	.L690:
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  C:\usertemp\ccmutrvj.s 			page 318


 9373              		.loc 1 4556 10 view .LVU3168
 9374 00d0 0724     		movs	r4, #7
 9375 00d2 A1E7     		b	.L683
 9376              	.LVL1105:
 9377              	.L691:
4574:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 9378              		.loc 1 4574 11 view .LVU3169
 9379 00d4 0724     		movs	r4, #7
 9380 00d6 9FE7     		b	.L683
 9381              		.cfi_endproc
 9382              	.LFE386:
 9384              		.section	.text.f_mkdir,"ax",%progbits
 9385              		.align	1
 9386              		.global	f_mkdir
 9387              		.syntax unified
 9388              		.thumb
 9389              		.thumb_func
 9391              	f_mkdir:
 9392              	.LVL1106:
 9393              	.LFB387:
4623:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9394              		.loc 1 4623 1 is_stmt 1 view -0
 9395              		.cfi_startproc
 9396              		@ args = 0, pretend = 0, frame = 64
 9397              		@ frame_needed = 0, uses_anonymous_args = 0
4623:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9398              		.loc 1 4623 1 is_stmt 0 view .LVU3171
 9399 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 9400              	.LCFI110:
 9401              		.cfi_def_cfa_offset 36
 9402              		.cfi_offset 4, -36
 9403              		.cfi_offset 5, -32
 9404              		.cfi_offset 6, -28
 9405              		.cfi_offset 7, -24
 9406              		.cfi_offset 8, -20
 9407              		.cfi_offset 9, -16
 9408              		.cfi_offset 10, -12
 9409              		.cfi_offset 11, -8
 9410              		.cfi_offset 14, -4
 9411 0004 91B0     		sub	sp, sp, #68
 9412              	.LCFI111:
 9413              		.cfi_def_cfa_offset 104
 9414 0006 0190     		str	r0, [sp, #4]
4624:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 9415              		.loc 1 4624 2 is_stmt 1 view .LVU3172
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9416              		.loc 1 4625 2 view .LVU3173
4626:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 9417              		.loc 1 4626 2 view .LVU3174
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 9418              		.loc 1 4627 2 view .LVU3175
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
 9419              		.loc 1 4628 2 view .LVU3176
4629:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 9420              		.loc 1 4629 2 view .LVU3177
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9421              		.loc 1 4634 2 view .LVU3178
ARM GAS  C:\usertemp\ccmutrvj.s 			page 319


4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9422              		.loc 1 4634 8 is_stmt 0 view .LVU3179
 9423 0008 0222     		movs	r2, #2
 9424 000a 03A9     		add	r1, sp, #12
 9425 000c 01A8     		add	r0, sp, #4
 9426              	.LVL1107:
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 9427              		.loc 1 4634 8 view .LVU3180
 9428 000e FFF7FEFF 		bl	find_volume
 9429              	.LVL1108:
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9430              		.loc 1 4635 2 is_stmt 1 view .LVU3181
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9431              		.loc 1 4635 12 is_stmt 0 view .LVU3182
 9432 0012 039B     		ldr	r3, [sp, #12]
 9433 0014 0493     		str	r3, [sp, #16]
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9434              		.loc 1 4636 2 is_stmt 1 view .LVU3183
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9435              		.loc 1 4636 5 is_stmt 0 view .LVU3184
 9436 0016 0446     		mov	r4, r0
 9437 0018 18B1     		cbz	r0, .L716
 9438              	.LVL1109:
 9439              	.L697:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9440              		.loc 1 4704 16 is_stmt 1 view .LVU3185
4707:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9441              		.loc 1 4707 2 view .LVU3186
4708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9442              		.loc 1 4708 1 is_stmt 0 view .LVU3187
 9443 001a 2046     		mov	r0, r4
 9444 001c 11B0     		add	sp, sp, #68
 9445              	.LCFI112:
 9446              		.cfi_remember_state
 9447              		.cfi_def_cfa_offset 36
 9448              		@ sp needed
 9449 001e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 9450              	.LVL1110:
 9451              	.L716:
 9452              	.LCFI113:
 9453              		.cfi_restore_state
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 9454              		.loc 1 4637 18 is_stmt 1 view .LVU3188
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 9455              		.loc 1 4638 3 view .LVU3189
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 9456              		.loc 1 4638 9 is_stmt 0 view .LVU3190
 9457 0022 0199     		ldr	r1, [sp, #4]
 9458 0024 04A8     		add	r0, sp, #16
 9459              	.LVL1111:
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 9460              		.loc 1 4638 9 view .LVU3191
 9461 0026 FFF7FEFF 		bl	follow_path
 9462              	.LVL1112:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 9463              		.loc 1 4639 3 is_stmt 1 view .LVU3192
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
ARM GAS  C:\usertemp\ccmutrvj.s 			page 320


 9464              		.loc 1 4639 6 is_stmt 0 view .LVU3193
 9465 002a 0346     		mov	r3, r0
 9466 002c 50B1     		cbz	r0, .L707
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9467              		.loc 1 4640 3 is_stmt 1 view .LVU3194
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9468              		.loc 1 4640 6 is_stmt 0 view .LVU3195
 9469 002e 0428     		cmp	r0, #4
 9470 0030 01D0     		beq	.L717
 9471 0032 0446     		mov	r4, r0
 9472 0034 F1E7     		b	.L697
 9473              	.L717:
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9474              		.loc 1 4640 47 discriminator 1 view .LVU3196
 9475 0036 9DF83F20 		ldrb	r2, [sp, #63]	@ zero_extendqisi2
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9476              		.loc 1 4640 38 discriminator 1 view .LVU3197
 9477 003a 12F0200F 		tst	r2, #32
 9478 003e 02D0     		beq	.L698
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9479              		.loc 1 4641 8 view .LVU3198
 9480 0040 0624     		movs	r4, #6
 9481 0042 EAE7     		b	.L697
 9482              	.L707:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 9483              		.loc 1 4639 25 discriminator 1 view .LVU3199
 9484 0044 0823     		movs	r3, #8
 9485              	.L698:
 9486              	.LVL1113:
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
 9487              		.loc 1 4643 3 is_stmt 1 view .LVU3200
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
 9488              		.loc 1 4643 6 is_stmt 0 view .LVU3201
 9489 0046 042B     		cmp	r3, #4
 9490 0048 01D0     		beq	.L718
 9491 004a 1C46     		mov	r4, r3
 9492 004c E5E7     		b	.L697
 9493              	.L718:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 9494              		.loc 1 4644 4 is_stmt 1 view .LVU3202
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 9495              		.loc 1 4644 10 is_stmt 0 view .LVU3203
 9496 004e 0021     		movs	r1, #0
 9497 0050 04A8     		add	r0, sp, #16
 9498 0052 FFF7FEFF 		bl	create_chain
 9499              	.LVL1114:
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9500              		.loc 1 4645 4 is_stmt 1 view .LVU3204
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9501              		.loc 1 4645 30 is_stmt 0 view .LVU3205
 9502 0056 039A     		ldr	r2, [sp, #12]
 9503 0058 5389     		ldrh	r3, [r2, #10]
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9504              		.loc 1 4645 38 view .LVU3206
 9505 005a 5B02     		lsls	r3, r3, #9
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9506              		.loc 1 4645 19 view .LVU3207
ARM GAS  C:\usertemp\ccmutrvj.s 			page 321


 9507 005c 0793     		str	r3, [sp, #28]
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
 9508              		.loc 1 4646 4 is_stmt 1 view .LVU3208
 9509              	.LVL1115:
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 9510              		.loc 1 4647 4 view .LVU3209
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 9511              		.loc 1 4647 7 is_stmt 0 view .LVU3210
 9512 005e 8146     		mov	r9, r0
 9513 0060 18B1     		cbz	r0, .L711
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9514              		.loc 1 4648 4 is_stmt 1 view .LVU3211
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9515              		.loc 1 4648 7 is_stmt 0 view .LVU3212
 9516 0062 0128     		cmp	r0, #1
 9517 0064 02D1     		bne	.L699
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9518              		.loc 1 4648 22 discriminator 1 view .LVU3213
 9519 0066 0224     		movs	r4, #2
 9520 0068 03E0     		b	.L700
 9521              	.L711:
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 9522              		.loc 1 4647 22 discriminator 1 view .LVU3214
 9523 006a 0724     		movs	r4, #7
 9524              	.L699:
 9525              	.LVL1116:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 9526              		.loc 1 4649 4 is_stmt 1 view .LVU3215
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 9527              		.loc 1 4649 7 is_stmt 0 view .LVU3216
 9528 006c B9F1FF3F 		cmp	r9, #-1
 9529 0070 43D0     		beq	.L719
 9530              	.LVL1117:
 9531              	.L700:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 9532              		.loc 1 4650 4 is_stmt 1 view .LVU3217
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 9533              		.loc 1 4650 7 is_stmt 0 view .LVU3218
 9534 0072 002C     		cmp	r4, #0
 9535 0074 3CD0     		beq	.L720
 9536              	.LVL1118:
 9537              	.L701:
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 9538              		.loc 1 4651 4 is_stmt 1 view .LVU3219
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 9539              		.loc 1 4651 9 is_stmt 0 view .LVU3220
 9540 0076 FFF7FEFF 		bl	get_fattime
 9541              	.LVL1119:
 9542 007a 8246     		mov	r10, r0
 9543              	.LVL1120:
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 9544              		.loc 1 4652 4 is_stmt 1 view .LVU3221
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 9545              		.loc 1 4652 7 is_stmt 0 view .LVU3222
 9546 007c 002C     		cmp	r4, #0
 9547 007e 58D1     		bne	.L702
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 322


 9548              		.loc 1 4653 5 is_stmt 1 view .LVU3223
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 9549              		.loc 1 4653 11 is_stmt 0 view .LVU3224
 9550 0080 039E     		ldr	r6, [sp, #12]
 9551 0082 4946     		mov	r1, r9
 9552 0084 3046     		mov	r0, r6
 9553              	.LVL1121:
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 9554              		.loc 1 4653 11 view .LVU3225
 9555 0086 FFF7FEFF 		bl	clust2sect
 9556              	.LVL1122:
 9557 008a 0546     		mov	r5, r0
 9558              	.LVL1123:
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 9559              		.loc 1 4654 5 is_stmt 1 view .LVU3226
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 9560              		.loc 1 4654 9 is_stmt 0 view .LVU3227
 9561 008c 06F13408 		add	r8, r6, #52
 9562              	.LVL1124:
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 9563              		.loc 1 4655 5 is_stmt 1 view .LVU3228
 9564 0090 4FF40072 		mov	r2, #512
 9565 0094 0021     		movs	r1, #0
 9566 0096 4046     		mov	r0, r8
 9567              	.LVL1125:
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 9568              		.loc 1 4655 5 is_stmt 0 view .LVU3229
 9569 0098 FFF7FEFF 		bl	mem_set
 9570              	.LVL1126:
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 9571              		.loc 1 4656 5 is_stmt 1 view .LVU3230
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
 9572              		.loc 1 4657 6 view .LVU3231
 9573 009c 0B22     		movs	r2, #11
 9574 009e 2021     		movs	r1, #32
 9575 00a0 4046     		mov	r0, r8
 9576 00a2 FFF7FEFF 		bl	mem_set
 9577              	.LVL1127:
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
 9578              		.loc 1 4658 6 view .LVU3232
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
 9579              		.loc 1 4658 20 is_stmt 0 view .LVU3233
 9580 00a6 4FF02E0B 		mov	fp, #46
 9581 00aa 86F834B0 		strb	fp, [r6, #52]
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 9582              		.loc 1 4659 6 is_stmt 1 view .LVU3234
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 9583              		.loc 1 4659 20 is_stmt 0 view .LVU3235
 9584 00ae 1023     		movs	r3, #16
 9585 00b0 86F83F30 		strb	r3, [r6, #63]
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
 9586              		.loc 1 4660 6 is_stmt 1 view .LVU3236
 9587 00b4 5146     		mov	r1, r10
 9588 00b6 06F14A00 		add	r0, r6, #74
 9589 00ba FFF7FEFF 		bl	st_dword
 9590              	.LVL1128:
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 323


 9591              		.loc 1 4661 6 view .LVU3237
 9592 00be 4A46     		mov	r2, r9
 9593 00c0 4146     		mov	r1, r8
 9594 00c2 0398     		ldr	r0, [sp, #12]
 9595 00c4 FFF7FEFF 		bl	st_clust
 9596              	.LVL1129:
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 9597              		.loc 1 4662 6 view .LVU3238
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 9598              		.loc 1 4662 18 is_stmt 0 view .LVU3239
 9599 00c8 06F15407 		add	r7, r6, #84
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 9600              		.loc 1 4662 6 view .LVU3240
 9601 00cc 2022     		movs	r2, #32
 9602 00ce 4146     		mov	r1, r8
 9603 00d0 3846     		mov	r0, r7
 9604 00d2 FFF7FEFF 		bl	mem_cpy
 9605              	.LVL1130:
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 9606              		.loc 1 4663 6 is_stmt 1 view .LVU3241
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 9607              		.loc 1 4663 22 is_stmt 0 view .LVU3242
 9608 00d6 86F855B0 		strb	fp, [r6, #85]
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 9609              		.loc 1 4663 29 is_stmt 1 view .LVU3243
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 9610              		.loc 1 4663 33 is_stmt 0 view .LVU3244
 9611 00da 069A     		ldr	r2, [sp, #24]
 9612              	.LVL1131:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 9613              		.loc 1 4664 6 is_stmt 1 view .LVU3245
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 9614              		.loc 1 4664 12 is_stmt 0 view .LVU3246
 9615 00dc 0398     		ldr	r0, [sp, #12]
 9616 00de 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 9617              		.loc 1 4664 9 view .LVU3247
 9618 00e0 032B     		cmp	r3, #3
 9619 00e2 0CD0     		beq	.L721
 9620              	.LVL1132:
 9621              	.L703:
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9622              		.loc 1 4665 6 is_stmt 1 view .LVU3248
 9623 00e4 3946     		mov	r1, r7
 9624 00e6 FFF7FEFF 		bl	st_clust
 9625              	.LVL1133:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 9626              		.loc 1 4667 5 view .LVU3249
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 9627              		.loc 1 4667 16 is_stmt 0 view .LVU3250
 9628 00ea 039B     		ldr	r3, [sp, #12]
 9629 00ec 5E89     		ldrh	r6, [r3, #10]
 9630              	.LVL1134:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 9631              		.loc 1 4667 5 view .LVU3251
 9632 00ee 13E0     		b	.L704
 9633              	.LVL1135:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 324


 9634              	.L720:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 9635              		.loc 1 4650 22 is_stmt 1 discriminator 1 view .LVU3252
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 9636              		.loc 1 4650 28 is_stmt 0 discriminator 1 view .LVU3253
 9637 00f0 1046     		mov	r0, r2
 9638              	.LVL1136:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 9639              		.loc 1 4650 28 discriminator 1 view .LVU3254
 9640 00f2 FFF7FEFF 		bl	sync_window
 9641              	.LVL1137:
 9642 00f6 0446     		mov	r4, r0
 9643              	.LVL1138:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 9644              		.loc 1 4650 28 discriminator 1 view .LVU3255
 9645 00f8 BDE7     		b	.L701
 9646              	.LVL1139:
 9647              	.L719:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 9648              		.loc 1 4649 31 discriminator 1 view .LVU3256
 9649 00fa 0124     		movs	r4, #1
 9650              	.LVL1140:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 9651              		.loc 1 4649 31 discriminator 1 view .LVU3257
 9652 00fc BBE7     		b	.L701
 9653              	.LVL1141:
 9654              	.L721:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 9655              		.loc 1 4664 46 discriminator 1 view .LVU3258
 9656 00fe 836A     		ldr	r3, [r0, #40]
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 9657              		.loc 1 4664 34 discriminator 1 view .LVU3259
 9658 0100 9342     		cmp	r3, r2
 9659 0102 EFD1     		bne	.L703
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 9660              		.loc 1 4664 61 discriminator 2 view .LVU3260
 9661 0104 0022     		movs	r2, #0
 9662              	.LVL1142:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 9663              		.loc 1 4664 61 discriminator 2 view .LVU3261
 9664 0106 EDE7     		b	.L703
 9665              	.LVL1143:
 9666              	.L722:
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9667              		.loc 1 4672 6 is_stmt 1 view .LVU3262
 9668 0108 4FF40072 		mov	r2, #512
 9669 010c 0021     		movs	r1, #0
 9670 010e 4046     		mov	r0, r8
 9671              	.LVL1144:
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9672              		.loc 1 4672 6 is_stmt 0 view .LVU3263
 9673 0110 FFF7FEFF 		bl	mem_set
 9674              	.LVL1145:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 9675              		.loc 1 4667 29 is_stmt 1 discriminator 2 view .LVU3264
 9676 0114 013E     		subs	r6, r6, #1
 9677              	.LVL1146:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 325


4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 9678              		.loc 1 4668 23 is_stmt 0 view .LVU3265
 9679 0116 3D46     		mov	r5, r7
 9680              	.LVL1147:
 9681              	.L704:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 9682              		.loc 1 4667 25 is_stmt 1 discriminator 1 view .LVU3266
 9683 0118 56B1     		cbz	r6, .L705
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 9684              		.loc 1 4668 6 view .LVU3267
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 9685              		.loc 1 4668 23 is_stmt 0 view .LVU3268
 9686 011a 6F1C     		adds	r7, r5, #1
 9687              	.LVL1148:
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 9688              		.loc 1 4668 8 view .LVU3269
 9689 011c 039B     		ldr	r3, [sp, #12]
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 9690              		.loc 1 4668 18 view .LVU3270
 9691 011e 1D63     		str	r5, [r3, #48]
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 9692              		.loc 1 4669 6 is_stmt 1 view .LVU3271
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 9693              		.loc 1 4669 16 is_stmt 0 view .LVU3272
 9694 0120 0122     		movs	r2, #1
 9695 0122 DA70     		strb	r2, [r3, #3]
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 9696              		.loc 1 4670 6 is_stmt 1 view .LVU3273
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 9697              		.loc 1 4670 12 is_stmt 0 view .LVU3274
 9698 0124 0398     		ldr	r0, [sp, #12]
 9699 0126 FFF7FEFF 		bl	sync_window
 9700              	.LVL1149:
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 9701              		.loc 1 4671 6 is_stmt 1 view .LVU3275
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 9702              		.loc 1 4671 9 is_stmt 0 view .LVU3276
 9703 012a 0446     		mov	r4, r0
 9704 012c 0028     		cmp	r0, #0
 9705 012e EBD0     		beq	.L722
 9706              	.LVL1150:
 9707              	.L705:
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 9708              		.loc 1 4675 4 is_stmt 1 view .LVU3277
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 9709              		.loc 1 4675 7 is_stmt 0 view .LVU3278
 9710 0130 2CB1     		cbz	r4, .L723
 9711              	.LVL1151:
 9712              	.L702:
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9713              		.loc 1 4701 5 is_stmt 1 view .LVU3279
 9714 0132 0022     		movs	r2, #0
 9715 0134 4946     		mov	r1, r9
 9716 0136 04A8     		add	r0, sp, #16
 9717 0138 FFF7FEFF 		bl	remove_chain
 9718              	.LVL1152:
 9719 013c 6DE7     		b	.L697
ARM GAS  C:\usertemp\ccmutrvj.s 			page 326


 9720              	.LVL1153:
 9721              	.L723:
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9722              		.loc 1 4676 5 view .LVU3280
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9723              		.loc 1 4676 11 is_stmt 0 view .LVU3281
 9724 013e 04A8     		add	r0, sp, #16
 9725 0140 FFF7FEFF 		bl	dir_register
 9726              	.LVL1154:
4678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9727              		.loc 1 4678 4 is_stmt 1 view .LVU3282
4678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9728              		.loc 1 4678 7 is_stmt 0 view .LVU3283
 9729 0144 0446     		mov	r4, r0
 9730 0146 0028     		cmp	r0, #0
 9731 0148 F3D1     		bne	.L702
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 9732              		.loc 1 4691 6 is_stmt 1 view .LVU3284
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 9733              		.loc 1 4691 10 is_stmt 0 view .LVU3285
 9734 014a 0C9C     		ldr	r4, [sp, #48]
 9735              	.LVL1155:
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
 9736              		.loc 1 4692 6 is_stmt 1 view .LVU3286
 9737 014c 5146     		mov	r1, r10
 9738 014e 04F11600 		add	r0, r4, #22
 9739              	.LVL1156:
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
 9740              		.loc 1 4692 6 is_stmt 0 view .LVU3287
 9741 0152 FFF7FEFF 		bl	st_dword
 9742              	.LVL1157:
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
 9743              		.loc 1 4693 6 is_stmt 1 view .LVU3288
 9744 0156 4A46     		mov	r2, r9
 9745 0158 2146     		mov	r1, r4
 9746 015a 0398     		ldr	r0, [sp, #12]
 9747 015c FFF7FEFF 		bl	st_clust
 9748              	.LVL1158:
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 9749              		.loc 1 4694 6 view .LVU3289
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 9750              		.loc 1 4694 20 is_stmt 0 view .LVU3290
 9751 0160 1023     		movs	r3, #16
 9752 0162 E372     		strb	r3, [r4, #11]
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9753              		.loc 1 4695 6 is_stmt 1 view .LVU3291
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9754              		.loc 1 4695 16 is_stmt 0 view .LVU3292
 9755 0164 039B     		ldr	r3, [sp, #12]
 9756 0166 0122     		movs	r2, #1
 9757 0168 DA70     		strb	r2, [r3, #3]
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 9758              		.loc 1 4697 5 is_stmt 1 view .LVU3293
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9759              		.loc 1 4698 6 view .LVU3294
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9760              		.loc 1 4698 12 is_stmt 0 view .LVU3295
ARM GAS  C:\usertemp\ccmutrvj.s 			page 327


 9761 016a 0398     		ldr	r0, [sp, #12]
 9762 016c FFF7FEFF 		bl	sync_fs
 9763              	.LVL1159:
 9764 0170 0446     		mov	r4, r0
 9765              	.LVL1160:
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9766              		.loc 1 4698 12 view .LVU3296
 9767 0172 52E7     		b	.L697
 9768              		.cfi_endproc
 9769              	.LFE387:
 9771              		.section	.text.f_rename,"ax",%progbits
 9772              		.align	1
 9773              		.global	f_rename
 9774              		.syntax unified
 9775              		.thumb
 9776              		.thumb_func
 9778              	f_rename:
 9779              	.LVL1161:
 9780              	.LFB388:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9781              		.loc 1 4721 1 is_stmt 1 view -0
 9782              		.cfi_startproc
 9783              		@ args = 0, pretend = 0, frame = 136
 9784              		@ frame_needed = 0, uses_anonymous_args = 0
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9785              		.loc 1 4721 1 is_stmt 0 view .LVU3298
 9786 0000 30B5     		push	{r4, r5, lr}
 9787              	.LCFI114:
 9788              		.cfi_def_cfa_offset 12
 9789              		.cfi_offset 4, -12
 9790              		.cfi_offset 5, -8
 9791              		.cfi_offset 14, -4
 9792 0002 A3B0     		sub	sp, sp, #140
 9793              	.LCFI115:
 9794              		.cfi_def_cfa_offset 152
 9795 0004 0190     		str	r0, [sp, #4]
 9796 0006 0091     		str	r1, [sp]
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
 9797              		.loc 1 4722 2 is_stmt 1 view .LVU3299
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9798              		.loc 1 4723 2 view .LVU3300
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
 9799              		.loc 1 4724 2 view .LVU3301
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
 9800              		.loc 1 4725 2 view .LVU3302
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 9801              		.loc 1 4726 2 view .LVU3303
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 9802              		.loc 1 4730 2 view .LVU3304
 9803 0008 6846     		mov	r0, sp
 9804              	.LVL1162:
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 9805              		.loc 1 4730 2 is_stmt 0 view .LVU3305
 9806 000a FFF7FEFF 		bl	get_ldnumber
 9807              	.LVL1163:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9808              		.loc 1 4731 2 is_stmt 1 view .LVU3306
ARM GAS  C:\usertemp\ccmutrvj.s 			page 328


4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9809              		.loc 1 4731 8 is_stmt 0 view .LVU3307
 9810 000e 0222     		movs	r2, #2
 9811 0010 09A9     		add	r1, sp, #36
 9812 0012 01A8     		add	r0, sp, #4
 9813 0014 FFF7FEFF 		bl	find_volume
 9814              	.LVL1164:
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
 9815              		.loc 1 4732 2 is_stmt 1 view .LVU3308
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
 9816              		.loc 1 4732 5 is_stmt 0 view .LVU3309
 9817 0018 0446     		mov	r4, r0
 9818 001a 10B1     		cbz	r0, .L734
 9819              	.LVL1165:
 9820              	.L725:
4807:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9821              		.loc 1 4807 16 is_stmt 1 view .LVU3310
4810:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9822              		.loc 1 4810 2 view .LVU3311
4811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9823              		.loc 1 4811 1 is_stmt 0 view .LVU3312
 9824 001c 2046     		mov	r0, r4
 9825 001e 23B0     		add	sp, sp, #140
 9826              	.LCFI116:
 9827              		.cfi_remember_state
 9828              		.cfi_def_cfa_offset 12
 9829              		@ sp needed
 9830 0020 30BD     		pop	{r4, r5, pc}
 9831              	.LVL1166:
 9832              	.L734:
 9833              	.LCFI117:
 9834              		.cfi_restore_state
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9835              		.loc 1 4733 3 is_stmt 1 view .LVU3313
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9836              		.loc 1 4733 14 is_stmt 0 view .LVU3314
 9837 0022 099B     		ldr	r3, [sp, #36]
 9838 0024 1693     		str	r3, [sp, #88]
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 9839              		.loc 1 4734 18 is_stmt 1 view .LVU3315
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 9840              		.loc 1 4735 3 view .LVU3316
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 9841              		.loc 1 4735 9 is_stmt 0 view .LVU3317
 9842 0026 0199     		ldr	r1, [sp, #4]
 9843 0028 16A8     		add	r0, sp, #88
 9844              	.LVL1167:
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 9845              		.loc 1 4735 9 view .LVU3318
 9846 002a FFF7FEFF 		bl	follow_path
 9847              	.LVL1168:
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9848              		.loc 1 4736 3 is_stmt 1 view .LVU3319
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9849              		.loc 1 4736 6 is_stmt 0 view .LVU3320
 9850 002e 0446     		mov	r4, r0
 9851 0030 48B9     		cbnz	r0, .L726
ARM GAS  C:\usertemp\ccmutrvj.s 			page 329


4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9852              		.loc 1 4736 30 discriminator 1 view .LVU3321
 9853 0032 9DF88730 		ldrb	r3, [sp, #135]	@ zero_extendqisi2
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9854              		.loc 1 4736 20 discriminator 1 view .LVU3322
 9855 0036 13F0A00F 		tst	r3, #160
 9856 003a 72D1     		bne	.L730
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
 9857              		.loc 1 4738 3 is_stmt 1 view .LVU3323
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9858              		.loc 1 4739 4 view .LVU3324
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9859              		.loc 1 4739 10 is_stmt 0 view .LVU3325
 9860 003c 0221     		movs	r1, #2
 9861 003e 16A8     		add	r0, sp, #88
 9862              	.LVL1169:
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9863              		.loc 1 4739 10 view .LVU3326
 9864 0040 FFF7FEFF 		bl	chk_lock
 9865              	.LVL1170:
 9866 0044 0446     		mov	r4, r0
 9867              	.LVL1171:
 9868              	.L726:
4742:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9869              		.loc 1 4742 3 is_stmt 1 view .LVU3327
4742:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9870              		.loc 1 4742 6 is_stmt 0 view .LVU3328
 9871 0046 002C     		cmp	r4, #0
 9872 0048 E8D1     		bne	.L725
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 9873              		.loc 1 4769 5 is_stmt 1 view .LVU3329
 9874 004a 1522     		movs	r2, #21
 9875 004c 1E99     		ldr	r1, [sp, #120]
 9876 004e 0B31     		adds	r1, r1, #11
 9877 0050 03A8     		add	r0, sp, #12
 9878 0052 FFF7FEFF 		bl	mem_cpy
 9879              	.LVL1172:
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
 9880              		.loc 1 4770 5 view .LVU3330
 9881 0056 3022     		movs	r2, #48
 9882 0058 16A9     		add	r1, sp, #88
 9883 005a 0AA8     		add	r0, sp, #40
 9884 005c FFF7FEFF 		bl	mem_cpy
 9885              	.LVL1173:
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 9886              		.loc 1 4771 5 view .LVU3331
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 9887              		.loc 1 4771 11 is_stmt 0 view .LVU3332
 9888 0060 0099     		ldr	r1, [sp]
 9889 0062 0AA8     		add	r0, sp, #40
 9890 0064 FFF7FEFF 		bl	follow_path
 9891              	.LVL1174:
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 9892              		.loc 1 4772 5 is_stmt 1 view .LVU3333
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 9893              		.loc 1 4772 8 is_stmt 0 view .LVU3334
 9894 0068 0446     		mov	r4, r0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 330


 9895 006a 58B9     		cbnz	r0, .L727
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9896              		.loc 1 4773 6 is_stmt 1 view .LVU3335
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9897              		.loc 1 4773 84 is_stmt 0 view .LVU3336
 9898 006c 0C9A     		ldr	r2, [sp, #48]
 9899 006e 189B     		ldr	r3, [sp, #96]
 9900 0070 9A42     		cmp	r2, r3
 9901 0072 01D0     		beq	.L735
 9902              	.LVL1175:
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9903              		.loc 1 4773 10 discriminator 6 view .LVU3337
 9904 0074 0824     		movs	r4, #8
 9905 0076 07E0     		b	.L728
 9906              	.LVL1176:
 9907              	.L735:
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9908              		.loc 1 4773 46 discriminator 1 view .LVU3338
 9909 0078 0F9A     		ldr	r2, [sp, #60]
 9910 007a 1B9B     		ldr	r3, [sp, #108]
 9911 007c 9A42     		cmp	r2, r3
 9912 007e 10D0     		beq	.L729
 9913              	.LVL1177:
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9914              		.loc 1 4773 10 discriminator 6 view .LVU3339
 9915 0080 0824     		movs	r4, #8
 9916 0082 01E0     		b	.L728
 9917              	.LVL1178:
 9918              	.L727:
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 9919              		.loc 1 4775 5 is_stmt 1 view .LVU3340
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 9920              		.loc 1 4775 8 is_stmt 0 view .LVU3341
 9921 0084 0428     		cmp	r0, #4
 9922 0086 0CD0     		beq	.L729
 9923              	.LVL1179:
 9924              	.L728:
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
 9925              		.loc 1 4799 4 is_stmt 1 view .LVU3342
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
 9926              		.loc 1 4799 7 is_stmt 0 view .LVU3343
 9927 0088 002C     		cmp	r4, #0
 9928 008a C7D1     		bne	.L725
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 9929              		.loc 1 4800 5 is_stmt 1 view .LVU3344
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 9930              		.loc 1 4800 11 is_stmt 0 view .LVU3345
 9931 008c 16A8     		add	r0, sp, #88
 9932 008e FFF7FEFF 		bl	dir_remove
 9933              	.LVL1180:
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 9934              		.loc 1 4801 5 is_stmt 1 view .LVU3346
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 9935              		.loc 1 4801 8 is_stmt 0 view .LVU3347
 9936 0092 0446     		mov	r4, r0
 9937 0094 0028     		cmp	r0, #0
 9938 0096 C1D1     		bne	.L725
ARM GAS  C:\usertemp\ccmutrvj.s 			page 331


4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9939              		.loc 1 4802 6 is_stmt 1 view .LVU3348
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9940              		.loc 1 4802 12 is_stmt 0 view .LVU3349
 9941 0098 0998     		ldr	r0, [sp, #36]
 9942              	.LVL1181:
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9943              		.loc 1 4802 12 view .LVU3350
 9944 009a FFF7FEFF 		bl	sync_fs
 9945              	.LVL1182:
 9946 009e 0446     		mov	r4, r0
 9947              	.LVL1183:
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9948              		.loc 1 4802 12 view .LVU3351
 9949 00a0 BCE7     		b	.L725
 9950              	.LVL1184:
 9951              	.L729:
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 9952              		.loc 1 4776 6 is_stmt 1 view .LVU3352
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 9953              		.loc 1 4776 12 is_stmt 0 view .LVU3353
 9954 00a2 0AA8     		add	r0, sp, #40
 9955 00a4 FFF7FEFF 		bl	dir_register
 9956              	.LVL1185:
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 9957              		.loc 1 4777 6 is_stmt 1 view .LVU3354
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 9958              		.loc 1 4777 9 is_stmt 0 view .LVU3355
 9959 00a8 0446     		mov	r4, r0
 9960 00aa 0028     		cmp	r0, #0
 9961 00ac B6D1     		bne	.L725
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 9962              		.loc 1 4778 7 is_stmt 1 view .LVU3356
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 9963              		.loc 1 4778 11 is_stmt 0 view .LVU3357
 9964 00ae 129D     		ldr	r5, [sp, #72]
 9965              	.LVL1186:
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 9966              		.loc 1 4779 7 is_stmt 1 view .LVU3358
 9967 00b0 1322     		movs	r2, #19
 9968 00b2 0DF10E01 		add	r1, sp, #14
 9969 00b6 05F10D00 		add	r0, r5, #13
 9970              	.LVL1187:
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 9971              		.loc 1 4779 7 is_stmt 0 view .LVU3359
 9972 00ba FFF7FEFF 		bl	mem_cpy
 9973              	.LVL1188:
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 9974              		.loc 1 4780 7 is_stmt 1 view .LVU3360
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 9975              		.loc 1 4780 26 is_stmt 0 view .LVU3361
 9976 00be 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 9977              		.loc 1 4780 21 view .LVU3362
 9978 00c2 43F02003 		orr	r3, r3, #32
 9979 00c6 EB72     		strb	r3, [r5, #11]
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
ARM GAS  C:\usertemp\ccmutrvj.s 			page 332


 9980              		.loc 1 4781 7 is_stmt 1 view .LVU3363
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 9981              		.loc 1 4781 17 is_stmt 0 view .LVU3364
 9982 00c8 099B     		ldr	r3, [sp, #36]
 9983 00ca 0122     		movs	r2, #1
 9984 00cc DA70     		strb	r2, [r3, #3]
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 9985              		.loc 1 4782 7 is_stmt 1 view .LVU3365
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 9986              		.loc 1 4782 15 is_stmt 0 view .LVU3366
 9987 00ce EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 9988              		.loc 1 4782 10 view .LVU3367
 9989 00d0 13F0100F 		tst	r3, #16
 9990 00d4 D8D0     		beq	.L728
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 9991              		.loc 1 4782 36 discriminator 1 view .LVU3368
 9992 00d6 189A     		ldr	r2, [sp, #96]
 9993 00d8 0C9B     		ldr	r3, [sp, #48]
 9994 00da 9A42     		cmp	r2, r3
 9995 00dc D4D0     		beq	.L728
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9996              		.loc 1 4783 8 is_stmt 1 view .LVU3369
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9997              		.loc 1 4783 13 is_stmt 0 view .LVU3370
 9998 00de 099C     		ldr	r4, [sp, #36]
 9999              	.LVL1189:
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 10000              		.loc 1 4783 13 view .LVU3371
 10001 00e0 2946     		mov	r1, r5
 10002 00e2 2046     		mov	r0, r4
 10003 00e4 FFF7FEFF 		bl	ld_clust
 10004              	.LVL1190:
 10005 00e8 0146     		mov	r1, r0
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 10006              		.loc 1 4783 13 discriminator 1 view .LVU3372
 10007 00ea 2046     		mov	r0, r4
 10008 00ec FFF7FEFF 		bl	clust2sect
 10009              	.LVL1191:
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 10010              		.loc 1 4784 8 is_stmt 1 view .LVU3373
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 10011              		.loc 1 4784 11 is_stmt 0 view .LVU3374
 10012 00f0 0146     		mov	r1, r0
 10013 00f2 08B9     		cbnz	r0, .L736
 10014              	.LVL1192:
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
 10015              		.loc 1 4785 13 view .LVU3375
 10016 00f4 0224     		movs	r4, #2
 10017 00f6 91E7     		b	.L725
 10018              	.LVL1193:
 10019              	.L736:
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 10020              		.loc 1 4788 9 is_stmt 1 view .LVU3376
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 10021              		.loc 1 4788 15 is_stmt 0 view .LVU3377
 10022 00f8 2046     		mov	r0, r4
ARM GAS  C:\usertemp\ccmutrvj.s 			page 333


 10023              	.LVL1194:
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 10024              		.loc 1 4788 15 view .LVU3378
 10025 00fa FFF7FEFF 		bl	move_window
 10026              	.LVL1195:
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 10027              		.loc 1 4789 9 is_stmt 1 view .LVU3379
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 10028              		.loc 1 4789 17 is_stmt 0 view .LVU3380
 10029 00fe 099B     		ldr	r3, [sp, #36]
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 10030              		.loc 1 4789 13 view .LVU3381
 10031 0100 03F15401 		add	r1, r3, #84
 10032              	.LVL1196:
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 10033              		.loc 1 4790 9 is_stmt 1 view .LVU3382
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 10034              		.loc 1 4790 12 is_stmt 0 view .LVU3383
 10035 0104 0446     		mov	r4, r0
 10036 0106 0028     		cmp	r0, #0
 10037 0108 88D1     		bne	.L725
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 10038              		.loc 1 4790 32 discriminator 1 view .LVU3384
 10039 010a 93F85520 		ldrb	r2, [r3, #85]	@ zero_extendqisi2
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 10040              		.loc 1 4790 26 discriminator 1 view .LVU3385
 10041 010e 2E2A     		cmp	r2, #46
 10042 0110 BAD1     		bne	.L728
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
 10043              		.loc 1 4791 10 is_stmt 1 view .LVU3386
 10044 0112 0C9A     		ldr	r2, [sp, #48]
 10045 0114 1846     		mov	r0, r3
 10046              	.LVL1197:
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
 10047              		.loc 1 4791 10 is_stmt 0 view .LVU3387
 10048 0116 FFF7FEFF 		bl	st_clust
 10049              	.LVL1198:
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 10050              		.loc 1 4792 10 is_stmt 1 view .LVU3388
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 10051              		.loc 1 4792 20 is_stmt 0 view .LVU3389
 10052 011a 099B     		ldr	r3, [sp, #36]
 10053 011c 0122     		movs	r2, #1
 10054 011e DA70     		strb	r2, [r3, #3]
 10055 0120 B2E7     		b	.L728
 10056              	.LVL1199:
 10057              	.L730:
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 10058              		.loc 1 4792 20 view .LVU3390
 10059 0122 0624     		movs	r4, #6
 10060 0124 7AE7     		b	.L725
 10061              		.cfi_endproc
 10062              	.LFE388:
 10064              		.section	.rodata.f_mkfs.str1.4,"aMS",%progbits,1
 10065              		.align	2
 10066              	.LC1:
 10067 0000 EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
ARM GAS  C:\usertemp\ccmutrvj.s 			page 334


 10067      53444F53 
 10067      352E3000 
 10068              		.align	2
 10069              	.LC2:
 10070 000c 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 10070      414D4520 
 10070      20202046 
 10070      41543332 
 10070      20202000 
 10071              		.align	2
 10072              	.LC3:
 10073 0020 4E4F204E 		.ascii	"NO NAME    FAT     \000"
 10073      414D4520 
 10073      20202046 
 10073      41542020 
 10073      20202000 
 10074              		.section	.text.f_mkfs,"ax",%progbits
 10075              		.align	1
 10076              		.global	f_mkfs
 10077              		.syntax unified
 10078              		.thumb
 10079              		.thumb_func
 10081              	f_mkfs:
 10082              	.LVL1200:
 10083              	.LFB389:
5308:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 10084              		.loc 1 5308 1 is_stmt 1 view -0
 10085              		.cfi_startproc
 10086              		@ args = 4, pretend = 0, frame = 48
 10087              		@ frame_needed = 0, uses_anonymous_args = 0
5308:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 10088              		.loc 1 5308 1 is_stmt 0 view .LVU3392
 10089 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 10090              	.LCFI118:
 10091              		.cfi_def_cfa_offset 36
 10092              		.cfi_offset 4, -36
 10093              		.cfi_offset 5, -32
 10094              		.cfi_offset 6, -28
 10095              		.cfi_offset 7, -24
 10096              		.cfi_offset 8, -20
 10097              		.cfi_offset 9, -16
 10098              		.cfi_offset 10, -12
 10099              		.cfi_offset 11, -8
 10100              		.cfi_offset 14, -4
 10101 0004 8DB0     		sub	sp, sp, #52
 10102              	.LCFI119:
 10103              		.cfi_def_cfa_offset 88
 10104 0006 0990     		str	r0, [sp, #36]
 10105 0008 0F46     		mov	r7, r1
 10106 000a 1646     		mov	r6, r2
 10107 000c 0193     		str	r3, [sp, #4]
5309:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
 10108              		.loc 1 5309 2 is_stmt 1 view .LVU3393
 10109              	.LVL1201:
5310:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
 10110              		.loc 1 5310 2 view .LVU3394
5311:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
ARM GAS  C:\usertemp\ccmutrvj.s 			page 335


 10111              		.loc 1 5311 2 view .LVU3395
5312:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
 10112              		.loc 1 5312 2 view .LVU3396
5313:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
 10113              		.loc 1 5313 2 view .LVU3397
5314:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
 10114              		.loc 1 5314 2 view .LVU3398
5315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
 10115              		.loc 1 5315 2 view .LVU3399
5316:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
 10116              		.loc 1 5316 2 view .LVU3400
5317:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 10117              		.loc 1 5317 2 view .LVU3401
5318:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 10118              		.loc 1 5318 2 view .LVU3402
5319:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 10119              		.loc 1 5319 2 view .LVU3403
5320:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
 10120              		.loc 1 5320 2 view .LVU3404
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 10121              		.loc 1 5327 2 view .LVU3405
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 10122              		.loc 1 5327 8 is_stmt 0 view .LVU3406
 10123 000e 09A8     		add	r0, sp, #36
 10124              	.LVL1202:
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 10125              		.loc 1 5327 8 view .LVU3407
 10126 0010 FFF7FEFF 		bl	get_ldnumber
 10127              	.LVL1203:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 10128              		.loc 1 5328 2 is_stmt 1 view .LVU3408
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 10129              		.loc 1 5328 5 is_stmt 0 view .LVU3409
 10130 0014 0028     		cmp	r0, #0
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 10131              		.loc 1 5328 5 view .LVU3410
 10132 0016 C0F20B83 		blt	.L780
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 10133              		.loc 1 5329 2 is_stmt 1 view .LVU3411
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 10134              		.loc 1 5329 11 is_stmt 0 view .LVU3412
 10135 001a 8F4B     		ldr	r3, .L832
 10136 001c 53F82030 		ldr	r3, [r3, r0, lsl #2]
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 10137              		.loc 1 5329 5 view .LVU3413
 10138 0020 0BB1     		cbz	r3, .L739
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 10139              		.loc 1 5329 18 is_stmt 1 discriminator 1 view .LVU3414
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 10140              		.loc 1 5329 38 is_stmt 0 discriminator 1 view .LVU3415
 10141 0022 0022     		movs	r2, #0
 10142 0024 1A70     		strb	r2, [r3]
 10143              	.L739:
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 10144              		.loc 1 5330 2 is_stmt 1 view .LVU3416
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 10145              		.loc 1 5330 7 is_stmt 0 view .LVU3417
ARM GAS  C:\usertemp\ccmutrvj.s 			page 336


 10146 0026 C4B2     		uxtb	r4, r0
 10147              	.LVL1204:
5331:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10148              		.loc 1 5331 2 is_stmt 1 view .LVU3418
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 10149              		.loc 1 5334 2 view .LVU3419
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 10150              		.loc 1 5334 9 is_stmt 0 view .LVU3420
 10151 0028 2046     		mov	r0, r4
 10152              	.LVL1205:
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 10153              		.loc 1 5334 9 view .LVU3421
 10154 002a FFF7FEFF 		bl	disk_initialize
 10155              	.LVL1206:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 10156              		.loc 1 5335 2 is_stmt 1 view .LVU3422
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 10157              		.loc 1 5335 5 is_stmt 0 view .LVU3423
 10158 002e 10F0010F 		tst	r0, #1
 10159 0032 40F0FF82 		bne	.L781
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 10160              		.loc 1 5336 2 is_stmt 1 view .LVU3424
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 10161              		.loc 1 5336 5 is_stmt 0 view .LVU3425
 10162 0036 10F0040F 		tst	r0, #4
 10163 003a 40F0FD82 		bne	.L782
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10164              		.loc 1 5337 2 is_stmt 1 view .LVU3426
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10165              		.loc 1 5337 6 is_stmt 0 view .LVU3427
 10166 003e 0BAA     		add	r2, sp, #44
 10167 0040 0321     		movs	r1, #3
 10168 0042 2046     		mov	r0, r4
 10169              	.LVL1207:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10170              		.loc 1 5337 6 view .LVU3428
 10171 0044 FFF7FEFF 		bl	disk_ioctl
 10172              	.LVL1208:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10173              		.loc 1 5337 5 discriminator 1 view .LVU3429
 10174 0048 38B9     		cbnz	r0, .L740
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10175              		.loc 1 5337 61 discriminator 2 view .LVU3430
 10176 004a 0B9B     		ldr	r3, [sp, #44]
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10177              		.loc 1 5337 58 discriminator 2 view .LVU3431
 10178 004c 2BB1     		cbz	r3, .L740
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10179              		.loc 1 5337 69 discriminator 4 view .LVU3432
 10180 004e B3F5004F 		cmp	r3, #32768
 10181 0052 02D8     		bhi	.L740
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10182              		.loc 1 5337 108 discriminator 6 view .LVU3433
 10183 0054 5A1E     		subs	r2, r3, #1
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10184              		.loc 1 5337 87 discriminator 6 view .LVU3434
 10185 0056 1342     		tst	r3, r2
ARM GAS  C:\usertemp\ccmutrvj.s 			page 337


 10186 0058 01D0     		beq	.L741
 10187              	.L740:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10188              		.loc 1 5337 115 is_stmt 1 discriminator 7 view .LVU3435
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 10189              		.loc 1 5337 122 is_stmt 0 discriminator 7 view .LVU3436
 10190 005a 0123     		movs	r3, #1
 10191 005c 0B93     		str	r3, [sp, #44]
 10192              	.L741:
5342:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10193              		.loc 1 5342 2 is_stmt 1 view .LVU3437
 10194              	.LVL1209:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10195              		.loc 1 5344 2 view .LVU3438
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10196              		.loc 1 5344 5 is_stmt 0 view .LVU3439
 10197 005e 3EB1     		cbz	r6, .L742
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10198              		.loc 1 5344 15 discriminator 1 view .LVU3440
 10199 0060 B6F5007F 		cmp	r6, #512
 10200 0064 C0F0EC82 		bcc	.L783
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10201              		.loc 1 5344 27 discriminator 4 view .LVU3441
 10202 0068 B6F1807F 		cmp	r6, #16777216
 10203 006c 00F2EA82 		bhi	.L784
 10204              	.L742:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10205              		.loc 1 5344 58 discriminator 6 view .LVU3442
 10206 0070 731E     		subs	r3, r6, #1
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 10207              		.loc 1 5344 45 discriminator 6 view .LVU3443
 10208 0072 3340     		ands	r3, r3, r6
 10209 0074 0293     		str	r3, [sp, #8]
 10210 0076 40F0E782 		bne	.L785
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10211              		.loc 1 5345 2 is_stmt 1 view .LVU3444
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10212              		.loc 1 5345 5 is_stmt 0 view .LVU3445
 10213 007a 4FEA5629 		lsr	r9, r6, #9
 10214              	.LVL1210:
5348:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
 10215              		.loc 1 5348 2 is_stmt 1 view .LVU3446
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 10216              		.loc 1 5349 2 view .LVU3447
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 10217              		.loc 1 5349 9 is_stmt 0 view .LVU3448
 10218 007e 169A     		ldr	r2, [sp, #88]
 10219 0080 520A     		lsrs	r2, r2, #9
 10220 0082 0392     		str	r2, [sp, #12]
 10221              	.LVL1211:
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 10222              		.loc 1 5350 2 is_stmt 1 view .LVU3449
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 10223              		.loc 1 5350 10 is_stmt 0 view .LVU3450
 10224 0084 169D     		ldr	r5, [sp, #88]
 10225 0086 6FF30805 		bfc	r5, #0, #9
 10226              	.LVL1212:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 338


5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10227              		.loc 1 5351 2 is_stmt 1 view .LVU3451
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10228              		.loc 1 5351 5 is_stmt 0 view .LVU3452
 10229 008a 002D     		cmp	r5, #0
 10230 008c 00F0DE82 		beq	.L786
5354:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
 10231              		.loc 1 5354 2 is_stmt 1 view .LVU3453
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 10232              		.loc 1 5364 3 view .LVU3454
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 10233              		.loc 1 5364 7 is_stmt 0 view .LVU3455
 10234 0090 0AAA     		add	r2, sp, #40
 10235              	.LVL1213:
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 10236              		.loc 1 5364 7 view .LVU3456
 10237 0092 0121     		movs	r1, #1
 10238 0094 2046     		mov	r0, r4
 10239 0096 FFF7FEFF 		bl	disk_ioctl
 10240              	.LVL1214:
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 10241              		.loc 1 5364 6 discriminator 1 view .LVU3457
 10242 009a 0028     		cmp	r0, #0
 10243 009c 40F0D882 		bne	.L787
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 10244              		.loc 1 5365 3 is_stmt 1 view .LVU3458
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 10245              		.loc 1 5365 30 is_stmt 0 view .LVU3459
 10246 00a0 17F00802 		ands	r2, r7, #8
 10247 00a4 0492     		str	r2, [sp, #16]
 10248 00a6 23D0     		beq	.L788
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 10249              		.loc 1 5365 30 discriminator 1 view .LVU3460
 10250 00a8 DDF808B0 		ldr	fp, [sp, #8]
 10251              	.L743:
 10252              	.LVL1215:
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 10253              		.loc 1 5366 3 is_stmt 1 view .LVU3461
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 10254              		.loc 1 5366 14 is_stmt 0 view .LVU3462
 10255 00ac 0A99     		ldr	r1, [sp, #40]
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 10256              		.loc 1 5366 6 view .LVU3463
 10257 00ae 5945     		cmp	r1, fp
 10258 00b0 C0F0D082 		bcc	.L789
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10259              		.loc 1 5367 3 is_stmt 1 view .LVU3464
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10260              		.loc 1 5367 10 is_stmt 0 view .LVU3465
 10261 00b4 A1EB0B01 		sub	r1, r1, fp
 10262 00b8 0A91     		str	r1, [sp, #40]
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10263              		.loc 1 5369 2 is_stmt 1 view .LVU3466
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10264              		.loc 1 5369 5 is_stmt 0 view .LVU3467
 10265 00ba 7F29     		cmp	r1, #127
 10266 00bc 40F2CC82 		bls	.L790
ARM GAS  C:\usertemp\ccmutrvj.s 			page 339


5372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
 10267              		.loc 1 5372 2 is_stmt 1 view .LVU3468
5373:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
 10268              		.loc 1 5373 3 view .LVU3469
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 10269              		.loc 1 5378 3 view .LVU3470
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 10270              		.loc 1 5378 6 is_stmt 0 view .LVU3471
 10271 00c0 B6F5813F 		cmp	r6, #66048
 10272 00c4 80F0CA82 		bcs	.L791
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 10273              		.loc 1 5379 3 is_stmt 1 view .LVU3472
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 10274              		.loc 1 5379 6 is_stmt 0 view .LVU3473
 10275 00c8 17F00200 		ands	r0, r7, #2
 10276 00cc 06D0     		beq	.L744
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 10277              		.loc 1 5380 4 is_stmt 1 view .LVU3474
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 10278              		.loc 1 5380 7 is_stmt 0 view .LVU3475
 10279 00ce 07F00703 		and	r3, r7, #7
 10280 00d2 022B     		cmp	r3, #2
 10281 00d4 0FD0     		beq	.L792
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 10282              		.loc 1 5380 35 discriminator 1 view .LVU3476
 10283 00d6 17F0010F 		tst	r7, #1
 10284 00da 12D0     		beq	.L793
 10285              	.L744:
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 10286              		.loc 1 5384 3 is_stmt 1 view .LVU3477
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 10287              		.loc 1 5384 6 is_stmt 0 view .LVU3478
 10288 00dc 17F0010F 		tst	r7, #1
 10289 00e0 00F0BE82 		beq	.L794
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 10290              		.loc 1 5385 7 view .LVU3479
 10291 00e4 4FF0020A 		mov	r10, #2
 10292 00e8 8E46     		mov	lr, r1
 10293 00ea 4946     		mov	r1, r9
 10294 00ec 0594     		str	r4, [sp, #20]
 10295 00ee 64E0     		b	.L746
 10296              	.LVL1216:
 10297              	.L788:
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 10298              		.loc 1 5365 30 discriminator 2 view .LVU3480
 10299 00f0 4FF03F0B 		mov	fp, #63
 10300 00f4 DAE7     		b	.L743
 10301              	.LVL1217:
 10302              	.L792:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10303              		.loc 1 5381 9 view .LVU3481
 10304 00f6 4FF0030A 		mov	r10, #3
 10305 00fa 8E46     		mov	lr, r1
 10306 00fc 4946     		mov	r1, r9
 10307 00fe 0594     		str	r4, [sp, #20]
 10308 0100 5BE0     		b	.L746
 10309              	.L793:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 340


5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10310              		.loc 1 5381 9 view .LVU3482
 10311 0102 4FF0030A 		mov	r10, #3
 10312 0106 8E46     		mov	lr, r1
 10313 0108 4946     		mov	r1, r9
 10314 010a 0594     		str	r4, [sp, #20]
 10315 010c 55E0     		b	.L746
 10316              	.LVL1218:
 10317              	.L800:
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 10318              		.loc 1 5604 10 view .LVU3483
 10319 010e 1946     		mov	r1, r3
 10320              	.LVL1219:
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 10321              		.loc 1 5604 10 view .LVU3484
 10322 0110 53E0     		b	.L746
 10323              	.LVL1220:
 10324              	.L801:
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 10325              		.loc 1 5607 11 view .LVU3485
 10326 0112 4FF0030A 		mov	r10, #3
 10327              	.LVL1221:
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 10328              		.loc 1 5607 11 view .LVU3486
 10329 0116 50E0     		b	.L746
 10330              	.LVL1222:
 10331              	.L821:
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 10332              		.loc 1 5556 5 is_stmt 1 view .LVU3487
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 10333              		.loc 1 5556 8 is_stmt 0 view .LVU3488
 10334 0118 89B1     		cbz	r1, .L819
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
 10335              		.loc 1 5553 8 view .LVU3489
 10336 011a 0F46     		mov	r7, r1
 10337              	.LVL1223:
 10338              	.L748:
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 10339              		.loc 1 5560 5 is_stmt 1 view .LVU3490
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 10340              		.loc 1 5560 12 is_stmt 0 view .LVU3491
 10341 011c BEFBF7F2 		udiv	r2, lr, r7
 10342              	.LVL1224:
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 10343              		.loc 1 5561 5 is_stmt 1 view .LVU3492
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 10344              		.loc 1 5561 35 is_stmt 0 view .LVU3493
 10345 0120 9600     		lsls	r6, r2, #2
 10346 0122 06F20726 		addw	r6, r6, #519
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 10347              		.loc 1 5561 12 view .LVU3494
 10348 0126 760A     		lsrs	r6, r6, #9
 10349              	.LVL1225:
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 10350              		.loc 1 5562 5 is_stmt 1 view .LVU3495
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 10351              		.loc 1 5563 5 view .LVU3496
ARM GAS  C:\usertemp\ccmutrvj.s 			page 341


5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 10352              		.loc 1 5564 5 view .LVU3497
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 10353              		.loc 1 5564 29 is_stmt 0 view .LVU3498
 10354 0128 4C4B     		ldr	r3, .L832+4
 10355 012a 1344     		add	r3, r3, r2
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 10356              		.loc 1 5564 8 view .LVU3499
 10357 012c 4C4A     		ldr	r2, .L832+8
 10358              	.LVL1226:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 10359              		.loc 1 5564 8 view .LVU3500
 10360 012e 9342     		cmp	r3, r2
 10361 0130 00F29882 		bhi	.L796
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 10362              		.loc 1 5563 12 view .LVU3501
 10363 0134 DDF80890 		ldr	r9, [sp, #8]
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 10364              		.loc 1 5562 12 view .LVU3502
 10365 0138 4FF0200C 		mov	ip, #32
 10366 013c 52E0     		b	.L751
 10367              	.LVL1227:
 10368              	.L819:
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 10369              		.loc 1 5557 6 is_stmt 1 view .LVU3503
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 10370              		.loc 1 5557 8 is_stmt 0 view .LVU3504
 10371 013e 4FEA5E44 		lsr	r4, lr, #17
 10372              	.LVL1228:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10373              		.loc 1 5558 6 is_stmt 1 view .LVU3505
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10374              		.loc 1 5558 13 is_stmt 0 view .LVU3506
 10375 0142 0A46     		mov	r2, r1
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10376              		.loc 1 5558 22 view .LVU3507
 10377 0144 0127     		movs	r7, #1
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10378              		.loc 1 5558 6 view .LVU3508
 10379 0146 01E0     		b	.L749
 10380              	.LVL1229:
 10381              	.L750:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10382              		.loc 1 5558 57 is_stmt 1 discriminator 4 view .LVU3509
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10383              		.loc 1 5558 55 is_stmt 0 discriminator 4 view .LVU3510
 10384 0148 0132     		adds	r2, r2, #1
 10385              	.LVL1230:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10386              		.loc 1 5558 63 discriminator 4 view .LVU3511
 10387 014a 7F00     		lsls	r7, r7, #1
 10388              	.LVL1231:
 10389              	.L749:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10390              		.loc 1 5558 36 is_stmt 1 discriminator 1 view .LVU3512
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10391              		.loc 1 5558 32 is_stmt 0 discriminator 1 view .LVU3513
ARM GAS  C:\usertemp\ccmutrvj.s 			page 342


 10392 014c 454B     		ldr	r3, .L832+12
 10393 014e 33F81230 		ldrh	r3, [r3, r2, lsl #1]
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10394              		.loc 1 5558 36 discriminator 1 view .LVU3514
 10395 0152 002B     		cmp	r3, #0
 10396 0154 E2D0     		beq	.L748
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10397              		.loc 1 5558 36 discriminator 3 view .LVU3515
 10398 0156 A342     		cmp	r3, r4
 10399 0158 F6D9     		bls	.L750
 10400 015a DFE7     		b	.L748
 10401              	.LVL1232:
 10402              	.L822:
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 10403              		.loc 1 5567 6 is_stmt 1 view .LVU3516
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 10404              		.loc 1 5567 8 is_stmt 0 view .LVU3517
 10405 015c 4FEA1E34 		lsr	r4, lr, #12
 10406              	.LVL1233:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10407              		.loc 1 5568 6 is_stmt 1 view .LVU3518
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10408              		.loc 1 5568 13 is_stmt 0 view .LVU3519
 10409 0160 0A46     		mov	r2, r1
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10410              		.loc 1 5568 22 view .LVU3520
 10411 0162 0127     		movs	r7, #1
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10412              		.loc 1 5568 6 view .LVU3521
 10413 0164 01E0     		b	.L753
 10414              	.LVL1234:
 10415              	.L754:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10416              		.loc 1 5568 53 is_stmt 1 discriminator 4 view .LVU3522
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10417              		.loc 1 5568 51 is_stmt 0 discriminator 4 view .LVU3523
 10418 0166 0132     		adds	r2, r2, #1
 10419              	.LVL1235:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10420              		.loc 1 5568 59 discriminator 4 view .LVU3524
 10421 0168 7F00     		lsls	r7, r7, #1
 10422              	.LVL1236:
 10423              	.L753:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10424              		.loc 1 5568 34 is_stmt 1 discriminator 1 view .LVU3525
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10425              		.loc 1 5568 30 is_stmt 0 discriminator 1 view .LVU3526
 10426 016a 3F4B     		ldr	r3, .L832+16
 10427 016c 33F81230 		ldrh	r3, [r3, r2, lsl #1]
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10428              		.loc 1 5568 34 discriminator 1 view .LVU3527
 10429 0170 4BB3     		cbz	r3, .L752
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10430              		.loc 1 5568 34 discriminator 3 view .LVU3528
 10431 0172 A342     		cmp	r3, r4
 10432 0174 F7D9     		bls	.L754
 10433 0176 26E0     		b	.L752
ARM GAS  C:\usertemp\ccmutrvj.s 			page 343


 10434              	.LVL1237:
 10435              	.L755:
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 10436              		.loc 1 5574 6 is_stmt 1 view .LVU3529
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10437              		.loc 1 5575 6 view .LVU3530
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10438              		.loc 1 5575 18 is_stmt 0 view .LVU3531
 10439 0178 03EB4306 		add	r6, r3, r3, lsl #1
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10440              		.loc 1 5575 22 view .LVU3532
 10441 017c 0136     		adds	r6, r6, #1
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10442              		.loc 1 5575 27 view .LVU3533
 10443 017e 7608     		lsrs	r6, r6, #1
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10444              		.loc 1 5575 8 view .LVU3534
 10445 0180 0336     		adds	r6, r6, #3
 10446              	.LVL1238:
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 10447              		.loc 1 5574 10 view .LVU3535
 10448 0182 4FF0010A 		mov	r10, #1
 10449 0186 26E0     		b	.L756
 10450              	.LVL1239:
 10451              	.L823:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 10452              		.loc 1 5587 5 is_stmt 1 view .LVU3536
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 10453              		.loc 1 5587 12 is_stmt 0 view .LVU3537
 10454 0188 9444     		add	ip, ip, r2
 10455              	.LVL1240:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 10456              		.loc 1 5587 18 is_stmt 1 view .LVU3538
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 10457              		.loc 1 5587 24 is_stmt 0 view .LVU3539
 10458 018a 9044     		add	r8, r8, r2
 10459              	.LVL1241:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 10460              		.loc 1 5587 24 view .LVU3540
 10461 018c 39E0     		b	.L758
 10462              	.LVL1242:
 10463              	.L824:
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 10464              		.loc 1 5596 5 is_stmt 1 view .LVU3541
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 10465              		.loc 1 5596 8 is_stmt 0 view .LVU3542
 10466 018e 4FF6F572 		movw	r2, #65525
 10467              	.LVL1243:
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 10468              		.loc 1 5596 8 view .LVU3543
 10469 0192 9342     		cmp	r3, r2
 10470 0194 46D8     		bhi	.L759
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10471              		.loc 1 5597 6 is_stmt 1 view .LVU3544
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10472              		.loc 1 5597 9 is_stmt 0 view .LVU3545
 10473 0196 0029     		cmp	r1, #0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 344


 10474 0198 40F06882 		bne	.L799
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10475              		.loc 1 5597 21 discriminator 1 view .LVU3546
 10476 019c 7908     		lsrs	r1, r7, #1
 10477              	.LVL1244:
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10478              		.loc 1 5597 14 discriminator 1 view .LVU3547
 10479 019e 012F     		cmp	r7, #1
 10480 01a0 0BD8     		bhi	.L746
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10481              		.loc 1 5598 13 view .LVU3548
 10482 01a2 0E20     		movs	r0, #14
 10483 01a4 49E2     		b	.L738
 10484              	.L762:
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 10485              		.loc 1 5612 5 is_stmt 1 view .LVU3549
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 10486              		.loc 1 5612 9 is_stmt 0 view .LVU3550
 10487 01a6 40F6F572 		movw	r2, #4085
 10488 01aa 9342     		cmp	r3, r2
 10489 01ac 5ED8     		bhi	.L761
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10490              		.loc 1 5613 6 is_stmt 1 view .LVU3551
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10491              		.loc 1 5613 9 is_stmt 0 view .LVU3552
 10492 01ae 0029     		cmp	r1, #0
 10493 01b0 40F06082 		bne	.L803
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10494              		.loc 1 5613 21 discriminator 1 view .LVU3553
 10495 01b4 7900     		lsls	r1, r7, #1
 10496              	.LVL1245:
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10497              		.loc 1 5613 14 discriminator 1 view .LVU3554
 10498 01b6 8029     		cmp	r1, #128
 10499 01b8 4BD8     		bhi	.L820
 10500              	.LVL1246:
 10501              	.L746:
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
 10502              		.loc 1 5372 5 is_stmt 1 view .LVU3555
5552:Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
 10503              		.loc 1 5552 3 view .LVU3556
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
 10504              		.loc 1 5553 4 view .LVU3557
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 10505              		.loc 1 5555 4 view .LVU3558
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 10506              		.loc 1 5555 7 is_stmt 0 view .LVU3559
 10507 01ba BAF1030F 		cmp	r10, #3
 10508 01be ABD0     		beq	.L821
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 10509              		.loc 1 5566 5 is_stmt 1 view .LVU3560
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 10510              		.loc 1 5566 8 is_stmt 0 view .LVU3561
 10511 01c0 0029     		cmp	r1, #0
 10512 01c2 CBD0     		beq	.L822
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
 10513              		.loc 1 5553 8 view .LVU3562
ARM GAS  C:\usertemp\ccmutrvj.s 			page 345


 10514 01c4 0F46     		mov	r7, r1
 10515              	.LVL1247:
 10516              	.L752:
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 10517              		.loc 1 5570 5 is_stmt 1 view .LVU3563
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 10518              		.loc 1 5570 12 is_stmt 0 view .LVU3564
 10519 01c6 BEFBF7F3 		udiv	r3, lr, r7
 10520              	.LVL1248:
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 10521              		.loc 1 5571 5 is_stmt 1 view .LVU3565
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 10522              		.loc 1 5571 8 is_stmt 0 view .LVU3566
 10523 01ca 40F6F572 		movw	r2, #4085
 10524 01ce 9342     		cmp	r3, r2
 10525 01d0 D2D9     		bls	.L755
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 10526              		.loc 1 5572 6 is_stmt 1 view .LVU3567
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 10527              		.loc 1 5572 21 is_stmt 0 view .LVU3568
 10528 01d2 9E1C     		adds	r6, r3, #2
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 10529              		.loc 1 5572 8 view .LVU3569
 10530 01d4 7600     		lsls	r6, r6, #1
 10531              	.LVL1249:
 10532              	.L756:
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 10533              		.loc 1 5577 5 is_stmt 1 view .LVU3570
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 10534              		.loc 1 5577 22 is_stmt 0 view .LVU3571
 10535 01d6 06F2FF16 		addw	r6, r6, #511
 10536              	.LVL1250:
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 10537              		.loc 1 5577 12 view .LVU3572
 10538 01da 760A     		lsrs	r6, r6, #9
 10539              	.LVL1251:
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
 10540              		.loc 1 5578 5 is_stmt 1 view .LVU3573
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10541              		.loc 1 5579 5 view .LVU3574
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10542              		.loc 1 5579 12 is_stmt 0 view .LVU3575
 10543 01dc 4FF02009 		mov	r9, #32
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
 10544              		.loc 1 5578 12 view .LVU3576
 10545 01e0 4FF0010C 		mov	ip, #1
 10546              	.LVL1252:
 10547              	.L751:
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 10548              		.loc 1 5581 4 is_stmt 1 view .LVU3577
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 10549              		.loc 1 5581 10 is_stmt 0 view .LVU3578
 10550 01e4 0CEB0B08 		add	r8, ip, fp
 10551              	.LVL1253:
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10552              		.loc 1 5582 4 is_stmt 1 view .LVU3579
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  C:\usertemp\ccmutrvj.s 			page 346


 10553              		.loc 1 5582 19 is_stmt 0 view .LVU3580
 10554 01e8 06EB0803 		add	r3, r6, r8
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10555              		.loc 1 5582 11 view .LVU3581
 10556 01ec 4B44     		add	r3, r3, r9
 10557              	.LVL1254:
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 10558              		.loc 1 5585 4 is_stmt 1 view .LVU3582
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 10559              		.loc 1 5585 17 is_stmt 0 view .LVU3583
 10560 01ee 0B9C     		ldr	r4, [sp, #44]
 10561 01f0 E218     		adds	r2, r4, r3
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 10562              		.loc 1 5585 26 view .LVU3584
 10563 01f2 013A     		subs	r2, r2, #1
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 10564              		.loc 1 5585 33 view .LVU3585
 10565 01f4 6442     		rsbs	r4, r4, #0
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 10566              		.loc 1 5585 31 view .LVU3586
 10567 01f6 2240     		ands	r2, r2, r4
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 10568              		.loc 1 5585 6 view .LVU3587
 10569 01f8 D21A     		subs	r2, r2, r3
 10570              	.LVL1255:
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 10571              		.loc 1 5586 4 is_stmt 1 view .LVU3588
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 10572              		.loc 1 5586 7 is_stmt 0 view .LVU3589
 10573 01fa BAF1030F 		cmp	r10, #3
 10574 01fe C3D0     		beq	.L823
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10575              		.loc 1 5589 5 is_stmt 1 view .LVU3590
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10576              		.loc 1 5589 12 is_stmt 0 view .LVU3591
 10577 0200 1644     		add	r6, r6, r2
 10578              	.LVL1256:
 10579              	.L758:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 10580              		.loc 1 5593 4 is_stmt 1 view .LVU3592
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 10581              		.loc 1 5593 24 is_stmt 0 view .LVU3593
 10582 0202 03EB0713 		add	r3, r3, r7, lsl #4
 10583              	.LVL1257:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 10584              		.loc 1 5593 35 view .LVU3594
 10585 0206 A3EB0B03 		sub	r3, r3, fp
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 10586              		.loc 1 5593 7 view .LVU3595
 10587 020a 9E45     		cmp	lr, r3
 10588 020c C0F02C82 		bcc	.L798
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10589              		.loc 1 5594 4 is_stmt 1 view .LVU3596
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10590              		.loc 1 5594 21 is_stmt 0 view .LVU3597
 10591 0210 AEEB0C03 		sub	r3, lr, ip
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
ARM GAS  C:\usertemp\ccmutrvj.s 			page 347


 10592              		.loc 1 5594 30 view .LVU3598
 10593 0214 9B1B     		subs	r3, r3, r6
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10594              		.loc 1 5594 48 view .LVU3599
 10595 0216 A3EB0903 		sub	r3, r3, r9
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10596              		.loc 1 5594 11 view .LVU3600
 10597 021a B3FBF7F3 		udiv	r3, r3, r7
 10598              	.LVL1258:
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
 10599              		.loc 1 5595 4 is_stmt 1 view .LVU3601
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
 10600              		.loc 1 5595 7 is_stmt 0 view .LVU3602
 10601 021e BAF1030F 		cmp	r10, #3
 10602 0222 B4D0     		beq	.L824
 10603              	.LVL1259:
 10604              	.L759:
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 10605              		.loc 1 5601 4 is_stmt 1 view .LVU3603
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 10606              		.loc 1 5601 7 is_stmt 0 view .LVU3604
 10607 0224 BAF1020F 		cmp	r10, #2
 10608 0228 20D1     		bne	.L761
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 10609              		.loc 1 5602 5 is_stmt 1 view .LVU3605
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 10610              		.loc 1 5602 8 is_stmt 0 view .LVU3606
 10611 022a 4FF6F572 		movw	r2, #65525
 10612 022e 9342     		cmp	r3, r2
 10613 0230 B9D9     		bls	.L762
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 10614              		.loc 1 5603 6 is_stmt 1 view .LVU3607
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 10615              		.loc 1 5603 9 is_stmt 0 view .LVU3608
 10616 0232 19B9     		cbnz	r1, .L763
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 10617              		.loc 1 5603 22 discriminator 1 view .LVU3609
 10618 0234 7B00     		lsls	r3, r7, #1
 10619              	.LVL1260:
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 10620              		.loc 1 5603 14 discriminator 1 view .LVU3610
 10621 0236 402B     		cmp	r3, #64
 10622 0238 7FF669AF 		bls	.L800
 10623              	.L763:
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 10624              		.loc 1 5606 6 is_stmt 1 view .LVU3611
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 10625              		.loc 1 5606 9 is_stmt 0 view .LVU3612
 10626 023c 0028     		cmp	r0, #0
 10627 023e 7FF468AF 		bne	.L801
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10628              		.loc 1 5609 6 is_stmt 1 view .LVU3613
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10629              		.loc 1 5609 9 is_stmt 0 view .LVU3614
 10630 0242 0029     		cmp	r1, #0
 10631 0244 40F01482 		bne	.L802
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 348


 10632              		.loc 1 5609 21 discriminator 1 view .LVU3615
 10633 0248 7900     		lsls	r1, r7, #1
 10634              	.LVL1261:
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 10635              		.loc 1 5609 14 discriminator 1 view .LVU3616
 10636 024a 8029     		cmp	r1, #128
 10637 024c B5D9     		bls	.L746
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10638              		.loc 1 5610 13 view .LVU3617
 10639 024e 0E20     		movs	r0, #14
 10640 0250 F3E1     		b	.L738
 10641              	.LVL1262:
 10642              	.L820:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10643              		.loc 1 5614 13 view .LVU3618
 10644 0252 0E20     		movs	r0, #14
 10645 0254 F1E1     		b	.L738
 10646              	.L833:
 10647 0256 00BF     		.align	2
 10648              	.L832:
 10649 0258 00000000 		.word	FatFs
 10650 025c 0A00FFFF 		.word	-65526
 10651 0260 FFFFFE0F 		.word	268369919
 10652 0264 00000000 		.word	cst32.1
 10653 0268 00000000 		.word	cst.0
 10654              	.L761:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10655              		.loc 1 5617 24 view .LVU3619
 10656 026c CDF82090 		str	r9, [sp, #32]
 10657 0270 CDF81880 		str	r8, [sp, #24]
 10658 0274 CDF81CC0 		str	ip, [sp, #28]
 10659 0278 059C     		ldr	r4, [sp, #20]
 10660 027a 9846     		mov	r8, r3
 10661              	.LVL1263:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10662              		.loc 1 5617 4 is_stmt 1 view .LVU3620
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10663              		.loc 1 5617 24 is_stmt 0 view .LVU3621
 10664 027c 40F6F572 		movw	r2, #4085
 10665 0280 BAF1010F 		cmp	r10, #1
 10666 0284 14BF     		ite	ne
 10667 0286 0023     		movne	r3, #0
 10668              	.LVL1264:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10669              		.loc 1 5617 24 view .LVU3622
 10670 0288 0123     		moveq	r3, #1
 10671 028a 9045     		cmp	r8, r2
 10672 028c 98BF     		it	ls
 10673 028e 0023     		movls	r3, #0
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10674              		.loc 1 5617 7 view .LVU3623
 10675 0290 002B     		cmp	r3, #0
 10676 0292 40F0F181 		bne	.L804
5620:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
 10677              		.loc 1 5620 4 is_stmt 1 view .LVU3624
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 10678              		.loc 1 5628 3 view .LVU3625
ARM GAS  C:\usertemp\ccmutrvj.s 			page 349


 10679 0296 4FF40072 		mov	r2, #512
 10680 029a 0021     		movs	r1, #0
 10681              	.LVL1265:
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 10682              		.loc 1 5628 3 is_stmt 0 view .LVU3626
 10683 029c DDF80490 		ldr	r9, [sp, #4]
 10684              	.LVL1266:
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 10685              		.loc 1 5628 3 view .LVU3627
 10686 02a0 4846     		mov	r0, r9
 10687 02a2 FFF7FEFF 		bl	mem_set
 10688              	.LVL1267:
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
 10689              		.loc 1 5629 3 is_stmt 1 view .LVU3628
 10690 02a6 0B22     		movs	r2, #11
 10691 02a8 B749     		ldr	r1, .L834
 10692 02aa 4846     		mov	r0, r9
 10693 02ac FFF7FEFF 		bl	mem_cpy
 10694              	.LVL1268:
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
 10695              		.loc 1 5630 3 view .LVU3629
 10696 02b0 4FF40071 		mov	r1, #512
 10697 02b4 CDF80490 		str	r9, [sp, #4]
 10698              	.LVL1269:
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
 10699              		.loc 1 5630 3 is_stmt 0 view .LVU3630
 10700 02b8 09F10B00 		add	r0, r9, #11
 10701 02bc FFF7FEFF 		bl	st_word
 10702              	.LVL1270:
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 10703              		.loc 1 5631 3 is_stmt 1 view .LVU3631
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 10704              		.loc 1 5631 23 is_stmt 0 view .LVU3632
 10705 02c0 019B     		ldr	r3, [sp, #4]
 10706 02c2 5F73     		strb	r7, [r3, #13]
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
 10707              		.loc 1 5632 3 is_stmt 1 view .LVU3633
 10708 02c4 BDF81C10 		ldrh	r1, [sp, #28]
 10709 02c8 03F10E00 		add	r0, r3, #14
 10710 02cc FFF7FEFF 		bl	st_word
 10711              	.LVL1271:
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 10712              		.loc 1 5633 3 view .LVU3634
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 10713              		.loc 1 5633 20 is_stmt 0 view .LVU3635
 10714 02d0 0123     		movs	r3, #1
 10715 02d2 019A     		ldr	r2, [sp, #4]
 10716 02d4 1374     		strb	r3, [r2, #16]
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 10717              		.loc 1 5634 3 is_stmt 1 view .LVU3636
 10718 02d6 02F11100 		add	r0, r2, #17
 10719 02da BAF1030F 		cmp	r10, #3
 10720 02de 00F09A80 		beq	.L825
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 10721              		.loc 1 5634 3 is_stmt 0 discriminator 2 view .LVU3637
 10722 02e2 4FF40071 		mov	r1, #512
 10723              	.L764:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 350


5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 10724              		.loc 1 5634 3 discriminator 4 view .LVU3638
 10725 02e6 FFF7FEFF 		bl	st_word
 10726              	.LVL1272:
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 10727              		.loc 1 5635 3 is_stmt 1 view .LVU3639
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 10728              		.loc 1 5635 14 is_stmt 0 view .LVU3640
 10729 02ea 0A99     		ldr	r1, [sp, #40]
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 10730              		.loc 1 5635 6 view .LVU3641
 10731 02ec B1F5803F 		cmp	r1, #65536
 10732 02f0 80F09380 		bcs	.L765
5636:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10733              		.loc 1 5636 4 is_stmt 1 view .LVU3642
 10734 02f4 89B2     		uxth	r1, r1
 10735 02f6 019B     		ldr	r3, [sp, #4]
 10736 02f8 03F11300 		add	r0, r3, #19
 10737 02fc FFF7FEFF 		bl	st_word
 10738              	.LVL1273:
 10739              	.L766:
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 10740              		.loc 1 5640 3 view .LVU3643
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 10741              		.loc 1 5640 18 is_stmt 0 view .LVU3644
 10742 0300 F823     		movs	r3, #248
 10743 0302 019A     		ldr	r2, [sp, #4]
 10744 0304 5375     		strb	r3, [r2, #21]
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
 10745              		.loc 1 5641 3 is_stmt 1 view .LVU3645
 10746 0306 3F21     		movs	r1, #63
 10747 0308 02F11800 		add	r0, r2, #24
 10748 030c FFF7FEFF 		bl	st_word
 10749              	.LVL1274:
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
 10750              		.loc 1 5642 3 view .LVU3646
 10751 0310 FF21     		movs	r1, #255
 10752 0312 019A     		ldr	r2, [sp, #4]
 10753 0314 02F11A00 		add	r0, r2, #26
 10754 0318 FFF7FEFF 		bl	st_word
 10755              	.LVL1275:
5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 10756              		.loc 1 5643 3 view .LVU3647
 10757 031c 5946     		mov	r1, fp
 10758 031e 019A     		ldr	r2, [sp, #4]
 10759 0320 02F11C00 		add	r0, r2, #28
 10760 0324 FFF7FEFF 		bl	st_dword
 10761              	.LVL1276:
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 10762              		.loc 1 5644 3 view .LVU3648
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 10763              		.loc 1 5644 6 is_stmt 0 view .LVU3649
 10764 0328 BAF1030F 		cmp	r10, #3
 10765 032c 7BD0     		beq	.L826
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
 10766              		.loc 1 5654 4 is_stmt 1 view .LVU3650
 10767 032e FFF7FEFF 		bl	get_fattime
ARM GAS  C:\usertemp\ccmutrvj.s 			page 351


 10768              	.LVL1277:
 10769 0332 0146     		mov	r1, r0
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
 10770              		.loc 1 5654 4 is_stmt 0 discriminator 1 view .LVU3651
 10771 0334 019A     		ldr	r2, [sp, #4]
 10772 0336 02F12700 		add	r0, r2, #39
 10773 033a FFF7FEFF 		bl	st_dword
 10774              	.LVL1278:
5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
 10775              		.loc 1 5655 4 is_stmt 1 view .LVU3652
 10776 033e B1B2     		uxth	r1, r6
 10777 0340 019A     		ldr	r2, [sp, #4]
 10778 0342 02F11600 		add	r0, r2, #22
 10779 0346 FFF7FEFF 		bl	st_word
 10780              	.LVL1279:
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 10781              		.loc 1 5656 4 view .LVU3653
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 10782              		.loc 1 5656 19 is_stmt 0 view .LVU3654
 10783 034a 8023     		movs	r3, #128
 10784 034c 0198     		ldr	r0, [sp, #4]
 10785 034e 80F82430 		strb	r3, [r0, #36]
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 10786              		.loc 1 5657 4 is_stmt 1 view .LVU3655
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 10787              		.loc 1 5657 20 is_stmt 0 view .LVU3656
 10788 0352 2923     		movs	r3, #41
 10789 0354 80F82630 		strb	r3, [r0, #38]
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10790              		.loc 1 5658 4 is_stmt 1 view .LVU3657
 10791 0358 1322     		movs	r2, #19
 10792 035a 8C49     		ldr	r1, .L834+4
 10793 035c 2B30     		adds	r0, r0, #43
 10794 035e FFF7FEFF 		bl	mem_cpy
 10795              	.LVL1280:
 10796              	.L768:
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
 10797              		.loc 1 5660 3 view .LVU3658
 10798 0362 019B     		ldr	r3, [sp, #4]
 10799 0364 03F5FF79 		add	r9, r3, #510
 10800 0368 4AF65521 		movw	r1, #43605
 10801 036c 4846     		mov	r0, r9
 10802 036e FFF7FEFF 		bl	st_word
 10803              	.LVL1281:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10804              		.loc 1 5661 3 view .LVU3659
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10805              		.loc 1 5661 7 is_stmt 0 view .LVU3660
 10806 0372 0123     		movs	r3, #1
 10807 0374 5A46     		mov	r2, fp
 10808 0376 0199     		ldr	r1, [sp, #4]
 10809 0378 2046     		mov	r0, r4
 10810 037a FFF7FEFF 		bl	disk_write
 10811              	.LVL1282:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10812              		.loc 1 5661 6 discriminator 1 view .LVU3661
 10813 037e 0028     		cmp	r0, #0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 352


 10814 0380 40F07C81 		bne	.L806
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 10815              		.loc 1 5664 3 is_stmt 1 view .LVU3662
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 10816              		.loc 1 5664 6 is_stmt 0 view .LVU3663
 10817 0384 BAF1030F 		cmp	r10, #3
 10818 0388 7AD0     		beq	.L827
 10819              	.LVL1283:
 10820              	.L769:
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
 10821              		.loc 1 5677 3 is_stmt 1 view .LVU3664
 10822 038a 2A46     		mov	r2, r5
 10823 038c 0021     		movs	r1, #0
 10824 038e 0198     		ldr	r0, [sp, #4]
 10825 0390 FFF7FEFF 		bl	mem_set
 10826              	.LVL1284:
5678:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
 10827              		.loc 1 5678 3 view .LVU3665
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10828              		.loc 1 5679 3 view .LVU3666
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10829              		.loc 1 5679 3 is_stmt 0 view .LVU3667
 10830 0394 DDF81880 		ldr	r8, [sp, #24]
 10831 0398 0597     		str	r7, [sp, #20]
 10832              	.LVL1285:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10833              		.loc 1 5679 3 view .LVU3668
 10834 039a CDF81C90 		str	r9, [sp, #28]
 10835              	.LVL1286:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10836              		.loc 1 5679 3 view .LVU3669
 10837 039e 5D46     		mov	r5, fp
 10838              	.LVL1287:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10839              		.loc 1 5679 3 view .LVU3670
 10840 03a0 DDF80CB0 		ldr	fp, [sp, #12]
 10841              	.LVL1288:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10842              		.loc 1 5679 3 view .LVU3671
 10843 03a4 DDF80490 		ldr	r9, [sp, #4]
 10844              	.LVL1289:
 10845              	.L770:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 10846              		.loc 1 5679 17 is_stmt 1 discriminator 1 view .LVU3672
 10847 03a8 029B     		ldr	r3, [sp, #8]
 10848 03aa 002B     		cmp	r3, #0
 10849 03ac 00F0A280 		beq	.L775
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 10850              		.loc 1 5697 35 is_stmt 0 view .LVU3673
 10851 03b0 CDF81880 		str	r8, [sp, #24]
 10852 03b4 059F     		ldr	r7, [sp, #20]
 10853 03b6 DDF81C90 		ldr	r9, [sp, #28]
 10854 03ba AB46     		mov	fp, r5
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 10855              		.loc 1 5697 3 is_stmt 1 view .LVU3674
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 10856              		.loc 1 5697 35 is_stmt 0 view .LVU3675
ARM GAS  C:\usertemp\ccmutrvj.s 			page 353


 10857 03bc BAF1030F 		cmp	r10, #3
 10858 03c0 00F0D780 		beq	.L828
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 10859              		.loc 1 5697 35 view .LVU3676
 10860 03c4 089E     		ldr	r6, [sp, #32]
 10861              	.LVL1290:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 10862              		.loc 1 5697 35 view .LVU3677
 10863 03c6 069F     		ldr	r7, [sp, #24]
 10864 03c8 CDF80890 		str	r9, [sp, #8]
 10865              	.LVL1291:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 10866              		.loc 1 5697 35 view .LVU3678
 10867 03cc DDF80C80 		ldr	r8, [sp, #12]
 10868              	.LVL1292:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 10869              		.loc 1 5697 35 view .LVU3679
 10870 03d0 DDF80490 		ldr	r9, [sp, #4]
 10871              	.LVL1293:
 10872              	.L777:
5698:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
 10873              		.loc 1 5698 3 is_stmt 1 view .LVU3680
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 10874              		.loc 1 5699 4 view .LVU3681
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 10875              		.loc 1 5699 6 is_stmt 0 view .LVU3682
 10876 03d4 3546     		mov	r5, r6
 10877 03d6 4645     		cmp	r6, r8
 10878 03d8 28BF     		it	cs
 10879 03da 4546     		movcs	r5, r8
 10880              	.LVL1294:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 10881              		.loc 1 5700 4 is_stmt 1 view .LVU3683
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 10882              		.loc 1 5700 8 is_stmt 0 view .LVU3684
 10883 03dc 2B46     		mov	r3, r5
 10884 03de 3A46     		mov	r2, r7
 10885 03e0 4946     		mov	r1, r9
 10886 03e2 2046     		mov	r0, r4
 10887 03e4 FFF7FEFF 		bl	disk_write
 10888              	.LVL1295:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 10889              		.loc 1 5700 7 discriminator 1 view .LVU3685
 10890 03e8 0028     		cmp	r0, #0
 10891 03ea 40F04B81 		bne	.L809
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 10892              		.loc 1 5701 4 is_stmt 1 view .LVU3686
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 10893              		.loc 1 5701 9 is_stmt 0 view .LVU3687
 10894 03ee 2F44     		add	r7, r7, r5
 10895              	.LVL1296:
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 10896              		.loc 1 5701 15 is_stmt 1 view .LVU3688
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10897              		.loc 1 5702 12 view .LVU3689
 10898 03f0 761B     		subs	r6, r6, r5
 10899              	.LVL1297:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 354


5702:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10900              		.loc 1 5702 12 is_stmt 0 view .LVU3690
 10901 03f2 EFD1     		bne	.L777
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 10902              		.loc 1 5709 6 view .LVU3691
 10903 03f4 DDF80890 		ldr	r9, [sp, #8]
5706:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
 10904              		.loc 1 5706 2 is_stmt 1 view .LVU3692
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 10905              		.loc 1 5709 3 view .LVU3693
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 10906              		.loc 1 5709 6 is_stmt 0 view .LVU3694
 10907 03f8 BAF1030F 		cmp	r10, #3
 10908 03fc 00F0D080 		beq	.L810
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 10909              		.loc 1 5712 4 is_stmt 1 view .LVU3695
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 10910              		.loc 1 5712 15 is_stmt 0 view .LVU3696
 10911 0400 0A9B     		ldr	r3, [sp, #40]
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 10912              		.loc 1 5712 7 view .LVU3697
 10913 0402 B3F5803F 		cmp	r3, #65536
 10914 0406 80F01181 		bcs	.L811
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10915              		.loc 1 5715 5 is_stmt 1 view .LVU3698
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10916              		.loc 1 5715 9 is_stmt 0 view .LVU3699
 10917 040a BAF1020F 		cmp	r10, #2
 10918 040e 00F0B980 		beq	.L829
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10919              		.loc 1 5715 9 discriminator 2 view .LVU3700
 10920 0412 0127     		movs	r7, #1
 10921              	.LVL1298:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10922              		.loc 1 5715 9 discriminator 2 view .LVU3701
 10923 0414 C5E0     		b	.L778
 10924              	.LVL1299:
 10925              	.L825:
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 10926              		.loc 1 5634 3 discriminator 1 view .LVU3702
 10927 0416 0021     		movs	r1, #0
 10928 0418 65E7     		b	.L764
 10929              	.L765:
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10930              		.loc 1 5638 4 is_stmt 1 view .LVU3703
 10931 041a 019B     		ldr	r3, [sp, #4]
 10932 041c 03F12000 		add	r0, r3, #32
 10933 0420 FFF7FEFF 		bl	st_dword
 10934              	.LVL1300:
 10935 0424 6CE7     		b	.L766
 10936              	.L826:
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
 10937              		.loc 1 5645 4 view .LVU3704
 10938 0426 FFF7FEFF 		bl	get_fattime
 10939              	.LVL1301:
 10940 042a 0146     		mov	r1, r0
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
ARM GAS  C:\usertemp\ccmutrvj.s 			page 355


 10941              		.loc 1 5645 4 is_stmt 0 discriminator 1 view .LVU3705
 10942 042c 019A     		ldr	r2, [sp, #4]
 10943 042e 02F14300 		add	r0, r2, #67
 10944 0432 FFF7FEFF 		bl	st_dword
 10945              	.LVL1302:
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
 10946              		.loc 1 5646 4 is_stmt 1 view .LVU3706
 10947 0436 3146     		mov	r1, r6
 10948 0438 019A     		ldr	r2, [sp, #4]
 10949 043a 02F12400 		add	r0, r2, #36
 10950 043e FFF7FEFF 		bl	st_dword
 10951              	.LVL1303:
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
 10952              		.loc 1 5647 4 view .LVU3707
 10953 0442 0221     		movs	r1, #2
 10954 0444 019A     		ldr	r2, [sp, #4]
 10955 0446 02F12C00 		add	r0, r2, #44
 10956 044a FFF7FEFF 		bl	st_dword
 10957              	.LVL1304:
5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
 10958              		.loc 1 5648 4 view .LVU3708
 10959 044e 0121     		movs	r1, #1
 10960 0450 019A     		ldr	r2, [sp, #4]
 10961 0452 02F13000 		add	r0, r2, #48
 10962 0456 FFF7FEFF 		bl	st_word
 10963              	.LVL1305:
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
 10964              		.loc 1 5649 4 view .LVU3709
 10965 045a 0621     		movs	r1, #6
 10966 045c 019A     		ldr	r2, [sp, #4]
 10967 045e 02F13200 		add	r0, r2, #50
 10968 0462 FFF7FEFF 		bl	st_word
 10969              	.LVL1306:
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
 10970              		.loc 1 5650 4 view .LVU3710
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
 10971              		.loc 1 5650 21 is_stmt 0 view .LVU3711
 10972 0466 8023     		movs	r3, #128
 10973 0468 0198     		ldr	r0, [sp, #4]
 10974 046a 80F84030 		strb	r3, [r0, #64]
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 10975              		.loc 1 5651 4 is_stmt 1 view .LVU3712
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 10976              		.loc 1 5651 22 is_stmt 0 view .LVU3713
 10977 046e 2923     		movs	r3, #41
 10978 0470 80F84230 		strb	r3, [r0, #66]
5652:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10979              		.loc 1 5652 4 is_stmt 1 view .LVU3714
 10980 0474 1322     		movs	r2, #19
 10981 0476 4649     		ldr	r1, .L834+8
 10982 0478 4730     		adds	r0, r0, #71
 10983 047a FFF7FEFF 		bl	mem_cpy
 10984              	.LVL1307:
 10985 047e 70E7     		b	.L768
 10986              	.L827:
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 10987              		.loc 1 5665 4 view .LVU3715
ARM GAS  C:\usertemp\ccmutrvj.s 			page 356


 10988 0480 0123     		movs	r3, #1
 10989 0482 0BF10602 		add	r2, fp, #6
 10990 0486 0199     		ldr	r1, [sp, #4]
 10991 0488 2046     		mov	r0, r4
 10992 048a FFF7FEFF 		bl	disk_write
 10993              	.LVL1308:
5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
 10994              		.loc 1 5666 4 view .LVU3716
 10995 048e 4FF40072 		mov	r2, #512
 10996 0492 0021     		movs	r1, #0
 10997 0494 0198     		ldr	r0, [sp, #4]
 10998 0496 FFF7FEFF 		bl	mem_set
 10999              	.LVL1309:
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
 11000              		.loc 1 5667 4 view .LVU3717
 11001 049a 3E49     		ldr	r1, .L834+12
 11002 049c 0198     		ldr	r0, [sp, #4]
 11003 049e FFF7FEFF 		bl	st_dword
 11004              	.LVL1310:
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 11005              		.loc 1 5668 4 view .LVU3718
 11006 04a2 3D49     		ldr	r1, .L834+16
 11007 04a4 019B     		ldr	r3, [sp, #4]
 11008 04a6 03F5F270 		add	r0, r3, #484
 11009 04aa FFF7FEFF 		bl	st_dword
 11010              	.LVL1311:
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 11011              		.loc 1 5669 4 view .LVU3719
 11012 04ae 08F1FF31 		add	r1, r8, #-1
 11013 04b2 019B     		ldr	r3, [sp, #4]
 11014 04b4 03F5F470 		add	r0, r3, #488
 11015 04b8 FFF7FEFF 		bl	st_dword
 11016              	.LVL1312:
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
 11017              		.loc 1 5670 4 view .LVU3720
 11018 04bc 0221     		movs	r1, #2
 11019 04be 019B     		ldr	r3, [sp, #4]
 11020 04c0 03F5F670 		add	r0, r3, #492
 11021 04c4 FFF7FEFF 		bl	st_dword
 11022              	.LVL1313:
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
 11023              		.loc 1 5671 4 view .LVU3721
 11024 04c8 4AF65521 		movw	r1, #43605
 11025 04cc 4846     		mov	r0, r9
 11026 04ce FFF7FEFF 		bl	st_word
 11027              	.LVL1314:
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
 11028              		.loc 1 5672 4 view .LVU3722
 11029 04d2 0123     		movs	r3, #1
 11030 04d4 0BF10702 		add	r2, fp, #7
 11031 04d8 DDF80480 		ldr	r8, [sp, #4]
 11032              	.LVL1315:
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
 11033              		.loc 1 5672 4 is_stmt 0 view .LVU3723
 11034 04dc 4146     		mov	r1, r8
 11035 04de 2046     		mov	r0, r4
 11036 04e0 FFF7FEFF 		bl	disk_write
ARM GAS  C:\usertemp\ccmutrvj.s 			page 357


 11037              	.LVL1316:
5673:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11038              		.loc 1 5673 4 is_stmt 1 view .LVU3724
 11039 04e4 0123     		movs	r3, #1
 11040 04e6 0BEB0302 		add	r2, fp, r3
 11041 04ea 4146     		mov	r1, r8
 11042 04ec 2046     		mov	r0, r4
 11043 04ee FFF7FEFF 		bl	disk_write
 11044              	.LVL1317:
 11045 04f2 4AE7     		b	.L769
 11046              	.LVL1318:
 11047              	.L775:
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 11048              		.loc 1 5680 4 view .LVU3725
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 11049              		.loc 1 5680 7 is_stmt 0 view .LVU3726
 11050 04f4 BAF1030F 		cmp	r10, #3
 11051 04f8 27D0     		beq	.L830
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11052              		.loc 1 5685 5 is_stmt 1 view .LVU3727
 11053 04fa BAF1010F 		cmp	r10, #1
 11054 04fe 36D0     		beq	.L831
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11055              		.loc 1 5685 5 is_stmt 0 discriminator 2 view .LVU3728
 11056 0500 6FF00701 		mvn	r1, #7
 11057              	.L773:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11058              		.loc 1 5685 5 discriminator 4 view .LVU3729
 11059 0504 4846     		mov	r0, r9
 11060 0506 FFF7FEFF 		bl	st_dword
 11061              	.LVL1319:
 11062              	.L772:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11063              		.loc 1 5685 5 discriminator 2 view .LVU3730
 11064 050a 3746     		mov	r7, r6
 11065 050c CDF818A0 		str	r10, [sp, #24]
 11066              	.L774:
 11067              	.LVL1320:
5688:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
 11068              		.loc 1 5688 4 is_stmt 1 view .LVU3731
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 11069              		.loc 1 5689 5 view .LVU3732
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 11070              		.loc 1 5689 7 is_stmt 0 view .LVU3733
 11071 0510 BA46     		mov	r10, r7
 11072 0512 5F45     		cmp	r7, fp
 11073 0514 28BF     		it	cs
 11074 0516 DA46     		movcs	r10, fp
 11075              	.LVL1321:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 11076              		.loc 1 5690 5 is_stmt 1 view .LVU3734
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 11077              		.loc 1 5690 9 is_stmt 0 view .LVU3735
 11078 0518 5346     		mov	r3, r10
 11079 051a 4246     		mov	r2, r8
 11080 051c 4946     		mov	r1, r9
 11081 051e 2046     		mov	r0, r4
ARM GAS  C:\usertemp\ccmutrvj.s 			page 358


 11082 0520 FFF7FEFF 		bl	disk_write
 11083              	.LVL1322:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 11084              		.loc 1 5690 8 discriminator 1 view .LVU3736
 11085 0524 0028     		cmp	r0, #0
 11086 0526 40F0AB80 		bne	.L808
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
 11087              		.loc 1 5691 5 is_stmt 1 view .LVU3737
 11088 052a 4FF40072 		mov	r2, #512
 11089 052e 0021     		movs	r1, #0
 11090 0530 4846     		mov	r0, r9
 11091 0532 FFF7FEFF 		bl	mem_set
 11092              	.LVL1323:
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 11093              		.loc 1 5692 5 view .LVU3738
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 11094              		.loc 1 5692 10 is_stmt 0 view .LVU3739
 11095 0536 D044     		add	r8, r8, r10
 11096              	.LVL1324:
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 11097              		.loc 1 5692 16 is_stmt 1 view .LVU3740
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11098              		.loc 1 5693 13 view .LVU3741
 11099 0538 B7EB0A07 		subs	r7, r7, r10
 11100              	.LVL1325:
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11101              		.loc 1 5693 13 is_stmt 0 view .LVU3742
 11102 053c E8D1     		bne	.L774
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11103              		.loc 1 5679 28 discriminator 2 view .LVU3743
 11104 053e DDF818A0 		ldr	r10, [sp, #24]
 11105              	.LVL1326:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11106              		.loc 1 5679 28 is_stmt 1 discriminator 2 view .LVU3744
 11107 0542 029B     		ldr	r3, [sp, #8]
 11108 0544 0133     		adds	r3, r3, #1
 11109 0546 0293     		str	r3, [sp, #8]
 11110              	.LVL1327:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11111              		.loc 1 5679 28 is_stmt 0 discriminator 2 view .LVU3745
 11112 0548 2EE7     		b	.L770
 11113              	.LVL1328:
 11114              	.L830:
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
 11115              		.loc 1 5681 5 is_stmt 1 view .LVU3746
 11116 054a 6FF00701 		mvn	r1, #7
 11117 054e 4846     		mov	r0, r9
 11118 0550 FFF7FEFF 		bl	st_dword
 11119              	.LVL1329:
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
 11120              		.loc 1 5682 5 view .LVU3747
 11121 0554 4FF0FF31 		mov	r1, #-1
 11122 0558 09F10400 		add	r0, r9, #4
 11123 055c FFF7FEFF 		bl	st_dword
 11124              	.LVL1330:
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 11125              		.loc 1 5683 5 view .LVU3748
ARM GAS  C:\usertemp\ccmutrvj.s 			page 359


 11126 0560 6FF07041 		mvn	r1, #-268435456
 11127 0564 09F10800 		add	r0, r9, #8
 11128 0568 FFF7FEFF 		bl	st_dword
 11129              	.LVL1331:
 11130 056c CDE7     		b	.L772
 11131              	.LVL1332:
 11132              	.L831:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11133              		.loc 1 5685 5 is_stmt 0 discriminator 1 view .LVU3749
 11134 056e 0B49     		ldr	r1, .L834+20
 11135 0570 C8E7     		b	.L773
 11136              	.L828:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11137              		.loc 1 5697 35 discriminator 1 view .LVU3750
 11138 0572 3E46     		mov	r6, r7
 11139              	.LVL1333:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11140              		.loc 1 5697 35 discriminator 1 view .LVU3751
 11141 0574 4746     		mov	r7, r8
 11142 0576 CDF80890 		str	r9, [sp, #8]
 11143 057a DDF80C80 		ldr	r8, [sp, #12]
 11144              	.LVL1334:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 11145              		.loc 1 5697 35 discriminator 1 view .LVU3752
 11146 057e DDF80490 		ldr	r9, [sp, #4]
 11147 0582 27E7     		b	.L777
 11148              	.LVL1335:
 11149              	.L829:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11150              		.loc 1 5715 9 discriminator 1 view .LVU3753
 11151 0584 0427     		movs	r7, #4
 11152              	.LVL1336:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11153              		.loc 1 5715 9 discriminator 1 view .LVU3754
 11154 0586 0CE0     		b	.L778
 11155              	.L835:
 11156              		.align	2
 11157              	.L834:
 11158 0588 00000000 		.word	.LC1
 11159 058c 20000000 		.word	.LC3
 11160 0590 0C000000 		.word	.LC2
 11161 0594 52526141 		.word	1096897106
 11162 0598 72724161 		.word	1631679090
 11163 059c F8FFFF00 		.word	16777208
 11164              	.LVL1337:
 11165              	.L810:
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 11166              		.loc 1 5710 8 view .LVU3755
 11167 05a0 0C27     		movs	r7, #12
 11168              	.LVL1338:
 11169              	.L778:
5721:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
 11170              		.loc 1 5721 2 is_stmt 1 view .LVU3756
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 11171              		.loc 1 5727 3 view .LVU3757
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 11172              		.loc 1 5727 6 is_stmt 0 view .LVU3758
ARM GAS  C:\usertemp\ccmutrvj.s 			page 360


 11173 05a2 049B     		ldr	r3, [sp, #16]
 11174 05a4 D3BB     		cbnz	r3, .L779
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
 11175              		.loc 1 5728 4 is_stmt 1 view .LVU3759
 11176 05a6 4FF40072 		mov	r2, #512
 11177 05aa 0021     		movs	r1, #0
 11178 05ac 019E     		ldr	r6, [sp, #4]
 11179              	.LVL1339:
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
 11180              		.loc 1 5728 4 is_stmt 0 view .LVU3760
 11181 05ae 3046     		mov	r0, r6
 11182 05b0 FFF7FEFF 		bl	mem_set
 11183              	.LVL1340:
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
 11184              		.loc 1 5729 4 is_stmt 1 view .LVU3761
 11185 05b4 4AF65521 		movw	r1, #43605
 11186 05b8 4846     		mov	r0, r9
 11187 05ba FFF7FEFF 		bl	st_word
 11188              	.LVL1341:
5730:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
 11189              		.loc 1 5730 4 view .LVU3762
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 11190              		.loc 1 5731 4 view .LVU3763
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 11191              		.loc 1 5731 18 is_stmt 0 view .LVU3764
 11192 05be 0025     		movs	r5, #0
 11193              	.LVL1342:
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 11194              		.loc 1 5731 18 view .LVU3765
 11195 05c0 3146     		mov	r1, r6
 11196 05c2 86F8BE51 		strb	r5, [r6, #446]
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 11197              		.loc 1 5732 4 is_stmt 1 view .LVU3766
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 11198              		.loc 1 5732 20 is_stmt 0 view .LVU3767
 11199 05c6 0126     		movs	r6, #1
 11200              	.LVL1343:
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 11201              		.loc 1 5732 20 view .LVU3768
 11202 05c8 81F8BF61 		strb	r6, [r1, #447]
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
 11203              		.loc 1 5733 4 is_stmt 1 view .LVU3769
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
 11204              		.loc 1 5733 19 is_stmt 0 view .LVU3770
 11205 05cc 81F8C061 		strb	r6, [r1, #448]
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 11206              		.loc 1 5734 4 is_stmt 1 view .LVU3771
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 11207              		.loc 1 5734 19 is_stmt 0 view .LVU3772
 11208 05d0 81F8C151 		strb	r5, [r1, #449]
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 11209              		.loc 1 5735 4 is_stmt 1 view .LVU3773
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 11210              		.loc 1 5735 20 is_stmt 0 view .LVU3774
 11211 05d4 81F8C271 		strb	r7, [r1, #450]
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 11212              		.loc 1 5736 4 is_stmt 1 view .LVU3775
ARM GAS  C:\usertemp\ccmutrvj.s 			page 361


5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 11213              		.loc 1 5736 15 is_stmt 0 view .LVU3776
 11214 05d8 0A9B     		ldr	r3, [sp, #40]
 11215 05da 5B44     		add	r3, r3, fp
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 11216              		.loc 1 5736 6 view .LVU3777
 11217 05dc 43F6C162 		movw	r2, #16065
 11218 05e0 B3FBF2F3 		udiv	r3, r3, r2
 11219              	.LVL1344:
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 11220              		.loc 1 5737 4 is_stmt 1 view .LVU3778
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 11221              		.loc 1 5737 20 is_stmt 0 view .LVU3779
 11222 05e4 FE22     		movs	r2, #254
 11223 05e6 81F8C321 		strb	r2, [r1, #451]
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 11224              		.loc 1 5738 4 is_stmt 1 view .LVU3780
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 11225              		.loc 1 5738 30 is_stmt 0 view .LVU3781
 11226 05ea 9A08     		lsrs	r2, r3, #2
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 11227              		.loc 1 5738 21 view .LVU3782
 11228 05ec 42F03F02 		orr	r2, r2, #63
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 11229              		.loc 1 5738 19 view .LVU3783
 11230 05f0 0F46     		mov	r7, r1
 11231              	.LVL1345:
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 11232              		.loc 1 5738 19 view .LVU3784
 11233 05f2 81F8C421 		strb	r2, [r1, #452]
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
 11234              		.loc 1 5739 4 is_stmt 1 view .LVU3785
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
 11235              		.loc 1 5739 19 is_stmt 0 view .LVU3786
 11236 05f6 81F8C531 		strb	r3, [r1, #453]
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
 11237              		.loc 1 5740 4 is_stmt 1 view .LVU3787
 11238 05fa 5946     		mov	r1, fp
 11239              	.LVL1346:
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
 11240              		.loc 1 5740 4 is_stmt 0 view .LVU3788
 11241 05fc 07F5E370 		add	r0, r7, #454
 11242 0600 FFF7FEFF 		bl	st_dword
 11243              	.LVL1347:
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
 11244              		.loc 1 5741 4 is_stmt 1 view .LVU3789
 11245 0604 0A99     		ldr	r1, [sp, #40]
 11246 0606 07F5E570 		add	r0, r7, #458
 11247 060a FFF7FEFF 		bl	st_dword
 11248              	.LVL1348:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11249              		.loc 1 5742 4 view .LVU3790
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11250              		.loc 1 5742 8 is_stmt 0 view .LVU3791
 11251 060e 3346     		mov	r3, r6
 11252 0610 2A46     		mov	r2, r5
 11253 0612 3946     		mov	r1, r7
ARM GAS  C:\usertemp\ccmutrvj.s 			page 362


 11254 0614 2046     		mov	r0, r4
 11255 0616 FFF7FEFF 		bl	disk_write
 11256              	.LVL1349:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11257              		.loc 1 5742 7 discriminator 1 view .LVU3792
 11258 061a A8BB     		cbnz	r0, .L813
 11259              	.LVL1350:
 11260              	.L779:
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11261              		.loc 1 5746 2 is_stmt 1 view .LVU3793
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11262              		.loc 1 5746 6 is_stmt 0 view .LVU3794
 11263 061c 0022     		movs	r2, #0
 11264 061e 1146     		mov	r1, r2
 11265 0620 2046     		mov	r0, r4
 11266 0622 FFF7FEFF 		bl	disk_ioctl
 11267              	.LVL1351:
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11268              		.loc 1 5746 5 discriminator 1 view .LVU3795
 11269 0626 40B1     		cbz	r0, .L738
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11270              		.loc 1 5746 55 discriminator 1 view .LVU3796
 11271 0628 0120     		movs	r0, #1
 11272 062a 06E0     		b	.L738
 11273              	.LVL1352:
 11274              	.L811:
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 11275              		.loc 1 5713 9 view .LVU3797
 11276 062c 0627     		movs	r7, #6
 11277              	.LVL1353:
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 11278              		.loc 1 5713 9 view .LVU3798
 11279 062e B8E7     		b	.L778
 11280              	.LVL1354:
 11281              	.L780:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 11282              		.loc 1 5328 22 discriminator 1 view .LVU3799
 11283 0630 0B20     		movs	r0, #11
 11284              	.LVL1355:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 11285              		.loc 1 5328 22 discriminator 1 view .LVU3800
 11286 0632 02E0     		b	.L738
 11287              	.LVL1356:
 11288              	.L781:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 11289              		.loc 1 5335 32 discriminator 1 view .LVU3801
 11290 0634 0320     		movs	r0, #3
 11291              	.LVL1357:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 11292              		.loc 1 5335 32 discriminator 1 view .LVU3802
 11293 0636 00E0     		b	.L738
 11294              	.LVL1358:
 11295              	.L782:
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 11296              		.loc 1 5336 33 discriminator 1 view .LVU3803
 11297 0638 0A20     		movs	r0, #10
 11298              	.LVL1359:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 363


 11299              	.L738:
5749:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11300              		.loc 1 5749 1 view .LVU3804
 11301 063a 0DB0     		add	sp, sp, #52
 11302              	.LCFI120:
 11303              		.cfi_remember_state
 11304              		.cfi_def_cfa_offset 36
 11305              		@ sp needed
 11306 063c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 11307              	.LVL1360:
 11308              	.L783:
 11309              	.LCFI121:
 11310              		.cfi_restore_state
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11311              		.loc 1 5344 72 discriminator 7 view .LVU3805
 11312 0640 1320     		movs	r0, #19
 11313 0642 FAE7     		b	.L738
 11314              	.L784:
 11315 0644 1320     		movs	r0, #19
 11316 0646 F8E7     		b	.L738
 11317              	.L785:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11318              		.loc 1 5344 72 discriminator 7 view .LVU3806
 11319 0648 1320     		movs	r0, #19
 11320 064a F6E7     		b	.L738
 11321              	.LVL1361:
 11322              	.L786:
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11323              		.loc 1 5351 23 discriminator 1 view .LVU3807
 11324 064c 0E20     		movs	r0, #14
 11325 064e F4E7     		b	.L738
 11326              	.LVL1362:
 11327              	.L787:
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 11328              		.loc 1 5364 69 discriminator 1 view .LVU3808
 11329 0650 0120     		movs	r0, #1
 11330 0652 F2E7     		b	.L738
 11331              	.LVL1363:
 11332              	.L789:
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 11333              		.loc 1 5366 30 discriminator 1 view .LVU3809
 11334 0654 0E20     		movs	r0, #14
 11335 0656 F0E7     		b	.L738
 11336              	.L790:
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11337              		.loc 1 5369 27 discriminator 1 view .LVU3810
 11338 0658 0E20     		movs	r0, #14
 11339 065a EEE7     		b	.L738
 11340              	.L791:
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 11341              		.loc 1 5378 24 discriminator 1 view .LVU3811
 11342 065c 1320     		movs	r0, #19
 11343 065e ECE7     		b	.L738
 11344              	.L794:
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 11345              		.loc 1 5384 31 discriminator 1 view .LVU3812
 11346 0660 1320     		movs	r0, #19
ARM GAS  C:\usertemp\ccmutrvj.s 			page 364


 11347 0662 EAE7     		b	.L738
 11348              	.LVL1364:
 11349              	.L796:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11350              		.loc 1 5564 59 discriminator 1 view .LVU3813
 11351 0664 0E20     		movs	r0, #14
 11352 0666 E8E7     		b	.L738
 11353              	.LVL1365:
 11354              	.L798:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11355              		.loc 1 5593 51 discriminator 1 view .LVU3814
 11356 0668 0E20     		movs	r0, #14
 11357 066a E6E7     		b	.L738
 11358              	.LVL1366:
 11359              	.L799:
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11360              		.loc 1 5598 13 view .LVU3815
 11361 066c 0E20     		movs	r0, #14
 11362 066e E4E7     		b	.L738
 11363              	.LVL1367:
 11364              	.L802:
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11365              		.loc 1 5610 13 view .LVU3816
 11366 0670 0E20     		movs	r0, #14
 11367 0672 E2E7     		b	.L738
 11368              	.LVL1368:
 11369              	.L803:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11370              		.loc 1 5614 13 view .LVU3817
 11371 0674 0E20     		movs	r0, #14
 11372 0676 E0E7     		b	.L738
 11373              	.LVL1369:
 11374              	.L804:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11375              		.loc 1 5617 54 discriminator 1 view .LVU3818
 11376 0678 0E20     		movs	r0, #14
 11377 067a DEE7     		b	.L738
 11378              	.LVL1370:
 11379              	.L806:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11380              		.loc 1 5661 57 discriminator 1 view .LVU3819
 11381 067c 0120     		movs	r0, #1
 11382 067e DCE7     		b	.L738
 11383              	.LVL1371:
 11384              	.L808:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 11385              		.loc 1 5690 64 discriminator 1 view .LVU3820
 11386 0680 0120     		movs	r0, #1
 11387 0682 DAE7     		b	.L738
 11388              	.LVL1372:
 11389              	.L809:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 11390              		.loc 1 5700 63 discriminator 1 view .LVU3821
 11391 0684 0120     		movs	r0, #1
 11392 0686 D8E7     		b	.L738
 11393              	.LVL1373:
 11394              	.L813:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 365


5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11395              		.loc 1 5742 54 discriminator 1 view .LVU3822
 11396 0688 0120     		movs	r0, #1
 11397 068a D6E7     		b	.L738
 11398              		.cfi_endproc
 11399              	.LFE389:
 11401              		.section	.text.f_gets,"ax",%progbits
 11402              		.align	1
 11403              		.global	f_gets
 11404              		.syntax unified
 11405              		.thumb
 11406              		.thumb_func
 11408              	f_gets:
 11409              	.LVL1374:
 11410              	.LFB390:
5835:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 11411              		.loc 1 5835 1 is_stmt 1 view -0
 11412              		.cfi_startproc
 11413              		@ args = 0, pretend = 0, frame = 8
 11414              		@ frame_needed = 0, uses_anonymous_args = 0
5835:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 11415              		.loc 1 5835 1 is_stmt 0 view .LVU3824
 11416 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 11417              	.LCFI122:
 11418              		.cfi_def_cfa_offset 24
 11419              		.cfi_offset 4, -24
 11420              		.cfi_offset 5, -20
 11421              		.cfi_offset 6, -16
 11422              		.cfi_offset 7, -12
 11423              		.cfi_offset 8, -8
 11424              		.cfi_offset 14, -4
 11425 0004 82B0     		sub	sp, sp, #8
 11426              	.LCFI123:
 11427              		.cfi_def_cfa_offset 32
 11428 0006 8046     		mov	r8, r0
 11429 0008 0E46     		mov	r6, r1
 11430 000a 1746     		mov	r7, r2
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 11431              		.loc 1 5836 2 is_stmt 1 view .LVU3825
 11432              	.LVL1375:
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 11433              		.loc 1 5837 2 view .LVU3826
5838:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
 11434              		.loc 1 5838 2 view .LVU3827
5839:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11435              		.loc 1 5839 2 view .LVU3828
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 11436              		.loc 1 5842 2 view .LVU3829
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 11437              		.loc 1 5837 12 is_stmt 0 view .LVU3830
 11438 000c 0446     		mov	r4, r0
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 11439              		.loc 1 5836 6 view .LVU3831
 11440 000e 0025     		movs	r5, #0
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 11441              		.loc 1 5842 8 view .LVU3832
 11442 0010 01E0     		b	.L837
ARM GAS  C:\usertemp\ccmutrvj.s 			page 366


 11443              	.LVL1376:
 11444              	.L842:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 11445              		.loc 1 5842 8 view .LVU3833
 11446 0012 A446     		mov	ip, r4
 11447              	.LVL1377:
 11448              	.L839:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 11449              		.loc 1 5842 8 view .LVU3834
 11450 0014 6446     		mov	r4, ip
 11451              	.LVL1378:
 11452              	.L837:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 11453              		.loc 1 5842 11 is_stmt 1 view .LVU3835
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 11454              		.loc 1 5842 17 is_stmt 0 view .LVU3836
 11455 0016 731E     		subs	r3, r6, #1
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 11456              		.loc 1 5842 11 view .LVU3837
 11457 0018 AB42     		cmp	r3, r5
 11458 001a 13DD     		ble	.L838
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 11459              		.loc 1 5887 3 is_stmt 1 view .LVU3838
 11460 001c 6B46     		mov	r3, sp
 11461 001e 0122     		movs	r2, #1
 11462 0020 01A9     		add	r1, sp, #4
 11463 0022 3846     		mov	r0, r7
 11464 0024 FFF7FEFF 		bl	f_read
 11465              	.LVL1379:
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 11466              		.loc 1 5888 3 view .LVU3839
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 11467              		.loc 1 5888 10 is_stmt 0 view .LVU3840
 11468 0028 009B     		ldr	r3, [sp]
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 11469              		.loc 1 5888 6 view .LVU3841
 11470 002a 012B     		cmp	r3, #1
 11471 002c 0AD1     		bne	.L838
5889:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 11472              		.loc 1 5889 3 is_stmt 1 view .LVU3842
5889:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 11473              		.loc 1 5889 5 is_stmt 0 view .LVU3843
 11474 002e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 11475              	.LVL1380:
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 11476              		.loc 1 5891 3 is_stmt 1 view .LVU3844
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 11477              		.loc 1 5891 6 is_stmt 0 view .LVU3845
 11478 0032 0D2B     		cmp	r3, #13
 11479 0034 EDD0     		beq	.L842
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 11480              		.loc 1 5892 3 is_stmt 1 view .LVU3846
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 11481              		.loc 1 5892 5 is_stmt 0 view .LVU3847
 11482 0036 A446     		mov	ip, r4
 11483              	.LVL1381:
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
ARM GAS  C:\usertemp\ccmutrvj.s 			page 367


 11484              		.loc 1 5892 8 view .LVU3848
 11485 0038 0CF8013B 		strb	r3, [ip], #1
 11486              	.LVL1382:
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 11487              		.loc 1 5893 3 is_stmt 1 view .LVU3849
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 11488              		.loc 1 5893 4 is_stmt 0 view .LVU3850
 11489 003c 0135     		adds	r5, r5, #1
 11490              	.LVL1383:
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11491              		.loc 1 5894 3 is_stmt 1 view .LVU3851
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11492              		.loc 1 5894 6 is_stmt 0 view .LVU3852
 11493 003e 0A2B     		cmp	r3, #10
 11494 0040 E8D1     		bne	.L839
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 11495              		.loc 1 5892 5 view .LVU3853
 11496 0042 6446     		mov	r4, ip
 11497              	.LVL1384:
 11498              	.L838:
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 11499              		.loc 1 5896 2 is_stmt 1 view .LVU3854
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 11500              		.loc 1 5896 5 is_stmt 0 view .LVU3855
 11501 0044 0023     		movs	r3, #0
 11502 0046 2370     		strb	r3, [r4]
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11503              		.loc 1 5897 2 is_stmt 1 view .LVU3856
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11504              		.loc 1 5897 18 is_stmt 0 view .LVU3857
 11505 0048 1DB1     		cbz	r5, .L844
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11506              		.loc 1 5897 18 discriminator 1 view .LVU3858
 11507 004a 4046     		mov	r0, r8
 11508              	.L836:
5898:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11509              		.loc 1 5898 1 view .LVU3859
 11510 004c 02B0     		add	sp, sp, #8
 11511              	.LCFI124:
 11512              		.cfi_remember_state
 11513              		.cfi_def_cfa_offset 24
 11514              		@ sp needed
 11515 004e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 11516              	.LVL1385:
 11517              	.L844:
 11518              	.LCFI125:
 11519              		.cfi_restore_state
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11520              		.loc 1 5897 18 discriminator 2 view .LVU3860
 11521 0052 0020     		movs	r0, #0
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11522              		.loc 1 5897 18 view .LVU3861
 11523 0054 FAE7     		b	.L836
 11524              		.cfi_endproc
 11525              	.LFE390:
 11527              		.section	.text.f_putc,"ax",%progbits
 11528              		.align	1
ARM GAS  C:\usertemp\ccmutrvj.s 			page 368


 11529              		.global	f_putc
 11530              		.syntax unified
 11531              		.thumb
 11532              		.thumb_func
 11534              	f_putc:
 11535              	.LVL1386:
 11536              	.LFB394:
5995:Middlewares/Third_Party/FatFs/src/ff.c **** 
5996:Middlewares/Third_Party/FatFs/src/ff.c **** 
5997:Middlewares/Third_Party/FatFs/src/ff.c **** 
5998:Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
5999:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
6000:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
6001:Middlewares/Third_Party/FatFs/src/ff.c **** )
6002:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11537              		.loc 1 6002 1 is_stmt 1 view -0
 11538              		.cfi_startproc
 11539              		@ args = 0, pretend = 0, frame = 80
 11540              		@ frame_needed = 0, uses_anonymous_args = 0
 11541              		.loc 1 6002 1 is_stmt 0 view .LVU3863
 11542 0000 10B5     		push	{r4, lr}
 11543              	.LCFI126:
 11544              		.cfi_def_cfa_offset 8
 11545              		.cfi_offset 4, -8
 11546              		.cfi_offset 14, -4
 11547 0002 94B0     		sub	sp, sp, #80
 11548              	.LCFI127:
 11549              		.cfi_def_cfa_offset 88
 11550 0004 0446     		mov	r4, r0
6003:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 11551              		.loc 1 6003 2 is_stmt 1 view .LVU3864
6004:Middlewares/Third_Party/FatFs/src/ff.c **** 
6005:Middlewares/Third_Party/FatFs/src/ff.c **** 
6006:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 11552              		.loc 1 6006 2 view .LVU3865
 11553 0006 01A8     		add	r0, sp, #4
 11554              	.LVL1387:
 11555              		.loc 1 6006 2 is_stmt 0 view .LVU3866
 11556 0008 FFF7FEFF 		bl	putc_init
 11557              	.LVL1388:
6007:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put the character */
 11558              		.loc 1 6007 2 is_stmt 1 view .LVU3867
 11559 000c 2146     		mov	r1, r4
 11560 000e 01A8     		add	r0, sp, #4
 11561 0010 FFF7FEFF 		bl	putc_bfd
 11562              	.LVL1389:
6008:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 11563              		.loc 1 6008 2 view .LVU3868
 11564              		.loc 1 6008 9 is_stmt 0 view .LVU3869
 11565 0014 01A8     		add	r0, sp, #4
 11566 0016 FFF7FEFF 		bl	putc_flush
 11567              	.LVL1390:
6009:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11568              		.loc 1 6009 1 view .LVU3870
 11569 001a 14B0     		add	sp, sp, #80
 11570              	.LCFI128:
 11571              		.cfi_def_cfa_offset 8
ARM GAS  C:\usertemp\ccmutrvj.s 			page 369


 11572              		@ sp needed
 11573 001c 10BD     		pop	{r4, pc}
 11574              		.loc 1 6009 1 view .LVU3871
 11575              		.cfi_endproc
 11576              	.LFE394:
 11578              		.section	.text.f_puts,"ax",%progbits
 11579              		.align	1
 11580              		.global	f_puts
 11581              		.syntax unified
 11582              		.thumb
 11583              		.thumb_func
 11585              	f_puts:
 11586              	.LVL1391:
 11587              	.LFB395:
6010:Middlewares/Third_Party/FatFs/src/ff.c **** 
6011:Middlewares/Third_Party/FatFs/src/ff.c **** 
6012:Middlewares/Third_Party/FatFs/src/ff.c **** 
6013:Middlewares/Third_Party/FatFs/src/ff.c **** 
6014:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6015:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
6016:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6017:Middlewares/Third_Party/FatFs/src/ff.c **** 
6018:Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
6019:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
6020:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
6021:Middlewares/Third_Party/FatFs/src/ff.c **** )
6022:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11588              		.loc 1 6022 1 is_stmt 1 view -0
 11589              		.cfi_startproc
 11590              		@ args = 0, pretend = 0, frame = 80
 11591              		@ frame_needed = 0, uses_anonymous_args = 0
 11592              		.loc 1 6022 1 is_stmt 0 view .LVU3873
 11593 0000 10B5     		push	{r4, lr}
 11594              	.LCFI129:
 11595              		.cfi_def_cfa_offset 8
 11596              		.cfi_offset 4, -8
 11597              		.cfi_offset 14, -4
 11598 0002 94B0     		sub	sp, sp, #80
 11599              	.LCFI130:
 11600              		.cfi_def_cfa_offset 88
 11601 0004 0446     		mov	r4, r0
6023:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 11602              		.loc 1 6023 2 is_stmt 1 view .LVU3874
6024:Middlewares/Third_Party/FatFs/src/ff.c **** 
6025:Middlewares/Third_Party/FatFs/src/ff.c **** 
6026:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 11603              		.loc 1 6026 2 view .LVU3875
 11604 0006 01A8     		add	r0, sp, #4
 11605              	.LVL1392:
 11606              		.loc 1 6026 2 is_stmt 0 view .LVU3876
 11607 0008 FFF7FEFF 		bl	putc_init
 11608              	.LVL1393:
6027:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str) putc_bfd(&pb, *str++);		/* Put the string */
 11609              		.loc 1 6027 2 is_stmt 1 view .LVU3877
 11610              		.loc 1 6027 8 is_stmt 0 view .LVU3878
 11611 000c 03E0     		b	.L849
 11612              	.L850:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 370


 11613              		.loc 1 6027 15 is_stmt 1 discriminator 2 view .LVU3879
 11614              		.loc 1 6027 33 is_stmt 0 discriminator 2 view .LVU3880
 11615 000e 0134     		adds	r4, r4, #1
 11616              	.LVL1394:
 11617              		.loc 1 6027 15 discriminator 2 view .LVU3881
 11618 0010 01A8     		add	r0, sp, #4
 11619 0012 FFF7FEFF 		bl	putc_bfd
 11620              	.LVL1395:
 11621              	.L849:
 11622              		.loc 1 6027 9 is_stmt 1 discriminator 1 view .LVU3882
 11623 0016 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 11624 0018 0029     		cmp	r1, #0
 11625 001a F8D1     		bne	.L850
6028:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 11626              		.loc 1 6028 2 view .LVU3883
 11627              		.loc 1 6028 9 is_stmt 0 view .LVU3884
 11628 001c 01A8     		add	r0, sp, #4
 11629 001e FFF7FEFF 		bl	putc_flush
 11630              	.LVL1396:
6029:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11631              		.loc 1 6029 1 view .LVU3885
 11632 0022 14B0     		add	sp, sp, #80
 11633              	.LCFI131:
 11634              		.cfi_def_cfa_offset 8
 11635              		@ sp needed
 11636 0024 10BD     		pop	{r4, pc}
 11637              		.loc 1 6029 1 view .LVU3886
 11638              		.cfi_endproc
 11639              	.LFE395:
 11641              		.section	.text.f_printf,"ax",%progbits
 11642              		.align	1
 11643              		.global	f_printf
 11644              		.syntax unified
 11645              		.thumb
 11646              		.thumb_func
 11648              	f_printf:
 11649              	.LVL1397:
 11650              	.LFB396:
6030:Middlewares/Third_Party/FatFs/src/ff.c **** 
6031:Middlewares/Third_Party/FatFs/src/ff.c **** 
6032:Middlewares/Third_Party/FatFs/src/ff.c **** 
6033:Middlewares/Third_Party/FatFs/src/ff.c **** 
6034:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6035:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
6036:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6037:Middlewares/Third_Party/FatFs/src/ff.c **** 
6038:Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
6039:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
6040:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
6041:Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
6042:Middlewares/Third_Party/FatFs/src/ff.c **** )
6043:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11651              		.loc 1 6043 1 is_stmt 1 view -0
 11652              		.cfi_startproc
 11653              		@ args = 4, pretend = 12, frame = 112
 11654              		@ frame_needed = 0, uses_anonymous_args = 1
 11655              		.loc 1 6043 1 is_stmt 0 view .LVU3888
ARM GAS  C:\usertemp\ccmutrvj.s 			page 371


 11656 0000 0EB4     		push	{r1, r2, r3}
 11657              	.LCFI132:
 11658              		.cfi_def_cfa_offset 12
 11659              		.cfi_offset 1, -12
 11660              		.cfi_offset 2, -8
 11661              		.cfi_offset 3, -4
 11662 0002 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 11663              	.LCFI133:
 11664              		.cfi_def_cfa_offset 44
 11665              		.cfi_offset 4, -44
 11666              		.cfi_offset 5, -40
 11667              		.cfi_offset 6, -36
 11668              		.cfi_offset 7, -32
 11669              		.cfi_offset 8, -28
 11670              		.cfi_offset 9, -24
 11671              		.cfi_offset 10, -20
 11672              		.cfi_offset 14, -16
 11673 0006 9DB0     		sub	sp, sp, #116
 11674              	.LCFI134:
 11675              		.cfi_def_cfa_offset 160
 11676 0008 0146     		mov	r1, r0
 11677 000a 25AC     		add	r4, sp, #148
 11678 000c 54F8045B 		ldr	r5, [r4], #4
6044:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
 11679              		.loc 1 6044 2 is_stmt 1 view .LVU3889
6045:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 11680              		.loc 1 6045 2 view .LVU3890
6046:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
 11681              		.loc 1 6046 2 view .LVU3891
6047:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, w;
 11682              		.loc 1 6047 2 view .LVU3892
6048:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
 11683              		.loc 1 6048 2 view .LVU3893
6049:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, str[32], *p;
 11684              		.loc 1 6049 2 view .LVU3894
6050:Middlewares/Third_Party/FatFs/src/ff.c **** 
6051:Middlewares/Third_Party/FatFs/src/ff.c **** 
6052:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 11685              		.loc 1 6052 2 view .LVU3895
 11686 0010 08A8     		add	r0, sp, #32
 11687              	.LVL1398:
 11688              		.loc 1 6052 2 is_stmt 0 view .LVU3896
 11689 0012 FFF7FEFF 		bl	putc_init
 11690              	.LVL1399:
6053:Middlewares/Third_Party/FatFs/src/ff.c **** 
6054:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 11691              		.loc 1 6054 2 is_stmt 1 view .LVU3897
 11692 0016 1B94     		str	r4, [sp, #108]
 11693              	.LVL1400:
 11694              	.L853:
6055:Middlewares/Third_Party/FatFs/src/ff.c **** 
6056:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 11695              		.loc 1 6056 2 view .LVU3898
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 11696              		.loc 1 6057 3 view .LVU3899
 11697              		.loc 1 6057 11 is_stmt 0 view .LVU3900
 11698 0018 2C46     		mov	r4, r5
ARM GAS  C:\usertemp\ccmutrvj.s 			page 372


 11699              	.LVL1401:
 11700              		.loc 1 6057 5 view .LVU3901
 11701 001a 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 11702              	.LVL1402:
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 11703              		.loc 1 6058 3 is_stmt 1 view .LVU3902
 11704              		.loc 1 6058 6 is_stmt 0 view .LVU3903
 11705 001e 0029     		cmp	r1, #0
 11706 0020 00F00881 		beq	.L854
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 11707              		.loc 1 6059 3 is_stmt 1 view .LVU3904
 11708              		.loc 1 6059 6 is_stmt 0 view .LVU3905
 11709 0024 2529     		cmp	r1, #37
 11710 0026 04D0     		beq	.L855
6060:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 11711              		.loc 1 6060 4 is_stmt 1 view .LVU3906
 11712 0028 08A8     		add	r0, sp, #32
 11713 002a FFF7FEFF 		bl	putc_bfd
 11714              	.LVL1403:
6061:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 11715              		.loc 1 6061 4 view .LVU3907
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 11716              		.loc 1 6057 11 is_stmt 0 view .LVU3908
 11717 002e 2546     		mov	r5, r4
 11718              		.loc 1 6061 4 view .LVU3909
 11719 0030 F2E7     		b	.L853
 11720              	.LVL1404:
 11721              	.L855:
6062:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
 11722              		.loc 1 6063 3 is_stmt 1 view .LVU3910
6064:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 11723              		.loc 1 6064 3 view .LVU3911
 11724              		.loc 1 6064 11 is_stmt 0 view .LVU3912
 11725 0032 AB1C     		adds	r3, r5, #2
 11726              	.LVL1405:
 11727              		.loc 1 6064 5 view .LVU3913
 11728 0034 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 11729              	.LVL1406:
6065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 11730              		.loc 1 6065 3 is_stmt 1 view .LVU3914
 11731              		.loc 1 6065 6 is_stmt 0 view .LVU3915
 11732 0036 3029     		cmp	r1, #48
 11733 0038 05D0     		beq	.L904
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
6067:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
6068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 11734              		.loc 1 6068 4 is_stmt 1 view .LVU3916
 11735              		.loc 1 6068 7 is_stmt 0 view .LVU3917
 11736 003a 2D29     		cmp	r1, #45
 11737 003c 07D0     		beq	.L905
6064:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 11738              		.loc 1 6064 11 view .LVU3918
 11739 003e 1D46     		mov	r5, r3
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 11740              		.loc 1 6063 9 view .LVU3919
 11741 0040 0026     		movs	r6, #0
ARM GAS  C:\usertemp\ccmutrvj.s 			page 373


 11742              	.LVL1407:
 11743              	.L858:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11744              		.loc 1 6066 6 view .LVU3920
 11745 0042 0024     		movs	r4, #0
 11746 0044 0EE0     		b	.L859
 11747              	.LVL1408:
 11748              	.L904:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11749              		.loc 1 6066 4 is_stmt 1 view .LVU3921
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11750              		.loc 1 6066 11 view .LVU3922
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11751              		.loc 1 6066 19 is_stmt 0 view .LVU3923
 11752 0046 0335     		adds	r5, r5, #3
 11753              	.LVL1409:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11754              		.loc 1 6066 13 view .LVU3924
 11755 0048 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 11756              	.LVL1410:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11757              		.loc 1 6066 6 view .LVU3925
 11758 004a 0126     		movs	r6, #1
 11759 004c F9E7     		b	.L858
 11760              	.LVL1411:
 11761              	.L905:
6069:Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 11762              		.loc 1 6069 5 is_stmt 1 view .LVU3926
 11763              		.loc 1 6069 12 view .LVU3927
 11764              		.loc 1 6069 20 is_stmt 0 view .LVU3928
 11765 004e 0335     		adds	r5, r5, #3
 11766              	.LVL1412:
 11767              		.loc 1 6069 14 view .LVU3929
 11768 0050 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 11769              	.LVL1413:
 11770              		.loc 1 6069 7 view .LVU3930
 11771 0052 0226     		movs	r6, #2
 11772 0054 F5E7     		b	.L858
 11773              	.LVL1414:
 11774              	.L860:
6070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
6073:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11775              		.loc 1 6073 4 is_stmt 1 view .LVU3931
 11776              		.loc 1 6073 10 is_stmt 0 view .LVU3932
 11777 0056 04EB8404 		add	r4, r4, r4, lsl #2
 11778              	.LVL1415:
 11779              		.loc 1 6073 15 view .LVU3933
 11780 005a 01EB4404 		add	r4, r1, r4, lsl #1
 11781              		.loc 1 6073 6 view .LVU3934
 11782 005e 303C     		subs	r4, r4, #48
 11783              	.LVL1416:
6074:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 11784              		.loc 1 6074 4 is_stmt 1 view .LVU3935
 11785              		.loc 1 6074 6 is_stmt 0 view .LVU3936
 11786 0060 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
ARM GAS  C:\usertemp\ccmutrvj.s 			page 374


 11787              	.LVL1417:
 11788              	.L859:
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11789              		.loc 1 6072 10 is_stmt 1 view .LVU3937
 11790 0064 A1F13003 		sub	r3, r1, #48
 11791 0068 DBB2     		uxtb	r3, r3
 11792 006a 092B     		cmp	r3, #9
 11793 006c F3D9     		bls	.L860
6075:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6076:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 11794              		.loc 1 6076 3 view .LVU3938
 11795              		.loc 1 6076 6 is_stmt 0 view .LVU3939
 11796 006e 4C29     		cmp	r1, #76
 11797 0070 18BF     		it	ne
 11798 0072 6C29     		cmpne	r1, #108
 11799 0074 03D1     		bne	.L861
6077:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 11800              		.loc 1 6077 4 is_stmt 1 view .LVU3940
 11801              		.loc 1 6077 6 is_stmt 0 view .LVU3941
 11802 0076 46F00406 		orr	r6, r6, #4
 11803              	.LVL1418:
 11804              		.loc 1 6077 12 is_stmt 1 view .LVU3942
 11805              		.loc 1 6077 14 is_stmt 0 view .LVU3943
 11806 007a 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 11807              	.LVL1419:
 11808              	.L861:
6078:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
 11809              		.loc 1 6079 3 is_stmt 1 view .LVU3944
 11810              		.loc 1 6079 6 is_stmt 0 view .LVU3945
 11811 007e 0029     		cmp	r1, #0
 11812 0080 00F0D880 		beq	.L854
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 11813              		.loc 1 6080 3 is_stmt 1 view .LVU3946
 11814              	.LVL1420:
6081:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 11815              		.loc 1 6081 3 view .LVU3947
 11816              		.loc 1 6081 7 is_stmt 0 view .LVU3948
 11817 0084 A1F16103 		sub	r3, r1, #97
 11818 0088 DBB2     		uxtb	r3, r3
 11819              		.loc 1 6081 6 view .LVU3949
 11820 008a 192B     		cmp	r3, #25
 11821 008c 14D8     		bhi	.L897
 11822              		.loc 1 6081 19 is_stmt 1 discriminator 1 view .LVU3950
 11823              		.loc 1 6081 21 is_stmt 0 discriminator 1 view .LVU3951
 11824 008e A1F12003 		sub	r3, r1, #32
 11825 0092 DBB2     		uxtb	r3, r3
 11826              	.LVL1421:
 11827              	.L862:
6082:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 11828              		.loc 1 6082 3 is_stmt 1 view .LVU3952
 11829 0094 A3F14202 		sub	r2, r3, #66
 11830 0098 162A     		cmp	r2, #22
 11831 009a 5DD8     		bhi	.L863
 11832 009c DFE802F0 		tbb	[pc, r2]
 11833              	.L865:
 11834 00a0 60       		.byte	(.L870-.L865)/2
ARM GAS  C:\usertemp\ccmutrvj.s 			page 375


 11835 00a1 3D       		.byte	(.L869-.L865)/2
 11836 00a2 45       		.byte	(.L866-.L865)/2
 11837 00a3 5C       		.byte	(.L863-.L865)/2
 11838 00a4 5C       		.byte	(.L863-.L865)/2
 11839 00a5 5C       		.byte	(.L863-.L865)/2
 11840 00a6 5C       		.byte	(.L863-.L865)/2
 11841 00a7 5C       		.byte	(.L863-.L865)/2
 11842 00a8 5C       		.byte	(.L863-.L865)/2
 11843 00a9 5C       		.byte	(.L863-.L865)/2
 11844 00aa 5C       		.byte	(.L863-.L865)/2
 11845 00ab 5C       		.byte	(.L863-.L865)/2
 11846 00ac 5C       		.byte	(.L863-.L865)/2
 11847 00ad 62       		.byte	(.L898-.L865)/2
 11848 00ae 5C       		.byte	(.L863-.L865)/2
 11849 00af 5C       		.byte	(.L863-.L865)/2
 11850 00b0 5C       		.byte	(.L863-.L865)/2
 11851 00b1 0E       		.byte	(.L867-.L865)/2
 11852 00b2 5C       		.byte	(.L863-.L865)/2
 11853 00b3 45       		.byte	(.L866-.L865)/2
 11854 00b4 5C       		.byte	(.L863-.L865)/2
 11855 00b5 5C       		.byte	(.L863-.L865)/2
 11856 00b6 5A       		.byte	(.L864-.L865)/2
 11857              	.LVL1422:
 11858 00b7 00       		.p2align 1
 11859              	.L897:
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 11860              		.loc 1 6080 5 is_stmt 0 view .LVU3953
 11861 00b8 0B46     		mov	r3, r1
 11862 00ba EBE7     		b	.L862
 11863              	.LVL1423:
 11864              	.L867:
6083:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
6084:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 11865              		.loc 1 6084 4 is_stmt 1 view .LVU3954
 11866              		.loc 1 6084 6 is_stmt 0 view .LVU3955
 11867 00bc 1B9B     		ldr	r3, [sp, #108]
 11868              	.LVL1424:
 11869              		.loc 1 6084 6 view .LVU3956
 11870 00be 1A1D     		adds	r2, r3, #4
 11871              	.LVL1425:
 11872              		.loc 1 6084 6 view .LVU3957
 11873 00c0 1B92     		str	r2, [sp, #108]
 11874 00c2 D3F80080 		ldr	r8, [r3]
6085:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 11875              		.loc 1 6085 4 is_stmt 1 view .LVU3958
 11876              	.LVL1426:
 11877              		.loc 1 6085 11 is_stmt 0 view .LVU3959
 11878 00c6 0027     		movs	r7, #0
 11879              		.loc 1 6085 4 view .LVU3960
 11880 00c8 00E0     		b	.L871
 11881              	.LVL1427:
 11882              	.L872:
 11883              		.loc 1 6085 23 is_stmt 1 discriminator 3 view .LVU3961
 11884 00ca 0137     		adds	r7, r7, #1
 11885              	.LVL1428:
 11886              	.L871:
 11887              		.loc 1 6085 16 discriminator 1 view .LVU3962
ARM GAS  C:\usertemp\ccmutrvj.s 			page 376


 11888              		.loc 1 6085 17 is_stmt 0 discriminator 1 view .LVU3963
 11889 00cc 18F80730 		ldrb	r3, [r8, r7]	@ zero_extendqisi2
 11890              		.loc 1 6085 16 discriminator 1 view .LVU3964
 11891 00d0 002B     		cmp	r3, #0
 11892 00d2 FAD1     		bne	.L872
6086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 11893              		.loc 1 6086 4 is_stmt 1 view .LVU3965
 11894              		.loc 1 6086 7 is_stmt 0 view .LVU3966
 11895 00d4 16F0020F 		tst	r6, #2
 11896 00d8 10D1     		bne	.L876
 11897 00da 05E0     		b	.L873
 11898              	.LVL1429:
 11899              	.L875:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 11900              		.loc 1 6087 21 is_stmt 1 discriminator 2 view .LVU3967
 11901 00dc 2021     		movs	r1, #32
 11902 00de 0DEB0100 		add	r0, sp, r1
 11903 00e2 FFF7FEFF 		bl	putc_bfd
 11904              	.LVL1430:
 11905              		.loc 1 6087 13 is_stmt 0 discriminator 1 view .LVU3968
 11906 00e6 3746     		mov	r7, r6
 11907              	.LVL1431:
 11908              	.L873:
 11909              		.loc 1 6087 16 is_stmt 1 discriminator 1 view .LVU3969
 11910              		.loc 1 6087 13 is_stmt 0 discriminator 1 view .LVU3970
 11911 00e8 7E1C     		adds	r6, r7, #1
 11912              	.LVL1432:
 11913              		.loc 1 6087 16 discriminator 1 view .LVU3971
 11914 00ea A742     		cmp	r7, r4
 11915 00ec F6D3     		bcc	.L875
 11916              		.loc 1 6087 13 discriminator 1 view .LVU3972
 11917 00ee 3746     		mov	r7, r6
 11918 00f0 04E0     		b	.L876
 11919              	.LVL1433:
 11920              	.L877:
6088:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6089:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 11921              		.loc 1 6089 15 is_stmt 1 discriminator 2 view .LVU3973
 11922              		.loc 1 6089 31 is_stmt 0 discriminator 2 view .LVU3974
 11923 00f2 08F10108 		add	r8, r8, #1
 11924              	.LVL1434:
 11925              		.loc 1 6089 15 discriminator 2 view .LVU3975
 11926 00f6 08A8     		add	r0, sp, #32
 11927 00f8 FFF7FEFF 		bl	putc_bfd
 11928              	.LVL1435:
 11929              	.L876:
 11930              		.loc 1 6089 11 is_stmt 1 discriminator 1 view .LVU3976
 11931 00fc 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 11932 0100 0029     		cmp	r1, #0
 11933 0102 F6D1     		bne	.L877
 11934              		.loc 1 6089 11 is_stmt 0 discriminator 1 view .LVU3977
 11935 0104 05E0     		b	.L878
 11936              	.LVL1436:
 11937              	.L879:
6090:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 11938              		.loc 1 6090 20 is_stmt 1 discriminator 2 view .LVU3978
 11939 0106 2021     		movs	r1, #32
ARM GAS  C:\usertemp\ccmutrvj.s 			page 377


 11940 0108 0DEB0100 		add	r0, sp, r1
 11941 010c FFF7FEFF 		bl	putc_bfd
 11942              	.LVL1437:
 11943              		.loc 1 6090 12 is_stmt 0 discriminator 1 view .LVU3979
 11944 0110 3746     		mov	r7, r6
 11945              	.LVL1438:
 11946              	.L878:
 11947              		.loc 1 6090 15 is_stmt 1 discriminator 1 view .LVU3980
 11948              		.loc 1 6090 12 is_stmt 0 discriminator 1 view .LVU3981
 11949 0112 7E1C     		adds	r6, r7, #1
 11950              	.LVL1439:
 11951              		.loc 1 6090 15 discriminator 1 view .LVU3982
 11952 0114 A742     		cmp	r7, r4
 11953 0116 F6D3     		bcc	.L879
 11954 0118 7EE7     		b	.L853
 11955              	.LVL1440:
 11956              	.L869:
6091:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
6092:Middlewares/Third_Party/FatFs/src/ff.c **** 
6093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
6094:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 11957              		.loc 1 6094 4 is_stmt 1 view .LVU3983
 11958              		.loc 1 6094 25 is_stmt 0 view .LVU3984
 11959 011a 1B9B     		ldr	r3, [sp, #108]
 11960              	.LVL1441:
 11961              		.loc 1 6094 25 view .LVU3985
 11962 011c 1A1D     		adds	r2, r3, #4
 11963              	.LVL1442:
 11964              		.loc 1 6094 25 view .LVU3986
 11965 011e 1B92     		str	r2, [sp, #108]
 11966              		.loc 1 6094 4 discriminator 1 view .LVU3987
 11967 0120 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 11968              	.LVL1443:
 11969              		.loc 1 6094 4 discriminator 1 view .LVU3988
 11970 0122 08A8     		add	r0, sp, #32
 11971 0124 FFF7FEFF 		bl	putc_bfd
 11972              	.LVL1444:
 11973              		.loc 1 6094 44 is_stmt 1 discriminator 2 view .LVU3989
 11974              		.loc 1 6094 44 is_stmt 0 view .LVU3990
 11975 0128 76E7     		b	.L853
 11976              	.LVL1445:
 11977              	.L866:
6095:Middlewares/Third_Party/FatFs/src/ff.c **** 
6096:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
6097:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
6098:Middlewares/Third_Party/FatFs/src/ff.c **** 
6099:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
6101:Middlewares/Third_Party/FatFs/src/ff.c **** 
6102:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
6103:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
6104:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
 11978              		.loc 1 6104 4 is_stmt 1 view .LVU3991
 11979              		.loc 1 6104 12 view .LVU3992
 11980              		.loc 1 6104 6 is_stmt 0 view .LVU3993
 11981 012a 0A20     		movs	r0, #10
 11982              	.LVL1446:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 378


 11983              	.L868:
6105:Middlewares/Third_Party/FatFs/src/ff.c **** 
6106:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
6108:Middlewares/Third_Party/FatFs/src/ff.c **** 
6109:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
6111:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6112:Middlewares/Third_Party/FatFs/src/ff.c **** 
6113:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 11984              		.loc 1 6114 3 is_stmt 1 view .LVU3994
 11985              		.loc 1 6114 42 is_stmt 0 view .LVU3995
 11986 012c 16F0040F 		tst	r6, #4
 11987 0130 1AD0     		beq	.L880
 11988              		.loc 1 6114 24 discriminator 1 view .LVU3996
 11989 0132 1B9A     		ldr	r2, [sp, #108]
 11990 0134 171D     		adds	r7, r2, #4
 11991 0136 1B97     		str	r7, [sp, #108]
 11992 0138 1268     		ldr	r2, [r2]
 11993              	.L881:
 11994              	.LVL1447:
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 11995              		.loc 1 6115 3 is_stmt 1 view .LVU3997
 11996              		.loc 1 6115 16 is_stmt 0 view .LVU3998
 11997 013a D70F     		lsrs	r7, r2, #31
 11998 013c 442B     		cmp	r3, #68
 11999 013e 14BF     		ite	ne
 12000 0140 0027     		movne	r7, #0
 12001 0142 07F00107 		andeq	r7, r7, #1
 12002              		.loc 1 6115 6 view .LVU3999
 12003 0146 17B1     		cbz	r7, .L883
6116:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 12004              		.loc 1 6116 4 is_stmt 1 view .LVU4000
 12005              		.loc 1 6116 6 is_stmt 0 view .LVU4001
 12006 0148 5242     		rsbs	r2, r2, #0
 12007              	.LVL1448:
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 12008              		.loc 1 6117 4 is_stmt 1 view .LVU4002
 12009              		.loc 1 6117 6 is_stmt 0 view .LVU4003
 12010 014a 46F00806 		orr	r6, r6, #8
 12011              	.LVL1449:
 12012              	.L883:
6118:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6119:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 12013              		.loc 1 6119 3 is_stmt 1 view .LVU4004
 12014              		.loc 1 6119 5 is_stmt 0 view .LVU4005
 12015 014e 4FF0000C 		mov	ip, #0
 12016 0152 28E0     		b	.L886
 12017              	.LVL1450:
 12018              	.L864:
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12019              		.loc 1 6107 4 is_stmt 1 view .LVU4006
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12020              		.loc 1 6107 12 view .LVU4007
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12021              		.loc 1 6107 6 is_stmt 0 view .LVU4008
ARM GAS  C:\usertemp\ccmutrvj.s 			page 379


 12022 0154 1020     		movs	r0, #16
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12023              		.loc 1 6107 12 view .LVU4009
 12024 0156 E9E7     		b	.L868
 12025              	.LVL1451:
 12026              	.L863:
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12027              		.loc 1 6110 4 is_stmt 1 view .LVU4010
 12028 0158 08A8     		add	r0, sp, #32
 12029 015a FFF7FEFF 		bl	putc_bfd
 12030              	.LVL1452:
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12031              		.loc 1 6110 22 discriminator 1 view .LVU4011
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12032              		.loc 1 6110 22 is_stmt 0 view .LVU4012
 12033 015e 5BE7     		b	.L853
 12034              	.LVL1453:
 12035              	.L870:
6082:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
 12036              		.loc 1 6082 3 view .LVU4013
 12037 0160 0220     		movs	r0, #2
 12038 0162 E3E7     		b	.L868
 12039              	.L898:
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12040              		.loc 1 6100 6 view .LVU4014
 12041 0164 0820     		movs	r0, #8
 12042 0166 E1E7     		b	.L868
 12043              	.LVL1454:
 12044              	.L880:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12045              		.loc 1 6114 88 discriminator 2 view .LVU4015
 12046 0168 442B     		cmp	r3, #68
 12047 016a 04D0     		beq	.L906
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12048              		.loc 1 6114 88 discriminator 5 view .LVU4016
 12049 016c 1B9A     		ldr	r2, [sp, #108]
 12050 016e 171D     		adds	r7, r2, #4
 12051 0170 1B97     		str	r7, [sp, #108]
 12052 0172 1268     		ldr	r2, [r2]
 12053 0174 E1E7     		b	.L881
 12054              	.L906:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12055              		.loc 1 6114 71 discriminator 4 view .LVU4017
 12056 0176 1B9A     		ldr	r2, [sp, #108]
 12057 0178 171D     		adds	r7, r2, #4
 12058 017a 1B97     		str	r7, [sp, #108]
 12059 017c 1268     		ldr	r2, [r2]
 12060 017e DCE7     		b	.L881
 12061              	.LVL1455:
 12062              	.L907:
6120:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12063              		.loc 1 6122 17 discriminator 2 view .LVU4018
 12064 0180 2727     		movs	r7, #39
 12065              	.L885:
 12066              		.loc 1 6122 17 discriminator 5 view .LVU4019
ARM GAS  C:\usertemp\ccmutrvj.s 			page 380


 12067 0182 3B44     		add	r3, r3, r7
 12068              	.LVL1456:
 12069              		.loc 1 6122 17 discriminator 5 view .LVU4020
 12070 0184 DBB2     		uxtb	r3, r3
 12071              	.LVL1457:
 12072              	.L884:
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12073              		.loc 1 6123 4 is_stmt 1 view .LVU4021
 12074              		.loc 1 6123 9 is_stmt 0 view .LVU4022
 12075 0186 0CF10107 		add	r7, ip, #1
 12076              	.LVL1458:
 12077              		.loc 1 6123 17 view .LVU4023
 12078 018a 3033     		adds	r3, r3, #48
 12079              	.LVL1459:
 12080              		.loc 1 6123 13 view .LVU4024
 12081 018c 0CF17009 		add	r9, ip, #112
 12082 0190 E944     		add	r9, sp, r9
 12083 0192 09F8703C 		strb	r3, [r9, #-112]
6124:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof str / sizeof str[0]);
 12084              		.loc 1 6124 14 is_stmt 1 view .LVU4025
 12085              		.loc 1 6124 19 is_stmt 0 view .LVU4026
 12086 0196 1F2F     		cmp	r7, #31
 12087 0198 8CBF     		ite	hi
 12088 019a 0023     		movhi	r3, #0
 12089              	.LVL1460:
 12090              		.loc 1 6124 19 view .LVU4027
 12091 019c 0123     		movls	r3, #1
 12092              		.loc 1 6124 14 view .LVU4028
 12093 019e C645     		cmp	lr, r8
 12094 01a0 0FD8     		bhi	.L902
 12095 01a2 73B1     		cbz	r3, .L902
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12096              		.loc 1 6123 9 view .LVU4029
 12097 01a4 BC46     		mov	ip, r7
 12098              	.LVL1461:
 12099              	.L886:
6120:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12100              		.loc 1 6120 3 is_stmt 1 view .LVU4030
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12101              		.loc 1 6121 4 view .LVU4031
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12102              		.loc 1 6121 18 is_stmt 0 view .LVU4032
 12103 01a6 8646     		mov	lr, r0
 12104 01a8 B2FBF0F7 		udiv	r7, r2, r0
 12105 01ac 00FB1723 		mls	r3, r0, r7, r2
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12106              		.loc 1 6121 6 view .LVU4033
 12107 01b0 DBB2     		uxtb	r3, r3
 12108              	.LVL1462:
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12109              		.loc 1 6121 24 is_stmt 1 view .LVU4034
 12110 01b2 9046     		mov	r8, r2
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12111              		.loc 1 6121 26 is_stmt 0 view .LVU4035
 12112 01b4 3A46     		mov	r2, r7
 12113              	.LVL1463:
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
ARM GAS  C:\usertemp\ccmutrvj.s 			page 381


 12114              		.loc 1 6122 4 is_stmt 1 view .LVU4036
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12115              		.loc 1 6122 7 is_stmt 0 view .LVU4037
 12116 01b6 092B     		cmp	r3, #9
 12117 01b8 E5D9     		bls	.L884
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12118              		.loc 1 6122 15 is_stmt 1 discriminator 1 view .LVU4038
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12119              		.loc 1 6122 17 is_stmt 0 discriminator 1 view .LVU4039
 12120 01ba 7829     		cmp	r1, #120
 12121 01bc E0D0     		beq	.L907
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 12122              		.loc 1 6122 17 discriminator 3 view .LVU4040
 12123 01be 0727     		movs	r7, #7
 12124 01c0 DFE7     		b	.L885
 12125              	.LVL1464:
 12126              	.L902:
6125:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) str[i++] = '-';
 12127              		.loc 1 6125 3 is_stmt 1 view .LVU4041
 12128              		.loc 1 6125 6 is_stmt 0 view .LVU4042
 12129 01c2 16F0080F 		tst	r6, #8
 12130 01c6 08D0     		beq	.L888
 12131              		.loc 1 6125 14 is_stmt 1 discriminator 1 view .LVU4043
 12132              	.LVL1465:
 12133              		.loc 1 6125 23 is_stmt 0 discriminator 1 view .LVU4044
 12134 01c8 07F17003 		add	r3, r7, #112
 12135 01cc 0DEB0307 		add	r7, sp, r3
 12136 01d0 2D23     		movs	r3, #45
 12137 01d2 07F8703C 		strb	r3, [r7, #-112]
 12138              		.loc 1 6125 19 discriminator 1 view .LVU4045
 12139 01d6 0CF10207 		add	r7, ip, #2
 12140              	.LVL1466:
 12141              	.L888:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 12142              		.loc 1 6126 3 is_stmt 1 view .LVU4046
 12143              		.loc 1 6126 10 view .LVU4047
 12144              		.loc 1 6126 12 is_stmt 0 view .LVU4048
 12145 01da 16F0010F 		tst	r6, #1
 12146 01de 03D0     		beq	.L901
 12147              		.loc 1 6126 12 discriminator 1 view .LVU4049
 12148 01e0 4FF0300A 		mov	r10, #48
 12149              	.L889:
 12150              	.LVL1467:
6127:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 12151              		.loc 1 6127 3 is_stmt 1 view .LVU4050
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 12152              		.loc 1 6126 5 is_stmt 0 view .LVU4051
 12153 01e4 B846     		mov	r8, r7
 12154              		.loc 1 6127 9 view .LVU4052
 12155 01e6 07E0     		b	.L890
 12156              	.LVL1468:
 12157              	.L901:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 12158              		.loc 1 6126 12 discriminator 2 view .LVU4053
 12159 01e8 4FF0200A 		mov	r10, #32
 12160 01ec FAE7     		b	.L889
 12161              	.LVL1469:
ARM GAS  C:\usertemp\ccmutrvj.s 			page 382


 12162              	.L892:
 12163              		.loc 1 6127 31 is_stmt 1 discriminator 3 view .LVU4054
 12164 01ee 5146     		mov	r1, r10
 12165 01f0 08A8     		add	r0, sp, #32
 12166 01f2 FFF7FEFF 		bl	putc_bfd
 12167              	.LVL1470:
 12168              		.loc 1 6127 23 is_stmt 0 discriminator 2 view .LVU4055
 12169 01f6 C846     		mov	r8, r9
 12170              	.LVL1471:
 12171              	.L890:
 12172              		.loc 1 6127 19 is_stmt 1 discriminator 1 view .LVU4056
 12173 01f8 16F0020F 		tst	r6, #2
 12174 01fc 04D1     		bne	.L893
 12175              		.loc 1 6127 23 is_stmt 0 discriminator 2 view .LVU4057
 12176 01fe 08F10109 		add	r9, r8, #1
 12177              	.LVL1472:
 12178              		.loc 1 6127 19 discriminator 2 view .LVU4058
 12179 0202 A045     		cmp	r8, r4
 12180 0204 F3D3     		bcc	.L892
 12181              		.loc 1 6127 23 discriminator 2 view .LVU4059
 12182 0206 C846     		mov	r8, r9
 12183              	.LVL1473:
 12184              	.L893:
6128:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12185              		.loc 1 6128 3 is_stmt 1 view .LVU4060
6129:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, str[--i]);
 12186              		.loc 1 6129 4 view .LVU4061
 12187 0208 013F     		subs	r7, r7, #1
 12188              	.LVL1474:
 12189              		.loc 1 6129 4 is_stmt 0 view .LVU4062
 12190 020a 07F17003 		add	r3, r7, #112
 12191 020e 6B44     		add	r3, sp, r3
 12192 0210 13F8701C 		ldrb	r1, [r3, #-112]	@ zero_extendqisi2
 12193 0214 08A8     		add	r0, sp, #32
 12194 0216 FFF7FEFF 		bl	putc_bfd
 12195              	.LVL1475:
6130:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i);
 12196              		.loc 1 6130 12 is_stmt 1 discriminator 1 view .LVU4063
 12197 021a 002F     		cmp	r7, #0
 12198 021c F4D1     		bne	.L893
 12199              	.LVL1476:
 12200              	.L894:
6131:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 12201              		.loc 1 6131 14 discriminator 1 view .LVU4064
 12202              		.loc 1 6131 11 is_stmt 0 discriminator 1 view .LVU4065
 12203 021e 08F10106 		add	r6, r8, #1
 12204              	.LVL1477:
 12205              		.loc 1 6131 14 discriminator 1 view .LVU4066
 12206 0222 A045     		cmp	r8, r4
 12207 0224 BFF4F8AE 		bcs	.L853
 12208              		.loc 1 6131 19 is_stmt 1 discriminator 2 view .LVU4067
 12209 0228 5146     		mov	r1, r10
 12210 022a 08A8     		add	r0, sp, #32
 12211 022c FFF7FEFF 		bl	putc_bfd
 12212              	.LVL1478:
 12213              		.loc 1 6131 11 is_stmt 0 discriminator 1 view .LVU4068
 12214 0230 B046     		mov	r8, r6
ARM GAS  C:\usertemp\ccmutrvj.s 			page 383


 12215 0232 F4E7     		b	.L894
 12216              	.LVL1479:
 12217              	.L854:
6132:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
6133:Middlewares/Third_Party/FatFs/src/ff.c **** 
6134:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
 12218              		.loc 1 6134 2 is_stmt 1 view .LVU4069
6135:Middlewares/Third_Party/FatFs/src/ff.c **** 
6136:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 12219              		.loc 1 6136 2 view .LVU4070
 12220              		.loc 1 6136 9 is_stmt 0 view .LVU4071
 12221 0234 08A8     		add	r0, sp, #32
 12222 0236 FFF7FEFF 		bl	putc_flush
 12223              	.LVL1480:
6137:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12224              		.loc 1 6137 1 view .LVU4072
 12225 023a 1DB0     		add	sp, sp, #116
 12226              	.LCFI135:
 12227              		.cfi_def_cfa_offset 44
 12228              		@ sp needed
 12229 023c BDE8F047 		pop	{r4, r5, r6, r7, r8, r9, r10, lr}
 12230              	.LCFI136:
 12231              		.cfi_restore 14
 12232              		.cfi_restore 10
 12233              		.cfi_restore 9
 12234              		.cfi_restore 8
 12235              		.cfi_restore 7
 12236              		.cfi_restore 6
 12237              		.cfi_restore 5
 12238              		.cfi_restore 4
 12239              		.cfi_def_cfa_offset 12
 12240 0240 03B0     		add	sp, sp, #12
 12241              	.LCFI137:
 12242              		.cfi_restore 3
 12243              		.cfi_restore 2
 12244              		.cfi_restore 1
 12245              		.cfi_def_cfa_offset 0
 12246 0242 7047     		bx	lr
 12247              		.cfi_endproc
 12248              	.LFE396:
 12250              		.section	.rodata.cst.0,"a"
 12251              		.align	2
 12254              	cst.0:
 12255 0000 0100     		.short	1
 12256 0002 0400     		.short	4
 12257 0004 1000     		.short	16
 12258 0006 4000     		.short	64
 12259 0008 0001     		.short	256
 12260 000a 0002     		.short	512
 12261 000c 0000     		.short	0
 12262              		.section	.rodata.cst32.1,"a"
 12263              		.align	2
 12266              	cst32.1:
 12267 0000 0100     		.short	1
 12268 0002 0200     		.short	2
 12269 0004 0400     		.short	4
 12270 0006 0800     		.short	8
ARM GAS  C:\usertemp\ccmutrvj.s 			page 384


 12271 0008 1000     		.short	16
 12272 000a 2000     		.short	32
 12273 000c 0000     		.short	0
 12274              		.section	.rodata.ExCvt,"a"
 12275              		.align	2
 12278              	ExCvt:
 12279 0000 43554541 		.ascii	"CUEAAAACEEEIIIAAE\222\222OOOUUYOUO\234O\236\237AIOU"
 12279      41414143 
 12279      45454549 
 12279      49494141 
 12279      4592924F 
 12280 0024 A5A5A6A7 		.ascii	"\245\245\246\247\250\251\252\253\254\255\256\257\260"
 12280      A8A9AAAB 
 12280      ACADAEAF 
 12280      B0
 12281 0031 B1B2B3B4 		.ascii	"\261\262\263\264AAA\270\271\272\273\274\275\276\277"
 12281      414141B8 
 12281      B9BABBBC 
 12281      BDBEBF
 12282 0040 C0C1C2C3 		.ascii	"\300\301\302\303\304\305AA\310\311\312\313\314\315\316"
 12282      C4C54141 
 12282      C8C9CACB 
 12282      CCCDCE
 12283 004f CFD1D145 		.ascii	"\317\321\321EEEIIII\331\332\333\334\335I\337O\341OO"
 12283      45454949 
 12283      4949D9DA 
 12283      DBDCDD49 
 12283      DF4FE14F 
 12284 0064 4F4FE6E8 		.ascii	"OO\346\350\350UUUYY\356\357\360\361\362\363\364\365"
 12284      E8555555 
 12284      5959EEEF 
 12284      F0F1F2F3 
 12284      F4F5
 12285 0076 F6F7F8F9 		.ascii	"\366\367\370\371\372\373\374\375\376\377"
 12285      FAFBFCFD 
 12285      FEFF
 12286              		.section	.bss.Files,"aw",%nobits
 12287              		.align	2
 12290              	Files:
 12291 0000 00000000 		.space	80
 12291      00000000 
 12291      00000000 
 12291      00000000 
 12291      00000000 
 12292              		.section	.bss.Fsid,"aw",%nobits
 12293              		.align	1
 12296              	Fsid:
 12297 0000 0000     		.space	2
 12298              		.section	.bss.FatFs,"aw",%nobits
 12299              		.align	2
 12302              	FatFs:
 12303 0000 00000000 		.space	4
 12304              		.text
 12305              	.Letext0:
 12306              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 12307              		.file 3 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 12308              		.file 4 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
ARM GAS  C:\usertemp\ccmutrvj.s 			page 385


 12309              		.file 5 "Middlewares/Third_Party/FatFs/src/ff.h"
 12310              		.file 6 "Middlewares/Third_Party/FatFs/src/diskio.h"
 12311              		.file 7 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/lib/gcc/arm-none
 12312              		.file 8 "<built-in>"
ARM GAS  C:\usertemp\ccmutrvj.s 			page 386


DEFINED SYMBOLS
                            *ABS*:00000000 ff.c
C:\usertemp\ccmutrvj.s:20     .text.ld_word:00000000 $t
C:\usertemp\ccmutrvj.s:25     .text.ld_word:00000000 ld_word
C:\usertemp\ccmutrvj.s:52     .text.ld_dword:00000000 $t
C:\usertemp\ccmutrvj.s:57     .text.ld_dword:00000000 ld_dword
C:\usertemp\ccmutrvj.s:96     .text.st_word:00000000 $t
C:\usertemp\ccmutrvj.s:101    .text.st_word:00000000 st_word
C:\usertemp\ccmutrvj.s:125    .text.st_dword:00000000 $t
C:\usertemp\ccmutrvj.s:130    .text.st_dword:00000000 st_dword
C:\usertemp\ccmutrvj.s:169    .text.mem_cpy:00000000 $t
C:\usertemp\ccmutrvj.s:174    .text.mem_cpy:00000000 mem_cpy
C:\usertemp\ccmutrvj.s:214    .text.mem_set:00000000 $t
C:\usertemp\ccmutrvj.s:219    .text.mem_set:00000000 mem_set
C:\usertemp\ccmutrvj.s:246    .text.mem_cmp:00000000 $t
C:\usertemp\ccmutrvj.s:251    .text.mem_cmp:00000000 mem_cmp
C:\usertemp\ccmutrvj.s:294    .text.chk_chr:00000000 $t
C:\usertemp\ccmutrvj.s:299    .text.chk_chr:00000000 chk_chr
C:\usertemp\ccmutrvj.s:335    .text.chk_lock:00000000 $t
C:\usertemp\ccmutrvj.s:340    .text.chk_lock:00000000 chk_lock
C:\usertemp\ccmutrvj.s:477    .text.chk_lock:00000078 $d
C:\usertemp\ccmutrvj.s:12290  .bss.Files:00000000 Files
C:\usertemp\ccmutrvj.s:482    .text.enq_lock:00000000 $t
C:\usertemp\ccmutrvj.s:487    .text.enq_lock:00000000 enq_lock
C:\usertemp\ccmutrvj.s:531    .text.enq_lock:0000001c $d
C:\usertemp\ccmutrvj.s:536    .text.inc_lock:00000000 $t
C:\usertemp\ccmutrvj.s:541    .text.inc_lock:00000000 inc_lock
C:\usertemp\ccmutrvj.s:715    .text.inc_lock:000000a0 $d
C:\usertemp\ccmutrvj.s:720    .text.dec_lock:00000000 $t
C:\usertemp\ccmutrvj.s:725    .text.dec_lock:00000000 dec_lock
C:\usertemp\ccmutrvj.s:806    .text.dec_lock:0000003c $d
C:\usertemp\ccmutrvj.s:811    .text.clear_lock:00000000 $t
C:\usertemp\ccmutrvj.s:816    .text.clear_lock:00000000 clear_lock
C:\usertemp\ccmutrvj.s:893    .text.clear_lock:00000038 $d
C:\usertemp\ccmutrvj.s:898    .text.clust2sect:00000000 $t
C:\usertemp\ccmutrvj.s:903    .text.clust2sect:00000000 clust2sect
C:\usertemp\ccmutrvj.s:943    .text.clmt_clust:00000000 $t
C:\usertemp\ccmutrvj.s:948    .text.clmt_clust:00000000 clmt_clust
C:\usertemp\ccmutrvj.s:1016   .text.ld_clust:00000000 $t
C:\usertemp\ccmutrvj.s:1021   .text.ld_clust:00000000 ld_clust
C:\usertemp\ccmutrvj.s:1077   .text.st_clust:00000000 $t
C:\usertemp\ccmutrvj.s:1082   .text.st_clust:00000000 st_clust
C:\usertemp\ccmutrvj.s:1131   .text.get_fileinfo:00000000 $t
C:\usertemp\ccmutrvj.s:1136   .text.get_fileinfo:00000000 get_fileinfo
C:\usertemp\ccmutrvj.s:1276   .rodata.create_name.str1.4:00000000 $d
C:\usertemp\ccmutrvj.s:1280   .text.create_name:00000000 $t
C:\usertemp\ccmutrvj.s:1285   .text.create_name:00000000 create_name
C:\usertemp\ccmutrvj.s:1598   .text.create_name:0000011c $d
C:\usertemp\ccmutrvj.s:12278  .rodata.ExCvt:00000000 ExCvt
C:\usertemp\ccmutrvj.s:1604   .text.get_ldnumber:00000000 $t
C:\usertemp\ccmutrvj.s:1609   .text.get_ldnumber:00000000 get_ldnumber
C:\usertemp\ccmutrvj.s:1710   .text.putc_init:00000000 $t
C:\usertemp\ccmutrvj.s:1715   .text.putc_init:00000000 putc_init
C:\usertemp\ccmutrvj.s:1738   .text.validate:00000000 $t
C:\usertemp\ccmutrvj.s:1743   .text.validate:00000000 validate
C:\usertemp\ccmutrvj.s:1852   .text.sync_window:00000000 $t
C:\usertemp\ccmutrvj.s:1857   .text.sync_window:00000000 sync_window
ARM GAS  C:\usertemp\ccmutrvj.s 			page 387


C:\usertemp\ccmutrvj.s:1964   .text.move_window:00000000 $t
C:\usertemp\ccmutrvj.s:1969   .text.move_window:00000000 move_window
C:\usertemp\ccmutrvj.s:2041   .text.check_fs:00000000 $t
C:\usertemp\ccmutrvj.s:2046   .text.check_fs:00000000 check_fs
C:\usertemp\ccmutrvj.s:2142   .text.check_fs:0000006c $d
C:\usertemp\ccmutrvj.s:2149   .text.find_volume:00000000 $t
C:\usertemp\ccmutrvj.s:2154   .text.find_volume:00000000 find_volume
C:\usertemp\ccmutrvj.s:2826   .text.find_volume:000002f4 $d
C:\usertemp\ccmutrvj.s:12302  .bss.FatFs:00000000 FatFs
C:\usertemp\ccmutrvj.s:12296  .bss.Fsid:00000000 Fsid
C:\usertemp\ccmutrvj.s:2834   .text.put_fat:00000000 $t
C:\usertemp\ccmutrvj.s:2839   .text.put_fat:00000000 put_fat
C:\usertemp\ccmutrvj.s:3085   .text.get_fat:00000000 $t
C:\usertemp\ccmutrvj.s:3090   .text.get_fat:00000000 get_fat
C:\usertemp\ccmutrvj.s:3307   .text.dir_sdi:00000000 $t
C:\usertemp\ccmutrvj.s:3312   .text.dir_sdi:00000000 dir_sdi
C:\usertemp\ccmutrvj.s:3509   .text.create_chain:00000000 $t
C:\usertemp\ccmutrvj.s:3514   .text.create_chain:00000000 create_chain
C:\usertemp\ccmutrvj.s:3750   .text.remove_chain:00000000 $t
C:\usertemp\ccmutrvj.s:3755   .text.remove_chain:00000000 remove_chain
C:\usertemp\ccmutrvj.s:3916   .text.dir_remove:00000000 $t
C:\usertemp\ccmutrvj.s:3921   .text.dir_remove:00000000 dir_remove
C:\usertemp\ccmutrvj.s:3972   .text.dir_next:00000000 $t
C:\usertemp\ccmutrvj.s:3977   .text.dir_next:00000000 dir_next
C:\usertemp\ccmutrvj.s:4275   .text.dir_find:00000000 $t
C:\usertemp\ccmutrvj.s:4280   .text.dir_find:00000000 dir_find
C:\usertemp\ccmutrvj.s:4388   .text.follow_path:00000000 $t
C:\usertemp\ccmutrvj.s:4393   .text.follow_path:00000000 follow_path
C:\usertemp\ccmutrvj.s:4600   .text.dir_alloc:00000000 $t
C:\usertemp\ccmutrvj.s:4605   .text.dir_alloc:00000000 dir_alloc
C:\usertemp\ccmutrvj.s:4716   .text.dir_register:00000000 $t
C:\usertemp\ccmutrvj.s:4721   .text.dir_register:00000000 dir_register
C:\usertemp\ccmutrvj.s:4795   .text.dir_read:00000000 $t
C:\usertemp\ccmutrvj.s:4800   .text.dir_read:00000000 dir_read
C:\usertemp\ccmutrvj.s:4922   .text.sync_fs:00000000 $t
C:\usertemp\ccmutrvj.s:4927   .text.sync_fs:00000000 sync_fs
C:\usertemp\ccmutrvj.s:5041   .text.sync_fs:00000084 $d
C:\usertemp\ccmutrvj.s:5047   .text.f_mount:00000000 $t
C:\usertemp\ccmutrvj.s:5053   .text.f_mount:00000000 f_mount
C:\usertemp\ccmutrvj.s:5169   .text.f_mount:0000005c $d
C:\usertemp\ccmutrvj.s:5174   .text.f_open:00000000 $t
C:\usertemp\ccmutrvj.s:5180   .text.f_open:00000000 f_open
C:\usertemp\ccmutrvj.s:5728   .text.f_read:00000000 $t
C:\usertemp\ccmutrvj.s:5734   .text.f_read:00000000 f_read
C:\usertemp\ccmutrvj.s:6148   .text.f_write:00000000 $t
C:\usertemp\ccmutrvj.s:6154   .text.f_write:00000000 f_write
C:\usertemp\ccmutrvj.s:6617   .text.putc_bfd:00000000 $t
C:\usertemp\ccmutrvj.s:6622   .text.putc_bfd:00000000 putc_bfd
C:\usertemp\ccmutrvj.s:6734   .text.putc_flush:00000000 $t
C:\usertemp\ccmutrvj.s:6739   .text.putc_flush:00000000 putc_flush
C:\usertemp\ccmutrvj.s:6818   .text.f_sync:00000000 $t
C:\usertemp\ccmutrvj.s:6824   .text.f_sync:00000000 f_sync
C:\usertemp\ccmutrvj.s:6975   .text.f_close:00000000 $t
C:\usertemp\ccmutrvj.s:6981   .text.f_close:00000000 f_close
C:\usertemp\ccmutrvj.s:7050   .text.f_chdir:00000000 $t
C:\usertemp\ccmutrvj.s:7056   .text.f_chdir:00000000 f_chdir
C:\usertemp\ccmutrvj.s:7174   .text.f_getcwd:00000000 $t
ARM GAS  C:\usertemp\ccmutrvj.s 			page 388


C:\usertemp\ccmutrvj.s:7180   .text.f_getcwd:00000000 f_getcwd
C:\usertemp\ccmutrvj.s:7475   .text.f_lseek:00000000 $t
C:\usertemp\ccmutrvj.s:7481   .text.f_lseek:00000000 f_lseek
C:\usertemp\ccmutrvj.s:8187   .text.f_opendir:00000000 $t
C:\usertemp\ccmutrvj.s:8193   .text.f_opendir:00000000 f_opendir
C:\usertemp\ccmutrvj.s:8373   .text.f_closedir:00000000 $t
C:\usertemp\ccmutrvj.s:8379   .text.f_closedir:00000000 f_closedir
C:\usertemp\ccmutrvj.s:8445   .text.f_readdir:00000000 $t
C:\usertemp\ccmutrvj.s:8451   .text.f_readdir:00000000 f_readdir
C:\usertemp\ccmutrvj.s:8556   .text.f_stat:00000000 $t
C:\usertemp\ccmutrvj.s:8562   .text.f_stat:00000000 f_stat
C:\usertemp\ccmutrvj.s:8655   .text.f_getfree:00000000 $t
C:\usertemp\ccmutrvj.s:8661   .text.f_getfree:00000000 f_getfree
C:\usertemp\ccmutrvj.s:8947   .text.f_truncate:00000000 $t
C:\usertemp\ccmutrvj.s:8953   .text.f_truncate:00000000 f_truncate
C:\usertemp\ccmutrvj.s:9137   .text.f_unlink:00000000 $t
C:\usertemp\ccmutrvj.s:9143   .text.f_unlink:00000000 f_unlink
C:\usertemp\ccmutrvj.s:9385   .text.f_mkdir:00000000 $t
C:\usertemp\ccmutrvj.s:9391   .text.f_mkdir:00000000 f_mkdir
C:\usertemp\ccmutrvj.s:9772   .text.f_rename:00000000 $t
C:\usertemp\ccmutrvj.s:9778   .text.f_rename:00000000 f_rename
C:\usertemp\ccmutrvj.s:10065  .rodata.f_mkfs.str1.4:00000000 $d
C:\usertemp\ccmutrvj.s:10075  .text.f_mkfs:00000000 $t
C:\usertemp\ccmutrvj.s:10081  .text.f_mkfs:00000000 f_mkfs
C:\usertemp\ccmutrvj.s:10649  .text.f_mkfs:00000258 $d
C:\usertemp\ccmutrvj.s:12266  .rodata.cst32.1:00000000 cst32.1
C:\usertemp\ccmutrvj.s:12254  .rodata.cst.0:00000000 cst.0
C:\usertemp\ccmutrvj.s:10656  .text.f_mkfs:0000026c $t
C:\usertemp\ccmutrvj.s:11158  .text.f_mkfs:00000588 $d
C:\usertemp\ccmutrvj.s:11167  .text.f_mkfs:000005a0 $t
C:\usertemp\ccmutrvj.s:11402  .text.f_gets:00000000 $t
C:\usertemp\ccmutrvj.s:11408  .text.f_gets:00000000 f_gets
C:\usertemp\ccmutrvj.s:11528  .text.f_putc:00000000 $t
C:\usertemp\ccmutrvj.s:11534  .text.f_putc:00000000 f_putc
C:\usertemp\ccmutrvj.s:11579  .text.f_puts:00000000 $t
C:\usertemp\ccmutrvj.s:11585  .text.f_puts:00000000 f_puts
C:\usertemp\ccmutrvj.s:11642  .text.f_printf:00000000 $t
C:\usertemp\ccmutrvj.s:11648  .text.f_printf:00000000 f_printf
C:\usertemp\ccmutrvj.s:11834  .text.f_printf:000000a0 $d
C:\usertemp\ccmutrvj.s:12251  .rodata.cst.0:00000000 $d
C:\usertemp\ccmutrvj.s:12263  .rodata.cst32.1:00000000 $d
C:\usertemp\ccmutrvj.s:12275  .rodata.ExCvt:00000000 $d
C:\usertemp\ccmutrvj.s:12287  .bss.Files:00000000 $d
C:\usertemp\ccmutrvj.s:12293  .bss.Fsid:00000000 $d
C:\usertemp\ccmutrvj.s:12299  .bss.FatFs:00000000 $d
C:\usertemp\ccmutrvj.s:11858  .text.f_printf:000000b7 $d
C:\usertemp\ccmutrvj.s:11858  .text.f_printf:000000b8 $t

UNDEFINED SYMBOLS
disk_status
disk_write
disk_read
disk_initialize
disk_ioctl
get_fattime
