ARM GAS  C:\usertemp\ccuz6VZa.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"api_msg.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "Middlewares/Third_Party/LwIP/src/api/api_msg.c"
  19              		.section	.rodata.lwip_netconn_err_to_msg.str1.4,"aMS",%progbits,1
  20              		.align	2
  21              	.LC0:
  22 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/api/api_msg.c\000"
  22      6C657761 
  22      7265732F 
  22      54686972 
  22      645F5061 
  23 002f 00       		.align	2
  24              	.LC1:
  25 0030 756E6861 		.ascii	"unhandled error\000"
  25      6E646C65 
  25      64206572 
  25      726F7200 
  26              		.align	2
  27              	.LC2:
  28 0040 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
  28      7274696F 
  28      6E202225 
  28      73222066 
  28      61696C65 
  29              		.section	.text.lwip_netconn_err_to_msg,"ax",%progbits
  30              		.align	1
  31              		.syntax unified
  32              		.thumb
  33              		.thumb_func
  35              	lwip_netconn_err_to_msg:
  36              	.LVL0:
  37              	.LFB364:
   1:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
   2:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Sequential API Internal module
   4:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
   5:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
   6:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
   7:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /*
   8:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   9:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * All rights reserved.
  10:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 2


  11:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Redistribution and use in source and binary forms, with or without modification,
  12:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * are permitted provided that the following conditions are met:
  13:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  14:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  15:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    this list of conditions and the following disclaimer.
  16:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    this list of conditions and the following disclaimer in the documentation
  18:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    and/or other materials provided with the distribution.
  19:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 3. The name of the author may not be used to endorse or promote products
  20:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    derived from this software without specific prior written permission.
  21:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  22:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  23:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  24:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  25:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  26:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  27:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  30:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  31:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * OF SUCH DAMAGE.
  32:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  33:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * This file is part of the lwIP TCP/IP stack.
  34:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  35:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Author: Adam Dunkels <adam@sics.se>
  36:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  37:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
  38:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  39:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/opt.h"
  40:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  41:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN /* don't build if not configured for use in lwipopts.h */
  42:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  43:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/priv/api_msg.h"
  44:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  45:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/ip.h"
  46:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/ip_addr.h"
  47:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/udp.h"
  48:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/tcp.h"
  49:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/raw.h"
  50:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  51:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/memp.h"
  52:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/igmp.h"
  53:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/dns.h"
  54:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/mld6.h"
  55:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/priv/tcpip_priv.h"
  56:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  57:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include <string.h>
  58:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  59:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /* netconns are polled once per second (e.g. continue write on memory error) */
  60:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_TCP_POLL_INTERVAL 2
  61:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  62:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define SET_NONBLOCKING_CONNECT(conn, val)  do { if (val) { \
  63:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netconn_set_flags(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT); \
  64:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** } else { \
  65:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netconn_clear_flags(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT); }} while(0)
  66:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define IN_NONBLOCKING_CONNECT(conn) netconn_is_flag_set(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT)
  67:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 3


  68:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
  69:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_MBOX_VALID(conn, mbox) (sys_mbox_valid(mbox) && ((conn->flags & NETCONN_FLAG_MBOXIN
  70:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else
  71:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_MBOX_VALID(conn, mbox) sys_mbox_valid(mbox)
  72:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
  73:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  74:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /* forward declarations */
  75:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
  76:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  77:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED         , 1
  78:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED_PARAM   , u8_t delayed
  79:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  80:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED
  81:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED_PARAM
  82:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  83:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM);
  84:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM);
  85:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
  86:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  87:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void netconn_drain(struct netconn *conn);
  88:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  89:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  90:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)
  91:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  92:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)   do { sys_sem_signal(LWIP_API_MSG_SEM(m)); } while(0)
  93:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  94:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  95:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
  96:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_deleted = 0;
  97:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  98:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** int
  99:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_is_deallocated_msg(void *msg)
 100:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg == &netconn_deleted) {
 102:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 103:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 104:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0;
 105:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 106:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 107:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 108:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 109:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_aborted = 0;
 110:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_reset = 0;
 111:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_closed = 0;
 112:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 113:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /** Translate an error to a unique void* passed via an mbox */
 114:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void *
 115:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_err_to_msg(err_t err)
 116:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
  38              		.loc 1 116 1 view -0
  39              		.cfi_startproc
  40              		@ args = 0, pretend = 0, frame = 0
  41              		@ frame_needed = 0, uses_anonymous_args = 0
 117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (err) {
  42              		.loc 1 117 3 view .LVU1
  43 0000 10F10E0F 		cmn	r0, #14
  44 0004 11D0     		beq	.L3
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 4


  45 0006 10F10D0F 		cmn	r0, #13
  46 000a 10D0     		beq	.L4
  47 000c 10F10F0F 		cmn	r0, #15
  48 0010 0FD0     		beq	.L5
 118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_ABRT:
 119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_aborted);
 120:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_RST:
 121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_reset);
 122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_CLSD:
 123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_closed);
 124:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("unhandled error", err == ERR_OK);
  49              		.loc 1 125 7 view .LVU2
  50              		.loc 1 125 7 view .LVU3
  51 0012 08B9     		cbnz	r0, .L11
 126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
  52              		.loc 1 126 14 is_stmt 0 view .LVU4
  53 0014 0020     		movs	r0, #0
  54              	.LVL1:
 127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 128:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
  55              		.loc 1 128 1 view .LVU5
  56 0016 7047     		bx	lr
  57              	.LVL2:
  58              	.L11:
 116:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (err) {
  59              		.loc 1 116 1 view .LVU6
  60 0018 08B5     		push	{r3, lr}
  61              	.LCFI0:
  62              		.cfi_def_cfa_offset 8
  63              		.cfi_offset 3, -8
  64              		.cfi_offset 14, -4
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
  65              		.loc 1 125 7 is_stmt 1 discriminator 1 view .LVU7
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
  66              		.loc 1 125 7 discriminator 1 view .LVU8
  67 001a 074B     		ldr	r3, .L12
  68 001c 7D22     		movs	r2, #125
  69 001e 0749     		ldr	r1, .L12+4
  70 0020 0748     		ldr	r0, .L12+8
  71              	.LVL3:
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
  72              		.loc 1 125 7 is_stmt 0 discriminator 1 view .LVU9
  73 0022 FFF7FEFF 		bl	printf
  74              	.LVL4:
 126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
  75              		.loc 1 126 14 view .LVU10
  76 0026 0020     		movs	r0, #0
  77              		.loc 1 128 1 view .LVU11
  78 0028 08BD     		pop	{r3, pc}
  79              	.LVL5:
  80              	.L3:
  81              	.LCFI1:
  82              		.cfi_def_cfa_offset 0
  83              		.cfi_restore 3
  84              		.cfi_restore 14
 121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_CLSD:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 5


  85              		.loc 1 121 14 view .LVU12
  86 002a 0648     		ldr	r0, .L12+12
  87              	.LVL6:
 121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_CLSD:
  88              		.loc 1 121 14 view .LVU13
  89 002c 7047     		bx	lr
  90              	.LVL7:
  91              	.L4:
 117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_ABRT:
  92              		.loc 1 117 3 view .LVU14
  93 002e 0648     		ldr	r0, .L12+16
  94              	.LVL8:
 117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_ABRT:
  95              		.loc 1 117 3 view .LVU15
  96 0030 7047     		bx	lr
  97              	.LVL9:
  98              	.L5:
 123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
  99              		.loc 1 123 14 view .LVU16
 100 0032 0648     		ldr	r0, .L12+20
 101              	.LVL10:
 123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 102              		.loc 1 123 14 view .LVU17
 103 0034 7047     		bx	lr
 104              	.L13:
 105 0036 00BF     		.align	2
 106              	.L12:
 107 0038 00000000 		.word	.LC0
 108 003c 30000000 		.word	.LC1
 109 0040 40000000 		.word	.LC2
 110 0044 00000000 		.word	netconn_reset
 111 0048 00000000 		.word	netconn_aborted
 112 004c 00000000 		.word	netconn_closed
 113              		.cfi_endproc
 114              	.LFE364:
 116              		.section	.rodata.recv_udp.str1.4,"aMS",%progbits,1
 117              		.align	2
 118              	.LC3:
 119 0000 72656376 		.ascii	"recv_udp must have a pcb argument\000"
 119      5F756470 
 119      206D7573 
 119      74206861 
 119      76652061 
 120 0022 0000     		.align	2
 121              	.LC4:
 122 0024 72656376 		.ascii	"recv_udp must have an argument\000"
 122      5F756470 
 122      206D7573 
 122      74206861 
 122      76652061 
 123 0043 00       		.align	2
 124              	.LC5:
 125 0044 72656376 		.ascii	"recv_udp: recv for wrong pcb!\000"
 125      5F756470 
 125      3A207265 
 125      63762066 
 125      6F722077 
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 6


 126              		.section	.text.recv_udp,"ax",%progbits
 127              		.align	1
 128              		.syntax unified
 129              		.thumb
 130              		.thumb_func
 132              	recv_udp:
 133              	.LVL11:
 134              	.LFB366:
 129:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 130:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** int
 131:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_is_err_msg(void *msg, err_t *err)
 132:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 134:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 135:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg == &netconn_aborted) {
 136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_ABRT;
 137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_RST;
 140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_CLSD;
 143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 144:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 145:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0;
 146:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 147:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 148:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 149:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 150:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 152:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for RAW netconns.
 153:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Doesn't 'eat' the packet, only copies it and sends it to
 154:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * conn->recvmbox
 155:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 156:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see raw.h (struct raw_pcb.recv) for parameters and return value
 157:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static u8_t
 159:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_raw(void *arg, struct raw_pcb *pcb, struct pbuf *p,
 160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          const ip_addr_t *addr)
 161:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 162:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct pbuf *q;
 163:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netbuf *buf;
 164:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 165:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(addr);
 167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 168:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 169:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((conn != NULL) && NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 170:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 171:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     int recv_avail;
 172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_GET(conn->recv_avail, recv_avail);
 173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize) {
 174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return 0;
 175:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 176:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* copy the whole packet into new pbufs */
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 7


 178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     q = pbuf_clone(PBUF_RAW, PBUF_RAM, p);
 179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (q != NULL) {
 180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       u16_t len;
 181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (buf == NULL) {
 183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         pbuf_free(q);
 184:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return 0;
 185:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 186:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 187:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->p = q;
 188:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->ptr = q;
 189:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(buf->addr, *ip_current_src_addr());
 190:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->port = pcb->protocol;
 191:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 192:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = q->tot_len;
 193:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netbuf_delete(buf);
 195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return 0;
 196:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 197:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 198:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         SYS_ARCH_INC(conn->recv_avail, len);
 199:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Register event with callback */
 201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 202:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 205:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 206:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0; /* do not eat the packet */
 207:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 208:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW*/
 209:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 210:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 211:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 212:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for UDP netconns.
 213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Posts the packet to conn->recvmbox or deletes it on memory error.
 214:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 215:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see udp.h (struct udp_pcb.recv) for parameters
 216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 217:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 218:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_udp(void *arg, struct udp_pcb *pcb, struct pbuf *p,
 219:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          const ip_addr_t *addr, u16_t port)
 220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 135              		.loc 1 220 1 is_stmt 1 view -0
 136              		.cfi_startproc
 137              		@ args = 4, pretend = 0, frame = 0
 138              		@ frame_needed = 0, uses_anonymous_args = 0
 139              		.loc 1 220 1 is_stmt 0 view .LVU19
 140 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 141              	.LCFI2:
 142              		.cfi_def_cfa_offset 24
 143              		.cfi_offset 4, -24
 144              		.cfi_offset 5, -20
 145              		.cfi_offset 6, -16
 146              		.cfi_offset 7, -12
 147              		.cfi_offset 8, -8
 148              		.cfi_offset 14, -4
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 8


 149 0004 0446     		mov	r4, r0
 150 0006 1546     		mov	r5, r2
 151 0008 9846     		mov	r8, r3
 221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netbuf *buf;
 152              		.loc 1 221 3 is_stmt 1 view .LVU20
 222:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 153              		.loc 1 222 3 view .LVU21
 223:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 154              		.loc 1 223 3 view .LVU22
 224:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 225:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int recv_avail;
 226:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 227:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 228:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb); /* only used for asserts... */
 155              		.loc 1 228 3 view .LVU23
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have a pcb argument", pcb != NULL);
 156              		.loc 1 229 3 view .LVU24
 157              		.loc 1 229 3 view .LVU25
 158 000a 0E46     		mov	r6, r1
 159 000c 69B3     		cbz	r1, .L26
 160              	.LVL12:
 161              	.L15:
 162              		.loc 1 229 3 discriminator 3 view .LVU26
 163              		.loc 1 229 3 discriminator 3 view .LVU27
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 164              		.loc 1 230 3 view .LVU28
 165              		.loc 1 230 3 view .LVU29
 166 000e 002C     		cmp	r4, #0
 167 0010 32D0     		beq	.L16
 168              		.loc 1 230 3 discriminator 3 view .LVU30
 169              		.loc 1 230 3 discriminator 3 view .LVU31
 231:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 170              		.loc 1 231 3 view .LVU32
 171              	.LVL13:
 232:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 233:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 172              		.loc 1 233 3 view .LVU33
 234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 237:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 238:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp: recv for wrong pcb!", conn->pcb.udp == pcb);
 173              		.loc 1 238 3 view .LVU34
 174              		.loc 1 238 3 view .LVU35
 175 0012 6368     		ldr	r3, [r4, #4]
 176 0014 B342     		cmp	r3, r6
 177 0016 05D0     		beq	.L18
 178              		.loc 1 238 3 discriminator 1 view .LVU36
 179              		.loc 1 238 3 discriminator 1 view .LVU37
 180 0018 244B     		ldr	r3, .L30
 181 001a EE22     		movs	r2, #238
 182 001c 2449     		ldr	r1, .L30+4
 183 001e 2548     		ldr	r0, .L30+8
 184 0020 FFF7FEFF 		bl	printf
 185              	.LVL14:
 186              	.L18:
 187              		.loc 1 238 3 discriminator 3 view .LVU38
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 9


 188              		.loc 1 238 3 discriminator 3 view .LVU39
 239:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 240:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 241:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_GET(conn->recv_avail, recv_avail);
 242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox) ||
 243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize)) {
 244:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else  /* LWIP_SO_RCVBUF */
 245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 189              		.loc 1 245 3 view .LVU40
 190              		.loc 1 245 8 is_stmt 0 view .LVU41
 191 0024 04F11007 		add	r7, r4, #16
 192 0028 3846     		mov	r0, r7
 193 002a FFF7FEFF 		bl	sys_mbox_valid
 194              	.LVL15:
 195              		.loc 1 245 6 discriminator 1 view .LVU42
 196 002e 68B3     		cbz	r0, .L27
 246:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 247:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 248:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 251:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 197              		.loc 1 251 3 is_stmt 1 view .LVU43
 198              		.loc 1 251 26 is_stmt 0 view .LVU44
 199 0030 0620     		movs	r0, #6
 200 0032 FFF7FEFF 		bl	memp_malloc
 201              	.LVL16:
 252:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (buf == NULL) {
 202              		.loc 1 252 3 is_stmt 1 view .LVU45
 203              		.loc 1 252 6 is_stmt 0 view .LVU46
 204 0036 0646     		mov	r6, r0
 205              	.LVL17:
 206              		.loc 1 252 6 view .LVU47
 207 0038 68B3     		cbz	r0, .L28
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 255:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->p = p;
 208              		.loc 1 256 5 is_stmt 1 view .LVU48
 209              		.loc 1 256 12 is_stmt 0 view .LVU49
 210 003a 0560     		str	r5, [r0]
 257:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->ptr = p;
 211              		.loc 1 257 5 is_stmt 1 view .LVU50
 212              		.loc 1 257 14 is_stmt 0 view .LVU51
 213 003c 4560     		str	r5, [r0, #4]
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     ip_addr_set(&buf->addr, addr);
 214              		.loc 1 258 5 is_stmt 1 view .LVU52
 215 003e B8F1000F 		cmp	r8, #0
 216 0042 2CD0     		beq	.L24
 217              		.loc 1 258 5 is_stmt 0 discriminator 1 view .LVU53
 218 0044 D8F80030 		ldr	r3, [r8]
 219              	.L22:
 220              		.loc 1 258 5 discriminator 4 view .LVU54
 221 0048 B360     		str	r3, [r6, #8]
 259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->port = port;
 222              		.loc 1 259 5 is_stmt 1 view .LVU55
 223              		.loc 1 259 15 is_stmt 0 view .LVU56
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 10


 224 004a BDF81830 		ldrh	r3, [sp, #24]
 225 004e B381     		strh	r3, [r6, #12]	@ movhi
 260:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETBUF_RECVINFO
 261:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->flags & NETCONN_FLAG_PKTINFO) {
 262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* get the UDP header - always in the first pbuf, ensured by udp_input */
 263:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       const struct udp_hdr *udphdr = (const struct udp_hdr *)ip_next_header_ptr();
 264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->flags = NETBUF_FLAG_DESTADDR;
 265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_set(&buf->toaddr, ip_current_dest_addr());
 266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->toport_chksum = udphdr->dest;
 267:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 268:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETBUF_RECVINFO */
 269:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 270:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 271:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   len = p->tot_len;
 226              		.loc 1 271 3 is_stmt 1 view .LVU57
 227              		.loc 1 271 7 is_stmt 0 view .LVU58
 228 0050 2D89     		ldrh	r5, [r5, #8]
 229              	.LVL18:
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 230              		.loc 1 272 3 is_stmt 1 view .LVU59
 231              		.loc 1 272 7 is_stmt 0 view .LVU60
 232 0052 3146     		mov	r1, r6
 233 0054 3846     		mov	r0, r7
 234              	.LVL19:
 235              		.loc 1 272 7 view .LVU61
 236 0056 FFF7FEFF 		bl	sys_mbox_trypost
 237              	.LVL20:
 238              		.loc 1 272 6 discriminator 1 view .LVU62
 239 005a 10BB     		cbnz	r0, .L29
 273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netbuf_delete(buf);
 274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 276:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 277:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 278:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 280:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 240              		.loc 1 280 5 is_stmt 1 view .LVU63
 241 005c 636A     		ldr	r3, [r4, #36]
 242 005e C3B1     		cbz	r3, .L14
 243              		.loc 1 280 5 discriminator 1 view .LVU64
 244 0060 2A46     		mov	r2, r5
 245 0062 0021     		movs	r1, #0
 246 0064 2046     		mov	r0, r4
 247 0066 9847     		blx	r3
 248              	.LVL21:
 249              		.loc 1 280 46 discriminator 3 view .LVU65
 250 0068 13E0     		b	.L14
 251              	.LVL22:
 252              	.L26:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 253              		.loc 1 229 3 discriminator 1 view .LVU66
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 254              		.loc 1 229 3 discriminator 1 view .LVU67
 255 006a 104B     		ldr	r3, .L30
 256              	.LVL23:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 11


 257              		.loc 1 229 3 is_stmt 0 discriminator 1 view .LVU68
 258 006c E522     		movs	r2, #229
 259              	.LVL24:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 260              		.loc 1 229 3 discriminator 1 view .LVU69
 261 006e 1249     		ldr	r1, .L30+12
 262              	.LVL25:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 263              		.loc 1 229 3 discriminator 1 view .LVU70
 264 0070 1048     		ldr	r0, .L30+8
 265              	.LVL26:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 266              		.loc 1 229 3 discriminator 1 view .LVU71
 267 0072 FFF7FEFF 		bl	printf
 268              	.LVL27:
 269 0076 CAE7     		b	.L15
 270              	.L16:
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 271              		.loc 1 230 3 is_stmt 1 discriminator 1 view .LVU72
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 272              		.loc 1 230 3 discriminator 1 view .LVU73
 273 0078 0C4B     		ldr	r3, .L30
 274 007a E622     		movs	r2, #230
 275 007c 0F49     		ldr	r1, .L30+16
 276 007e 0D48     		ldr	r0, .L30+8
 277 0080 FFF7FEFF 		bl	printf
 278              	.LVL28:
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 279              		.loc 1 230 3 discriminator 3 view .LVU74
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 280              		.loc 1 230 3 discriminator 3 view .LVU75
 231:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 281              		.loc 1 231 3 view .LVU76
 233:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 282              		.loc 1 233 3 view .LVU77
 234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 283              		.loc 1 234 5 view .LVU78
 284 0084 2846     		mov	r0, r5
 285 0086 FFF7FEFF 		bl	pbuf_free
 286              	.LVL29:
 235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 287              		.loc 1 235 5 view .LVU79
 288 008a 02E0     		b	.L14
 289              	.L27:
 247:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 290              		.loc 1 247 5 view .LVU80
 291 008c 2846     		mov	r0, r5
 292 008e FFF7FEFF 		bl	pbuf_free
 293              	.LVL30:
 248:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 294              		.loc 1 248 5 view .LVU81
 295              	.L14:
 281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 282:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 296              		.loc 1 282 1 is_stmt 0 view .LVU82
 297 0092 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 298              	.LVL31:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 12


 299              	.L28:
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 300              		.loc 1 253 5 is_stmt 1 view .LVU83
 301 0096 2846     		mov	r0, r5
 302              	.LVL32:
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 303              		.loc 1 253 5 is_stmt 0 view .LVU84
 304 0098 FFF7FEFF 		bl	pbuf_free
 305              	.LVL33:
 254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 306              		.loc 1 254 5 is_stmt 1 view .LVU85
 307 009c F9E7     		b	.L14
 308              	.LVL34:
 309              	.L24:
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->port = port;
 310              		.loc 1 258 5 is_stmt 0 discriminator 2 view .LVU86
 311 009e 0023     		movs	r3, #0
 312 00a0 D2E7     		b	.L22
 313              	.LVL35:
 314              	.L29:
 273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 315              		.loc 1 273 5 is_stmt 1 view .LVU87
 316 00a2 3046     		mov	r0, r6
 317 00a4 FFF7FEFF 		bl	netbuf_delete
 318              	.LVL36:
 274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 319              		.loc 1 274 5 view .LVU88
 320 00a8 F3E7     		b	.L14
 321              	.L31:
 322 00aa 00BF     		.align	2
 323              	.L30:
 324 00ac 00000000 		.word	.LC0
 325 00b0 44000000 		.word	.LC5
 326 00b4 40000000 		.word	.LC2
 327 00b8 00000000 		.word	.LC3
 328 00bc 24000000 		.word	.LC4
 329              		.cfi_endproc
 330              	.LFE366:
 332              		.section	.text.setup_tcp,"ax",%progbits
 333              		.align	1
 334              		.syntax unified
 335              		.thumb
 336              		.thumb_func
 338              	setup_tcp:
 339              	.LVL37:
 340              	.LFB371:
 283:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 284:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 285:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 286:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for TCP netconns.
 288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Posts the packet to conn->recvmbox, but doesn't delete it on errors.
 289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.recv) for parameters and return value
 291:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 292:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 293:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_tcp(void *arg, struct tcp_pcb *pcb, struct pbuf *p, err_t err)
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 13


 294:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 297:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *msg;
 298:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have a pcb argument", pcb != NULL);
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 304:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 305:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 306:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 308:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp: recv for wrong pcb!", conn->pcb.tcp == pcb);
 310:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (p != NULL) {
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       pbuf_free(p);
 316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_OK;
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Unlike for UDP or RAW pcbs, don't check for available space
 320:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      using recv_avail since that could break the connection
 321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      (data is already ACKed) */
 322:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (p != NULL) {
 324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = p;
 325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = p->tot_len;
 326:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = LWIP_CONST_CAST(void *, &netconn_closed);
 328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = 0;
 329:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, msg) != ERR_OK) {
 332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 334:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 335:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 337:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 338:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 339:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 340:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 341:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 342:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 343:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 344:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 345:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Poll callback function for TCP netconns.
 347:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Wakes up an application thread that waits for a connection to close
 348:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * or data to be sent. The application thread then takes the
 349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * appropriate action to go on.
 350:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 14


 351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals the conn->sem.
 352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * netconn_close waits for conn->sem if closing failed.
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 354:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.poll) for parameters and return value
 355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 356:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 357:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** poll_tcp(void *arg, struct tcp_pcb *pcb)
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 360:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 363:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->state == NETCONN_WRITE) {
 365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 367:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->current_msg && conn->current_msg->msg.sd.polls_left) {
 369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 370:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 371:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER */
 372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* @todo: implement connect timeout here? */
 375:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Did a nonblocking write fail before? Then check available write-space. */
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->flags & NETCONN_FLAG_CHECK_WRITESPACE) {
 378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        let select mark this pcb as writable again. */
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 386:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 389:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 390:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 391:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Sent callback function for TCP netconns.
 392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals the conn->sem and calls API_EVENT.
 393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * netconn_write waits for conn->sem if send buffer is low.
 394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.sent) for parameters and return value
 396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 397:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 398:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** sent_tcp(void *arg, struct tcp_pcb *pcb, u16_t len)
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 400:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 401:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 404:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn) {
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 15


 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 410:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 411:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 412:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 413:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        let select mark this pcb as writable again. */
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 418:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 419:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 420:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 421:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 422:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 423:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 424:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Error callback function for TCP netconns.
 426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals conn->sem, posts to all conn mboxes and calls API_EVENT.
 427:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The application thread has then to decide what to do.
 428:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 429:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.err) for parameters
 430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 431:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 432:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_tcp(void *arg, err_t err)
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 434:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state old_state;
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mbox_msg;
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_DECL_PROTECT(lev);
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 439:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 442:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_PROTECT(lev);
 443:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 444:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* when err is called, the pcb is deallocated, so delete the reference */
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 446:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* store pending error */
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pending_err = err;
 448:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags |= NETCONN_FLAG_MBOXCLOSED;
 450:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* reset conn->state now before waking up other threads */
 452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   old_state = conn->state;
 453:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 454:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_UNPROTECT(lev);
 456:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Notify the user layer about a connection error. Used to signal select. */
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_ERROR, 0);
 459:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      They will get an error if they actually try to read or write. */
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 463:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   mbox_msg = lwip_netconn_err_to_msg(err);
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 16


 465:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 467:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 468:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_trypost(&conn->recvmbox, mbox_msg);
 469:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 470:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to acceptmbox to wake up pending accept */
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONN_MBOX_VALID(conn, &conn->acceptmbox)) {
 472:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_trypost(&conn->acceptmbox, mbox_msg);
 474:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 475:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((old_state == NETCONN_WRITE) || (old_state == NETCONN_CLOSE) ||
 477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 478:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* calling lwip_netconn_do_writemore/lwip_netconn_do_close_internal is not necessary
 479:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        since the pcb has already been deleted! */
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     int was_nonblocking_connect = IN_NONBLOCKING_CONNECT(conn);
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 482:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (!was_nonblocking_connect) {
 484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* set error return code */
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->err = ERR_OK;
 490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Write and connect fail */
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->err = err;
 493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 500:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* @todo: test what happens for error on nonblocking connect */
 501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("conn->current_msg == NULL", conn->current_msg == NULL);
 504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 505:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 506:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 507:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Setup a tcp_pcb with the correct callback function pointers
 509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * and their arguments.
 510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the TCP netconn to setup
 512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 513:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 514:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** setup_tcp(struct netconn *conn)
 515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 341              		.loc 1 515 1 view -0
 342              		.cfi_startproc
 343              		@ args = 0, pretend = 0, frame = 0
 344              		@ frame_needed = 0, uses_anonymous_args = 0
 345              		.loc 1 515 1 is_stmt 0 view .LVU90
 346 0000 10B5     		push	{r4, lr}
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 17


 347              	.LCFI3:
 348              		.cfi_def_cfa_offset 8
 349              		.cfi_offset 4, -8
 350              		.cfi_offset 14, -4
 351 0002 0146     		mov	r1, r0
 516:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *pcb;
 352              		.loc 1 516 3 is_stmt 1 view .LVU91
 517:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   pcb = conn->pcb.tcp;
 353              		.loc 1 518 3 view .LVU92
 354              		.loc 1 518 7 is_stmt 0 view .LVU93
 355 0004 4468     		ldr	r4, [r0, #4]
 356              	.LVL38:
 519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_arg(pcb, conn);
 357              		.loc 1 519 3 is_stmt 1 view .LVU94
 358 0006 2046     		mov	r0, r4
 359              	.LVL39:
 360              		.loc 1 519 3 is_stmt 0 view .LVU95
 361 0008 FFF7FEFF 		bl	tcp_arg
 362              	.LVL40:
 520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_recv(pcb, recv_tcp);
 363              		.loc 1 520 3 is_stmt 1 view .LVU96
 364 000c 0849     		ldr	r1, .L34
 365 000e 2046     		mov	r0, r4
 366 0010 FFF7FEFF 		bl	tcp_recv
 367              	.LVL41:
 521:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_sent(pcb, sent_tcp);
 368              		.loc 1 521 3 view .LVU97
 369 0014 0749     		ldr	r1, .L34+4
 370 0016 2046     		mov	r0, r4
 371 0018 FFF7FEFF 		bl	tcp_sent
 372              	.LVL42:
 522:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_poll(pcb, poll_tcp, NETCONN_TCP_POLL_INTERVAL);
 373              		.loc 1 522 3 view .LVU98
 374 001c 0222     		movs	r2, #2
 375 001e 0649     		ldr	r1, .L34+8
 376 0020 2046     		mov	r0, r4
 377 0022 FFF7FEFF 		bl	tcp_poll
 378              	.LVL43:
 523:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_err(pcb, err_tcp);
 379              		.loc 1 523 3 view .LVU99
 380 0026 0549     		ldr	r1, .L34+12
 381 0028 2046     		mov	r0, r4
 382 002a FFF7FEFF 		bl	tcp_err
 383              	.LVL44:
 524:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 384              		.loc 1 524 1 is_stmt 0 view .LVU100
 385 002e 10BD     		pop	{r4, pc}
 386              	.LVL45:
 387              	.L35:
 388              		.loc 1 524 1 view .LVU101
 389              		.align	2
 390              	.L34:
 391 0030 00000000 		.word	recv_tcp
 392 0034 00000000 		.word	sent_tcp
 393 0038 00000000 		.word	poll_tcp
 394 003c 00000000 		.word	err_tcp
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 18


 395              		.cfi_endproc
 396              	.LFE371:
 398              		.section	.rodata.pcb_new.str1.4,"aMS",%progbits,1
 399              		.align	2
 400              	.LC6:
 401 0000 7063625F 		.ascii	"pcb_new: pcb already allocated\000"
 401      6E65773A 
 401      20706362 
 401      20616C72 
 401      65616479 
 402              		.section	.text.pcb_new,"ax",%progbits
 403              		.align	1
 404              		.syntax unified
 405              		.thumb
 406              		.thumb_func
 408              	pcb_new:
 409              	.LVL46:
 410              	.LFB373:
 525:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 526:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Accept callback function for TCP netconns.
 528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Allocates a new netconn and posts that to conn->acceptmbox.
 529:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb_listen.accept) for parameters and return value
 531:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 532:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 533:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** accept_function(void *arg, struct tcp_pcb *newpcb, err_t err)
 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 537:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 540:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->acceptmbox)) {
 542:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 544:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 545:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newpcb == NULL) {
 547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, lwip_netconn_err_to_msg(ERR_ABRT)) == ERR_OK) {
 549:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 551:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 553:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("expect newpcb == NULL or err == ERR_OK", err == ERR_OK);
 555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 556:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 557:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: newpcb->state: %s\n", tcp_debug_state_str(newpcb->s
 558:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 559:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* We have to set the callback here even though
 560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****    * the new socket is unknown. newconn->socket is marked as -1. */
 561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn = netconn_alloc(conn->type, conn->callback);
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 19


 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, lwip_netconn_err_to_msg(ERR_ABRT)) == ERR_OK) {
 565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 567:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn->pcb.tcp = newpcb;
 571:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 572:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* handle backlog counter */
 574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_backlog_delayed(newpcb);
 575:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->acceptmbox, newconn) != ERR_OK) {
 577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        so do nothing here! */
 579:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove all references to this netconn from the pcb */
 580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     struct tcp_pcb *pcb = newconn->pcb.tcp;
 581:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 582:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_recv(pcb, NULL);
 583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_sent(pcb, NULL);
 584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
 585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(pcb, NULL);
 586:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     newconn->pcb.tcp = NULL;
 588:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&newconn->recvmbox);
 590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_free(newconn);
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 597:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 599:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 600:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 601:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 602:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new pcb of a specific type.
 604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from lwip_netconn_do_newconn().
 605:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 606:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param msg the api_msg describing the connection type
 607:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 608:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 609:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** pcb_new(struct api_msg *msg)
 610:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 411              		.loc 1 610 1 is_stmt 1 view -0
 412              		.cfi_startproc
 413              		@ args = 0, pretend = 0, frame = 0
 414              		@ frame_needed = 0, uses_anonymous_args = 0
 415              		.loc 1 610 1 is_stmt 0 view .LVU103
 416 0000 38B5     		push	{r3, r4, r5, lr}
 417              	.LCFI4:
 418              		.cfi_def_cfa_offset 16
 419              		.cfi_offset 3, -16
 420              		.cfi_offset 4, -12
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 20


 421              		.cfi_offset 5, -8
 422              		.cfi_offset 14, -4
 423 0002 0446     		mov	r4, r0
 611:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum lwip_ip_addr_type iptype = IPADDR_TYPE_V4;
 424              		.loc 1 611 3 is_stmt 1 view .LVU104
 425              	.LVL47:
 612:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 613:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb_new: pcb already allocated", msg->conn->pcb.tcp == NULL);
 426              		.loc 1 613 3 view .LVU105
 427              		.loc 1 613 3 view .LVU106
 428 0004 0368     		ldr	r3, [r0]
 429 0006 5B68     		ldr	r3, [r3, #4]
 430 0008 33B1     		cbz	r3, .L37
 431              		.loc 1 613 3 discriminator 1 view .LVU107
 432              		.loc 1 613 3 discriminator 1 view .LVU108
 433 000a 1B4B     		ldr	r3, .L46
 434 000c 40F26522 		movw	r2, #613
 435 0010 1A49     		ldr	r1, .L46+4
 436 0012 1B48     		ldr	r0, .L46+8
 437              	.LVL48:
 438              		.loc 1 613 3 is_stmt 0 discriminator 1 view .LVU109
 439 0014 FFF7FEFF 		bl	printf
 440              	.LVL49:
 441              	.L37:
 442              		.loc 1 613 3 is_stmt 1 discriminator 3 view .LVU110
 443              		.loc 1 613 3 discriminator 3 view .LVU111
 614:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 615:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6 && LWIP_IPV4
 616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* IPv6: Dual-stack by default, unless netconn_set_ipv6only() is called */
 617:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(msg->conn))) {
 618:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     iptype = IPADDR_TYPE_ANY;
 619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 620:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 621:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Allocate a PCB for this connection */
 623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 444              		.loc 1 623 3 view .LVU112
 445              		.loc 1 623 11 is_stmt 0 view .LVU113
 446 0018 2568     		ldr	r5, [r4]
 447 001a 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 448 001c 03F0F003 		and	r3, r3, #240
 449              		.loc 1 623 3 view .LVU114
 450 0020 102B     		cmp	r3, #16
 451 0022 17D0     		beq	.L38
 452 0024 202B     		cmp	r3, #32
 453 0026 20D1     		bne	.L39
 624:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 625:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_RAW:
 626:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.raw = raw_new_ip_type(iptype, msg->msg.n.proto);
 627:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.raw != NULL) {
 628:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6
 629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* ICMPv6 packets should always have checksum calculated by the stack as per RFC 3542 chapt
 630:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISIPV6(msg->conn->type) && msg->conn->pcb.raw->protocol == IP6_NEXTH_ICMP6)
 631:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->pcb.raw->chksum_reqd = 1;
 632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->pcb.raw->chksum_offset = 2;
 633:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 634:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV6 */
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 21


 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         raw_recv(msg->conn->pcb.raw, recv_raw, msg->conn);
 636:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 637:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 638:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
 639:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 640:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_UDP:
 641:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.udp = udp_new_ip_type(iptype);
 454              		.loc 1 641 7 is_stmt 1 view .LVU115
 455              		.loc 1 641 28 is_stmt 0 view .LVU116
 456 0028 0020     		movs	r0, #0
 457 002a FFF7FEFF 		bl	udp_new_ip_type
 458              	.LVL50:
 459              		.loc 1 641 26 discriminator 1 view .LVU117
 460 002e 6860     		str	r0, [r5, #4]
 642:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.udp != NULL) {
 461              		.loc 1 642 7 is_stmt 1 view .LVU118
 462              		.loc 1 642 14 is_stmt 0 view .LVU119
 463 0030 2368     		ldr	r3, [r4]
 464              		.loc 1 642 25 view .LVU120
 465 0032 5A68     		ldr	r2, [r3, #4]
 466              		.loc 1 642 10 view .LVU121
 467 0034 3AB1     		cbz	r2, .L40
 643:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDPLITE
 644:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISUDPLITE(msg->conn->type)) {
 645:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_UDPLITE);
 646:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 647:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDPLITE */
 648:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISUDPNOCHKSUM(msg->conn->type)) {
 468              		.loc 1 648 9 is_stmt 1 view .LVU122
 469              		.loc 1 648 13 is_stmt 0 view .LVU123
 470 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 471              		.loc 1 648 12 view .LVU124
 472 0038 222B     		cmp	r3, #34
 473 003a 08D0     		beq	.L44
 474              	.L41:
 649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 650:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_recv(msg->conn->pcb.udp, recv_udp, msg->conn);
 475              		.loc 1 651 9 is_stmt 1 view .LVU125
 476              		.loc 1 651 21 is_stmt 0 view .LVU126
 477 003c 2268     		ldr	r2, [r4]
 478              		.loc 1 651 9 view .LVU127
 479 003e 1149     		ldr	r1, .L46+12
 480 0040 5068     		ldr	r0, [r2, #4]
 481 0042 FFF7FEFF 		bl	udp_recv
 482              	.LVL51:
 483              	.L40:
 652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 654:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 655:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_TCP:
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.tcp = tcp_new_ip_type(iptype);
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 661:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 22


 662:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Unsupported netconn type, e.g. protocol disabled */
 665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_VAL;
 666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
 667:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.ip == NULL) {
 484              		.loc 1 668 3 is_stmt 1 view .LVU128
 485              		.loc 1 668 10 is_stmt 0 view .LVU129
 486 0046 2368     		ldr	r3, [r4]
 487              		.loc 1 668 21 view .LVU130
 488 0048 5B68     		ldr	r3, [r3, #4]
 489              		.loc 1 668 6 view .LVU131
 490 004a 8BB1     		cbz	r3, .L45
 491              	.L36:
 669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_MEM;
 670:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 671:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 492              		.loc 1 671 1 view .LVU132
 493 004c 38BD     		pop	{r3, r4, r5, pc}
 494              	.LVL52:
 495              	.L44:
 649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 496              		.loc 1 649 11 is_stmt 1 view .LVU133
 497 004e 0123     		movs	r3, #1
 498 0050 1374     		strb	r3, [r2, #16]
 499 0052 F3E7     		b	.L41
 500              	.L38:
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 501              		.loc 1 657 7 view .LVU134
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 502              		.loc 1 657 28 is_stmt 0 view .LVU135
 503 0054 0020     		movs	r0, #0
 504 0056 FFF7FEFF 		bl	tcp_new_ip_type
 505              	.LVL53:
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 506              		.loc 1 657 26 discriminator 1 view .LVU136
 507 005a 6860     		str	r0, [r5, #4]
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 508              		.loc 1 658 7 is_stmt 1 view .LVU137
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 509              		.loc 1 658 14 is_stmt 0 view .LVU138
 510 005c 2068     		ldr	r0, [r4]
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 511              		.loc 1 658 25 view .LVU139
 512 005e 4368     		ldr	r3, [r0, #4]
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 513              		.loc 1 658 10 view .LVU140
 514 0060 002B     		cmp	r3, #0
 515 0062 F0D0     		beq	.L40
 659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 516              		.loc 1 659 9 is_stmt 1 view .LVU141
 517 0064 FFF7FEFF 		bl	setup_tcp
 518              	.LVL54:
 519 0068 EDE7     		b	.L40
 520              	.L39:
 665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 23


 521              		.loc 1 665 7 view .LVU142
 665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
 522              		.loc 1 665 16 is_stmt 0 view .LVU143
 523 006a FA23     		movs	r3, #250
 524 006c 2371     		strb	r3, [r4, #4]
 666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 525              		.loc 1 666 7 is_stmt 1 view .LVU144
 526 006e EDE7     		b	.L36
 527              	.L45:
 669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 528              		.loc 1 669 5 view .LVU145
 669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 529              		.loc 1 669 14 is_stmt 0 view .LVU146
 530 0070 FF23     		movs	r3, #255
 531 0072 2371     		strb	r3, [r4, #4]
 532 0074 EAE7     		b	.L36
 533              	.L47:
 534 0076 00BF     		.align	2
 535              	.L46:
 536 0078 00000000 		.word	.LC0
 537 007c 00000000 		.word	.LC6
 538 0080 40000000 		.word	.LC2
 539 0084 00000000 		.word	recv_udp
 540              		.cfi_endproc
 541              	.LFE373:
 543              		.section	.rodata.err_tcp.str1.4,"aMS",%progbits,1
 544              		.align	2
 545              	.LC7:
 546 0000 636F6E6E 		.ascii	"conn != NULL\000"
 546      20213D20 
 546      4E554C4C 
 546      00
 547 000d 000000   		.align	2
 548              	.LC8:
 549 0010 636F6E6E 		.ascii	"conn->current_msg != NULL\000"
 549      2D3E6375 
 549      7272656E 
 549      745F6D73 
 549      6720213D 
 550 002a 0000     		.align	2
 551              	.LC9:
 552 002c 696E6176 		.ascii	"inavlid op_completed_sem\000"
 552      6C696420 
 552      6F705F63 
 552      6F6D706C 
 552      65746564 
 553 0045 000000   		.align	2
 554              	.LC10:
 555 0048 636F6E6E 		.ascii	"conn->current_msg == NULL\000"
 555      2D3E6375 
 555      7272656E 
 555      745F6D73 
 555      67203D3D 
 556              		.section	.text.err_tcp,"ax",%progbits
 557              		.align	1
 558              		.syntax unified
 559              		.thumb
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 24


 560              		.thumb_func
 562              	err_tcp:
 563              	.LVL55:
 564              	.LFB370:
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 565              		.loc 1 433 1 is_stmt 1 view -0
 566              		.cfi_startproc
 567              		@ args = 0, pretend = 0, frame = 0
 568              		@ frame_needed = 0, uses_anonymous_args = 0
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 569              		.loc 1 433 1 is_stmt 0 view .LVU148
 570 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 571              	.LCFI5:
 572              		.cfi_def_cfa_offset 24
 573              		.cfi_offset 4, -24
 574              		.cfi_offset 5, -20
 575              		.cfi_offset 6, -16
 576              		.cfi_offset 7, -12
 577              		.cfi_offset 8, -8
 578              		.cfi_offset 14, -4
 579 0004 0D46     		mov	r5, r1
 434:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state old_state;
 580              		.loc 1 434 3 is_stmt 1 view .LVU149
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mbox_msg;
 581              		.loc 1 435 3 view .LVU150
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_DECL_PROTECT(lev);
 582              		.loc 1 436 3 view .LVU151
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 583              		.loc 1 437 3 view .LVU152
 439:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 584              		.loc 1 439 3 view .LVU153
 585              	.LVL56:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 586              		.loc 1 440 3 view .LVU154
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 587              		.loc 1 440 3 view .LVU155
 588 0006 0446     		mov	r4, r0
 589 0008 0028     		cmp	r0, #0
 590 000a 3ED0     		beq	.L63
 591              	.LVL57:
 592              	.L49:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 593              		.loc 1 440 3 discriminator 3 view .LVU156
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 594              		.loc 1 440 3 discriminator 3 view .LVU157
 442:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 595              		.loc 1 442 3 view .LVU158
 596 000c FFF7FEFF 		bl	sys_arch_protect
 597              	.LVL58:
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* store pending error */
 598              		.loc 1 445 3 view .LVU159
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* store pending error */
 599              		.loc 1 445 17 is_stmt 0 view .LVU160
 600 0010 0022     		movs	r2, #0
 601 0012 6260     		str	r2, [r4, #4]
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 602              		.loc 1 447 3 is_stmt 1 view .LVU161
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 25


 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 603              		.loc 1 447 21 is_stmt 0 view .LVU162
 604 0014 2572     		strb	r5, [r4, #8]
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 605              		.loc 1 449 3 is_stmt 1 view .LVU163
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 606              		.loc 1 449 7 is_stmt 0 view .LVU164
 607 0016 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 608              		.loc 1 449 15 view .LVU165
 609 0018 43F00103 		orr	r3, r3, #1
 610 001c 2377     		strb	r3, [r4, #28]
 452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 611              		.loc 1 452 3 is_stmt 1 view .LVU166
 452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 612              		.loc 1 452 13 is_stmt 0 view .LVU167
 613 001e 6678     		ldrb	r6, [r4, #1]	@ zero_extendqisi2
 614              	.LVL59:
 453:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 615              		.loc 1 453 3 is_stmt 1 view .LVU168
 453:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 616              		.loc 1 453 15 is_stmt 0 view .LVU169
 617 0020 6270     		strb	r2, [r4, #1]
 455:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 618              		.loc 1 455 3 is_stmt 1 view .LVU170
 619 0022 FFF7FEFF 		bl	sys_arch_unprotect
 620              	.LVL60:
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 621              		.loc 1 458 3 view .LVU171
 622 0026 636A     		ldr	r3, [r4, #36]
 623 0028 1BB1     		cbz	r3, .L50
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 624              		.loc 1 458 3 discriminator 1 view .LVU172
 625 002a 0022     		movs	r2, #0
 626 002c 0421     		movs	r1, #4
 627 002e 2046     		mov	r0, r4
 628 0030 9847     		blx	r3
 629              	.LVL61:
 630              	.L50:
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 631              		.loc 1 458 40 discriminator 3 view .LVU173
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 632              		.loc 1 461 3 view .LVU174
 633 0032 636A     		ldr	r3, [r4, #36]
 634 0034 1BB1     		cbz	r3, .L51
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 635              		.loc 1 461 3 discriminator 1 view .LVU175
 636 0036 0022     		movs	r2, #0
 637 0038 1146     		mov	r1, r2
 638 003a 2046     		mov	r0, r4
 639 003c 9847     		blx	r3
 640              	.LVL62:
 641              	.L51:
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 642              		.loc 1 461 42 discriminator 3 view .LVU176
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 643              		.loc 1 462 3 view .LVU177
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 26


 644 003e 636A     		ldr	r3, [r4, #36]
 645 0040 1BB1     		cbz	r3, .L52
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 646              		.loc 1 462 3 discriminator 1 view .LVU178
 647 0042 0022     		movs	r2, #0
 648 0044 0221     		movs	r1, #2
 649 0046 2046     		mov	r0, r4
 650 0048 9847     		blx	r3
 651              	.LVL63:
 652              	.L52:
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 653              		.loc 1 462 43 discriminator 3 view .LVU179
 464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
 654              		.loc 1 464 3 view .LVU180
 464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
 655              		.loc 1 464 14 is_stmt 0 view .LVU181
 656 004a 2846     		mov	r0, r5
 657 004c FFF7FEFF 		bl	lwip_netconn_err_to_msg
 658              	.LVL64:
 659 0050 0746     		mov	r7, r0
 660              	.LVL65:
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 661              		.loc 1 466 3 is_stmt 1 view .LVU182
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 662              		.loc 1 466 7 is_stmt 0 view .LVU183
 663 0052 04F11008 		add	r8, r4, #16
 664 0056 4046     		mov	r0, r8
 665              	.LVL66:
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 666              		.loc 1 466 7 view .LVU184
 667 0058 FFF7FEFF 		bl	sys_mbox_valid
 668              	.LVL67:
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 669              		.loc 1 466 6 discriminator 1 view .LVU185
 670 005c E8B9     		cbnz	r0, .L64
 671              	.L53:
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 672              		.loc 1 471 3 is_stmt 1 view .LVU186
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 673              		.loc 1 471 7 is_stmt 0 view .LVU187
 674 005e 04F11408 		add	r8, r4, #20
 675 0062 4046     		mov	r0, r8
 676 0064 FFF7FEFF 		bl	sys_mbox_valid
 677              	.LVL68:
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 678              		.loc 1 471 6 discriminator 1 view .LVU188
 679 0068 E0B9     		cbnz	r0, .L65
 680              	.L54:
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 681              		.loc 1 476 3 is_stmt 1 view .LVU189
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 682              		.loc 1 476 6 is_stmt 0 view .LVU190
 683 006a 042E     		cmp	r6, #4
 684 006c 18BF     		it	ne
 685 006e 012E     		cmpne	r6, #1
 686 0070 1DD0     		beq	.L55
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 27


 687              		.loc 1 476 68 discriminator 1 view .LVU191
 688 0072 032E     		cmp	r6, #3
 689 0074 1BD0     		beq	.L55
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 690              		.loc 1 503 5 is_stmt 1 view .LVU192
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 691              		.loc 1 503 5 view .LVU193
 692 0076 236A     		ldr	r3, [r4, #32]
 693 0078 93B3     		cbz	r3, .L48
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 694              		.loc 1 503 5 discriminator 1 view .LVU194
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 695              		.loc 1 503 5 discriminator 1 view .LVU195
 696 007a 244B     		ldr	r3, .L69
 697 007c 40F2F712 		movw	r2, #503
 698 0080 2349     		ldr	r1, .L69+4
 699 0082 2448     		ldr	r0, .L69+8
 700 0084 FFF7FEFF 		bl	printf
 701              	.LVL69:
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 702              		.loc 1 503 5 discriminator 3 view .LVU196
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 703              		.loc 1 503 5 discriminator 3 view .LVU197
 505:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 704              		.loc 1 505 1 is_stmt 0 view .LVU198
 705 0088 2AE0     		b	.L48
 706              	.LVL70:
 707              	.L63:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 708              		.loc 1 440 3 is_stmt 1 discriminator 1 view .LVU199
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 709              		.loc 1 440 3 discriminator 1 view .LVU200
 710 008a 204B     		ldr	r3, .L69
 711 008c 4FF4DC72 		mov	r2, #440
 712 0090 2149     		ldr	r1, .L69+12
 713              	.LVL71:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 714              		.loc 1 440 3 is_stmt 0 discriminator 1 view .LVU201
 715 0092 2048     		ldr	r0, .L69+8
 716              	.LVL72:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 717              		.loc 1 440 3 discriminator 1 view .LVU202
 718 0094 FFF7FEFF 		bl	printf
 719              	.LVL73:
 720 0098 B8E7     		b	.L49
 721              	.LVL74:
 722              	.L64:
 468:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 723              		.loc 1 468 5 is_stmt 1 view .LVU203
 724 009a 3946     		mov	r1, r7
 725 009c 4046     		mov	r0, r8
 726 009e FFF7FEFF 		bl	sys_mbox_trypost
 727              	.LVL75:
 728 00a2 DCE7     		b	.L53
 729              	.L65:
 473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 730              		.loc 1 473 5 view .LVU204
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 28


 731 00a4 3946     		mov	r1, r7
 732 00a6 4046     		mov	r0, r8
 733 00a8 FFF7FEFF 		bl	sys_mbox_trypost
 734              	.LVL76:
 735 00ac DDE7     		b	.L54
 736              	.L55:
 737              	.LBB2:
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 738              		.loc 1 480 5 view .LVU205
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 739              		.loc 1 480 35 is_stmt 0 view .LVU206
 740 00ae 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 741              	.LVL77:
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 742              		.loc 1 481 5 is_stmt 1 view .LVU207
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 743              		.loc 1 481 5 view .LVU208
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 744              		.loc 1 481 5 discriminator 2 view .LVU209
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 745              		.loc 1 481 5 discriminator 2 view .LVU210
 746 00b0 03F0FB02 		and	r2, r3, #251
 747 00b4 2277     		strb	r2, [r4, #28]
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 748              		.loc 1 481 5 discriminator 4 view .LVU211
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 749              		.loc 1 481 5 discriminator 4 view .LVU212
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 750              		.loc 1 483 5 view .LVU213
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 751              		.loc 1 483 8 is_stmt 0 view .LVU214
 752 00b6 13F0040F 		tst	r3, #4
 753 00ba 11D1     		bne	.L48
 754              	.LBB3:
 484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* set error return code */
 755              		.loc 1 484 7 is_stmt 1 view .LVU215
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 756              		.loc 1 486 7 view .LVU216
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 757              		.loc 1 486 7 view .LVU217
 758 00bc 236A     		ldr	r3, [r4, #32]
 759              	.LVL78:
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 760              		.loc 1 486 7 is_stmt 0 view .LVU218
 761 00be 8BB1     		cbz	r3, .L66
 762              	.L58:
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 763              		.loc 1 486 7 is_stmt 1 discriminator 3 view .LVU219
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 764              		.loc 1 486 7 discriminator 3 view .LVU220
 487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 765              		.loc 1 487 7 view .LVU221
 487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 766              		.loc 1 487 10 is_stmt 0 view .LVU222
 767 00c0 042E     		cmp	r6, #4
 768 00c2 17D0     		beq	.L67
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 29


 769              		.loc 1 492 9 is_stmt 1 view .LVU223
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 770              		.loc 1 492 13 is_stmt 0 view .LVU224
 771 00c4 236A     		ldr	r3, [r4, #32]
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 772              		.loc 1 492 32 view .LVU225
 773 00c6 1D71     		strb	r5, [r3, #4]
 774              	.L60:
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 775              		.loc 1 494 7 is_stmt 1 view .LVU226
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 776              		.loc 1 494 26 is_stmt 0 view .LVU227
 777 00c8 236A     		ldr	r3, [r4, #32]
 778 00ca 1D68     		ldr	r5, [r3]
 779              	.LVL79:
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 780              		.loc 1 494 24 view .LVU228
 781 00cc 0C35     		adds	r5, r5, #12
 782              	.LVL80:
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 783              		.loc 1 495 7 is_stmt 1 view .LVU229
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 784              		.loc 1 495 7 view .LVU230
 785 00ce 2846     		mov	r0, r5
 786 00d0 FFF7FEFF 		bl	sys_sem_valid
 787              	.LVL81:
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 788              		.loc 1 495 7 is_stmt 0 discriminator 1 view .LVU231
 789 00d4 90B1     		cbz	r0, .L68
 790              	.L61:
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 791              		.loc 1 495 7 is_stmt 1 discriminator 3 view .LVU232
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 792              		.loc 1 495 7 discriminator 3 view .LVU233
 496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 793              		.loc 1 496 7 view .LVU234
 496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 794              		.loc 1 496 25 is_stmt 0 view .LVU235
 795 00d6 0023     		movs	r3, #0
 796 00d8 2362     		str	r3, [r4, #32]
 498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 797              		.loc 1 498 7 is_stmt 1 view .LVU236
 798 00da 2846     		mov	r0, r5
 799 00dc FFF7FEFF 		bl	sys_sem_signal
 800              	.LVL82:
 801              	.L48:
 498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 802              		.loc 1 498 7 is_stmt 0 view .LVU237
 803              	.LBE3:
 804              	.LBE2:
 505:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 805              		.loc 1 505 1 view .LVU238
 806 00e0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 807              	.LVL83:
 808              	.L66:
 809              	.LBB5:
 810              	.LBB4:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 30


 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 811              		.loc 1 486 7 is_stmt 1 discriminator 1 view .LVU239
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 812              		.loc 1 486 7 discriminator 1 view .LVU240
 813 00e4 094B     		ldr	r3, .L69
 814 00e6 4FF4F372 		mov	r2, #486
 815 00ea 0C49     		ldr	r1, .L69+16
 816 00ec 0948     		ldr	r0, .L69+8
 817 00ee FFF7FEFF 		bl	printf
 818              	.LVL84:
 819 00f2 E5E7     		b	.L58
 820              	.L67:
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 821              		.loc 1 489 9 view .LVU241
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 822              		.loc 1 489 13 is_stmt 0 view .LVU242
 823 00f4 236A     		ldr	r3, [r4, #32]
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 824              		.loc 1 489 32 view .LVU243
 825 00f6 0022     		movs	r2, #0
 826 00f8 1A71     		strb	r2, [r3, #4]
 827 00fa E5E7     		b	.L60
 828              	.LVL85:
 829              	.L68:
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 830              		.loc 1 495 7 is_stmt 1 discriminator 1 view .LVU244
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 831              		.loc 1 495 7 discriminator 1 view .LVU245
 832 00fc 034B     		ldr	r3, .L69
 833 00fe 40F2EF12 		movw	r2, #495
 834 0102 0749     		ldr	r1, .L69+20
 835 0104 0348     		ldr	r0, .L69+8
 836 0106 FFF7FEFF 		bl	printf
 837              	.LVL86:
 838 010a E4E7     		b	.L61
 839              	.L70:
 840              		.align	2
 841              	.L69:
 842 010c 00000000 		.word	.LC0
 843 0110 48000000 		.word	.LC10
 844 0114 40000000 		.word	.LC2
 845 0118 00000000 		.word	.LC7
 846 011c 10000000 		.word	.LC8
 847 0120 2C000000 		.word	.LC9
 848              	.LBE4:
 849              	.LBE5:
 850              		.cfi_endproc
 851              	.LFE370:
 853              		.section	.rodata.lwip_netconn_do_connected.str1.4,"aMS",%progbits,1
 854              		.align	2
 855              	.LC11:
 856 0000 636F6E6E 		.ascii	"conn->state == NETCONN_CONNECT\000"
 856      2D3E7374 
 856      61746520 
 856      3D3D204E 
 856      4554434F 
 857 001f 00       		.align	2
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 31


 858              	.LC12:
 859 0020 28636F6E 		.ascii	"(conn->current_msg != NULL) || conn->in_non_blockin"
 859      6E2D3E63 
 859      75727265 
 859      6E745F6D 
 859      73672021 
 860 0053 675F636F 		.ascii	"g_connect\000"
 860      6E6E6563 
 860      7400
 861 005d 000000   		.align	2
 862              	.LC13:
 863 0060 626C6F63 		.ascii	"blocking connect state error\000"
 863      6B696E67 
 863      20636F6E 
 863      6E656374 
 863      20737461 
 864              		.section	.text.lwip_netconn_do_connected,"ax",%progbits
 865              		.align	1
 866              		.syntax unified
 867              		.thumb
 868              		.thumb_func
 870              	lwip_netconn_do_connected:
 871              	.LVL87:
 872              	.LFB382:
 672:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 673:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 674:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new pcb of a specific type inside a netconn.
 675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_new_with_proto_and_callback.
 676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg describing the connection type
 678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 679:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_newconn(void *m)
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 682:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 683:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 687:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Else? This "new" connection already has a PCB allocated. */
 689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Is this an error condition? Should it be deleted? */
 690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* We currently just are happy and return. */
 691:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 694:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 695:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new netconn (of a specific type) that has a callback function.
 697:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The corresponding pcb is NOT created!
 698:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param t the type of 'connection' to create (@see enum netconn_type)
 700:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param callback a function to call on status changes (RX available, TX'ed)
 701:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @return a newly allocated struct netconn or
 702:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *         NULL on memory error
 703:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 704:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** struct netconn *
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 32


 705:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_alloc(enum netconn_type t, netconn_callback callback)
 706:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int size;
 709:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t init_flags = 0;
 710:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)memp_malloc(MEMP_NETCONN);
 712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 715:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pending_err = ERR_OK;
 717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 719:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* If all sizes are the same, every compiler should optimize this switch to nothing */
 721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (NETCONNTYPE_GROUP(t)) {
 722:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_RAW:
 724:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size = DEFAULT_RAW_RECVMBOX_SIZE;
 725:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 726:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
 727:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 728:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_UDP:
 729:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size = DEFAULT_UDP_RECVMBOX_SIZE;
 730:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETBUF_RECVINFO
 731:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       init_flags |= NETCONN_FLAG_PKTINFO;
 732:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETBUF_RECVINFO */
 733:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 734:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 735:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_TCP:
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size = DEFAULT_TCP_RECVMBOX_SIZE;
 738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 739:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("netconn_alloc: undefined netconn_type", 0);
 742:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 743:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 744:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_new(&conn->recvmbox, size) != ERR_OK) {
 746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 748:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_sem_new(&conn->op_completed, 0) != ERR_OK) {
 750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 753:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 754:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 755:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 756:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_mbox_set_invalid(&conn->acceptmbox);
 757:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state        = NETCONN_NONE;
 759:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 760:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* initialize socket to -1 since 0 is a valid socket */
 761:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->socket       = -1;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 33


 762:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->callback     = callback;
 764:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->current_msg  = NULL;
 766:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 767:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
 768:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->send_timeout = 0;
 769:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
 770:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVTIMEO
 771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_timeout = 0;
 772:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVTIMEO */
 773:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_bufsize = RECV_BUFSIZE_DEFAULT;
 775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_avail   = 0;
 776:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 777:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->linger = -1;
 779:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags = init_flags;
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 782:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return NULL;
 785:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 786:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 787:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete a netconn and all its resources.
 789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The pcb is NOT freed (since we might not be in the right thread context do this).
 790:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 791:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the netconn to free
 792:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 793:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
 794:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_free(struct netconn *conn)
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 797:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 798:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* in fullduplex, netconn is drained here */
 800:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netconn_drain(conn);
 801:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 802:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 804:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 805:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("acceptmbox must be deallocated before calling this function",
 807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 808:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 809:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 810:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_free(&conn->op_completed);
 812:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 813:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 817:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 818:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 34


 819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete rcvmbox and acceptmbox of a netconn and free the left-over data in
 820:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * these mboxes
 821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 822:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the netconn to free
 823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @bytes_drained bytes drained from recvmbox
 824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @accepts_drained pending connections drained from acceptmbox
 825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 826:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 827:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_drain(struct netconn *conn)
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 830:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* This runs when mbox and netconn are marked as closed,
 832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      so we don't need to lock against rx packets */
 833:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn marked closed", conn->flags & NETCONN_FLAG_MBOXINVALID);
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Delete and drain the recvmbox. */
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->recvmbox)) {
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 840:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (!lwip_netconn_is_deallocated_msg(mem))
 842:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       {
 844:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) {
 846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!lwip_netconn_is_err_msg(mem, &err)) {
 848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 849:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 850:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else
 851:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 852:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         {
 853:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           netbuf_delete((struct netbuf *)mem);
 854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 855:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 856:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 858:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 859:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 860:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 861:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Delete and drain the acceptmbox. */
 862:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->acceptmbox)) {
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 865:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 866:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (!lwip_netconn_is_deallocated_msg(mem))
 867:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 868:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       {
 869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err_t err;
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (!lwip_netconn_is_err_msg(mem, &err)) {
 871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* pcb might be set to NULL already by err_tcp() */
 874:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* drain recvmbox */
 875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           netconn_drain(newconn);
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 35


 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (newconn->pcb.tcp != NULL) {
 877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             newconn->pcb.tcp = NULL;
 879:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           netconn_free(newconn);
 881:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 882:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 883:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->acceptmbox);
 885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 886:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 887:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 888:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 889:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 890:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 891:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 892:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_mark_mbox_invalid(struct netconn *conn)
 893:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 894:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int i, num_waiting;
 895:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *msg = LWIP_CONST_CAST(void *, &netconn_deleted);
 896:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Prevent new calls/threads from reading from the mbox */
 898:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags |= NETCONN_FLAG_MBOXINVALID;
 899:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_LOCKED(num_waiting = conn->mbox_threads_waiting);
 901:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   for (i = 0; i < num_waiting; i++) {
 902:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_valid_val(conn->recvmbox)) {
 903:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_mbox_trypost(&conn->recvmbox, msg);
 904:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 905:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_mbox_trypost(&conn->acceptmbox, msg);
 906:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 908:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 909:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 910:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 911:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 912:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 913:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Internal helper function to close a TCP netconn: since this sometimes
 914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * doesn't work at the first attempt, this function is called from multiple
 915:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * places.
 916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 917:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the TCP netconn to close
 918:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 919:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 920:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM)
 921:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t shut, shut_rx, shut_tx, shut_close;
 924:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t close_finished = 0;
 925:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *tpcb;
 926:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 927:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t linger_wait_required = 0;
 928:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 929:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("invalid conn", (conn != NULL));
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 36


 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 935:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tpcb = conn->pcb.tcp;
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 938:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 940:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 941:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      (also if RD or WR side was shut down before already) */
 942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut == NETCONN_SHUT_RDWR) {
 943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_rx &&
 945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 947:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_tx && ((tpcb->flags & TF_RXCLOSED) != 0)) {
 950:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 951:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 0;
 953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 954:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 955:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Set back some callback pointers */
 956:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut_close) {
 957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, NULL);
 958:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (tpcb->state == LISTEN) {
 960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 961:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 962:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* some callbacks have to be reset if tcp_close is not successful */
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_rx) {
 964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 969:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_close) {
 971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 972:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_err(tpcb, NULL);
 973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 974:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to close the connection */
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut_close) {
 977:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* check linger possibilites before calling tcp_close */
 979:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 980:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* linger enabled/required at all? (i.e. is there untransmitted data left?) */
 981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->linger >= 0) && (conn->pcb.tcp->unsent || conn->pcb.tcp->unacked)) {
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->linger == 0)) {
 983:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* data left but linger prevents waiting */
 984:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_abort(tpcb);
 985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tpcb = NULL;
 986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (conn->linger > 0) {
 987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* data left and linger says we should wait */
 988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (netconn_is_nonblocking(conn)) {
 989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left on a nonblocking netconn -> cannot linger */
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 37


 990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_WOULDBLOCK;
 991:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >=
 992:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    (conn->linger * 1000)) {
 993:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left but linger timeout has expired (this happens on further
 994:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              calls to this function through poll_tcp */
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(tpcb);
 996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tpcb = NULL;
 997:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 998:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left -> need to wait for ACK after successful close */
 999:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           linger_wait_required = 1;
1000:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1001:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1002:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1003:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((err == ERR_OK) && (tpcb != NULL))
1004:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
1005:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = tcp_close(tpcb);
1007:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1008:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_shutdown(tpcb, shut_rx, shut_tx);
1010:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1011:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
1012:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
1013:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
1014:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (linger_wait_required) {
1015:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wait for ACK of all unsent/unacked data by just getting called again */
1016:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       close_finished = 0;
1017:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_INPROGRESS;
1018:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1019:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
1020:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_MEM) {
1022:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
1023:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          nonblocking netconns, we have to wait since no standard socket application
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          is prepared for close failing because of resource shortage.
1025:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          Check the timeout: this is kind of an lwip addition to the standard sockets:
1026:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          we wait for some time when failing to allocate a segment for the FIN */
1027:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO || LWIP_SO_LINGER
1028:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       s32_t close_timeout = LWIP_TCP_CLOSE_TIMEOUT_MS_DEFAULT;
1029:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
1030:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->send_timeout > 0) {
1031:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_timeout = conn->send_timeout;
1032:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1033:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
1034:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
1035:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->linger >= 0) {
1036:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* use linger timeout (seconds) */
1037:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_timeout = conn->linger * 1000U;
1038:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1039:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1040:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >= close_timeout) {
1041:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->current_msg->msg.sd.polls_left == 0) {
1043:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_finished = 1;
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (shut_close) {
1046:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 38


1047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(tpcb);
1048:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_OK;
1049:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1050:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1051:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1052:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed for a non-memory error: give up */
1053:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       close_finished = 1;
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1055:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (close_finished) {
1057:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_t *op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
1059:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
1061:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
1063:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_close) {
1064:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
1065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->pcb.tcp = NULL;
1066:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
1067:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          on the connection, error first! */
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_ERROR, 0);
1069:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_rx) {
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
1072:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1073:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_tx) {
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
1075:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1077:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (delayed)
1079:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1080:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1081:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the application task */
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_OK;
1085:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1086:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!close_finished) {
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing failed and we want to wait: restore some of the callbacks */
1088:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing of listen pcb will never fail! */
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("Closing a listen pcb may not fail!", (tpcb->state != LISTEN));
1090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
1091:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
1092:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1093:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* when waiting for close, set up poll interval to 500ms */
1094:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(tpcb, poll_tcp, 1);
1095:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
1096:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, conn);
1097:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
1098:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1099:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* If closing didn't succeed, we get called again either
1100:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      from poll_tcp or from sent_tcp */
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK", err != ERR_OK);
1102:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
1103:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 39


1104:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1105:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1106:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1107:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete the pcb inside a netconn.
1108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_delete.
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1110:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1111:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1112:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1113:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_delconn(void *m)
1114:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1115:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1116:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
1119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
1120:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* In full duplex mode, blocking write/connect is aborted with ERR_CLSD */
1122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (state != NETCONN_NONE) {
1123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((state == NETCONN_WRITE) ||
1124:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* close requested, abort running write/connect */
1126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
1127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1128:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg->err = ERR_CLSD;
1130:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = NULL;
1131:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_NONE;
1132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1134:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1135:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (((state != NETCONN_NONE) &&
1137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
1138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
1141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (nonblocking write returns and sets state to NONE) */
1142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_INPROGRESS;
1143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1144:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1145:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("blocking connect in progress",
1147:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
1148:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
1149:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1150:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Mark mboxes invalid */
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_mark_mbox_invalid(msg->conn);
1152:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1153:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_drain(msg->conn);
1154:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1155:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1157:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1159:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_RAW:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 40


1161:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           raw_remove(msg->conn->pcb.raw);
1162:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1163:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1164:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1165:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_UDP:
1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->pcb.udp->recv_arg = NULL;
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
1168:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1169:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1170:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1171:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_TCP:
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
1174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->current_msg = msg;
1176:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
1179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
1183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1184:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1185:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           lwip_netconn_do_close_internal(msg->conn);
1186:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1187:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* API_EVENT is called inside lwip_netconn_do_close_internal, before releasing
1188:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              the application thread, so we can return at this point! */
1189:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           return;
1190:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1191:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         default:
1192:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1193:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.tcp = NULL;
1195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1196:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* tcp netconns don't come here! */
1197:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1198:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* @todo: this lets select make the socket readable and writable,
1199:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        which is wrong! errfd instead? */
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_RCVPLUS, 0);
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
1202:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_sem_valid(LWIP_API_MSG_SEM(msg))) {
1204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
1205:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1206:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1207:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1208:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1209:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Bind a pcb contained in a netconn
1210:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_bind.
1211:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1212:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to bind to
1214:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1215:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1216:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_bind(void *m)
1217:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 41


1218:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1219:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1223:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1224:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1225:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = raw_bind(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1226:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1227:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1228:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = udp_bind(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
1231:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1232:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1233:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = tcp_bind(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
1236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1237:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1238:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1239:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_VAL;
1240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1241:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_VAL;
1244:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1246:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1248:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Bind a pcb contained in a netconn to an interface
1250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_bind_if.
1251:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1252:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to bind to
1254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1255:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1256:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_bind_if(void *m)
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netif *netif;
1259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1260:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1261:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netif = netif_get_by_index(msg->msg.bc.if_idx);
1263:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((netif != NULL) && (msg->conn->pcb.tcp != NULL)) {
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1267:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1268:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1269:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         raw_bind_netif(msg->conn->pcb.raw, netif);
1270:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1271:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_bind_netif(msg->conn->pcb.udp, netif);
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 42


1275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1276:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1277:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1278:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_bind_netif(msg->conn->pcb.tcp, netif);
1280:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1281:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1282:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1283:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_VAL;
1284:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1285:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1286:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_VAL;
1288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1291:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1292:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1293:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1294:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * TCP callback function if a connection (opened by tcp_connect/lwip_netconn_do_connect) has
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * been established (or reset by the remote host).
1297:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1298:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.connected) for parameters and return values
1299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1300:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
1301:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_connected(void *arg, struct tcp_pcb *pcb, err_t err)
1302:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 873              		.loc 1 1302 1 view -0
 874              		.cfi_startproc
 875              		@ args = 0, pretend = 0, frame = 0
 876              		@ frame_needed = 0, uses_anonymous_args = 0
1303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 877              		.loc 1 1303 3 view .LVU247
1304:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int was_blocking;
 878              		.loc 1 1304 3 view .LVU248
1305:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_t *op_completed_sem = NULL;
 879              		.loc 1 1305 3 view .LVU249
1306:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 880              		.loc 1 1307 3 view .LVU250
1308:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1309:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 881              		.loc 1 1309 3 view .LVU251
1310:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 882              		.loc 1 1311 3 view .LVU252
 883              		.loc 1 1311 6 is_stmt 0 view .LVU253
 884 0000 0028     		cmp	r0, #0
 885 0002 5DD0     		beq	.L79
1302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 886              		.loc 1 1302 1 view .LVU254
 887 0004 70B5     		push	{r4, r5, r6, lr}
 888              	.LCFI6:
 889              		.cfi_def_cfa_offset 16
 890              		.cfi_offset 4, -16
 891              		.cfi_offset 5, -12
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 43


 892              		.cfi_offset 6, -8
 893              		.cfi_offset 14, -4
 894 0006 1646     		mov	r6, r2
 895 0008 0446     		mov	r4, r0
1312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
1313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1314:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_CONNECT", conn->state == NETCONN_CONNECT);
 896              		.loc 1 1315 3 is_stmt 1 view .LVU255
 897              		.loc 1 1315 3 view .LVU256
 898 000a 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 899 000c 032B     		cmp	r3, #3
 900 000e 30D1     		bne	.L85
 901              	.LVL88:
 902              	.L73:
 903              		.loc 1 1315 3 discriminator 3 view .LVU257
 904              		.loc 1 1315 3 discriminator 3 view .LVU258
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 905              		.loc 1 1316 3 view .LVU259
 906              		.loc 1 1316 3 view .LVU260
 907 0010 236A     		ldr	r3, [r4, #32]
 908 0012 002B     		cmp	r3, #0
 909 0014 35D0     		beq	.L86
 910              	.L74:
 911              		.loc 1 1316 3 discriminator 5 view .LVU261
 912              		.loc 1 1316 3 discriminator 5 view .LVU262
1317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
1318:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->current_msg != NULL) {
 913              		.loc 1 1319 3 view .LVU263
 914              		.loc 1 1319 11 is_stmt 0 view .LVU264
 915 0016 256A     		ldr	r5, [r4, #32]
 916              		.loc 1 1319 6 view .LVU265
 917 0018 1DB1     		cbz	r5, .L75
1320:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 918              		.loc 1 1320 5 is_stmt 1 view .LVU266
 919              		.loc 1 1320 28 is_stmt 0 view .LVU267
 920 001a 2E71     		strb	r6, [r5, #4]
1321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 921              		.loc 1 1321 5 is_stmt 1 view .LVU268
 922              		.loc 1 1321 24 is_stmt 0 view .LVU269
 923 001c 236A     		ldr	r3, [r4, #32]
 924 001e 1D68     		ldr	r5, [r3]
 925              		.loc 1 1321 22 view .LVU270
 926 0020 0C35     		adds	r5, r5, #12
 927              	.LVL89:
 928              	.L75:
1322:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) && (err == ERR_OK)) {
 929              		.loc 1 1323 3 is_stmt 1 view .LVU271
 930              		.loc 1 1323 8 is_stmt 0 view .LVU272
 931 0022 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 932              		.loc 1 1323 6 view .LVU273
 933 0024 03F0F003 		and	r3, r3, #240
 934 0028 102B     		cmp	r3, #16
 935 002a 36D0     		beq	.L87
 936              	.L76:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 44


1324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     setup_tcp(conn);
1325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1326:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   was_blocking = !IN_NONBLOCKING_CONNECT(conn);
 937              		.loc 1 1326 3 is_stmt 1 view .LVU274
 938              		.loc 1 1326 19 is_stmt 0 view .LVU275
 939 002c 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 940 002e 03F00406 		and	r6, r3, #4
 941              	.LVL90:
 942              		.loc 1 1326 18 view .LVU276
 943 0032 002E     		cmp	r6, #0
 944 0034 0CBF     		ite	eq
 945 0036 0122     		moveq	r2, #1
 946 0038 0022     		movne	r2, #0
 947              	.LVL91:
1327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SET_NONBLOCKING_CONNECT(conn, 0);
 948              		.loc 1 1327 3 is_stmt 1 view .LVU277
 949              		.loc 1 1327 3 view .LVU278
 950              		.loc 1 1327 3 discriminator 2 view .LVU279
 951              		.loc 1 1327 3 discriminator 2 view .LVU280
 952 003a 03F0FB03 		and	r3, r3, #251
 953 003e 2377     		strb	r3, [r4, #28]
 954              		.loc 1 1327 3 discriminator 4 view .LVU281
 955              		.loc 1 1327 3 discriminator 4 view .LVU282
1328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("blocking connect state error",
 956              		.loc 1 1328 3 view .LVU283
 957              		.loc 1 1328 3 view .LVU284
 958 0040 14BF     		ite	ne
 959 0042 0123     		movne	r3, #1
 960 0044 0023     		moveq	r3, #0
 961 0046 002D     		cmp	r5, #0
 962 0048 08BF     		it	eq
 963 004a 43F00103 		orreq	r3, r3, #1
 964 004e 23B1     		cbz	r3, .L77
 965              		.loc 1 1328 3 is_stmt 0 discriminator 1 view .LVU285
 966 0050 002D     		cmp	r5, #0
 967 0052 18BF     		it	ne
 968 0054 42F00102 		orrne	r2, r2, #1
 969              	.LVL92:
 970              		.loc 1 1328 3 discriminator 1 view .LVU286
 971 0058 2ABB     		cbnz	r2, .L88
 972              	.L77:
 973              		.loc 1 1328 3 is_stmt 1 discriminator 5 view .LVU287
 974              		.loc 1 1328 3 discriminator 5 view .LVU288
1329:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (was_blocking && op_completed_sem != NULL) ||
1330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (!was_blocking && op_completed_sem == NULL));
1331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->current_msg = NULL;
 975              		.loc 1 1331 3 view .LVU289
 976              		.loc 1 1331 21 is_stmt 0 view .LVU290
 977 005a 0023     		movs	r3, #0
 978 005c 2362     		str	r3, [r4, #32]
1332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 979              		.loc 1 1332 3 is_stmt 1 view .LVU291
 980              		.loc 1 1332 15 is_stmt 0 view .LVU292
 981 005e 6370     		strb	r3, [r4, #1]
1333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 982              		.loc 1 1333 3 is_stmt 1 view .LVU293
 983 0060 636A     		ldr	r3, [r4, #36]
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 45


 984 0062 1BB1     		cbz	r3, .L78
 985              		.loc 1 1333 3 discriminator 1 view .LVU294
 986 0064 0022     		movs	r2, #0
 987 0066 0221     		movs	r1, #2
 988 0068 2046     		mov	r0, r4
 989 006a 9847     		blx	r3
 990              	.LVL93:
 991              	.L78:
 992              		.loc 1 1333 43 discriminator 3 view .LVU295
1334:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1335:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (was_blocking) {
 993              		.loc 1 1335 3 view .LVU296
 994              		.loc 1 1335 6 is_stmt 0 view .LVU297
 995 006c 1EB3     		cbz	r6, .L89
1336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_signal(op_completed_sem);
1337:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1338:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 996              		.loc 1 1338 10 view .LVU298
 997 006e 0020     		movs	r0, #0
 998              	.L72:
1339:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 999              		.loc 1 1339 1 view .LVU299
 1000 0070 70BD     		pop	{r4, r5, r6, pc}
 1001              	.LVL94:
 1002              	.L85:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1003              		.loc 1 1315 3 is_stmt 1 discriminator 1 view .LVU300
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1004              		.loc 1 1315 3 discriminator 1 view .LVU301
 1005 0072 154B     		ldr	r3, .L90
 1006 0074 40F22352 		movw	r2, #1315
 1007              	.LVL95:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1008              		.loc 1 1315 3 is_stmt 0 discriminator 1 view .LVU302
 1009 0078 1449     		ldr	r1, .L90+4
 1010              	.LVL96:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1011              		.loc 1 1315 3 discriminator 1 view .LVU303
 1012 007a 1548     		ldr	r0, .L90+8
 1013              	.LVL97:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1014              		.loc 1 1315 3 discriminator 1 view .LVU304
 1015 007c FFF7FEFF 		bl	printf
 1016              	.LVL98:
 1017 0080 C6E7     		b	.L73
 1018              	.L86:
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 1019              		.loc 1 1316 3 discriminator 1 view .LVU305
 1020 0082 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 1021 0084 13F0040F 		tst	r3, #4
 1022 0088 C5D1     		bne	.L74
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 1023              		.loc 1 1316 3 is_stmt 1 discriminator 3 view .LVU306
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 1024              		.loc 1 1316 3 discriminator 3 view .LVU307
 1025 008a 0F4B     		ldr	r3, .L90
 1026 008c 40F22452 		movw	r2, #1316
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 46


 1027 0090 1049     		ldr	r1, .L90+12
 1028 0092 0F48     		ldr	r0, .L90+8
 1029 0094 FFF7FEFF 		bl	printf
 1030              	.LVL99:
 1031 0098 BDE7     		b	.L74
 1032              	.LVL100:
 1033              	.L87:
1323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     setup_tcp(conn);
 1034              		.loc 1 1323 54 is_stmt 0 discriminator 1 view .LVU308
 1035 009a 002E     		cmp	r6, #0
 1036 009c C6D1     		bne	.L76
1324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1037              		.loc 1 1324 5 is_stmt 1 view .LVU309
 1038 009e 2046     		mov	r0, r4
 1039 00a0 FFF7FEFF 		bl	setup_tcp
 1040              	.LVL101:
 1041 00a4 C2E7     		b	.L76
 1042              	.LVL102:
 1043              	.L88:
1328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (was_blocking && op_completed_sem != NULL) ||
 1044              		.loc 1 1328 3 discriminator 3 view .LVU310
1328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (was_blocking && op_completed_sem != NULL) ||
 1045              		.loc 1 1328 3 discriminator 3 view .LVU311
 1046 00a6 084B     		ldr	r3, .L90
 1047 00a8 4FF4A662 		mov	r2, #1328
 1048 00ac 0A49     		ldr	r1, .L90+16
 1049 00ae 0848     		ldr	r0, .L90+8
 1050 00b0 FFF7FEFF 		bl	printf
 1051              	.LVL103:
 1052 00b4 D1E7     		b	.L77
 1053              	.L89:
1336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1054              		.loc 1 1336 5 view .LVU312
 1055 00b6 2846     		mov	r0, r5
 1056 00b8 FFF7FEFF 		bl	sys_sem_signal
 1057              	.LVL104:
1338:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1058              		.loc 1 1338 10 is_stmt 0 view .LVU313
 1059 00bc 0020     		movs	r0, #0
 1060 00be D7E7     		b	.L72
 1061              	.LVL105:
 1062              	.L79:
 1063              	.LCFI7:
 1064              		.cfi_def_cfa_offset 0
 1065              		.cfi_restore 4
 1066              		.cfi_restore 5
 1067              		.cfi_restore 6
 1068              		.cfi_restore 14
1312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1069              		.loc 1 1312 12 view .LVU314
 1070 00c0 6FF00500 		mvn	r0, #5
 1071              	.LVL106:
 1072              		.loc 1 1339 1 view .LVU315
 1073 00c4 7047     		bx	lr
 1074              	.L91:
 1075 00c6 00BF     		.align	2
 1076              	.L90:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 47


 1077 00c8 00000000 		.word	.LC0
 1078 00cc 00000000 		.word	.LC11
 1079 00d0 40000000 		.word	.LC2
 1080 00d4 20000000 		.word	.LC12
 1081 00d8 60000000 		.word	.LC13
 1082              		.cfi_endproc
 1083              	.LFE382:
 1085              		.section	.rodata.lwip_netconn_do_writemore.str1.4,"aMS",%progbits,1
 1086              		.align	2
 1087              	.LC14:
 1088 0000 636F6E6E 		.ascii	"conn->state == NETCONN_WRITE\000"
 1088      2D3E7374 
 1088      61746520 
 1088      3D3D204E 
 1088      4554434F 
 1089 001d 000000   		.align	2
 1090              	.LC15:
 1091 0020 636F6E6E 		.ascii	"conn->pcb.tcp != NULL\000"
 1091      2D3E7063 
 1091      622E7463 
 1091      7020213D 
 1091      204E554C 
 1092 0036 0000     		.align	2
 1093              	.LC16:
 1094 0038 636F6E6E 		.ascii	"conn->current_msg->msg.w.offset < conn->current_msg"
 1094      2D3E6375 
 1094      7272656E 
 1094      745F6D73 
 1094      672D3E6D 
 1095 006b 2D3E6D73 		.ascii	"->msg.w.len\000"
 1095      672E772E 
 1095      6C656E00 
 1096 0077 00       		.align	2
 1097              	.LC17:
 1098 0078 636F6E6E 		.ascii	"conn->current_msg->msg.w.vector_cnt > 0\000"
 1098      2D3E6375 
 1098      7272656E 
 1098      745F6D73 
 1098      672D3E6D 
 1099              		.align	2
 1100              	.LC18:
 1101 00a0 6C776970 		.ascii	"lwip_netconn_do_writemore: invalid length!\000"
 1101      5F6E6574 
 1101      636F6E6E 
 1101      5F646F5F 
 1101      77726974 
 1102              		.section	.text.lwip_netconn_do_writemore,"ax",%progbits
 1103              		.align	1
 1104              		.syntax unified
 1105              		.thumb
 1106              		.thumb_func
 1108              	lwip_netconn_do_writemore:
 1109              	.LVL107:
 1110              	.LFB388:
1340:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1341:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1342:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 48


1343:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Connect a pcb contained inside a netconn
1344:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_connect.
1345:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1347:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to connect to
1348:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1349:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1350:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_connect(void *m)
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1353:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1354:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
1356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
1357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_CLSD;
1358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1360:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = raw_connect(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1363:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1364:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1365:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = udp_connect(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
1368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1369:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1370:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1371:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Prevent connect while doing any other action. */
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->state == NETCONN_CONNECT) {
1374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if (msg->conn->state != NETCONN_NONE) {
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ISCONN;
1377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           setup_tcp(msg->conn);
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (err == ERR_OK) {
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = ERR_INPROGRESS;
1387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->current_msg = msg;
1389:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
1390:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  when the connection is established! */
1391:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state == NETCONN_CONNECT);
1393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
1397:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               return;
1399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 49


1400:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1401:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1404:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ERROR("Invalid netconn type", 0, do {
1406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
1407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } while (0));
1408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1410:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1412:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
1413:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      so use TCPIP_APIMSG_ACK() here. */
1414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1415:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1416:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1417:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1418:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Disconnect a pcb contained inside a netconn
1419:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Only used for UDP netconns.
1420:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_disconnect.
1421:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection to disconnect
1423:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1424:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1425:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_disconnect(void *m)
1426:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1427:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1428:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1429:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_UDP) {
1431:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
1432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
1433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1434:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_VAL;
1437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1439:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1441:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1442:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1443:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Set a TCP pcb contained in a netconn into listen mode
1444:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_listen.
1445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1446:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1448:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_listen(void *m)
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1453:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 50


1457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->pcb.tcp->state != CLOSED) {
1459:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
1460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1462:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           u8_t backlog;
1463:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           backlog = msg->msg.lb.backlog;
1465:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else  /* TCP_LISTEN_BACKLOG */
1466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           backlog = TCP_DEFAULT_LISTEN_BACKLOG;
1467:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1468:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV4 && LWIP_IPV6
1469:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* "Socket API like" dual-stack support: If IP to listen to is IP6_ADDR_ANY,
1470:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             * and NETCONN_FLAG_IPV6_V6ONLY is NOT set, use IP_ANY_TYPE to listen
1471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             */
1472:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_cmp(&msg->conn->pcb.ip->local_ip, IP6_ADDR_ANY) &&
1473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (netconn_get_ipv6only(msg->conn) == 0)) {
1474:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* change PCB type to IPADDR_TYPE_ANY */
1475:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             IP_SET_TYPE_VAL(msg->conn->pcb.tcp->local_ip,  IPADDR_TYPE_ANY);
1476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             IP_SET_TYPE_VAL(msg->conn->pcb.tcp->remote_ip, IPADDR_TYPE_ANY);
1477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1478:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1479:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           lpcb = tcp_listen_with_backlog_and_err(msg->conn->pcb.tcp, backlog, &err);
1481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1482:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (lpcb == NULL) {
1483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
1484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* delete the recvmbox and allocate the acceptmbox */
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (sys_mbox_valid(&msg->conn->recvmbox)) {
1487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_free(&msg->conn->recvmbox);
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
1490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = ERR_OK;
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
1494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (err == ERR_OK) {
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
1500:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
1501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* since the old pcb is already deallocated, free lpcb now */
1502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_close(lpcb);
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = NULL;
1504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1505:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1506:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->state == NETCONN_LISTEN) {
1508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* already listening, allow updating of the backlog */
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_OK;
1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
1511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_CONN;
1513:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 51


1514:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_ARG;
1516:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1517:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_CONN;
1519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1521:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1522:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1523:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1524:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1525:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1526:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Send some data on a RAW or UDP pcb contained in a netconn
1527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_send
1528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1529:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1531:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1532:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_send(void *m)
1533:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1535:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err = netconn_err(msg->conn);
1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1540:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_RAW:
1542:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = raw_send(msg->conn->pcb.raw, msg->msg.b->p);
1544:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1545:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = raw_sendto(msg->conn->pcb.raw, msg->msg.b->p, &msg->msg.b->addr);
1546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1548:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1549:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_UDP:
1551:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_CHECKSUM_ON_COPY
1552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1553:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                   msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chksum
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1556:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_sendto_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1557:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                     &msg->msg.b->addr, msg->msg.b->port,
1558:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                     msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chks
1559:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_CHECKSUM_ON_COPY */
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_isany_val(msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
1563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_sendto(msg->conn->pcb.udp, msg->msg.b->p, &msg->msg.b->addr, msg->msg.b->port
1565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1566:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1567:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1568:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         default:
1570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_CONN;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 52


1571:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1572:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_CONN;
1575:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1579:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1580:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1581:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1582:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Indicate data has been received from a TCP pcb contained in a netconn
1584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_recv
1585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1586:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1588:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1589:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_recv(void *m)
1590:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1592:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
1597:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         u16_t recved = (u16_t)((remaining > 0xffff) ? 0xffff : remaining);
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
1600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
1602:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1606:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1607:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1608:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /** Indicate that a TCP pcb has been accepted
1609:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_accept
1610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1611:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1612:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1613:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1614:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_accepted(void *m)
1615:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1617:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1618:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
1619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1620:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1621:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_backlog_accepted(msg->conn->pcb.tcp);
1622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1624:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1625:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1626:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 53


1628:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * See if more data needs to be written from a previous call to netconn_write.
1630:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called initially from lwip_netconn_do_write. If the first call can't send all data
1631:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * (because of low memory or empty send-buffer), this function is called again
1632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * from sent_tcp() or poll_tcp() to send more data. If all data is sent, the
1633:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * blocking application thread (waiting in netconn_write) is released.
1634:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1635:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn netconn (that is currently in state NETCONN_WRITE) to process
1636:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @return ERR_OK
1637:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *         ERR_MEM if LWIP_TCPIP_CORE_LOCKING=1 and sending hasn't yet finished
1638:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1639:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
1640:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM)
1641:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 1111              		.loc 1 1641 1 is_stmt 1 view -0
 1112              		.cfi_startproc
 1113              		@ args = 0, pretend = 0, frame = 0
 1114              		@ frame_needed = 0, uses_anonymous_args = 0
 1115              		.loc 1 1641 1 is_stmt 0 view .LVU317
 1116 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1117              	.LCFI8:
 1118              		.cfi_def_cfa_offset 40
 1119              		.cfi_offset 3, -40
 1120              		.cfi_offset 4, -36
 1121              		.cfi_offset 5, -32
 1122              		.cfi_offset 6, -28
 1123              		.cfi_offset 7, -24
 1124              		.cfi_offset 8, -20
 1125              		.cfi_offset 9, -16
 1126              		.cfi_offset 10, -12
 1127              		.cfi_offset 11, -8
 1128              		.cfi_offset 14, -4
 1129 0004 8B46     		mov	fp, r1
1642:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 1130              		.loc 1 1642 3 is_stmt 1 view .LVU318
1643:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   const void *dataptr;
 1131              		.loc 1 1643 3 view .LVU319
1644:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len, available;
 1132              		.loc 1 1644 3 view .LVU320
1645:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t write_finished = 0;
 1133              		.loc 1 1645 3 view .LVU321
 1134              	.LVL108:
1646:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   size_t diff;
 1135              		.loc 1 1646 3 view .LVU322
1647:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t dontblock;
 1136              		.loc 1 1647 3 view .LVU323
1648:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t apiflags;
 1137              		.loc 1 1648 3 view .LVU324
1649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t write_more;
 1138              		.loc 1 1649 3 view .LVU325
1650:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", conn != NULL);
 1139              		.loc 1 1651 3 view .LVU326
 1140              		.loc 1 1651 3 view .LVU327
 1141 0006 0546     		mov	r5, r0
 1142 0008 E0B1     		cbz	r0, .L136
 1143              	.LVL109:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 54


 1144              	.L93:
 1145              		.loc 1 1651 3 discriminator 3 view .LVU328
 1146              		.loc 1 1651 3 discriminator 3 view .LVU329
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1147              		.loc 1 1652 3 view .LVU330
 1148              		.loc 1 1652 3 view .LVU331
 1149 000a 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 1150 000c 012B     		cmp	r3, #1
 1151 000e 21D1     		bne	.L137
 1152              	.L94:
 1153              		.loc 1 1652 3 discriminator 3 view .LVU332
 1154              		.loc 1 1652 3 discriminator 3 view .LVU333
1653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1155              		.loc 1 1653 3 view .LVU334
 1156              		.loc 1 1653 3 view .LVU335
 1157 0010 2B6A     		ldr	r3, [r5, #32]
 1158 0012 3BB3     		cbz	r3, .L138
 1159              	.L95:
 1160              		.loc 1 1653 3 discriminator 3 view .LVU336
 1161              		.loc 1 1653 3 discriminator 3 view .LVU337
1654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1162              		.loc 1 1654 3 view .LVU338
 1163              		.loc 1 1654 3 view .LVU339
 1164 0014 6B68     		ldr	r3, [r5, #4]
 1165 0016 6BB3     		cbz	r3, .L139
 1166              	.L96:
 1167              		.loc 1 1654 3 discriminator 3 view .LVU340
 1168              		.loc 1 1654 3 discriminator 3 view .LVU341
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
 1169              		.loc 1 1655 3 view .LVU342
 1170              		.loc 1 1655 3 view .LVU343
 1171 0018 2B6A     		ldr	r3, [r5, #32]
 1172 001a 9A69     		ldr	r2, [r3, #24]
 1173 001c 5B69     		ldr	r3, [r3, #20]
 1174 001e 9A42     		cmp	r2, r3
 1175 0020 30D2     		bcs	.L140
 1176              	.L97:
 1177              		.loc 1 1655 3 discriminator 3 view .LVU344
 1178              		.loc 1 1655 3 discriminator 3 view .LVU345
1656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
1657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.vector_cnt > 0", conn->current_msg->msg.w.vector_cnt > 0);
 1179              		.loc 1 1657 3 view .LVU346
 1180              		.loc 1 1657 3 view .LVU347
 1181 0022 2B6A     		ldr	r3, [r5, #32]
 1182 0024 9B89     		ldrh	r3, [r3, #12]
 1183 0026 002B     		cmp	r3, #0
 1184 0028 34D0     		beq	.L141
 1185              	.L98:
 1186              		.loc 1 1657 3 discriminator 3 view .LVU348
 1187              		.loc 1 1657 3 discriminator 3 view .LVU349
1658:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   apiflags = conn->current_msg->msg.w.apiflags;
 1188              		.loc 1 1659 3 view .LVU350
 1189              		.loc 1 1659 18 is_stmt 0 view .LVU351
 1190 002a 2B6A     		ldr	r3, [r5, #32]
 1191              		.loc 1 1659 12 view .LVU352
 1192 002c 93F81C80 		ldrb	r8, [r3, #28]	@ zero_extendqisi2
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 55


 1193              	.LVL110:
1660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   dontblock = netconn_is_nonblocking(conn) || (apiflags & NETCONN_DONTBLOCK);
 1194              		.loc 1 1660 3 is_stmt 1 view .LVU353
 1195              		.loc 1 1660 15 is_stmt 0 view .LVU354
 1196 0030 2B7F     		ldrb	r3, [r5, #28]	@ zero_extendqisi2
 1197              		.loc 1 1660 44 view .LVU355
 1198 0032 13F0020F 		tst	r3, #2
 1199 0036 35D1     		bne	.L122
 1200              		.loc 1 1660 44 discriminator 2 view .LVU356
 1201 0038 18F0040F 		tst	r8, #4
 1202 003c 37D0     		beq	.L123
 1203              		.loc 1 1660 44 discriminator 3 view .LVU357
 1204 003e 4FF0010A 		mov	r10, #1
 1205 0042 31E0     		b	.L99
 1206              	.LVL111:
 1207              	.L136:
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1208              		.loc 1 1651 3 is_stmt 1 discriminator 1 view .LVU358
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1209              		.loc 1 1651 3 discriminator 1 view .LVU359
 1210 0044 8B4B     		ldr	r3, .L149
 1211 0046 40F27362 		movw	r2, #1651
 1212 004a 8B49     		ldr	r1, .L149+4
 1213              	.LVL112:
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1214              		.loc 1 1651 3 is_stmt 0 discriminator 1 view .LVU360
 1215 004c 8B48     		ldr	r0, .L149+8
 1216              	.LVL113:
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1217              		.loc 1 1651 3 discriminator 1 view .LVU361
 1218 004e FFF7FEFF 		bl	printf
 1219              	.LVL114:
 1220 0052 DAE7     		b	.L93
 1221              	.L137:
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1222              		.loc 1 1652 3 is_stmt 1 discriminator 1 view .LVU362
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1223              		.loc 1 1652 3 discriminator 1 view .LVU363
 1224 0054 874B     		ldr	r3, .L149
 1225 0056 40F27462 		movw	r2, #1652
 1226 005a 8949     		ldr	r1, .L149+12
 1227 005c 8748     		ldr	r0, .L149+8
 1228 005e FFF7FEFF 		bl	printf
 1229              	.LVL115:
 1230 0062 D5E7     		b	.L94
 1231              	.L138:
1653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1232              		.loc 1 1653 3 discriminator 1 view .LVU364
1653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1233              		.loc 1 1653 3 discriminator 1 view .LVU365
 1234 0064 834B     		ldr	r3, .L149
 1235 0066 40F27562 		movw	r2, #1653
 1236 006a 8649     		ldr	r1, .L149+16
 1237 006c 8348     		ldr	r0, .L149+8
 1238 006e FFF7FEFF 		bl	printf
 1239              	.LVL116:
 1240 0072 CFE7     		b	.L95
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 56


 1241              	.L139:
1654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
 1242              		.loc 1 1654 3 discriminator 1 view .LVU366
1654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
 1243              		.loc 1 1654 3 discriminator 1 view .LVU367
 1244 0074 7F4B     		ldr	r3, .L149
 1245 0076 40F27662 		movw	r2, #1654
 1246 007a 8349     		ldr	r1, .L149+20
 1247 007c 7F48     		ldr	r0, .L149+8
 1248 007e FFF7FEFF 		bl	printf
 1249              	.LVL117:
 1250 0082 C9E7     		b	.L96
 1251              	.L140:
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
 1252              		.loc 1 1655 3 discriminator 1 view .LVU368
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
 1253              		.loc 1 1655 3 discriminator 1 view .LVU369
 1254 0084 7B4B     		ldr	r3, .L149
 1255 0086 40F27762 		movw	r2, #1655
 1256 008a 8049     		ldr	r1, .L149+24
 1257 008c 7B48     		ldr	r0, .L149+8
 1258 008e FFF7FEFF 		bl	printf
 1259              	.LVL118:
 1260 0092 C6E7     		b	.L97
 1261              	.L141:
1657:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1262              		.loc 1 1657 3 discriminator 1 view .LVU370
1657:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1263              		.loc 1 1657 3 discriminator 1 view .LVU371
 1264 0094 774B     		ldr	r3, .L149
 1265 0096 40F27962 		movw	r2, #1657
 1266 009a 7D49     		ldr	r1, .L149+28
 1267 009c 7748     		ldr	r0, .L149+8
 1268 009e FFF7FEFF 		bl	printf
 1269              	.LVL119:
 1270 00a2 C2E7     		b	.L98
 1271              	.LVL120:
 1272              	.L122:
 1273              		.loc 1 1660 44 is_stmt 0 discriminator 3 view .LVU372
 1274 00a4 4FF0010A 		mov	r10, #1
 1275              	.L99:
 1276              		.loc 1 1660 13 discriminator 6 view .LVU373
 1277 00a8 5FFA8AFA 		uxtb	r10, r10
 1278              	.LVL121:
 1279              		.loc 1 1660 13 discriminator 6 view .LVU374
 1280 00ac 5FE0     		b	.L110
 1281              	.LVL122:
 1282              	.L123:
 1283              		.loc 1 1660 44 discriminator 4 view .LVU375
 1284 00ae 4FF0000A 		mov	r10, #0
 1285 00b2 F9E7     		b	.L99
 1286              	.LVL123:
 1287              	.L100:
1661:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1662:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
1663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((conn->send_timeout != 0) &&
1664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((s32_t)(sys_now() - conn->current_msg->msg.w.time_started) >= conn->send_timeout)) {
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 57


1665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     write_finished = 1;
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->current_msg->msg.w.offset == 0) {
1667:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* nothing has been written */
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_WOULDBLOCK;
1669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1670:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* partial write */
1671:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_OK;
1672:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1674:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
1675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     do {
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       dataptr = (const u8_t *)conn->current_msg->msg.w.vector->ptr + conn->current_msg->msg.w.vecto
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
1679:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
1680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = 0xffff;
1681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
1682:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1683:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = (u16_t)diff;
 1288              		.loc 1 1683 9 is_stmt 1 view .LVU376
 1289              		.loc 1 1683 13 is_stmt 0 view .LVU377
 1290 00b4 B4B2     		uxth	r4, r6
 1291              	.LVL124:
 1292              		.loc 1 1683 13 view .LVU378
 1293 00b6 68E0     		b	.L101
 1294              	.LVL125:
 1295              	.L145:
1684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       available = tcp_sndbuf(conn->pcb.tcp);
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
1687:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* don't try to write more than sendbuf */
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = available;
1689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
1690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!len) {
1691:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* set error according to partial write or not */
1692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = (conn->current_msg->msg.w.offset == 0) ? ERR_WOULDBLOCK : ERR_OK;
 1296              		.loc 1 1692 13 is_stmt 1 view .LVU379
 1297              		.loc 1 1692 44 is_stmt 0 view .LVU380
 1298 00b8 9369     		ldr	r3, [r2, #24]
 1299              		.loc 1 1692 17 view .LVU381
 1300 00ba B3B9     		cbnz	r3, .L125
 1301              		.loc 1 1692 17 discriminator 1 view .LVU382
 1302 00bc 6FF00604 		mvn	r4, #6
 1303              	.LVL126:
 1304              	.L105:
1693:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             goto err_mem;
1694:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1695:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           apiflags |= TCP_WRITE_FLAG_MORE;
1697:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1698:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("lwip_netconn_do_writemore: invalid length!",
1700:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
1701:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* we should loop around for more sending in the following cases:
1702:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            1) We couldn't finish the current vector because of 16-bit size limitations.
1703:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_write() and tcp_sndbuf() both are limited to 16-bit sizes
1704:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            2) We are sending the remainder of the current vector and have more */
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 58


1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((len == 0xffff && diff > 0xffffUL) ||
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
1707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
1709:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1710:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 0;
1711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (err == ERR_OK) {
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
1716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (conn->current_msg->msg.w.vector_off == conn->current_msg->msg.w.vector->len) {
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
1719:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (conn->current_msg->msg.w.vector_cnt > 0) {
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
1723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1724:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1725:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } while (write_more && err == ERR_OK);
1727:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((err == ERR_OK) || (err == ERR_MEM)) {
1729:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
1730:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock && (conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len)) {
 1305              		.loc 1 1730 7 is_stmt 1 view .LVU383
 1306              		.loc 1 1730 10 is_stmt 0 view .LVU384
 1307 00c0 BAF1000F 		cmp	r10, #0
 1308 00c4 00F09280 		beq	.L113
 1309              		.loc 1 1730 29 discriminator 1 view .LVU385
 1310 00c8 2B6A     		ldr	r3, [r5, #32]
 1311              		.loc 1 1730 49 discriminator 1 view .LVU386
 1312 00ca 9A69     		ldr	r2, [r3, #24]
 1313              		.loc 1 1730 83 discriminator 1 view .LVU387
 1314 00cc 5B69     		ldr	r3, [r3, #20]
 1315              		.loc 1 1730 21 discriminator 1 view .LVU388
 1316 00ce 9A42     		cmp	r2, r3
 1317 00d0 80F08C80 		bcs	.L113
1731:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
1732:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            and let poll_tcp check writable space to mark the pcb writable again */
1733:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, 0);
 1318              		.loc 1 1733 9 is_stmt 1 view .LVU389
 1319 00d4 6B6A     		ldr	r3, [r5, #36]
 1320 00d6 1BB1     		cbz	r3, .L114
 1321              		.loc 1 1733 9 discriminator 1 view .LVU390
 1322 00d8 0022     		movs	r2, #0
 1323 00da 0321     		movs	r1, #3
 1324 00dc 2846     		mov	r0, r5
 1325 00de 9847     		blx	r3
 1326              	.LVL127:
 1327              	.L114:
 1328              		.loc 1 1733 50 discriminator 3 view .LVU391
1734:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->flags |= NETCONN_FLAG_CHECK_WRITESPACE;
 1329              		.loc 1 1734 9 view .LVU392
 1330              		.loc 1 1734 13 is_stmt 0 view .LVU393
 1331 00e0 2B7F     		ldrb	r3, [r5, #28]	@ zero_extendqisi2
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 59


 1332              		.loc 1 1734 21 view .LVU394
 1333 00e2 43F01003 		orr	r3, r3, #16
 1334 00e6 2B77     		strb	r3, [r5, #28]
 1335 00e8 90E0     		b	.L115
 1336              	.LVL128:
 1337              	.L125:
1692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             goto err_mem;
 1338              		.loc 1 1692 17 discriminator 2 view .LVU395
 1339 00ea 0024     		movs	r4, #0
 1340              	.LVL129:
1693:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 1341              		.loc 1 1693 13 is_stmt 1 view .LVU396
 1342 00ec E8E7     		b	.L105
 1343              	.LVL130:
 1344              	.L103:
1696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 1345              		.loc 1 1696 11 view .LVU397
1696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 1346              		.loc 1 1696 20 is_stmt 0 view .LVU398
 1347 00ee 48F00208 		orr	r8, r8, #2
 1348              	.LVL131:
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
 1349              		.loc 1 1688 13 view .LVU399
 1350 00f2 0446     		mov	r4, r0
 1351              	.LVL132:
 1352              	.L102:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1353              		.loc 1 1699 7 is_stmt 1 view .LVU400
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1354              		.loc 1 1699 7 view .LVU401
 1355 00f4 A146     		mov	r9, r4
 1356 00f6 2344     		add	r3, r3, r4
 1357 00f8 9942     		cmp	r1, r3
 1358 00fa 0ED3     		bcc	.L142
 1359              	.LVL133:
 1360              	.L106:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1361              		.loc 1 1699 7 discriminator 3 view .LVU402
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1362              		.loc 1 1699 7 discriminator 3 view .LVU403
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1363              		.loc 1 1705 7 view .LVU404
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1364              		.loc 1 1705 16 is_stmt 0 view .LVU405
 1365 00fc 4FF6FF73 		movw	r3, #65535
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1366              		.loc 1 1705 26 view .LVU406
 1367 0100 9C42     		cmp	r4, r3
 1368 0102 14BF     		ite	ne
 1369 0104 0022     		movne	r2, #0
 1370 0106 0122     		moveq	r2, #1
 1371 0108 9E42     		cmp	r6, r3
 1372 010a 98BF     		it	ls
 1373 010c 0022     		movls	r2, #0
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1374              		.loc 1 1705 10 view .LVU407
 1375 010e 82B9     		cbnz	r2, .L107
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 60


1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 1376              		.loc 1 1706 19 view .LVU408
 1377 0110 B6B2     		uxth	r6, r6
 1378              	.LVL134:
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1379              		.loc 1 1705 46 discriminator 1 view .LVU409
 1380 0112 A642     		cmp	r6, r4
 1381 0114 09D0     		beq	.L143
1710:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1382              		.loc 1 1710 20 view .LVU410
 1383 0116 0026     		movs	r6, #0
 1384 0118 0EE0     		b	.L108
 1385              	.LVL135:
 1386              	.L142:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1387              		.loc 1 1699 7 is_stmt 1 discriminator 1 view .LVU411
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1388              		.loc 1 1699 7 discriminator 1 view .LVU412
 1389 011a 564B     		ldr	r3, .L149
 1390 011c 40F2A362 		movw	r2, #1699
 1391 0120 5C49     		ldr	r1, .L149+32
 1392 0122 5648     		ldr	r0, .L149+8
 1393              	.LVL136:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1394              		.loc 1 1699 7 is_stmt 0 discriminator 1 view .LVU413
 1395 0124 FFF7FEFF 		bl	printf
 1396              	.LVL137:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1397              		.loc 1 1699 7 discriminator 1 view .LVU414
 1398 0128 E8E7     		b	.L106
 1399              	.LVL138:
 1400              	.L143:
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 1401              		.loc 1 1706 38 view .LVU415
 1402 012a 2B6A     		ldr	r3, [r5, #32]
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 1403              		.loc 1 1706 58 view .LVU416
 1404 012c 9B89     		ldrh	r3, [r3, #12]
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 1405              		.loc 1 1706 31 view .LVU417
 1406 012e 012B     		cmp	r3, #1
 1407 0130 37D9     		bls	.L127
 1408              	.L107:
1707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1409              		.loc 1 1707 9 is_stmt 1 view .LVU418
 1410              	.LVL139:
1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 1411              		.loc 1 1708 9 view .LVU419
1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 1412              		.loc 1 1708 18 is_stmt 0 view .LVU420
 1413 0132 48F00208 		orr	r8, r8, #2
 1414              	.LVL140:
1707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1415              		.loc 1 1707 20 view .LVU421
 1416 0136 0126     		movs	r6, #1
 1417              	.LVL141:
 1418              	.L108:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 61


1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (err == ERR_OK) {
 1419              		.loc 1 1712 7 is_stmt 1 view .LVU422
1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (err == ERR_OK) {
 1420              		.loc 1 1712 13 is_stmt 0 view .LVU423
 1421 0138 4346     		mov	r3, r8
 1422 013a 2246     		mov	r2, r4
 1423 013c 3946     		mov	r1, r7
 1424 013e 6868     		ldr	r0, [r5, #4]
 1425 0140 FFF7FEFF 		bl	tcp_write
 1426              	.LVL142:
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 1427              		.loc 1 1713 7 is_stmt 1 view .LVU424
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 1428              		.loc 1 1713 10 is_stmt 0 view .LVU425
 1429 0144 0446     		mov	r4, r0
 1430              	.LVL143:
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 1431              		.loc 1 1713 10 view .LVU426
 1432 0146 68B9     		cbnz	r0, .L109
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1433              		.loc 1 1714 9 is_stmt 1 view .LVU427
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1434              		.loc 1 1714 13 is_stmt 0 view .LVU428
 1435 0148 2A6A     		ldr	r2, [r5, #32]
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1436              		.loc 1 1714 33 view .LVU429
 1437 014a 9369     		ldr	r3, [r2, #24]
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1438              		.loc 1 1714 41 view .LVU430
 1439 014c 4B44     		add	r3, r3, r9
 1440 014e 9361     		str	r3, [r2, #24]
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
 1441              		.loc 1 1715 9 is_stmt 1 view .LVU431
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
 1442              		.loc 1 1715 13 is_stmt 0 view .LVU432
 1443 0150 2A6A     		ldr	r2, [r5, #32]
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
 1444              		.loc 1 1715 33 view .LVU433
 1445 0152 1369     		ldr	r3, [r2, #16]
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
 1446              		.loc 1 1715 45 view .LVU434
 1447 0154 4B44     		add	r3, r3, r9
 1448 0156 1361     		str	r3, [r2, #16]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1449              		.loc 1 1717 9 is_stmt 1 view .LVU435
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1450              		.loc 1 1717 17 is_stmt 0 view .LVU436
 1451 0158 2B6A     		ldr	r3, [r5, #32]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1452              		.loc 1 1717 37 view .LVU437
 1453 015a 1969     		ldr	r1, [r3, #16]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1454              		.loc 1 1717 76 view .LVU438
 1455 015c 9A68     		ldr	r2, [r3, #8]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1456              		.loc 1 1717 83 view .LVU439
 1457 015e 5268     		ldr	r2, [r2, #4]
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 62


1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1458              		.loc 1 1717 12 view .LVU440
 1459 0160 9142     		cmp	r1, r2
 1460 0162 20D0     		beq	.L144
 1461              	.L109:
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
 1462              		.loc 1 1726 25 is_stmt 1 view .LVU441
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
 1463              		.loc 1 1726 32 is_stmt 0 view .LVU442
 1464 0164 B4FA84F3 		clz	r3, r4
 1465 0168 5B09     		lsrs	r3, r3, #5
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
 1466              		.loc 1 1726 25 view .LVU443
 1467 016a 56B3     		cbz	r6, .L133
 1468 016c 4BB3     		cbz	r3, .L133
 1469              	.LVL144:
 1470              	.L110:
1676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       dataptr = (const u8_t *)conn->current_msg->msg.w.vector->ptr + conn->current_msg->msg.w.vecto
 1471              		.loc 1 1676 5 is_stmt 1 view .LVU444
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1472              		.loc 1 1677 7 view .LVU445
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1473              		.loc 1 1677 35 is_stmt 0 view .LVU446
 1474 016e 2A6A     		ldr	r2, [r5, #32]
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1475              		.loc 1 1677 55 view .LVU447
 1476 0170 9168     		ldr	r1, [r2, #8]
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1477              		.loc 1 1677 62 view .LVU448
 1478 0172 0F68     		ldr	r7, [r1]
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1479              		.loc 1 1677 94 view .LVU449
 1480 0174 1369     		ldr	r3, [r2, #16]
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1481              		.loc 1 1677 15 view .LVU450
 1482 0176 1F44     		add	r7, r7, r3
 1483              	.LVL145:
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
 1484              		.loc 1 1678 7 is_stmt 1 view .LVU451
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
 1485              		.loc 1 1678 45 is_stmt 0 view .LVU452
 1486 0178 4968     		ldr	r1, [r1, #4]
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
 1487              		.loc 1 1678 12 view .LVU453
 1488 017a CE1A     		subs	r6, r1, r3
 1489              	.LVL146:
1679:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = 0xffff;
 1490              		.loc 1 1679 7 is_stmt 1 view .LVU454
1679:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = 0xffff;
 1491              		.loc 1 1679 10 is_stmt 0 view .LVU455
 1492 017c B6F5803F 		cmp	r6, #65536
 1493 0180 98D3     		bcc	.L100
1680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1494              		.loc 1 1680 9 is_stmt 1 view .LVU456
 1495              	.LVL147:
1681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 1496              		.loc 1 1681 9 view .LVU457
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 63


1681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 1497              		.loc 1 1681 18 is_stmt 0 view .LVU458
 1498 0182 48F00208 		orr	r8, r8, #2
 1499              	.LVL148:
1680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1500              		.loc 1 1680 13 view .LVU459
 1501 0186 4FF6FF74 		movw	r4, #65535
 1502              	.LVL149:
 1503              	.L101:
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
 1504              		.loc 1 1685 7 is_stmt 1 view .LVU460
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
 1505              		.loc 1 1685 19 is_stmt 0 view .LVU461
 1506 018a 6868     		ldr	r0, [r5, #4]
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
 1507              		.loc 1 1685 17 view .LVU462
 1508 018c B0F86400 		ldrh	r0, [r0, #100]
 1509              	.LVL150:
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* don't try to write more than sendbuf */
 1510              		.loc 1 1686 7 is_stmt 1 view .LVU463
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* don't try to write more than sendbuf */
 1511              		.loc 1 1686 10 is_stmt 0 view .LVU464
 1512 0190 8442     		cmp	r4, r0
 1513 0192 AFD9     		bls	.L102
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
 1514              		.loc 1 1688 9 is_stmt 1 view .LVU465
 1515              	.LVL151:
1689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!len) {
 1516              		.loc 1 1689 9 view .LVU466
1689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!len) {
 1517              		.loc 1 1689 12 is_stmt 0 view .LVU467
 1518 0194 BAF1000F 		cmp	r10, #0
 1519 0198 A9D0     		beq	.L103
1690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* set error according to partial write or not */
 1520              		.loc 1 1690 11 is_stmt 1 view .LVU468
1690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* set error according to partial write or not */
 1521              		.loc 1 1690 14 is_stmt 0 view .LVU469
 1522 019a 0028     		cmp	r0, #0
 1523 019c 8CD0     		beq	.L145
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
 1524              		.loc 1 1688 13 view .LVU470
 1525 019e 0446     		mov	r4, r0
 1526 01a0 A8E7     		b	.L102
 1527              	.LVL152:
 1528              	.L127:
1710:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1529              		.loc 1 1710 20 view .LVU471
 1530 01a2 0026     		movs	r6, #0
 1531 01a4 C8E7     		b	.L108
 1532              	.LVL153:
 1533              	.L144:
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
 1534              		.loc 1 1718 11 is_stmt 1 view .LVU472
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
 1535              		.loc 1 1718 35 is_stmt 0 view .LVU473
 1536 01a6 9A89     		ldrh	r2, [r3, #12]
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 64


 1537              		.loc 1 1718 46 view .LVU474
 1538 01a8 013A     		subs	r2, r2, #1
 1539 01aa 9A81     		strh	r2, [r3, #12]	@ movhi
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1540              		.loc 1 1720 11 is_stmt 1 view .LVU475
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1541              		.loc 1 1720 19 is_stmt 0 view .LVU476
 1542 01ac 2B6A     		ldr	r3, [r5, #32]
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1543              		.loc 1 1720 39 view .LVU477
 1544 01ae 9A89     		ldrh	r2, [r3, #12]
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1545              		.loc 1 1720 14 view .LVU478
 1546 01b0 002A     		cmp	r2, #0
 1547 01b2 D7D0     		beq	.L109
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
 1548              		.loc 1 1721 13 is_stmt 1 view .LVU479
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
 1549              		.loc 1 1721 37 is_stmt 0 view .LVU480
 1550 01b4 9A68     		ldr	r2, [r3, #8]
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
 1551              		.loc 1 1721 44 view .LVU481
 1552 01b6 0832     		adds	r2, r2, #8
 1553 01b8 9A60     		str	r2, [r3, #8]
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 1554              		.loc 1 1722 13 is_stmt 1 view .LVU482
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 1555              		.loc 1 1722 17 is_stmt 0 view .LVU483
 1556 01ba 2B6A     		ldr	r3, [r5, #32]
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 1557              		.loc 1 1722 49 view .LVU484
 1558 01bc 0022     		movs	r2, #0
 1559 01be 1A61     		str	r2, [r3, #16]
 1560 01c0 D0E7     		b	.L109
 1561              	.L133:
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
 1562              		.loc 1 1728 5 is_stmt 1 view .LVU485
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
 1563              		.loc 1 1728 25 is_stmt 0 view .LVU486
 1564 01c2 631C     		adds	r3, r4, #1
 1565 01c4 DBB2     		uxtb	r3, r3
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
 1566              		.loc 1 1728 8 view .LVU487
 1567 01c6 012B     		cmp	r3, #1
 1568 01c8 7FF67AAF 		bls	.L105
 1569              	.LVL154:
 1570              	.L112:
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if ((tcp_sndbuf(conn->pcb.tcp) <= TCP_SNDLOWAT) ||
1736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
1737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
1738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            let select mark this pcb as non-writable. */
1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, 0);
1740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1742:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1743:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
1744:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 65


1745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->current_msg->msg.w.offset == conn->current_msg->msg.w.len) || dontblock) {
1746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length (caller reads length from msg.w.offset) */
1747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1748:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       out_err = tcp_output(conn->pcb.tcp);
1750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
1751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
1752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            don't try writing any more but return the error
1753:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to the application thread. */
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = out_err;
1755:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1756:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (err == ERR_MEM) {
 1571              		.loc 1 1757 12 is_stmt 1 view .LVU488
 1572              		.loc 1 1757 15 is_stmt 0 view .LVU489
 1573 01cc B4F1FF3F 		cmp	r4, #-1
 1574 01d0 37D0     		beq	.L146
 1575              	.LVL155:
 1576              	.L118:
 1577              	.LBB6:
1758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
1759:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          For blocking sockets, we do NOT return to the application
1760:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          thread, since ERR_MEM is only a temporary error! Non-blocking
1761:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          will remain non-writable until sent_tcp/poll_tcp is called */
1762:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1763:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* tcp_write returned ERR_MEM, try tcp_output anyway */
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err = tcp_output(conn->pcb.tcp);
1765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
1766:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
1767:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            don't try writing any more but return the error
1768:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to the application thread. */
1769:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = out_err;
1770:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (dontblock) {
1772:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
1773:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to partial write or not */
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = (conn->current_msg->msg.w.offset == 0) ? ERR_WOULDBLOCK : ERR_OK;
1775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1776:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1777:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* On errors != ERR_MEM, we don't try writing any more but return
1779:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          the error to the application thread. */
1780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       write_finished = 1;
1781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1782:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (write_finished) {
1784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
1785:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        and back to application task */
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_t *op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 1578              		.loc 1 1786 5 is_stmt 1 view .LVU490
 1579              		.loc 1 1786 35 is_stmt 0 view .LVU491
 1580 01d2 2B6A     		ldr	r3, [r5, #32]
 1581 01d4 1868     		ldr	r0, [r3]
 1582              		.loc 1 1786 16 view .LVU492
 1583 01d6 0C30     		adds	r0, r0, #12
 1584              	.LVL156:
1787:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 66


 1585              		.loc 1 1787 5 is_stmt 1 view .LVU493
 1586              		.loc 1 1787 28 is_stmt 0 view .LVU494
 1587 01d8 1C71     		strb	r4, [r3, #4]
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 1588              		.loc 1 1788 5 is_stmt 1 view .LVU495
 1589              		.loc 1 1788 23 is_stmt 0 view .LVU496
 1590 01da 0023     		movs	r3, #0
 1591 01dc 2B62     		str	r3, [r5, #32]
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1592              		.loc 1 1789 5 is_stmt 1 view .LVU497
 1593              		.loc 1 1789 17 is_stmt 0 view .LVU498
 1594 01de 6B70     		strb	r3, [r5, #1]
1790:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1791:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (delayed)
 1595              		.loc 1 1791 5 is_stmt 1 view .LVU499
 1596              		.loc 1 1791 8 is_stmt 0 view .LVU500
 1597 01e0 BBF1000F 		cmp	fp, #0
 1598 01e4 41D1     		bne	.L147
 1599              	.LBE6:
1792:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1793:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1794:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1797:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1798:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   else {
1799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
1800:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1801:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1802:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 1600              		.loc 1 1802 10 view .LVU501
 1601 01e6 0020     		movs	r0, #0
 1602              	.LVL157:
 1603              	.L121:
1803:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1604              		.loc 1 1803 1 view .LVU502
 1605 01e8 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1606              	.LVL158:
 1607              	.L113:
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1608              		.loc 1 1735 14 is_stmt 1 view .LVU503
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1609              		.loc 1 1735 19 is_stmt 0 view .LVU504
 1610 01ec 6B68     		ldr	r3, [r5, #4]
 1611 01ee B3F86420 		ldrh	r2, [r3, #100]
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1612              		.loc 1 1735 17 view .LVU505
 1613 01f2 B2F5866F 		cmp	r2, #1072
 1614 01f6 03D3     		bcc	.L116
1736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
 1615              		.loc 1 1736 19 view .LVU506
 1616 01f8 B3F86630 		ldrh	r3, [r3, #102]
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1617              		.loc 1 1735 62 discriminator 1 view .LVU507
 1618 01fc 042B     		cmp	r3, #4
 1619 01fe 05D9     		bls	.L115
 1620              	.L116:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 67


1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1621              		.loc 1 1739 9 is_stmt 1 view .LVU508
 1622 0200 6B6A     		ldr	r3, [r5, #36]
 1623 0202 1BB1     		cbz	r3, .L115
1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1624              		.loc 1 1739 9 discriminator 1 view .LVU509
 1625 0204 0022     		movs	r2, #0
 1626 0206 0321     		movs	r1, #3
 1627 0208 2846     		mov	r0, r5
 1628 020a 9847     		blx	r3
 1629              	.LVL159:
 1630              	.L115:
1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1631              		.loc 1 1739 50 discriminator 3 view .LVU510
1743:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err;
 1632              		.loc 1 1743 5 view .LVU511
1743:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err;
 1633              		.loc 1 1743 8 is_stmt 0 view .LVU512
 1634 020c 002C     		cmp	r4, #0
 1635 020e DDD1     		bne	.L112
 1636              	.LBB7:
1744:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->current_msg->msg.w.offset == conn->current_msg->msg.w.len) || dontblock) {
 1637              		.loc 1 1744 7 is_stmt 1 view .LVU513
1745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length (caller reads length from msg.w.offset) */
 1638              		.loc 1 1745 7 view .LVU514
1745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length (caller reads length from msg.w.offset) */
 1639              		.loc 1 1745 16 is_stmt 0 view .LVU515
 1640 0210 2B6A     		ldr	r3, [r5, #32]
1745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length (caller reads length from msg.w.offset) */
 1641              		.loc 1 1745 36 view .LVU516
 1642 0212 9A69     		ldr	r2, [r3, #24]
1745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length (caller reads length from msg.w.offset) */
 1643              		.loc 1 1745 71 view .LVU517
 1644 0214 5B69     		ldr	r3, [r3, #20]
1745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length (caller reads length from msg.w.offset) */
 1645              		.loc 1 1745 10 view .LVU518
 1646 0216 9A42     		cmp	r2, r3
 1647 0218 05D0     		beq	.L128
1745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length (caller reads length from msg.w.offset) */
 1648              		.loc 1 1745 77 discriminator 1 view .LVU519
 1649 021a BAF1000F 		cmp	r10, #0
 1650 021e 04D0     		beq	.L117
1747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1651              		.loc 1 1747 24 view .LVU520
 1652 0220 4FF0010A 		mov	r10, #1
 1653              	.LVL160:
1747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1654              		.loc 1 1747 24 view .LVU521
 1655 0224 01E0     		b	.L117
 1656              	.LVL161:
 1657              	.L128:
1747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1658              		.loc 1 1747 24 view .LVU522
 1659 0226 4FF0010A 		mov	r10, #1
 1660              	.LVL162:
 1661              	.L117:
1749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 68


 1662              		.loc 1 1749 7 is_stmt 1 view .LVU523
1749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
 1663              		.loc 1 1749 17 is_stmt 0 view .LVU524
 1664 022a 6868     		ldr	r0, [r5, #4]
 1665 022c FFF7FEFF 		bl	tcp_output
 1666              	.LVL163:
1750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
 1667              		.loc 1 1750 7 is_stmt 1 view .LVU525
1750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
 1668              		.loc 1 1750 10 is_stmt 0 view .LVU526
 1669 0230 10F1040F 		cmn	r0, #4
 1670 0234 15D0     		beq	.L148
1750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
 1671              		.loc 1 1750 10 view .LVU527
 1672              	.LBE7:
1783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
 1673              		.loc 1 1783 3 is_stmt 1 view .LVU528
1783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
 1674              		.loc 1 1783 6 is_stmt 0 view .LVU529
 1675 0236 BAF1000F 		cmp	r10, #0
 1676 023a CAD1     		bne	.L118
 1677              	.LVL164:
 1678              	.L120:
1799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1679              		.loc 1 1799 5 is_stmt 1 view .LVU530
1799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1680              		.loc 1 1799 12 is_stmt 0 view .LVU531
 1681 023c 4FF0FF30 		mov	r0, #-1
 1682 0240 D2E7     		b	.L121
 1683              	.LVL165:
 1684              	.L146:
 1685              	.LBB8:
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
 1686              		.loc 1 1764 7 is_stmt 1 view .LVU532
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
 1687              		.loc 1 1764 23 is_stmt 0 view .LVU533
 1688 0242 6868     		ldr	r0, [r5, #4]
 1689 0244 FFF7FEFF 		bl	tcp_output
 1690              	.LVL166:
 1691 0248 0446     		mov	r4, r0
 1692              	.LVL167:
1765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
 1693              		.loc 1 1765 7 is_stmt 1 view .LVU534
1765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
 1694              		.loc 1 1765 10 is_stmt 0 view .LVU535
 1695 024a 10F1040F 		cmn	r0, #4
 1696 024e C0D0     		beq	.L118
1771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
 1697              		.loc 1 1771 14 is_stmt 1 view .LVU536
1771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
 1698              		.loc 1 1771 17 is_stmt 0 view .LVU537
 1699 0250 BAF1000F 		cmp	r10, #0
 1700 0254 F2D0     		beq	.L120
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1701              		.loc 1 1774 9 is_stmt 1 view .LVU538
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1702              		.loc 1 1774 20 is_stmt 0 view .LVU539
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 69


 1703 0256 2B6A     		ldr	r3, [r5, #32]
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1704              		.loc 1 1774 40 view .LVU540
 1705 0258 9B69     		ldr	r3, [r3, #24]
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1706              		.loc 1 1774 13 view .LVU541
 1707 025a 23B9     		cbnz	r3, .L131
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1708              		.loc 1 1774 13 discriminator 1 view .LVU542
 1709 025c 6FF00604 		mvn	r4, #6
 1710 0260 B7E7     		b	.L118
 1711              	.LVL168:
 1712              	.L148:
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1713              		.loc 1 1774 13 discriminator 1 view .LVU543
 1714              	.LBE8:
 1715              	.LBB9:
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1716              		.loc 1 1754 13 view .LVU544
 1717 0262 0446     		mov	r4, r0
 1718              	.LVL169:
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1719              		.loc 1 1754 13 view .LVU545
 1720 0264 B5E7     		b	.L118
 1721              	.LVL170:
 1722              	.L131:
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1723              		.loc 1 1754 13 view .LVU546
 1724              	.LBE9:
 1725              	.LBB10:
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1726              		.loc 1 1774 13 discriminator 2 view .LVU547
 1727 0266 0024     		movs	r4, #0
 1728 0268 B3E7     		b	.L118
 1729              	.LVL171:
 1730              	.L147:
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1731              		.loc 1 1774 13 discriminator 2 view .LVU548
 1732              	.LBE10:
 1733              	.LBB11:
1794:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1734              		.loc 1 1794 7 is_stmt 1 view .LVU549
 1735 026a FFF7FEFF 		bl	sys_sem_signal
 1736              	.LVL172:
1794:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1737              		.loc 1 1794 7 is_stmt 0 view .LVU550
 1738              	.LBE11:
1802:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1739              		.loc 1 1802 10 view .LVU551
 1740 026e 0020     		movs	r0, #0
 1741 0270 BAE7     		b	.L121
 1742              	.L150:
 1743 0272 00BF     		.align	2
 1744              	.L149:
 1745 0274 00000000 		.word	.LC0
 1746 0278 00000000 		.word	.LC7
 1747 027c 40000000 		.word	.LC2
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 70


 1748 0280 00000000 		.word	.LC14
 1749 0284 10000000 		.word	.LC8
 1750 0288 20000000 		.word	.LC15
 1751 028c 38000000 		.word	.LC16
 1752 0290 78000000 		.word	.LC17
 1753 0294 A0000000 		.word	.LC18
 1754              		.cfi_endproc
 1755              	.LFE388:
 1757              		.section	.rodata.lwip_netconn_do_close_internal.str1.4,"aMS",%progbits,1
 1758              		.align	2
 1759              	.LC19:
 1760 0000 696E7661 		.ascii	"invalid conn\000"
 1760      6C696420 
 1760      636F6E6E 
 1760      00
 1761 000d 000000   		.align	2
 1762              	.LC20:
 1763 0010 74686973 		.ascii	"this is for tcp netconns only\000"
 1763      20697320 
 1763      666F7220 
 1763      74637020 
 1763      6E657463 
 1764 002e 0000     		.align	2
 1765              	.LC21:
 1766 0030 636F6E6E 		.ascii	"conn must be in state NETCONN_CLOSE\000"
 1766      206D7573 
 1766      74206265 
 1766      20696E20 
 1766      73746174 
 1767              		.align	2
 1768              	.LC22:
 1769 0054 70636220 		.ascii	"pcb already closed\000"
 1769      616C7265 
 1769      61647920 
 1769      636C6F73 
 1769      656400
 1770 0067 00       		.align	2
 1771              	.LC23:
 1772 0068 436C6F73 		.ascii	"Closing a listen pcb may not fail!\000"
 1772      696E6720 
 1772      61206C69 
 1772      7374656E 
 1772      20706362 
 1773              		.section	.text.lwip_netconn_do_close_internal,"ax",%progbits
 1774              		.align	1
 1775              		.syntax unified
 1776              		.thumb
 1777              		.thumb_func
 1779              	lwip_netconn_do_close_internal:
 1780              	.LVL173:
 1781              	.LFB378:
 921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 1782              		.loc 1 921 1 is_stmt 1 view -0
 1783              		.cfi_startproc
 1784              		@ args = 0, pretend = 0, frame = 0
 1785              		@ frame_needed = 0, uses_anonymous_args = 0
 921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 71


 1786              		.loc 1 921 1 is_stmt 0 view .LVU553
 1787 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1788              	.LCFI9:
 1789              		.cfi_def_cfa_offset 32
 1790              		.cfi_offset 4, -32
 1791              		.cfi_offset 5, -28
 1792              		.cfi_offset 6, -24
 1793              		.cfi_offset 7, -20
 1794              		.cfi_offset 8, -16
 1795              		.cfi_offset 9, -12
 1796              		.cfi_offset 10, -8
 1797              		.cfi_offset 14, -4
 1798 0004 8846     		mov	r8, r1
 922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t shut, shut_rx, shut_tx, shut_close;
 1799              		.loc 1 922 3 is_stmt 1 view .LVU554
 923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t close_finished = 0;
 1800              		.loc 1 923 3 view .LVU555
 924:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *tpcb;
 1801              		.loc 1 924 3 view .LVU556
 1802              	.LVL174:
 925:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 1803              		.loc 1 925 3 view .LVU557
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1804              		.loc 1 930 3 view .LVU558
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1805              		.loc 1 930 3 view .LVU559
 1806 0006 0446     		mov	r4, r0
 1807 0008 0028     		cmp	r0, #0
 1808 000a 5BD0     		beq	.L179
 1809              	.LVL175:
 1810              	.L152:
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1811              		.loc 1 930 3 discriminator 3 view .LVU560
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1812              		.loc 1 930 3 discriminator 3 view .LVU561
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1813              		.loc 1 931 3 view .LVU562
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1814              		.loc 1 931 3 view .LVU563
 1815 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1816 000e 03F0F003 		and	r3, r3, #240
 1817 0012 102B     		cmp	r3, #16
 1818 0014 5ED1     		bne	.L180
 1819              	.L153:
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1820              		.loc 1 931 3 discriminator 3 view .LVU564
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1821              		.loc 1 931 3 discriminator 3 view .LVU565
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1822              		.loc 1 932 3 view .LVU566
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1823              		.loc 1 932 3 view .LVU567
 1824 0016 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1825 0018 042B     		cmp	r3, #4
 1826 001a 63D1     		bne	.L181
 1827              	.L154:
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 72


 1828              		.loc 1 932 3 discriminator 3 view .LVU568
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1829              		.loc 1 932 3 discriminator 3 view .LVU569
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1830              		.loc 1 933 3 view .LVU570
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1831              		.loc 1 933 3 view .LVU571
 1832 001c 6368     		ldr	r3, [r4, #4]
 1833 001e 002B     		cmp	r3, #0
 1834 0020 68D0     		beq	.L182
 1835              	.L155:
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1836              		.loc 1 933 3 discriminator 3 view .LVU572
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1837              		.loc 1 933 3 discriminator 3 view .LVU573
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1838              		.loc 1 934 3 view .LVU574
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1839              		.loc 1 934 3 view .LVU575
 1840 0022 236A     		ldr	r3, [r4, #32]
 1841 0024 002B     		cmp	r3, #0
 1842 0026 6DD0     		beq	.L183
 1843              	.L156:
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1844              		.loc 1 934 3 discriminator 3 view .LVU576
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1845              		.loc 1 934 3 discriminator 3 view .LVU577
 936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 1846              		.loc 1 936 3 view .LVU578
 936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 1847              		.loc 1 936 8 is_stmt 0 view .LVU579
 1848 0028 6668     		ldr	r6, [r4, #4]
 1849              	.LVL176:
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1850              		.loc 1 937 3 is_stmt 1 view .LVU580
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1851              		.loc 1 937 14 is_stmt 0 view .LVU581
 1852 002a 236A     		ldr	r3, [r4, #32]
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1853              		.loc 1 937 8 view .LVU582
 1854 002c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1855              	.LVL177:
 938:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 1856              		.loc 1 938 3 is_stmt 1 view .LVU583
 938:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 1857              		.loc 1 938 11 is_stmt 0 view .LVU584
 1858 002e 03F00109 		and	r9, r3, #1
 1859              	.LVL178:
 939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 1860              		.loc 1 939 3 is_stmt 1 view .LVU585
 939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 1861              		.loc 1 939 11 is_stmt 0 view .LVU586
 1862 0032 03F00207 		and	r7, r3, #2
 1863              	.LVL179:
 942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1864              		.loc 1 942 3 is_stmt 1 view .LVU587
 942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 73


 1865              		.loc 1 942 6 is_stmt 0 view .LVU588
 1866 0036 032B     		cmp	r3, #3
 1867 0038 0FD0     		beq	.L157
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1868              		.loc 1 944 10 is_stmt 1 view .LVU589
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1869              		.loc 1 944 13 is_stmt 0 view .LVU590
 1870 003a B9F1000F 		cmp	r9, #0
 1871 003e 06D0     		beq	.L158
 945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 1872              		.loc 1 945 20 view .LVU591
 1873 0040 327D     		ldrb	r2, [r6, #20]	@ zero_extendqisi2
 946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 1874              		.loc 1 946 43 view .LVU592
 1875 0042 531F     		subs	r3, r2, #5
 1876              	.LVL180:
 946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 1877              		.loc 1 946 43 view .LVU593
 1878 0044 DBB2     		uxtb	r3, r3
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1879              		.loc 1 944 22 discriminator 1 view .LVU594
 1880 0046 082A     		cmp	r2, #8
 1881 0048 18BF     		it	ne
 1882 004a 012B     		cmpne	r3, #1
 1883 004c 05D9     		bls	.L157
 1884              	.L158:
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1885              		.loc 1 949 10 is_stmt 1 view .LVU595
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1886              		.loc 1 949 13 is_stmt 0 view .LVU596
 1887 004e 002F     		cmp	r7, #0
 1888 0050 60D0     		beq	.L176
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1889              		.loc 1 949 31 discriminator 1 view .LVU597
 1890 0052 738B     		ldrh	r3, [r6, #26]
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1891              		.loc 1 949 22 discriminator 1 view .LVU598
 1892 0054 13F0100F 		tst	r3, #16
 1893 0058 5ED0     		beq	.L177
 1894              	.L157:
 957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1895              		.loc 1 957 5 is_stmt 1 view .LVU599
 1896 005a 0021     		movs	r1, #0
 1897 005c 3046     		mov	r0, r6
 1898 005e FFF7FEFF 		bl	tcp_arg
 1899              	.LVL181:
 957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1900              		.loc 1 957 5 is_stmt 0 view .LVU600
 1901 0062 4FF0010A 		mov	r10, #1
 1902              	.L159:
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1903              		.loc 1 959 3 is_stmt 1 view .LVU601
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1904              		.loc 1 959 11 is_stmt 0 view .LVU602
 1905 0066 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1906              		.loc 1 959 6 view .LVU603
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 74


 1907 0068 012B     		cmp	r3, #1
 1908 006a 58D0     		beq	.L184
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 1909              		.loc 1 963 5 is_stmt 1 view .LVU604
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 1910              		.loc 1 963 8 is_stmt 0 view .LVU605
 1911 006c B9F1000F 		cmp	r9, #0
 1912 0070 5AD1     		bne	.L185
 1913              	.L162:
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 1914              		.loc 1 967 5 is_stmt 1 view .LVU606
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 1915              		.loc 1 967 8 is_stmt 0 view .LVU607
 1916 0072 002F     		cmp	r7, #0
 1917 0074 61D1     		bne	.L186
 1918              	.L163:
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 1919              		.loc 1 970 5 is_stmt 1 view .LVU608
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 1920              		.loc 1 970 8 is_stmt 0 view .LVU609
 1921 0076 BAF1000F 		cmp	r10, #0
 1922 007a 63D1     		bne	.L187
 1923              	.L164:
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1924              		.loc 1 1009 5 is_stmt 1 view .LVU610
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1925              		.loc 1 1009 11 is_stmt 0 view .LVU611
 1926 007c 3A46     		mov	r2, r7
 1927 007e 4946     		mov	r1, r9
 1928 0080 3046     		mov	r0, r6
 1929 0082 FFF7FEFF 		bl	tcp_shutdown
 1930              	.LVL182:
 1931 0086 0546     		mov	r5, r0
 1932              	.LVL183:
 1933              	.L165:
1011:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
 1934              		.loc 1 1011 3 is_stmt 1 view .LVU612
1011:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
 1935              		.loc 1 1011 6 is_stmt 0 view .LVU613
 1936 0088 002D     		cmp	r5, #0
 1937 008a 6FD0     		beq	.L166
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 1938              		.loc 1 1021 5 is_stmt 1 view .LVU614
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 1939              		.loc 1 1021 8 is_stmt 0 view .LVU615
 1940 008c B5F1FF3F 		cmp	r5, #-1
 1941 0090 6CD1     		bne	.L166
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1942              		.loc 1 1042 7 is_stmt 1 view .LVU616
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1943              		.loc 1 1042 15 is_stmt 0 view .LVU617
 1944 0092 236A     		ldr	r3, [r4, #32]
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1945              		.loc 1 1042 36 view .LVU618
 1946 0094 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1947              		.loc 1 1042 10 view .LVU619
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 75


 1948 0096 002B     		cmp	r3, #0
 1949 0098 65D0     		beq	.L188
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
 1950              		.loc 1 1056 3 is_stmt 1 view .LVU620
1086:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing failed and we want to wait: restore some of the callbacks */
 1951              		.loc 1 1086 3 view .LVU621
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1952              		.loc 1 1089 5 view .LVU622
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1953              		.loc 1 1089 5 view .LVU623
 1954 009a 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 1955 009c 012B     		cmp	r3, #1
 1956 009e 00F09780 		beq	.L189
 1957              	.L169:
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1958              		.loc 1 1089 5 discriminator 3 view .LVU624
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1959              		.loc 1 1089 5 discriminator 3 view .LVU625
1090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 1960              		.loc 1 1090 5 view .LVU626
1090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 1961              		.loc 1 1090 8 is_stmt 0 view .LVU627
 1962 00a2 002F     		cmp	r7, #0
 1963 00a4 40F09C80 		bne	.L190
 1964              	.L175:
1094:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
 1965              		.loc 1 1094 5 is_stmt 1 view .LVU628
 1966 00a8 0122     		movs	r2, #1
 1967 00aa 5049     		ldr	r1, .L193
 1968 00ac 3046     		mov	r0, r6
 1969 00ae FFF7FEFF 		bl	tcp_poll
 1970              	.LVL184:
1095:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, conn);
 1971              		.loc 1 1095 5 view .LVU629
 1972 00b2 4F49     		ldr	r1, .L193+4
 1973 00b4 3046     		mov	r0, r6
 1974 00b6 FFF7FEFF 		bl	tcp_err
 1975              	.LVL185:
1096:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
 1976              		.loc 1 1096 5 view .LVU630
 1977 00ba 2146     		mov	r1, r4
 1978 00bc 3046     		mov	r0, r6
 1979 00be FFF7FEFF 		bl	tcp_arg
 1980              	.LVL186:
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1981              		.loc 1 1101 3 view .LVU631
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1982              		.loc 1 1101 3 view .LVU632
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1983              		.loc 1 1101 3 discriminator 3 view .LVU633
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1984              		.loc 1 1101 3 discriminator 3 view .LVU634
1102:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1985              		.loc 1 1102 3 view .LVU635
1102:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1986              		.loc 1 1102 10 is_stmt 0 view .LVU636
 1987 00c2 79E0     		b	.L174
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 76


 1988              	.LVL187:
 1989              	.L179:
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1990              		.loc 1 930 3 is_stmt 1 discriminator 1 view .LVU637
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1991              		.loc 1 930 3 discriminator 1 view .LVU638
 1992 00c4 4B4B     		ldr	r3, .L193+8
 1993 00c6 40F2A232 		movw	r2, #930
 1994 00ca 4B49     		ldr	r1, .L193+12
 1995              	.LVL188:
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1996              		.loc 1 930 3 is_stmt 0 discriminator 1 view .LVU639
 1997 00cc 4B48     		ldr	r0, .L193+16
 1998              	.LVL189:
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1999              		.loc 1 930 3 discriminator 1 view .LVU640
 2000 00ce FFF7FEFF 		bl	printf
 2001              	.LVL190:
 2002 00d2 9BE7     		b	.L152
 2003              	.L180:
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 2004              		.loc 1 931 3 is_stmt 1 discriminator 1 view .LVU641
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 2005              		.loc 1 931 3 discriminator 1 view .LVU642
 2006 00d4 474B     		ldr	r3, .L193+8
 2007 00d6 40F2A332 		movw	r2, #931
 2008 00da 4949     		ldr	r1, .L193+20
 2009 00dc 4748     		ldr	r0, .L193+16
 2010 00de FFF7FEFF 		bl	printf
 2011              	.LVL191:
 2012 00e2 98E7     		b	.L153
 2013              	.L181:
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 2014              		.loc 1 932 3 discriminator 1 view .LVU643
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 2015              		.loc 1 932 3 discriminator 1 view .LVU644
 2016 00e4 434B     		ldr	r3, .L193+8
 2017 00e6 4FF46972 		mov	r2, #932
 2018 00ea 4649     		ldr	r1, .L193+24
 2019 00ec 4348     		ldr	r0, .L193+16
 2020 00ee FFF7FEFF 		bl	printf
 2021              	.LVL192:
 2022 00f2 93E7     		b	.L154
 2023              	.L182:
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 2024              		.loc 1 933 3 discriminator 1 view .LVU645
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 2025              		.loc 1 933 3 discriminator 1 view .LVU646
 2026 00f4 3F4B     		ldr	r3, .L193+8
 2027 00f6 40F2A532 		movw	r2, #933
 2028 00fa 4349     		ldr	r1, .L193+28
 2029 00fc 3F48     		ldr	r0, .L193+16
 2030 00fe FFF7FEFF 		bl	printf
 2031              	.LVL193:
 2032 0102 8EE7     		b	.L155
 2033              	.L183:
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 77


 2034              		.loc 1 934 3 discriminator 1 view .LVU647
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2035              		.loc 1 934 3 discriminator 1 view .LVU648
 2036 0104 3B4B     		ldr	r3, .L193+8
 2037 0106 40F2A632 		movw	r2, #934
 2038 010a 4049     		ldr	r1, .L193+32
 2039 010c 3B48     		ldr	r0, .L193+16
 2040 010e FFF7FEFF 		bl	printf
 2041              	.LVL194:
 2042 0112 89E7     		b	.L156
 2043              	.LVL195:
 2044              	.L176:
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2045              		.loc 1 952 16 is_stmt 0 view .LVU649
 2046 0114 BA46     		mov	r10, r7
 2047 0116 A6E7     		b	.L159
 2048              	.L177:
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2049              		.loc 1 952 16 view .LVU650
 2050 0118 4FF0000A 		mov	r10, #0
 2051 011c A3E7     		b	.L159
 2052              	.LVL196:
 2053              	.L184:
 960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2054              		.loc 1 960 5 is_stmt 1 view .LVU651
 2055 011e 0021     		movs	r1, #0
 2056 0120 3046     		mov	r0, r6
 2057 0122 FFF7FEFF 		bl	tcp_accept
 2058              	.LVL197:
 2059 0126 16E0     		b	.L161
 2060              	.L185:
 964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 2061              		.loc 1 964 7 view .LVU652
 2062 0128 0021     		movs	r1, #0
 2063 012a 3046     		mov	r0, r6
 2064 012c FFF7FEFF 		bl	tcp_recv
 2065              	.LVL198:
 965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2066              		.loc 1 965 7 view .LVU653
 2067 0130 0021     		movs	r1, #0
 2068 0132 3046     		mov	r0, r6
 2069 0134 FFF7FEFF 		bl	tcp_accept
 2070              	.LVL199:
 2071 0138 9BE7     		b	.L162
 2072              	.L186:
 968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2073              		.loc 1 968 7 view .LVU654
 2074 013a 0021     		movs	r1, #0
 2075 013c 3046     		mov	r0, r6
 2076 013e FFF7FEFF 		bl	tcp_sent
 2077              	.LVL200:
 2078 0142 98E7     		b	.L163
 2079              	.L187:
 971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_err(tpcb, NULL);
 2080              		.loc 1 971 7 view .LVU655
 2081 0144 0022     		movs	r2, #0
 2082 0146 1146     		mov	r1, r2
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 78


 2083 0148 3046     		mov	r0, r6
 2084 014a FFF7FEFF 		bl	tcp_poll
 2085              	.LVL201:
 972:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2086              		.loc 1 972 7 view .LVU656
 2087 014e 0021     		movs	r1, #0
 2088 0150 3046     		mov	r0, r6
 2089 0152 FFF7FEFF 		bl	tcp_err
 2090              	.LVL202:
 2091              	.L161:
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 2092              		.loc 1 976 3 view .LVU657
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 2093              		.loc 1 976 6 is_stmt 0 view .LVU658
 2094 0156 BAF1000F 		cmp	r10, #0
 2095 015a 8FD0     		beq	.L164
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2096              		.loc 1 1006 7 is_stmt 1 view .LVU659
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2097              		.loc 1 1006 13 is_stmt 0 view .LVU660
 2098 015c 3046     		mov	r0, r6
 2099 015e FFF7FEFF 		bl	tcp_close
 2100              	.LVL203:
 2101 0162 0546     		mov	r5, r0
 2102              	.LVL204:
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2103              		.loc 1 1006 13 view .LVU661
 2104 0164 90E7     		b	.L165
 2105              	.L188:
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (shut_close) {
 2106              		.loc 1 1044 9 is_stmt 1 view .LVU662
 2107              	.LVL205:
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
 2108              		.loc 1 1045 9 view .LVU663
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
 2109              		.loc 1 1045 12 is_stmt 0 view .LVU664
 2110 0166 BAF1000F 		cmp	r10, #0
 2111 016a 28D1     		bne	.L191
 2112              	.LVL206:
 2113              	.L166:
 2114              	.LBB12:
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 2115              		.loc 1 1058 5 is_stmt 1 view .LVU665
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 2116              		.loc 1 1058 35 is_stmt 0 view .LVU666
 2117 016c 236A     		ldr	r3, [r4, #32]
 2118 016e 1E68     		ldr	r6, [r3]
 2119              	.LVL207:
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 2120              		.loc 1 1058 16 view .LVU667
 2121 0170 0C36     		adds	r6, r6, #12
 2122              	.LVL208:
1059:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 2123              		.loc 1 1059 5 is_stmt 1 view .LVU668
1059:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 2124              		.loc 1 1059 28 is_stmt 0 view .LVU669
 2125 0172 1D71     		strb	r5, [r3, #4]
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 79


1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 2126              		.loc 1 1060 5 is_stmt 1 view .LVU670
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 2127              		.loc 1 1060 23 is_stmt 0 view .LVU671
 2128 0174 0023     		movs	r3, #0
 2129 0176 2362     		str	r3, [r4, #32]
1061:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 2130              		.loc 1 1061 5 is_stmt 1 view .LVU672
1061:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 2131              		.loc 1 1061 17 is_stmt 0 view .LVU673
 2132 0178 6370     		strb	r3, [r4, #1]
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_close) {
 2133              		.loc 1 1062 5 is_stmt 1 view .LVU674
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_close) {
 2134              		.loc 1 1062 8 is_stmt 0 view .LVU675
 2135 017a CDB9     		cbnz	r5, .L170
1063:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 2136              		.loc 1 1063 7 is_stmt 1 view .LVU676
1063:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 2137              		.loc 1 1063 10 is_stmt 0 view .LVU677
 2138 017c BAF1000F 		cmp	r10, #0
 2139 0180 06D0     		beq	.L171
1065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 2140              		.loc 1 1065 9 is_stmt 1 view .LVU678
1065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 2141              		.loc 1 1065 23 is_stmt 0 view .LVU679
 2142 0182 6360     		str	r3, [r4, #4]
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2143              		.loc 1 1068 9 is_stmt 1 view .LVU680
 2144 0184 636A     		ldr	r3, [r4, #36]
 2145 0186 1BB1     		cbz	r3, .L171
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2146              		.loc 1 1068 9 discriminator 1 view .LVU681
 2147 0188 0022     		movs	r2, #0
 2148 018a 0421     		movs	r1, #4
 2149 018c 2046     		mov	r0, r4
 2150 018e 9847     		blx	r3
 2151              	.LVL209:
 2152              	.L171:
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2153              		.loc 1 1068 46 discriminator 3 view .LVU682
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 2154              		.loc 1 1070 7 view .LVU683
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 2155              		.loc 1 1070 10 is_stmt 0 view .LVU684
 2156 0190 B9F1000F 		cmp	r9, #0
 2157 0194 05D0     		beq	.L172
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2158              		.loc 1 1071 9 is_stmt 1 view .LVU685
 2159 0196 636A     		ldr	r3, [r4, #36]
 2160 0198 1BB1     		cbz	r3, .L172
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2161              		.loc 1 1071 9 discriminator 1 view .LVU686
 2162 019a 0022     		movs	r2, #0
 2163 019c 1146     		mov	r1, r2
 2164 019e 2046     		mov	r0, r4
 2165 01a0 9847     		blx	r3
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 80


 2166              	.LVL210:
 2167              	.L172:
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2168              		.loc 1 1071 48 discriminator 3 view .LVU687
1073:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2169              		.loc 1 1073 7 view .LVU688
1073:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2170              		.loc 1 1073 10 is_stmt 0 view .LVU689
 2171 01a2 2FB1     		cbz	r7, .L170
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2172              		.loc 1 1074 9 is_stmt 1 view .LVU690
 2173 01a4 636A     		ldr	r3, [r4, #36]
 2174 01a6 1BB1     		cbz	r3, .L170
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2175              		.loc 1 1074 9 discriminator 1 view .LVU691
 2176 01a8 0022     		movs	r2, #0
 2177 01aa 0221     		movs	r1, #2
 2178 01ac 2046     		mov	r0, r4
 2179 01ae 9847     		blx	r3
 2180              	.LVL211:
 2181              	.L170:
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2182              		.loc 1 1074 49 discriminator 3 view .LVU692
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2183              		.loc 1 1078 5 view .LVU693
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2184              		.loc 1 1078 8 is_stmt 0 view .LVU694
 2185 01b0 B8F1000F 		cmp	r8, #0
 2186 01b4 08D1     		bne	.L192
 2187              	.L173:
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2188              		.loc 1 1084 5 is_stmt 1 view .LVU695
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2189              		.loc 1 1084 12 is_stmt 0 view .LVU696
 2190 01b6 0025     		movs	r5, #0
 2191              	.LVL212:
 2192              	.L174:
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2193              		.loc 1 1084 12 view .LVU697
 2194              	.LBE12:
1103:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2195              		.loc 1 1103 1 view .LVU698
 2196 01b8 2846     		mov	r0, r5
 2197 01ba BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2198              	.LVL213:
 2199              	.L191:
1047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_OK;
 2200              		.loc 1 1047 11 is_stmt 1 view .LVU699
 2201 01be 3046     		mov	r0, r6
 2202 01c0 FFF7FEFF 		bl	tcp_abort
 2203              	.LVL214:
1048:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 2204              		.loc 1 1048 11 view .LVU700
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
 2205              		.loc 1 1056 3 view .LVU701
1048:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 2206              		.loc 1 1048 15 is_stmt 0 view .LVU702
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 81


 2207 01c4 0025     		movs	r5, #0
 2208 01c6 D1E7     		b	.L166
 2209              	.LVL215:
 2210              	.L192:
 2211              	.LBB13:
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2212              		.loc 1 1082 7 is_stmt 1 view .LVU703
 2213 01c8 3046     		mov	r0, r6
 2214 01ca FFF7FEFF 		bl	sys_sem_signal
 2215              	.LVL216:
 2216 01ce F2E7     		b	.L173
 2217              	.LVL217:
 2218              	.L189:
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2219              		.loc 1 1082 7 is_stmt 0 view .LVU704
 2220              	.LBE13:
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 2221              		.loc 1 1089 5 is_stmt 1 discriminator 1 view .LVU705
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 2222              		.loc 1 1089 5 discriminator 1 view .LVU706
 2223 01d0 084B     		ldr	r3, .L193+8
 2224 01d2 40F24142 		movw	r2, #1089
 2225 01d6 0E49     		ldr	r1, .L193+36
 2226 01d8 0848     		ldr	r0, .L193+16
 2227 01da FFF7FEFF 		bl	printf
 2228              	.LVL218:
 2229 01de 60E7     		b	.L169
 2230              	.L190:
1091:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2231              		.loc 1 1091 7 view .LVU707
 2232 01e0 0C49     		ldr	r1, .L193+40
 2233 01e2 3046     		mov	r0, r6
 2234 01e4 FFF7FEFF 		bl	tcp_sent
 2235              	.LVL219:
 2236 01e8 5EE7     		b	.L175
 2237              	.L194:
 2238 01ea 00BF     		.align	2
 2239              	.L193:
 2240 01ec 00000000 		.word	poll_tcp
 2241 01f0 00000000 		.word	err_tcp
 2242 01f4 00000000 		.word	.LC0
 2243 01f8 00000000 		.word	.LC19
 2244 01fc 40000000 		.word	.LC2
 2245 0200 10000000 		.word	.LC20
 2246 0204 30000000 		.word	.LC21
 2247 0208 54000000 		.word	.LC22
 2248 020c 10000000 		.word	.LC8
 2249 0210 68000000 		.word	.LC23
 2250 0214 00000000 		.word	sent_tcp
 2251              		.cfi_endproc
 2252              	.LFE378:
 2254              		.section	.text.poll_tcp,"ax",%progbits
 2255              		.align	1
 2256              		.syntax unified
 2257              		.thumb
 2258              		.thumb_func
 2260              	poll_tcp:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 82


 2261              	.LVL220:
 2262              	.LFB368:
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2263              		.loc 1 358 1 view -0
 2264              		.cfi_startproc
 2265              		@ args = 0, pretend = 0, frame = 0
 2266              		@ frame_needed = 0, uses_anonymous_args = 0
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2267              		.loc 1 358 1 is_stmt 0 view .LVU709
 2268 0000 10B5     		push	{r4, lr}
 2269              	.LCFI10:
 2270              		.cfi_def_cfa_offset 8
 2271              		.cfi_offset 4, -8
 2272              		.cfi_offset 14, -4
 359:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2273              		.loc 1 359 3 is_stmt 1 view .LVU710
 2274              	.LVL221:
 361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 2275              		.loc 1 361 3 view .LVU711
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2276              		.loc 1 362 3 view .LVU712
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2277              		.loc 1 362 3 view .LVU713
 2278 0002 0446     		mov	r4, r0
 2279 0004 F0B1     		cbz	r0, .L202
 2280              	.LVL222:
 2281              	.L196:
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2282              		.loc 1 362 3 discriminator 3 view .LVU714
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2283              		.loc 1 362 3 discriminator 3 view .LVU715
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2284              		.loc 1 364 3 view .LVU716
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2285              		.loc 1 364 11 is_stmt 0 view .LVU717
 2286 0006 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2287              		.loc 1 364 6 view .LVU718
 2288 0008 012B     		cmp	r3, #1
 2289 000a 23D0     		beq	.L203
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 2290              		.loc 1 366 10 is_stmt 1 view .LVU719
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 2291              		.loc 1 366 13 is_stmt 0 view .LVU720
 2292 000c 042B     		cmp	r3, #4
 2293 000e 26D0     		beq	.L204
 2294              	.L198:
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2295              		.loc 1 377 3 is_stmt 1 view .LVU721
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2296              		.loc 1 377 11 is_stmt 0 view .LVU722
 2297 0010 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2298              		.loc 1 377 6 view .LVU723
 2299 0012 13F0100F 		tst	r3, #16
 2300 0016 13D0     		beq	.L200
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 83


 2301              		.loc 1 380 5 is_stmt 1 view .LVU724
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2302              		.loc 1 380 19 is_stmt 0 view .LVU725
 2303 0018 6268     		ldr	r2, [r4, #4]
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2304              		.loc 1 380 8 view .LVU726
 2305 001a 8AB1     		cbz	r2, .L200
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2306              		.loc 1 380 37 discriminator 1 view .LVU727
 2307 001c B2F86410 		ldrh	r1, [r2, #100]
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2308              		.loc 1 380 33 discriminator 1 view .LVU728
 2309 0020 B1F5866F 		cmp	r1, #1072
 2310 0024 0CD3     		bcc	.L200
 381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 2311              		.loc 1 381 10 view .LVU729
 2312 0026 B2F86620 		ldrh	r2, [r2, #102]
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2313              		.loc 1 380 79 discriminator 2 view .LVU730
 2314 002a 042A     		cmp	r2, #4
 2315 002c 08D8     		bhi	.L200
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2316              		.loc 1 382 7 is_stmt 1 view .LVU731
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2317              		.loc 1 382 7 view .LVU732
 2318 002e 03F0EF03 		and	r3, r3, #239
 2319 0032 2377     		strb	r3, [r4, #28]
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2320              		.loc 1 382 7 view .LVU733
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2321              		.loc 1 383 7 view .LVU734
 2322 0034 636A     		ldr	r3, [r4, #36]
 2323 0036 1BB1     		cbz	r3, .L200
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2324              		.loc 1 383 7 discriminator 1 view .LVU735
 2325 0038 0022     		movs	r2, #0
 2326 003a 0221     		movs	r1, #2
 2327 003c 2046     		mov	r0, r4
 2328 003e 9847     		blx	r3
 2329              	.LVL223:
 2330              	.L200:
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2331              		.loc 1 383 47 discriminator 3 view .LVU736
 387:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2332              		.loc 1 387 3 view .LVU737
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2333              		.loc 1 388 1 is_stmt 0 view .LVU738
 2334 0040 0020     		movs	r0, #0
 2335 0042 10BD     		pop	{r4, pc}
 2336              	.LVL224:
 2337              	.L202:
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2338              		.loc 1 362 3 is_stmt 1 discriminator 1 view .LVU739
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2339              		.loc 1 362 3 discriminator 1 view .LVU740
 2340 0044 0B4B     		ldr	r3, .L205
 2341 0046 4FF4B572 		mov	r2, #362
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 84


 2342 004a 0B49     		ldr	r1, .L205+4
 2343              	.LVL225:
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2344              		.loc 1 362 3 is_stmt 0 discriminator 1 view .LVU741
 2345 004c 0B48     		ldr	r0, .L205+8
 2346              	.LVL226:
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2347              		.loc 1 362 3 discriminator 1 view .LVU742
 2348 004e FFF7FEFF 		bl	printf
 2349              	.LVL227:
 2350 0052 D8E7     		b	.L196
 2351              	.L203:
 365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 2352              		.loc 1 365 5 is_stmt 1 view .LVU743
 2353 0054 0121     		movs	r1, #1
 2354 0056 2046     		mov	r0, r4
 2355 0058 FFF7FEFF 		bl	lwip_netconn_do_writemore
 2356              	.LVL228:
 2357 005c D8E7     		b	.L198
 2358              	.L204:
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2359              		.loc 1 368 5 view .LVU744
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2360              		.loc 1 368 13 is_stmt 0 view .LVU745
 2361 005e 236A     		ldr	r3, [r4, #32]
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2362              		.loc 1 368 8 view .LVU746
 2363 0060 1BB1     		cbz	r3, .L199
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2364              		.loc 1 368 55 discriminator 1 view .LVU747
 2365 0062 5A7A     		ldrb	r2, [r3, #9]	@ zero_extendqisi2
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2366              		.loc 1 368 27 discriminator 1 view .LVU748
 2367 0064 0AB1     		cbz	r2, .L199
 369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2368              		.loc 1 369 7 is_stmt 1 view .LVU749
 369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2369              		.loc 1 369 43 is_stmt 0 view .LVU750
 2370 0066 013A     		subs	r2, r2, #1
 2371 0068 5A72     		strb	r2, [r3, #9]
 2372              	.L199:
 372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2373              		.loc 1 372 5 is_stmt 1 view .LVU751
 2374 006a 0121     		movs	r1, #1
 2375 006c 2046     		mov	r0, r4
 2376 006e FFF7FEFF 		bl	lwip_netconn_do_close_internal
 2377              	.LVL229:
 2378 0072 CDE7     		b	.L198
 2379              	.L206:
 2380              		.align	2
 2381              	.L205:
 2382 0074 00000000 		.word	.LC0
 2383 0078 00000000 		.word	.LC7
 2384 007c 40000000 		.word	.LC2
 2385              		.cfi_endproc
 2386              	.LFE368:
 2388              		.section	.text.sent_tcp,"ax",%progbits
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 85


 2389              		.align	1
 2390              		.syntax unified
 2391              		.thumb
 2392              		.thumb_func
 2394              	sent_tcp:
 2395              	.LVL230:
 2396              	.LFB369:
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2397              		.loc 1 399 1 view -0
 2398              		.cfi_startproc
 2399              		@ args = 0, pretend = 0, frame = 0
 2400              		@ frame_needed = 0, uses_anonymous_args = 0
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2401              		.loc 1 399 1 is_stmt 0 view .LVU753
 2402 0000 38B5     		push	{r3, r4, r5, lr}
 2403              	.LCFI11:
 2404              		.cfi_def_cfa_offset 16
 2405              		.cfi_offset 3, -16
 2406              		.cfi_offset 4, -12
 2407              		.cfi_offset 5, -8
 2408              		.cfi_offset 14, -4
 400:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2409              		.loc 1 400 3 is_stmt 1 view .LVU754
 2410              	.LVL231:
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 2411              		.loc 1 402 3 view .LVU755
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2412              		.loc 1 403 3 view .LVU756
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2413              		.loc 1 403 3 view .LVU757
 2414 0002 E0B1     		cbz	r0, .L208
 2415 0004 1546     		mov	r5, r2
 2416 0006 0446     		mov	r4, r0
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2417              		.loc 1 403 3 discriminator 3 view .LVU758
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2418              		.loc 1 403 3 discriminator 3 view .LVU759
 405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 2419              		.loc 1 405 3 view .LVU760
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2420              		.loc 1 406 5 view .LVU761
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2421              		.loc 1 406 13 is_stmt 0 view .LVU762
 2422 0008 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2423              		.loc 1 406 8 view .LVU763
 2424 000a 012B     		cmp	r3, #1
 2425 000c 20D0     		beq	.L215
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 2426              		.loc 1 408 12 is_stmt 1 view .LVU764
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 2427              		.loc 1 408 15 is_stmt 0 view .LVU765
 2428 000e 042B     		cmp	r3, #4
 2429 0010 22D0     		beq	.L216
 2430              	.LVL232:
 2431              	.L212:
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 86


 2432              		.loc 1 414 5 is_stmt 1 view .LVU766
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2433              		.loc 1 414 19 is_stmt 0 view .LVU767
 2434 0012 6368     		ldr	r3, [r4, #4]
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2435              		.loc 1 414 8 view .LVU768
 2436 0014 D3B1     		cbz	r3, .L211
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2437              		.loc 1 414 37 discriminator 1 view .LVU769
 2438 0016 B3F86420 		ldrh	r2, [r3, #100]
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2439              		.loc 1 414 33 discriminator 1 view .LVU770
 2440 001a B2F5866F 		cmp	r2, #1072
 2441 001e 15D3     		bcc	.L211
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 2442              		.loc 1 415 10 view .LVU771
 2443 0020 B3F86630 		ldrh	r3, [r3, #102]
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2444              		.loc 1 414 79 discriminator 2 view .LVU772
 2445 0024 042B     		cmp	r3, #4
 2446 0026 11D8     		bhi	.L211
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2447              		.loc 1 416 7 is_stmt 1 view .LVU773
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2448              		.loc 1 416 7 view .LVU774
 2449 0028 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 2450 002a 03F0EF03 		and	r3, r3, #239
 2451 002e 2377     		strb	r3, [r4, #28]
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2452              		.loc 1 416 7 view .LVU775
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2453              		.loc 1 417 7 view .LVU776
 2454 0030 636A     		ldr	r3, [r4, #36]
 2455 0032 5BB1     		cbz	r3, .L211
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2456              		.loc 1 417 7 discriminator 1 view .LVU777
 2457 0034 2A46     		mov	r2, r5
 2458 0036 0221     		movs	r1, #2
 2459 0038 2046     		mov	r0, r4
 2460 003a 9847     		blx	r3
 2461              	.LVL233:
 2462 003c 06E0     		b	.L211
 2463              	.LVL234:
 2464              	.L208:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2465              		.loc 1 403 3 discriminator 1 view .LVU778
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2466              		.loc 1 403 3 discriminator 1 view .LVU779
 2467 003e 084B     		ldr	r3, .L217
 2468 0040 40F29312 		movw	r2, #403
 2469              	.LVL235:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2470              		.loc 1 403 3 is_stmt 0 discriminator 1 view .LVU780
 2471 0044 0749     		ldr	r1, .L217+4
 2472              	.LVL236:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2473              		.loc 1 403 3 discriminator 1 view .LVU781
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 87


 2474 0046 0848     		ldr	r0, .L217+8
 2475              	.LVL237:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2476              		.loc 1 403 3 discriminator 1 view .LVU782
 2477 0048 FFF7FEFF 		bl	printf
 2478              	.LVL238:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2479              		.loc 1 403 3 is_stmt 1 discriminator 3 view .LVU783
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2480              		.loc 1 403 3 discriminator 3 view .LVU784
 405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 2481              		.loc 1 405 3 view .LVU785
 2482              	.L211:
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2483              		.loc 1 417 49 discriminator 3 view .LVU786
 421:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2484              		.loc 1 421 3 view .LVU787
 422:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2485              		.loc 1 422 1 is_stmt 0 view .LVU788
 2486 004c 0020     		movs	r0, #0
 2487 004e 38BD     		pop	{r3, r4, r5, pc}
 2488              	.LVL239:
 2489              	.L215:
 407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 2490              		.loc 1 407 7 is_stmt 1 view .LVU789
 2491 0050 0121     		movs	r1, #1
 2492              	.LVL240:
 407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 2493              		.loc 1 407 7 is_stmt 0 view .LVU790
 2494 0052 FFF7FEFF 		bl	lwip_netconn_do_writemore
 2495              	.LVL241:
 407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 2496              		.loc 1 407 7 view .LVU791
 2497 0056 DCE7     		b	.L212
 2498              	.LVL242:
 2499              	.L216:
 409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2500              		.loc 1 409 7 is_stmt 1 view .LVU792
 2501 0058 0121     		movs	r1, #1
 2502              	.LVL243:
 409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2503              		.loc 1 409 7 is_stmt 0 view .LVU793
 2504 005a FFF7FEFF 		bl	lwip_netconn_do_close_internal
 2505              	.LVL244:
 409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2506              		.loc 1 409 7 view .LVU794
 2507 005e D8E7     		b	.L212
 2508              	.L218:
 2509              		.align	2
 2510              	.L217:
 2511 0060 00000000 		.word	.LC0
 2512 0064 00000000 		.word	.LC7
 2513 0068 40000000 		.word	.LC2
 2514              		.cfi_endproc
 2515              	.LFE369:
 2517              		.section	.rodata.recv_tcp.str1.4,"aMS",%progbits,1
 2518              		.align	2
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 88


 2519              	.LC24:
 2520 0000 72656376 		.ascii	"recv_tcp must have a pcb argument\000"
 2520      5F746370 
 2520      206D7573 
 2520      74206861 
 2520      76652061 
 2521 0022 0000     		.align	2
 2522              	.LC25:
 2523 0024 72656376 		.ascii	"recv_tcp must have an argument\000"
 2523      5F746370 
 2523      206D7573 
 2523      74206861 
 2523      76652061 
 2524 0043 00       		.align	2
 2525              	.LC26:
 2526 0044 65727220 		.ascii	"err != ERR_OK unhandled\000"
 2526      213D2045 
 2526      52525F4F 
 2526      4B20756E 
 2526      68616E64 
 2527              		.align	2
 2528              	.LC27:
 2529 005c 72656376 		.ascii	"recv_tcp: recv for wrong pcb!\000"
 2529      5F746370 
 2529      3A207265 
 2529      63762066 
 2529      6F722077 
 2530              		.section	.text.recv_tcp,"ax",%progbits
 2531              		.align	1
 2532              		.syntax unified
 2533              		.thumb
 2534              		.thumb_func
 2536              	recv_tcp:
 2537              	.LVL245:
 2538              	.LFB367:
 294:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2539              		.loc 1 294 1 is_stmt 1 view -0
 2540              		.cfi_startproc
 2541              		@ args = 0, pretend = 0, frame = 0
 2542              		@ frame_needed = 0, uses_anonymous_args = 0
 294:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2543              		.loc 1 294 1 is_stmt 0 view .LVU796
 2544 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2545              	.LCFI12:
 2546              		.cfi_def_cfa_offset 24
 2547              		.cfi_offset 3, -24
 2548              		.cfi_offset 4, -20
 2549              		.cfi_offset 5, -16
 2550              		.cfi_offset 6, -12
 2551              		.cfi_offset 7, -8
 2552              		.cfi_offset 14, -4
 2553 0002 0446     		mov	r4, r0
 2554 0004 1546     		mov	r5, r2
 2555 0006 1E46     		mov	r6, r3
 295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 2556              		.loc 1 295 3 is_stmt 1 view .LVU797
 296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *msg;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 89


 2557              		.loc 1 296 3 view .LVU798
 297:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2558              		.loc 1 297 3 view .LVU799
 299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have a pcb argument", pcb != NULL);
 2559              		.loc 1 299 3 view .LVU800
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2560              		.loc 1 300 3 view .LVU801
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2561              		.loc 1 300 3 view .LVU802
 2562 0008 0F46     		mov	r7, r1
 2563 000a 21B3     		cbz	r1, .L232
 2564              	.LVL246:
 2565              	.L220:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2566              		.loc 1 300 3 discriminator 3 view .LVU803
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2567              		.loc 1 300 3 discriminator 3 view .LVU804
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2568              		.loc 1 301 3 view .LVU805
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2569              		.loc 1 301 3 view .LVU806
 2570 000c 5CB3     		cbz	r4, .L233
 2571              	.L221:
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2572              		.loc 1 301 3 discriminator 3 view .LVU807
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2573              		.loc 1 301 3 discriminator 3 view .LVU808
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2574              		.loc 1 302 3 view .LVU809
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2575              		.loc 1 302 3 view .LVU810
 2576 000e 002E     		cmp	r6, #0
 2577 0010 31D1     		bne	.L234
 2578              	.L222:
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2579              		.loc 1 302 3 discriminator 3 view .LVU811
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2580              		.loc 1 302 3 discriminator 3 view .LVU812
 303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 2581              		.loc 1 303 3 view .LVU813
 304:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2582              		.loc 1 304 3 view .LVU814
 2583              	.LVL247:
 306:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 2584              		.loc 1 306 3 view .LVU815
 306:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 2585              		.loc 1 306 6 is_stmt 0 view .LVU816
 2586 0012 002C     		cmp	r4, #0
 2587 0014 44D0     		beq	.L228
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2588              		.loc 1 309 3 is_stmt 1 view .LVU817
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2589              		.loc 1 309 3 view .LVU818
 2590 0016 6368     		ldr	r3, [r4, #4]
 2591 0018 BB42     		cmp	r3, r7
 2592 001a 06D0     		beq	.L224
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 90


 2593              		.loc 1 309 3 discriminator 1 view .LVU819
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2594              		.loc 1 309 3 discriminator 1 view .LVU820
 2595 001c 234B     		ldr	r3, .L236
 2596 001e 40F23512 		movw	r2, #309
 2597 0022 2349     		ldr	r1, .L236+4
 2598 0024 2348     		ldr	r0, .L236+8
 2599 0026 FFF7FEFF 		bl	printf
 2600              	.LVL248:
 2601              	.L224:
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2602              		.loc 1 309 3 discriminator 3 view .LVU821
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2603              		.loc 1 309 3 discriminator 3 view .LVU822
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2604              		.loc 1 311 3 view .LVU823
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2605              		.loc 1 311 8 is_stmt 0 view .LVU824
 2606 002a 04F11006 		add	r6, r4, #16
 2607              	.LVL249:
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2608              		.loc 1 311 8 view .LVU825
 2609 002e 3046     		mov	r0, r6
 2610 0030 FFF7FEFF 		bl	sys_mbox_valid
 2611              	.LVL250:
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2612              		.loc 1 311 6 discriminator 1 view .LVU826
 2613 0034 38B3     		cbz	r0, .L235
 323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = p;
 2614              		.loc 1 323 3 is_stmt 1 view .LVU827
 323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = p;
 2615              		.loc 1 323 6 is_stmt 0 view .LVU828
 2616 0036 85B3     		cbz	r5, .L229
 324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = p->tot_len;
 2617              		.loc 1 324 5 is_stmt 1 view .LVU829
 2618              	.LVL251:
 325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2619              		.loc 1 325 5 view .LVU830
 325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2620              		.loc 1 325 9 is_stmt 0 view .LVU831
 2621 0038 2F89     		ldrh	r7, [r5, #8]
 2622              	.LVL252:
 2623              	.L227:
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2624              		.loc 1 331 3 is_stmt 1 view .LVU832
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2625              		.loc 1 331 7 is_stmt 0 view .LVU833
 2626 003a 2946     		mov	r1, r5
 2627 003c 3046     		mov	r0, r6
 2628 003e FFF7FEFF 		bl	sys_mbox_trypost
 2629              	.LVL253:
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2630              		.loc 1 331 6 discriminator 1 view .LVU834
 2631 0042 0546     		mov	r5, r0
 2632              	.LVL254:
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2633              		.loc 1 331 6 discriminator 1 view .LVU835
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 91


 2634 0044 78BB     		cbnz	r0, .L230
 339:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2635              		.loc 1 339 5 is_stmt 1 view .LVU836
 2636 0046 636A     		ldr	r3, [r4, #36]
 2637 0048 1BB1     		cbz	r3, .L223
 339:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2638              		.loc 1 339 5 discriminator 1 view .LVU837
 2639 004a 3A46     		mov	r2, r7
 2640 004c 0021     		movs	r1, #0
 2641 004e 2046     		mov	r0, r4
 2642 0050 9847     		blx	r3
 2643              	.LVL255:
 2644              	.L223:
 343:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2645              		.loc 1 343 1 is_stmt 0 view .LVU838
 2646 0052 2846     		mov	r0, r5
 2647 0054 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2648              	.LVL256:
 2649              	.L232:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2650              		.loc 1 300 3 is_stmt 1 discriminator 1 view .LVU839
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2651              		.loc 1 300 3 discriminator 1 view .LVU840
 2652 0056 154B     		ldr	r3, .L236
 2653              	.LVL257:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2654              		.loc 1 300 3 is_stmt 0 discriminator 1 view .LVU841
 2655 0058 4FF49672 		mov	r2, #300
 2656              	.LVL258:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2657              		.loc 1 300 3 discriminator 1 view .LVU842
 2658 005c 1649     		ldr	r1, .L236+12
 2659              	.LVL259:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2660              		.loc 1 300 3 discriminator 1 view .LVU843
 2661 005e 1548     		ldr	r0, .L236+8
 2662              	.LVL260:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2663              		.loc 1 300 3 discriminator 1 view .LVU844
 2664 0060 FFF7FEFF 		bl	printf
 2665              	.LVL261:
 2666 0064 D2E7     		b	.L220
 2667              	.L233:
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2668              		.loc 1 301 3 is_stmt 1 discriminator 1 view .LVU845
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2669              		.loc 1 301 3 discriminator 1 view .LVU846
 2670 0066 114B     		ldr	r3, .L236
 2671 0068 40F22D12 		movw	r2, #301
 2672 006c 1349     		ldr	r1, .L236+16
 2673 006e 1148     		ldr	r0, .L236+8
 2674 0070 FFF7FEFF 		bl	printf
 2675              	.LVL262:
 2676 0074 CBE7     		b	.L221
 2677              	.L234:
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2678              		.loc 1 302 3 discriminator 1 view .LVU847
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 92


 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2679              		.loc 1 302 3 discriminator 1 view .LVU848
 2680 0076 0D4B     		ldr	r3, .L236
 2681 0078 4FF49772 		mov	r2, #302
 2682 007c 1049     		ldr	r1, .L236+20
 2683 007e 0D48     		ldr	r0, .L236+8
 2684 0080 FFF7FEFF 		bl	printf
 2685              	.LVL263:
 2686 0084 C5E7     		b	.L222
 2687              	.LVL264:
 2688              	.L235:
 313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 2689              		.loc 1 313 5 view .LVU849
 313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 2690              		.loc 1 313 8 is_stmt 0 view .LVU850
 2691 0086 35B1     		cbz	r5, .L226
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       pbuf_free(p);
 2692              		.loc 1 314 7 is_stmt 1 view .LVU851
 2693 0088 2989     		ldrh	r1, [r5, #8]
 2694 008a 3846     		mov	r0, r7
 2695 008c FFF7FEFF 		bl	tcp_recved
 2696              	.LVL265:
 315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2697              		.loc 1 315 7 view .LVU852
 2698 0090 2846     		mov	r0, r5
 2699 0092 FFF7FEFF 		bl	pbuf_free
 2700              	.LVL266:
 2701              	.L226:
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2702              		.loc 1 317 5 view .LVU853
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2703              		.loc 1 317 12 is_stmt 0 view .LVU854
 2704 0096 0025     		movs	r5, #0
 2705              	.LVL267:
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2706              		.loc 1 317 12 view .LVU855
 2707 0098 DBE7     		b	.L223
 2708              	.LVL268:
 2709              	.L229:
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = 0;
 2710              		.loc 1 327 9 view .LVU856
 2711 009a 0A4D     		ldr	r5, .L236+24
 2712              	.LVL269:
 328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2713              		.loc 1 328 9 view .LVU857
 2714 009c 0027     		movs	r7, #0
 2715              	.LVL270:
 328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2716              		.loc 1 328 9 view .LVU858
 2717 009e CCE7     		b	.L227
 2718              	.LVL271:
 2719              	.L228:
 307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2720              		.loc 1 307 12 view .LVU859
 2721 00a0 6FF00505 		mvn	r5, #5
 2722              	.LVL272:
 307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 93


 2723              		.loc 1 307 12 view .LVU860
 2724 00a4 D5E7     		b	.L223
 2725              	.LVL273:
 2726              	.L230:
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2727              		.loc 1 333 12 view .LVU861
 2728 00a6 4FF0FF35 		mov	r5, #-1
 2729 00aa D2E7     		b	.L223
 2730              	.L237:
 2731              		.align	2
 2732              	.L236:
 2733 00ac 00000000 		.word	.LC0
 2734 00b0 5C000000 		.word	.LC27
 2735 00b4 40000000 		.word	.LC2
 2736 00b8 00000000 		.word	.LC24
 2737 00bc 24000000 		.word	.LC25
 2738 00c0 44000000 		.word	.LC26
 2739 00c4 00000000 		.word	netconn_closed
 2740              		.cfi_endproc
 2741              	.LFE367:
 2743              		.section	.rodata.lwip_netconn_is_err_msg.str1.4,"aMS",%progbits,1
 2744              		.align	2
 2745              	.LC28:
 2746 0000 65727220 		.ascii	"err != NULL\000"
 2746      213D204E 
 2746      554C4C00 
 2747              		.section	.text.lwip_netconn_is_err_msg,"ax",%progbits
 2748              		.align	1
 2749              		.global	lwip_netconn_is_err_msg
 2750              		.syntax unified
 2751              		.thumb
 2752              		.thumb_func
 2754              	lwip_netconn_is_err_msg:
 2755              	.LVL274:
 2756              	.LFB365:
 132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 2757              		.loc 1 132 1 is_stmt 1 view -0
 2758              		.cfi_startproc
 2759              		@ args = 0, pretend = 0, frame = 0
 2760              		@ frame_needed = 0, uses_anonymous_args = 0
 132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 2761              		.loc 1 132 1 is_stmt 0 view .LVU863
 2762 0000 38B5     		push	{r3, r4, r5, lr}
 2763              	.LCFI13:
 2764              		.cfi_def_cfa_offset 16
 2765              		.cfi_offset 3, -16
 2766              		.cfi_offset 4, -12
 2767              		.cfi_offset 5, -8
 2768              		.cfi_offset 14, -4
 2769 0002 0446     		mov	r4, r0
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2770              		.loc 1 133 3 is_stmt 1 view .LVU864
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2771              		.loc 1 133 3 view .LVU865
 2772 0004 0D46     		mov	r5, r1
 2773 0006 51B1     		cbz	r1, .L245
 2774              	.LVL275:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 94


 2775              	.L239:
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2776              		.loc 1 133 3 discriminator 3 view .LVU866
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2777              		.loc 1 133 3 discriminator 3 view .LVU867
 135:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_ABRT;
 2778              		.loc 1 135 3 view .LVU868
 135:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_ABRT;
 2779              		.loc 1 135 6 is_stmt 0 view .LVU869
 2780 0008 0E4B     		ldr	r3, .L249
 2781 000a 9C42     		cmp	r4, r3
 2782 000c 0ED0     		beq	.L246
 138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_RST;
 2783              		.loc 1 138 10 is_stmt 1 view .LVU870
 138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_RST;
 2784              		.loc 1 138 13 is_stmt 0 view .LVU871
 2785 000e 0E4B     		ldr	r3, .L249+4
 2786 0010 9C42     		cmp	r4, r3
 2787 0012 0FD0     		beq	.L247
 141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_CLSD;
 2788              		.loc 1 141 10 is_stmt 1 view .LVU872
 141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_CLSD;
 2789              		.loc 1 141 13 is_stmt 0 view .LVU873
 2790 0014 0D4B     		ldr	r3, .L249+8
 2791 0016 9C42     		cmp	r4, r3
 2792 0018 10D0     		beq	.L248
 145:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2793              		.loc 1 145 10 view .LVU874
 2794 001a 0020     		movs	r0, #0
 2795              	.L238:
 146:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2796              		.loc 1 146 1 view .LVU875
 2797 001c 38BD     		pop	{r3, r4, r5, pc}
 2798              	.LVL276:
 2799              	.L245:
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2800              		.loc 1 133 3 is_stmt 1 discriminator 1 view .LVU876
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2801              		.loc 1 133 3 discriminator 1 view .LVU877
 2802 001e 0C4B     		ldr	r3, .L249+12
 2803 0020 8522     		movs	r2, #133
 2804 0022 0C49     		ldr	r1, .L249+16
 2805              	.LVL277:
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2806              		.loc 1 133 3 is_stmt 0 discriminator 1 view .LVU878
 2807 0024 0C48     		ldr	r0, .L249+20
 2808              	.LVL278:
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2809              		.loc 1 133 3 discriminator 1 view .LVU879
 2810 0026 FFF7FEFF 		bl	printf
 2811              	.LVL279:
 2812 002a EDE7     		b	.L239
 2813              	.L246:
 136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2814              		.loc 1 136 5 is_stmt 1 view .LVU880
 136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2815              		.loc 1 136 10 is_stmt 0 view .LVU881
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 95


 2816 002c F323     		movs	r3, #243
 2817 002e 2B70     		strb	r3, [r5]
 137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 2818              		.loc 1 137 5 is_stmt 1 view .LVU882
 137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 2819              		.loc 1 137 12 is_stmt 0 view .LVU883
 2820 0030 0120     		movs	r0, #1
 2821 0032 F3E7     		b	.L238
 2822              	.L247:
 139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2823              		.loc 1 139 5 is_stmt 1 view .LVU884
 139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2824              		.loc 1 139 10 is_stmt 0 view .LVU885
 2825 0034 F223     		movs	r3, #242
 2826 0036 2B70     		strb	r3, [r5]
 140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 2827              		.loc 1 140 5 is_stmt 1 view .LVU886
 140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 2828              		.loc 1 140 12 is_stmt 0 view .LVU887
 2829 0038 0120     		movs	r0, #1
 2830 003a EFE7     		b	.L238
 2831              	.L248:
 142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2832              		.loc 1 142 5 is_stmt 1 view .LVU888
 142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2833              		.loc 1 142 10 is_stmt 0 view .LVU889
 2834 003c F123     		movs	r3, #241
 2835 003e 2B70     		strb	r3, [r5]
 143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2836              		.loc 1 143 5 is_stmt 1 view .LVU890
 143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2837              		.loc 1 143 12 is_stmt 0 view .LVU891
 2838 0040 0120     		movs	r0, #1
 2839 0042 EBE7     		b	.L238
 2840              	.L250:
 2841              		.align	2
 2842              	.L249:
 2843 0044 00000000 		.word	netconn_aborted
 2844 0048 00000000 		.word	netconn_reset
 2845 004c 00000000 		.word	netconn_closed
 2846 0050 00000000 		.word	.LC0
 2847 0054 00000000 		.word	.LC28
 2848 0058 40000000 		.word	.LC2
 2849              		.cfi_endproc
 2850              	.LFE365:
 2852              		.section	.text.lwip_netconn_do_newconn,"ax",%progbits
 2853              		.align	1
 2854              		.global	lwip_netconn_do_newconn
 2855              		.syntax unified
 2856              		.thumb
 2857              		.thumb_func
 2859              	lwip_netconn_do_newconn:
 2860              	.LVL280:
 2861              	.LFB374:
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 2862              		.loc 1 681 1 is_stmt 1 view -0
 2863              		.cfi_startproc
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 96


 2864              		@ args = 0, pretend = 0, frame = 0
 2865              		@ frame_needed = 0, uses_anonymous_args = 0
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 2866              		.loc 1 681 1 is_stmt 0 view .LVU893
 2867 0000 08B5     		push	{r3, lr}
 2868              	.LCFI14:
 2869              		.cfi_def_cfa_offset 8
 2870              		.cfi_offset 3, -8
 2871              		.cfi_offset 14, -4
 682:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2872              		.loc 1 682 3 is_stmt 1 view .LVU894
 2873              	.LVL281:
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 2874              		.loc 1 684 3 view .LVU895
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 2875              		.loc 1 684 12 is_stmt 0 view .LVU896
 2876 0002 0023     		movs	r3, #0
 2877 0004 0371     		strb	r3, [r0, #4]
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2878              		.loc 1 685 3 is_stmt 1 view .LVU897
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2879              		.loc 1 685 10 is_stmt 0 view .LVU898
 2880 0006 0368     		ldr	r3, [r0]
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2881              		.loc 1 685 21 view .LVU899
 2882 0008 5B68     		ldr	r3, [r3, #4]
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2883              		.loc 1 685 6 view .LVU900
 2884 000a 03B1     		cbz	r3, .L254
 2885              	.LVL282:
 2886              	.L251:
 693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2887              		.loc 1 693 1 view .LVU901
 2888 000c 08BD     		pop	{r3, pc}
 2889              	.LVL283:
 2890              	.L254:
 686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2891              		.loc 1 686 5 is_stmt 1 view .LVU902
 2892 000e FFF7FEFF 		bl	pcb_new
 2893              	.LVL284:
 692:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2894              		.loc 1 692 24 view .LVU903
 693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2895              		.loc 1 693 1 is_stmt 0 view .LVU904
 2896 0012 FBE7     		b	.L251
 2897              		.cfi_endproc
 2898              	.LFE374:
 2900              		.section	.rodata.netconn_alloc.str1.4,"aMS",%progbits,1
 2901              		.align	2
 2902              	.LC29:
 2903 0000 6E657463 		.ascii	"netconn_alloc: undefined netconn_type\000"
 2903      6F6E6E5F 
 2903      616C6C6F 
 2903      633A2075 
 2903      6E646566 
 2904              		.section	.text.netconn_alloc,"ax",%progbits
 2905              		.align	1
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 97


 2906              		.global	netconn_alloc
 2907              		.syntax unified
 2908              		.thumb
 2909              		.thumb_func
 2911              	netconn_alloc:
 2912              	.LVL285:
 2913              	.LFB375:
 706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2914              		.loc 1 706 1 is_stmt 1 view -0
 2915              		.cfi_startproc
 2916              		@ args = 0, pretend = 0, frame = 0
 2917              		@ frame_needed = 0, uses_anonymous_args = 0
 706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2918              		.loc 1 706 1 is_stmt 0 view .LVU906
 2919 0000 70B5     		push	{r4, r5, r6, lr}
 2920              	.LCFI15:
 2921              		.cfi_def_cfa_offset 16
 2922              		.cfi_offset 4, -16
 2923              		.cfi_offset 5, -12
 2924              		.cfi_offset 6, -8
 2925              		.cfi_offset 14, -4
 2926 0002 0546     		mov	r5, r0
 2927 0004 0E46     		mov	r6, r1
 707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int size;
 2928              		.loc 1 707 3 is_stmt 1 view .LVU907
 708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t init_flags = 0;
 2929              		.loc 1 708 3 view .LVU908
 709:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2930              		.loc 1 709 3 view .LVU909
 2931              	.LVL286:
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 2932              		.loc 1 711 3 view .LVU910
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 2933              		.loc 1 711 28 is_stmt 0 view .LVU911
 2934 0006 0720     		movs	r0, #7
 2935              	.LVL287:
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 2936              		.loc 1 711 28 view .LVU912
 2937 0008 FFF7FEFF 		bl	memp_malloc
 2938              	.LVL288:
 712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 2939              		.loc 1 712 3 is_stmt 1 view .LVU913
 712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 2940              		.loc 1 712 6 is_stmt 0 view .LVU914
 2941 000c 0446     		mov	r4, r0
 2942 000e 78B3     		cbz	r0, .L255
 716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 2943              		.loc 1 716 3 is_stmt 1 view .LVU915
 716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 2944              		.loc 1 716 21 is_stmt 0 view .LVU916
 2945 0010 0023     		movs	r3, #0
 2946 0012 0372     		strb	r3, [r0, #8]
 717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 2947              		.loc 1 717 3 is_stmt 1 view .LVU917
 717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 2948              		.loc 1 717 14 is_stmt 0 view .LVU918
 2949 0014 0570     		strb	r5, [r0]
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 98


 718:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2950              		.loc 1 718 3 is_stmt 1 view .LVU919
 718:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2951              		.loc 1 718 17 is_stmt 0 view .LVU920
 2952 0016 4360     		str	r3, [r0, #4]
 721:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 2953              		.loc 1 721 3 is_stmt 1 view .LVU921
 2954 0018 05F0F005 		and	r5, r5, #240
 2955              	.LVL289:
 721:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 2956              		.loc 1 721 3 is_stmt 0 view .LVU922
 2957 001c 102D     		cmp	r5, #16
 2958 001e 01D0     		beq	.L257
 2959 0020 202D     		cmp	r5, #32
 2960 0022 19D1     		bne	.L261
 2961              	.L257:
 2962              	.LVL290:
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2963              		.loc 1 745 3 is_stmt 1 view .LVU923
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2964              		.loc 1 745 7 is_stmt 0 view .LVU924
 2965 0024 04F11005 		add	r5, r4, #16
 2966 0028 0621     		movs	r1, #6
 2967 002a 2846     		mov	r0, r5
 2968              	.LVL291:
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2969              		.loc 1 745 7 view .LVU925
 2970 002c FFF7FEFF 		bl	sys_mbox_new
 2971              	.LVL292:
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2972              		.loc 1 745 6 discriminator 1 view .LVU926
 2973 0030 C8B9     		cbnz	r0, .L258
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2974              		.loc 1 749 3 is_stmt 1 view .LVU927
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2975              		.loc 1 749 7 is_stmt 0 view .LVU928
 2976 0032 0021     		movs	r1, #0
 2977 0034 04F10C00 		add	r0, r4, #12
 2978 0038 FFF7FEFF 		bl	sys_sem_new
 2979              	.LVL293:
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2980              		.loc 1 749 6 discriminator 1 view .LVU929
 2981 003c D0B9     		cbnz	r0, .L262
 756:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2982              		.loc 1 756 3 is_stmt 1 view .LVU930
 2983 003e 04F11400 		add	r0, r4, #20
 2984 0042 FFF7FEFF 		bl	sys_mbox_set_invalid
 2985              	.LVL294:
 758:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 2986              		.loc 1 758 3 view .LVU931
 758:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 2987              		.loc 1 758 22 is_stmt 0 view .LVU932
 2988 0046 0023     		movs	r3, #0
 2989 0048 6370     		strb	r3, [r4, #1]
 761:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 2990              		.loc 1 761 3 is_stmt 1 view .LVU933
 761:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 99


 2991              		.loc 1 761 22 is_stmt 0 view .LVU934
 2992 004a 4FF0FF32 		mov	r2, #-1
 2993 004e A261     		str	r2, [r4, #24]
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 2994              		.loc 1 763 3 is_stmt 1 view .LVU935
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 2995              		.loc 1 763 22 is_stmt 0 view .LVU936
 2996 0050 6662     		str	r6, [r4, #36]
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2997              		.loc 1 765 3 is_stmt 1 view .LVU937
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2998              		.loc 1 765 22 is_stmt 0 view .LVU938
 2999 0052 2362     		str	r3, [r4, #32]
 780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 3000              		.loc 1 780 3 is_stmt 1 view .LVU939
 780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 3001              		.loc 1 780 15 is_stmt 0 view .LVU940
 3002 0054 2377     		strb	r3, [r4, #28]
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 3003              		.loc 1 781 3 is_stmt 1 view .LVU941
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 3004              		.loc 1 781 10 is_stmt 0 view .LVU942
 3005 0056 0BE0     		b	.L255
 3006              	.LVL295:
 3007              	.L261:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3008              		.loc 1 741 7 is_stmt 1 view .LVU943
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3009              		.loc 1 741 7 view .LVU944
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3010              		.loc 1 741 7 discriminator 1 view .LVU945
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3011              		.loc 1 741 7 discriminator 1 view .LVU946
 3012 0058 084B     		ldr	r3, .L263
 3013 005a 40F2E522 		movw	r2, #741
 3014 005e 0849     		ldr	r1, .L263+4
 3015 0060 0848     		ldr	r0, .L263+8
 3016              	.LVL296:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3017              		.loc 1 741 7 is_stmt 0 discriminator 1 view .LVU947
 3018 0062 FFF7FEFF 		bl	printf
 3019              	.LVL297:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3020              		.loc 1 741 7 is_stmt 1 discriminator 3 view .LVU948
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3021              		.loc 1 741 7 discriminator 3 view .LVU949
 742:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3022              		.loc 1 742 7 view .LVU950
 3023              	.L258:
 783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return NULL;
 3024              		.loc 1 783 3 view .LVU951
 3025 0066 2146     		mov	r1, r4
 3026 0068 0720     		movs	r0, #7
 3027 006a FFF7FEFF 		bl	memp_free
 3028              	.LVL298:
 784:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3029              		.loc 1 784 3 view .LVU952
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 100


 784:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3030              		.loc 1 784 10 is_stmt 0 view .LVU953
 3031 006e 0024     		movs	r4, #0
 3032              	.LVL299:
 3033              	.L255:
 785:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3034              		.loc 1 785 1 view .LVU954
 3035 0070 2046     		mov	r0, r4
 3036 0072 70BD     		pop	{r4, r5, r6, pc}
 3037              	.LVL300:
 3038              	.L262:
 750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 3039              		.loc 1 750 5 is_stmt 1 view .LVU955
 3040 0074 2846     		mov	r0, r5
 3041 0076 FFF7FEFF 		bl	sys_mbox_free
 3042              	.LVL301:
 751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3043              		.loc 1 751 5 view .LVU956
 3044 007a F4E7     		b	.L258
 3045              	.L264:
 3046              		.align	2
 3047              	.L263:
 3048 007c 00000000 		.word	.LC0
 3049 0080 00000000 		.word	.LC29
 3050 0084 40000000 		.word	.LC2
 3051              		.cfi_endproc
 3052              	.LFE375:
 3054              		.section	.rodata.netconn_free.str1.4,"aMS",%progbits,1
 3055              		.align	2
 3056              	.LC30:
 3057 0000 50434220 		.ascii	"PCB must be deallocated outside this function\000"
 3057      6D757374 
 3057      20626520 
 3057      6465616C 
 3057      6C6F6361 
 3058 002e 0000     		.align	2
 3059              	.LC31:
 3060 0030 72656376 		.ascii	"recvmbox must be deallocated before calling this fu"
 3060      6D626F78 
 3060      206D7573 
 3060      74206265 
 3060      20646561 
 3061 0063 6E637469 		.ascii	"nction\000"
 3061      6F6E00
 3062 006a 0000     		.align	2
 3063              	.LC32:
 3064 006c 61636365 		.ascii	"acceptmbox must be deallocated before calling this "
 3064      70746D62 
 3064      6F78206D 
 3064      75737420 
 3064      62652064 
 3065 009f 66756E63 		.ascii	"function\000"
 3065      74696F6E 
 3065      00
 3066              		.section	.text.netconn_free,"ax",%progbits
 3067              		.align	1
 3068              		.global	netconn_free
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 101


 3069              		.syntax unified
 3070              		.thumb
 3071              		.thumb_func
 3073              	netconn_free:
 3074              	.LVL302:
 3075              	.LFB376:
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 3076              		.loc 1 795 1 view -0
 3077              		.cfi_startproc
 3078              		@ args = 0, pretend = 0, frame = 0
 3079              		@ frame_needed = 0, uses_anonymous_args = 0
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 3080              		.loc 1 795 1 is_stmt 0 view .LVU958
 3081 0000 38B5     		push	{r3, r4, r5, lr}
 3082              	.LCFI16:
 3083              		.cfi_def_cfa_offset 16
 3084              		.cfi_offset 3, -16
 3085              		.cfi_offset 4, -12
 3086              		.cfi_offset 5, -8
 3087              		.cfi_offset 14, -4
 3088 0002 0446     		mov	r4, r0
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3089              		.loc 1 796 3 is_stmt 1 view .LVU959
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3090              		.loc 1 796 3 view .LVU960
 3091 0004 4368     		ldr	r3, [r0, #4]
 3092 0006 33B1     		cbz	r3, .L266
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3093              		.loc 1 796 3 discriminator 1 view .LVU961
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3094              		.loc 1 796 3 discriminator 1 view .LVU962
 3095 0008 164B     		ldr	r3, .L272
 3096 000a 4FF44772 		mov	r2, #796
 3097 000e 1649     		ldr	r1, .L272+4
 3098 0010 1648     		ldr	r0, .L272+8
 3099              	.LVL303:
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3100              		.loc 1 796 3 is_stmt 0 discriminator 1 view .LVU963
 3101 0012 FFF7FEFF 		bl	printf
 3102              	.LVL304:
 3103              	.L266:
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3104              		.loc 1 796 3 is_stmt 1 discriminator 3 view .LVU964
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3105              		.loc 1 796 3 discriminator 3 view .LVU965
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3106              		.loc 1 803 3 view .LVU966
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3107              		.loc 1 803 3 view .LVU967
 3108 0016 04F11000 		add	r0, r4, #16
 3109 001a FFF7FEFF 		bl	sys_mbox_valid
 3110              	.LVL305:
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3111              		.loc 1 803 3 is_stmt 0 discriminator 1 view .LVU968
 3112 001e 88B9     		cbnz	r0, .L270
 3113              	.L267:
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 102


 3114              		.loc 1 803 3 is_stmt 1 discriminator 3 view .LVU969
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3115              		.loc 1 803 3 discriminator 3 view .LVU970
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3116              		.loc 1 806 3 view .LVU971
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3117              		.loc 1 806 3 view .LVU972
 3118 0020 04F11400 		add	r0, r4, #20
 3119 0024 FFF7FEFF 		bl	sys_mbox_valid
 3120              	.LVL306:
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3121              		.loc 1 806 3 is_stmt 0 discriminator 1 view .LVU973
 3122 0028 A0B9     		cbnz	r0, .L271
 3123              	.L268:
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3124              		.loc 1 806 3 is_stmt 1 discriminator 3 view .LVU974
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3125              		.loc 1 806 3 discriminator 3 view .LVU975
 811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 3126              		.loc 1 811 3 view .LVU976
 3127 002a 04F10C05 		add	r5, r4, #12
 3128 002e 2846     		mov	r0, r5
 3129 0030 FFF7FEFF 		bl	sys_sem_free
 3130              	.LVL307:
 812:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 3131              		.loc 1 812 3 view .LVU977
 3132 0034 2846     		mov	r0, r5
 3133 0036 FFF7FEFF 		bl	sys_sem_set_invalid
 3134              	.LVL308:
 815:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3135              		.loc 1 815 3 view .LVU978
 3136 003a 2146     		mov	r1, r4
 3137 003c 0720     		movs	r0, #7
 3138 003e FFF7FEFF 		bl	memp_free
 3139              	.LVL309:
 816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3140              		.loc 1 816 1 is_stmt 0 view .LVU979
 3141 0042 38BD     		pop	{r3, r4, r5, pc}
 3142              	.LVL310:
 3143              	.L270:
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3144              		.loc 1 803 3 is_stmt 1 discriminator 1 view .LVU980
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3145              		.loc 1 803 3 discriminator 1 view .LVU981
 3146 0044 074B     		ldr	r3, .L272
 3147 0046 40F22332 		movw	r2, #803
 3148 004a 0949     		ldr	r1, .L272+12
 3149 004c 0748     		ldr	r0, .L272+8
 3150 004e FFF7FEFF 		bl	printf
 3151              	.LVL311:
 3152 0052 E5E7     		b	.L267
 3153              	.L271:
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3154              		.loc 1 806 3 discriminator 1 view .LVU982
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3155              		.loc 1 806 3 discriminator 1 view .LVU983
 3156 0054 034B     		ldr	r3, .L272
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 103


 3157 0056 40F22632 		movw	r2, #806
 3158 005a 0649     		ldr	r1, .L272+16
 3159 005c 0348     		ldr	r0, .L272+8
 3160 005e FFF7FEFF 		bl	printf
 3161              	.LVL312:
 3162 0062 E2E7     		b	.L268
 3163              	.L273:
 3164              		.align	2
 3165              	.L272:
 3166 0064 00000000 		.word	.LC0
 3167 0068 00000000 		.word	.LC30
 3168 006c 40000000 		.word	.LC2
 3169 0070 30000000 		.word	.LC31
 3170 0074 6C000000 		.word	.LC32
 3171              		.cfi_endproc
 3172              	.LFE376:
 3174              		.section	.text.netconn_drain,"ax",%progbits
 3175              		.align	1
 3176              		.syntax unified
 3177              		.thumb
 3178              		.thumb_func
 3180              	netconn_drain:
 3181              	.LVL313:
 3182              	.LFB377:
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 3183              		.loc 1 828 1 view -0
 3184              		.cfi_startproc
 3185              		@ args = 0, pretend = 0, frame = 8
 3186              		@ frame_needed = 0, uses_anonymous_args = 0
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 3187              		.loc 1 828 1 is_stmt 0 view .LVU985
 3188 0000 30B5     		push	{r4, r5, lr}
 3189              	.LCFI17:
 3190              		.cfi_def_cfa_offset 12
 3191              		.cfi_offset 4, -12
 3192              		.cfi_offset 5, -8
 3193              		.cfi_offset 14, -4
 3194 0002 83B0     		sub	sp, sp, #12
 3195              	.LCFI18:
 3196              		.cfi_def_cfa_offset 24
 3197 0004 0446     		mov	r4, r0
 829:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3198              		.loc 1 829 3 is_stmt 1 view .LVU986
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3199              		.loc 1 838 3 view .LVU987
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3200              		.loc 1 838 7 is_stmt 0 view .LVU988
 3201 0006 00F11005 		add	r5, r0, #16
 3202 000a 2846     		mov	r0, r5
 3203              	.LVL314:
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3204              		.loc 1 838 7 view .LVU989
 3205 000c FFF7FEFF 		bl	sys_mbox_valid
 3206              	.LVL315:
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3207              		.loc 1 838 6 discriminator 1 view .LVU990
 3208 0010 58B9     		cbnz	r0, .L275
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 104


 3209              	.L276:
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3210              		.loc 1 863 3 is_stmt 1 view .LVU991
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3211              		.loc 1 863 7 is_stmt 0 view .LVU992
 3212 0012 1434     		adds	r4, r4, #20
 3213              	.LVL316:
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3214              		.loc 1 863 7 view .LVU993
 3215 0014 2046     		mov	r0, r4
 3216 0016 FFF7FEFF 		bl	sys_mbox_valid
 3217              	.LVL317:
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3218              		.loc 1 863 6 discriminator 1 view .LVU994
 3219 001a 20BB     		cbnz	r0, .L281
 3220 001c 43E0     		b	.L274
 3221              	.LVL318:
 3222              	.L289:
 3223              	.LBB14:
 846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!lwip_netconn_is_err_msg(mem, &err)) {
 3224              		.loc 1 846 11 is_stmt 1 view .LVU995
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3225              		.loc 1 847 11 view .LVU996
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3226              		.loc 1 847 16 is_stmt 0 view .LVU997
 3227 001e 0DF10301 		add	r1, sp, #3
 3228 0022 0198     		ldr	r0, [sp, #4]
 3229 0024 FFF7FEFF 		bl	lwip_netconn_is_err_msg
 3230              	.LVL319:
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3231              		.loc 1 847 14 discriminator 1 view .LVU998
 3232 0028 78B1     		cbz	r0, .L287
 3233              	.L275:
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3234              		.loc 1 847 14 discriminator 1 view .LVU999
 3235              	.LBE14:
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3236              		.loc 1 839 53 is_stmt 1 view .LVU1000
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3237              		.loc 1 839 12 is_stmt 0 view .LVU1001
 3238 002a 01A9     		add	r1, sp, #4
 3239 002c 2846     		mov	r0, r5
 3240 002e FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 3241              	.LVL320:
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3242              		.loc 1 839 53 discriminator 1 view .LVU1002
 3243 0032 B0F1FF3F 		cmp	r0, #-1
 3244 0036 0CD0     		beq	.L288
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 3245              		.loc 1 845 9 is_stmt 1 view .LVU1003
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 3246              		.loc 1 845 13 is_stmt 0 view .LVU1004
 3247 0038 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 3248              		.loc 1 845 12 view .LVU1005
 3249 003a 03F0F003 		and	r3, r3, #240
 3250 003e 102B     		cmp	r3, #16
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 105


 3251 0040 EDD0     		beq	.L289
 853:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3252              		.loc 1 853 11 is_stmt 1 view .LVU1006
 3253 0042 0198     		ldr	r0, [sp, #4]
 3254 0044 FFF7FEFF 		bl	netbuf_delete
 3255              	.LVL321:
 3256 0048 EFE7     		b	.L275
 3257              	.L287:
 3258              	.LBB15:
 848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3259              		.loc 1 848 13 view .LVU1007
 3260 004a 0198     		ldr	r0, [sp, #4]
 3261 004c FFF7FEFF 		bl	pbuf_free
 3262              	.LVL322:
 3263 0050 EBE7     		b	.L275
 3264              	.L288:
 848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3265              		.loc 1 848 13 is_stmt 0 view .LVU1008
 3266              	.LBE15:
 857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 3267              		.loc 1 857 5 is_stmt 1 view .LVU1009
 3268 0052 2846     		mov	r0, r5
 3269 0054 FFF7FEFF 		bl	sys_mbox_free
 3270              	.LVL323:
 858:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3271              		.loc 1 858 5 view .LVU1010
 3272 0058 2846     		mov	r0, r5
 3273 005a FFF7FEFF 		bl	sys_mbox_set_invalid
 3274              	.LVL324:
 3275 005e D8E7     		b	.L276
 3276              	.LVL325:
 3277              	.L284:
 3278              	.LBB16:
 3279              	.LBB17:
 880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3280              		.loc 1 880 11 view .LVU1011
 3281 0060 2846     		mov	r0, r5
 3282 0062 FFF7FEFF 		bl	netconn_free
 3283              	.LVL326:
 3284              	.L281:
 880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3285              		.loc 1 880 11 is_stmt 0 view .LVU1012
 3286              	.LBE17:
 3287              	.LBE16:
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3288              		.loc 1 864 55 is_stmt 1 view .LVU1013
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3289              		.loc 1 864 12 is_stmt 0 view .LVU1014
 3290 0066 01A9     		add	r1, sp, #4
 3291 0068 2046     		mov	r0, r4
 3292 006a FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 3293              	.LVL327:
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3294              		.loc 1 864 55 discriminator 1 view .LVU1015
 3295 006e B0F1FF3F 		cmp	r0, #-1
 3296 0072 12D0     		beq	.L290
 3297              	.LBB19:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 106


 869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (!lwip_netconn_is_err_msg(mem, &err)) {
 3298              		.loc 1 869 9 is_stmt 1 view .LVU1016
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 3299              		.loc 1 870 9 view .LVU1017
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 3300              		.loc 1 870 14 is_stmt 0 view .LVU1018
 3301 0074 0DF10301 		add	r1, sp, #3
 3302 0078 0198     		ldr	r0, [sp, #4]
 3303 007a FFF7FEFF 		bl	lwip_netconn_is_err_msg
 3304              	.LVL328:
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 3305              		.loc 1 870 12 discriminator 1 view .LVU1019
 3306 007e 0028     		cmp	r0, #0
 3307 0080 F1D1     		bne	.L281
 3308              	.LBB18:
 871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 3309              		.loc 1 871 11 is_stmt 1 view .LVU1020
 871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 3310              		.loc 1 871 27 is_stmt 0 view .LVU1021
 3311 0082 019D     		ldr	r5, [sp, #4]
 3312              	.LVL329:
 875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (newconn->pcb.tcp != NULL) {
 3313              		.loc 1 875 11 is_stmt 1 view .LVU1022
 3314 0084 2846     		mov	r0, r5
 3315 0086 FFF7BBFF 		bl	netconn_drain
 3316              	.LVL330:
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 3317              		.loc 1 876 11 view .LVU1023
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 3318              		.loc 1 876 27 is_stmt 0 view .LVU1024
 3319 008a 6868     		ldr	r0, [r5, #4]
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 3320              		.loc 1 876 14 view .LVU1025
 3321 008c 0028     		cmp	r0, #0
 3322 008e E7D0     		beq	.L284
 877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             newconn->pcb.tcp = NULL;
 3323              		.loc 1 877 13 is_stmt 1 view .LVU1026
 3324 0090 FFF7FEFF 		bl	tcp_abort
 3325              	.LVL331:
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3326              		.loc 1 878 13 view .LVU1027
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3327              		.loc 1 878 30 is_stmt 0 view .LVU1028
 3328 0094 0023     		movs	r3, #0
 3329 0096 6B60     		str	r3, [r5, #4]
 3330 0098 E2E7     		b	.L284
 3331              	.LVL332:
 3332              	.L290:
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3333              		.loc 1 878 30 view .LVU1029
 3334              	.LBE18:
 3335              	.LBE19:
 884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 3336              		.loc 1 884 5 is_stmt 1 view .LVU1030
 3337 009a 2046     		mov	r0, r4
 3338 009c FFF7FEFF 		bl	sys_mbox_free
 3339              	.LVL333:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 107


 885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3340              		.loc 1 885 5 view .LVU1031
 3341 00a0 2046     		mov	r0, r4
 3342 00a2 FFF7FEFF 		bl	sys_mbox_set_invalid
 3343              	.LVL334:
 3344              	.L274:
 888:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3345              		.loc 1 888 1 is_stmt 0 view .LVU1032
 3346 00a6 03B0     		add	sp, sp, #12
 3347              	.LCFI19:
 3348              		.cfi_def_cfa_offset 12
 3349              		@ sp needed
 3350 00a8 30BD     		pop	{r4, r5, pc}
 888:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3351              		.loc 1 888 1 view .LVU1033
 3352              		.cfi_endproc
 3353              	.LFE377:
 3355              		.section	.rodata.accept_function.str1.4,"aMS",%progbits,1
 3356              		.align	2
 3357              	.LC33:
 3358 0000 65787065 		.ascii	"expect newpcb == NULL or err == ERR_OK\000"
 3358      6374206E 
 3358      65777063 
 3358      62203D3D 
 3358      204E554C 
 3359              		.section	.text.accept_function,"ax",%progbits
 3360              		.align	1
 3361              		.syntax unified
 3362              		.thumb
 3363              		.thumb_func
 3365              	accept_function:
 3366              	.LVL335:
 3367              	.LFB372:
 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 3368              		.loc 1 534 1 is_stmt 1 view -0
 3369              		.cfi_startproc
 3370              		@ args = 0, pretend = 0, frame = 0
 3371              		@ frame_needed = 0, uses_anonymous_args = 0
 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 3372              		.loc 1 534 1 is_stmt 0 view .LVU1035
 3373 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3374              	.LCFI20:
 3375              		.cfi_def_cfa_offset 24
 3376              		.cfi_offset 3, -24
 3377              		.cfi_offset 4, -20
 3378              		.cfi_offset 5, -16
 3379              		.cfi_offset 6, -12
 3380              		.cfi_offset 7, -8
 3381              		.cfi_offset 14, -4
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 3382              		.loc 1 535 3 is_stmt 1 view .LVU1036
 536:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3383              		.loc 1 536 3 view .LVU1037
 3384              	.LVL336:
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 3385              		.loc 1 538 3 view .LVU1038
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 108


 3386              		.loc 1 538 6 is_stmt 0 view .LVU1039
 3387 0002 0028     		cmp	r0, #0
 3388 0004 74D0     		beq	.L299
 3389 0006 0D46     		mov	r5, r1
 3390 0008 1646     		mov	r6, r2
 3391 000a 0446     		mov	r4, r0
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3392              		.loc 1 541 3 is_stmt 1 view .LVU1040
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3393              		.loc 1 541 8 is_stmt 0 view .LVU1041
 3394 000c 00F11407 		add	r7, r0, #20
 3395 0010 3846     		mov	r0, r7
 3396              	.LVL337:
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3397              		.loc 1 541 8 view .LVU1042
 3398 0012 FFF7FEFF 		bl	sys_mbox_valid
 3399              	.LVL338:
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3400              		.loc 1 541 6 discriminator 1 view .LVU1043
 3401 0016 0028     		cmp	r0, #0
 3402 0018 6DD0     		beq	.L300
 546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 3403              		.loc 1 546 3 is_stmt 1 view .LVU1044
 546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 3404              		.loc 1 546 6 is_stmt 0 view .LVU1045
 3405 001a BDB1     		cbz	r5, .L302
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3406              		.loc 1 554 3 is_stmt 1 view .LVU1046
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3407              		.loc 1 554 3 view .LVU1047
 3408 001c 46BB     		cbnz	r6, .L303
 3409              	.L295:
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3410              		.loc 1 554 3 discriminator 3 view .LVU1048
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3411              		.loc 1 554 3 discriminator 3 view .LVU1049
 555:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3412              		.loc 1 555 3 view .LVU1050
 557:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3413              		.loc 1 557 107 view .LVU1051
 561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 3414              		.loc 1 561 3 view .LVU1052
 561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 3415              		.loc 1 561 13 is_stmt 0 view .LVU1053
 3416 001e 616A     		ldr	r1, [r4, #36]
 3417 0020 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 3418 0022 FFF7FEFF 		bl	netconn_alloc
 3419              	.LVL339:
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 3420              		.loc 1 562 3 is_stmt 1 view .LVU1054
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 3421              		.loc 1 562 6 is_stmt 0 view .LVU1055
 3422 0026 0646     		mov	r6, r0
 3423              	.LVL340:
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 3424              		.loc 1 562 6 view .LVU1056
 3425 0028 50B3     		cbz	r0, .L304
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 109


 570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 3426              		.loc 1 570 3 is_stmt 1 view .LVU1057
 570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 3427              		.loc 1 570 20 is_stmt 0 view .LVU1058
 3428 002a 4560     		str	r5, [r0, #4]
 571:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3429              		.loc 1 571 3 is_stmt 1 view .LVU1059
 3430 002c FFF7FEFF 		bl	setup_tcp
 3431              	.LVL341:
 574:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3432              		.loc 1 574 30 view .LVU1060
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3433              		.loc 1 576 3 view .LVU1061
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3434              		.loc 1 576 7 is_stmt 0 view .LVU1062
 3435 0030 3146     		mov	r1, r6
 3436 0032 3846     		mov	r0, r7
 3437 0034 FFF7FEFF 		bl	sys_mbox_trypost
 3438              	.LVL342:
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3439              		.loc 1 576 6 discriminator 1 view .LVU1063
 3440 0038 0546     		mov	r5, r0
 3441              	.LVL343:
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3442              		.loc 1 576 6 discriminator 1 view .LVU1064
 3443 003a 98BB     		cbnz	r0, .L305
 595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3444              		.loc 1 595 5 is_stmt 1 view .LVU1065
 3445 003c 636A     		ldr	r3, [r4, #36]
 3446 003e 1BB1     		cbz	r3, .L292
 595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3447              		.loc 1 595 5 discriminator 1 view .LVU1066
 3448 0040 0022     		movs	r2, #0
 3449 0042 1146     		mov	r1, r2
 3450 0044 2046     		mov	r0, r4
 3451 0046 9847     		blx	r3
 3452              	.LVL344:
 3453              	.L292:
 599:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3454              		.loc 1 599 1 is_stmt 0 view .LVU1067
 3455 0048 2846     		mov	r0, r5
 3456 004a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3457              	.LVL345:
 3458              	.L302:
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3459              		.loc 1 548 5 is_stmt 1 view .LVU1068
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3460              		.loc 1 548 9 is_stmt 0 view .LVU1069
 3461 004c 6FF00C00 		mvn	r0, #12
 3462 0050 FFF7FEFF 		bl	lwip_netconn_err_to_msg
 3463              	.LVL346:
 3464 0054 0146     		mov	r1, r0
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3465              		.loc 1 548 9 discriminator 1 view .LVU1070
 3466 0056 3846     		mov	r0, r7
 3467 0058 FFF7FEFF 		bl	sys_mbox_trypost
 3468              	.LVL347:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 110


 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3469              		.loc 1 548 8 discriminator 2 view .LVU1071
 3470 005c 28B9     		cbnz	r0, .L294
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3471              		.loc 1 550 7 is_stmt 1 view .LVU1072
 3472 005e 636A     		ldr	r3, [r4, #36]
 3473 0060 1BB1     		cbz	r3, .L294
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3474              		.loc 1 550 7 discriminator 1 view .LVU1073
 3475 0062 0022     		movs	r2, #0
 3476 0064 1146     		mov	r1, r2
 3477 0066 2046     		mov	r0, r4
 3478 0068 9847     		blx	r3
 3479              	.LVL348:
 3480              	.L294:
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3481              		.loc 1 550 46 discriminator 3 view .LVU1074
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3482              		.loc 1 552 5 view .LVU1075
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3483              		.loc 1 552 12 is_stmt 0 view .LVU1076
 3484 006a 6FF00505 		mvn	r5, #5
 3485              	.LVL349:
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3486              		.loc 1 552 12 view .LVU1077
 3487 006e EBE7     		b	.L292
 3488              	.LVL350:
 3489              	.L303:
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3490              		.loc 1 554 3 is_stmt 1 discriminator 1 view .LVU1078
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3491              		.loc 1 554 3 discriminator 1 view .LVU1079
 3492 0070 224B     		ldr	r3, .L306
 3493 0072 40F22A22 		movw	r2, #554
 3494 0076 2249     		ldr	r1, .L306+4
 3495 0078 2248     		ldr	r0, .L306+8
 3496 007a FFF7FEFF 		bl	printf
 3497              	.LVL351:
 3498 007e CEE7     		b	.L295
 3499              	.LVL352:
 3500              	.L304:
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3501              		.loc 1 564 5 view .LVU1080
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3502              		.loc 1 564 9 is_stmt 0 view .LVU1081
 3503 0080 6FF00C00 		mvn	r0, #12
 3504              	.LVL353:
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3505              		.loc 1 564 9 view .LVU1082
 3506 0084 FFF7FEFF 		bl	lwip_netconn_err_to_msg
 3507              	.LVL354:
 3508 0088 0146     		mov	r1, r0
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3509              		.loc 1 564 9 discriminator 1 view .LVU1083
 3510 008a 3846     		mov	r0, r7
 3511 008c FFF7FEFF 		bl	sys_mbox_trypost
 3512              	.LVL355:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 111


 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3513              		.loc 1 564 8 discriminator 2 view .LVU1084
 3514 0090 28B9     		cbnz	r0, .L297
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3515              		.loc 1 566 7 is_stmt 1 view .LVU1085
 3516 0092 636A     		ldr	r3, [r4, #36]
 3517 0094 1BB1     		cbz	r3, .L297
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3518              		.loc 1 566 7 discriminator 1 view .LVU1086
 3519 0096 0022     		movs	r2, #0
 3520 0098 1146     		mov	r1, r2
 3521 009a 2046     		mov	r0, r4
 3522 009c 9847     		blx	r3
 3523              	.LVL356:
 3524              	.L297:
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3525              		.loc 1 566 46 discriminator 3 view .LVU1087
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3526              		.loc 1 568 5 view .LVU1088
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3527              		.loc 1 568 12 is_stmt 0 view .LVU1089
 3528 009e 4FF0FF35 		mov	r5, #-1
 3529              	.LVL357:
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3530              		.loc 1 568 12 view .LVU1090
 3531 00a2 D1E7     		b	.L292
 3532              	.L305:
 3533              	.LBB20:
 580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 3534              		.loc 1 580 5 is_stmt 1 view .LVU1091
 580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 3535              		.loc 1 580 21 is_stmt 0 view .LVU1092
 3536 00a4 7468     		ldr	r4, [r6, #4]
 3537              	.LVL358:
 581:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_recv(pcb, NULL);
 3538              		.loc 1 581 5 is_stmt 1 view .LVU1093
 3539 00a6 0021     		movs	r1, #0
 3540 00a8 2046     		mov	r0, r4
 3541 00aa FFF7FEFF 		bl	tcp_arg
 3542              	.LVL359:
 582:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_sent(pcb, NULL);
 3543              		.loc 1 582 5 view .LVU1094
 3544 00ae 0021     		movs	r1, #0
 3545 00b0 2046     		mov	r0, r4
 3546 00b2 FFF7FEFF 		bl	tcp_recv
 3547              	.LVL360:
 583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
 3548              		.loc 1 583 5 view .LVU1095
 3549 00b6 0021     		movs	r1, #0
 3550 00b8 2046     		mov	r0, r4
 3551 00ba FFF7FEFF 		bl	tcp_sent
 3552              	.LVL361:
 584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(pcb, NULL);
 3553              		.loc 1 584 5 view .LVU1096
 3554 00be 0022     		movs	r2, #0
 3555 00c0 1146     		mov	r1, r2
 3556 00c2 2046     		mov	r0, r4
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 112


 3557 00c4 FFF7FEFF 		bl	tcp_poll
 3558              	.LVL362:
 585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 3559              		.loc 1 585 5 view .LVU1097
 3560 00c8 0021     		movs	r1, #0
 3561 00ca 2046     		mov	r0, r4
 3562 00cc FFF7FEFF 		bl	tcp_err
 3563              	.LVL363:
 587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 3564              		.loc 1 587 5 view .LVU1098
 587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 3565              		.loc 1 587 22 is_stmt 0 view .LVU1099
 3566 00d0 0023     		movs	r3, #0
 3567 00d2 7360     		str	r3, [r6, #4]
 589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 3568              		.loc 1 589 5 is_stmt 1 view .LVU1100
 3569 00d4 06F11004 		add	r4, r6, #16
 3570              	.LVL364:
 589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 3571              		.loc 1 589 5 is_stmt 0 view .LVU1101
 3572 00d8 2046     		mov	r0, r4
 3573 00da FFF7FEFF 		bl	sys_mbox_free
 3574              	.LVL365:
 590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_free(newconn);
 3575              		.loc 1 590 5 is_stmt 1 view .LVU1102
 3576 00de 2046     		mov	r0, r4
 3577 00e0 FFF7FEFF 		bl	sys_mbox_set_invalid
 3578              	.LVL366:
 591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 3579              		.loc 1 591 5 view .LVU1103
 3580 00e4 3046     		mov	r0, r6
 3581 00e6 FFF7FEFF 		bl	netconn_free
 3582              	.LVL367:
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3583              		.loc 1 592 5 view .LVU1104
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3584              		.loc 1 592 12 is_stmt 0 view .LVU1105
 3585 00ea 4FF0FF35 		mov	r5, #-1
 3586 00ee ABE7     		b	.L292
 3587              	.LVL368:
 3588              	.L299:
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3589              		.loc 1 592 12 view .LVU1106
 3590              	.LBE20:
 539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3591              		.loc 1 539 12 view .LVU1107
 3592 00f0 6FF00505 		mvn	r5, #5
 3593 00f4 A8E7     		b	.L292
 3594              	.LVL369:
 3595              	.L300:
 543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3596              		.loc 1 543 12 view .LVU1108
 3597 00f6 6FF00505 		mvn	r5, #5
 3598              	.LVL370:
 543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3599              		.loc 1 543 12 view .LVU1109
 3600 00fa A5E7     		b	.L292
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 113


 3601              	.L307:
 3602              		.align	2
 3603              	.L306:
 3604 00fc 00000000 		.word	.LC0
 3605 0100 00000000 		.word	.LC33
 3606 0104 40000000 		.word	.LC2
 3607              		.cfi_endproc
 3608              	.LFE372:
 3610              		.section	.rodata.lwip_netconn_do_delconn.str1.4,"aMS",%progbits,1
 3611              		.align	2
 3612              	.LC34:
 3613 0000 6E657463 		.ascii	"netconn state error\000"
 3613      6F6E6E20 
 3613      73746174 
 3613      65206572 
 3613      726F7200 
 3614              		.align	2
 3615              	.LC35:
 3616 0014 626C6F63 		.ascii	"blocking connect in progress\000"
 3616      6B696E67 
 3616      20636F6E 
 3616      6E656374 
 3616      20696E20 
 3617 0031 000000   		.align	2
 3618              	.LC36:
 3619 0034 616C7265 		.ascii	"already writing or closing\000"
 3619      61647920 
 3619      77726974 
 3619      696E6720 
 3619      6F722063 
 3620 004f 00       		.align	2
 3621              	.LC37:
 3622 0050 73746174 		.ascii	"state!\000"
 3622      652100
 3623              		.section	.text.lwip_netconn_do_delconn,"ax",%progbits
 3624              		.align	1
 3625              		.global	lwip_netconn_do_delconn
 3626              		.syntax unified
 3627              		.thumb
 3628              		.thumb_func
 3630              	lwip_netconn_do_delconn:
 3631              	.LVL371:
 3632              	.LFB379:
1114:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3633              		.loc 1 1114 1 is_stmt 1 view -0
 3634              		.cfi_startproc
 3635              		@ args = 0, pretend = 0, frame = 0
 3636              		@ frame_needed = 0, uses_anonymous_args = 0
1114:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3637              		.loc 1 1114 1 is_stmt 0 view .LVU1111
 3638 0000 38B5     		push	{r3, r4, r5, lr}
 3639              	.LCFI21:
 3640              		.cfi_def_cfa_offset 16
 3641              		.cfi_offset 3, -16
 3642              		.cfi_offset 4, -12
 3643              		.cfi_offset 5, -8
 3644              		.cfi_offset 14, -4
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 114


 3645 0002 0446     		mov	r4, r0
1115:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3646              		.loc 1 1115 3 is_stmt 1 view .LVU1112
 3647              	.LVL372:
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3648              		.loc 1 1117 3 view .LVU1113
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3649              		.loc 1 1117 33 is_stmt 0 view .LVU1114
 3650 0004 0368     		ldr	r3, [r0]
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3651              		.loc 1 1117 22 view .LVU1115
 3652 0006 5D78     		ldrb	r5, [r3, #1]	@ zero_extendqisi2
 3653              	.LVL373:
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3654              		.loc 1 1118 3 is_stmt 1 view .LVU1116
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3655              		.loc 1 1118 3 view .LVU1117
 3656 0008 25B1     		cbz	r5, .L309
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3657              		.loc 1 1118 3 is_stmt 0 discriminator 1 view .LVU1118
 3658 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3659 000c 03F0F003 		and	r3, r3, #240
 3660 0010 102B     		cmp	r3, #16
 3661 0012 0CD1     		bne	.L323
 3662              	.LVL374:
 3663              	.L309:
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3664              		.loc 1 1118 3 is_stmt 1 discriminator 5 view .LVU1119
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3665              		.loc 1 1118 3 discriminator 5 view .LVU1120
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3666              		.loc 1 1136 3 view .LVU1121
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3667              		.loc 1 1136 6 is_stmt 0 view .LVU1122
 3668 0014 002D     		cmp	r5, #0
 3669 0016 18BF     		it	ne
 3670 0018 022D     		cmpne	r5, #2
 3671 001a 15D0     		beq	.L310
1137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
 3672              		.loc 1 1137 34 view .LVU1123
 3673 001c 032D     		cmp	r5, #3
 3674 001e 0ED0     		beq	.L324
 3675              	.L311:
1142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 3676              		.loc 1 1142 5 is_stmt 1 view .LVU1124
1142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 3677              		.loc 1 1142 14 is_stmt 0 view .LVU1125
 3678 0020 FB23     		movs	r3, #251
 3679 0022 2371     		strb	r3, [r4, #4]
 3680              	.L312:
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3681              		.loc 1 1201 50 is_stmt 1 discriminator 3 view .LVU1126
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3682              		.loc 1 1203 3 view .LVU1127
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3683              		.loc 1 1203 21 is_stmt 0 view .LVU1128
 3684 0024 2068     		ldr	r0, [r4]
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 115


1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3685              		.loc 1 1203 7 view .LVU1129
 3686 0026 0C30     		adds	r0, r0, #12
 3687 0028 FFF7FEFF 		bl	sys_sem_valid
 3688              	.LVL375:
1204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3689              		.loc 1 1204 26 is_stmt 1 view .LVU1130
 3690              	.L308:
1206:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3691              		.loc 1 1206 1 is_stmt 0 view .LVU1131
 3692 002c 38BD     		pop	{r3, r4, r5, pc}
 3693              	.LVL376:
 3694              	.L323:
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3695              		.loc 1 1118 3 is_stmt 1 discriminator 3 view .LVU1132
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3696              		.loc 1 1118 3 discriminator 3 view .LVU1133
 3697 002e 3E4B     		ldr	r3, .L327
 3698 0030 40F25E42 		movw	r2, #1118
 3699 0034 3D49     		ldr	r1, .L327+4
 3700 0036 3E48     		ldr	r0, .L327+8
 3701              	.LVL377:
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3702              		.loc 1 1118 3 is_stmt 0 discriminator 3 view .LVU1134
 3703 0038 FFF7FEFF 		bl	printf
 3704              	.LVL378:
 3705 003c EAE7     		b	.L309
 3706              	.L324:
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
 3707              		.loc 1 1139 39 view .LVU1135
 3708 003e 2368     		ldr	r3, [r4]
 3709 0040 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
 3710              		.loc 1 1139 35 view .LVU1136
 3711 0042 13F0040F 		tst	r3, #4
 3712 0046 EBD0     		beq	.L311
 3713              	.L310:
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3714              		.loc 1 1146 5 is_stmt 1 view .LVU1137
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3715              		.loc 1 1146 5 view .LVU1138
 3716 0048 032D     		cmp	r5, #3
 3717 004a 25D0     		beq	.L325
 3718              	.L313:
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3719              		.loc 1 1146 5 discriminator 5 view .LVU1139
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3720              		.loc 1 1146 5 discriminator 5 view .LVU1140
1148:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3721              		.loc 1 1148 5 view .LVU1141
1148:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3722              		.loc 1 1148 14 is_stmt 0 view .LVU1142
 3723 004c 0023     		movs	r3, #0
 3724 004e 2371     		strb	r3, [r4, #4]
1153:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 3725              		.loc 1 1153 5 is_stmt 1 view .LVU1143
 3726 0050 2068     		ldr	r0, [r4]
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 116


 3727 0052 FFF7FEFF 		bl	netconn_drain
 3728              	.LVL379:
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3729              		.loc 1 1156 5 view .LVU1144
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3730              		.loc 1 1156 12 is_stmt 0 view .LVU1145
 3731 0056 2268     		ldr	r2, [r4]
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3732              		.loc 1 1156 23 view .LVU1146
 3733 0058 5168     		ldr	r1, [r2, #4]
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3734              		.loc 1 1156 8 view .LVU1147
 3735 005a 79B1     		cbz	r1, .L314
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3736              		.loc 1 1158 7 is_stmt 1 view .LVU1148
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3737              		.loc 1 1158 15 is_stmt 0 view .LVU1149
 3738 005c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3739 005e 03F0F003 		and	r3, r3, #240
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3740              		.loc 1 1158 7 view .LVU1150
 3741 0062 102B     		cmp	r3, #16
 3742 0064 25D0     		beq	.L315
 3743 0066 202B     		cmp	r3, #32
 3744 0068 05D1     		bne	.L316
1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
 3745              		.loc 1 1166 11 is_stmt 1 view .LVU1151
1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
 3746              		.loc 1 1166 40 is_stmt 0 view .LVU1152
 3747 006a 0023     		movs	r3, #0
 3748 006c CB61     		str	r3, [r1, #28]
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 3749              		.loc 1 1167 11 is_stmt 1 view .LVU1153
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 3750              		.loc 1 1167 25 is_stmt 0 view .LVU1154
 3751 006e 2368     		ldr	r3, [r4]
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 3752              		.loc 1 1167 11 view .LVU1155
 3753 0070 5868     		ldr	r0, [r3, #4]
 3754 0072 FFF7FEFF 		bl	udp_remove
 3755              	.LVL380:
1168:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 3756              		.loc 1 1168 11 is_stmt 1 view .LVU1156
 3757              	.L316:
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3758              		.loc 1 1194 7 view .LVU1157
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3759              		.loc 1 1194 10 is_stmt 0 view .LVU1158
 3760 0076 2368     		ldr	r3, [r4]
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3761              		.loc 1 1194 26 view .LVU1159
 3762 0078 0022     		movs	r2, #0
 3763 007a 5A60     		str	r2, [r3, #4]
 3764              	.L314:
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3765              		.loc 1 1200 5 is_stmt 1 view .LVU1160
 3766 007c 2068     		ldr	r0, [r4]
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 117


 3767 007e 436A     		ldr	r3, [r0, #36]
 3768 0080 13B1     		cbz	r3, .L321
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3769              		.loc 1 1200 5 discriminator 1 view .LVU1161
 3770 0082 0022     		movs	r2, #0
 3771 0084 1146     		mov	r1, r2
 3772 0086 9847     		blx	r3
 3773              	.LVL381:
 3774              	.L321:
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3775              		.loc 1 1200 49 discriminator 3 view .LVU1162
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3776              		.loc 1 1201 5 view .LVU1163
 3777 0088 2068     		ldr	r0, [r4]
 3778 008a 436A     		ldr	r3, [r0, #36]
 3779 008c 002B     		cmp	r3, #0
 3780 008e C9D0     		beq	.L312
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3781              		.loc 1 1201 5 discriminator 1 view .LVU1164
 3782 0090 0022     		movs	r2, #0
 3783 0092 0221     		movs	r1, #2
 3784 0094 9847     		blx	r3
 3785              	.LVL382:
 3786 0096 C5E7     		b	.L312
 3787              	.L325:
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3788              		.loc 1 1146 5 is_stmt 0 discriminator 1 view .LVU1165
 3789 0098 2368     		ldr	r3, [r4]
 3790 009a 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 3791 009c 13F0040F 		tst	r3, #4
 3792 00a0 D4D1     		bne	.L313
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3793              		.loc 1 1146 5 is_stmt 1 discriminator 3 view .LVU1166
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3794              		.loc 1 1146 5 discriminator 3 view .LVU1167
 3795 00a2 214B     		ldr	r3, .L327
 3796 00a4 40F27A42 		movw	r2, #1146
 3797 00a8 2249     		ldr	r1, .L327+12
 3798 00aa 2148     		ldr	r0, .L327+8
 3799 00ac FFF7FEFF 		bl	printf
 3800              	.LVL383:
 3801 00b0 CCE7     		b	.L313
 3802              	.L315:
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3803              		.loc 1 1172 11 view .LVU1168
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3804              		.loc 1 1172 11 view .LVU1169
 3805 00b2 136A     		ldr	r3, [r2, #32]
 3806 00b4 33B1     		cbz	r3, .L317
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3807              		.loc 1 1172 11 discriminator 1 view .LVU1170
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3808              		.loc 1 1172 11 discriminator 1 view .LVU1171
 3809 00b6 1C4B     		ldr	r3, .L327
 3810 00b8 40F29442 		movw	r2, #1172
 3811 00bc 1E49     		ldr	r1, .L327+16
 3812 00be 1C48     		ldr	r0, .L327+8
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 118


 3813 00c0 FFF7FEFF 		bl	printf
 3814              	.LVL384:
 3815              	.L317:
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3816              		.loc 1 1172 11 discriminator 3 view .LVU1172
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3817              		.loc 1 1172 11 discriminator 3 view .LVU1173
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3818              		.loc 1 1173 11 view .LVU1174
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3819              		.loc 1 1173 14 is_stmt 0 view .LVU1175
 3820 00c4 2368     		ldr	r3, [r4]
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3821              		.loc 1 1173 28 view .LVU1176
 3822 00c6 0422     		movs	r2, #4
 3823 00c8 5A70     		strb	r2, [r3, #1]
1174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->current_msg = msg;
 3824              		.loc 1 1174 11 is_stmt 1 view .LVU1177
1174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->current_msg = msg;
 3825              		.loc 1 1174 28 is_stmt 0 view .LVU1178
 3826 00ca 0323     		movs	r3, #3
 3827 00cc 2372     		strb	r3, [r4, #8]
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3828              		.loc 1 1175 11 is_stmt 1 view .LVU1179
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3829              		.loc 1 1175 14 is_stmt 0 view .LVU1180
 3830 00ce 2368     		ldr	r3, [r4]
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3831              		.loc 1 1175 34 view .LVU1181
 3832 00d0 1C62     		str	r4, [r3, #32]
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3833              		.loc 1 1177 11 is_stmt 1 view .LVU1182
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3834              		.loc 1 1177 15 is_stmt 0 view .LVU1183
 3835 00d2 0021     		movs	r1, #0
 3836 00d4 2068     		ldr	r0, [r4]
 3837 00d6 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 3838              	.LVL385:
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3839              		.loc 1 1177 14 discriminator 1 view .LVU1184
 3840 00da 0028     		cmp	r0, #0
 3841 00dc A6D0     		beq	.L308
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3842              		.loc 1 1178 13 is_stmt 1 view .LVU1185
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3843              		.loc 1 1178 13 view .LVU1186
 3844 00de 2368     		ldr	r3, [r4]
 3845 00e0 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3846 00e2 042B     		cmp	r3, #4
 3847 00e4 17D1     		bne	.L326
 3848              	.L319:
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3849              		.loc 1 1178 13 discriminator 3 view .LVU1187
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3850              		.loc 1 1178 13 discriminator 3 view .LVU1188
1179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3851              		.loc 1 1179 13 view .LVU1189
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 119


 3852 00e6 154D     		ldr	r5, .L327+20
 3853              	.LVL386:
1179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3854              		.loc 1 1179 13 is_stmt 0 view .LVU1190
 3855 00e8 2846     		mov	r0, r5
 3856 00ea FFF7FEFF 		bl	sys_mutex_unlock
 3857              	.LVL387:
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3858              		.loc 1 1180 13 is_stmt 1 view .LVU1191
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3859              		.loc 1 1180 31 is_stmt 0 view .LVU1192
 3860 00ee 2068     		ldr	r0, [r4]
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3861              		.loc 1 1180 13 view .LVU1193
 3862 00f0 0021     		movs	r1, #0
 3863 00f2 0C30     		adds	r0, r0, #12
 3864 00f4 FFF7FEFF 		bl	sys_arch_sem_wait
 3865              	.LVL388:
1181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 3866              		.loc 1 1181 13 is_stmt 1 view .LVU1194
 3867 00f8 2846     		mov	r0, r5
 3868 00fa FFF7FEFF 		bl	sys_mutex_lock
 3869              	.LVL389:
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3870              		.loc 1 1182 13 view .LVU1195
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3871              		.loc 1 1182 13 view .LVU1196
 3872 00fe 2368     		ldr	r3, [r4]
 3873 0100 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3874 0102 002B     		cmp	r3, #0
 3875 0104 92D0     		beq	.L308
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3876              		.loc 1 1182 13 discriminator 1 view .LVU1197
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3877              		.loc 1 1182 13 discriminator 1 view .LVU1198
 3878 0106 084B     		ldr	r3, .L327
 3879 0108 40F29E42 		movw	r2, #1182
 3880 010c 0C49     		ldr	r1, .L327+24
 3881 010e 0848     		ldr	r0, .L327+8
 3882 0110 FFF7FEFF 		bl	printf
 3883              	.LVL390:
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3884              		.loc 1 1182 13 discriminator 3 view .LVU1199
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3885              		.loc 1 1182 13 discriminator 3 view .LVU1200
1189:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3886              		.loc 1 1189 11 view .LVU1201
 3887 0114 8AE7     		b	.L308
 3888              	.LVL391:
 3889              	.L326:
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3890              		.loc 1 1178 13 discriminator 1 view .LVU1202
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3891              		.loc 1 1178 13 discriminator 1 view .LVU1203
 3892 0116 044B     		ldr	r3, .L327
 3893 0118 40F29A42 		movw	r2, #1178
 3894 011c 0849     		ldr	r1, .L327+24
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 120


 3895 011e 0448     		ldr	r0, .L327+8
 3896 0120 FFF7FEFF 		bl	printf
 3897              	.LVL392:
 3898 0124 DFE7     		b	.L319
 3899              	.L328:
 3900 0126 00BF     		.align	2
 3901              	.L327:
 3902 0128 00000000 		.word	.LC0
 3903 012c 00000000 		.word	.LC34
 3904 0130 40000000 		.word	.LC2
 3905 0134 14000000 		.word	.LC35
 3906 0138 34000000 		.word	.LC36
 3907 013c 00000000 		.word	lock_tcpip_core
 3908 0140 50000000 		.word	.LC37
 3909              		.cfi_endproc
 3910              	.LFE379:
 3912              		.section	.text.lwip_netconn_do_bind,"ax",%progbits
 3913              		.align	1
 3914              		.global	lwip_netconn_do_bind
 3915              		.syntax unified
 3916              		.thumb
 3917              		.thumb_func
 3919              	lwip_netconn_do_bind:
 3920              	.LVL393:
 3921              	.LFB380:
1217:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3922              		.loc 1 1217 1 view -0
 3923              		.cfi_startproc
 3924              		@ args = 0, pretend = 0, frame = 0
 3925              		@ frame_needed = 0, uses_anonymous_args = 0
1217:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3926              		.loc 1 1217 1 is_stmt 0 view .LVU1205
 3927 0000 10B5     		push	{r4, lr}
 3928              	.LCFI22:
 3929              		.cfi_def_cfa_offset 8
 3930              		.cfi_offset 4, -8
 3931              		.cfi_offset 14, -4
 3932 0002 0446     		mov	r4, r0
1218:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 3933              		.loc 1 1218 3 is_stmt 1 view .LVU1206
 3934              	.LVL394:
1219:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3935              		.loc 1 1219 3 view .LVU1207
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3936              		.loc 1 1221 3 view .LVU1208
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3937              		.loc 1 1221 10 is_stmt 0 view .LVU1209
 3938 0004 0368     		ldr	r3, [r0]
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3939              		.loc 1 1221 21 view .LVU1210
 3940 0006 5868     		ldr	r0, [r3, #4]
 3941              	.LVL395:
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3942              		.loc 1 1221 6 view .LVU1211
 3943 0008 80B1     		cbz	r0, .L332
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3944              		.loc 1 1222 5 is_stmt 1 view .LVU1212
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 121


1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3945              		.loc 1 1222 13 is_stmt 0 view .LVU1213
 3946 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3947 000c 03F0F003 		and	r3, r3, #240
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3948              		.loc 1 1222 5 view .LVU1214
 3949 0010 102B     		cmp	r3, #16
 3950 0012 06D0     		beq	.L331
 3951 0014 202B     		cmp	r3, #32
 3952 0016 0DD1     		bne	.L333
1230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3953              		.loc 1 1230 9 is_stmt 1 view .LVU1215
1230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3954              		.loc 1 1230 15 is_stmt 0 view .LVU1216
 3955 0018 A289     		ldrh	r2, [r4, #12]
 3956 001a A168     		ldr	r1, [r4, #8]
 3957 001c FFF7FEFF 		bl	udp_bind
 3958              	.LVL396:
1231:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 3959              		.loc 1 1231 9 is_stmt 1 view .LVU1217
 3960 0020 06E0     		b	.L330
 3961              	.LVL397:
 3962              	.L331:
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3963              		.loc 1 1235 9 view .LVU1218
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3964              		.loc 1 1235 15 is_stmt 0 view .LVU1219
 3965 0022 A289     		ldrh	r2, [r4, #12]
 3966 0024 A168     		ldr	r1, [r4, #8]
 3967 0026 FFF7FEFF 		bl	tcp_bind
 3968              	.LVL398:
1236:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3969              		.loc 1 1236 9 is_stmt 1 view .LVU1220
 3970 002a 01E0     		b	.L330
 3971              	.LVL399:
 3972              	.L332:
1243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3973              		.loc 1 1243 9 is_stmt 0 view .LVU1221
 3974 002c 6FF00500 		mvn	r0, #5
 3975              	.L330:
 3976              	.LVL400:
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 3977              		.loc 1 1245 3 is_stmt 1 view .LVU1222
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 3978              		.loc 1 1245 12 is_stmt 0 view .LVU1223
 3979 0030 2071     		strb	r0, [r4, #4]
1246:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3980              		.loc 1 1246 24 is_stmt 1 view .LVU1224
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 3981              		.loc 1 1247 1 is_stmt 0 view .LVU1225
 3982 0032 10BD     		pop	{r4, pc}
 3983              	.LVL401:
 3984              	.L333:
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3985              		.loc 1 1222 5 view .LVU1226
 3986 0034 6FF00500 		mvn	r0, #5
 3987 0038 FAE7     		b	.L330
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 122


 3988              		.cfi_endproc
 3989              	.LFE380:
 3991              		.section	.text.lwip_netconn_do_bind_if,"ax",%progbits
 3992              		.align	1
 3993              		.global	lwip_netconn_do_bind_if
 3994              		.syntax unified
 3995              		.thumb
 3996              		.thumb_func
 3998              	lwip_netconn_do_bind_if:
 3999              	.LVL402:
 4000              	.LFB381:
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netif *netif;
 4001              		.loc 1 1257 1 is_stmt 1 view -0
 4002              		.cfi_startproc
 4003              		@ args = 0, pretend = 0, frame = 0
 4004              		@ frame_needed = 0, uses_anonymous_args = 0
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netif *netif;
 4005              		.loc 1 1257 1 is_stmt 0 view .LVU1228
 4006 0000 10B5     		push	{r4, lr}
 4007              	.LCFI23:
 4008              		.cfi_def_cfa_offset 8
 4009              		.cfi_offset 4, -8
 4010              		.cfi_offset 14, -4
 4011 0002 0446     		mov	r4, r0
1258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4012              		.loc 1 1258 3 is_stmt 1 view .LVU1229
1259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 4013              		.loc 1 1259 3 view .LVU1230
 4014              	.LVL403:
1260:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4015              		.loc 1 1260 3 view .LVU1231
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4016              		.loc 1 1262 3 view .LVU1232
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4017              		.loc 1 1262 11 is_stmt 0 view .LVU1233
 4018 0004 807B     		ldrb	r0, [r0, #14]	@ zero_extendqisi2
 4019              	.LVL404:
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4020              		.loc 1 1262 11 view .LVU1234
 4021 0006 FFF7FEFF 		bl	netif_get_by_index
 4022              	.LVL405:
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4023              		.loc 1 1264 3 is_stmt 1 view .LVU1235
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4024              		.loc 1 1264 6 is_stmt 0 view .LVU1236
 4025 000a 90B1     		cbz	r0, .L338
 4026 000c 0146     		mov	r1, r0
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4027              		.loc 1 1264 30 discriminator 1 view .LVU1237
 4028 000e 2368     		ldr	r3, [r4]
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4029              		.loc 1 1264 41 discriminator 1 view .LVU1238
 4030 0010 5868     		ldr	r0, [r3, #4]
 4031              	.LVL406:
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4032              		.loc 1 1264 23 discriminator 1 view .LVU1239
 4033 0012 90B1     		cbz	r0, .L339
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 123


1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4034              		.loc 1 1265 5 is_stmt 1 view .LVU1240
 4035              	.LVL407:
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4036              		.loc 1 1266 5 view .LVU1241
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4037              		.loc 1 1266 13 is_stmt 0 view .LVU1242
 4038 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4039 0016 03F0F003 		and	r3, r3, #240
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4040              		.loc 1 1266 5 view .LVU1243
 4041 001a 102B     		cmp	r3, #16
 4042 001c 05D0     		beq	.L337
 4043 001e 202B     		cmp	r3, #32
 4044 0020 0ED1     		bne	.L340
1274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 4045              		.loc 1 1274 9 is_stmt 1 view .LVU1244
 4046 0022 FFF7FEFF 		bl	udp_bind_netif
 4047              	.LVL408:
1275:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 4048              		.loc 1 1275 9 view .LVU1245
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4049              		.loc 1 1265 9 is_stmt 0 view .LVU1246
 4050 0026 0023     		movs	r3, #0
1275:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 4051              		.loc 1 1275 9 view .LVU1247
 4052 0028 05E0     		b	.L336
 4053              	.LVL409:
 4054              	.L337:
1279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 4055              		.loc 1 1279 9 is_stmt 1 view .LVU1248
 4056 002a FFF7FEFF 		bl	tcp_bind_netif
 4057              	.LVL410:
1280:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 4058              		.loc 1 1280 9 view .LVU1249
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4059              		.loc 1 1265 9 is_stmt 0 view .LVU1250
 4060 002e 0023     		movs	r3, #0
1280:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 4061              		.loc 1 1280 9 view .LVU1251
 4062 0030 01E0     		b	.L336
 4063              	.LVL411:
 4064              	.L338:
1287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4065              		.loc 1 1287 9 view .LVU1252
 4066 0032 6FF00503 		mvn	r3, #5
 4067              	.LVL412:
 4068              	.L336:
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4069              		.loc 1 1289 3 is_stmt 1 view .LVU1253
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4070              		.loc 1 1289 12 is_stmt 0 view .LVU1254
 4071 0036 2371     		strb	r3, [r4, #4]
1290:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4072              		.loc 1 1290 24 is_stmt 1 view .LVU1255
1291:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4073              		.loc 1 1291 1 is_stmt 0 view .LVU1256
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 124


 4074 0038 10BD     		pop	{r4, pc}
 4075              	.LVL413:
 4076              	.L339:
1287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4077              		.loc 1 1287 9 view .LVU1257
 4078 003a 6FF00503 		mvn	r3, #5
 4079 003e FAE7     		b	.L336
 4080              	.LVL414:
 4081              	.L340:
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4082              		.loc 1 1266 5 view .LVU1258
 4083 0040 6FF00503 		mvn	r3, #5
 4084 0044 F7E7     		b	.L336
 4085              		.cfi_endproc
 4086              	.LFE381:
 4088              		.section	.rodata.lwip_netconn_do_connect.str1.4,"aMS",%progbits,1
 4089              		.align	2
 4090              	.LC38:
 4091 0000 496E7661 		.ascii	"Invalid netconn type\000"
 4091      6C696420 
 4091      6E657463 
 4091      6F6E6E20 
 4091      74797065 
 4092              		.section	.text.lwip_netconn_do_connect,"ax",%progbits
 4093              		.align	1
 4094              		.global	lwip_netconn_do_connect
 4095              		.syntax unified
 4096              		.thumb
 4097              		.thumb_func
 4099              	lwip_netconn_do_connect:
 4100              	.LVL415:
 4101              	.LFB383:
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4102              		.loc 1 1351 1 is_stmt 1 view -0
 4103              		.cfi_startproc
 4104              		@ args = 0, pretend = 0, frame = 0
 4105              		@ frame_needed = 0, uses_anonymous_args = 0
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4106              		.loc 1 1351 1 is_stmt 0 view .LVU1260
 4107 0000 38B5     		push	{r3, r4, r5, lr}
 4108              	.LCFI24:
 4109              		.cfi_def_cfa_offset 16
 4110              		.cfi_offset 3, -16
 4111              		.cfi_offset 4, -12
 4112              		.cfi_offset 5, -8
 4113              		.cfi_offset 14, -4
 4114 0002 0446     		mov	r4, r0
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 4115              		.loc 1 1352 3 is_stmt 1 view .LVU1261
 4116              	.LVL416:
1353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4117              		.loc 1 1353 3 view .LVU1262
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4118              		.loc 1 1355 3 view .LVU1263
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4119              		.loc 1 1355 10 is_stmt 0 view .LVU1264
 4120 0004 0268     		ldr	r2, [r0]
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 125


1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4121              		.loc 1 1355 21 view .LVU1265
 4122 0006 5068     		ldr	r0, [r2, #4]
 4123              	.LVL417:
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4124              		.loc 1 1355 6 view .LVU1266
 4125 0008 0028     		cmp	r0, #0
 4126 000a 64D0     		beq	.L351
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4127              		.loc 1 1359 5 is_stmt 1 view .LVU1267
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4128              		.loc 1 1359 13 is_stmt 0 view .LVU1268
 4129 000c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4130 000e 03F0F003 		and	r3, r3, #240
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4131              		.loc 1 1359 5 view .LVU1269
 4132 0012 102B     		cmp	r3, #16
 4133 0014 06D0     		beq	.L344
 4134 0016 202B     		cmp	r3, #32
 4135 0018 53D1     		bne	.L345
1367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 4136              		.loc 1 1367 9 is_stmt 1 view .LVU1270
1367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 4137              		.loc 1 1367 15 is_stmt 0 view .LVU1271
 4138 001a A289     		ldrh	r2, [r4, #12]
 4139 001c A168     		ldr	r1, [r4, #8]
 4140 001e FFF7FEFF 		bl	udp_connect
 4141              	.LVL418:
1368:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 4142              		.loc 1 1368 9 is_stmt 1 view .LVU1272
 4143 0022 5AE0     		b	.L343
 4144              	.LVL419:
 4145              	.L344:
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
 4146              		.loc 1 1373 9 view .LVU1273
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
 4147              		.loc 1 1373 22 is_stmt 0 view .LVU1274
 4148 0024 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
 4149              		.loc 1 1373 12 view .LVU1275
 4150 0026 032B     		cmp	r3, #3
 4151 0028 59D0     		beq	.L352
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ISCONN;
 4152              		.loc 1 1375 16 is_stmt 1 view .LVU1276
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ISCONN;
 4153              		.loc 1 1375 19 is_stmt 0 view .LVU1277
 4154 002a 13B1     		cbz	r3, .L356
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4155              		.loc 1 1376 15 view .LVU1278
 4156 002c 6FF00900 		mvn	r0, #9
 4157 0030 53E0     		b	.L343
 4158              	.L356:
1378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
 4159              		.loc 1 1378 11 is_stmt 1 view .LVU1279
 4160 0032 1046     		mov	r0, r2
 4161 0034 FFF7FEFF 		bl	setup_tcp
 4162              	.LVL420:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 126


1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 4163              		.loc 1 1379 11 view .LVU1280
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 4164              		.loc 1 1379 32 is_stmt 0 view .LVU1281
 4165 0038 2068     		ldr	r0, [r4]
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 4166              		.loc 1 1379 17 view .LVU1282
 4167 003a 2A4B     		ldr	r3, .L359
 4168 003c A289     		ldrh	r2, [r4, #12]
 4169 003e A168     		ldr	r1, [r4, #8]
 4170 0040 4068     		ldr	r0, [r0, #4]
 4171 0042 FFF7FEFF 		bl	tcp_connect
 4172              	.LVL421:
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
 4173              		.loc 1 1381 11 is_stmt 1 view .LVU1283
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
 4174              		.loc 1 1381 14 is_stmt 0 view .LVU1284
 4175 0046 0028     		cmp	r0, #0
 4176 0048 47D1     		bne	.L343
 4177              	.LBB21:
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
 4178              		.loc 1 1382 13 is_stmt 1 view .LVU1285
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
 4179              		.loc 1 1382 33 is_stmt 0 view .LVU1286
 4180 004a 2268     		ldr	r2, [r4]
 4181 004c 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 4182              	.LVL422:
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 4183              		.loc 1 1383 13 is_stmt 1 view .LVU1287
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 4184              		.loc 1 1383 30 is_stmt 0 view .LVU1288
 4185 004e 0321     		movs	r1, #3
 4186 0050 5170     		strb	r1, [r2, #1]
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4187              		.loc 1 1384 13 is_stmt 1 view .LVU1289
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4188              		.loc 1 1384 13 view .LVU1290
 4189 0052 13F00203 		ands	r3, r3, #2
 4190              	.LVL423:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4191              		.loc 1 1384 13 is_stmt 0 view .LVU1291
 4192 0056 08D0     		beq	.L346
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4193              		.loc 1 1384 13 is_stmt 1 discriminator 1 view .LVU1292
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4194              		.loc 1 1384 13 discriminator 1 view .LVU1293
 4195 0058 2168     		ldr	r1, [r4]
 4196 005a 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 4197              	.LVL424:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4198              		.loc 1 1384 13 is_stmt 0 discriminator 1 view .LVU1294
 4199 005c 42F00402 		orr	r2, r2, #4
 4200 0060 0A77     		strb	r2, [r1, #28]
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4201              		.loc 1 1384 13 is_stmt 1 discriminator 1 view .LVU1295
 4202              	.L347:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 127


 4203              		.loc 1 1384 13 discriminator 4 view .LVU1296
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4204              		.loc 1 1384 13 discriminator 4 view .LVU1297
1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = ERR_INPROGRESS;
 4205              		.loc 1 1385 13 view .LVU1298
1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = ERR_INPROGRESS;
 4206              		.loc 1 1385 16 is_stmt 0 view .LVU1299
 4207 0062 43B1     		cbz	r3, .L357
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4208              		.loc 1 1386 19 view .LVU1300
 4209 0064 6FF00400 		mvn	r0, #4
 4210              	.LVL425:
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4211              		.loc 1 1386 19 view .LVU1301
 4212 0068 37E0     		b	.L343
 4213              	.LVL426:
 4214              	.L346:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4215              		.loc 1 1384 13 is_stmt 1 discriminator 2 view .LVU1302
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4216              		.loc 1 1384 13 discriminator 2 view .LVU1303
 4217 006a 2168     		ldr	r1, [r4]
 4218 006c 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 4219              	.LVL427:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4220              		.loc 1 1384 13 is_stmt 0 discriminator 2 view .LVU1304
 4221 006e 02F0FB02 		and	r2, r2, #251
 4222 0072 0A77     		strb	r2, [r1, #28]
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4223              		.loc 1 1384 13 discriminator 2 view .LVU1305
 4224 0074 F5E7     		b	.L347
 4225              	.L357:
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 4226              		.loc 1 1388 15 is_stmt 1 view .LVU1306
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 4227              		.loc 1 1388 18 is_stmt 0 view .LVU1307
 4228 0076 2368     		ldr	r3, [r4]
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 4229              		.loc 1 1388 38 view .LVU1308
 4230 0078 1C62     		str	r4, [r3, #32]
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4231              		.loc 1 1392 15 is_stmt 1 view .LVU1309
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4232              		.loc 1 1392 15 view .LVU1310
 4233 007a 2368     		ldr	r3, [r4]
 4234 007c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4235 007e 032B     		cmp	r3, #3
 4236 0080 17D1     		bne	.L358
 4237              	.LVL428:
 4238              	.L348:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4239              		.loc 1 1392 15 discriminator 3 view .LVU1311
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4240              		.loc 1 1392 15 discriminator 3 view .LVU1312
1393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 4241              		.loc 1 1393 15 view .LVU1313
 4242 0082 194D     		ldr	r5, .L359+4
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 128


 4243 0084 2846     		mov	r0, r5
 4244 0086 FFF7FEFF 		bl	sys_mutex_unlock
 4245              	.LVL429:
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
 4246              		.loc 1 1394 15 view .LVU1314
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
 4247              		.loc 1 1394 33 is_stmt 0 view .LVU1315
 4248 008a 2068     		ldr	r0, [r4]
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
 4249              		.loc 1 1394 15 view .LVU1316
 4250 008c 0021     		movs	r1, #0
 4251 008e 0C30     		adds	r0, r0, #12
 4252 0090 FFF7FEFF 		bl	sys_arch_sem_wait
 4253              	.LVL430:
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
 4254              		.loc 1 1395 15 is_stmt 1 view .LVU1317
 4255 0094 2846     		mov	r0, r5
 4256 0096 FFF7FEFF 		bl	sys_mutex_lock
 4257              	.LVL431:
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4258              		.loc 1 1396 15 view .LVU1318
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4259              		.loc 1 1396 15 view .LVU1319
 4260 009a 2368     		ldr	r3, [r4]
 4261 009c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4262 009e 032B     		cmp	r3, #3
 4263 00a0 1CD1     		bne	.L342
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4264              		.loc 1 1396 15 discriminator 1 view .LVU1320
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4265              		.loc 1 1396 15 discriminator 1 view .LVU1321
 4266 00a2 124B     		ldr	r3, .L359+8
 4267 00a4 40F27452 		movw	r2, #1396
 4268 00a8 1149     		ldr	r1, .L359+12
 4269 00aa 1248     		ldr	r0, .L359+16
 4270 00ac FFF7FEFF 		bl	printf
 4271              	.LVL432:
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4272              		.loc 1 1396 15 discriminator 3 view .LVU1322
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4273              		.loc 1 1396 15 discriminator 3 view .LVU1323
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4274              		.loc 1 1398 15 view .LVU1324
 4275 00b0 14E0     		b	.L342
 4276              	.LVL433:
 4277              	.L358:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4278              		.loc 1 1392 15 discriminator 1 view .LVU1325
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4279              		.loc 1 1392 15 discriminator 1 view .LVU1326
 4280 00b2 0E4B     		ldr	r3, .L359+8
 4281 00b4 4FF4AE62 		mov	r2, #1392
 4282 00b8 0D49     		ldr	r1, .L359+12
 4283 00ba 0E48     		ldr	r0, .L359+16
 4284              	.LVL434:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4285              		.loc 1 1392 15 is_stmt 0 discriminator 1 view .LVU1327
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 129


 4286 00bc FFF7FEFF 		bl	printf
 4287              	.LVL435:
 4288 00c0 DFE7     		b	.L348
 4289              	.LVL436:
 4290              	.L345:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4291              		.loc 1 1392 15 discriminator 1 view .LVU1328
 4292              	.LBE21:
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4293              		.loc 1 1405 9 is_stmt 1 view .LVU1329
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4294              		.loc 1 1405 9 view .LVU1330
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4295              		.loc 1 1405 9 discriminator 1 view .LVU1331
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4296              		.loc 1 1405 9 discriminator 1 view .LVU1332
 4297 00c2 0A4B     		ldr	r3, .L359+8
 4298 00c4 40F27D52 		movw	r2, #1405
 4299 00c8 0B49     		ldr	r1, .L359+20
 4300 00ca 0A48     		ldr	r0, .L359+16
 4301 00cc FFF7FEFF 		bl	printf
 4302              	.LVL437:
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4303              		.loc 1 1405 9 discriminator 1 view .LVU1333
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4304              		.loc 1 1405 9 discriminator 1 view .LVU1334
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4305              		.loc 1 1405 9 discriminator 1 view .LVU1335
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4306              		.loc 1 1405 9 discriminator 3 view .LVU1336
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4307              		.loc 1 1405 9 discriminator 3 view .LVU1337
1408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4308              		.loc 1 1408 9 view .LVU1338
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4309              		.loc 1 1405 9 is_stmt 0 discriminator 1 view .LVU1339
 4310 00d0 6FF00500 		mvn	r0, #5
1408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4311              		.loc 1 1408 9 view .LVU1340
 4312 00d4 01E0     		b	.L343
 4313              	.LVL438:
 4314              	.L351:
1357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 4315              		.loc 1 1357 9 view .LVU1341
 4316 00d6 6FF00E00 		mvn	r0, #14
 4317              	.L343:
 4318              	.LVL439:
1411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
 4319              		.loc 1 1411 3 is_stmt 1 view .LVU1342
1411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
 4320              		.loc 1 1411 12 is_stmt 0 view .LVU1343
 4321 00da 2071     		strb	r0, [r4, #4]
1414:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4322              		.loc 1 1414 24 is_stmt 1 view .LVU1344
 4323              	.LVL440:
 4324              	.L342:
1415:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 130


 4325              		.loc 1 1415 1 is_stmt 0 view .LVU1345
 4326 00dc 38BD     		pop	{r3, r4, r5, pc}
 4327              	.LVL441:
 4328              	.L352:
1374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if (msg->conn->state != NETCONN_NONE) {
 4329              		.loc 1 1374 15 view .LVU1346
 4330 00de 6FF00800 		mvn	r0, #8
 4331 00e2 FAE7     		b	.L343
 4332              	.L360:
 4333              		.align	2
 4334              	.L359:
 4335 00e4 00000000 		.word	lwip_netconn_do_connected
 4336 00e8 00000000 		.word	lock_tcpip_core
 4337 00ec 00000000 		.word	.LC0
 4338 00f0 50000000 		.word	.LC37
 4339 00f4 40000000 		.word	.LC2
 4340 00f8 00000000 		.word	.LC38
 4341              		.cfi_endproc
 4342              	.LFE383:
 4344              		.section	.text.lwip_netconn_do_disconnect,"ax",%progbits
 4345              		.align	1
 4346              		.global	lwip_netconn_do_disconnect
 4347              		.syntax unified
 4348              		.thumb
 4349              		.thumb_func
 4351              	lwip_netconn_do_disconnect:
 4352              	.LVL442:
 4353              	.LFB384:
1426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4354              		.loc 1 1426 1 is_stmt 1 view -0
 4355              		.cfi_startproc
 4356              		@ args = 0, pretend = 0, frame = 0
 4357              		@ frame_needed = 0, uses_anonymous_args = 0
1426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4358              		.loc 1 1426 1 is_stmt 0 view .LVU1348
 4359 0000 10B5     		push	{r4, lr}
 4360              	.LCFI25:
 4361              		.cfi_def_cfa_offset 8
 4362              		.cfi_offset 4, -8
 4363              		.cfi_offset 14, -4
 4364 0002 0446     		mov	r4, r0
1427:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4365              		.loc 1 1427 3 is_stmt 1 view .LVU1349
 4366              	.LVL443:
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4367              		.loc 1 1430 3 view .LVU1350
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4368              		.loc 1 1430 7 is_stmt 0 view .LVU1351
 4369 0004 0268     		ldr	r2, [r0]
 4370 0006 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4371              		.loc 1 1430 6 view .LVU1352
 4372 0008 03F0F003 		and	r3, r3, #240
 4373 000c 202B     		cmp	r3, #32
 4374 000e 02D0     		beq	.L365
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4375              		.loc 1 1436 5 is_stmt 1 view .LVU1353
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 131


1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4376              		.loc 1 1436 14 is_stmt 0 view .LVU1354
 4377 0010 FA23     		movs	r3, #250
 4378 0012 0371     		strb	r3, [r0, #4]
1438:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4379              		.loc 1 1438 24 is_stmt 1 view .LVU1355
 4380              	.LVL444:
 4381              	.L361:
1439:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4382              		.loc 1 1439 1 is_stmt 0 view .LVU1356
 4383 0014 10BD     		pop	{r4, pc}
 4384              	.LVL445:
 4385              	.L365:
1431:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 4386              		.loc 1 1431 5 is_stmt 1 view .LVU1357
 4387 0016 5068     		ldr	r0, [r2, #4]
 4388              	.LVL446:
1431:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 4389              		.loc 1 1431 5 is_stmt 0 view .LVU1358
 4390 0018 FFF7FEFF 		bl	udp_disconnect
 4391              	.LVL447:
1432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 4392              		.loc 1 1432 5 is_stmt 1 view .LVU1359
1432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 4393              		.loc 1 1432 14 is_stmt 0 view .LVU1360
 4394 001c 0023     		movs	r3, #0
 4395 001e 2371     		strb	r3, [r4, #4]
 4396 0020 F8E7     		b	.L361
 4397              		.cfi_endproc
 4398              	.LFE384:
 4400              		.section	.text.lwip_netconn_do_listen,"ax",%progbits
 4401              		.align	1
 4402              		.global	lwip_netconn_do_listen
 4403              		.syntax unified
 4404              		.thumb
 4405              		.thumb_func
 4407              	lwip_netconn_do_listen:
 4408              	.LVL448:
 4409              	.LFB385:
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4410              		.loc 1 1450 1 is_stmt 1 view -0
 4411              		.cfi_startproc
 4412              		@ args = 0, pretend = 0, frame = 8
 4413              		@ frame_needed = 0, uses_anonymous_args = 0
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4414              		.loc 1 1450 1 is_stmt 0 view .LVU1362
 4415 0000 30B5     		push	{r4, r5, lr}
 4416              	.LCFI26:
 4417              		.cfi_def_cfa_offset 12
 4418              		.cfi_offset 4, -12
 4419              		.cfi_offset 5, -8
 4420              		.cfi_offset 14, -4
 4421 0002 83B0     		sub	sp, sp, #12
 4422              	.LCFI27:
 4423              		.cfi_def_cfa_offset 24
 4424 0004 0446     		mov	r4, r0
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 132


 4425              		.loc 1 1451 3 is_stmt 1 view .LVU1363
 4426              	.LVL449:
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4427              		.loc 1 1452 3 view .LVU1364
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4428              		.loc 1 1454 3 view .LVU1365
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4429              		.loc 1 1454 10 is_stmt 0 view .LVU1366
 4430 0006 0368     		ldr	r3, [r0]
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4431              		.loc 1 1454 21 view .LVU1367
 4432 0008 5868     		ldr	r0, [r3, #4]
 4433              	.LVL450:
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4434              		.loc 1 1454 6 view .LVU1368
 4435 000a 0028     		cmp	r0, #0
 4436 000c 5ED0     		beq	.L367
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 4437              		.loc 1 1455 5 is_stmt 1 view .LVU1369
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 4438              		.loc 1 1455 9 is_stmt 0 view .LVU1370
 4439 000e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 4440              		.loc 1 1455 8 view .LVU1371
 4441 0010 02F0F002 		and	r2, r2, #240
 4442 0014 102A     		cmp	r2, #16
 4443 0016 07D0     		beq	.L377
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4444              		.loc 1 1515 7 is_stmt 1 view .LVU1372
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4445              		.loc 1 1515 11 is_stmt 0 view .LVU1373
 4446 0018 F023     		movs	r3, #240
 4447 001a 8DF80730 		strb	r3, [sp, #7]
 4448              	.L371:
1520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4449              		.loc 1 1520 3 is_stmt 1 view .LVU1374
1520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4450              		.loc 1 1520 12 is_stmt 0 view .LVU1375
 4451 001e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 4452 0022 2371     		strb	r3, [r4, #4]
1521:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4453              		.loc 1 1521 24 is_stmt 1 view .LVU1376
1522:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 4454              		.loc 1 1522 1 is_stmt 0 view .LVU1377
 4455 0024 03B0     		add	sp, sp, #12
 4456              	.LCFI28:
 4457              		.cfi_remember_state
 4458              		.cfi_def_cfa_offset 12
 4459              		@ sp needed
 4460 0026 30BD     		pop	{r4, r5, pc}
 4461              	.LVL451:
 4462              	.L377:
 4463              	.LCFI29:
 4464              		.cfi_restore_state
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
 4465              		.loc 1 1456 7 is_stmt 1 view .LVU1378
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 133


 4466              		.loc 1 1456 20 is_stmt 0 view .LVU1379
 4467 0028 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
 4468              		.loc 1 1456 10 view .LVU1380
 4469 002a 002B     		cmp	r3, #0
 4470 002c 44D1     		bne	.L369
 4471              	.LBB22:
1457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->pcb.tcp->state != CLOSED) {
 4472              		.loc 1 1457 9 is_stmt 1 view .LVU1381
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
 4473              		.loc 1 1458 9 view .LVU1382
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
 4474              		.loc 1 1458 31 is_stmt 0 view .LVU1383
 4475 002e 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
 4476              		.loc 1 1458 12 view .LVU1384
 4477 0030 1BB1     		cbz	r3, .L370
1460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4478              		.loc 1 1460 11 is_stmt 1 view .LVU1385
1460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4479              		.loc 1 1460 15 is_stmt 0 view .LVU1386
 4480 0032 FA23     		movs	r3, #250
 4481 0034 8DF80730 		strb	r3, [sp, #7]
 4482 0038 F1E7     		b	.L371
 4483              	.L370:
 4484              	.LBB23:
1462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
 4485              		.loc 1 1462 11 is_stmt 1 view .LVU1387
1466:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
 4486              		.loc 1 1466 11 view .LVU1388
 4487              	.LVL452:
1480:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4488              		.loc 1 1480 11 view .LVU1389
1480:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4489              		.loc 1 1480 18 is_stmt 0 view .LVU1390
 4490 003a 0DF10702 		add	r2, sp, #7
 4491 003e FF21     		movs	r1, #255
 4492 0040 FFF7FEFF 		bl	tcp_listen_with_backlog_and_err
 4493              	.LVL453:
1482:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
 4494              		.loc 1 1482 11 is_stmt 1 view .LVU1391
1482:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
 4495              		.loc 1 1482 14 is_stmt 0 view .LVU1392
 4496 0044 0546     		mov	r5, r0
 4497 0046 0028     		cmp	r0, #0
 4498 0048 E9D0     		beq	.L371
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4499              		.loc 1 1486 13 is_stmt 1 view .LVU1393
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4500              		.loc 1 1486 36 is_stmt 0 view .LVU1394
 4501 004a 2068     		ldr	r0, [r4]
 4502              	.LVL454:
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4503              		.loc 1 1486 17 view .LVU1395
 4504 004c 1030     		adds	r0, r0, #16
 4505 004e FFF7FEFF 		bl	sys_mbox_valid
 4506              	.LVL455:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 134


1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4507              		.loc 1 1486 16 discriminator 1 view .LVU1396
 4508 0052 C8B9     		cbnz	r0, .L378
 4509              	.L372:
1491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
 4510              		.loc 1 1491 13 is_stmt 1 view .LVU1397
1491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
 4511              		.loc 1 1491 17 is_stmt 0 view .LVU1398
 4512 0054 0023     		movs	r3, #0
 4513 0056 8DF80730 		strb	r3, [sp, #7]
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4514              		.loc 1 1492 13 is_stmt 1 view .LVU1399
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4515              		.loc 1 1492 37 is_stmt 0 view .LVU1400
 4516 005a 2068     		ldr	r0, [r4]
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4517              		.loc 1 1492 18 view .LVU1401
 4518 005c 1430     		adds	r0, r0, #20
 4519 005e FFF7FEFF 		bl	sys_mbox_valid
 4520              	.LVL456:
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4521              		.loc 1 1492 16 discriminator 1 view .LVU1402
 4522 0062 D0B1     		cbz	r0, .L379
 4523              	.L373:
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 4524              		.loc 1 1495 13 is_stmt 1 view .LVU1403
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 4525              		.loc 1 1495 21 is_stmt 0 view .LVU1404
 4526 0064 9DF90730 		ldrsb	r3, [sp, #7]
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 4527              		.loc 1 1495 16 view .LVU1405
 4528 0068 FBB9     		cbnz	r3, .L374
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
 4529              		.loc 1 1496 15 is_stmt 1 view .LVU1406
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
 4530              		.loc 1 1496 18 is_stmt 0 view .LVU1407
 4531 006a 2368     		ldr	r3, [r4]
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
 4532              		.loc 1 1496 32 view .LVU1408
 4533 006c 0222     		movs	r2, #2
 4534 006e 5A70     		strb	r2, [r3, #1]
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4535              		.loc 1 1497 15 is_stmt 1 view .LVU1409
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4536              		.loc 1 1497 18 is_stmt 0 view .LVU1410
 4537 0070 2368     		ldr	r3, [r4]
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4538              		.loc 1 1497 34 view .LVU1411
 4539 0072 5D60     		str	r5, [r3, #4]
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 4540              		.loc 1 1498 15 is_stmt 1 view .LVU1412
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 4541              		.loc 1 1498 26 is_stmt 0 view .LVU1413
 4542 0074 2168     		ldr	r1, [r4]
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 4543              		.loc 1 1498 15 view .LVU1414
 4544 0076 4868     		ldr	r0, [r1, #4]
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 135


 4545 0078 FFF7FEFF 		bl	tcp_arg
 4546              	.LVL457:
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4547              		.loc 1 1499 15 is_stmt 1 view .LVU1415
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4548              		.loc 1 1499 29 is_stmt 0 view .LVU1416
 4549 007c 2368     		ldr	r3, [r4]
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4550              		.loc 1 1499 15 view .LVU1417
 4551 007e 1549     		ldr	r1, .L381
 4552 0080 5868     		ldr	r0, [r3, #4]
 4553 0082 FFF7FEFF 		bl	tcp_accept
 4554              	.LVL458:
 4555 0086 CAE7     		b	.L371
 4556              	.L378:
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
 4557              		.loc 1 1488 15 is_stmt 1 view .LVU1418
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
 4558              		.loc 1 1488 33 is_stmt 0 view .LVU1419
 4559 0088 2068     		ldr	r0, [r4]
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
 4560              		.loc 1 1488 15 view .LVU1420
 4561 008a 1030     		adds	r0, r0, #16
 4562 008c FFF7FEFF 		bl	sys_mbox_free
 4563              	.LVL459:
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4564              		.loc 1 1489 15 is_stmt 1 view .LVU1421
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4565              		.loc 1 1489 40 is_stmt 0 view .LVU1422
 4566 0090 2068     		ldr	r0, [r4]
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4567              		.loc 1 1489 15 view .LVU1423
 4568 0092 1030     		adds	r0, r0, #16
 4569 0094 FFF7FEFF 		bl	sys_mbox_set_invalid
 4570              	.LVL460:
 4571 0098 DCE7     		b	.L372
 4572              	.L379:
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4573              		.loc 1 1493 15 is_stmt 1 view .LVU1424
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4574              		.loc 1 1493 38 is_stmt 0 view .LVU1425
 4575 009a 2068     		ldr	r0, [r4]
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4576              		.loc 1 1493 21 view .LVU1426
 4577 009c 0621     		movs	r1, #6
 4578 009e 1430     		adds	r0, r0, #20
 4579 00a0 FFF7FEFF 		bl	sys_mbox_new
 4580              	.LVL461:
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4581              		.loc 1 1493 19 discriminator 1 view .LVU1427
 4582 00a4 8DF80700 		strb	r0, [sp, #7]
 4583 00a8 DCE7     		b	.L373
 4584              	.L374:
1502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = NULL;
 4585              		.loc 1 1502 15 is_stmt 1 view .LVU1428
 4586 00aa 2846     		mov	r0, r5
 4587 00ac FFF7FEFF 		bl	tcp_close
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 136


 4588              	.LVL462:
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4589              		.loc 1 1503 15 view .LVU1429
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4590              		.loc 1 1503 18 is_stmt 0 view .LVU1430
 4591 00b0 2368     		ldr	r3, [r4]
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4592              		.loc 1 1503 34 view .LVU1431
 4593 00b2 0022     		movs	r2, #0
 4594 00b4 5A60     		str	r2, [r3, #4]
 4595 00b6 B2E7     		b	.L371
 4596              	.LVL463:
 4597              	.L369:
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4598              		.loc 1 1503 34 view .LVU1432
 4599              	.LBE23:
 4600              	.LBE22:
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* already listening, allow updating of the backlog */
 4601              		.loc 1 1507 14 is_stmt 1 view .LVU1433
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* already listening, allow updating of the backlog */
 4602              		.loc 1 1507 17 is_stmt 0 view .LVU1434
 4603 00b8 022B     		cmp	r3, #2
 4604 00ba 03D0     		beq	.L380
1512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4605              		.loc 1 1512 9 is_stmt 1 view .LVU1435
1512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4606              		.loc 1 1512 13 is_stmt 0 view .LVU1436
 4607 00bc F523     		movs	r3, #245
 4608 00be 8DF80730 		strb	r3, [sp, #7]
 4609 00c2 ACE7     		b	.L371
 4610              	.L380:
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
 4611              		.loc 1 1509 9 is_stmt 1 view .LVU1437
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
 4612              		.loc 1 1509 13 is_stmt 0 view .LVU1438
 4613 00c4 0023     		movs	r3, #0
 4614 00c6 8DF80730 		strb	r3, [sp, #7]
1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 4615              		.loc 1 1510 65 is_stmt 1 view .LVU1439
 4616 00ca A8E7     		b	.L371
 4617              	.L367:
1518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4618              		.loc 1 1518 5 view .LVU1440
1518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4619              		.loc 1 1518 9 is_stmt 0 view .LVU1441
 4620 00cc F523     		movs	r3, #245
 4621 00ce 8DF80730 		strb	r3, [sp, #7]
 4622 00d2 A4E7     		b	.L371
 4623              	.L382:
 4624              		.align	2
 4625              	.L381:
 4626 00d4 00000000 		.word	accept_function
 4627              		.cfi_endproc
 4628              	.LFE385:
 4630              		.section	.text.lwip_netconn_do_send,"ax",%progbits
 4631              		.align	1
 4632              		.global	lwip_netconn_do_send
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 137


 4633              		.syntax unified
 4634              		.thumb
 4635              		.thumb_func
 4637              	lwip_netconn_do_send:
 4638              	.LVL464:
 4639              	.LFB386:
1533:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4640              		.loc 1 1533 1 is_stmt 1 view -0
 4641              		.cfi_startproc
 4642              		@ args = 0, pretend = 0, frame = 0
 4643              		@ frame_needed = 0, uses_anonymous_args = 0
1533:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4644              		.loc 1 1533 1 is_stmt 0 view .LVU1443
 4645 0000 10B5     		push	{r4, lr}
 4646              	.LCFI30:
 4647              		.cfi_def_cfa_offset 8
 4648              		.cfi_offset 4, -8
 4649              		.cfi_offset 14, -4
 4650 0002 0446     		mov	r4, r0
1534:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4651              		.loc 1 1534 3 is_stmt 1 view .LVU1444
 4652              	.LVL465:
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4653              		.loc 1 1536 3 view .LVU1445
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4654              		.loc 1 1536 15 is_stmt 0 view .LVU1446
 4655 0004 0068     		ldr	r0, [r0]
 4656              	.LVL466:
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4657              		.loc 1 1536 15 view .LVU1447
 4658 0006 FFF7FEFF 		bl	netconn_err
 4659              	.LVL467:
1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4660              		.loc 1 1537 3 is_stmt 1 view .LVU1448
1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4661              		.loc 1 1537 6 is_stmt 0 view .LVU1449
 4662 000a 0346     		mov	r3, r0
 4663 000c 48B9     		cbnz	r0, .L384
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4664              		.loc 1 1538 5 is_stmt 1 view .LVU1450
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4665              		.loc 1 1538 12 is_stmt 0 view .LVU1451
 4666 000e 2368     		ldr	r3, [r4]
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4667              		.loc 1 1538 23 view .LVU1452
 4668 0010 5868     		ldr	r0, [r3, #4]
 4669              	.LVL468:
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4670              		.loc 1 1538 8 view .LVU1453
 4671 0012 C0B1     		cbz	r0, .L386
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4672              		.loc 1 1539 7 is_stmt 1 view .LVU1454
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4673              		.loc 1 1539 15 is_stmt 0 view .LVU1455
 4674 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4675              		.loc 1 1539 7 view .LVU1456
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 138


 4676 0016 03F0F003 		and	r3, r3, #240
 4677 001a 202B     		cmp	r3, #32
 4678 001c 03D0     		beq	.L389
1570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 4679              		.loc 1 1570 15 view .LVU1457
 4680 001e 6FF00A03 		mvn	r3, #10
 4681              	.LVL469:
 4682              	.L384:
1577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4683              		.loc 1 1577 3 is_stmt 1 view .LVU1458
1577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4684              		.loc 1 1577 12 is_stmt 0 view .LVU1459
 4685 0022 2371     		strb	r3, [r4, #4]
1578:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4686              		.loc 1 1578 24 is_stmt 1 view .LVU1460
1579:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4687              		.loc 1 1579 1 is_stmt 0 view .LVU1461
 4688 0024 10BD     		pop	{r4, pc}
 4689              	.LVL470:
 4690              	.L389:
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4691              		.loc 1 1561 11 is_stmt 1 view .LVU1462
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4692              		.loc 1 1561 15 is_stmt 0 view .LVU1463
 4693 0026 A168     		ldr	r1, [r4, #8]
 4694 0028 8B68     		ldr	r3, [r1, #8]
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4695              		.loc 1 1561 14 view .LVU1464
 4696 002a 23B9     		cbnz	r3, .L385
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 4697              		.loc 1 1562 13 is_stmt 1 view .LVU1465
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 4698              		.loc 1 1562 19 is_stmt 0 view .LVU1466
 4699 002c 0968     		ldr	r1, [r1]
 4700 002e FFF7FEFF 		bl	udp_send
 4701              	.LVL471:
 4702 0032 0346     		mov	r3, r0
 4703              	.LVL472:
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 4704              		.loc 1 1562 19 view .LVU1467
 4705 0034 F5E7     		b	.L384
 4706              	.LVL473:
 4707              	.L385:
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4708              		.loc 1 1564 13 is_stmt 1 view .LVU1468
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4709              		.loc 1 1564 19 is_stmt 0 view .LVU1469
 4710 0036 8B89     		ldrh	r3, [r1, #12]
 4711 0038 01F10802 		add	r2, r1, #8
 4712 003c 0968     		ldr	r1, [r1]
 4713 003e FFF7FEFF 		bl	udp_sendto
 4714              	.LVL474:
 4715 0042 0346     		mov	r3, r0
 4716              	.LVL475:
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4717              		.loc 1 1564 19 view .LVU1470
 4718 0044 EDE7     		b	.L384
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 139


 4719              	.LVL476:
 4720              	.L386:
1574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4721              		.loc 1 1574 11 view .LVU1471
 4722 0046 6FF00A03 		mvn	r3, #10
 4723 004a EAE7     		b	.L384
 4724              		.cfi_endproc
 4725              	.LFE386:
 4727              		.section	.text.lwip_netconn_do_recv,"ax",%progbits
 4728              		.align	1
 4729              		.global	lwip_netconn_do_recv
 4730              		.syntax unified
 4731              		.thumb
 4732              		.thumb_func
 4734              	lwip_netconn_do_recv:
 4735              	.LVL477:
 4736              	.LFB387:
1590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4737              		.loc 1 1590 1 is_stmt 1 view -0
 4738              		.cfi_startproc
 4739              		@ args = 0, pretend = 0, frame = 0
 4740              		@ frame_needed = 0, uses_anonymous_args = 0
1591:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4741              		.loc 1 1591 3 view .LVU1473
1593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 4742              		.loc 1 1593 3 view .LVU1474
1593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 4743              		.loc 1 1593 12 is_stmt 0 view .LVU1475
 4744 0000 0023     		movs	r3, #0
 4745 0002 0371     		strb	r3, [r0, #4]
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4746              		.loc 1 1594 3 is_stmt 1 view .LVU1476
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4747              		.loc 1 1594 10 is_stmt 0 view .LVU1477
 4748 0004 0368     		ldr	r3, [r0]
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4749              		.loc 1 1594 21 view .LVU1478
 4750 0006 5A68     		ldr	r2, [r3, #4]
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4751              		.loc 1 1594 6 view .LVU1479
 4752 0008 BAB1     		cbz	r2, .L396
1590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4753              		.loc 1 1590 1 view .LVU1480
 4754 000a 70B5     		push	{r4, r5, r6, lr}
 4755              	.LCFI31:
 4756              		.cfi_def_cfa_offset 16
 4757              		.cfi_offset 4, -16
 4758              		.cfi_offset 5, -12
 4759              		.cfi_offset 6, -8
 4760              		.cfi_offset 14, -4
 4761 000c 0646     		mov	r6, r0
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
 4762              		.loc 1 1595 5 is_stmt 1 view .LVU1481
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
 4763              		.loc 1 1595 9 is_stmt 0 view .LVU1482
 4764 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 140


 4765              		.loc 1 1595 8 view .LVU1483
 4766 0010 03F0F003 		and	r3, r3, #240
 4767 0014 102B     		cmp	r3, #16
 4768 0016 00D0     		beq	.L399
 4769              	.LVL478:
 4770              	.L390:
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4771              		.loc 1 1605 1 view .LVU1484
 4772 0018 70BD     		pop	{r4, r5, r6, pc}
 4773              	.LVL479:
 4774              	.L399:
 4775              	.LBB24:
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 4776              		.loc 1 1596 7 is_stmt 1 view .LVU1485
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 4777              		.loc 1 1596 14 is_stmt 0 view .LVU1486
 4778 001a 8468     		ldr	r4, [r0, #8]
 4779              	.LVL480:
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 4780              		.loc 1 1596 14 view .LVU1487
 4781 001c 08E0     		b	.L393
 4782              	.LVL481:
 4783              	.L394:
 4784              	.LBB25:
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4785              		.loc 1 1598 24 discriminator 2 view .LVU1488
 4786 001e 4FF6FF75 		movw	r5, #65535
 4787              	.L392:
 4788              	.LVL482:
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4789              		.loc 1 1599 9 is_stmt 1 view .LVU1489
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4790              		.loc 1 1599 23 is_stmt 0 view .LVU1490
 4791 0022 3368     		ldr	r3, [r6]
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4792              		.loc 1 1599 9 view .LVU1491
 4793 0024 2946     		mov	r1, r5
 4794 0026 5868     		ldr	r0, [r3, #4]
 4795 0028 FFF7FEFF 		bl	tcp_recved
 4796              	.LVL483:
1600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
 4797              		.loc 1 1600 9 is_stmt 1 view .LVU1492
1600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
 4798              		.loc 1 1600 9 is_stmt 0 view .LVU1493
 4799              	.LBE25:
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4800              		.loc 1 1601 26 is_stmt 1 view .LVU1494
 4801 002c 641B     		subs	r4, r4, r5
 4802              	.LVL484:
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4803              		.loc 1 1601 26 is_stmt 0 view .LVU1495
 4804 002e F3D0     		beq	.L390
 4805              	.LVL485:
 4806              	.L393:
1597:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         u16_t recved = (u16_t)((remaining > 0xffff) ? 0xffff : remaining);
 4807              		.loc 1 1597 7 is_stmt 1 view .LVU1496
 4808              	.LBB26:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 141


1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4809              		.loc 1 1598 9 view .LVU1497
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4810              		.loc 1 1598 24 is_stmt 0 view .LVU1498
 4811 0030 B4F5803F 		cmp	r4, #65536
 4812 0034 F3D2     		bcs	.L394
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4813              		.loc 1 1598 24 discriminator 1 view .LVU1499
 4814 0036 A5B2     		uxth	r5, r4
 4815 0038 F3E7     		b	.L392
 4816              	.LVL486:
 4817              	.L396:
 4818              	.LCFI32:
 4819              		.cfi_def_cfa_offset 0
 4820              		.cfi_restore 4
 4821              		.cfi_restore 5
 4822              		.cfi_restore 6
 4823              		.cfi_restore 14
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4824              		.loc 1 1598 24 discriminator 1 view .LVU1500
 4825 003a 7047     		bx	lr
 4826              	.LBE26:
 4827              	.LBE24:
 4828              		.cfi_endproc
 4829              	.LFE387:
 4831              		.section	.rodata.lwip_netconn_do_write.str1.4,"aMS",%progbits,1
 4832              		.align	2
 4833              	.LC39:
 4834 0000 6D73672D 		.ascii	"msg->msg.w.len != 0\000"
 4834      3E6D7367 
 4834      2E772E6C 
 4834      656E2021 
 4834      3D203000 
 4835              		.section	.text.lwip_netconn_do_write,"ax",%progbits
 4836              		.align	1
 4837              		.global	lwip_netconn_do_write
 4838              		.syntax unified
 4839              		.thumb
 4840              		.thumb_func
 4842              	lwip_netconn_do_write:
 4843              	.LVL487:
 4844              	.LFB389:
1804:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1805:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1806:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Send some data on a TCP pcb contained in a netconn
1808:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_write
1809:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1810:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1812:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1813:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_write(void *m)
1814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 4845              		.loc 1 1814 1 is_stmt 1 view -0
 4846              		.cfi_startproc
 4847              		@ args = 0, pretend = 0, frame = 0
 4848              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 142


 4849              		.loc 1 1814 1 is_stmt 0 view .LVU1502
 4850 0000 38B5     		push	{r3, r4, r5, lr}
 4851              	.LCFI33:
 4852              		.cfi_def_cfa_offset 16
 4853              		.cfi_offset 3, -16
 4854              		.cfi_offset 4, -12
 4855              		.cfi_offset 5, -8
 4856              		.cfi_offset 14, -4
 4857 0002 0446     		mov	r4, r0
1815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4858              		.loc 1 1815 3 is_stmt 1 view .LVU1503
 4859              	.LVL488:
1816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1817:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err = netconn_err(msg->conn);
 4860              		.loc 1 1817 3 view .LVU1504
 4861              		.loc 1 1817 15 is_stmt 0 view .LVU1505
 4862 0004 0068     		ldr	r0, [r0]
 4863              	.LVL489:
 4864              		.loc 1 1817 15 view .LVU1506
 4865 0006 FFF7FEFF 		bl	netconn_err
 4866              	.LVL490:
1818:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4867              		.loc 1 1818 3 is_stmt 1 view .LVU1507
 4868              		.loc 1 1818 6 is_stmt 0 view .LVU1508
 4869 000a 0346     		mov	r3, r0
 4870 000c 38B9     		cbnz	r0, .L401
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4871              		.loc 1 1819 5 is_stmt 1 view .LVU1509
 4872              		.loc 1 1819 9 is_stmt 0 view .LVU1510
 4873 000e 2268     		ldr	r2, [r4]
 4874 0010 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4875              		.loc 1 1819 8 view .LVU1511
 4876 0012 03F0F003 		and	r3, r3, #240
 4877 0016 102B     		cmp	r3, #16
 4878 0018 03D0     		beq	.L411
1820:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state != NETCONN_NONE) {
1822:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
1823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_INPROGRESS;
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
1826:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
1830:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (lwip_netconn_do_writemore(msg->conn, 0) != ERR_OK) {
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
1833:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
1837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1838:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1839:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         lwip_netconn_do_writemore(msg->conn);
1840:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* for both cases: if lwip_netconn_do_writemore was called, don't ACK the APIMSG
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 143


1842:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            since lwip_netconn_do_writemore ACKs it! */
1843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return;
1844:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_CONN;
1846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1847:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCP */
1848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_VAL;
1849:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1850:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if (LWIP_UDP || LWIP_RAW)
1851:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1852:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_VAL;
 4879              		.loc 1 1852 11 view .LVU1512
 4880 001a 6FF00503 		mvn	r3, #5
 4881              	.L401:
 4882              	.LVL491:
1853:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
1854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1855:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1856:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
 4883              		.loc 1 1856 3 is_stmt 1 view .LVU1513
 4884              		.loc 1 1856 12 is_stmt 0 view .LVU1514
 4885 001e 2371     		strb	r3, [r4, #4]
1857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4886              		.loc 1 1857 24 is_stmt 1 view .LVU1515
 4887              	.LVL492:
 4888              	.L400:
1858:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4889              		.loc 1 1858 1 is_stmt 0 view .LVU1516
 4890 0020 38BD     		pop	{r3, r4, r5, pc}
 4891              	.LVL493:
 4892              	.L411:
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4893              		.loc 1 1821 7 is_stmt 1 view .LVU1517
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4894              		.loc 1 1821 20 is_stmt 0 view .LVU1518
 4895 0022 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4896              		.loc 1 1821 10 view .LVU1519
 4897 0024 002B     		cmp	r3, #0
 4898 0026 44D1     		bne	.L408
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4899              		.loc 1 1824 14 is_stmt 1 view .LVU1520
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4900              		.loc 1 1824 32 is_stmt 0 view .LVU1521
 4901 0028 5368     		ldr	r3, [r2, #4]
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4902              		.loc 1 1824 17 view .LVU1522
 4903 002a 002B     		cmp	r3, #0
 4904 002c 44D0     		beq	.L409
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
 4905              		.loc 1 1825 9 is_stmt 1 view .LVU1523
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
 4906              		.loc 1 1825 26 is_stmt 0 view .LVU1524
 4907 002e 0123     		movs	r3, #1
 4908 0030 5370     		strb	r3, [r2, #1]
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4909              		.loc 1 1827 9 is_stmt 1 view .LVU1525
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 144


1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4910              		.loc 1 1827 9 view .LVU1526
 4911 0032 2368     		ldr	r3, [r4]
 4912 0034 1B6A     		ldr	r3, [r3, #32]
 4913 0036 33B1     		cbz	r3, .L402
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4914              		.loc 1 1827 9 discriminator 1 view .LVU1527
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4915              		.loc 1 1827 9 discriminator 1 view .LVU1528
 4916 0038 214B     		ldr	r3, .L414
 4917 003a 40F22372 		movw	r2, #1827
 4918 003e 2149     		ldr	r1, .L414+4
 4919 0040 2148     		ldr	r0, .L414+8
 4920              	.LVL494:
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4921              		.loc 1 1827 9 is_stmt 0 discriminator 1 view .LVU1529
 4922 0042 FFF7FEFF 		bl	printf
 4923              	.LVL495:
 4924              	.L402:
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4925              		.loc 1 1827 9 is_stmt 1 discriminator 3 view .LVU1530
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4926              		.loc 1 1827 9 discriminator 3 view .LVU1531
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4927              		.loc 1 1828 9 view .LVU1532
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4928              		.loc 1 1828 9 view .LVU1533
 4929 0046 6369     		ldr	r3, [r4, #20]
 4930 0048 1BB3     		cbz	r3, .L412
 4931              	.L403:
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4932              		.loc 1 1828 9 discriminator 3 view .LVU1534
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4933              		.loc 1 1828 9 discriminator 3 view .LVU1535
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4934              		.loc 1 1829 9 view .LVU1536
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4935              		.loc 1 1829 12 is_stmt 0 view .LVU1537
 4936 004a 2368     		ldr	r3, [r4]
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4937              		.loc 1 1829 32 view .LVU1538
 4938 004c 1C62     		str	r4, [r3, #32]
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4939              		.loc 1 1831 9 is_stmt 1 view .LVU1539
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4940              		.loc 1 1831 13 is_stmt 0 view .LVU1540
 4941 004e 0021     		movs	r1, #0
 4942 0050 2068     		ldr	r0, [r4]
 4943 0052 FFF7FEFF 		bl	lwip_netconn_do_writemore
 4944              	.LVL496:
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4945              		.loc 1 1831 12 discriminator 1 view .LVU1541
 4946 0056 0028     		cmp	r0, #0
 4947 0058 E2D0     		beq	.L400
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4948              		.loc 1 1832 11 is_stmt 1 view .LVU1542
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 145


 4949              		.loc 1 1832 11 view .LVU1543
 4950 005a 2368     		ldr	r3, [r4]
 4951 005c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4952 005e 012B     		cmp	r3, #1
 4953 0060 1FD1     		bne	.L413
 4954              	.L405:
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4955              		.loc 1 1832 11 discriminator 3 view .LVU1544
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4956              		.loc 1 1832 11 discriminator 3 view .LVU1545
1833:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 4957              		.loc 1 1833 11 view .LVU1546
 4958 0062 1A4D     		ldr	r5, .L414+12
 4959 0064 2846     		mov	r0, r5
 4960 0066 FFF7FEFF 		bl	sys_mutex_unlock
 4961              	.LVL497:
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4962              		.loc 1 1834 11 view .LVU1547
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4963              		.loc 1 1834 29 is_stmt 0 view .LVU1548
 4964 006a 2068     		ldr	r0, [r4]
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4965              		.loc 1 1834 11 view .LVU1549
 4966 006c 0021     		movs	r1, #0
 4967 006e 0C30     		adds	r0, r0, #12
 4968 0070 FFF7FEFF 		bl	sys_arch_sem_wait
 4969              	.LVL498:
1835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
 4970              		.loc 1 1835 11 is_stmt 1 view .LVU1550
 4971 0074 2846     		mov	r0, r5
 4972 0076 FFF7FEFF 		bl	sys_mutex_lock
 4973              	.LVL499:
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4974              		.loc 1 1836 11 view .LVU1551
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4975              		.loc 1 1836 11 view .LVU1552
 4976 007a 2368     		ldr	r3, [r4]
 4977 007c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4978 007e 012B     		cmp	r3, #1
 4979 0080 CED1     		bne	.L400
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4980              		.loc 1 1836 11 discriminator 1 view .LVU1553
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4981              		.loc 1 1836 11 discriminator 1 view .LVU1554
 4982 0082 0F4B     		ldr	r3, .L414
 4983 0084 40F22C72 		movw	r2, #1836
 4984 0088 1149     		ldr	r1, .L414+16
 4985 008a 0F48     		ldr	r0, .L414+8
 4986 008c FFF7FEFF 		bl	printf
 4987              	.LVL500:
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4988              		.loc 1 1836 11 discriminator 3 view .LVU1555
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4989              		.loc 1 1836 11 discriminator 3 view .LVU1556
1843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 4990              		.loc 1 1843 9 view .LVU1557
 4991 0090 C6E7     		b	.L400
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 146


 4992              	.L412:
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4993              		.loc 1 1828 9 discriminator 1 view .LVU1558
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4994              		.loc 1 1828 9 discriminator 1 view .LVU1559
 4995 0092 0B4B     		ldr	r3, .L414
 4996 0094 40F22472 		movw	r2, #1828
 4997 0098 0E49     		ldr	r1, .L414+20
 4998 009a 0B48     		ldr	r0, .L414+8
 4999 009c FFF7FEFF 		bl	printf
 5000              	.LVL501:
 5001 00a0 D3E7     		b	.L403
 5002              	.L413:
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 5003              		.loc 1 1832 11 discriminator 1 view .LVU1560
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 5004              		.loc 1 1832 11 discriminator 1 view .LVU1561
 5005 00a2 074B     		ldr	r3, .L414
 5006 00a4 4FF4E562 		mov	r2, #1832
 5007 00a8 0949     		ldr	r1, .L414+16
 5008 00aa 0748     		ldr	r0, .L414+8
 5009 00ac FFF7FEFF 		bl	printf
 5010              	.LVL502:
 5011 00b0 D7E7     		b	.L405
 5012              	.LVL503:
 5013              	.L408:
1823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
 5014              		.loc 1 1823 13 is_stmt 0 view .LVU1562
 5015 00b2 6FF00403 		mvn	r3, #4
 5016 00b6 B2E7     		b	.L401
 5017              	.L409:
1845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5018              		.loc 1 1845 13 view .LVU1563
 5019 00b8 6FF00A03 		mvn	r3, #10
 5020 00bc AFE7     		b	.L401
 5021              	.L415:
 5022 00be 00BF     		.align	2
 5023              	.L414:
 5024 00c0 00000000 		.word	.LC0
 5025 00c4 34000000 		.word	.LC36
 5026 00c8 40000000 		.word	.LC2
 5027 00cc 00000000 		.word	lock_tcpip_core
 5028 00d0 50000000 		.word	.LC37
 5029 00d4 00000000 		.word	.LC39
 5030              		.cfi_endproc
 5031              	.LFE389:
 5033              		.section	.rodata.lwip_netconn_do_getaddr.str1.4,"aMS",%progbits,1
 5034              		.align	2
 5035              	.LC40:
 5036 0000 696E7661 		.ascii	"invalid netconn_type\000"
 5036      6C696420 
 5036      6E657463 
 5036      6F6E6E5F 
 5036      74797065 
 5037              		.section	.text.lwip_netconn_do_getaddr,"ax",%progbits
 5038              		.align	1
 5039              		.global	lwip_netconn_do_getaddr
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 147


 5040              		.syntax unified
 5041              		.thumb
 5042              		.thumb_func
 5044              	lwip_netconn_do_getaddr:
 5045              	.LVL504:
 5046              	.LFB390:
1859:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1860:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1861:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Return a connection's local or remote address
1862:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_getaddr
1863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1865:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1866:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1867:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_getaddr(void *m)
1868:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 5047              		.loc 1 1868 1 is_stmt 1 view -0
 5048              		.cfi_startproc
 5049              		@ args = 0, pretend = 0, frame = 0
 5050              		@ frame_needed = 0, uses_anonymous_args = 0
 5051              		.loc 1 1868 1 is_stmt 0 view .LVU1565
 5052 0000 08B5     		push	{r3, lr}
 5053              	.LCFI34:
 5054              		.cfi_def_cfa_offset 8
 5055              		.cfi_offset 3, -8
 5056              		.cfi_offset 14, -4
1869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 5057              		.loc 1 1869 3 is_stmt 1 view .LVU1566
 5058              	.LVL505:
1870:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.ip != NULL) {
 5059              		.loc 1 1871 3 view .LVU1567
 5060              		.loc 1 1871 10 is_stmt 0 view .LVU1568
 5061 0002 0368     		ldr	r3, [r0]
 5062              		.loc 1 1871 21 view .LVU1569
 5063 0004 5B68     		ldr	r3, [r3, #4]
 5064              		.loc 1 1871 6 view .LVU1570
 5065 0006 002B     		cmp	r3, #0
 5066 0008 3FD0     		beq	.L417
1872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->msg.ad.local) {
 5067              		.loc 1 1872 5 is_stmt 1 view .LVU1571
 5068              		.loc 1 1872 20 is_stmt 0 view .LVU1572
 5069 000a 027C     		ldrb	r2, [r0, #16]	@ zero_extendqisi2
 5070              		.loc 1 1872 8 view .LVU1573
 5071 000c 9AB1     		cbz	r2, .L418
1873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
 5072              		.loc 1 1873 7 is_stmt 1 view .LVU1574
 5073 000e 8268     		ldr	r2, [r0, #8]
 5074 0010 1B68     		ldr	r3, [r3]
 5075 0012 1360     		str	r3, [r2]
 5076              	.L419:
1874:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    msg->conn->pcb.ip->local_ip);
1875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
1877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    msg->conn->pcb.ip->remote_ip);
1878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1879:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 148


1880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 5077              		.loc 1 1880 5 view .LVU1575
 5078              		.loc 1 1880 14 is_stmt 0 view .LVU1576
 5079 0014 0023     		movs	r3, #0
 5080 0016 0371     		strb	r3, [r0, #4]
1881:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 5081              		.loc 1 1881 5 is_stmt 1 view .LVU1577
 5082              		.loc 1 1881 13 is_stmt 0 view .LVU1578
 5083 0018 0268     		ldr	r2, [r0]
 5084 001a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5085 001c 03F0F003 		and	r3, r3, #240
 5086              		.loc 1 1881 5 view .LVU1579
 5087 0020 102B     		cmp	r3, #16
 5088 0022 18D0     		beq	.L420
 5089 0024 202B     		cmp	r3, #32
 5090 0026 28D1     		bne	.L421
1882:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1883:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->msg.ad.local) {
1885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.raw->protocol;
1886:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1887:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* return an error as connecting is only a helper for upper layers */
1888:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_CONN;
1889:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1890:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1891:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1892:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1893:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1894:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->msg.ad.local) {
 5091              		.loc 1 1894 9 is_stmt 1 view .LVU1580
 5092              		.loc 1 1894 24 is_stmt 0 view .LVU1581
 5093 0028 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 5094              		.loc 1 1894 12 view .LVU1582
 5095 002a 43B1     		cbz	r3, .L422
1895:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->local_port;
 5096              		.loc 1 1895 11 is_stmt 1 view .LVU1583
 5097              		.loc 1 1895 60 is_stmt 0 view .LVU1584
 5098 002c 5268     		ldr	r2, [r2, #4]
 5099              		.loc 1 1895 11 view .LVU1585
 5100 002e C368     		ldr	r3, [r0, #12]
 5101              		.loc 1 1895 64 view .LVU1586
 5102 0030 528A     		ldrh	r2, [r2, #18]
 5103              		.loc 1 1895 44 view .LVU1587
 5104 0032 1A80     		strh	r2, [r3]	@ movhi
 5105 0034 2BE0     		b	.L416
 5106              	.L418:
1876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    msg->conn->pcb.ip->remote_ip);
 5107              		.loc 1 1876 7 is_stmt 1 view .LVU1588
 5108 0036 8268     		ldr	r2, [r0, #8]
 5109 0038 5B68     		ldr	r3, [r3, #4]
 5110 003a 1360     		str	r3, [r2]
 5111 003c EAE7     		b	.L419
 5112              	.L422:
1896:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if ((msg->conn->pcb.udp->flags & UDP_FLAGS_CONNECTED) == 0) {
 5113              		.loc 1 1897 11 view .LVU1589
 5114              		.loc 1 1897 30 is_stmt 0 view .LVU1590
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 149


 5115 003e 5368     		ldr	r3, [r2, #4]
 5116              		.loc 1 1897 34 view .LVU1591
 5117 0040 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 5118              		.loc 1 1897 14 view .LVU1592
 5119 0042 12F0040F 		tst	r2, #4
 5120 0046 02D1     		bne	.L424
1898:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_CONN;
 5121              		.loc 1 1898 13 is_stmt 1 view .LVU1593
 5122              		.loc 1 1898 22 is_stmt 0 view .LVU1594
 5123 0048 F523     		movs	r3, #245
 5124 004a 0371     		strb	r3, [r0, #4]
 5125 004c 1FE0     		b	.L416
 5126              	.L424:
1899:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->remote_port;
 5127              		.loc 1 1900 13 is_stmt 1 view .LVU1595
 5128 004e C268     		ldr	r2, [r0, #12]
 5129              		.loc 1 1900 66 is_stmt 0 view .LVU1596
 5130 0050 9B8A     		ldrh	r3, [r3, #20]
 5131              		.loc 1 1900 46 view .LVU1597
 5132 0052 1380     		strh	r3, [r2]	@ movhi
 5133 0054 1BE0     		b	.L416
 5134              	.L420:
1901:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1902:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1903:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1904:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1905:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1906:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if ((msg->msg.ad.local == 0) &&
 5135              		.loc 1 1907 9 is_stmt 1 view .LVU1598
 5136              		.loc 1 1907 25 is_stmt 0 view .LVU1599
 5137 0056 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 5138              		.loc 1 1907 12 view .LVU1600
 5139 0058 1BB9     		cbnz	r3, .L425
1908:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 5140              		.loc 1 1908 29 view .LVU1601
 5141 005a 5168     		ldr	r1, [r2, #4]
 5142              		.loc 1 1908 33 view .LVU1602
 5143 005c 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
1907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 5144              		.loc 1 1907 38 discriminator 1 view .LVU1603
 5145 005e 0129     		cmp	r1, #1
 5146 0060 05D9     		bls	.L429
 5147              	.L425:
1909:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* pcb is not connected and remote name is requested */
1910:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_CONN;
1911:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = (msg->msg.ad.local ? msg->conn->pcb.tcp->local_port : 
 5148              		.loc 1 1912 11 is_stmt 1 view .LVU1604
 5149              		.loc 1 1912 44 is_stmt 0 view .LVU1605
 5150 0062 3BB1     		cbz	r3, .L426
 5151              		.loc 1 1912 81 discriminator 1 view .LVU1606
 5152 0064 5368     		ldr	r3, [r2, #4]
 5153              		.loc 1 1912 44 discriminator 1 view .LVU1607
 5154 0066 DA8A     		ldrh	r2, [r3, #22]
 5155              	.L427:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 150


 5156              		.loc 1 1912 11 discriminator 4 view .LVU1608
 5157 0068 C368     		ldr	r3, [r0, #12]
 5158              		.loc 1 1912 44 discriminator 4 view .LVU1609
 5159 006a 1A80     		strh	r2, [r3]	@ movhi
 5160 006c 0FE0     		b	.L416
 5161              	.L429:
1910:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 5162              		.loc 1 1910 11 is_stmt 1 view .LVU1610
1910:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 5163              		.loc 1 1910 20 is_stmt 0 view .LVU1611
 5164 006e F523     		movs	r3, #245
 5165 0070 0371     		strb	r3, [r0, #4]
 5166 0072 0CE0     		b	.L416
 5167              	.L426:
 5168              		.loc 1 1912 114 discriminator 2 view .LVU1612
 5169 0074 5368     		ldr	r3, [r2, #4]
 5170              		.loc 1 1912 44 discriminator 2 view .LVU1613
 5171 0076 1A8B     		ldrh	r2, [r3, #24]
 5172 0078 F6E7     		b	.L427
 5173              	.L421:
1913:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1915:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1917:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("invalid netconn_type", 0);
 5174              		.loc 1 1917 9 is_stmt 1 view .LVU1614
 5175              		.loc 1 1917 9 view .LVU1615
 5176              		.loc 1 1917 9 discriminator 1 view .LVU1616
 5177              		.loc 1 1917 9 discriminator 1 view .LVU1617
 5178 007a 054B     		ldr	r3, .L430
 5179 007c 40F27D72 		movw	r2, #1917
 5180 0080 0449     		ldr	r1, .L430+4
 5181 0082 0548     		ldr	r0, .L430+8
 5182              	.LVL506:
 5183              		.loc 1 1917 9 is_stmt 0 discriminator 1 view .LVU1618
 5184 0084 FFF7FEFF 		bl	printf
 5185              	.LVL507:
 5186              		.loc 1 1917 9 is_stmt 1 discriminator 3 view .LVU1619
 5187              		.loc 1 1917 9 discriminator 3 view .LVU1620
1918:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 5188              		.loc 1 1918 9 view .LVU1621
 5189 0088 01E0     		b	.L416
 5190              	.LVL508:
 5191              	.L417:
1919:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1920:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
 5192              		.loc 1 1921 5 view .LVU1622
 5193              		.loc 1 1921 14 is_stmt 0 view .LVU1623
 5194 008a F523     		movs	r3, #245
 5195 008c 0371     		strb	r3, [r0, #4]
1922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 5196              		.loc 1 1923 24 is_stmt 1 view .LVU1624
 5197              	.LVL509:
 5198              	.L416:
1924:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 151


 5199              		.loc 1 1924 1 is_stmt 0 view .LVU1625
 5200 008e 08BD     		pop	{r3, pc}
 5201              	.L431:
 5202              		.align	2
 5203              	.L430:
 5204 0090 00000000 		.word	.LC0
 5205 0094 00000000 		.word	.LC40
 5206 0098 40000000 		.word	.LC2
 5207              		.cfi_endproc
 5208              	.LFE390:
 5210              		.section	.text.lwip_netconn_do_close,"ax",%progbits
 5211              		.align	1
 5212              		.global	lwip_netconn_do_close
 5213              		.syntax unified
 5214              		.thumb
 5215              		.thumb_func
 5217              	lwip_netconn_do_close:
 5218              	.LVL510:
 5219              	.LFB391:
1925:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1926:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1927:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Close or half-shutdown a TCP pcb contained in a netconn
1928:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_close
1929:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * In contrast to closing sockets, the netconn is not deallocated.
1930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1933:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_close(void *m)
1935:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 5220              		.loc 1 1935 1 is_stmt 1 view -0
 5221              		.cfi_startproc
 5222              		@ args = 0, pretend = 0, frame = 0
 5223              		@ frame_needed = 0, uses_anonymous_args = 0
 5224              		.loc 1 1935 1 is_stmt 0 view .LVU1627
 5225 0000 38B5     		push	{r3, r4, r5, lr}
 5226              	.LCFI35:
 5227              		.cfi_def_cfa_offset 16
 5228              		.cfi_offset 3, -16
 5229              		.cfi_offset 4, -12
 5230              		.cfi_offset 5, -8
 5231              		.cfi_offset 14, -4
 5232 0002 0446     		mov	r4, r0
1936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 5233              		.loc 1 1936 3 is_stmt 1 view .LVU1628
 5234              	.LVL511:
1937:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1938:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
 5235              		.loc 1 1939 3 view .LVU1629
 5236              		.loc 1 1939 33 is_stmt 0 view .LVU1630
 5237 0004 0068     		ldr	r0, [r0]
 5238              	.LVL512:
 5239              		.loc 1 1939 22 view .LVU1631
 5240 0006 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
 5241              	.LVL513:
1940:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* First check if this is a TCP netconn and if it is in a correct state
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 152


1941:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (LISTEN doesn't support half shutdown) */
1942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((msg->conn->pcb.tcp != NULL) &&
 5242              		.loc 1 1942 3 is_stmt 1 view .LVU1632
 5243              		.loc 1 1942 22 is_stmt 0 view .LVU1633
 5244 0008 4368     		ldr	r3, [r0, #4]
 5245              		.loc 1 1942 6 view .LVU1634
 5246 000a 23B1     		cbz	r3, .L433
1943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5247              		.loc 1 1943 8 view .LVU1635
 5248 000c 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5249              		.loc 1 1942 36 discriminator 1 view .LVU1636
 5250 000e 03F0F003 		and	r3, r3, #240
 5251 0012 102B     		cmp	r3, #16
 5252 0014 02D0     		beq	.L443
 5253              	.L433:
1944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
1945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Check if we are in a connected state */
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (state == NETCONN_CONNECT) {
1947:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
1948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_CONN;
1949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
1950:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1951:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_WR) {
1952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* close requested, abort running write */
1953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_sem_t *write_completed_sem;
1954:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1955:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1956:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg->err = ERR_CLSD;
1957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = NULL;
1958:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_NONE;
1959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         state = NETCONN_NONE;
1960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_sem_signal(write_completed_sem);
1961:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1962:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.sd.shut == NETCONN_SHUT_RD", msg->msg.sd.shut == NETCONN_SHUT_RD);
1963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* In this case, let the write continue and do not interfere with
1964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            conn->current_msg or conn->state! */
1965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = tcp_shutdown(msg->conn->pcb.tcp, 1, 0);
1966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (state == NETCONN_NONE) {
1969:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_INPROGRESS;
1971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1972:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_RD) {
1974:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Mark mboxes invalid */
1976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_mark_mbox_invalid(msg->conn);
1977:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_drain(msg->conn);
1979:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1980:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
1984:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 153


1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
1987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
1991:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1992:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1993:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(msg->conn);
1994:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* for tcp netconns, lwip_netconn_do_close_internal ACKs the message */
1996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
1997:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1998:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1999:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
2000:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
2001:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
 5254              		.loc 1 2001 5 is_stmt 1 view .LVU1637
 5255              		.loc 1 2001 14 is_stmt 0 view .LVU1638
 5256 0016 F523     		movs	r3, #245
 5257 0018 2371     		strb	r3, [r4, #4]
2002:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
2003:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 5258              		.loc 1 2003 24 is_stmt 1 view .LVU1639
 5259              	.LVL514:
 5260              	.L432:
2004:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 5261              		.loc 1 2004 1 is_stmt 0 view .LVU1640
 5262 001a 38BD     		pop	{r3, r4, r5, pc}
 5263              	.LVL515:
 5264              	.L443:
1944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 5265              		.loc 1 1944 20 view .LVU1641
 5266 001c 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
1943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 5267              		.loc 1 1943 59 view .LVU1642
 5268 001e 032B     		cmp	r3, #3
 5269 0020 01D0     		beq	.L434
1944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Check if we are in a connected state */
 5270              		.loc 1 1944 48 view .LVU1643
 5271 0022 022A     		cmp	r2, #2
 5272 0024 F7D0     		beq	.L433
 5273              	.L434:
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 5274              		.loc 1 1946 5 is_stmt 1 view .LVU1644
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 5275              		.loc 1 1946 8 is_stmt 0 view .LVU1645
 5276 0026 032A     		cmp	r2, #3
 5277 0028 04D0     		beq	.L444
1949:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5278              		.loc 1 1949 12 is_stmt 1 view .LVU1646
1949:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5279              		.loc 1 1949 15 is_stmt 0 view .LVU1647
 5280 002a 012A     		cmp	r2, #1
 5281 002c 05D1     		bne	.L437
1970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 5282              		.loc 1 1970 7 is_stmt 1 view .LVU1648
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 154


1970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 5283              		.loc 1 1970 16 is_stmt 0 view .LVU1649
 5284 002e FB23     		movs	r3, #251
 5285 0030 2371     		strb	r3, [r4, #4]
 5286 0032 F2E7     		b	.L432
 5287              	.L444:
1948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
 5288              		.loc 1 1948 7 is_stmt 1 view .LVU1650
1948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
 5289              		.loc 1 1948 16 is_stmt 0 view .LVU1651
 5290 0034 F523     		movs	r3, #245
 5291 0036 2371     		strb	r3, [r4, #4]
 5292 0038 EFE7     		b	.L432
 5293              	.L437:
1973:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5294              		.loc 1 1973 7 is_stmt 1 view .LVU1652
1973:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5295              		.loc 1 1973 10 is_stmt 0 view .LVU1653
 5296 003a 13F0010F 		tst	r3, #1
 5297 003e 30D1     		bne	.L445
 5298              	.LVL516:
 5299              	.L438:
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5300              		.loc 1 1981 7 is_stmt 1 view .LVU1654
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5301              		.loc 1 1981 7 view .LVU1655
 5302 0040 2368     		ldr	r3, [r4]
 5303 0042 1B6A     		ldr	r3, [r3, #32]
 5304 0044 33B1     		cbz	r3, .L439
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5305              		.loc 1 1981 7 discriminator 1 view .LVU1656
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5306              		.loc 1 1981 7 discriminator 1 view .LVU1657
 5307 0046 1C4B     		ldr	r3, .L447
 5308 0048 40F2BD72 		movw	r2, #1981
 5309 004c 1B49     		ldr	r1, .L447+4
 5310 004e 1C48     		ldr	r0, .L447+8
 5311 0050 FFF7FEFF 		bl	printf
 5312              	.LVL517:
 5313              	.L439:
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5314              		.loc 1 1981 7 discriminator 3 view .LVU1658
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5315              		.loc 1 1981 7 discriminator 3 view .LVU1659
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5316              		.loc 1 1982 7 view .LVU1660
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5317              		.loc 1 1982 10 is_stmt 0 view .LVU1661
 5318 0054 2368     		ldr	r3, [r4]
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5319              		.loc 1 1982 24 view .LVU1662
 5320 0056 0422     		movs	r2, #4
 5321 0058 5A70     		strb	r2, [r3, #1]
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5322              		.loc 1 1983 7 is_stmt 1 view .LVU1663
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5323              		.loc 1 1983 10 is_stmt 0 view .LVU1664
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 155


 5324 005a 2368     		ldr	r3, [r4]
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5325              		.loc 1 1983 30 view .LVU1665
 5326 005c 1C62     		str	r4, [r3, #32]
1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5327              		.loc 1 1985 7 is_stmt 1 view .LVU1666
1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5328              		.loc 1 1985 11 is_stmt 0 view .LVU1667
 5329 005e 0021     		movs	r1, #0
 5330 0060 2068     		ldr	r0, [r4]
 5331 0062 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 5332              	.LVL518:
1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5333              		.loc 1 1985 10 discriminator 1 view .LVU1668
 5334 0066 0028     		cmp	r0, #0
 5335 0068 D7D0     		beq	.L432
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5336              		.loc 1 1986 9 is_stmt 1 view .LVU1669
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5337              		.loc 1 1986 9 view .LVU1670
 5338 006a 2368     		ldr	r3, [r4]
 5339 006c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5340 006e 042B     		cmp	r3, #4
 5341 0070 1AD1     		bne	.L446
 5342              	.L441:
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5343              		.loc 1 1986 9 discriminator 3 view .LVU1671
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5344              		.loc 1 1986 9 discriminator 3 view .LVU1672
1987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 5345              		.loc 1 1987 9 view .LVU1673
 5346 0072 144D     		ldr	r5, .L447+12
 5347 0074 2846     		mov	r0, r5
 5348 0076 FFF7FEFF 		bl	sys_mutex_unlock
 5349              	.LVL519:
1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5350              		.loc 1 1988 9 view .LVU1674
1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5351              		.loc 1 1988 27 is_stmt 0 view .LVU1675
 5352 007a 2068     		ldr	r0, [r4]
1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5353              		.loc 1 1988 9 view .LVU1676
 5354 007c 0021     		movs	r1, #0
 5355 007e 0C30     		adds	r0, r0, #12
 5356 0080 FFF7FEFF 		bl	sys_arch_sem_wait
 5357              	.LVL520:
1989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 5358              		.loc 1 1989 9 is_stmt 1 view .LVU1677
 5359 0084 2846     		mov	r0, r5
 5360 0086 FFF7FEFF 		bl	sys_mutex_lock
 5361              	.LVL521:
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5362              		.loc 1 1990 9 view .LVU1678
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5363              		.loc 1 1990 9 view .LVU1679
 5364 008a 2368     		ldr	r3, [r4]
 5365 008c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 156


 5366 008e 002B     		cmp	r3, #0
 5367 0090 C3D0     		beq	.L432
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5368              		.loc 1 1990 9 discriminator 1 view .LVU1680
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5369              		.loc 1 1990 9 discriminator 1 view .LVU1681
 5370 0092 094B     		ldr	r3, .L447
 5371 0094 40F2C672 		movw	r2, #1990
 5372 0098 0B49     		ldr	r1, .L447+16
 5373 009a 0948     		ldr	r0, .L447+8
 5374 009c FFF7FEFF 		bl	printf
 5375              	.LVL522:
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5376              		.loc 1 1990 9 discriminator 3 view .LVU1682
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5377              		.loc 1 1990 9 discriminator 3 view .LVU1683
1996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 5378              		.loc 1 1996 7 view .LVU1684
 5379 00a0 BBE7     		b	.L432
 5380              	.LVL523:
 5381              	.L445:
1978:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 5382              		.loc 1 1978 9 view .LVU1685
 5383 00a2 FFF7FEFF 		bl	netconn_drain
 5384              	.LVL524:
1978:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 5385              		.loc 1 1978 9 is_stmt 0 view .LVU1686
 5386 00a6 CBE7     		b	.L438
 5387              	.L446:
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5388              		.loc 1 1986 9 is_stmt 1 discriminator 1 view .LVU1687
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5389              		.loc 1 1986 9 discriminator 1 view .LVU1688
 5390 00a8 034B     		ldr	r3, .L447
 5391 00aa 40F2C272 		movw	r2, #1986
 5392 00ae 0649     		ldr	r1, .L447+16
 5393 00b0 0348     		ldr	r0, .L447+8
 5394 00b2 FFF7FEFF 		bl	printf
 5395              	.LVL525:
 5396 00b6 DCE7     		b	.L441
 5397              	.L448:
 5398              		.align	2
 5399              	.L447:
 5400 00b8 00000000 		.word	.LC0
 5401 00bc 34000000 		.word	.LC36
 5402 00c0 40000000 		.word	.LC2
 5403 00c4 00000000 		.word	lock_tcpip_core
 5404 00c8 50000000 		.word	.LC37
 5405              		.cfi_endproc
 5406              	.LFE391:
 5408              		.global	netconn_closed
 5409              		.section	.rodata.netconn_closed,"a"
 5412              	netconn_closed:
 5413 0000 00       		.space	1
 5414              		.global	netconn_reset
 5415              		.section	.rodata.netconn_reset,"a"
 5418              	netconn_reset:
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 157


 5419 0000 00       		.space	1
 5420              		.global	netconn_aborted
 5421              		.section	.rodata.netconn_aborted,"a"
 5424              	netconn_aborted:
 5425 0000 00       		.space	1
 5426              		.text
 5427              	.Letext0:
 5428              		.file 2 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 5429              		.file 3 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 5430              		.file 4 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/lib/gcc/arm-none
 5431              		.file 5 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 5432              		.file 6 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 5433              		.file 7 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 5434              		.file 8 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 5435              		.file 9 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 5436              		.file 10 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 5437              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 5438              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 5439              		.file 13 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 5440              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 5441              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 5442              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 5443              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/netbuf.h"
 5444              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/api.h"
 5445              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 5446              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 5447              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 5448              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/api_msg.h"
 5449              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 5450              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 5451              		.file 25 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
 5452              		.file 26 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/i
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 158


DEFINED SYMBOLS
                            *ABS*:00000000 api_msg.c
C:\usertemp\ccuz6VZa.s:20     .rodata.lwip_netconn_err_to_msg.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:30     .text.lwip_netconn_err_to_msg:00000000 $t
C:\usertemp\ccuz6VZa.s:35     .text.lwip_netconn_err_to_msg:00000000 lwip_netconn_err_to_msg
C:\usertemp\ccuz6VZa.s:107    .text.lwip_netconn_err_to_msg:00000038 $d
C:\usertemp\ccuz6VZa.s:5418   .rodata.netconn_reset:00000000 netconn_reset
C:\usertemp\ccuz6VZa.s:5424   .rodata.netconn_aborted:00000000 netconn_aborted
C:\usertemp\ccuz6VZa.s:5412   .rodata.netconn_closed:00000000 netconn_closed
C:\usertemp\ccuz6VZa.s:117    .rodata.recv_udp.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:127    .text.recv_udp:00000000 $t
C:\usertemp\ccuz6VZa.s:132    .text.recv_udp:00000000 recv_udp
C:\usertemp\ccuz6VZa.s:324    .text.recv_udp:000000ac $d
C:\usertemp\ccuz6VZa.s:333    .text.setup_tcp:00000000 $t
C:\usertemp\ccuz6VZa.s:338    .text.setup_tcp:00000000 setup_tcp
C:\usertemp\ccuz6VZa.s:391    .text.setup_tcp:00000030 $d
C:\usertemp\ccuz6VZa.s:2536   .text.recv_tcp:00000000 recv_tcp
C:\usertemp\ccuz6VZa.s:2394   .text.sent_tcp:00000000 sent_tcp
C:\usertemp\ccuz6VZa.s:2260   .text.poll_tcp:00000000 poll_tcp
C:\usertemp\ccuz6VZa.s:562    .text.err_tcp:00000000 err_tcp
C:\usertemp\ccuz6VZa.s:399    .rodata.pcb_new.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:403    .text.pcb_new:00000000 $t
C:\usertemp\ccuz6VZa.s:408    .text.pcb_new:00000000 pcb_new
C:\usertemp\ccuz6VZa.s:536    .text.pcb_new:00000078 $d
C:\usertemp\ccuz6VZa.s:544    .rodata.err_tcp.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:557    .text.err_tcp:00000000 $t
C:\usertemp\ccuz6VZa.s:842    .text.err_tcp:0000010c $d
C:\usertemp\ccuz6VZa.s:854    .rodata.lwip_netconn_do_connected.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:865    .text.lwip_netconn_do_connected:00000000 $t
C:\usertemp\ccuz6VZa.s:870    .text.lwip_netconn_do_connected:00000000 lwip_netconn_do_connected
C:\usertemp\ccuz6VZa.s:1077   .text.lwip_netconn_do_connected:000000c8 $d
C:\usertemp\ccuz6VZa.s:1086   .rodata.lwip_netconn_do_writemore.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:1103   .text.lwip_netconn_do_writemore:00000000 $t
C:\usertemp\ccuz6VZa.s:1108   .text.lwip_netconn_do_writemore:00000000 lwip_netconn_do_writemore
C:\usertemp\ccuz6VZa.s:1745   .text.lwip_netconn_do_writemore:00000274 $d
C:\usertemp\ccuz6VZa.s:1758   .rodata.lwip_netconn_do_close_internal.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:1774   .text.lwip_netconn_do_close_internal:00000000 $t
C:\usertemp\ccuz6VZa.s:1779   .text.lwip_netconn_do_close_internal:00000000 lwip_netconn_do_close_internal
C:\usertemp\ccuz6VZa.s:2240   .text.lwip_netconn_do_close_internal:000001ec $d
C:\usertemp\ccuz6VZa.s:2255   .text.poll_tcp:00000000 $t
C:\usertemp\ccuz6VZa.s:2382   .text.poll_tcp:00000074 $d
C:\usertemp\ccuz6VZa.s:2389   .text.sent_tcp:00000000 $t
C:\usertemp\ccuz6VZa.s:2511   .text.sent_tcp:00000060 $d
C:\usertemp\ccuz6VZa.s:2518   .rodata.recv_tcp.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:2531   .text.recv_tcp:00000000 $t
C:\usertemp\ccuz6VZa.s:2733   .text.recv_tcp:000000ac $d
C:\usertemp\ccuz6VZa.s:2744   .rodata.lwip_netconn_is_err_msg.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:2748   .text.lwip_netconn_is_err_msg:00000000 $t
C:\usertemp\ccuz6VZa.s:2754   .text.lwip_netconn_is_err_msg:00000000 lwip_netconn_is_err_msg
C:\usertemp\ccuz6VZa.s:2843   .text.lwip_netconn_is_err_msg:00000044 $d
C:\usertemp\ccuz6VZa.s:2853   .text.lwip_netconn_do_newconn:00000000 $t
C:\usertemp\ccuz6VZa.s:2859   .text.lwip_netconn_do_newconn:00000000 lwip_netconn_do_newconn
C:\usertemp\ccuz6VZa.s:2901   .rodata.netconn_alloc.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:2905   .text.netconn_alloc:00000000 $t
C:\usertemp\ccuz6VZa.s:2911   .text.netconn_alloc:00000000 netconn_alloc
C:\usertemp\ccuz6VZa.s:3048   .text.netconn_alloc:0000007c $d
C:\usertemp\ccuz6VZa.s:3055   .rodata.netconn_free.str1.4:00000000 $d
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 159


C:\usertemp\ccuz6VZa.s:3067   .text.netconn_free:00000000 $t
C:\usertemp\ccuz6VZa.s:3073   .text.netconn_free:00000000 netconn_free
C:\usertemp\ccuz6VZa.s:3166   .text.netconn_free:00000064 $d
C:\usertemp\ccuz6VZa.s:3175   .text.netconn_drain:00000000 $t
C:\usertemp\ccuz6VZa.s:3180   .text.netconn_drain:00000000 netconn_drain
C:\usertemp\ccuz6VZa.s:3356   .rodata.accept_function.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:3360   .text.accept_function:00000000 $t
C:\usertemp\ccuz6VZa.s:3365   .text.accept_function:00000000 accept_function
C:\usertemp\ccuz6VZa.s:3604   .text.accept_function:000000fc $d
C:\usertemp\ccuz6VZa.s:3611   .rodata.lwip_netconn_do_delconn.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:3624   .text.lwip_netconn_do_delconn:00000000 $t
C:\usertemp\ccuz6VZa.s:3630   .text.lwip_netconn_do_delconn:00000000 lwip_netconn_do_delconn
C:\usertemp\ccuz6VZa.s:3902   .text.lwip_netconn_do_delconn:00000128 $d
C:\usertemp\ccuz6VZa.s:3913   .text.lwip_netconn_do_bind:00000000 $t
C:\usertemp\ccuz6VZa.s:3919   .text.lwip_netconn_do_bind:00000000 lwip_netconn_do_bind
C:\usertemp\ccuz6VZa.s:3992   .text.lwip_netconn_do_bind_if:00000000 $t
C:\usertemp\ccuz6VZa.s:3998   .text.lwip_netconn_do_bind_if:00000000 lwip_netconn_do_bind_if
C:\usertemp\ccuz6VZa.s:4089   .rodata.lwip_netconn_do_connect.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:4093   .text.lwip_netconn_do_connect:00000000 $t
C:\usertemp\ccuz6VZa.s:4099   .text.lwip_netconn_do_connect:00000000 lwip_netconn_do_connect
C:\usertemp\ccuz6VZa.s:4335   .text.lwip_netconn_do_connect:000000e4 $d
C:\usertemp\ccuz6VZa.s:4345   .text.lwip_netconn_do_disconnect:00000000 $t
C:\usertemp\ccuz6VZa.s:4351   .text.lwip_netconn_do_disconnect:00000000 lwip_netconn_do_disconnect
C:\usertemp\ccuz6VZa.s:4401   .text.lwip_netconn_do_listen:00000000 $t
C:\usertemp\ccuz6VZa.s:4407   .text.lwip_netconn_do_listen:00000000 lwip_netconn_do_listen
C:\usertemp\ccuz6VZa.s:4626   .text.lwip_netconn_do_listen:000000d4 $d
C:\usertemp\ccuz6VZa.s:4631   .text.lwip_netconn_do_send:00000000 $t
C:\usertemp\ccuz6VZa.s:4637   .text.lwip_netconn_do_send:00000000 lwip_netconn_do_send
C:\usertemp\ccuz6VZa.s:4728   .text.lwip_netconn_do_recv:00000000 $t
C:\usertemp\ccuz6VZa.s:4734   .text.lwip_netconn_do_recv:00000000 lwip_netconn_do_recv
C:\usertemp\ccuz6VZa.s:4832   .rodata.lwip_netconn_do_write.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:4836   .text.lwip_netconn_do_write:00000000 $t
C:\usertemp\ccuz6VZa.s:4842   .text.lwip_netconn_do_write:00000000 lwip_netconn_do_write
C:\usertemp\ccuz6VZa.s:5024   .text.lwip_netconn_do_write:000000c0 $d
C:\usertemp\ccuz6VZa.s:5034   .rodata.lwip_netconn_do_getaddr.str1.4:00000000 $d
C:\usertemp\ccuz6VZa.s:5038   .text.lwip_netconn_do_getaddr:00000000 $t
C:\usertemp\ccuz6VZa.s:5044   .text.lwip_netconn_do_getaddr:00000000 lwip_netconn_do_getaddr
C:\usertemp\ccuz6VZa.s:5204   .text.lwip_netconn_do_getaddr:00000090 $d
C:\usertemp\ccuz6VZa.s:5211   .text.lwip_netconn_do_close:00000000 $t
C:\usertemp\ccuz6VZa.s:5217   .text.lwip_netconn_do_close:00000000 lwip_netconn_do_close
C:\usertemp\ccuz6VZa.s:5400   .text.lwip_netconn_do_close:000000b8 $d
C:\usertemp\ccuz6VZa.s:5413   .rodata.netconn_closed:00000000 $d
C:\usertemp\ccuz6VZa.s:5419   .rodata.netconn_reset:00000000 $d
C:\usertemp\ccuz6VZa.s:5425   .rodata.netconn_aborted:00000000 $d

UNDEFINED SYMBOLS
printf
sys_mbox_valid
memp_malloc
sys_mbox_trypost
pbuf_free
netbuf_delete
tcp_arg
tcp_recv
tcp_sent
tcp_poll
tcp_err
ARM GAS  C:\usertemp\ccuz6VZa.s 			page 160


udp_new_ip_type
udp_recv
tcp_new_ip_type
sys_arch_protect
sys_arch_unprotect
sys_sem_valid
sys_sem_signal
tcp_write
tcp_output
tcp_shutdown
tcp_accept
tcp_close
tcp_abort
tcp_recved
sys_mbox_new
sys_sem_new
sys_mbox_set_invalid
memp_free
sys_mbox_free
sys_sem_free
sys_sem_set_invalid
sys_arch_mbox_tryfetch
udp_remove
sys_mutex_unlock
sys_arch_sem_wait
sys_mutex_lock
lock_tcpip_core
udp_bind
tcp_bind
netif_get_by_index
udp_bind_netif
tcp_bind_netif
udp_connect
tcp_connect
udp_disconnect
tcp_listen_with_backlog_and_err
netconn_err
udp_send
udp_sendto
