ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"api_msg.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.rodata.lwip_netconn_err_to_msg.str1.4,"aMS",%progbits,1
  19              		.align	2
  20              	.LC0:
  21 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/api/api_msg.c\000"
  21      6C657761 
  21      7265732F 
  21      54686972 
  21      645F5061 
  22 002f 00       		.align	2
  23              	.LC1:
  24 0030 756E6861 		.ascii	"unhandled error\000"
  24      6E646C65 
  24      64206572 
  24      726F7200 
  25              		.align	2
  26              	.LC2:
  27 0040 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
  27      7274696F 
  27      6E202225 
  27      73222066 
  27      61696C65 
  28              		.section	.text.lwip_netconn_err_to_msg,"ax",%progbits
  29              		.align	1
  30              		.syntax unified
  31              		.thumb
  32              		.thumb_func
  34              	lwip_netconn_err_to_msg:
  35              	.LVL0:
  36              	.LFB364:
  37              		.file 1 "Middlewares/Third_Party/LwIP/src/api/api_msg.c"
   1:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
   2:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Sequential API Internal module
   4:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
   5:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
   6:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
   7:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /*
   8:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   9:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * All rights reserved.
  10:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 2


  11:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Redistribution and use in source and binary forms, with or without modification,
  12:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * are permitted provided that the following conditions are met:
  13:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  14:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  15:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    this list of conditions and the following disclaimer.
  16:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    this list of conditions and the following disclaimer in the documentation
  18:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    and/or other materials provided with the distribution.
  19:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 3. The name of the author may not be used to endorse or promote products
  20:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    derived from this software without specific prior written permission.
  21:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  22:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  23:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  24:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  25:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  26:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  27:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  30:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  31:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * OF SUCH DAMAGE.
  32:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  33:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * This file is part of the lwIP TCP/IP stack.
  34:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  35:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Author: Adam Dunkels <adam@sics.se>
  36:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  37:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
  38:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  39:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/opt.h"
  40:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  41:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN /* don't build if not configured for use in lwipopts.h */
  42:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  43:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/priv/api_msg.h"
  44:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  45:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/ip.h"
  46:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/ip_addr.h"
  47:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/udp.h"
  48:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/tcp.h"
  49:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/raw.h"
  50:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  51:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/memp.h"
  52:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/igmp.h"
  53:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/dns.h"
  54:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/mld6.h"
  55:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/priv/tcpip_priv.h"
  56:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  57:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include <string.h>
  58:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  59:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /* netconns are polled once per second (e.g. continue write on memory error) */
  60:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_TCP_POLL_INTERVAL 2
  61:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  62:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define SET_NONBLOCKING_CONNECT(conn, val)  do { if (val) { \
  63:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netconn_set_flags(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT); \
  64:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** } else { \
  65:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netconn_clear_flags(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT); }} while(0)
  66:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define IN_NONBLOCKING_CONNECT(conn) netconn_is_flag_set(conn, NETCONN_FLAG_IN_NONBLOCKING_CONNECT)
  67:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 3


  68:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
  69:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_MBOX_VALID(conn, mbox) (sys_mbox_valid(mbox) && ((conn->flags & NETCONN_FLAG_MBOXIN
  70:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else
  71:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_MBOX_VALID(conn, mbox) sys_mbox_valid(mbox)
  72:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
  73:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  74:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /* forward declarations */
  75:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
  76:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  77:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED         , 1
  78:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED_PARAM   , u8_t delayed
  79:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  80:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED
  81:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED_PARAM
  82:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  83:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM);
  84:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM);
  85:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
  86:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  87:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void netconn_drain(struct netconn *conn);
  88:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  89:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  90:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)
  91:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  92:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)   do { sys_sem_signal(LWIP_API_MSG_SEM(m)); } while(0)
  93:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  94:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  95:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
  96:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_deleted = 0;
  97:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  98:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** int
  99:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_is_deallocated_msg(void *msg)
 100:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg == &netconn_deleted) {
 102:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 103:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 104:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0;
 105:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 106:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 107:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 108:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 109:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_aborted = 0;
 110:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_reset = 0;
 111:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** const u8_t netconn_closed = 0;
 112:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 113:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /** Translate an error to a unique void* passed via an mbox */
 114:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void *
 115:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_err_to_msg(err_t err)
 116:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
  38              		.loc 1 116 1 view -0
  39              		.cfi_startproc
  40              		@ args = 0, pretend = 0, frame = 0
  41              		@ frame_needed = 0, uses_anonymous_args = 0
 117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (err) {
  42              		.loc 1 117 3 view .LVU1
  43 0000 10F10E0F 		cmn	r0, #14
  44 0004 11D0     		beq	.L3
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 4


  45 0006 10F10D0F 		cmn	r0, #13
  46 000a 10D0     		beq	.L4
  47 000c 10F10F0F 		cmn	r0, #15
  48 0010 0FD0     		beq	.L5
 118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_ABRT:
 119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_aborted);
 120:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_RST:
 121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_reset);
 122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_CLSD:
 123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return LWIP_CONST_CAST(void *, &netconn_closed);
 124:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("unhandled error", err == ERR_OK);
  49              		.loc 1 125 7 view .LVU2
  50              		.loc 1 125 7 view .LVU3
  51 0012 08B9     		cbnz	r0, .L11
 126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
  52              		.loc 1 126 14 is_stmt 0 view .LVU4
  53 0014 0020     		movs	r0, #0
  54              	.LVL1:
 127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 128:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
  55              		.loc 1 128 1 view .LVU5
  56 0016 7047     		bx	lr
  57              	.LVL2:
  58              	.L11:
 116:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (err) {
  59              		.loc 1 116 1 discriminator 1 view .LVU6
  60 0018 08B5     		push	{r3, lr}
  61              	.LCFI0:
  62              		.cfi_def_cfa_offset 8
  63              		.cfi_offset 3, -8
  64              		.cfi_offset 14, -4
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
  65              		.loc 1 125 7 is_stmt 1 discriminator 1 view .LVU7
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
  66              		.loc 1 125 7 discriminator 1 view .LVU8
  67 001a 074B     		ldr	r3, .L12
  68 001c 7D22     		movs	r2, #125
  69 001e 0749     		ldr	r1, .L12+4
  70 0020 0748     		ldr	r0, .L12+8
  71              	.LVL3:
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return NULL;
  72              		.loc 1 125 7 is_stmt 0 discriminator 1 view .LVU9
  73 0022 FFF7FEFF 		bl	printf
  74              	.LVL4:
 126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
  75              		.loc 1 126 14 discriminator 1 view .LVU10
  76 0026 0020     		movs	r0, #0
  77              		.loc 1 128 1 discriminator 1 view .LVU11
  78 0028 08BD     		pop	{r3, pc}
  79              	.LVL5:
  80              	.L3:
  81              	.LCFI1:
  82              		.cfi_def_cfa_offset 0
  83              		.cfi_restore 3
  84              		.cfi_restore 14
 121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_CLSD:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 5


  85              		.loc 1 121 14 view .LVU12
  86 002a 0648     		ldr	r0, .L12+12
  87              	.LVL6:
 121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_CLSD:
  88              		.loc 1 121 14 view .LVU13
  89 002c 7047     		bx	lr
  90              	.LVL7:
  91              	.L4:
 117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_ABRT:
  92              		.loc 1 117 3 view .LVU14
  93 002e 0648     		ldr	r0, .L12+16
  94              	.LVL8:
 117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case ERR_ABRT:
  95              		.loc 1 117 3 view .LVU15
  96 0030 7047     		bx	lr
  97              	.LVL9:
  98              	.L5:
 123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
  99              		.loc 1 123 14 view .LVU16
 100 0032 0648     		ldr	r0, .L12+20
 101              	.LVL10:
 123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 102              		.loc 1 123 14 view .LVU17
 103 0034 7047     		bx	lr
 104              	.L13:
 105 0036 00BF     		.align	2
 106              	.L12:
 107 0038 00000000 		.word	.LC0
 108 003c 30000000 		.word	.LC1
 109 0040 40000000 		.word	.LC2
 110 0044 00000000 		.word	.LANCHOR0
 111 0048 00000000 		.word	.LANCHOR2
 112 004c 00000000 		.word	.LANCHOR1
 113              		.cfi_endproc
 114              	.LFE364:
 116              		.section	.rodata.recv_udp.str1.4,"aMS",%progbits,1
 117              		.align	2
 118              	.LC3:
 119 0000 72656376 		.ascii	"recv_udp must have a pcb argument\000"
 119      5F756470 
 119      206D7573 
 119      74206861 
 119      76652061 
 120 0022 0000     		.align	2
 121              	.LC4:
 122 0024 72656376 		.ascii	"recv_udp must have an argument\000"
 122      5F756470 
 122      206D7573 
 122      74206861 
 122      76652061 
 123 0043 00       		.align	2
 124              	.LC5:
 125 0044 72656376 		.ascii	"recv_udp: recv for wrong pcb!\000"
 125      5F756470 
 125      3A207265 
 125      63762066 
 125      6F722077 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 6


 126              		.section	.text.recv_udp,"ax",%progbits
 127              		.align	1
 128              		.syntax unified
 129              		.thumb
 130              		.thumb_func
 132              	recv_udp:
 133              	.LVL11:
 134              	.LFB366:
 129:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 130:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** int
 131:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_is_err_msg(void *msg, err_t *err)
 132:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 134:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 135:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg == &netconn_aborted) {
 136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_ABRT;
 137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_RST;
 140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_CLSD;
 143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 144:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 145:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0;
 146:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 147:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 148:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 149:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 150:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 152:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for RAW netconns.
 153:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Doesn't 'eat' the packet, only copies it and sends it to
 154:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * conn->recvmbox
 155:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 156:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see raw.h (struct raw_pcb.recv) for parameters and return value
 157:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static u8_t
 159:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_raw(void *arg, struct raw_pcb *pcb, struct pbuf *p,
 160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          const ip_addr_t *addr)
 161:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 162:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct pbuf *q;
 163:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netbuf *buf;
 164:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 165:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(addr);
 167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 168:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 169:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((conn != NULL) && NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 170:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 171:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     int recv_avail;
 172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_GET(conn->recv_avail, recv_avail);
 173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize) {
 174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return 0;
 175:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 176:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* copy the whole packet into new pbufs */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 7


 178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     q = pbuf_clone(PBUF_RAW, PBUF_RAM, p);
 179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (q != NULL) {
 180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       u16_t len;
 181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (buf == NULL) {
 183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         pbuf_free(q);
 184:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return 0;
 185:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 186:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 187:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->p = q;
 188:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->ptr = q;
 189:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(buf->addr, *ip_current_src_addr());
 190:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->port = pcb->protocol;
 191:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 192:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = q->tot_len;
 193:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netbuf_delete(buf);
 195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return 0;
 196:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 197:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 198:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         SYS_ARCH_INC(conn->recv_avail, len);
 199:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Register event with callback */
 201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 202:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 205:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 206:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0; /* do not eat the packet */
 207:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 208:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW*/
 209:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 210:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 211:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 212:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for UDP netconns.
 213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Posts the packet to conn->recvmbox or deletes it on memory error.
 214:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 215:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see udp.h (struct udp_pcb.recv) for parameters
 216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 217:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 218:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_udp(void *arg, struct udp_pcb *pcb, struct pbuf *p,
 219:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          const ip_addr_t *addr, u16_t port)
 220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 135              		.loc 1 220 1 is_stmt 1 view -0
 136              		.cfi_startproc
 137              		@ args = 4, pretend = 0, frame = 0
 138              		@ frame_needed = 0, uses_anonymous_args = 0
 139              		.loc 1 220 1 is_stmt 0 view .LVU19
 140 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 141              	.LCFI2:
 142              		.cfi_def_cfa_offset 24
 143              		.cfi_offset 4, -24
 144              		.cfi_offset 5, -20
 145              		.cfi_offset 6, -16
 146              		.cfi_offset 7, -12
 147              		.cfi_offset 8, -8
 148              		.cfi_offset 14, -4
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 8


 149 0004 0446     		mov	r4, r0
 150 0006 1546     		mov	r5, r2
 151 0008 9846     		mov	r8, r3
 221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netbuf *buf;
 152              		.loc 1 221 3 is_stmt 1 view .LVU20
 222:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 153              		.loc 1 222 3 view .LVU21
 223:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 154              		.loc 1 223 3 view .LVU22
 224:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 225:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int recv_avail;
 226:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 227:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 228:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb); /* only used for asserts... */
 155              		.loc 1 228 3 view .LVU23
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have a pcb argument", pcb != NULL);
 156              		.loc 1 229 3 view .LVU24
 157              		.loc 1 229 3 view .LVU25
 158 000a 0E46     		mov	r6, r1
 159 000c 79B3     		cbz	r1, .L26
 160              	.LVL12:
 161              	.L15:
 162              		.loc 1 229 3 discriminator 3 view .LVU26
 163              		.loc 1 229 3 discriminator 3 view .LVU27
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 164              		.loc 1 230 3 discriminator 3 view .LVU28
 165              		.loc 1 230 3 discriminator 3 view .LVU29
 166 000e 002C     		cmp	r4, #0
 167 0010 34D0     		beq	.L27
 168              	.L16:
 169              		.loc 1 230 3 discriminator 3 view .LVU30
 170              		.loc 1 230 3 discriminator 3 view .LVU31
 231:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 171              		.loc 1 231 3 discriminator 3 view .LVU32
 172              	.LVL13:
 232:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 233:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 173              		.loc 1 233 3 discriminator 3 view .LVU33
 174              		.loc 1 233 6 is_stmt 0 discriminator 3 view .LVU34
 175 0012 002C     		cmp	r4, #0
 176 0014 39D0     		beq	.L28
 234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 237:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 238:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp: recv for wrong pcb!", conn->pcb.udp == pcb);
 177              		.loc 1 238 3 is_stmt 1 view .LVU35
 178              		.loc 1 238 3 view .LVU36
 179 0016 6368     		ldr	r3, [r4, #4]
 180 0018 B342     		cmp	r3, r6
 181 001a 05D0     		beq	.L19
 182              		.loc 1 238 3 discriminator 1 view .LVU37
 183              		.loc 1 238 3 discriminator 1 view .LVU38
 184 001c 244B     		ldr	r3, .L32
 185 001e EE22     		movs	r2, #238
 186 0020 2449     		ldr	r1, .L32+4
 187 0022 2548     		ldr	r0, .L32+8
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 9


 188 0024 FFF7FEFF 		bl	printf
 189              	.LVL14:
 190              	.L19:
 191              		.loc 1 238 3 discriminator 3 view .LVU39
 192              		.loc 1 238 3 discriminator 3 view .LVU40
 239:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 240:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 241:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_GET(conn->recv_avail, recv_avail);
 242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox) ||
 243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize)) {
 244:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else  /* LWIP_SO_RCVBUF */
 245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 193              		.loc 1 245 3 discriminator 3 view .LVU41
 194              		.loc 1 245 8 is_stmt 0 discriminator 3 view .LVU42
 195 0028 04F11007 		add	r7, r4, #16
 196 002c 3846     		mov	r0, r7
 197 002e FFF7FEFF 		bl	sys_mbox_valid
 198              	.LVL15:
 199              		.loc 1 245 6 discriminator 3 view .LVU43
 200 0032 70B3     		cbz	r0, .L29
 246:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 247:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 248:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 251:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 201              		.loc 1 251 3 is_stmt 1 view .LVU44
 202              		.loc 1 251 26 is_stmt 0 view .LVU45
 203 0034 0620     		movs	r0, #6
 204 0036 FFF7FEFF 		bl	memp_malloc
 205              	.LVL16:
 252:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (buf == NULL) {
 206              		.loc 1 252 3 is_stmt 1 view .LVU46
 207              		.loc 1 252 6 is_stmt 0 view .LVU47
 208 003a 0646     		mov	r6, r0
 209              	.LVL17:
 210              		.loc 1 252 6 view .LVU48
 211 003c 70B3     		cbz	r0, .L30
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 255:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->p = p;
 212              		.loc 1 256 5 is_stmt 1 view .LVU49
 213              		.loc 1 256 12 is_stmt 0 view .LVU50
 214 003e 0560     		str	r5, [r0]
 257:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->ptr = p;
 215              		.loc 1 257 5 is_stmt 1 view .LVU51
 216              		.loc 1 257 14 is_stmt 0 view .LVU52
 217 0040 4560     		str	r5, [r0, #4]
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     ip_addr_set(&buf->addr, addr);
 218              		.loc 1 258 5 is_stmt 1 view .LVU53
 219 0042 B8F1000F 		cmp	r8, #0
 220 0046 2DD0     		beq	.L24
 221              		.loc 1 258 5 is_stmt 0 discriminator 1 view .LVU54
 222 0048 D8F80030 		ldr	r3, [r8]
 223              	.L22:
 224              		.loc 1 258 5 discriminator 4 view .LVU55
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 10


 225 004c B360     		str	r3, [r6, #8]
 259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->port = port;
 226              		.loc 1 259 5 is_stmt 1 discriminator 4 view .LVU56
 227              		.loc 1 259 15 is_stmt 0 discriminator 4 view .LVU57
 228 004e BDF81830 		ldrh	r3, [sp, #24]
 229 0052 B381     		strh	r3, [r6, #12]	@ movhi
 260:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETBUF_RECVINFO
 261:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->flags & NETCONN_FLAG_PKTINFO) {
 262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* get the UDP header - always in the first pbuf, ensured by udp_input */
 263:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       const struct udp_hdr *udphdr = (const struct udp_hdr *)ip_next_header_ptr();
 264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->flags = NETBUF_FLAG_DESTADDR;
 265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_set(&buf->toaddr, ip_current_dest_addr());
 266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->toport_chksum = udphdr->dest;
 267:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 268:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETBUF_RECVINFO */
 269:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 270:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 271:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   len = p->tot_len;
 230              		.loc 1 271 3 is_stmt 1 discriminator 4 view .LVU58
 231              		.loc 1 271 7 is_stmt 0 discriminator 4 view .LVU59
 232 0054 2D89     		ldrh	r5, [r5, #8]
 233              	.LVL18:
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 234              		.loc 1 272 3 is_stmt 1 discriminator 4 view .LVU60
 235              		.loc 1 272 7 is_stmt 0 discriminator 4 view .LVU61
 236 0056 3146     		mov	r1, r6
 237 0058 3846     		mov	r0, r7
 238              	.LVL19:
 239              		.loc 1 272 7 discriminator 4 view .LVU62
 240 005a FFF7FEFF 		bl	sys_mbox_trypost
 241              	.LVL20:
 242              		.loc 1 272 6 discriminator 4 view .LVU63
 243 005e 18BB     		cbnz	r0, .L31
 273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netbuf_delete(buf);
 274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 276:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 277:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 278:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 280:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 244              		.loc 1 280 5 is_stmt 1 view .LVU64
 245 0060 636A     		ldr	r3, [r4, #36]
 246 0062 CBB1     		cbz	r3, .L14
 247              		.loc 1 280 5 discriminator 1 view .LVU65
 248 0064 2A46     		mov	r2, r5
 249 0066 0021     		movs	r1, #0
 250 0068 2046     		mov	r0, r4
 251 006a 9847     		blx	r3
 252              	.LVL21:
 253              		.loc 1 280 46 discriminator 1 view .LVU66
 254 006c 14E0     		b	.L14
 255              	.LVL22:
 256              	.L26:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 257              		.loc 1 229 3 discriminator 1 view .LVU67
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 11


 258              		.loc 1 229 3 discriminator 1 view .LVU68
 259 006e 104B     		ldr	r3, .L32
 260              	.LVL23:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 261              		.loc 1 229 3 is_stmt 0 discriminator 1 view .LVU69
 262 0070 E522     		movs	r2, #229
 263              	.LVL24:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 264              		.loc 1 229 3 discriminator 1 view .LVU70
 265 0072 1249     		ldr	r1, .L32+12
 266              	.LVL25:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 267              		.loc 1 229 3 discriminator 1 view .LVU71
 268 0074 1048     		ldr	r0, .L32+8
 269              	.LVL26:
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 270              		.loc 1 229 3 discriminator 1 view .LVU72
 271 0076 FFF7FEFF 		bl	printf
 272              	.LVL27:
 273 007a C8E7     		b	.L15
 274              	.L27:
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 275              		.loc 1 230 3 is_stmt 1 discriminator 1 view .LVU73
 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 276              		.loc 1 230 3 discriminator 1 view .LVU74
 277 007c 0C4B     		ldr	r3, .L32
 278 007e E622     		movs	r2, #230
 279 0080 0F49     		ldr	r1, .L32+16
 280 0082 0D48     		ldr	r0, .L32+8
 281 0084 FFF7FEFF 		bl	printf
 282              	.LVL28:
 283 0088 C3E7     		b	.L16
 284              	.LVL29:
 285              	.L28:
 234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 286              		.loc 1 234 5 view .LVU75
 287 008a 2846     		mov	r0, r5
 288 008c FFF7FEFF 		bl	pbuf_free
 289              	.LVL30:
 235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 290              		.loc 1 235 5 view .LVU76
 291 0090 02E0     		b	.L14
 292              	.L29:
 247:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 293              		.loc 1 247 5 view .LVU77
 294 0092 2846     		mov	r0, r5
 295 0094 FFF7FEFF 		bl	pbuf_free
 296              	.LVL31:
 248:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 297              		.loc 1 248 5 view .LVU78
 298              	.L14:
 281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 282:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 299              		.loc 1 282 1 is_stmt 0 view .LVU79
 300 0098 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 301              	.LVL32:
 302              	.L30:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 12


 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 303              		.loc 1 253 5 is_stmt 1 view .LVU80
 304 009c 2846     		mov	r0, r5
 305              	.LVL33:
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 306              		.loc 1 253 5 is_stmt 0 view .LVU81
 307 009e FFF7FEFF 		bl	pbuf_free
 308              	.LVL34:
 254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 309              		.loc 1 254 5 is_stmt 1 view .LVU82
 310 00a2 F9E7     		b	.L14
 311              	.LVL35:
 312              	.L24:
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->port = port;
 313              		.loc 1 258 5 is_stmt 0 view .LVU83
 314 00a4 0023     		movs	r3, #0
 315 00a6 D1E7     		b	.L22
 316              	.LVL36:
 317              	.L31:
 273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 318              		.loc 1 273 5 is_stmt 1 view .LVU84
 319 00a8 3046     		mov	r0, r6
 320 00aa FFF7FEFF 		bl	netbuf_delete
 321              	.LVL37:
 274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 322              		.loc 1 274 5 view .LVU85
 323 00ae F3E7     		b	.L14
 324              	.L33:
 325              		.align	2
 326              	.L32:
 327 00b0 00000000 		.word	.LC0
 328 00b4 44000000 		.word	.LC5
 329 00b8 40000000 		.word	.LC2
 330 00bc 00000000 		.word	.LC3
 331 00c0 24000000 		.word	.LC4
 332              		.cfi_endproc
 333              	.LFE366:
 335              		.section	.text.setup_tcp,"ax",%progbits
 336              		.align	1
 337              		.syntax unified
 338              		.thumb
 339              		.thumb_func
 341              	setup_tcp:
 342              	.LVL38:
 343              	.LFB371:
 283:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 284:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 285:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 286:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for TCP netconns.
 288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Posts the packet to conn->recvmbox, but doesn't delete it on errors.
 289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.recv) for parameters and return value
 291:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 292:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 293:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_tcp(void *arg, struct tcp_pcb *pcb, struct pbuf *p, err_t err)
 294:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 13


 295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 297:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *msg;
 298:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have a pcb argument", pcb != NULL);
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 304:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 305:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 306:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 308:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp: recv for wrong pcb!", conn->pcb.tcp == pcb);
 310:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (p != NULL) {
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       pbuf_free(p);
 316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_OK;
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Unlike for UDP or RAW pcbs, don't check for available space
 320:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      using recv_avail since that could break the connection
 321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      (data is already ACKed) */
 322:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (p != NULL) {
 324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = p;
 325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = p->tot_len;
 326:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = LWIP_CONST_CAST(void *, &netconn_closed);
 328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = 0;
 329:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, msg) != ERR_OK) {
 332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 334:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 335:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 337:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 338:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 339:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 340:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 341:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 342:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 343:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 344:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 345:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Poll callback function for TCP netconns.
 347:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Wakes up an application thread that waits for a connection to close
 348:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * or data to be sent. The application thread then takes the
 349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * appropriate action to go on.
 350:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals the conn->sem.
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 14


 352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * netconn_close waits for conn->sem if closing failed.
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 354:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.poll) for parameters and return value
 355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 356:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 357:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** poll_tcp(void *arg, struct tcp_pcb *pcb)
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 360:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 363:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->state == NETCONN_WRITE) {
 365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 367:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->current_msg && conn->current_msg->msg.sd.polls_left) {
 369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 370:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 371:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER */
 372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* @todo: implement connect timeout here? */
 375:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Did a nonblocking write fail before? Then check available write-space. */
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->flags & NETCONN_FLAG_CHECK_WRITESPACE) {
 378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        let select mark this pcb as writable again. */
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 386:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 389:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 390:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 391:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Sent callback function for TCP netconns.
 392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals the conn->sem and calls API_EVENT.
 393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * netconn_write waits for conn->sem if send buffer is low.
 394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.sent) for parameters and return value
 396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 397:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 398:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** sent_tcp(void *arg, struct tcp_pcb *pcb, u16_t len)
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 400:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 401:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 404:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn) {
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 15


 409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 410:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 411:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 412:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 413:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        let select mark this pcb as writable again. */
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 418:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 419:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 420:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 421:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 422:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 423:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 424:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Error callback function for TCP netconns.
 426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals conn->sem, posts to all conn mboxes and calls API_EVENT.
 427:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The application thread has then to decide what to do.
 428:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 429:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.err) for parameters
 430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 431:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 432:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_tcp(void *arg, err_t err)
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 434:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state old_state;
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mbox_msg;
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_DECL_PROTECT(lev);
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 439:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 442:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_PROTECT(lev);
 443:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 444:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* when err is called, the pcb is deallocated, so delete the reference */
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 446:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* store pending error */
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pending_err = err;
 448:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags |= NETCONN_FLAG_MBOXCLOSED;
 450:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* reset conn->state now before waking up other threads */
 452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   old_state = conn->state;
 453:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 454:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_UNPROTECT(lev);
 456:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Notify the user layer about a connection error. Used to signal select. */
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_ERROR, 0);
 459:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      They will get an error if they actually try to read or write. */
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 463:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   mbox_msg = lwip_netconn_err_to_msg(err);
 465:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 16


 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONN_MBOX_VALID(conn, &conn->recvmbox)) {
 467:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 468:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_trypost(&conn->recvmbox, mbox_msg);
 469:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 470:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to acceptmbox to wake up pending accept */
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONN_MBOX_VALID(conn, &conn->acceptmbox)) {
 472:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_trypost(&conn->acceptmbox, mbox_msg);
 474:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 475:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((old_state == NETCONN_WRITE) || (old_state == NETCONN_CLOSE) ||
 477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 478:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* calling lwip_netconn_do_writemore/lwip_netconn_do_close_internal is not necessary
 479:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        since the pcb has already been deleted! */
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     int was_nonblocking_connect = IN_NONBLOCKING_CONNECT(conn);
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 482:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (!was_nonblocking_connect) {
 484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* set error return code */
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->err = ERR_OK;
 490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Write and connect fail */
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->err = err;
 493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 500:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* @todo: test what happens for error on nonblocking connect */
 501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("conn->current_msg == NULL", conn->current_msg == NULL);
 504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 505:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 506:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 507:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Setup a tcp_pcb with the correct callback function pointers
 509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * and their arguments.
 510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the TCP netconn to setup
 512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 513:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 514:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** setup_tcp(struct netconn *conn)
 515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 344              		.loc 1 515 1 view -0
 345              		.cfi_startproc
 346              		@ args = 0, pretend = 0, frame = 0
 347              		@ frame_needed = 0, uses_anonymous_args = 0
 348              		.loc 1 515 1 is_stmt 0 view .LVU87
 349 0000 10B5     		push	{r4, lr}
 350              	.LCFI3:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 17


 351              		.cfi_def_cfa_offset 8
 352              		.cfi_offset 4, -8
 353              		.cfi_offset 14, -4
 354 0002 0146     		mov	r1, r0
 516:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *pcb;
 355              		.loc 1 516 3 is_stmt 1 view .LVU88
 517:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   pcb = conn->pcb.tcp;
 356              		.loc 1 518 3 view .LVU89
 357              		.loc 1 518 7 is_stmt 0 view .LVU90
 358 0004 4468     		ldr	r4, [r0, #4]
 359              	.LVL39:
 519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_arg(pcb, conn);
 360              		.loc 1 519 3 is_stmt 1 view .LVU91
 361 0006 2046     		mov	r0, r4
 362              	.LVL40:
 363              		.loc 1 519 3 is_stmt 0 view .LVU92
 364 0008 FFF7FEFF 		bl	tcp_arg
 365              	.LVL41:
 520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_recv(pcb, recv_tcp);
 366              		.loc 1 520 3 is_stmt 1 view .LVU93
 367 000c 0849     		ldr	r1, .L36
 368 000e 2046     		mov	r0, r4
 369 0010 FFF7FEFF 		bl	tcp_recv
 370              	.LVL42:
 521:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_sent(pcb, sent_tcp);
 371              		.loc 1 521 3 view .LVU94
 372 0014 0749     		ldr	r1, .L36+4
 373 0016 2046     		mov	r0, r4
 374 0018 FFF7FEFF 		bl	tcp_sent
 375              	.LVL43:
 522:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_poll(pcb, poll_tcp, NETCONN_TCP_POLL_INTERVAL);
 376              		.loc 1 522 3 view .LVU95
 377 001c 0222     		movs	r2, #2
 378 001e 0649     		ldr	r1, .L36+8
 379 0020 2046     		mov	r0, r4
 380 0022 FFF7FEFF 		bl	tcp_poll
 381              	.LVL44:
 523:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_err(pcb, err_tcp);
 382              		.loc 1 523 3 view .LVU96
 383 0026 0549     		ldr	r1, .L36+12
 384 0028 2046     		mov	r0, r4
 385 002a FFF7FEFF 		bl	tcp_err
 386              	.LVL45:
 524:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 387              		.loc 1 524 1 is_stmt 0 view .LVU97
 388 002e 10BD     		pop	{r4, pc}
 389              	.LVL46:
 390              	.L37:
 391              		.loc 1 524 1 view .LVU98
 392              		.align	2
 393              	.L36:
 394 0030 00000000 		.word	recv_tcp
 395 0034 00000000 		.word	sent_tcp
 396 0038 00000000 		.word	poll_tcp
 397 003c 00000000 		.word	err_tcp
 398              		.cfi_endproc
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 18


 399              	.LFE371:
 401              		.section	.rodata.pcb_new.str1.4,"aMS",%progbits,1
 402              		.align	2
 403              	.LC6:
 404 0000 7063625F 		.ascii	"pcb_new: pcb already allocated\000"
 404      6E65773A 
 404      20706362 
 404      20616C72 
 404      65616479 
 405              		.section	.text.pcb_new,"ax",%progbits
 406              		.align	1
 407              		.syntax unified
 408              		.thumb
 409              		.thumb_func
 411              	pcb_new:
 412              	.LVL47:
 413              	.LFB373:
 525:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 526:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Accept callback function for TCP netconns.
 528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Allocates a new netconn and posts that to conn->acceptmbox.
 529:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb_listen.accept) for parameters and return value
 531:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 532:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 533:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** accept_function(void *arg, struct tcp_pcb *newpcb, err_t err)
 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 537:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 540:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!NETCONN_MBOX_VALID(conn, &conn->acceptmbox)) {
 542:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 544:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 545:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newpcb == NULL) {
 547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, lwip_netconn_err_to_msg(ERR_ABRT)) == ERR_OK) {
 549:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 551:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 553:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("expect newpcb == NULL or err == ERR_OK", err == ERR_OK);
 555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 556:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 557:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: newpcb->state: %s\n", tcp_debug_state_str(newpcb->s
 558:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 559:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* We have to set the callback here even though
 560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****    * the new socket is unknown. newconn->socket is marked as -1. */
 561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn = netconn_alloc(conn->type, conn->callback);
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, lwip_netconn_err_to_msg(ERR_ABRT)) == ERR_OK) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 19


 565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 567:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn->pcb.tcp = newpcb;
 571:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 572:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* handle backlog counter */
 574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_backlog_delayed(newpcb);
 575:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->acceptmbox, newconn) != ERR_OK) {
 577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        so do nothing here! */
 579:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove all references to this netconn from the pcb */
 580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     struct tcp_pcb *pcb = newconn->pcb.tcp;
 581:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 582:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_recv(pcb, NULL);
 583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_sent(pcb, NULL);
 584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
 585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(pcb, NULL);
 586:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     newconn->pcb.tcp = NULL;
 588:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&newconn->recvmbox);
 590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_free(newconn);
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 597:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 599:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 600:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 601:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 602:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new pcb of a specific type.
 604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from lwip_netconn_do_newconn().
 605:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 606:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param msg the api_msg describing the connection type
 607:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 608:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 609:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** pcb_new(struct api_msg *msg)
 610:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 414              		.loc 1 610 1 is_stmt 1 view -0
 415              		.cfi_startproc
 416              		@ args = 0, pretend = 0, frame = 0
 417              		@ frame_needed = 0, uses_anonymous_args = 0
 418              		.loc 1 610 1 is_stmt 0 view .LVU100
 419 0000 38B5     		push	{r3, r4, r5, lr}
 420              	.LCFI4:
 421              		.cfi_def_cfa_offset 16
 422              		.cfi_offset 3, -16
 423              		.cfi_offset 4, -12
 424              		.cfi_offset 5, -8
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 20


 425              		.cfi_offset 14, -4
 426 0002 0446     		mov	r4, r0
 611:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum lwip_ip_addr_type iptype = IPADDR_TYPE_V4;
 427              		.loc 1 611 3 is_stmt 1 view .LVU101
 428              	.LVL48:
 612:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 613:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb_new: pcb already allocated", msg->conn->pcb.tcp == NULL);
 429              		.loc 1 613 3 view .LVU102
 430              		.loc 1 613 3 view .LVU103
 431 0004 0368     		ldr	r3, [r0]
 432 0006 5B68     		ldr	r3, [r3, #4]
 433 0008 33B1     		cbz	r3, .L39
 434              		.loc 1 613 3 discriminator 1 view .LVU104
 435              		.loc 1 613 3 discriminator 1 view .LVU105
 436 000a 1B4B     		ldr	r3, .L48
 437 000c 40F26522 		movw	r2, #613
 438 0010 1A49     		ldr	r1, .L48+4
 439 0012 1B48     		ldr	r0, .L48+8
 440              	.LVL49:
 441              		.loc 1 613 3 is_stmt 0 discriminator 1 view .LVU106
 442 0014 FFF7FEFF 		bl	printf
 443              	.LVL50:
 444              	.L39:
 445              		.loc 1 613 3 is_stmt 1 discriminator 3 view .LVU107
 446              		.loc 1 613 3 discriminator 3 view .LVU108
 614:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 615:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6 && LWIP_IPV4
 616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* IPv6: Dual-stack by default, unless netconn_set_ipv6only() is called */
 617:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONNTYPE_ISIPV6(netconn_type(msg->conn))) {
 618:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     iptype = IPADDR_TYPE_ANY;
 619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 620:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 621:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Allocate a PCB for this connection */
 623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 447              		.loc 1 623 3 discriminator 3 view .LVU109
 448              		.loc 1 623 11 is_stmt 0 discriminator 3 view .LVU110
 449 0018 2568     		ldr	r5, [r4]
 450 001a 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 451 001c 03F0F003 		and	r3, r3, #240
 452              		.loc 1 623 3 discriminator 3 view .LVU111
 453 0020 102B     		cmp	r3, #16
 454 0022 17D0     		beq	.L40
 455              		.loc 1 623 3 view .LVU112
 456 0024 202B     		cmp	r3, #32
 457 0026 20D1     		bne	.L41
 624:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 625:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_RAW:
 626:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.raw = raw_new_ip_type(iptype, msg->msg.n.proto);
 627:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.raw != NULL) {
 628:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6
 629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* ICMPv6 packets should always have checksum calculated by the stack as per RFC 3542 chapt
 630:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISIPV6(msg->conn->type) && msg->conn->pcb.raw->protocol == IP6_NEXTH_ICMP6)
 631:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->pcb.raw->chksum_reqd = 1;
 632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->pcb.raw->chksum_offset = 2;
 633:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 634:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV6 */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 21


 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         raw_recv(msg->conn->pcb.raw, recv_raw, msg->conn);
 636:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 637:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 638:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
 639:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 640:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_UDP:
 641:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.udp = udp_new_ip_type(iptype);
 458              		.loc 1 641 7 is_stmt 1 view .LVU113
 459              		.loc 1 641 28 is_stmt 0 view .LVU114
 460 0028 0020     		movs	r0, #0
 461 002a FFF7FEFF 		bl	udp_new_ip_type
 462              	.LVL51:
 463              		.loc 1 641 26 view .LVU115
 464 002e 6860     		str	r0, [r5, #4]
 642:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.udp != NULL) {
 465              		.loc 1 642 7 is_stmt 1 view .LVU116
 466              		.loc 1 642 14 is_stmt 0 view .LVU117
 467 0030 2368     		ldr	r3, [r4]
 468              		.loc 1 642 25 view .LVU118
 469 0032 5A68     		ldr	r2, [r3, #4]
 470              		.loc 1 642 10 view .LVU119
 471 0034 3AB1     		cbz	r2, .L42
 643:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDPLITE
 644:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISUDPLITE(msg->conn->type)) {
 645:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_UDPLITE);
 646:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 647:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDPLITE */
 648:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_ISUDPNOCHKSUM(msg->conn->type)) {
 472              		.loc 1 648 9 is_stmt 1 view .LVU120
 473              		.loc 1 648 13 is_stmt 0 view .LVU121
 474 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 475              		.loc 1 648 12 view .LVU122
 476 0038 222B     		cmp	r3, #34
 477 003a 08D0     		beq	.L46
 478              	.L43:
 649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 650:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_recv(msg->conn->pcb.udp, recv_udp, msg->conn);
 479              		.loc 1 651 9 is_stmt 1 view .LVU123
 480              		.loc 1 651 21 is_stmt 0 view .LVU124
 481 003c 2268     		ldr	r2, [r4]
 482              		.loc 1 651 9 view .LVU125
 483 003e 1149     		ldr	r1, .L48+12
 484 0040 5068     		ldr	r0, [r2, #4]
 485 0042 FFF7FEFF 		bl	udp_recv
 486              	.LVL52:
 487              	.L42:
 652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 654:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 655:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_TCP:
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.tcp = tcp_new_ip_type(iptype);
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 661:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 22


 662:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Unsupported netconn type, e.g. protocol disabled */
 665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_VAL;
 666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
 667:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.ip == NULL) {
 488              		.loc 1 668 3 is_stmt 1 view .LVU126
 489              		.loc 1 668 10 is_stmt 0 view .LVU127
 490 0046 2368     		ldr	r3, [r4]
 491              		.loc 1 668 21 view .LVU128
 492 0048 5B68     		ldr	r3, [r3, #4]
 493              		.loc 1 668 6 view .LVU129
 494 004a 8BB1     		cbz	r3, .L47
 495              	.L38:
 669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_MEM;
 670:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 671:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 496              		.loc 1 671 1 view .LVU130
 497 004c 38BD     		pop	{r3, r4, r5, pc}
 498              	.LVL53:
 499              	.L46:
 649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 500              		.loc 1 649 11 is_stmt 1 view .LVU131
 501 004e 0123     		movs	r3, #1
 502 0050 1374     		strb	r3, [r2, #16]
 503 0052 F3E7     		b	.L43
 504              	.L40:
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 505              		.loc 1 657 7 view .LVU132
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 506              		.loc 1 657 28 is_stmt 0 view .LVU133
 507 0054 0020     		movs	r0, #0
 508 0056 FFF7FEFF 		bl	tcp_new_ip_type
 509              	.LVL54:
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->pcb.tcp != NULL) {
 510              		.loc 1 657 26 view .LVU134
 511 005a 6860     		str	r0, [r5, #4]
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 512              		.loc 1 658 7 is_stmt 1 view .LVU135
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 513              		.loc 1 658 14 is_stmt 0 view .LVU136
 514 005c 2068     		ldr	r0, [r4]
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 515              		.loc 1 658 25 view .LVU137
 516 005e 4368     		ldr	r3, [r0, #4]
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
 517              		.loc 1 658 10 view .LVU138
 518 0060 002B     		cmp	r3, #0
 519 0062 F0D0     		beq	.L42
 659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 520              		.loc 1 659 9 is_stmt 1 view .LVU139
 521 0064 FFF7FEFF 		bl	setup_tcp
 522              	.LVL55:
 523 0068 EDE7     		b	.L42
 524              	.L41:
 665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 23


 525              		.loc 1 665 7 view .LVU140
 665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
 526              		.loc 1 665 16 is_stmt 0 view .LVU141
 527 006a FA23     		movs	r3, #250
 528 006c 2371     		strb	r3, [r4, #4]
 666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 529              		.loc 1 666 7 is_stmt 1 view .LVU142
 530 006e EDE7     		b	.L38
 531              	.L47:
 669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 532              		.loc 1 669 5 view .LVU143
 669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 533              		.loc 1 669 14 is_stmt 0 view .LVU144
 534 0070 FF23     		movs	r3, #255
 535 0072 2371     		strb	r3, [r4, #4]
 536 0074 EAE7     		b	.L38
 537              	.L49:
 538 0076 00BF     		.align	2
 539              	.L48:
 540 0078 00000000 		.word	.LC0
 541 007c 00000000 		.word	.LC6
 542 0080 40000000 		.word	.LC2
 543 0084 00000000 		.word	recv_udp
 544              		.cfi_endproc
 545              	.LFE373:
 547              		.section	.rodata.err_tcp.str1.4,"aMS",%progbits,1
 548              		.align	2
 549              	.LC7:
 550 0000 636F6E6E 		.ascii	"conn != NULL\000"
 550      20213D20 
 550      4E554C4C 
 550      00
 551 000d 000000   		.align	2
 552              	.LC8:
 553 0010 636F6E6E 		.ascii	"conn->current_msg != NULL\000"
 553      2D3E6375 
 553      7272656E 
 553      745F6D73 
 553      6720213D 
 554 002a 0000     		.align	2
 555              	.LC9:
 556 002c 696E6176 		.ascii	"inavlid op_completed_sem\000"
 556      6C696420 
 556      6F705F63 
 556      6F6D706C 
 556      65746564 
 557 0045 000000   		.align	2
 558              	.LC10:
 559 0048 636F6E6E 		.ascii	"conn->current_msg == NULL\000"
 559      2D3E6375 
 559      7272656E 
 559      745F6D73 
 559      67203D3D 
 560              		.section	.text.err_tcp,"ax",%progbits
 561              		.align	1
 562              		.syntax unified
 563              		.thumb
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 24


 564              		.thumb_func
 566              	err_tcp:
 567              	.LVL56:
 568              	.LFB370:
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 569              		.loc 1 433 1 is_stmt 1 view -0
 570              		.cfi_startproc
 571              		@ args = 0, pretend = 0, frame = 0
 572              		@ frame_needed = 0, uses_anonymous_args = 0
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 573              		.loc 1 433 1 is_stmt 0 view .LVU146
 574 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 575              	.LCFI5:
 576              		.cfi_def_cfa_offset 24
 577              		.cfi_offset 4, -24
 578              		.cfi_offset 5, -20
 579              		.cfi_offset 6, -16
 580              		.cfi_offset 7, -12
 581              		.cfi_offset 8, -8
 582              		.cfi_offset 14, -4
 583 0004 0D46     		mov	r5, r1
 434:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state old_state;
 584              		.loc 1 434 3 is_stmt 1 view .LVU147
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mbox_msg;
 585              		.loc 1 435 3 view .LVU148
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_DECL_PROTECT(lev);
 586              		.loc 1 436 3 view .LVU149
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 587              		.loc 1 437 3 view .LVU150
 439:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 588              		.loc 1 439 3 view .LVU151
 589              	.LVL57:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 590              		.loc 1 440 3 view .LVU152
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 591              		.loc 1 440 3 view .LVU153
 592 0006 0446     		mov	r4, r0
 593 0008 0028     		cmp	r0, #0
 594 000a 3ED0     		beq	.L65
 595              	.LVL58:
 596              	.L51:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 597              		.loc 1 440 3 discriminator 3 view .LVU154
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 598              		.loc 1 440 3 discriminator 3 view .LVU155
 442:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 599              		.loc 1 442 3 discriminator 3 view .LVU156
 600 000c FFF7FEFF 		bl	sys_arch_protect
 601              	.LVL59:
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* store pending error */
 602              		.loc 1 445 3 discriminator 3 view .LVU157
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* store pending error */
 603              		.loc 1 445 17 is_stmt 0 discriminator 3 view .LVU158
 604 0010 0022     		movs	r2, #0
 605 0012 6260     		str	r2, [r4, #4]
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 606              		.loc 1 447 3 is_stmt 1 discriminator 3 view .LVU159
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 25


 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* prevent application threads from blocking on 'recvmbox'/'acceptmbox' */
 607              		.loc 1 447 21 is_stmt 0 discriminator 3 view .LVU160
 608 0014 2572     		strb	r5, [r4, #8]
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 609              		.loc 1 449 3 is_stmt 1 discriminator 3 view .LVU161
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 610              		.loc 1 449 15 is_stmt 0 discriminator 3 view .LVU162
 611 0016 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 612 0018 43F00103 		orr	r3, r3, #1
 613 001c 2377     		strb	r3, [r4, #28]
 452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 614              		.loc 1 452 3 is_stmt 1 discriminator 3 view .LVU163
 452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 615              		.loc 1 452 13 is_stmt 0 discriminator 3 view .LVU164
 616 001e 6678     		ldrb	r6, [r4, #1]	@ zero_extendqisi2
 617              	.LVL60:
 453:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 618              		.loc 1 453 3 is_stmt 1 discriminator 3 view .LVU165
 453:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 619              		.loc 1 453 15 is_stmt 0 discriminator 3 view .LVU166
 620 0020 6270     		strb	r2, [r4, #1]
 455:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 621              		.loc 1 455 3 is_stmt 1 discriminator 3 view .LVU167
 622 0022 FFF7FEFF 		bl	sys_arch_unprotect
 623              	.LVL61:
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 624              		.loc 1 458 3 discriminator 3 view .LVU168
 625 0026 636A     		ldr	r3, [r4, #36]
 626 0028 1BB1     		cbz	r3, .L52
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 627              		.loc 1 458 3 discriminator 1 view .LVU169
 628 002a 0022     		movs	r2, #0
 629 002c 0421     		movs	r1, #4
 630 002e 2046     		mov	r0, r4
 631 0030 9847     		blx	r3
 632              	.LVL62:
 633              	.L52:
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 634              		.loc 1 458 40 discriminator 3 view .LVU170
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 635              		.loc 1 461 3 discriminator 3 view .LVU171
 636 0032 636A     		ldr	r3, [r4, #36]
 637 0034 1BB1     		cbz	r3, .L53
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 638              		.loc 1 461 3 discriminator 1 view .LVU172
 639 0036 0022     		movs	r2, #0
 640 0038 1146     		mov	r1, r2
 641 003a 2046     		mov	r0, r4
 642 003c 9847     		blx	r3
 643              	.LVL63:
 644              	.L53:
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 645              		.loc 1 461 42 discriminator 3 view .LVU173
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 646              		.loc 1 462 3 discriminator 3 view .LVU174
 647 003e 636A     		ldr	r3, [r4, #36]
 648 0040 1BB1     		cbz	r3, .L54
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 26


 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 649              		.loc 1 462 3 discriminator 1 view .LVU175
 650 0042 0022     		movs	r2, #0
 651 0044 0221     		movs	r1, #2
 652 0046 2046     		mov	r0, r4
 653 0048 9847     		blx	r3
 654              	.LVL64:
 655              	.L54:
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 656              		.loc 1 462 43 discriminator 3 view .LVU176
 464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
 657              		.loc 1 464 3 discriminator 3 view .LVU177
 464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass error message to recvmbox to wake up pending recv */
 658              		.loc 1 464 14 is_stmt 0 discriminator 3 view .LVU178
 659 004a 2846     		mov	r0, r5
 660 004c FFF7FEFF 		bl	lwip_netconn_err_to_msg
 661              	.LVL65:
 662 0050 0746     		mov	r7, r0
 663              	.LVL66:
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 664              		.loc 1 466 3 is_stmt 1 discriminator 3 view .LVU179
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 665              		.loc 1 466 7 is_stmt 0 discriminator 3 view .LVU180
 666 0052 04F11008 		add	r8, r4, #16
 667 0056 4046     		mov	r0, r8
 668              	.LVL67:
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 669              		.loc 1 466 7 discriminator 3 view .LVU181
 670 0058 FFF7FEFF 		bl	sys_mbox_valid
 671              	.LVL68:
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 672              		.loc 1 466 6 discriminator 3 view .LVU182
 673 005c E8B9     		cbnz	r0, .L66
 674              	.L55:
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 675              		.loc 1 471 3 is_stmt 1 view .LVU183
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 676              		.loc 1 471 7 is_stmt 0 view .LVU184
 677 005e 04F11408 		add	r8, r4, #20
 678 0062 4046     		mov	r0, r8
 679 0064 FFF7FEFF 		bl	sys_mbox_valid
 680              	.LVL69:
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 681              		.loc 1 471 6 view .LVU185
 682 0068 E0B9     		cbnz	r0, .L67
 683              	.L56:
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 684              		.loc 1 476 3 is_stmt 1 view .LVU186
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 685              		.loc 1 476 6 is_stmt 0 view .LVU187
 686 006a 042E     		cmp	r6, #4
 687 006c 18BF     		it	ne
 688 006e 012E     		cmpne	r6, #1
 689 0070 1DD0     		beq	.L57
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 690              		.loc 1 476 68 discriminator 1 view .LVU188
 691 0072 032E     		cmp	r6, #3
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 27


 692 0074 1BD0     		beq	.L57
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 693              		.loc 1 503 5 is_stmt 1 view .LVU189
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 694              		.loc 1 503 5 view .LVU190
 695 0076 236A     		ldr	r3, [r4, #32]
 696 0078 93B3     		cbz	r3, .L50
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 697              		.loc 1 503 5 discriminator 1 view .LVU191
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 698              		.loc 1 503 5 discriminator 1 view .LVU192
 699 007a 244B     		ldr	r3, .L71
 700 007c 40F2F712 		movw	r2, #503
 701 0080 2349     		ldr	r1, .L71+4
 702 0082 2448     		ldr	r0, .L71+8
 703 0084 FFF7FEFF 		bl	printf
 704              	.LVL70:
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 705              		.loc 1 503 5 discriminator 1 view .LVU193
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 706              		.loc 1 503 5 discriminator 1 view .LVU194
 505:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 707              		.loc 1 505 1 is_stmt 0 discriminator 1 view .LVU195
 708 0088 2AE0     		b	.L50
 709              	.LVL71:
 710              	.L65:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 711              		.loc 1 440 3 is_stmt 1 discriminator 1 view .LVU196
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 712              		.loc 1 440 3 discriminator 1 view .LVU197
 713 008a 204B     		ldr	r3, .L71
 714 008c 4FF4DC72 		mov	r2, #440
 715 0090 2149     		ldr	r1, .L71+12
 716              	.LVL72:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 717              		.loc 1 440 3 is_stmt 0 discriminator 1 view .LVU198
 718 0092 2048     		ldr	r0, .L71+8
 719              	.LVL73:
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 720              		.loc 1 440 3 discriminator 1 view .LVU199
 721 0094 FFF7FEFF 		bl	printf
 722              	.LVL74:
 723 0098 B8E7     		b	.L51
 724              	.LVL75:
 725              	.L66:
 468:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 726              		.loc 1 468 5 is_stmt 1 view .LVU200
 727 009a 3946     		mov	r1, r7
 728 009c 4046     		mov	r0, r8
 729 009e FFF7FEFF 		bl	sys_mbox_trypost
 730              	.LVL76:
 731 00a2 DCE7     		b	.L55
 732              	.L67:
 473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 733              		.loc 1 473 5 view .LVU201
 734 00a4 3946     		mov	r1, r7
 735 00a6 4046     		mov	r0, r8
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 28


 736 00a8 FFF7FEFF 		bl	sys_mbox_trypost
 737              	.LVL77:
 738 00ac DDE7     		b	.L56
 739              	.L57:
 740              	.LBB2:
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 741              		.loc 1 480 5 view .LVU202
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 742              		.loc 1 480 35 is_stmt 0 view .LVU203
 743 00ae 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 744              	.LVL78:
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 745              		.loc 1 481 5 is_stmt 1 view .LVU204
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 746              		.loc 1 481 5 view .LVU205
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 747              		.loc 1 481 5 view .LVU206
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 748              		.loc 1 481 5 view .LVU207
 749 00b0 03F0FB02 		and	r2, r3, #251
 750 00b4 2277     		strb	r2, [r4, #28]
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 751              		.loc 1 481 5 view .LVU208
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 752              		.loc 1 481 5 view .LVU209
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 753              		.loc 1 483 5 view .LVU210
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
 754              		.loc 1 483 8 is_stmt 0 view .LVU211
 755 00b6 13F0040F 		tst	r3, #4
 756 00ba 11D1     		bne	.L50
 757              	.LBB3:
 484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* set error return code */
 758              		.loc 1 484 7 is_stmt 1 view .LVU212
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 759              		.loc 1 486 7 view .LVU213
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 760              		.loc 1 486 7 view .LVU214
 761 00bc 236A     		ldr	r3, [r4, #32]
 762              	.LVL79:
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 763              		.loc 1 486 7 is_stmt 0 view .LVU215
 764 00be 8BB1     		cbz	r3, .L68
 765              	.L60:
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 766              		.loc 1 486 7 is_stmt 1 discriminator 3 view .LVU216
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 767              		.loc 1 486 7 discriminator 3 view .LVU217
 487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 768              		.loc 1 487 7 discriminator 3 view .LVU218
 487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* let close succeed: the connection is closed after all... */
 769              		.loc 1 487 10 is_stmt 0 discriminator 3 view .LVU219
 770 00c0 042E     		cmp	r6, #4
 771 00c2 17D0     		beq	.L69
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 772              		.loc 1 492 9 is_stmt 1 view .LVU220
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 29


 773              		.loc 1 492 13 is_stmt 0 view .LVU221
 774 00c4 236A     		ldr	r3, [r4, #32]
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 775              		.loc 1 492 32 view .LVU222
 776 00c6 1D71     		strb	r5, [r3, #4]
 777              	.L62:
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 778              		.loc 1 494 7 is_stmt 1 view .LVU223
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 779              		.loc 1 494 26 is_stmt 0 view .LVU224
 780 00c8 236A     		ldr	r3, [r4, #32]
 781 00ca 1D68     		ldr	r5, [r3]
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 782              		.loc 1 494 24 view .LVU225
 783 00cc 0C35     		adds	r5, r5, #12
 784              	.LVL80:
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 785              		.loc 1 495 7 is_stmt 1 view .LVU226
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 786              		.loc 1 495 7 view .LVU227
 787 00ce 2846     		mov	r0, r5
 788 00d0 FFF7FEFF 		bl	sys_sem_valid
 789              	.LVL81:
 790 00d4 90B1     		cbz	r0, .L70
 791              	.L63:
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 792              		.loc 1 495 7 discriminator 3 view .LVU228
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 793              		.loc 1 495 7 discriminator 3 view .LVU229
 496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 794              		.loc 1 496 7 discriminator 3 view .LVU230
 496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 795              		.loc 1 496 25 is_stmt 0 discriminator 3 view .LVU231
 796 00d6 0023     		movs	r3, #0
 797 00d8 2362     		str	r3, [r4, #32]
 498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 798              		.loc 1 498 7 is_stmt 1 discriminator 3 view .LVU232
 799 00da 2846     		mov	r0, r5
 800 00dc FFF7FEFF 		bl	sys_sem_signal
 801              	.LVL82:
 802              	.L50:
 498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 803              		.loc 1 498 7 is_stmt 0 discriminator 3 view .LVU233
 804              	.LBE3:
 805              	.LBE2:
 505:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 806              		.loc 1 505 1 view .LVU234
 807 00e0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 808              	.LVL83:
 809              	.L68:
 810              	.LBB5:
 811              	.LBB4:
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 812              		.loc 1 486 7 is_stmt 1 discriminator 1 view .LVU235
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (old_state == NETCONN_CLOSE) {
 813              		.loc 1 486 7 discriminator 1 view .LVU236
 814 00e4 094B     		ldr	r3, .L71
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 30


 815 00e6 4FF4F372 		mov	r2, #486
 816 00ea 0C49     		ldr	r1, .L71+16
 817 00ec 0948     		ldr	r0, .L71+8
 818 00ee FFF7FEFF 		bl	printf
 819              	.LVL84:
 820 00f2 E5E7     		b	.L60
 821              	.L69:
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 822              		.loc 1 489 9 view .LVU237
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 823              		.loc 1 489 13 is_stmt 0 view .LVU238
 824 00f4 236A     		ldr	r3, [r4, #32]
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 825              		.loc 1 489 32 view .LVU239
 826 00f6 0022     		movs	r2, #0
 827 00f8 1A71     		strb	r2, [r3, #4]
 828 00fa E5E7     		b	.L62
 829              	.LVL85:
 830              	.L70:
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 831              		.loc 1 495 7 is_stmt 1 discriminator 1 view .LVU240
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 832              		.loc 1 495 7 discriminator 1 view .LVU241
 833 00fc 034B     		ldr	r3, .L71
 834 00fe 40F2EF12 		movw	r2, #495
 835 0102 0749     		ldr	r1, .L71+20
 836 0104 0348     		ldr	r0, .L71+8
 837 0106 FFF7FEFF 		bl	printf
 838              	.LVL86:
 839 010a E4E7     		b	.L63
 840              	.L72:
 841              		.align	2
 842              	.L71:
 843 010c 00000000 		.word	.LC0
 844 0110 48000000 		.word	.LC10
 845 0114 40000000 		.word	.LC2
 846 0118 00000000 		.word	.LC7
 847 011c 10000000 		.word	.LC8
 848 0120 2C000000 		.word	.LC9
 849              	.LBE4:
 850              	.LBE5:
 851              		.cfi_endproc
 852              	.LFE370:
 854              		.section	.rodata.lwip_netconn_do_connected.str1.4,"aMS",%progbits,1
 855              		.align	2
 856              	.LC11:
 857 0000 636F6E6E 		.ascii	"conn->state == NETCONN_CONNECT\000"
 857      2D3E7374 
 857      61746520 
 857      3D3D204E 
 857      4554434F 
 858 001f 00       		.align	2
 859              	.LC12:
 860 0020 28636F6E 		.ascii	"(conn->current_msg != NULL) || conn->in_non_blockin"
 860      6E2D3E63 
 860      75727265 
 860      6E745F6D 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 31


 860      73672021 
 861 0053 675F636F 		.ascii	"g_connect\000"
 861      6E6E6563 
 861      7400
 862 005d 000000   		.align	2
 863              	.LC13:
 864 0060 626C6F63 		.ascii	"blocking connect state error\000"
 864      6B696E67 
 864      20636F6E 
 864      6E656374 
 864      20737461 
 865              		.section	.text.lwip_netconn_do_connected,"ax",%progbits
 866              		.align	1
 867              		.syntax unified
 868              		.thumb
 869              		.thumb_func
 871              	lwip_netconn_do_connected:
 872              	.LVL87:
 873              	.LFB382:
 672:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 673:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 674:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new pcb of a specific type inside a netconn.
 675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_new_with_proto_and_callback.
 676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg describing the connection type
 678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 679:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_newconn(void *m)
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 682:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 683:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 687:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Else? This "new" connection already has a PCB allocated. */
 689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Is this an error condition? Should it be deleted? */
 690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* We currently just are happy and return. */
 691:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 694:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 695:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new netconn (of a specific type) that has a callback function.
 697:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The corresponding pcb is NOT created!
 698:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param t the type of 'connection' to create (@see enum netconn_type)
 700:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param callback a function to call on status changes (RX available, TX'ed)
 701:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @return a newly allocated struct netconn or
 702:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *         NULL on memory error
 703:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 704:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** struct netconn *
 705:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_alloc(enum netconn_type t, netconn_callback callback)
 706:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int size;
 709:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t init_flags = 0;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 32


 710:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)memp_malloc(MEMP_NETCONN);
 712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 715:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pending_err = ERR_OK;
 717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 719:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* If all sizes are the same, every compiler should optimize this switch to nothing */
 721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch (NETCONNTYPE_GROUP(t)) {
 722:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_RAW:
 724:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size = DEFAULT_RAW_RECVMBOX_SIZE;
 725:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 726:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
 727:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 728:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_UDP:
 729:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size = DEFAULT_UDP_RECVMBOX_SIZE;
 730:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETBUF_RECVINFO
 731:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       init_flags |= NETCONN_FLAG_PKTINFO;
 732:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETBUF_RECVINFO */
 733:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 734:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 735:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_TCP:
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size = DEFAULT_TCP_RECVMBOX_SIZE;
 738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 739:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("netconn_alloc: undefined netconn_type", 0);
 742:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 743:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 744:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_new(&conn->recvmbox, size) != ERR_OK) {
 746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 748:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_sem_new(&conn->op_completed, 0) != ERR_OK) {
 750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 753:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 754:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 755:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 756:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_mbox_set_invalid(&conn->acceptmbox);
 757:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state        = NETCONN_NONE;
 759:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 760:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* initialize socket to -1 since 0 is a valid socket */
 761:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->socket       = -1;
 762:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->callback     = callback;
 764:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->current_msg  = NULL;
 766:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 33


 767:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
 768:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->send_timeout = 0;
 769:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
 770:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVTIMEO
 771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_timeout = 0;
 772:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVTIMEO */
 773:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_bufsize = RECV_BUFSIZE_DEFAULT;
 775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_avail   = 0;
 776:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 777:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->linger = -1;
 779:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags = init_flags;
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 782:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return NULL;
 785:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 786:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 787:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete a netconn and all its resources.
 789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The pcb is NOT freed (since we might not be in the right thread context do this).
 790:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 791:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the netconn to free
 792:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 793:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
 794:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_free(struct netconn *conn)
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 797:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 798:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* in fullduplex, netconn is drained here */
 800:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netconn_drain(conn);
 801:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 802:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 804:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 805:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("acceptmbox must be deallocated before calling this function",
 807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 808:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 809:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 810:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_free(&conn->op_completed);
 812:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 813:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 817:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 818:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete rcvmbox and acceptmbox of a netconn and free the left-over data in
 820:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * these mboxes
 821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 822:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the netconn to free
 823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @bytes_drained bytes drained from recvmbox
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 34


 824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @accepts_drained pending connections drained from acceptmbox
 825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 826:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 827:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_drain(struct netconn *conn)
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 830:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* This runs when mbox and netconn are marked as closed,
 832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      so we don't need to lock against rx packets */
 833:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn marked closed", conn->flags & NETCONN_FLAG_MBOXINVALID);
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Delete and drain the recvmbox. */
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->recvmbox)) {
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 840:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (!lwip_netconn_is_deallocated_msg(mem))
 842:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       {
 844:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) {
 846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!lwip_netconn_is_err_msg(mem, &err)) {
 848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 849:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 850:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else
 851:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 852:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         {
 853:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           netbuf_delete((struct netbuf *)mem);
 854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 855:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 856:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 858:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 859:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 860:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 861:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Delete and drain the acceptmbox. */
 862:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->acceptmbox)) {
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 865:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 866:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (!lwip_netconn_is_deallocated_msg(mem))
 867:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 868:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       {
 869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err_t err;
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (!lwip_netconn_is_err_msg(mem, &err)) {
 871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* pcb might be set to NULL already by err_tcp() */
 874:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* drain recvmbox */
 875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           netconn_drain(newconn);
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (newconn->pcb.tcp != NULL) {
 877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             newconn->pcb.tcp = NULL;
 879:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           netconn_free(newconn);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 35


 881:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 882:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 883:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->acceptmbox);
 885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 886:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 887:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 888:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 889:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 890:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 891:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 892:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_mark_mbox_invalid(struct netconn *conn)
 893:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 894:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int i, num_waiting;
 895:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *msg = LWIP_CONST_CAST(void *, &netconn_deleted);
 896:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Prevent new calls/threads from reading from the mbox */
 898:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags |= NETCONN_FLAG_MBOXINVALID;
 899:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_LOCKED(num_waiting = conn->mbox_threads_waiting);
 901:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   for (i = 0; i < num_waiting; i++) {
 902:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_valid_val(conn->recvmbox)) {
 903:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_mbox_trypost(&conn->recvmbox, msg);
 904:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 905:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_mbox_trypost(&conn->acceptmbox, msg);
 906:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 908:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 909:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 910:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 911:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 912:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 913:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Internal helper function to close a TCP netconn: since this sometimes
 914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * doesn't work at the first attempt, this function is called from multiple
 915:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * places.
 916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 917:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the TCP netconn to close
 918:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 919:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 920:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM)
 921:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t shut, shut_rx, shut_tx, shut_close;
 924:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t close_finished = 0;
 925:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *tpcb;
 926:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 927:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t linger_wait_required = 0;
 928:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 929:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("invalid conn", (conn != NULL));
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 935:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tpcb = conn->pcb.tcp;
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 36


 938:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 940:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 941:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      (also if RD or WR side was shut down before already) */
 942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut == NETCONN_SHUT_RDWR) {
 943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_rx &&
 945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 947:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_tx && ((tpcb->flags & TF_RXCLOSED) != 0)) {
 950:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 951:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 0;
 953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 954:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 955:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Set back some callback pointers */
 956:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut_close) {
 957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, NULL);
 958:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (tpcb->state == LISTEN) {
 960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 961:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 962:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* some callbacks have to be reset if tcp_close is not successful */
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_rx) {
 964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 969:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_close) {
 971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 972:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_err(tpcb, NULL);
 973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 974:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to close the connection */
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut_close) {
 977:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* check linger possibilites before calling tcp_close */
 979:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 980:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* linger enabled/required at all? (i.e. is there untransmitted data left?) */
 981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->linger >= 0) && (conn->pcb.tcp->unsent || conn->pcb.tcp->unacked)) {
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->linger == 0)) {
 983:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* data left but linger prevents waiting */
 984:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_abort(tpcb);
 985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tpcb = NULL;
 986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (conn->linger > 0) {
 987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* data left and linger says we should wait */
 988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (netconn_is_nonblocking(conn)) {
 989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left on a nonblocking netconn -> cannot linger */
 990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_WOULDBLOCK;
 991:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >=
 992:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    (conn->linger * 1000)) {
 993:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left but linger timeout has expired (this happens on further
 994:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              calls to this function through poll_tcp */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 37


 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(tpcb);
 996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tpcb = NULL;
 997:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 998:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left -> need to wait for ACK after successful close */
 999:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           linger_wait_required = 1;
1000:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1001:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1002:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1003:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((err == ERR_OK) && (tpcb != NULL))
1004:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
1005:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = tcp_close(tpcb);
1007:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1008:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_shutdown(tpcb, shut_rx, shut_tx);
1010:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1011:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
1012:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
1013:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
1014:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (linger_wait_required) {
1015:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wait for ACK of all unsent/unacked data by just getting called again */
1016:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       close_finished = 0;
1017:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_INPROGRESS;
1018:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1019:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
1020:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_MEM) {
1022:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
1023:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          nonblocking netconns, we have to wait since no standard socket application
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          is prepared for close failing because of resource shortage.
1025:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          Check the timeout: this is kind of an lwip addition to the standard sockets:
1026:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          we wait for some time when failing to allocate a segment for the FIN */
1027:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO || LWIP_SO_LINGER
1028:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       s32_t close_timeout = LWIP_TCP_CLOSE_TIMEOUT_MS_DEFAULT;
1029:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
1030:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->send_timeout > 0) {
1031:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_timeout = conn->send_timeout;
1032:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1033:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
1034:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
1035:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->linger >= 0) {
1036:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* use linger timeout (seconds) */
1037:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_timeout = conn->linger * 1000U;
1038:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1039:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1040:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >= close_timeout) {
1041:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->current_msg->msg.sd.polls_left == 0) {
1043:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_finished = 1;
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (shut_close) {
1046:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
1047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(tpcb);
1048:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_OK;
1049:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1050:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1051:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 38


1052:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed for a non-memory error: give up */
1053:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       close_finished = 1;
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1055:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (close_finished) {
1057:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_t *op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
1059:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
1061:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
1063:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_close) {
1064:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
1065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->pcb.tcp = NULL;
1066:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
1067:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          on the connection, error first! */
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_ERROR, 0);
1069:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_rx) {
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
1072:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1073:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_tx) {
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
1075:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1077:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (delayed)
1079:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1080:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1081:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the application task */
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_OK;
1085:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1086:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!close_finished) {
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing failed and we want to wait: restore some of the callbacks */
1088:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing of listen pcb will never fail! */
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("Closing a listen pcb may not fail!", (tpcb->state != LISTEN));
1090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
1091:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
1092:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1093:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* when waiting for close, set up poll interval to 500ms */
1094:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(tpcb, poll_tcp, 1);
1095:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
1096:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, conn);
1097:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
1098:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1099:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* If closing didn't succeed, we get called again either
1100:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      from poll_tcp or from sent_tcp */
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK", err != ERR_OK);
1102:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
1103:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1104:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1105:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1106:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1107:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete the pcb inside a netconn.
1108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_delete.
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 39


1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1110:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1111:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1112:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1113:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_delconn(void *m)
1114:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1115:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1116:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
1119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
1120:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* In full duplex mode, blocking write/connect is aborted with ERR_CLSD */
1122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (state != NETCONN_NONE) {
1123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((state == NETCONN_WRITE) ||
1124:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* close requested, abort running write/connect */
1126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t *op_completed_sem;
1127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1128:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg->err = ERR_CLSD;
1130:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = NULL;
1131:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_NONE;
1132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1134:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1135:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (((state != NETCONN_NONE) &&
1137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
1138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
1141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (nonblocking write returns and sets state to NONE) */
1142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_INPROGRESS;
1143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1144:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1145:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("blocking connect in progress",
1147:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
1148:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
1149:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1150:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Mark mboxes invalid */
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_mark_mbox_invalid(msg->conn);
1152:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1153:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_drain(msg->conn);
1154:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1155:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1157:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1159:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_RAW:
1161:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           raw_remove(msg->conn->pcb.raw);
1162:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1163:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1164:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1165:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_UDP:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 40


1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->pcb.udp->recv_arg = NULL;
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
1168:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1169:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1170:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1171:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_TCP:
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
1174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->current_msg = msg;
1176:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
1179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
1183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1184:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1185:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           lwip_netconn_do_close_internal(msg->conn);
1186:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1187:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* API_EVENT is called inside lwip_netconn_do_close_internal, before releasing
1188:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              the application thread, so we can return at this point! */
1189:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           return;
1190:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1191:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         default:
1192:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1193:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.tcp = NULL;
1195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1196:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* tcp netconns don't come here! */
1197:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1198:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* @todo: this lets select make the socket readable and writable,
1199:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        which is wrong! errfd instead? */
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_RCVPLUS, 0);
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
1202:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_sem_valid(LWIP_API_MSG_SEM(msg))) {
1204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
1205:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1206:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1207:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1208:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1209:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Bind a pcb contained in a netconn
1210:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_bind.
1211:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1212:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to bind to
1214:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1215:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1216:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_bind(void *m)
1217:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1218:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1219:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 41


1223:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1224:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1225:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = raw_bind(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1226:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1227:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1228:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = udp_bind(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
1231:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1232:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1233:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = tcp_bind(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
1236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1237:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1238:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1239:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_VAL;
1240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1241:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_VAL;
1244:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1246:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1248:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Bind a pcb contained in a netconn to an interface
1250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_bind_if.
1251:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1252:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to bind to
1254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1255:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1256:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_bind_if(void *m)
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netif *netif;
1259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1260:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1261:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   netif = netif_get_by_index(msg->msg.bc.if_idx);
1263:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((netif != NULL) && (msg->conn->pcb.tcp != NULL)) {
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1267:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1268:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1269:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         raw_bind_netif(msg->conn->pcb.raw, netif);
1270:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1271:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_bind_netif(msg->conn->pcb.udp, netif);
1275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1276:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1277:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1278:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_bind_netif(msg->conn->pcb.tcp, netif);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 42


1280:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1281:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1282:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1283:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_VAL;
1284:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1285:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1286:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_VAL;
1288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1291:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1292:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1293:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1294:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * TCP callback function if a connection (opened by tcp_connect/lwip_netconn_do_connect) has
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * been established (or reset by the remote host).
1297:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1298:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.connected) for parameters and return values
1299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1300:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
1301:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_connected(void *arg, struct tcp_pcb *pcb, err_t err)
1302:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 874              		.loc 1 1302 1 view -0
 875              		.cfi_startproc
 876              		@ args = 0, pretend = 0, frame = 0
 877              		@ frame_needed = 0, uses_anonymous_args = 0
1303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 878              		.loc 1 1303 3 view .LVU243
1304:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int was_blocking;
 879              		.loc 1 1304 3 view .LVU244
1305:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_t *op_completed_sem = NULL;
 880              		.loc 1 1305 3 view .LVU245
1306:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 881              		.loc 1 1307 3 view .LVU246
1308:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1309:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 882              		.loc 1 1309 3 view .LVU247
1310:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 883              		.loc 1 1311 3 view .LVU248
 884              		.loc 1 1311 6 is_stmt 0 view .LVU249
 885 0000 0028     		cmp	r0, #0
 886 0002 5DD0     		beq	.L81
1302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 887              		.loc 1 1302 1 view .LVU250
 888 0004 70B5     		push	{r4, r5, r6, lr}
 889              	.LCFI6:
 890              		.cfi_def_cfa_offset 16
 891              		.cfi_offset 4, -16
 892              		.cfi_offset 5, -12
 893              		.cfi_offset 6, -8
 894              		.cfi_offset 14, -4
 895 0006 1646     		mov	r6, r2
 896 0008 0446     		mov	r4, r0
1312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 43


1313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1314:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_CONNECT", conn->state == NETCONN_CONNECT);
 897              		.loc 1 1315 3 is_stmt 1 view .LVU251
 898              		.loc 1 1315 3 view .LVU252
 899 000a 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 900 000c 032B     		cmp	r3, #3
 901 000e 30D1     		bne	.L87
 902              	.LVL88:
 903              	.L75:
 904              		.loc 1 1315 3 discriminator 3 view .LVU253
 905              		.loc 1 1315 3 discriminator 3 view .LVU254
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 906              		.loc 1 1316 3 discriminator 3 view .LVU255
 907              		.loc 1 1316 3 discriminator 3 view .LVU256
 908 0010 236A     		ldr	r3, [r4, #32]
 909 0012 002B     		cmp	r3, #0
 910 0014 35D0     		beq	.L88
 911              	.L76:
 912              		.loc 1 1316 3 discriminator 5 view .LVU257
 913              		.loc 1 1316 3 discriminator 5 view .LVU258
1317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
1318:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->current_msg != NULL) {
 914              		.loc 1 1319 3 discriminator 5 view .LVU259
 915              		.loc 1 1319 11 is_stmt 0 discriminator 5 view .LVU260
 916 0016 256A     		ldr	r5, [r4, #32]
 917              		.loc 1 1319 6 discriminator 5 view .LVU261
 918 0018 1DB1     		cbz	r5, .L77
1320:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 919              		.loc 1 1320 5 is_stmt 1 view .LVU262
 920              		.loc 1 1320 28 is_stmt 0 view .LVU263
 921 001a 2E71     		strb	r6, [r5, #4]
1321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 922              		.loc 1 1321 5 is_stmt 1 view .LVU264
 923              		.loc 1 1321 24 is_stmt 0 view .LVU265
 924 001c 236A     		ldr	r3, [r4, #32]
 925 001e 1D68     		ldr	r5, [r3]
 926              		.loc 1 1321 22 view .LVU266
 927 0020 0C35     		adds	r5, r5, #12
 928              	.LVL89:
 929              	.L77:
1322:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) && (err == ERR_OK)) {
 930              		.loc 1 1323 3 is_stmt 1 view .LVU267
 931              		.loc 1 1323 8 is_stmt 0 view .LVU268
 932 0022 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 933              		.loc 1 1323 6 view .LVU269
 934 0024 03F0F003 		and	r3, r3, #240
 935 0028 102B     		cmp	r3, #16
 936 002a 36D0     		beq	.L89
 937              	.L78:
1324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     setup_tcp(conn);
1325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1326:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   was_blocking = !IN_NONBLOCKING_CONNECT(conn);
 938              		.loc 1 1326 3 is_stmt 1 view .LVU270
 939              		.loc 1 1326 19 is_stmt 0 view .LVU271
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 44


 940 002c 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 941 002e 03F00406 		and	r6, r3, #4
 942              		.loc 1 1326 18 view .LVU272
 943 0032 002E     		cmp	r6, #0
 944 0034 0CBF     		ite	eq
 945 0036 0122     		moveq	r2, #1
 946 0038 0022     		movne	r2, #0
 947              	.LVL90:
1327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SET_NONBLOCKING_CONNECT(conn, 0);
 948              		.loc 1 1327 3 is_stmt 1 view .LVU273
 949              		.loc 1 1327 3 view .LVU274
 950              		.loc 1 1327 3 view .LVU275
 951              		.loc 1 1327 3 view .LVU276
 952 003a 03F0FB03 		and	r3, r3, #251
 953 003e 2377     		strb	r3, [r4, #28]
 954              		.loc 1 1327 3 view .LVU277
 955              		.loc 1 1327 3 view .LVU278
1328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("blocking connect state error",
 956              		.loc 1 1328 3 view .LVU279
 957              		.loc 1 1328 3 view .LVU280
 958 0040 14BF     		ite	ne
 959 0042 0123     		movne	r3, #1
 960 0044 0023     		moveq	r3, #0
 961 0046 002D     		cmp	r5, #0
 962 0048 08BF     		it	eq
 963 004a 43F00103 		orreq	r3, r3, #1
 964 004e 23B1     		cbz	r3, .L79
 965              		.loc 1 1328 3 is_stmt 0 discriminator 1 view .LVU281
 966 0050 002D     		cmp	r5, #0
 967 0052 18BF     		it	ne
 968 0054 42F00102 		orrne	r2, r2, #1
 969              	.LVL91:
 970              		.loc 1 1328 3 discriminator 1 view .LVU282
 971 0058 2ABB     		cbnz	r2, .L90
 972              	.L79:
 973              		.loc 1 1328 3 is_stmt 1 discriminator 5 view .LVU283
 974              		.loc 1 1328 3 discriminator 5 view .LVU284
1329:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (was_blocking && op_completed_sem != NULL) ||
1330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (!was_blocking && op_completed_sem == NULL));
1331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->current_msg = NULL;
 975              		.loc 1 1331 3 discriminator 5 view .LVU285
 976              		.loc 1 1331 21 is_stmt 0 discriminator 5 view .LVU286
 977 005a 0023     		movs	r3, #0
 978 005c 2362     		str	r3, [r4, #32]
1332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 979              		.loc 1 1332 3 is_stmt 1 discriminator 5 view .LVU287
 980              		.loc 1 1332 15 is_stmt 0 discriminator 5 view .LVU288
 981 005e 6370     		strb	r3, [r4, #1]
1333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 982              		.loc 1 1333 3 is_stmt 1 discriminator 5 view .LVU289
 983 0060 636A     		ldr	r3, [r4, #36]
 984 0062 1BB1     		cbz	r3, .L80
 985              		.loc 1 1333 3 discriminator 1 view .LVU290
 986 0064 0022     		movs	r2, #0
 987 0066 0221     		movs	r1, #2
 988 0068 2046     		mov	r0, r4
 989 006a 9847     		blx	r3
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 45


 990              	.LVL92:
 991              	.L80:
 992              		.loc 1 1333 43 discriminator 3 view .LVU291
1334:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1335:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (was_blocking) {
 993              		.loc 1 1335 3 discriminator 3 view .LVU292
 994              		.loc 1 1335 6 is_stmt 0 discriminator 3 view .LVU293
 995 006c 1EB3     		cbz	r6, .L91
1336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_signal(op_completed_sem);
1337:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1338:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 996              		.loc 1 1338 10 view .LVU294
 997 006e 0020     		movs	r0, #0
 998              	.L74:
1339:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 999              		.loc 1 1339 1 view .LVU295
 1000 0070 70BD     		pop	{r4, r5, r6, pc}
 1001              	.LVL93:
 1002              	.L87:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1003              		.loc 1 1315 3 is_stmt 1 discriminator 1 view .LVU296
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1004              		.loc 1 1315 3 discriminator 1 view .LVU297
 1005 0072 154B     		ldr	r3, .L92
 1006 0074 40F22352 		movw	r2, #1315
 1007              	.LVL94:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1008              		.loc 1 1315 3 is_stmt 0 discriminator 1 view .LVU298
 1009 0078 1449     		ldr	r1, .L92+4
 1010              	.LVL95:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1011              		.loc 1 1315 3 discriminator 1 view .LVU299
 1012 007a 1548     		ldr	r0, .L92+8
 1013              	.LVL96:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 1014              		.loc 1 1315 3 discriminator 1 view .LVU300
 1015 007c FFF7FEFF 		bl	printf
 1016              	.LVL97:
 1017 0080 C6E7     		b	.L75
 1018              	.L88:
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 1019              		.loc 1 1316 3 discriminator 1 view .LVU301
 1020 0082 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 1021 0084 13F0040F 		tst	r3, #4
 1022 0088 C5D1     		bne	.L76
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 1023              		.loc 1 1316 3 is_stmt 1 discriminator 3 view .LVU302
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 1024              		.loc 1 1316 3 discriminator 3 view .LVU303
 1025 008a 0F4B     		ldr	r3, .L92
 1026 008c 40F22452 		movw	r2, #1316
 1027 0090 1049     		ldr	r1, .L92+12
 1028 0092 0F48     		ldr	r0, .L92+8
 1029 0094 FFF7FEFF 		bl	printf
 1030              	.LVL98:
 1031 0098 BDE7     		b	.L76
 1032              	.LVL99:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 46


 1033              	.L89:
1323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     setup_tcp(conn);
 1034              		.loc 1 1323 54 is_stmt 0 discriminator 1 view .LVU304
 1035 009a 002E     		cmp	r6, #0
 1036 009c C6D1     		bne	.L78
1324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1037              		.loc 1 1324 5 is_stmt 1 view .LVU305
 1038 009e 2046     		mov	r0, r4
 1039 00a0 FFF7FEFF 		bl	setup_tcp
 1040              	.LVL100:
 1041 00a4 C2E7     		b	.L78
 1042              	.L90:
1328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (was_blocking && op_completed_sem != NULL) ||
 1043              		.loc 1 1328 3 discriminator 3 view .LVU306
1328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (was_blocking && op_completed_sem != NULL) ||
 1044              		.loc 1 1328 3 discriminator 3 view .LVU307
 1045 00a6 084B     		ldr	r3, .L92
 1046 00a8 4FF4A662 		mov	r2, #1328
 1047 00ac 0A49     		ldr	r1, .L92+16
 1048 00ae 0848     		ldr	r0, .L92+8
 1049 00b0 FFF7FEFF 		bl	printf
 1050              	.LVL101:
 1051 00b4 D1E7     		b	.L79
 1052              	.L91:
1336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1053              		.loc 1 1336 5 view .LVU308
 1054 00b6 2846     		mov	r0, r5
 1055 00b8 FFF7FEFF 		bl	sys_sem_signal
 1056              	.LVL102:
1338:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1057              		.loc 1 1338 10 is_stmt 0 view .LVU309
 1058 00bc 0020     		movs	r0, #0
 1059 00be D7E7     		b	.L74
 1060              	.LVL103:
 1061              	.L81:
 1062              	.LCFI7:
 1063              		.cfi_def_cfa_offset 0
 1064              		.cfi_restore 4
 1065              		.cfi_restore 5
 1066              		.cfi_restore 6
 1067              		.cfi_restore 14
1312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1068              		.loc 1 1312 12 view .LVU310
 1069 00c0 6FF00500 		mvn	r0, #5
 1070              	.LVL104:
 1071              		.loc 1 1339 1 view .LVU311
 1072 00c4 7047     		bx	lr
 1073              	.L93:
 1074 00c6 00BF     		.align	2
 1075              	.L92:
 1076 00c8 00000000 		.word	.LC0
 1077 00cc 00000000 		.word	.LC11
 1078 00d0 40000000 		.word	.LC2
 1079 00d4 20000000 		.word	.LC12
 1080 00d8 60000000 		.word	.LC13
 1081              		.cfi_endproc
 1082              	.LFE382:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 47


 1084              		.section	.rodata.lwip_netconn_do_writemore.str1.4,"aMS",%progbits,1
 1085              		.align	2
 1086              	.LC14:
 1087 0000 636F6E6E 		.ascii	"conn->state == NETCONN_WRITE\000"
 1087      2D3E7374 
 1087      61746520 
 1087      3D3D204E 
 1087      4554434F 
 1088 001d 000000   		.align	2
 1089              	.LC15:
 1090 0020 636F6E6E 		.ascii	"conn->pcb.tcp != NULL\000"
 1090      2D3E7063 
 1090      622E7463 
 1090      7020213D 
 1090      204E554C 
 1091 0036 0000     		.align	2
 1092              	.LC16:
 1093 0038 636F6E6E 		.ascii	"conn->current_msg->msg.w.offset < conn->current_msg"
 1093      2D3E6375 
 1093      7272656E 
 1093      745F6D73 
 1093      672D3E6D 
 1094 006b 2D3E6D73 		.ascii	"->msg.w.len\000"
 1094      672E772E 
 1094      6C656E00 
 1095 0077 00       		.align	2
 1096              	.LC17:
 1097 0078 636F6E6E 		.ascii	"conn->current_msg->msg.w.vector_cnt > 0\000"
 1097      2D3E6375 
 1097      7272656E 
 1097      745F6D73 
 1097      672D3E6D 
 1098              		.align	2
 1099              	.LC18:
 1100 00a0 6C776970 		.ascii	"lwip_netconn_do_writemore: invalid length!\000"
 1100      5F6E6574 
 1100      636F6E6E 
 1100      5F646F5F 
 1100      77726974 
 1101              		.section	.text.lwip_netconn_do_writemore,"ax",%progbits
 1102              		.align	1
 1103              		.syntax unified
 1104              		.thumb
 1105              		.thumb_func
 1107              	lwip_netconn_do_writemore:
 1108              	.LVL105:
 1109              	.LFB388:
1340:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1341:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1342:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1343:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Connect a pcb contained inside a netconn
1344:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_connect.
1345:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection and containing
1347:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to connect to
1348:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1349:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 48


1350:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_connect(void *m)
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1353:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1354:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
1356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
1357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_CLSD;
1358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1360:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = raw_connect(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1363:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1364:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1365:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = udp_connect(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port);
1368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1369:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1370:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1371:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Prevent connect while doing any other action. */
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->state == NETCONN_CONNECT) {
1374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if (msg->conn->state != NETCONN_NONE) {
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ISCONN;
1377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           setup_tcp(msg->conn);
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (err == ERR_OK) {
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = ERR_INPROGRESS;
1387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->current_msg = msg;
1389:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
1390:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  when the connection is established! */
1391:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state == NETCONN_CONNECT);
1393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
1397:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               return;
1399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1400:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1401:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1404:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ERROR("Invalid netconn type", 0, do {
1406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 49


1407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } while (0));
1408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1410:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
1412:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
1413:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      so use TCPIP_APIMSG_ACK() here. */
1414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1415:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1416:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1417:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1418:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Disconnect a pcb contained inside a netconn
1419:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Only used for UDP netconns.
1420:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_disconnect.
1421:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection to disconnect
1423:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1424:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1425:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_disconnect(void *m)
1426:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1427:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1428:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1429:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_UDP) {
1431:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
1432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
1433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1434:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_VAL;
1437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1439:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1440:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1441:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1442:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1443:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Set a TCP pcb contained in a netconn into listen mode
1444:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_listen.
1445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1446:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1448:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_listen(void *m)
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
1453:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
1457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->pcb.tcp->state != CLOSED) {
1459:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
1460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1462:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           u8_t backlog;
1463:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 50


1464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           backlog = msg->msg.lb.backlog;
1465:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else  /* TCP_LISTEN_BACKLOG */
1466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           backlog = TCP_DEFAULT_LISTEN_BACKLOG;
1467:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1468:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV4 && LWIP_IPV6
1469:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* "Socket API like" dual-stack support: If IP to listen to is IP6_ADDR_ANY,
1470:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             * and NETCONN_FLAG_IPV6_V6ONLY is NOT set, use IP_ANY_TYPE to listen
1471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             */
1472:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_cmp(&msg->conn->pcb.ip->local_ip, IP6_ADDR_ANY) &&
1473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (netconn_get_ipv6only(msg->conn) == 0)) {
1474:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* change PCB type to IPADDR_TYPE_ANY */
1475:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             IP_SET_TYPE_VAL(msg->conn->pcb.tcp->local_ip,  IPADDR_TYPE_ANY);
1476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             IP_SET_TYPE_VAL(msg->conn->pcb.tcp->remote_ip, IPADDR_TYPE_ANY);
1477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1478:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1479:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           lpcb = tcp_listen_with_backlog_and_err(msg->conn->pcb.tcp, backlog, &err);
1481:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1482:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (lpcb == NULL) {
1483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
1484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* delete the recvmbox and allocate the acceptmbox */
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (sys_mbox_valid(&msg->conn->recvmbox)) {
1487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_free(&msg->conn->recvmbox);
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
1490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = ERR_OK;
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
1494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (err == ERR_OK) {
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
1500:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
1501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* since the old pcb is already deallocated, free lpcb now */
1502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_close(lpcb);
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = NULL;
1504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1505:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1506:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->state == NETCONN_LISTEN) {
1508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* already listening, allow updating of the backlog */
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_OK;
1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
1511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_CONN;
1513:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1514:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_ARG;
1516:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1517:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_CONN;
1519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 51


1521:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1522:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1523:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1524:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1525:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1526:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Send some data on a RAW or UDP pcb contained in a netconn
1527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_send
1528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1529:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1531:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1532:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_send(void *m)
1533:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1535:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err = netconn_err(msg->conn);
1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1540:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_RAW:
1542:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = raw_send(msg->conn->pcb.raw, msg->msg.b->p);
1544:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1545:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = raw_sendto(msg->conn->pcb.raw, msg->msg.b->p, &msg->msg.b->addr);
1546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1548:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1549:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         case NETCONN_UDP:
1551:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_CHECKSUM_ON_COPY
1552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1553:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                   msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chksum
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1556:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_sendto_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1557:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                     &msg->msg.b->addr, msg->msg.b->port,
1558:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                                     msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chks
1559:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_CHECKSUM_ON_COPY */
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (ip_addr_isany_val(msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
1563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_sendto(msg->conn->pcb.udp, msg->msg.b->p, &msg->msg.b->addr, msg->msg.b->port
1565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1566:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1567:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1568:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         default:
1570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_CONN;
1571:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
1572:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_CONN;
1575:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 52


1578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1579:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1580:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1581:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1582:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Indicate data has been received from a TCP pcb contained in a netconn
1584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_recv
1585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1586:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1588:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1589:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_recv(void *m)
1590:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1592:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
1597:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         u16_t recved = (u16_t)((remaining > 0xffff) ? 0xffff : remaining);
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
1600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
1602:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1606:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1607:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1608:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /** Indicate that a TCP pcb has been accepted
1609:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_accept
1610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1611:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1612:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1613:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1614:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_accepted(void *m)
1615:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
1617:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1618:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
1619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1620:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1621:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_backlog_accepted(msg->conn->pcb.tcp);
1622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1624:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1625:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1626:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1628:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * See if more data needs to be written from a previous call to netconn_write.
1630:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called initially from lwip_netconn_do_write. If the first call can't send all data
1631:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * (because of low memory or empty send-buffer), this function is called again
1632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * from sent_tcp() or poll_tcp() to send more data. If all data is sent, the
1633:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * blocking application thread (waiting in netconn_write) is released.
1634:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 53


1635:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn netconn (that is currently in state NETCONN_WRITE) to process
1636:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @return ERR_OK
1637:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *         ERR_MEM if LWIP_TCPIP_CORE_LOCKING=1 and sending hasn't yet finished
1638:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1639:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
1640:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM)
1641:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 1110              		.loc 1 1641 1 is_stmt 1 view -0
 1111              		.cfi_startproc
 1112              		@ args = 0, pretend = 0, frame = 0
 1113              		@ frame_needed = 0, uses_anonymous_args = 0
 1114              		.loc 1 1641 1 is_stmt 0 view .LVU313
 1115 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1116              	.LCFI8:
 1117              		.cfi_def_cfa_offset 40
 1118              		.cfi_offset 3, -40
 1119              		.cfi_offset 4, -36
 1120              		.cfi_offset 5, -32
 1121              		.cfi_offset 6, -28
 1122              		.cfi_offset 7, -24
 1123              		.cfi_offset 8, -20
 1124              		.cfi_offset 9, -16
 1125              		.cfi_offset 10, -12
 1126              		.cfi_offset 11, -8
 1127              		.cfi_offset 14, -4
 1128 0004 8B46     		mov	fp, r1
1642:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 1129              		.loc 1 1642 3 is_stmt 1 view .LVU314
1643:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   const void *dataptr;
 1130              		.loc 1 1643 3 view .LVU315
1644:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len, available;
 1131              		.loc 1 1644 3 view .LVU316
1645:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t write_finished = 0;
 1132              		.loc 1 1645 3 view .LVU317
 1133              	.LVL106:
1646:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   size_t diff;
 1134              		.loc 1 1646 3 view .LVU318
1647:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t dontblock;
 1135              		.loc 1 1647 3 view .LVU319
1648:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t apiflags;
 1136              		.loc 1 1648 3 view .LVU320
1649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t write_more;
 1137              		.loc 1 1649 3 view .LVU321
1650:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", conn != NULL);
 1138              		.loc 1 1651 3 view .LVU322
 1139              		.loc 1 1651 3 view .LVU323
 1140 0006 0546     		mov	r5, r0
 1141 0008 E0B1     		cbz	r0, .L136
 1142              	.LVL107:
 1143              	.L95:
 1144              		.loc 1 1651 3 discriminator 3 view .LVU324
 1145              		.loc 1 1651 3 discriminator 3 view .LVU325
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1146              		.loc 1 1652 3 discriminator 3 view .LVU326
 1147              		.loc 1 1652 3 discriminator 3 view .LVU327
 1148 000a 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 54


 1149 000c 012B     		cmp	r3, #1
 1150 000e 21D1     		bne	.L137
 1151              	.L96:
 1152              		.loc 1 1652 3 discriminator 3 view .LVU328
 1153              		.loc 1 1652 3 discriminator 3 view .LVU329
1653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1154              		.loc 1 1653 3 discriminator 3 view .LVU330
 1155              		.loc 1 1653 3 discriminator 3 view .LVU331
 1156 0010 2B6A     		ldr	r3, [r5, #32]
 1157 0012 3BB3     		cbz	r3, .L138
 1158              	.L97:
 1159              		.loc 1 1653 3 discriminator 3 view .LVU332
 1160              		.loc 1 1653 3 discriminator 3 view .LVU333
1654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1161              		.loc 1 1654 3 discriminator 3 view .LVU334
 1162              		.loc 1 1654 3 discriminator 3 view .LVU335
 1163 0014 6B68     		ldr	r3, [r5, #4]
 1164 0016 6BB3     		cbz	r3, .L139
 1165              	.L98:
 1166              		.loc 1 1654 3 discriminator 3 view .LVU336
 1167              		.loc 1 1654 3 discriminator 3 view .LVU337
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
 1168              		.loc 1 1655 3 discriminator 3 view .LVU338
 1169              		.loc 1 1655 3 discriminator 3 view .LVU339
 1170 0018 2B6A     		ldr	r3, [r5, #32]
 1171 001a 9A69     		ldr	r2, [r3, #24]
 1172 001c 5B69     		ldr	r3, [r3, #20]
 1173 001e 9A42     		cmp	r2, r3
 1174 0020 30D2     		bcs	.L140
 1175              	.L99:
 1176              		.loc 1 1655 3 discriminator 3 view .LVU340
 1177              		.loc 1 1655 3 discriminator 3 view .LVU341
1656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
1657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.vector_cnt > 0", conn->current_msg->msg.w.vector_cnt > 0);
 1178              		.loc 1 1657 3 discriminator 3 view .LVU342
 1179              		.loc 1 1657 3 discriminator 3 view .LVU343
 1180 0022 2B6A     		ldr	r3, [r5, #32]
 1181 0024 9B89     		ldrh	r3, [r3, #12]
 1182 0026 002B     		cmp	r3, #0
 1183 0028 34D0     		beq	.L141
 1184              	.L100:
 1185              		.loc 1 1657 3 discriminator 3 view .LVU344
 1186              		.loc 1 1657 3 discriminator 3 view .LVU345
1658:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   apiflags = conn->current_msg->msg.w.apiflags;
 1187              		.loc 1 1659 3 discriminator 3 view .LVU346
 1188              		.loc 1 1659 18 is_stmt 0 discriminator 3 view .LVU347
 1189 002a 2B6A     		ldr	r3, [r5, #32]
 1190              		.loc 1 1659 12 discriminator 3 view .LVU348
 1191 002c 93F81C80 		ldrb	r8, [r3, #28]	@ zero_extendqisi2
 1192              	.LVL108:
1660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   dontblock = netconn_is_nonblocking(conn) || (apiflags & NETCONN_DONTBLOCK);
 1193              		.loc 1 1660 3 is_stmt 1 discriminator 3 view .LVU349
 1194              		.loc 1 1660 15 is_stmt 0 discriminator 3 view .LVU350
 1195 0030 2B7F     		ldrb	r3, [r5, #28]	@ zero_extendqisi2
 1196              		.loc 1 1660 44 discriminator 3 view .LVU351
 1197 0032 13F0020F 		tst	r3, #2
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 55


 1198 0036 35D1     		bne	.L123
 1199              		.loc 1 1660 44 discriminator 2 view .LVU352
 1200 0038 18F0040F 		tst	r8, #4
 1201 003c 37D0     		beq	.L124
 1202              		.loc 1 1660 44 view .LVU353
 1203 003e 4FF0010A 		mov	r10, #1
 1204 0042 31E0     		b	.L101
 1205              	.LVL109:
 1206              	.L136:
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1207              		.loc 1 1651 3 is_stmt 1 discriminator 1 view .LVU354
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1208              		.loc 1 1651 3 discriminator 1 view .LVU355
 1209 0044 8C4B     		ldr	r3, .L150
 1210 0046 40F27362 		movw	r2, #1651
 1211 004a 8C49     		ldr	r1, .L150+4
 1212              	.LVL110:
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1213              		.loc 1 1651 3 is_stmt 0 discriminator 1 view .LVU356
 1214 004c 8C48     		ldr	r0, .L150+8
 1215              	.LVL111:
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1216              		.loc 1 1651 3 discriminator 1 view .LVU357
 1217 004e FFF7FEFF 		bl	printf
 1218              	.LVL112:
 1219 0052 DAE7     		b	.L95
 1220              	.L137:
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1221              		.loc 1 1652 3 is_stmt 1 discriminator 1 view .LVU358
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1222              		.loc 1 1652 3 discriminator 1 view .LVU359
 1223 0054 884B     		ldr	r3, .L150
 1224 0056 40F27462 		movw	r2, #1652
 1225 005a 8A49     		ldr	r1, .L150+12
 1226 005c 8848     		ldr	r0, .L150+8
 1227 005e FFF7FEFF 		bl	printf
 1228              	.LVL113:
 1229 0062 D5E7     		b	.L96
 1230              	.L138:
1653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1231              		.loc 1 1653 3 discriminator 1 view .LVU360
1653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1232              		.loc 1 1653 3 discriminator 1 view .LVU361
 1233 0064 844B     		ldr	r3, .L150
 1234 0066 40F27562 		movw	r2, #1653
 1235 006a 8749     		ldr	r1, .L150+16
 1236 006c 8448     		ldr	r0, .L150+8
 1237 006e FFF7FEFF 		bl	printf
 1238              	.LVL114:
 1239 0072 CFE7     		b	.L97
 1240              	.L139:
1654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
 1241              		.loc 1 1654 3 discriminator 1 view .LVU362
1654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len",
 1242              		.loc 1 1654 3 discriminator 1 view .LVU363
 1243 0074 804B     		ldr	r3, .L150
 1244 0076 40F27662 		movw	r2, #1654
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 56


 1245 007a 8449     		ldr	r1, .L150+20
 1246 007c 8048     		ldr	r0, .L150+8
 1247 007e FFF7FEFF 		bl	printf
 1248              	.LVL115:
 1249 0082 C9E7     		b	.L98
 1250              	.L140:
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
 1251              		.loc 1 1655 3 discriminator 1 view .LVU364
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len);
 1252              		.loc 1 1655 3 discriminator 1 view .LVU365
 1253 0084 7C4B     		ldr	r3, .L150
 1254 0086 40F27762 		movw	r2, #1655
 1255 008a 8149     		ldr	r1, .L150+24
 1256 008c 7C48     		ldr	r0, .L150+8
 1257 008e FFF7FEFF 		bl	printf
 1258              	.LVL116:
 1259 0092 C6E7     		b	.L99
 1260              	.L141:
1657:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1261              		.loc 1 1657 3 discriminator 1 view .LVU366
1657:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1262              		.loc 1 1657 3 discriminator 1 view .LVU367
 1263 0094 784B     		ldr	r3, .L150
 1264 0096 40F27962 		movw	r2, #1657
 1265 009a 7E49     		ldr	r1, .L150+28
 1266 009c 7848     		ldr	r0, .L150+8
 1267 009e FFF7FEFF 		bl	printf
 1268              	.LVL117:
 1269 00a2 C2E7     		b	.L100
 1270              	.LVL118:
 1271              	.L123:
 1272              		.loc 1 1660 44 is_stmt 0 view .LVU368
 1273 00a4 4FF0010A 		mov	r10, #1
 1274              	.L101:
 1275              		.loc 1 1660 13 discriminator 6 view .LVU369
 1276 00a8 5FFA8AFA 		uxtb	r10, r10
 1277              	.LVL119:
 1278              		.loc 1 1660 13 discriminator 6 view .LVU370
 1279 00ac 60E0     		b	.L112
 1280              	.LVL120:
 1281              	.L124:
 1282              		.loc 1 1660 44 view .LVU371
 1283 00ae 4FF0000A 		mov	r10, #0
 1284 00b2 F9E7     		b	.L101
 1285              	.LVL121:
 1286              	.L102:
1661:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1662:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
1663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((conn->send_timeout != 0) &&
1664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((s32_t)(sys_now() - conn->current_msg->msg.w.time_started) >= conn->send_timeout)) {
1665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     write_finished = 1;
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->current_msg->msg.w.offset == 0) {
1667:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* nothing has been written */
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_WOULDBLOCK;
1669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1670:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* partial write */
1671:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_OK;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 57


1672:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1674:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
1675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     do {
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       dataptr = (const u8_t *)conn->current_msg->msg.w.vector->ptr + conn->current_msg->msg.w.vecto
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
1679:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
1680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = 0xffff;
1681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
1682:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1683:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = (u16_t)diff;
 1287              		.loc 1 1683 9 is_stmt 1 view .LVU372
 1288              		.loc 1 1683 13 is_stmt 0 view .LVU373
 1289 00b4 B4B2     		uxth	r4, r6
 1290              	.LVL122:
 1291              		.loc 1 1683 13 view .LVU374
 1292 00b6 69E0     		b	.L103
 1293              	.LVL123:
 1294              	.L146:
1684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       available = tcp_sndbuf(conn->pcb.tcp);
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
1687:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* don't try to write more than sendbuf */
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = available;
1689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
1690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!len) {
1691:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* set error according to partial write or not */
1692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = (conn->current_msg->msg.w.offset == 0) ? ERR_WOULDBLOCK : ERR_OK;
 1295              		.loc 1 1692 13 is_stmt 1 view .LVU375
 1296              		.loc 1 1692 44 is_stmt 0 view .LVU376
 1297 00b8 9369     		ldr	r3, [r2, #24]
 1298              		.loc 1 1692 17 view .LVU377
 1299 00ba B3B9     		cbnz	r3, .L126
 1300 00bc 6FF00604 		mvn	r4, #6
 1301              	.LVL124:
 1302              	.L107:
1693:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             goto err_mem;
1694:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1695:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           apiflags |= TCP_WRITE_FLAG_MORE;
1697:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1698:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("lwip_netconn_do_writemore: invalid length!",
1700:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
1701:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* we should loop around for more sending in the following cases:
1702:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            1) We couldn't finish the current vector because of 16-bit size limitations.
1703:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_write() and tcp_sndbuf() both are limited to 16-bit sizes
1704:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            2) We are sending the remainder of the current vector and have more */
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((len == 0xffff && diff > 0xffffUL) ||
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
1707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
1709:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1710:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 0;
1711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 58


1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (err == ERR_OK) {
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
1716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (conn->current_msg->msg.w.vector_off == conn->current_msg->msg.w.vector->len) {
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
1719:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (conn->current_msg->msg.w.vector_cnt > 0) {
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
1723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1724:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1725:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } while (write_more && err == ERR_OK);
1727:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((err == ERR_OK) || (err == ERR_MEM)) {
1729:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
1730:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock && (conn->current_msg->msg.w.offset < conn->current_msg->msg.w.len)) {
 1303              		.loc 1 1730 7 is_stmt 1 view .LVU378
 1304              		.loc 1 1730 10 is_stmt 0 view .LVU379
 1305 00c0 BAF1000F 		cmp	r10, #0
 1306 00c4 00F08F80 		beq	.L114
 1307              		.loc 1 1730 29 discriminator 1 view .LVU380
 1308 00c8 2B6A     		ldr	r3, [r5, #32]
 1309              		.loc 1 1730 49 discriminator 1 view .LVU381
 1310 00ca 9A69     		ldr	r2, [r3, #24]
 1311              		.loc 1 1730 83 discriminator 1 view .LVU382
 1312 00cc 5B69     		ldr	r3, [r3, #20]
 1313              		.loc 1 1730 21 discriminator 1 view .LVU383
 1314 00ce 9A42     		cmp	r2, r3
 1315 00d0 80F08980 		bcs	.L114
1731:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
1732:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            and let poll_tcp check writable space to mark the pcb writable again */
1733:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, 0);
 1316              		.loc 1 1733 9 is_stmt 1 view .LVU384
 1317 00d4 6B6A     		ldr	r3, [r5, #36]
 1318 00d6 1BB1     		cbz	r3, .L115
 1319              		.loc 1 1733 9 discriminator 1 view .LVU385
 1320 00d8 0022     		movs	r2, #0
 1321 00da 0321     		movs	r1, #3
 1322 00dc 2846     		mov	r0, r5
 1323 00de 9847     		blx	r3
 1324              	.LVL125:
 1325              	.L115:
 1326              		.loc 1 1733 50 discriminator 3 view .LVU386
1734:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->flags |= NETCONN_FLAG_CHECK_WRITESPACE;
 1327              		.loc 1 1734 9 discriminator 3 view .LVU387
 1328              		.loc 1 1734 21 is_stmt 0 discriminator 3 view .LVU388
 1329 00e0 2B7F     		ldrb	r3, [r5, #28]	@ zero_extendqisi2
 1330 00e2 43F01003 		orr	r3, r3, #16
 1331 00e6 2B77     		strb	r3, [r5, #28]
 1332 00e8 71E0     		b	.L113
 1333              	.LVL126:
 1334              	.L126:
1692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             goto err_mem;
 1335              		.loc 1 1692 17 view .LVU389
 1336 00ea 0024     		movs	r4, #0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 59


 1337              	.LVL127:
1693:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 1338              		.loc 1 1693 13 is_stmt 1 view .LVU390
 1339 00ec E8E7     		b	.L107
 1340              	.LVL128:
 1341              	.L105:
1696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 1342              		.loc 1 1696 11 view .LVU391
1696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 1343              		.loc 1 1696 20 is_stmt 0 view .LVU392
 1344 00ee 48F00208 		orr	r8, r8, #2
 1345              	.LVL129:
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
 1346              		.loc 1 1688 13 view .LVU393
 1347 00f2 0446     		mov	r4, r0
 1348              	.LVL130:
 1349              	.L104:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1350              		.loc 1 1699 7 is_stmt 1 view .LVU394
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1351              		.loc 1 1699 7 view .LVU395
 1352 00f4 A146     		mov	r9, r4
 1353 00f6 2344     		add	r3, r3, r4
 1354 00f8 9942     		cmp	r1, r3
 1355 00fa 0ED3     		bcc	.L142
 1356              	.LVL131:
 1357              	.L108:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1358              		.loc 1 1699 7 discriminator 3 view .LVU396
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1359              		.loc 1 1699 7 discriminator 3 view .LVU397
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1360              		.loc 1 1705 7 discriminator 3 view .LVU398
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1361              		.loc 1 1705 16 is_stmt 0 discriminator 3 view .LVU399
 1362 00fc 4FF6FF73 		movw	r3, #65535
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1363              		.loc 1 1705 26 discriminator 3 view .LVU400
 1364 0100 9C42     		cmp	r4, r3
 1365 0102 14BF     		ite	ne
 1366 0104 0022     		movne	r2, #0
 1367 0106 0122     		moveq	r2, #1
 1368 0108 9E42     		cmp	r6, r3
 1369 010a 98BF     		it	ls
 1370 010c 0022     		movls	r2, #0
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1371              		.loc 1 1705 10 discriminator 3 view .LVU401
 1372 010e 82B9     		cbnz	r2, .L109
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 1373              		.loc 1 1706 19 discriminator 1 view .LVU402
 1374 0110 B6B2     		uxth	r6, r6
 1375              	.LVL132:
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (len == (u16_t)diff && conn->current_msg->msg.w.vector_cnt > 1)) {
 1376              		.loc 1 1705 46 discriminator 1 view .LVU403
 1377 0112 A642     		cmp	r6, r4
 1378 0114 09D0     		beq	.L143
1710:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 60


 1379              		.loc 1 1710 20 view .LVU404
 1380 0116 0026     		movs	r6, #0
 1381 0118 0EE0     		b	.L110
 1382              	.LVL133:
 1383              	.L142:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1384              		.loc 1 1699 7 is_stmt 1 discriminator 1 view .LVU405
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1385              		.loc 1 1699 7 discriminator 1 view .LVU406
 1386 011a 574B     		ldr	r3, .L150
 1387 011c 40F2A362 		movw	r2, #1699
 1388 0120 5D49     		ldr	r1, .L150+32
 1389 0122 5748     		ldr	r0, .L150+8
 1390              	.LVL134:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1391              		.loc 1 1699 7 is_stmt 0 discriminator 1 view .LVU407
 1392 0124 FFF7FEFF 		bl	printf
 1393              	.LVL135:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                   ((conn->current_msg->msg.w.vector_off + len) <= conn->current_msg->msg.w.vector->
 1394              		.loc 1 1699 7 discriminator 1 view .LVU408
 1395 0128 E8E7     		b	.L108
 1396              	.LVL136:
 1397              	.L143:
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 1398              		.loc 1 1706 38 view .LVU409
 1399 012a 2B6A     		ldr	r3, [r5, #32]
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 1400              		.loc 1 1706 58 view .LVU410
 1401 012c 9B89     		ldrh	r3, [r3, #12]
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_more = 1;
 1402              		.loc 1 1706 31 view .LVU411
 1403 012e 012B     		cmp	r3, #1
 1404 0130 38D9     		bls	.L128
 1405              	.L109:
1707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1406              		.loc 1 1707 9 is_stmt 1 view .LVU412
 1407              	.LVL137:
1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 1408              		.loc 1 1708 9 view .LVU413
1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 1409              		.loc 1 1708 18 is_stmt 0 view .LVU414
 1410 0132 48F00208 		orr	r8, r8, #2
 1411              	.LVL138:
1707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1412              		.loc 1 1707 20 view .LVU415
 1413 0136 0126     		movs	r6, #1
 1414              	.LVL139:
 1415              	.L110:
1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (err == ERR_OK) {
 1416              		.loc 1 1712 7 is_stmt 1 view .LVU416
1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (err == ERR_OK) {
 1417              		.loc 1 1712 13 is_stmt 0 view .LVU417
 1418 0138 4346     		mov	r3, r8
 1419 013a 2246     		mov	r2, r4
 1420 013c 3946     		mov	r1, r7
 1421 013e 6868     		ldr	r0, [r5, #4]
 1422 0140 FFF7FEFF 		bl	tcp_write
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 61


 1423              	.LVL140:
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 1424              		.loc 1 1713 7 is_stmt 1 view .LVU418
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 1425              		.loc 1 1713 10 is_stmt 0 view .LVU419
 1426 0144 0446     		mov	r4, r0
 1427              	.LVL141:
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.offset += len;
 1428              		.loc 1 1713 10 view .LVU420
 1429 0146 68B9     		cbnz	r0, .L111
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1430              		.loc 1 1714 9 is_stmt 1 view .LVU421
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1431              		.loc 1 1714 13 is_stmt 0 view .LVU422
 1432 0148 2A6A     		ldr	r2, [r5, #32]
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.vector_off += len;
 1433              		.loc 1 1714 41 view .LVU423
 1434 014a 9369     		ldr	r3, [r2, #24]
 1435 014c 4B44     		add	r3, r3, r9
 1436 014e 9361     		str	r3, [r2, #24]
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
 1437              		.loc 1 1715 9 is_stmt 1 view .LVU424
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
 1438              		.loc 1 1715 13 is_stmt 0 view .LVU425
 1439 0150 2A6A     		ldr	r2, [r5, #32]
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* check if current vector is finished */
 1440              		.loc 1 1715 45 view .LVU426
 1441 0152 1369     		ldr	r3, [r2, #16]
 1442 0154 4B44     		add	r3, r3, r9
 1443 0156 1361     		str	r3, [r2, #16]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1444              		.loc 1 1717 9 is_stmt 1 view .LVU427
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1445              		.loc 1 1717 17 is_stmt 0 view .LVU428
 1446 0158 2B6A     		ldr	r3, [r5, #32]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1447              		.loc 1 1717 37 view .LVU429
 1448 015a 1969     		ldr	r1, [r3, #16]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1449              		.loc 1 1717 76 view .LVU430
 1450 015c 9A68     		ldr	r2, [r3, #8]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1451              		.loc 1 1717 83 view .LVU431
 1452 015e 5268     		ldr	r2, [r2, #4]
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           conn->current_msg->msg.w.vector_cnt--;
 1453              		.loc 1 1717 12 view .LVU432
 1454 0160 9142     		cmp	r1, r2
 1455 0162 21D0     		beq	.L144
 1456              	.L111:
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
 1457              		.loc 1 1726 13 is_stmt 1 view .LVU433
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
 1458              		.loc 1 1726 25 is_stmt 0 view .LVU434
 1459 0164 002C     		cmp	r4, #0
 1460 0166 14BF     		ite	ne
 1461 0168 0026     		movne	r6, #0
 1462 016a 06F00106 		andeq	r6, r6, #1
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 62


 1463              	.LVL142:
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
 1464              		.loc 1 1726 5 view .LVU435
 1465 016e 4EB3     		cbz	r6, .L145
 1466              	.LVL143:
 1467              	.L112:
1676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       dataptr = (const u8_t *)conn->current_msg->msg.w.vector->ptr + conn->current_msg->msg.w.vecto
 1468              		.loc 1 1676 5 is_stmt 1 view .LVU436
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1469              		.loc 1 1677 7 view .LVU437
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1470              		.loc 1 1677 35 is_stmt 0 view .LVU438
 1471 0170 2A6A     		ldr	r2, [r5, #32]
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1472              		.loc 1 1677 55 view .LVU439
 1473 0172 9168     		ldr	r1, [r2, #8]
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1474              		.loc 1 1677 62 view .LVU440
 1475 0174 0F68     		ldr	r7, [r1]
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1476              		.loc 1 1677 94 view .LVU441
 1477 0176 1369     		ldr	r3, [r2, #16]
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       diff = conn->current_msg->msg.w.vector->len - conn->current_msg->msg.w.vector_off;
 1478              		.loc 1 1677 15 view .LVU442
 1479 0178 1F44     		add	r7, r7, r3
 1480              	.LVL144:
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
 1481              		.loc 1 1678 7 is_stmt 1 view .LVU443
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
 1482              		.loc 1 1678 45 is_stmt 0 view .LVU444
 1483 017a 4968     		ldr	r1, [r1, #4]
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (diff > 0xffffUL) { /* max_u16_t */
 1484              		.loc 1 1678 12 view .LVU445
 1485 017c CE1A     		subs	r6, r1, r3
 1486              	.LVL145:
1679:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = 0xffff;
 1487              		.loc 1 1679 7 is_stmt 1 view .LVU446
1679:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         len = 0xffff;
 1488              		.loc 1 1679 10 is_stmt 0 view .LVU447
 1489 017e B6F5803F 		cmp	r6, #65536
 1490 0182 97D3     		bcc	.L102
1680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1491              		.loc 1 1680 9 is_stmt 1 view .LVU448
 1492              	.LVL146:
1681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 1493              		.loc 1 1681 9 view .LVU449
1681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 1494              		.loc 1 1681 18 is_stmt 0 view .LVU450
 1495 0184 48F00208 		orr	r8, r8, #2
 1496              	.LVL147:
1680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1497              		.loc 1 1680 13 view .LVU451
 1498 0188 4FF6FF74 		movw	r4, #65535
 1499              	.LVL148:
 1500              	.L103:
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
 1501              		.loc 1 1685 7 is_stmt 1 view .LVU452
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 63


1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
 1502              		.loc 1 1685 19 is_stmt 0 view .LVU453
 1503 018c 6868     		ldr	r0, [r5, #4]
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (available < len) {
 1504              		.loc 1 1685 17 view .LVU454
 1505 018e B0F86400 		ldrh	r0, [r0, #100]
 1506              	.LVL149:
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* don't try to write more than sendbuf */
 1507              		.loc 1 1686 7 is_stmt 1 view .LVU455
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* don't try to write more than sendbuf */
 1508              		.loc 1 1686 10 is_stmt 0 view .LVU456
 1509 0192 8442     		cmp	r4, r0
 1510 0194 AED9     		bls	.L104
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
 1511              		.loc 1 1688 9 is_stmt 1 view .LVU457
 1512              	.LVL150:
1689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!len) {
 1513              		.loc 1 1689 9 view .LVU458
1689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!len) {
 1514              		.loc 1 1689 12 is_stmt 0 view .LVU459
 1515 0196 BAF1000F 		cmp	r10, #0
 1516 019a A8D0     		beq	.L105
1690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* set error according to partial write or not */
 1517              		.loc 1 1690 11 is_stmt 1 view .LVU460
1690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* set error according to partial write or not */
 1518              		.loc 1 1690 14 is_stmt 0 view .LVU461
 1519 019c 0028     		cmp	r0, #0
 1520 019e 8BD0     		beq	.L146
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (dontblock) {
 1521              		.loc 1 1688 13 view .LVU462
 1522 01a0 0446     		mov	r4, r0
 1523 01a2 A7E7     		b	.L104
 1524              	.LVL151:
 1525              	.L128:
1710:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1526              		.loc 1 1710 20 view .LVU463
 1527 01a4 0026     		movs	r6, #0
 1528 01a6 C7E7     		b	.L110
 1529              	.LVL152:
 1530              	.L144:
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
 1531              		.loc 1 1718 11 is_stmt 1 view .LVU464
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
 1532              		.loc 1 1718 35 is_stmt 0 view .LVU465
 1533 01a8 9A89     		ldrh	r2, [r3, #12]
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* if we have additional vectors, move on to them */
 1534              		.loc 1 1718 46 view .LVU466
 1535 01aa 013A     		subs	r2, r2, #1
 1536 01ac 9A81     		strh	r2, [r3, #12]	@ movhi
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1537              		.loc 1 1720 11 is_stmt 1 view .LVU467
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1538              		.loc 1 1720 19 is_stmt 0 view .LVU468
 1539 01ae 2B6A     		ldr	r3, [r5, #32]
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1540              		.loc 1 1720 39 view .LVU469
 1541 01b0 9A89     		ldrh	r2, [r3, #12]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 64


1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector++;
 1542              		.loc 1 1720 14 view .LVU470
 1543 01b2 002A     		cmp	r2, #0
 1544 01b4 D6D0     		beq	.L111
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
 1545              		.loc 1 1721 13 is_stmt 1 view .LVU471
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
 1546              		.loc 1 1721 37 is_stmt 0 view .LVU472
 1547 01b6 9A68     		ldr	r2, [r3, #8]
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             conn->current_msg->msg.w.vector_off = 0;
 1548              		.loc 1 1721 44 view .LVU473
 1549 01b8 0832     		adds	r2, r2, #8
 1550 01ba 9A60     		str	r2, [r3, #8]
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 1551              		.loc 1 1722 13 is_stmt 1 view .LVU474
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 1552              		.loc 1 1722 17 is_stmt 0 view .LVU475
 1553 01bc 2B6A     		ldr	r3, [r5, #32]
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 1554              		.loc 1 1722 49 view .LVU476
 1555 01be 0022     		movs	r2, #0
 1556 01c0 1A61     		str	r2, [r3, #16]
 1557 01c2 CFE7     		b	.L111
 1558              	.LVL153:
 1559              	.L145:
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
 1560              		.loc 1 1728 5 is_stmt 1 view .LVU477
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
 1561              		.loc 1 1728 25 is_stmt 0 view .LVU478
 1562 01c4 631C     		adds	r3, r4, #1
 1563 01c6 DBB2     		uxtb	r3, r3
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
 1564              		.loc 1 1728 8 view .LVU479
 1565 01c8 012B     		cmp	r3, #1
 1566 01ca 7FF679AF 		bls	.L107
 1567              	.LVL154:
 1568              	.L113:
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if ((tcp_sndbuf(conn->pcb.tcp) <= TCP_SNDLOWAT) ||
1736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
1737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
1738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            let select mark this pcb as non-writable. */
1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, 0);
 1569              		.loc 1 1739 50 is_stmt 1 discriminator 3 view .LVU480
1740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1742:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1743:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 1570              		.loc 1 1743 5 discriminator 3 view .LVU481
 1571              		.loc 1 1743 8 is_stmt 0 discriminator 3 view .LVU482
 1572 01ce 54BB     		cbnz	r4, .L117
 1573              	.LBB6:
1744:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err;
 1574              		.loc 1 1744 7 is_stmt 1 view .LVU483
1745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->current_msg->msg.w.offset == conn->current_msg->msg.w.len) || dontblock) {
 1575              		.loc 1 1745 7 view .LVU484
 1576              		.loc 1 1745 16 is_stmt 0 view .LVU485
 1577 01d0 2B6A     		ldr	r3, [r5, #32]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 65


 1578              		.loc 1 1745 36 view .LVU486
 1579 01d2 9A69     		ldr	r2, [r3, #24]
 1580              		.loc 1 1745 71 view .LVU487
 1581 01d4 5B69     		ldr	r3, [r3, #20]
 1582              		.loc 1 1745 10 view .LVU488
 1583 01d6 9A42     		cmp	r2, r3
 1584 01d8 17D0     		beq	.L129
 1585              		.loc 1 1745 77 discriminator 1 view .LVU489
 1586 01da BAF1000F 		cmp	r10, #0
 1587 01de 16D0     		beq	.L118
1746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length (caller reads length from msg.w.offset) */
1747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1588              		.loc 1 1747 24 view .LVU490
 1589 01e0 4FF0010A 		mov	r10, #1
 1590              	.LVL155:
 1591              		.loc 1 1747 24 view .LVU491
 1592 01e4 13E0     		b	.L118
 1593              	.LVL156:
 1594              	.L114:
 1595              		.loc 1 1747 24 view .LVU492
 1596              	.LBE6:
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1597              		.loc 1 1735 14 is_stmt 1 view .LVU493
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1598              		.loc 1 1735 19 is_stmt 0 view .LVU494
 1599 01e6 6B68     		ldr	r3, [r5, #4]
 1600 01e8 B3F86420 		ldrh	r2, [r3, #100]
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1601              		.loc 1 1735 17 view .LVU495
 1602 01ec B2F5866F 		cmp	r2, #1072
 1603 01f0 03D3     		bcc	.L116
1736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
 1604              		.loc 1 1736 19 discriminator 1 view .LVU496
 1605 01f2 B3F86630 		ldrh	r3, [r3, #102]
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1606              		.loc 1 1735 62 discriminator 1 view .LVU497
 1607 01f6 042B     		cmp	r3, #4
 1608 01f8 E9D9     		bls	.L113
 1609              	.L116:
1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1610              		.loc 1 1739 9 is_stmt 1 view .LVU498
 1611 01fa 6B6A     		ldr	r3, [r5, #36]
 1612 01fc 002B     		cmp	r3, #0
 1613 01fe E6D0     		beq	.L113
1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1614              		.loc 1 1739 9 discriminator 1 view .LVU499
 1615 0200 0022     		movs	r2, #0
 1616 0202 0321     		movs	r1, #3
 1617 0204 2846     		mov	r0, r5
 1618 0206 9847     		blx	r3
 1619              	.LVL157:
 1620 0208 E1E7     		b	.L113
 1621              	.L129:
 1622              	.LBB7:
 1623              		.loc 1 1747 24 is_stmt 0 view .LVU500
 1624 020a 4FF0010A 		mov	r10, #1
 1625              	.LVL158:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 66


 1626              	.L118:
1748:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       out_err = tcp_output(conn->pcb.tcp);
 1627              		.loc 1 1749 7 is_stmt 1 view .LVU501
 1628              		.loc 1 1749 17 is_stmt 0 view .LVU502
 1629 020e 6868     		ldr	r0, [r5, #4]
 1630 0210 FFF7FEFF 		bl	tcp_output
 1631              	.LVL159:
1750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
 1632              		.loc 1 1750 7 is_stmt 1 view .LVU503
 1633              		.loc 1 1750 10 is_stmt 0 view .LVU504
 1634 0214 10F1040F 		cmn	r0, #4
 1635 0218 25D0     		beq	.L147
 1636              		.loc 1 1750 10 view .LVU505
 1637              	.LBE7:
1751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
1752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            don't try writing any more but return the error
1753:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to the application thread. */
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = out_err;
1755:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1756:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (err == ERR_MEM) {
1758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
1759:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          For blocking sockets, we do NOT return to the application
1760:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          thread, since ERR_MEM is only a temporary error! Non-blocking
1761:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          will remain non-writable until sent_tcp/poll_tcp is called */
1762:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1763:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* tcp_write returned ERR_MEM, try tcp_output anyway */
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err = tcp_output(conn->pcb.tcp);
1765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
1766:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
1767:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            don't try writing any more but return the error
1768:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to the application thread. */
1769:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = out_err;
1770:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (dontblock) {
1772:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
1773:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to partial write or not */
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = (conn->current_msg->msg.w.offset == 0) ? ERR_WOULDBLOCK : ERR_OK;
1775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1776:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1777:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* On errors != ERR_MEM, we don't try writing any more but return
1779:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          the error to the application thread. */
1780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       write_finished = 1;
1781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1782:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (write_finished) {
 1638              		.loc 1 1783 3 is_stmt 1 view .LVU506
 1639              		.loc 1 1783 6 is_stmt 0 view .LVU507
 1640 021a BAF1000F 		cmp	r10, #0
 1641 021e 05D1     		bne	.L119
 1642              	.LVL160:
 1643              	.L121:
1784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
1785:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        and back to application task */
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_t *op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 67


1787:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
1790:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1791:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (delayed)
1792:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1793:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1794:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1797:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1798:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   else {
1799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 1644              		.loc 1 1799 5 is_stmt 1 view .LVU508
 1645              		.loc 1 1799 12 is_stmt 0 view .LVU509
 1646 0220 4FF0FF30 		mov	r0, #-1
 1647 0224 0DE0     		b	.L122
 1648              	.LVL161:
 1649              	.L117:
1757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
 1650              		.loc 1 1757 12 is_stmt 1 view .LVU510
1757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
 1651              		.loc 1 1757 15 is_stmt 0 view .LVU511
 1652 0226 B4F1FF3F 		cmp	r4, #-1
 1653 022a 0CD0     		beq	.L148
 1654              	.LVL162:
 1655              	.L119:
 1656              	.LBB8:
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1657              		.loc 1 1786 5 is_stmt 1 view .LVU512
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1658              		.loc 1 1786 35 is_stmt 0 view .LVU513
 1659 022c 2B6A     		ldr	r3, [r5, #32]
 1660 022e 1868     		ldr	r0, [r3]
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1661              		.loc 1 1786 16 view .LVU514
 1662 0230 0C30     		adds	r0, r0, #12
 1663              	.LVL163:
1787:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 1664              		.loc 1 1787 5 is_stmt 1 view .LVU515
1787:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 1665              		.loc 1 1787 28 is_stmt 0 view .LVU516
 1666 0232 1C71     		strb	r4, [r3, #4]
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1667              		.loc 1 1788 5 is_stmt 1 view .LVU517
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1668              		.loc 1 1788 23 is_stmt 0 view .LVU518
 1669 0234 0023     		movs	r3, #0
 1670 0236 2B62     		str	r3, [r5, #32]
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1671              		.loc 1 1789 5 is_stmt 1 view .LVU519
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1672              		.loc 1 1789 17 is_stmt 0 view .LVU520
 1673 0238 6B70     		strb	r3, [r5, #1]
1791:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 1674              		.loc 1 1791 5 is_stmt 1 view .LVU521
1791:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 68


 1675              		.loc 1 1791 8 is_stmt 0 view .LVU522
 1676 023a BBF1000F 		cmp	fp, #0
 1677 023e 16D1     		bne	.L149
 1678              	.LBE8:
1800:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1801:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1802:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 1679              		.loc 1 1802 10 view .LVU523
 1680 0240 0020     		movs	r0, #0
 1681              	.LVL164:
 1682              	.L122:
1803:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1683              		.loc 1 1803 1 view .LVU524
 1684 0242 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1685              	.LVL165:
 1686              	.L148:
 1687              	.LBB9:
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
 1688              		.loc 1 1764 7 is_stmt 1 view .LVU525
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (out_err == ERR_RTE) {
 1689              		.loc 1 1764 23 is_stmt 0 view .LVU526
 1690 0246 6868     		ldr	r0, [r5, #4]
 1691 0248 FFF7FEFF 		bl	tcp_output
 1692              	.LVL166:
 1693 024c 0446     		mov	r4, r0
 1694              	.LVL167:
1765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
 1695              		.loc 1 1765 7 is_stmt 1 view .LVU527
1765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails because no route is found,
 1696              		.loc 1 1765 10 is_stmt 0 view .LVU528
 1697 024e 10F1040F 		cmn	r0, #4
 1698 0252 EBD0     		beq	.L119
1771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
 1699              		.loc 1 1771 14 is_stmt 1 view .LVU529
1771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM, set error according
 1700              		.loc 1 1771 17 is_stmt 0 view .LVU530
 1701 0254 BAF1000F 		cmp	r10, #0
 1702 0258 E2D0     		beq	.L121
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1703              		.loc 1 1774 9 is_stmt 1 view .LVU531
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1704              		.loc 1 1774 20 is_stmt 0 view .LVU532
 1705 025a 2B6A     		ldr	r3, [r5, #32]
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1706              		.loc 1 1774 40 view .LVU533
 1707 025c 9B69     		ldr	r3, [r3, #24]
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1708              		.loc 1 1774 13 view .LVU534
 1709 025e 23B9     		cbnz	r3, .L132
 1710 0260 6FF00604 		mvn	r4, #6
 1711 0264 E2E7     		b	.L119
 1712              	.LVL168:
 1713              	.L147:
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1714              		.loc 1 1774 13 view .LVU535
 1715              	.LBE9:
 1716              	.LBB10:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 69


1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1717              		.loc 1 1754 13 view .LVU536
 1718 0266 0446     		mov	r4, r0
 1719              	.LVL169:
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1720              		.loc 1 1754 13 view .LVU537
 1721 0268 E0E7     		b	.L119
 1722              	.LVL170:
 1723              	.L132:
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1724              		.loc 1 1754 13 view .LVU538
 1725              	.LBE10:
 1726              	.LBB11:
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1727              		.loc 1 1774 13 view .LVU539
 1728 026a 0024     		movs	r4, #0
 1729 026c DEE7     		b	.L119
 1730              	.LVL171:
 1731              	.L149:
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1732              		.loc 1 1774 13 view .LVU540
 1733              	.LBE11:
 1734              	.LBB12:
1794:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1735              		.loc 1 1794 7 is_stmt 1 view .LVU541
 1736 026e FFF7FEFF 		bl	sys_sem_signal
 1737              	.LVL172:
1794:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1738              		.loc 1 1794 7 is_stmt 0 view .LVU542
 1739              	.LBE12:
1802:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1740              		.loc 1 1802 10 view .LVU543
 1741 0272 0020     		movs	r0, #0
 1742 0274 E5E7     		b	.L122
 1743              	.L151:
 1744 0276 00BF     		.align	2
 1745              	.L150:
 1746 0278 00000000 		.word	.LC0
 1747 027c 00000000 		.word	.LC7
 1748 0280 40000000 		.word	.LC2
 1749 0284 00000000 		.word	.LC14
 1750 0288 10000000 		.word	.LC8
 1751 028c 20000000 		.word	.LC15
 1752 0290 38000000 		.word	.LC16
 1753 0294 78000000 		.word	.LC17
 1754 0298 A0000000 		.word	.LC18
 1755              		.cfi_endproc
 1756              	.LFE388:
 1758              		.section	.rodata.lwip_netconn_do_close_internal.str1.4,"aMS",%progbits,1
 1759              		.align	2
 1760              	.LC19:
 1761 0000 696E7661 		.ascii	"invalid conn\000"
 1761      6C696420 
 1761      636F6E6E 
 1761      00
 1762 000d 000000   		.align	2
 1763              	.LC20:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 70


 1764 0010 74686973 		.ascii	"this is for tcp netconns only\000"
 1764      20697320 
 1764      666F7220 
 1764      74637020 
 1764      6E657463 
 1765 002e 0000     		.align	2
 1766              	.LC21:
 1767 0030 636F6E6E 		.ascii	"conn must be in state NETCONN_CLOSE\000"
 1767      206D7573 
 1767      74206265 
 1767      20696E20 
 1767      73746174 
 1768              		.align	2
 1769              	.LC22:
 1770 0054 70636220 		.ascii	"pcb already closed\000"
 1770      616C7265 
 1770      61647920 
 1770      636C6F73 
 1770      656400
 1771 0067 00       		.align	2
 1772              	.LC23:
 1773 0068 436C6F73 		.ascii	"Closing a listen pcb may not fail!\000"
 1773      696E6720 
 1773      61206C69 
 1773      7374656E 
 1773      20706362 
 1774              		.section	.text.lwip_netconn_do_close_internal,"ax",%progbits
 1775              		.align	1
 1776              		.syntax unified
 1777              		.thumb
 1778              		.thumb_func
 1780              	lwip_netconn_do_close_internal:
 1781              	.LVL173:
 1782              	.LFB378:
 921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 1783              		.loc 1 921 1 is_stmt 1 view -0
 1784              		.cfi_startproc
 1785              		@ args = 0, pretend = 0, frame = 0
 1786              		@ frame_needed = 0, uses_anonymous_args = 0
 921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 1787              		.loc 1 921 1 is_stmt 0 view .LVU545
 1788 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1789              	.LCFI9:
 1790              		.cfi_def_cfa_offset 32
 1791              		.cfi_offset 4, -32
 1792              		.cfi_offset 5, -28
 1793              		.cfi_offset 6, -24
 1794              		.cfi_offset 7, -20
 1795              		.cfi_offset 8, -16
 1796              		.cfi_offset 9, -12
 1797              		.cfi_offset 10, -8
 1798              		.cfi_offset 14, -4
 1799 0004 8846     		mov	r8, r1
 922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t shut, shut_rx, shut_tx, shut_close;
 1800              		.loc 1 922 3 is_stmt 1 view .LVU546
 923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t close_finished = 0;
 1801              		.loc 1 923 3 view .LVU547
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 71


 924:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *tpcb;
 1802              		.loc 1 924 3 view .LVU548
 1803              	.LVL174:
 925:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 1804              		.loc 1 925 3 view .LVU549
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1805              		.loc 1 930 3 view .LVU550
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1806              		.loc 1 930 3 view .LVU551
 1807 0006 0446     		mov	r4, r0
 1808 0008 0028     		cmp	r0, #0
 1809 000a 5CD0     		beq	.L180
 1810              	.LVL175:
 1811              	.L153:
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1812              		.loc 1 930 3 discriminator 3 view .LVU552
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1813              		.loc 1 930 3 discriminator 3 view .LVU553
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1814              		.loc 1 931 3 discriminator 3 view .LVU554
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1815              		.loc 1 931 3 discriminator 3 view .LVU555
 1816 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1817 000e 03F0F003 		and	r3, r3, #240
 1818 0012 102B     		cmp	r3, #16
 1819 0014 5FD1     		bne	.L181
 1820              	.L154:
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1821              		.loc 1 931 3 discriminator 3 view .LVU556
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1822              		.loc 1 931 3 discriminator 3 view .LVU557
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1823              		.loc 1 932 3 discriminator 3 view .LVU558
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1824              		.loc 1 932 3 discriminator 3 view .LVU559
 1825 0016 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1826 0018 042B     		cmp	r3, #4
 1827 001a 64D1     		bne	.L182
 1828              	.L155:
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1829              		.loc 1 932 3 discriminator 3 view .LVU560
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1830              		.loc 1 932 3 discriminator 3 view .LVU561
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1831              		.loc 1 933 3 discriminator 3 view .LVU562
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1832              		.loc 1 933 3 discriminator 3 view .LVU563
 1833 001c 6368     		ldr	r3, [r4, #4]
 1834 001e 002B     		cmp	r3, #0
 1835 0020 69D0     		beq	.L183
 1836              	.L156:
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1837              		.loc 1 933 3 discriminator 3 view .LVU564
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1838              		.loc 1 933 3 discriminator 3 view .LVU565
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1839              		.loc 1 934 3 discriminator 3 view .LVU566
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 72


 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1840              		.loc 1 934 3 discriminator 3 view .LVU567
 1841 0022 236A     		ldr	r3, [r4, #32]
 1842 0024 002B     		cmp	r3, #0
 1843 0026 6ED0     		beq	.L184
 1844              	.L157:
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1845              		.loc 1 934 3 discriminator 3 view .LVU568
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1846              		.loc 1 934 3 discriminator 3 view .LVU569
 936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 1847              		.loc 1 936 3 discriminator 3 view .LVU570
 936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 1848              		.loc 1 936 8 is_stmt 0 discriminator 3 view .LVU571
 1849 0028 6668     		ldr	r6, [r4, #4]
 1850              	.LVL176:
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1851              		.loc 1 937 3 is_stmt 1 discriminator 3 view .LVU572
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1852              		.loc 1 937 14 is_stmt 0 discriminator 3 view .LVU573
 1853 002a 236A     		ldr	r3, [r4, #32]
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1854              		.loc 1 937 8 discriminator 3 view .LVU574
 1855 002c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1856              	.LVL177:
 938:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 1857              		.loc 1 938 3 is_stmt 1 discriminator 3 view .LVU575
 938:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 1858              		.loc 1 938 11 is_stmt 0 discriminator 3 view .LVU576
 1859 002e 03F00109 		and	r9, r3, #1
 1860              	.LVL178:
 939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 1861              		.loc 1 939 3 is_stmt 1 discriminator 3 view .LVU577
 939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 1862              		.loc 1 939 11 is_stmt 0 discriminator 3 view .LVU578
 1863 0032 03F00207 		and	r7, r3, #2
 1864              	.LVL179:
 942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1865              		.loc 1 942 3 is_stmt 1 discriminator 3 view .LVU579
 942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1866              		.loc 1 942 6 is_stmt 0 discriminator 3 view .LVU580
 1867 0036 032B     		cmp	r3, #3
 1868 0038 0FD0     		beq	.L158
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1869              		.loc 1 944 10 is_stmt 1 view .LVU581
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1870              		.loc 1 944 13 is_stmt 0 view .LVU582
 1871 003a B9F1000F 		cmp	r9, #0
 1872 003e 06D0     		beq	.L159
 945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 1873              		.loc 1 945 20 discriminator 1 view .LVU583
 1874 0040 327D     		ldrb	r2, [r6, #20]	@ zero_extendqisi2
 946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 1875              		.loc 1 946 43 discriminator 1 view .LVU584
 1876 0042 531F     		subs	r3, r2, #5
 1877              	.LVL180:
 946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 73


 1878              		.loc 1 946 43 discriminator 1 view .LVU585
 1879 0044 DBB2     		uxtb	r3, r3
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1880              		.loc 1 944 22 discriminator 1 view .LVU586
 1881 0046 082A     		cmp	r2, #8
 1882 0048 18BF     		it	ne
 1883 004a 012B     		cmpne	r3, #1
 1884 004c 05D9     		bls	.L158
 1885              	.L159:
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1886              		.loc 1 949 10 is_stmt 1 view .LVU587
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1887              		.loc 1 949 13 is_stmt 0 view .LVU588
 1888 004e 002F     		cmp	r7, #0
 1889 0050 61D0     		beq	.L177
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1890              		.loc 1 949 31 discriminator 1 view .LVU589
 1891 0052 738B     		ldrh	r3, [r6, #26]
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     shut_close = 1;
 1892              		.loc 1 949 22 discriminator 1 view .LVU590
 1893 0054 13F0100F 		tst	r3, #16
 1894 0058 5FD0     		beq	.L178
 1895              	.L158:
 957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1896              		.loc 1 957 5 is_stmt 1 view .LVU591
 1897 005a 0021     		movs	r1, #0
 1898 005c 3046     		mov	r0, r6
 1899 005e FFF7FEFF 		bl	tcp_arg
 1900              	.LVL181:
 957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1901              		.loc 1 957 5 is_stmt 0 view .LVU592
 1902 0062 4FF0010A 		mov	r10, #1
 1903              	.L160:
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1904              		.loc 1 959 3 is_stmt 1 view .LVU593
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1905              		.loc 1 959 11 is_stmt 0 view .LVU594
 1906 0066 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1907              		.loc 1 959 6 view .LVU595
 1908 0068 012B     		cmp	r3, #1
 1909 006a 59D0     		beq	.L185
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 1910              		.loc 1 963 5 is_stmt 1 view .LVU596
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 1911              		.loc 1 963 8 is_stmt 0 view .LVU597
 1912 006c B9F1000F 		cmp	r9, #0
 1913 0070 5BD1     		bne	.L186
 1914              	.L163:
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 1915              		.loc 1 967 5 is_stmt 1 view .LVU598
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 1916              		.loc 1 967 8 is_stmt 0 view .LVU599
 1917 0072 002F     		cmp	r7, #0
 1918 0074 62D1     		bne	.L187
 1919              	.L164:
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 74


 1920              		.loc 1 970 5 is_stmt 1 view .LVU600
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 1921              		.loc 1 970 8 is_stmt 0 view .LVU601
 1922 0076 BAF1000F 		cmp	r10, #0
 1923 007a 64D1     		bne	.L188
 1924              	.L162:
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 1925              		.loc 1 976 3 is_stmt 1 view .LVU602
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 1926              		.loc 1 976 6 is_stmt 0 view .LVU603
 1927 007c BAF1000F 		cmp	r10, #0
 1928 0080 6BD0     		beq	.L165
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1929              		.loc 1 1006 7 is_stmt 1 view .LVU604
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1930              		.loc 1 1006 13 is_stmt 0 view .LVU605
 1931 0082 3046     		mov	r0, r6
 1932 0084 FFF7FEFF 		bl	tcp_close
 1933              	.LVL182:
 1934 0088 0546     		mov	r5, r0
 1935              	.LVL183:
 1936              	.L166:
1011:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
 1937              		.loc 1 1011 3 is_stmt 1 view .LVU606
1011:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
 1938              		.loc 1 1011 6 is_stmt 0 view .LVU607
 1939 008a 002D     		cmp	r5, #0
 1940 008c 6FD0     		beq	.L167
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 1941              		.loc 1 1021 5 is_stmt 1 view .LVU608
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 1942              		.loc 1 1021 8 is_stmt 0 view .LVU609
 1943 008e B5F1FF3F 		cmp	r5, #-1
 1944 0092 6CD1     		bne	.L167
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1945              		.loc 1 1042 7 is_stmt 1 view .LVU610
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1946              		.loc 1 1042 15 is_stmt 0 view .LVU611
 1947 0094 236A     		ldr	r3, [r4, #32]
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1948              		.loc 1 1042 36 view .LVU612
 1949 0096 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1950              		.loc 1 1042 10 view .LVU613
 1951 0098 002B     		cmp	r3, #0
 1952 009a 65D0     		beq	.L189
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
 1953              		.loc 1 1056 3 is_stmt 1 view .LVU614
1086:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing failed and we want to wait: restore some of the callbacks */
 1954              		.loc 1 1086 3 view .LVU615
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1955              		.loc 1 1089 5 view .LVU616
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1956              		.loc 1 1089 5 view .LVU617
 1957 009c 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 1958 009e 012B     		cmp	r3, #1
 1959 00a0 00F09780 		beq	.L190
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 75


 1960              	.L170:
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1961              		.loc 1 1089 5 discriminator 3 view .LVU618
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1962              		.loc 1 1089 5 discriminator 3 view .LVU619
1090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 1963              		.loc 1 1090 5 discriminator 3 view .LVU620
1090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 1964              		.loc 1 1090 8 is_stmt 0 discriminator 3 view .LVU621
 1965 00a4 002F     		cmp	r7, #0
 1966 00a6 40F09C80 		bne	.L191
 1967              	.L176:
1094:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
 1968              		.loc 1 1094 5 is_stmt 1 view .LVU622
 1969 00aa 0122     		movs	r2, #1
 1970 00ac 4F49     		ldr	r1, .L194
 1971 00ae 3046     		mov	r0, r6
 1972 00b0 FFF7FEFF 		bl	tcp_poll
 1973              	.LVL184:
1095:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, conn);
 1974              		.loc 1 1095 5 view .LVU623
 1975 00b4 4E49     		ldr	r1, .L194+4
 1976 00b6 3046     		mov	r0, r6
 1977 00b8 FFF7FEFF 		bl	tcp_err
 1978              	.LVL185:
1096:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
 1979              		.loc 1 1096 5 view .LVU624
 1980 00bc 2146     		mov	r1, r4
 1981 00be 3046     		mov	r0, r6
 1982 00c0 FFF7FEFF 		bl	tcp_arg
 1983              	.LVL186:
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1984              		.loc 1 1101 3 view .LVU625
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1985              		.loc 1 1101 3 view .LVU626
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1986              		.loc 1 1101 3 view .LVU627
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1987              		.loc 1 1101 3 view .LVU628
1102:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1988              		.loc 1 1102 3 view .LVU629
1102:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1989              		.loc 1 1102 10 is_stmt 0 view .LVU630
 1990 00c4 79E0     		b	.L175
 1991              	.LVL187:
 1992              	.L180:
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1993              		.loc 1 930 3 is_stmt 1 discriminator 1 view .LVU631
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1994              		.loc 1 930 3 discriminator 1 view .LVU632
 1995 00c6 4B4B     		ldr	r3, .L194+8
 1996 00c8 40F2A232 		movw	r2, #930
 1997 00cc 4A49     		ldr	r1, .L194+12
 1998              	.LVL188:
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1999              		.loc 1 930 3 is_stmt 0 discriminator 1 view .LVU633
 2000 00ce 4B48     		ldr	r0, .L194+16
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 76


 2001              	.LVL189:
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 2002              		.loc 1 930 3 discriminator 1 view .LVU634
 2003 00d0 FFF7FEFF 		bl	printf
 2004              	.LVL190:
 2005 00d4 9AE7     		b	.L153
 2006              	.L181:
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 2007              		.loc 1 931 3 is_stmt 1 discriminator 1 view .LVU635
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 2008              		.loc 1 931 3 discriminator 1 view .LVU636
 2009 00d6 474B     		ldr	r3, .L194+8
 2010 00d8 40F2A332 		movw	r2, #931
 2011 00dc 4849     		ldr	r1, .L194+20
 2012 00de 4748     		ldr	r0, .L194+16
 2013 00e0 FFF7FEFF 		bl	printf
 2014              	.LVL191:
 2015 00e4 97E7     		b	.L154
 2016              	.L182:
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 2017              		.loc 1 932 3 discriminator 1 view .LVU637
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 2018              		.loc 1 932 3 discriminator 1 view .LVU638
 2019 00e6 434B     		ldr	r3, .L194+8
 2020 00e8 4FF46972 		mov	r2, #932
 2021 00ec 4549     		ldr	r1, .L194+24
 2022 00ee 4348     		ldr	r0, .L194+16
 2023 00f0 FFF7FEFF 		bl	printf
 2024              	.LVL192:
 2025 00f4 92E7     		b	.L155
 2026              	.L183:
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 2027              		.loc 1 933 3 discriminator 1 view .LVU639
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 2028              		.loc 1 933 3 discriminator 1 view .LVU640
 2029 00f6 3F4B     		ldr	r3, .L194+8
 2030 00f8 40F2A532 		movw	r2, #933
 2031 00fc 4249     		ldr	r1, .L194+28
 2032 00fe 3F48     		ldr	r0, .L194+16
 2033 0100 FFF7FEFF 		bl	printf
 2034              	.LVL193:
 2035 0104 8DE7     		b	.L156
 2036              	.L184:
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2037              		.loc 1 934 3 discriminator 1 view .LVU641
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2038              		.loc 1 934 3 discriminator 1 view .LVU642
 2039 0106 3B4B     		ldr	r3, .L194+8
 2040 0108 40F2A632 		movw	r2, #934
 2041 010c 3F49     		ldr	r1, .L194+32
 2042 010e 3B48     		ldr	r0, .L194+16
 2043 0110 FFF7FEFF 		bl	printf
 2044              	.LVL194:
 2045 0114 88E7     		b	.L157
 2046              	.LVL195:
 2047              	.L177:
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 77


 2048              		.loc 1 952 16 is_stmt 0 view .LVU643
 2049 0116 BA46     		mov	r10, r7
 2050 0118 A5E7     		b	.L160
 2051              	.L178:
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2052              		.loc 1 952 16 view .LVU644
 2053 011a 4FF0000A 		mov	r10, #0
 2054 011e A2E7     		b	.L160
 2055              	.LVL196:
 2056              	.L185:
 960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2057              		.loc 1 960 5 is_stmt 1 view .LVU645
 2058 0120 0021     		movs	r1, #0
 2059 0122 3046     		mov	r0, r6
 2060 0124 FFF7FEFF 		bl	tcp_accept
 2061              	.LVL197:
 2062 0128 A8E7     		b	.L162
 2063              	.L186:
 964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 2064              		.loc 1 964 7 view .LVU646
 2065 012a 0021     		movs	r1, #0
 2066 012c 3046     		mov	r0, r6
 2067 012e FFF7FEFF 		bl	tcp_recv
 2068              	.LVL198:
 965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2069              		.loc 1 965 7 view .LVU647
 2070 0132 0021     		movs	r1, #0
 2071 0134 3046     		mov	r0, r6
 2072 0136 FFF7FEFF 		bl	tcp_accept
 2073              	.LVL199:
 2074 013a 9AE7     		b	.L163
 2075              	.L187:
 968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2076              		.loc 1 968 7 view .LVU648
 2077 013c 0021     		movs	r1, #0
 2078 013e 3046     		mov	r0, r6
 2079 0140 FFF7FEFF 		bl	tcp_sent
 2080              	.LVL200:
 2081 0144 97E7     		b	.L164
 2082              	.L188:
 971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_err(tpcb, NULL);
 2083              		.loc 1 971 7 view .LVU649
 2084 0146 0022     		movs	r2, #0
 2085 0148 1146     		mov	r1, r2
 2086 014a 3046     		mov	r0, r6
 2087 014c FFF7FEFF 		bl	tcp_poll
 2088              	.LVL201:
 972:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2089              		.loc 1 972 7 view .LVU650
 2090 0150 0021     		movs	r1, #0
 2091 0152 3046     		mov	r0, r6
 2092 0154 FFF7FEFF 		bl	tcp_err
 2093              	.LVL202:
 2094 0158 90E7     		b	.L162
 2095              	.L165:
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2096              		.loc 1 1009 5 view .LVU651
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 78


1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2097              		.loc 1 1009 11 is_stmt 0 view .LVU652
 2098 015a 3A46     		mov	r2, r7
 2099 015c 4946     		mov	r1, r9
 2100 015e 3046     		mov	r0, r6
 2101 0160 FFF7FEFF 		bl	tcp_shutdown
 2102              	.LVL203:
 2103 0164 0546     		mov	r5, r0
 2104              	.LVL204:
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2105              		.loc 1 1009 11 view .LVU653
 2106 0166 90E7     		b	.L166
 2107              	.L189:
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (shut_close) {
 2108              		.loc 1 1044 9 is_stmt 1 view .LVU654
 2109              	.LVL205:
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
 2110              		.loc 1 1045 9 view .LVU655
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
 2111              		.loc 1 1045 12 is_stmt 0 view .LVU656
 2112 0168 BAF1000F 		cmp	r10, #0
 2113 016c 28D1     		bne	.L192
 2114              	.LVL206:
 2115              	.L167:
 2116              	.LBB13:
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 2117              		.loc 1 1058 5 is_stmt 1 view .LVU657
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 2118              		.loc 1 1058 35 is_stmt 0 view .LVU658
 2119 016e 236A     		ldr	r3, [r4, #32]
 2120 0170 1E68     		ldr	r6, [r3]
 2121              	.LVL207:
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 2122              		.loc 1 1058 16 view .LVU659
 2123 0172 0C36     		adds	r6, r6, #12
 2124              	.LVL208:
1059:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 2125              		.loc 1 1059 5 is_stmt 1 view .LVU660
1059:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 2126              		.loc 1 1059 28 is_stmt 0 view .LVU661
 2127 0174 1D71     		strb	r5, [r3, #4]
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 2128              		.loc 1 1060 5 is_stmt 1 view .LVU662
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 2129              		.loc 1 1060 23 is_stmt 0 view .LVU663
 2130 0176 0023     		movs	r3, #0
 2131 0178 2362     		str	r3, [r4, #32]
1061:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 2132              		.loc 1 1061 5 is_stmt 1 view .LVU664
1061:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 2133              		.loc 1 1061 17 is_stmt 0 view .LVU665
 2134 017a 6370     		strb	r3, [r4, #1]
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_close) {
 2135              		.loc 1 1062 5 is_stmt 1 view .LVU666
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_close) {
 2136              		.loc 1 1062 8 is_stmt 0 view .LVU667
 2137 017c CDB9     		cbnz	r5, .L171
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 79


1063:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 2138              		.loc 1 1063 7 is_stmt 1 view .LVU668
1063:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 2139              		.loc 1 1063 10 is_stmt 0 view .LVU669
 2140 017e BAF1000F 		cmp	r10, #0
 2141 0182 06D0     		beq	.L172
1065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 2142              		.loc 1 1065 9 is_stmt 1 view .LVU670
1065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 2143              		.loc 1 1065 23 is_stmt 0 view .LVU671
 2144 0184 6360     		str	r3, [r4, #4]
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2145              		.loc 1 1068 9 is_stmt 1 view .LVU672
 2146 0186 636A     		ldr	r3, [r4, #36]
 2147 0188 1BB1     		cbz	r3, .L172
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2148              		.loc 1 1068 9 discriminator 1 view .LVU673
 2149 018a 0022     		movs	r2, #0
 2150 018c 0421     		movs	r1, #4
 2151 018e 2046     		mov	r0, r4
 2152 0190 9847     		blx	r3
 2153              	.LVL209:
 2154              	.L172:
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2155              		.loc 1 1068 46 discriminator 3 view .LVU674
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 2156              		.loc 1 1070 7 discriminator 3 view .LVU675
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 2157              		.loc 1 1070 10 is_stmt 0 discriminator 3 view .LVU676
 2158 0192 B9F1000F 		cmp	r9, #0
 2159 0196 05D0     		beq	.L173
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2160              		.loc 1 1071 9 is_stmt 1 view .LVU677
 2161 0198 636A     		ldr	r3, [r4, #36]
 2162 019a 1BB1     		cbz	r3, .L173
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2163              		.loc 1 1071 9 discriminator 1 view .LVU678
 2164 019c 0022     		movs	r2, #0
 2165 019e 1146     		mov	r1, r2
 2166 01a0 2046     		mov	r0, r4
 2167 01a2 9847     		blx	r3
 2168              	.LVL210:
 2169              	.L173:
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2170              		.loc 1 1071 48 discriminator 3 view .LVU679
1073:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2171              		.loc 1 1073 7 discriminator 3 view .LVU680
1073:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2172              		.loc 1 1073 10 is_stmt 0 discriminator 3 view .LVU681
 2173 01a4 2FB1     		cbz	r7, .L171
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2174              		.loc 1 1074 9 is_stmt 1 view .LVU682
 2175 01a6 636A     		ldr	r3, [r4, #36]
 2176 01a8 1BB1     		cbz	r3, .L171
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2177              		.loc 1 1074 9 discriminator 1 view .LVU683
 2178 01aa 0022     		movs	r2, #0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 80


 2179 01ac 0221     		movs	r1, #2
 2180 01ae 2046     		mov	r0, r4
 2181 01b0 9847     		blx	r3
 2182              	.LVL211:
 2183              	.L171:
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2184              		.loc 1 1074 49 discriminator 3 view .LVU684
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2185              		.loc 1 1078 5 discriminator 3 view .LVU685
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2186              		.loc 1 1078 8 is_stmt 0 discriminator 3 view .LVU686
 2187 01b2 B8F1000F 		cmp	r8, #0
 2188 01b6 08D1     		bne	.L193
 2189              	.L174:
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2190              		.loc 1 1084 5 is_stmt 1 view .LVU687
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2191              		.loc 1 1084 12 is_stmt 0 view .LVU688
 2192 01b8 0025     		movs	r5, #0
 2193              	.LVL212:
 2194              	.L175:
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2195              		.loc 1 1084 12 view .LVU689
 2196              	.LBE13:
1103:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2197              		.loc 1 1103 1 view .LVU690
 2198 01ba 2846     		mov	r0, r5
 2199 01bc BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2200              	.LVL213:
 2201              	.L192:
1047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_OK;
 2202              		.loc 1 1047 11 is_stmt 1 view .LVU691
 2203 01c0 3046     		mov	r0, r6
 2204 01c2 FFF7FEFF 		bl	tcp_abort
 2205              	.LVL214:
1048:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 2206              		.loc 1 1048 11 view .LVU692
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
 2207              		.loc 1 1056 3 view .LVU693
1048:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 2208              		.loc 1 1048 15 is_stmt 0 view .LVU694
 2209 01c6 0025     		movs	r5, #0
 2210 01c8 D1E7     		b	.L167
 2211              	.LVL215:
 2212              	.L193:
 2213              	.LBB14:
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2214              		.loc 1 1082 7 is_stmt 1 view .LVU695
 2215 01ca 3046     		mov	r0, r6
 2216 01cc FFF7FEFF 		bl	sys_sem_signal
 2217              	.LVL216:
 2218 01d0 F2E7     		b	.L174
 2219              	.LVL217:
 2220              	.L190:
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2221              		.loc 1 1082 7 is_stmt 0 view .LVU696
 2222              	.LBE14:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 81


1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 2223              		.loc 1 1089 5 is_stmt 1 discriminator 1 view .LVU697
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 2224              		.loc 1 1089 5 discriminator 1 view .LVU698
 2225 01d2 084B     		ldr	r3, .L194+8
 2226 01d4 40F24142 		movw	r2, #1089
 2227 01d8 0D49     		ldr	r1, .L194+36
 2228 01da 0848     		ldr	r0, .L194+16
 2229 01dc FFF7FEFF 		bl	printf
 2230              	.LVL218:
 2231 01e0 60E7     		b	.L170
 2232              	.L191:
1091:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2233              		.loc 1 1091 7 view .LVU699
 2234 01e2 0C49     		ldr	r1, .L194+40
 2235 01e4 3046     		mov	r0, r6
 2236 01e6 FFF7FEFF 		bl	tcp_sent
 2237              	.LVL219:
 2238 01ea 5EE7     		b	.L176
 2239              	.L195:
 2240              		.align	2
 2241              	.L194:
 2242 01ec 00000000 		.word	poll_tcp
 2243 01f0 00000000 		.word	err_tcp
 2244 01f4 00000000 		.word	.LC0
 2245 01f8 00000000 		.word	.LC19
 2246 01fc 40000000 		.word	.LC2
 2247 0200 10000000 		.word	.LC20
 2248 0204 30000000 		.word	.LC21
 2249 0208 54000000 		.word	.LC22
 2250 020c 10000000 		.word	.LC8
 2251 0210 68000000 		.word	.LC23
 2252 0214 00000000 		.word	sent_tcp
 2253              		.cfi_endproc
 2254              	.LFE378:
 2256              		.section	.text.poll_tcp,"ax",%progbits
 2257              		.align	1
 2258              		.syntax unified
 2259              		.thumb
 2260              		.thumb_func
 2262              	poll_tcp:
 2263              	.LVL220:
 2264              	.LFB368:
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2265              		.loc 1 358 1 view -0
 2266              		.cfi_startproc
 2267              		@ args = 0, pretend = 0, frame = 0
 2268              		@ frame_needed = 0, uses_anonymous_args = 0
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2269              		.loc 1 358 1 is_stmt 0 view .LVU701
 2270 0000 10B5     		push	{r4, lr}
 2271              	.LCFI10:
 2272              		.cfi_def_cfa_offset 8
 2273              		.cfi_offset 4, -8
 2274              		.cfi_offset 14, -4
 359:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2275              		.loc 1 359 3 is_stmt 1 view .LVU702
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 82


 2276              	.LVL221:
 361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 2277              		.loc 1 361 3 view .LVU703
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2278              		.loc 1 362 3 view .LVU704
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2279              		.loc 1 362 3 view .LVU705
 2280 0002 0446     		mov	r4, r0
 2281 0004 F0B1     		cbz	r0, .L203
 2282              	.LVL222:
 2283              	.L197:
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2284              		.loc 1 362 3 discriminator 3 view .LVU706
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2285              		.loc 1 362 3 discriminator 3 view .LVU707
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2286              		.loc 1 364 3 discriminator 3 view .LVU708
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2287              		.loc 1 364 11 is_stmt 0 discriminator 3 view .LVU709
 2288 0006 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2289              		.loc 1 364 6 discriminator 3 view .LVU710
 2290 0008 012B     		cmp	r3, #1
 2291 000a 23D0     		beq	.L204
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 2292              		.loc 1 366 10 is_stmt 1 view .LVU711
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 2293              		.loc 1 366 13 is_stmt 0 view .LVU712
 2294 000c 042B     		cmp	r3, #4
 2295 000e 26D0     		beq	.L205
 2296              	.L199:
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2297              		.loc 1 377 3 is_stmt 1 view .LVU713
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2298              		.loc 1 377 11 is_stmt 0 view .LVU714
 2299 0010 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2300              		.loc 1 377 6 view .LVU715
 2301 0012 13F0100F 		tst	r3, #16
 2302 0016 13D0     		beq	.L201
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2303              		.loc 1 380 5 is_stmt 1 view .LVU716
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2304              		.loc 1 380 19 is_stmt 0 view .LVU717
 2305 0018 6268     		ldr	r2, [r4, #4]
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2306              		.loc 1 380 8 view .LVU718
 2307 001a 8AB1     		cbz	r2, .L201
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2308              		.loc 1 380 37 discriminator 1 view .LVU719
 2309 001c B2F86410 		ldrh	r1, [r2, #100]
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2310              		.loc 1 380 33 discriminator 1 view .LVU720
 2311 0020 B1F5866F 		cmp	r1, #1072
 2312 0024 0CD3     		bcc	.L201
 381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 2313              		.loc 1 381 10 discriminator 2 view .LVU721
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 83


 2314 0026 B2F86620 		ldrh	r2, [r2, #102]
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2315              		.loc 1 380 79 discriminator 2 view .LVU722
 2316 002a 042A     		cmp	r2, #4
 2317 002c 08D8     		bhi	.L201
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2318              		.loc 1 382 7 is_stmt 1 view .LVU723
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2319              		.loc 1 382 7 view .LVU724
 2320 002e 03F0EF03 		and	r3, r3, #239
 2321 0032 2377     		strb	r3, [r4, #28]
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2322              		.loc 1 382 7 view .LVU725
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2323              		.loc 1 383 7 view .LVU726
 2324 0034 636A     		ldr	r3, [r4, #36]
 2325 0036 1BB1     		cbz	r3, .L201
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2326              		.loc 1 383 7 discriminator 1 view .LVU727
 2327 0038 0022     		movs	r2, #0
 2328 003a 0221     		movs	r1, #2
 2329 003c 2046     		mov	r0, r4
 2330 003e 9847     		blx	r3
 2331              	.LVL223:
 2332              	.L201:
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2333              		.loc 1 383 47 discriminator 3 view .LVU728
 387:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2334              		.loc 1 387 3 discriminator 3 view .LVU729
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2335              		.loc 1 388 1 is_stmt 0 discriminator 3 view .LVU730
 2336 0040 0020     		movs	r0, #0
 2337 0042 10BD     		pop	{r4, pc}
 2338              	.LVL224:
 2339              	.L203:
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2340              		.loc 1 362 3 is_stmt 1 discriminator 1 view .LVU731
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2341              		.loc 1 362 3 discriminator 1 view .LVU732
 2342 0044 0B4B     		ldr	r3, .L206
 2343 0046 4FF4B572 		mov	r2, #362
 2344 004a 0B49     		ldr	r1, .L206+4
 2345              	.LVL225:
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2346              		.loc 1 362 3 is_stmt 0 discriminator 1 view .LVU733
 2347 004c 0B48     		ldr	r0, .L206+8
 2348              	.LVL226:
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2349              		.loc 1 362 3 discriminator 1 view .LVU734
 2350 004e FFF7FEFF 		bl	printf
 2351              	.LVL227:
 2352 0052 D8E7     		b	.L197
 2353              	.L204:
 365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 2354              		.loc 1 365 5 is_stmt 1 view .LVU735
 2355 0054 0121     		movs	r1, #1
 2356 0056 2046     		mov	r0, r4
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 84


 2357 0058 FFF7FEFF 		bl	lwip_netconn_do_writemore
 2358              	.LVL228:
 2359 005c D8E7     		b	.L199
 2360              	.L205:
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2361              		.loc 1 368 5 view .LVU736
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2362              		.loc 1 368 13 is_stmt 0 view .LVU737
 2363 005e 236A     		ldr	r3, [r4, #32]
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2364              		.loc 1 368 8 view .LVU738
 2365 0060 1BB1     		cbz	r3, .L200
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2366              		.loc 1 368 55 discriminator 1 view .LVU739
 2367 0062 5A7A     		ldrb	r2, [r3, #9]	@ zero_extendqisi2
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2368              		.loc 1 368 27 discriminator 1 view .LVU740
 2369 0064 0AB1     		cbz	r2, .L200
 369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2370              		.loc 1 369 7 is_stmt 1 view .LVU741
 369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2371              		.loc 1 369 43 is_stmt 0 view .LVU742
 2372 0066 013A     		subs	r2, r2, #1
 2373 0068 5A72     		strb	r2, [r3, #9]
 2374              	.L200:
 372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2375              		.loc 1 372 5 is_stmt 1 view .LVU743
 2376 006a 0121     		movs	r1, #1
 2377 006c 2046     		mov	r0, r4
 2378 006e FFF7FEFF 		bl	lwip_netconn_do_close_internal
 2379              	.LVL229:
 2380 0072 CDE7     		b	.L199
 2381              	.L207:
 2382              		.align	2
 2383              	.L206:
 2384 0074 00000000 		.word	.LC0
 2385 0078 00000000 		.word	.LC7
 2386 007c 40000000 		.word	.LC2
 2387              		.cfi_endproc
 2388              	.LFE368:
 2390              		.section	.text.sent_tcp,"ax",%progbits
 2391              		.align	1
 2392              		.syntax unified
 2393              		.thumb
 2394              		.thumb_func
 2396              	sent_tcp:
 2397              	.LVL230:
 2398              	.LFB369:
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2399              		.loc 1 399 1 view -0
 2400              		.cfi_startproc
 2401              		@ args = 0, pretend = 0, frame = 0
 2402              		@ frame_needed = 0, uses_anonymous_args = 0
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2403              		.loc 1 399 1 is_stmt 0 view .LVU745
 2404 0000 38B5     		push	{r3, r4, r5, lr}
 2405              	.LCFI11:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 85


 2406              		.cfi_def_cfa_offset 16
 2407              		.cfi_offset 3, -16
 2408              		.cfi_offset 4, -12
 2409              		.cfi_offset 5, -8
 2410              		.cfi_offset 14, -4
 2411 0002 1546     		mov	r5, r2
 400:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2412              		.loc 1 400 3 is_stmt 1 view .LVU746
 2413              	.LVL231:
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 2414              		.loc 1 402 3 view .LVU747
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2415              		.loc 1 403 3 view .LVU748
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2416              		.loc 1 403 3 view .LVU749
 2417 0004 0446     		mov	r4, r0
 2418 0006 E0B1     		cbz	r0, .L214
 2419              	.LVL232:
 2420              	.L209:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2421              		.loc 1 403 3 discriminator 3 view .LVU750
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2422              		.loc 1 403 3 discriminator 3 view .LVU751
 405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 2423              		.loc 1 405 3 discriminator 3 view .LVU752
 405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 2424              		.loc 1 405 6 is_stmt 0 discriminator 3 view .LVU753
 2425 0008 CCB1     		cbz	r4, .L210
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2426              		.loc 1 406 5 is_stmt 1 view .LVU754
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2427              		.loc 1 406 13 is_stmt 0 view .LVU755
 2428 000a 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2429              		.loc 1 406 8 view .LVU756
 2430 000c 012B     		cmp	r3, #1
 2431 000e 20D0     		beq	.L215
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 2432              		.loc 1 408 12 is_stmt 1 view .LVU757
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 2433              		.loc 1 408 15 is_stmt 0 view .LVU758
 2434 0010 042B     		cmp	r3, #4
 2435 0012 23D0     		beq	.L216
 2436              	.L212:
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2437              		.loc 1 414 5 is_stmt 1 view .LVU759
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2438              		.loc 1 414 19 is_stmt 0 view .LVU760
 2439 0014 6368     		ldr	r3, [r4, #4]
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2440              		.loc 1 414 8 view .LVU761
 2441 0016 93B1     		cbz	r3, .L210
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2442              		.loc 1 414 37 discriminator 1 view .LVU762
 2443 0018 B3F86420 		ldrh	r2, [r3, #100]
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2444              		.loc 1 414 33 discriminator 1 view .LVU763
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 86


 2445 001c B2F5866F 		cmp	r2, #1072
 2446 0020 0DD3     		bcc	.L210
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       netconn_clear_flags(conn, NETCONN_FLAG_CHECK_WRITESPACE);
 2447              		.loc 1 415 10 discriminator 2 view .LVU764
 2448 0022 B3F86630 		ldrh	r3, [r3, #102]
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2449              		.loc 1 414 79 discriminator 2 view .LVU765
 2450 0026 042B     		cmp	r3, #4
 2451 0028 09D8     		bhi	.L210
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2452              		.loc 1 416 7 is_stmt 1 view .LVU766
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2453              		.loc 1 416 7 view .LVU767
 2454 002a 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 2455 002c 03F0EF03 		and	r3, r3, #239
 2456 0030 2377     		strb	r3, [r4, #28]
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2457              		.loc 1 416 7 view .LVU768
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2458              		.loc 1 417 7 view .LVU769
 2459 0032 636A     		ldr	r3, [r4, #36]
 2460 0034 1BB1     		cbz	r3, .L210
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2461              		.loc 1 417 7 discriminator 1 view .LVU770
 2462 0036 2A46     		mov	r2, r5
 2463 0038 0221     		movs	r1, #2
 2464 003a 2046     		mov	r0, r4
 2465 003c 9847     		blx	r3
 2466              	.LVL233:
 2467              	.L210:
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2468              		.loc 1 417 49 discriminator 3 view .LVU771
 421:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2469              		.loc 1 421 3 discriminator 3 view .LVU772
 422:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2470              		.loc 1 422 1 is_stmt 0 discriminator 3 view .LVU773
 2471 003e 0020     		movs	r0, #0
 2472 0040 38BD     		pop	{r3, r4, r5, pc}
 2473              	.LVL234:
 2474              	.L214:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2475              		.loc 1 403 3 is_stmt 1 discriminator 1 view .LVU774
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2476              		.loc 1 403 3 discriminator 1 view .LVU775
 2477 0042 094B     		ldr	r3, .L217
 2478 0044 40F29312 		movw	r2, #403
 2479              	.LVL235:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2480              		.loc 1 403 3 is_stmt 0 discriminator 1 view .LVU776
 2481 0048 0849     		ldr	r1, .L217+4
 2482              	.LVL236:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2483              		.loc 1 403 3 discriminator 1 view .LVU777
 2484 004a 0948     		ldr	r0, .L217+8
 2485              	.LVL237:
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2486              		.loc 1 403 3 discriminator 1 view .LVU778
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 87


 2487 004c FFF7FEFF 		bl	printf
 2488              	.LVL238:
 2489 0050 DAE7     		b	.L209
 2490              	.L215:
 407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 2491              		.loc 1 407 7 is_stmt 1 view .LVU779
 2492 0052 0121     		movs	r1, #1
 2493 0054 2046     		mov	r0, r4
 2494 0056 FFF7FEFF 		bl	lwip_netconn_do_writemore
 2495              	.LVL239:
 2496 005a DBE7     		b	.L212
 2497              	.L216:
 409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2498              		.loc 1 409 7 view .LVU780
 2499 005c 0121     		movs	r1, #1
 2500 005e 2046     		mov	r0, r4
 2501 0060 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 2502              	.LVL240:
 2503 0064 D6E7     		b	.L212
 2504              	.L218:
 2505 0066 00BF     		.align	2
 2506              	.L217:
 2507 0068 00000000 		.word	.LC0
 2508 006c 00000000 		.word	.LC7
 2509 0070 40000000 		.word	.LC2
 2510              		.cfi_endproc
 2511              	.LFE369:
 2513              		.section	.rodata.recv_tcp.str1.4,"aMS",%progbits,1
 2514              		.align	2
 2515              	.LC24:
 2516 0000 72656376 		.ascii	"recv_tcp must have a pcb argument\000"
 2516      5F746370 
 2516      206D7573 
 2516      74206861 
 2516      76652061 
 2517 0022 0000     		.align	2
 2518              	.LC25:
 2519 0024 72656376 		.ascii	"recv_tcp must have an argument\000"
 2519      5F746370 
 2519      206D7573 
 2519      74206861 
 2519      76652061 
 2520 0043 00       		.align	2
 2521              	.LC26:
 2522 0044 65727220 		.ascii	"err != ERR_OK unhandled\000"
 2522      213D2045 
 2522      52525F4F 
 2522      4B20756E 
 2522      68616E64 
 2523              		.align	2
 2524              	.LC27:
 2525 005c 72656376 		.ascii	"recv_tcp: recv for wrong pcb!\000"
 2525      5F746370 
 2525      3A207265 
 2525      63762066 
 2525      6F722077 
 2526              		.section	.text.recv_tcp,"ax",%progbits
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 88


 2527              		.align	1
 2528              		.syntax unified
 2529              		.thumb
 2530              		.thumb_func
 2532              	recv_tcp:
 2533              	.LVL241:
 2534              	.LFB367:
 294:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2535              		.loc 1 294 1 view -0
 2536              		.cfi_startproc
 2537              		@ args = 0, pretend = 0, frame = 0
 2538              		@ frame_needed = 0, uses_anonymous_args = 0
 294:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2539              		.loc 1 294 1 is_stmt 0 view .LVU782
 2540 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2541              	.LCFI12:
 2542              		.cfi_def_cfa_offset 24
 2543              		.cfi_offset 3, -24
 2544              		.cfi_offset 4, -20
 2545              		.cfi_offset 5, -16
 2546              		.cfi_offset 6, -12
 2547              		.cfi_offset 7, -8
 2548              		.cfi_offset 14, -4
 2549 0002 0446     		mov	r4, r0
 2550 0004 1546     		mov	r5, r2
 2551 0006 1E46     		mov	r6, r3
 295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 2552              		.loc 1 295 3 is_stmt 1 view .LVU783
 296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *msg;
 2553              		.loc 1 296 3 view .LVU784
 297:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2554              		.loc 1 297 3 view .LVU785
 299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have a pcb argument", pcb != NULL);
 2555              		.loc 1 299 3 view .LVU786
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2556              		.loc 1 300 3 view .LVU787
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2557              		.loc 1 300 3 view .LVU788
 2558 0008 0F46     		mov	r7, r1
 2559 000a 21B3     		cbz	r1, .L232
 2560              	.LVL242:
 2561              	.L220:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2562              		.loc 1 300 3 discriminator 3 view .LVU789
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2563              		.loc 1 300 3 discriminator 3 view .LVU790
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2564              		.loc 1 301 3 discriminator 3 view .LVU791
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2565              		.loc 1 301 3 discriminator 3 view .LVU792
 2566 000c 5CB3     		cbz	r4, .L233
 2567              	.L221:
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2568              		.loc 1 301 3 discriminator 3 view .LVU793
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2569              		.loc 1 301 3 discriminator 3 view .LVU794
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 89


 2570              		.loc 1 302 3 discriminator 3 view .LVU795
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2571              		.loc 1 302 3 discriminator 3 view .LVU796
 2572 000e 002E     		cmp	r6, #0
 2573 0010 31D1     		bne	.L234
 2574              	.L222:
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2575              		.loc 1 302 3 discriminator 3 view .LVU797
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2576              		.loc 1 302 3 discriminator 3 view .LVU798
 303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 2577              		.loc 1 303 3 discriminator 3 view .LVU799
 304:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2578              		.loc 1 304 3 discriminator 3 view .LVU800
 2579              	.LVL243:
 306:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 2580              		.loc 1 306 3 discriminator 3 view .LVU801
 306:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 2581              		.loc 1 306 6 is_stmt 0 discriminator 3 view .LVU802
 2582 0012 002C     		cmp	r4, #0
 2583 0014 44D0     		beq	.L228
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2584              		.loc 1 309 3 is_stmt 1 view .LVU803
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2585              		.loc 1 309 3 view .LVU804
 2586 0016 6368     		ldr	r3, [r4, #4]
 2587 0018 BB42     		cmp	r3, r7
 2588 001a 06D0     		beq	.L224
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2589              		.loc 1 309 3 discriminator 1 view .LVU805
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2590              		.loc 1 309 3 discriminator 1 view .LVU806
 2591 001c 234B     		ldr	r3, .L236
 2592 001e 40F23512 		movw	r2, #309
 2593 0022 2349     		ldr	r1, .L236+4
 2594 0024 2348     		ldr	r0, .L236+8
 2595 0026 FFF7FEFF 		bl	printf
 2596              	.LVL244:
 2597              	.L224:
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2598              		.loc 1 309 3 discriminator 3 view .LVU807
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2599              		.loc 1 309 3 discriminator 3 view .LVU808
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2600              		.loc 1 311 3 discriminator 3 view .LVU809
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2601              		.loc 1 311 8 is_stmt 0 discriminator 3 view .LVU810
 2602 002a 04F11006 		add	r6, r4, #16
 2603 002e 3046     		mov	r0, r6
 2604 0030 FFF7FEFF 		bl	sys_mbox_valid
 2605              	.LVL245:
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2606              		.loc 1 311 6 discriminator 3 view .LVU811
 2607 0034 38B3     		cbz	r0, .L235
 323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = p;
 2608              		.loc 1 323 3 is_stmt 1 view .LVU812
 323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg = p;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 90


 2609              		.loc 1 323 6 is_stmt 0 view .LVU813
 2610 0036 85B3     		cbz	r5, .L229
 324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = p->tot_len;
 2611              		.loc 1 324 5 is_stmt 1 view .LVU814
 2612              	.LVL246:
 325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2613              		.loc 1 325 5 view .LVU815
 325:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2614              		.loc 1 325 9 is_stmt 0 view .LVU816
 2615 0038 2F89     		ldrh	r7, [r5, #8]
 2616              	.LVL247:
 2617              	.L227:
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2618              		.loc 1 331 3 is_stmt 1 view .LVU817
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2619              		.loc 1 331 7 is_stmt 0 view .LVU818
 2620 003a 2946     		mov	r1, r5
 2621 003c 3046     		mov	r0, r6
 2622 003e FFF7FEFF 		bl	sys_mbox_trypost
 2623              	.LVL248:
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2624              		.loc 1 331 6 view .LVU819
 2625 0042 0546     		mov	r5, r0
 2626              	.LVL249:
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2627              		.loc 1 331 6 view .LVU820
 2628 0044 78BB     		cbnz	r0, .L230
 339:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2629              		.loc 1 339 5 is_stmt 1 view .LVU821
 2630 0046 636A     		ldr	r3, [r4, #36]
 2631 0048 1BB1     		cbz	r3, .L223
 339:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2632              		.loc 1 339 5 discriminator 1 view .LVU822
 2633 004a 3A46     		mov	r2, r7
 2634 004c 0021     		movs	r1, #0
 2635 004e 2046     		mov	r0, r4
 2636 0050 9847     		blx	r3
 2637              	.LVL250:
 2638              	.L223:
 343:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2639              		.loc 1 343 1 is_stmt 0 view .LVU823
 2640 0052 2846     		mov	r0, r5
 2641 0054 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2642              	.LVL251:
 2643              	.L232:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2644              		.loc 1 300 3 is_stmt 1 discriminator 1 view .LVU824
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2645              		.loc 1 300 3 discriminator 1 view .LVU825
 2646 0056 154B     		ldr	r3, .L236
 2647              	.LVL252:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2648              		.loc 1 300 3 is_stmt 0 discriminator 1 view .LVU826
 2649 0058 4FF49672 		mov	r2, #300
 2650              	.LVL253:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2651              		.loc 1 300 3 discriminator 1 view .LVU827
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 91


 2652 005c 1649     		ldr	r1, .L236+12
 2653              	.LVL254:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2654              		.loc 1 300 3 discriminator 1 view .LVU828
 2655 005e 1548     		ldr	r0, .L236+8
 2656              	.LVL255:
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2657              		.loc 1 300 3 discriminator 1 view .LVU829
 2658 0060 FFF7FEFF 		bl	printf
 2659              	.LVL256:
 2660 0064 D2E7     		b	.L220
 2661              	.L233:
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2662              		.loc 1 301 3 is_stmt 1 discriminator 1 view .LVU830
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK unhandled", err == ERR_OK);
 2663              		.loc 1 301 3 discriminator 1 view .LVU831
 2664 0066 114B     		ldr	r3, .L236
 2665 0068 40F22D12 		movw	r2, #301
 2666 006c 1349     		ldr	r1, .L236+16
 2667 006e 1148     		ldr	r0, .L236+8
 2668 0070 FFF7FEFF 		bl	printf
 2669              	.LVL257:
 2670 0074 CBE7     		b	.L221
 2671              	.L234:
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2672              		.loc 1 302 3 discriminator 1 view .LVU832
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 2673              		.loc 1 302 3 discriminator 1 view .LVU833
 2674 0076 0D4B     		ldr	r3, .L236
 2675 0078 4FF49772 		mov	r2, #302
 2676 007c 1049     		ldr	r1, .L236+20
 2677 007e 0D48     		ldr	r0, .L236+8
 2678 0080 FFF7FEFF 		bl	printf
 2679              	.LVL258:
 2680 0084 C5E7     		b	.L222
 2681              	.LVL259:
 2682              	.L235:
 313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 2683              		.loc 1 313 5 view .LVU834
 313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 2684              		.loc 1 313 8 is_stmt 0 view .LVU835
 2685 0086 35B1     		cbz	r5, .L226
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       pbuf_free(p);
 2686              		.loc 1 314 7 is_stmt 1 view .LVU836
 2687 0088 2989     		ldrh	r1, [r5, #8]
 2688 008a 3846     		mov	r0, r7
 2689 008c FFF7FEFF 		bl	tcp_recved
 2690              	.LVL260:
 315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2691              		.loc 1 315 7 view .LVU837
 2692 0090 2846     		mov	r0, r5
 2693 0092 FFF7FEFF 		bl	pbuf_free
 2694              	.LVL261:
 2695              	.L226:
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2696              		.loc 1 317 5 view .LVU838
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 92


 2697              		.loc 1 317 12 is_stmt 0 view .LVU839
 2698 0096 0025     		movs	r5, #0
 2699              	.LVL262:
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2700              		.loc 1 317 12 view .LVU840
 2701 0098 DBE7     		b	.L223
 2702              	.LVL263:
 2703              	.L229:
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = 0;
 2704              		.loc 1 327 9 view .LVU841
 2705 009a 0A4D     		ldr	r5, .L236+24
 2706              	.LVL264:
 328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2707              		.loc 1 328 9 view .LVU842
 2708 009c 0027     		movs	r7, #0
 2709              	.LVL265:
 328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2710              		.loc 1 328 9 view .LVU843
 2711 009e CCE7     		b	.L227
 2712              	.LVL266:
 2713              	.L228:
 307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2714              		.loc 1 307 12 view .LVU844
 2715 00a0 6FF00505 		mvn	r5, #5
 2716              	.LVL267:
 307:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2717              		.loc 1 307 12 view .LVU845
 2718 00a4 D5E7     		b	.L223
 2719              	.LVL268:
 2720              	.L230:
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2721              		.loc 1 333 12 view .LVU846
 2722 00a6 4FF0FF35 		mov	r5, #-1
 2723 00aa D2E7     		b	.L223
 2724              	.L237:
 2725              		.align	2
 2726              	.L236:
 2727 00ac 00000000 		.word	.LC0
 2728 00b0 5C000000 		.word	.LC27
 2729 00b4 40000000 		.word	.LC2
 2730 00b8 00000000 		.word	.LC24
 2731 00bc 24000000 		.word	.LC25
 2732 00c0 44000000 		.word	.LC26
 2733 00c4 00000000 		.word	.LANCHOR1
 2734              		.cfi_endproc
 2735              	.LFE367:
 2737              		.section	.rodata.lwip_netconn_is_err_msg.str1.4,"aMS",%progbits,1
 2738              		.align	2
 2739              	.LC28:
 2740 0000 65727220 		.ascii	"err != NULL\000"
 2740      213D204E 
 2740      554C4C00 
 2741              		.section	.text.lwip_netconn_is_err_msg,"ax",%progbits
 2742              		.align	1
 2743              		.global	lwip_netconn_is_err_msg
 2744              		.syntax unified
 2745              		.thumb
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 93


 2746              		.thumb_func
 2748              	lwip_netconn_is_err_msg:
 2749              	.LVL269:
 2750              	.LFB365:
 132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 2751              		.loc 1 132 1 is_stmt 1 view -0
 2752              		.cfi_startproc
 2753              		@ args = 0, pretend = 0, frame = 0
 2754              		@ frame_needed = 0, uses_anonymous_args = 0
 132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != NULL", err != NULL);
 2755              		.loc 1 132 1 is_stmt 0 view .LVU848
 2756 0000 38B5     		push	{r3, r4, r5, lr}
 2757              	.LCFI13:
 2758              		.cfi_def_cfa_offset 16
 2759              		.cfi_offset 3, -16
 2760              		.cfi_offset 4, -12
 2761              		.cfi_offset 5, -8
 2762              		.cfi_offset 14, -4
 2763 0002 0446     		mov	r4, r0
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2764              		.loc 1 133 3 is_stmt 1 view .LVU849
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2765              		.loc 1 133 3 view .LVU850
 2766 0004 0D46     		mov	r5, r1
 2767 0006 51B1     		cbz	r1, .L245
 2768              	.LVL270:
 2769              	.L239:
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2770              		.loc 1 133 3 discriminator 3 view .LVU851
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2771              		.loc 1 133 3 discriminator 3 view .LVU852
 135:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_ABRT;
 2772              		.loc 1 135 3 discriminator 3 view .LVU853
 135:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_ABRT;
 2773              		.loc 1 135 6 is_stmt 0 discriminator 3 view .LVU854
 2774 0008 0E4B     		ldr	r3, .L249
 2775 000a 9C42     		cmp	r4, r3
 2776 000c 0ED0     		beq	.L246
 138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_RST;
 2777              		.loc 1 138 10 is_stmt 1 view .LVU855
 138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_RST;
 2778              		.loc 1 138 13 is_stmt 0 view .LVU856
 2779 000e 0E4B     		ldr	r3, .L249+4
 2780 0010 9C42     		cmp	r4, r3
 2781 0012 0FD0     		beq	.L247
 141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_CLSD;
 2782              		.loc 1 141 10 is_stmt 1 view .LVU857
 141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     *err = ERR_CLSD;
 2783              		.loc 1 141 13 is_stmt 0 view .LVU858
 2784 0014 0D4B     		ldr	r3, .L249+8
 2785 0016 9C42     		cmp	r4, r3
 2786 0018 10D0     		beq	.L248
 145:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2787              		.loc 1 145 10 view .LVU859
 2788 001a 0020     		movs	r0, #0
 2789              	.L238:
 146:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 94


 2790              		.loc 1 146 1 view .LVU860
 2791 001c 38BD     		pop	{r3, r4, r5, pc}
 2792              	.LVL271:
 2793              	.L245:
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2794              		.loc 1 133 3 is_stmt 1 discriminator 1 view .LVU861
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2795              		.loc 1 133 3 discriminator 1 view .LVU862
 2796 001e 0C4B     		ldr	r3, .L249+12
 2797 0020 8522     		movs	r2, #133
 2798 0022 0C49     		ldr	r1, .L249+16
 2799              	.LVL272:
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2800              		.loc 1 133 3 is_stmt 0 discriminator 1 view .LVU863
 2801 0024 0C48     		ldr	r0, .L249+20
 2802              	.LVL273:
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2803              		.loc 1 133 3 discriminator 1 view .LVU864
 2804 0026 FFF7FEFF 		bl	printf
 2805              	.LVL274:
 2806 002a EDE7     		b	.L239
 2807              	.L246:
 136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2808              		.loc 1 136 5 is_stmt 1 view .LVU865
 136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2809              		.loc 1 136 10 is_stmt 0 view .LVU866
 2810 002c F323     		movs	r3, #243
 2811 002e 2B70     		strb	r3, [r5]
 137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 2812              		.loc 1 137 5 is_stmt 1 view .LVU867
 137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_reset) {
 2813              		.loc 1 137 12 is_stmt 0 view .LVU868
 2814 0030 0120     		movs	r0, #1
 2815 0032 F3E7     		b	.L238
 2816              	.L247:
 139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2817              		.loc 1 139 5 is_stmt 1 view .LVU869
 139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2818              		.loc 1 139 10 is_stmt 0 view .LVU870
 2819 0034 F223     		movs	r3, #242
 2820 0036 2B70     		strb	r3, [r5]
 140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 2821              		.loc 1 140 5 is_stmt 1 view .LVU871
 140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (msg == &netconn_closed) {
 2822              		.loc 1 140 12 is_stmt 0 view .LVU872
 2823 0038 0120     		movs	r0, #1
 2824 003a EFE7     		b	.L238
 2825              	.L248:
 142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2826              		.loc 1 142 5 is_stmt 1 view .LVU873
 142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return 1;
 2827              		.loc 1 142 10 is_stmt 0 view .LVU874
 2828 003c F123     		movs	r3, #241
 2829 003e 2B70     		strb	r3, [r5]
 143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2830              		.loc 1 143 5 is_stmt 1 view .LVU875
 143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 95


 2831              		.loc 1 143 12 is_stmt 0 view .LVU876
 2832 0040 0120     		movs	r0, #1
 2833 0042 EBE7     		b	.L238
 2834              	.L250:
 2835              		.align	2
 2836              	.L249:
 2837 0044 00000000 		.word	.LANCHOR2
 2838 0048 00000000 		.word	.LANCHOR0
 2839 004c 00000000 		.word	.LANCHOR1
 2840 0050 00000000 		.word	.LC0
 2841 0054 00000000 		.word	.LC28
 2842 0058 40000000 		.word	.LC2
 2843              		.cfi_endproc
 2844              	.LFE365:
 2846              		.section	.text.lwip_netconn_do_newconn,"ax",%progbits
 2847              		.align	1
 2848              		.global	lwip_netconn_do_newconn
 2849              		.syntax unified
 2850              		.thumb
 2851              		.thumb_func
 2853              	lwip_netconn_do_newconn:
 2854              	.LVL275:
 2855              	.LFB374:
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 2856              		.loc 1 681 1 is_stmt 1 view -0
 2857              		.cfi_startproc
 2858              		@ args = 0, pretend = 0, frame = 0
 2859              		@ frame_needed = 0, uses_anonymous_args = 0
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 2860              		.loc 1 681 1 is_stmt 0 view .LVU878
 2861 0000 08B5     		push	{r3, lr}
 2862              	.LCFI14:
 2863              		.cfi_def_cfa_offset 8
 2864              		.cfi_offset 3, -8
 2865              		.cfi_offset 14, -4
 682:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2866              		.loc 1 682 3 is_stmt 1 view .LVU879
 2867              	.LVL276:
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 2868              		.loc 1 684 3 view .LVU880
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 2869              		.loc 1 684 12 is_stmt 0 view .LVU881
 2870 0002 0023     		movs	r3, #0
 2871 0004 0371     		strb	r3, [r0, #4]
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2872              		.loc 1 685 3 is_stmt 1 view .LVU882
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2873              		.loc 1 685 10 is_stmt 0 view .LVU883
 2874 0006 0368     		ldr	r3, [r0]
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2875              		.loc 1 685 21 view .LVU884
 2876 0008 5B68     		ldr	r3, [r3, #4]
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2877              		.loc 1 685 6 view .LVU885
 2878 000a 03B1     		cbz	r3, .L254
 2879              	.LVL277:
 2880              	.L251:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 96


 693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2881              		.loc 1 693 1 view .LVU886
 2882 000c 08BD     		pop	{r3, pc}
 2883              	.LVL278:
 2884              	.L254:
 686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2885              		.loc 1 686 5 is_stmt 1 view .LVU887
 2886 000e FFF7FEFF 		bl	pcb_new
 2887              	.LVL279:
 692:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2888              		.loc 1 692 24 view .LVU888
 693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2889              		.loc 1 693 1 is_stmt 0 view .LVU889
 2890 0012 FBE7     		b	.L251
 2891              		.cfi_endproc
 2892              	.LFE374:
 2894              		.section	.rodata.netconn_alloc.str1.4,"aMS",%progbits,1
 2895              		.align	2
 2896              	.LC29:
 2897 0000 6E657463 		.ascii	"netconn_alloc: undefined netconn_type\000"
 2897      6F6E6E5F 
 2897      616C6C6F 
 2897      633A2075 
 2897      6E646566 
 2898              		.section	.text.netconn_alloc,"ax",%progbits
 2899              		.align	1
 2900              		.global	netconn_alloc
 2901              		.syntax unified
 2902              		.thumb
 2903              		.thumb_func
 2905              	netconn_alloc:
 2906              	.LVL280:
 2907              	.LFB375:
 706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2908              		.loc 1 706 1 is_stmt 1 view -0
 2909              		.cfi_startproc
 2910              		@ args = 0, pretend = 0, frame = 0
 2911              		@ frame_needed = 0, uses_anonymous_args = 0
 706:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2912              		.loc 1 706 1 is_stmt 0 view .LVU891
 2913 0000 70B5     		push	{r4, r5, r6, lr}
 2914              	.LCFI15:
 2915              		.cfi_def_cfa_offset 16
 2916              		.cfi_offset 4, -16
 2917              		.cfi_offset 5, -12
 2918              		.cfi_offset 6, -8
 2919              		.cfi_offset 14, -4
 2920 0002 0546     		mov	r5, r0
 2921 0004 0E46     		mov	r6, r1
 707:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int size;
 2922              		.loc 1 707 3 is_stmt 1 view .LVU892
 708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t init_flags = 0;
 2923              		.loc 1 708 3 view .LVU893
 709:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2924              		.loc 1 709 3 view .LVU894
 2925              	.LVL281:
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 97


 2926              		.loc 1 711 3 view .LVU895
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 2927              		.loc 1 711 28 is_stmt 0 view .LVU896
 2928 0006 0720     		movs	r0, #7
 2929              	.LVL282:
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 2930              		.loc 1 711 28 view .LVU897
 2931 0008 FFF7FEFF 		bl	memp_malloc
 2932              	.LVL283:
 712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 2933              		.loc 1 712 3 is_stmt 1 view .LVU898
 712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 2934              		.loc 1 712 6 is_stmt 0 view .LVU899
 2935 000c 0446     		mov	r4, r0
 2936 000e 78B3     		cbz	r0, .L255
 716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 2937              		.loc 1 716 3 is_stmt 1 view .LVU900
 716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 2938              		.loc 1 716 21 is_stmt 0 view .LVU901
 2939 0010 0023     		movs	r3, #0
 2940 0012 0372     		strb	r3, [r0, #8]
 717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 2941              		.loc 1 717 3 is_stmt 1 view .LVU902
 717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 2942              		.loc 1 717 14 is_stmt 0 view .LVU903
 2943 0014 0570     		strb	r5, [r0]
 718:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2944              		.loc 1 718 3 is_stmt 1 view .LVU904
 718:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2945              		.loc 1 718 17 is_stmt 0 view .LVU905
 2946 0016 4360     		str	r3, [r0, #4]
 721:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 2947              		.loc 1 721 3 is_stmt 1 view .LVU906
 2948 0018 05F0F005 		and	r5, r5, #240
 2949 001c 102D     		cmp	r5, #16
 2950 001e 01D0     		beq	.L257
 2951 0020 202D     		cmp	r5, #32
 2952 0022 19D1     		bne	.L261
 2953              	.L257:
 2954              	.LVL284:
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2955              		.loc 1 745 3 view .LVU907
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2956              		.loc 1 745 7 is_stmt 0 view .LVU908
 2957 0024 04F11005 		add	r5, r4, #16
 2958 0028 0621     		movs	r1, #6
 2959 002a 2846     		mov	r0, r5
 2960              	.LVL285:
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2961              		.loc 1 745 7 view .LVU909
 2962 002c FFF7FEFF 		bl	sys_mbox_new
 2963              	.LVL286:
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2964              		.loc 1 745 6 view .LVU910
 2965 0030 C8B9     		cbnz	r0, .L258
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2966              		.loc 1 749 3 is_stmt 1 view .LVU911
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 98


 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2967              		.loc 1 749 7 is_stmt 0 view .LVU912
 2968 0032 0021     		movs	r1, #0
 2969 0034 04F10C00 		add	r0, r4, #12
 2970 0038 FFF7FEFF 		bl	sys_sem_new
 2971              	.LVL287:
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2972              		.loc 1 749 6 view .LVU913
 2973 003c D0B9     		cbnz	r0, .L262
 756:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2974              		.loc 1 756 3 is_stmt 1 view .LVU914
 2975 003e 04F11400 		add	r0, r4, #20
 2976 0042 FFF7FEFF 		bl	sys_mbox_set_invalid
 2977              	.LVL288:
 758:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 2978              		.loc 1 758 3 view .LVU915
 758:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 2979              		.loc 1 758 22 is_stmt 0 view .LVU916
 2980 0046 0023     		movs	r3, #0
 2981 0048 6370     		strb	r3, [r4, #1]
 761:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 2982              		.loc 1 761 3 is_stmt 1 view .LVU917
 761:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 2983              		.loc 1 761 22 is_stmt 0 view .LVU918
 2984 004a 4FF0FF32 		mov	r2, #-1
 2985 004e A261     		str	r2, [r4, #24]
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 2986              		.loc 1 763 3 is_stmt 1 view .LVU919
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 2987              		.loc 1 763 22 is_stmt 0 view .LVU920
 2988 0050 6662     		str	r6, [r4, #36]
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2989              		.loc 1 765 3 is_stmt 1 view .LVU921
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2990              		.loc 1 765 22 is_stmt 0 view .LVU922
 2991 0052 2362     		str	r3, [r4, #32]
 780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 2992              		.loc 1 780 3 is_stmt 1 view .LVU923
 780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 2993              		.loc 1 780 15 is_stmt 0 view .LVU924
 2994 0054 2377     		strb	r3, [r4, #28]
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 2995              		.loc 1 781 3 is_stmt 1 view .LVU925
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 2996              		.loc 1 781 10 is_stmt 0 view .LVU926
 2997 0056 0BE0     		b	.L255
 2998              	.LVL289:
 2999              	.L261:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3000              		.loc 1 741 7 is_stmt 1 discriminator 1 view .LVU927
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3001              		.loc 1 741 7 discriminator 1 view .LVU928
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3002              		.loc 1 741 7 discriminator 1 view .LVU929
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3003              		.loc 1 741 7 discriminator 1 view .LVU930
 3004 0058 084B     		ldr	r3, .L263
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 99


 3005 005a 40F2E522 		movw	r2, #741
 3006 005e 0849     		ldr	r1, .L263+4
 3007 0060 0848     		ldr	r0, .L263+8
 3008              	.LVL290:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3009              		.loc 1 741 7 is_stmt 0 discriminator 1 view .LVU931
 3010 0062 FFF7FEFF 		bl	printf
 3011              	.LVL291:
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3012              		.loc 1 741 7 is_stmt 1 discriminator 1 view .LVU932
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       goto free_and_return;
 3013              		.loc 1 741 7 discriminator 1 view .LVU933
 742:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3014              		.loc 1 742 7 discriminator 1 view .LVU934
 3015              	.L258:
 783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return NULL;
 3016              		.loc 1 783 3 view .LVU935
 3017 0066 2146     		mov	r1, r4
 3018 0068 0720     		movs	r0, #7
 3019 006a FFF7FEFF 		bl	memp_free
 3020              	.LVL292:
 784:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3021              		.loc 1 784 3 view .LVU936
 784:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3022              		.loc 1 784 10 is_stmt 0 view .LVU937
 3023 006e 0024     		movs	r4, #0
 3024              	.LVL293:
 3025              	.L255:
 785:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3026              		.loc 1 785 1 view .LVU938
 3027 0070 2046     		mov	r0, r4
 3028 0072 70BD     		pop	{r4, r5, r6, pc}
 3029              	.LVL294:
 3030              	.L262:
 750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 3031              		.loc 1 750 5 is_stmt 1 view .LVU939
 3032 0074 2846     		mov	r0, r5
 3033 0076 FFF7FEFF 		bl	sys_mbox_free
 3034              	.LVL295:
 751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3035              		.loc 1 751 5 view .LVU940
 3036 007a F4E7     		b	.L258
 3037              	.L264:
 3038              		.align	2
 3039              	.L263:
 3040 007c 00000000 		.word	.LC0
 3041 0080 00000000 		.word	.LC29
 3042 0084 40000000 		.word	.LC2
 3043              		.cfi_endproc
 3044              	.LFE375:
 3046              		.section	.rodata.netconn_free.str1.4,"aMS",%progbits,1
 3047              		.align	2
 3048              	.LC30:
 3049 0000 50434220 		.ascii	"PCB must be deallocated outside this function\000"
 3049      6D757374 
 3049      20626520 
 3049      6465616C 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 100


 3049      6C6F6361 
 3050 002e 0000     		.align	2
 3051              	.LC31:
 3052 0030 72656376 		.ascii	"recvmbox must be deallocated before calling this fu"
 3052      6D626F78 
 3052      206D7573 
 3052      74206265 
 3052      20646561 
 3053 0063 6E637469 		.ascii	"nction\000"
 3053      6F6E00
 3054 006a 0000     		.align	2
 3055              	.LC32:
 3056 006c 61636365 		.ascii	"acceptmbox must be deallocated before calling this "
 3056      70746D62 
 3056      6F78206D 
 3056      75737420 
 3056      62652064 
 3057 009f 66756E63 		.ascii	"function\000"
 3057      74696F6E 
 3057      00
 3058              		.section	.text.netconn_free,"ax",%progbits
 3059              		.align	1
 3060              		.global	netconn_free
 3061              		.syntax unified
 3062              		.thumb
 3063              		.thumb_func
 3065              	netconn_free:
 3066              	.LVL296:
 3067              	.LFB376:
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 3068              		.loc 1 795 1 view -0
 3069              		.cfi_startproc
 3070              		@ args = 0, pretend = 0, frame = 0
 3071              		@ frame_needed = 0, uses_anonymous_args = 0
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 3072              		.loc 1 795 1 is_stmt 0 view .LVU942
 3073 0000 38B5     		push	{r3, r4, r5, lr}
 3074              	.LCFI16:
 3075              		.cfi_def_cfa_offset 16
 3076              		.cfi_offset 3, -16
 3077              		.cfi_offset 4, -12
 3078              		.cfi_offset 5, -8
 3079              		.cfi_offset 14, -4
 3080 0002 0446     		mov	r4, r0
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3081              		.loc 1 796 3 is_stmt 1 view .LVU943
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3082              		.loc 1 796 3 view .LVU944
 3083 0004 4368     		ldr	r3, [r0, #4]
 3084 0006 33B1     		cbz	r3, .L266
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3085              		.loc 1 796 3 discriminator 1 view .LVU945
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3086              		.loc 1 796 3 discriminator 1 view .LVU946
 3087 0008 164B     		ldr	r3, .L272
 3088 000a 4FF44772 		mov	r2, #796
 3089 000e 1649     		ldr	r1, .L272+4
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 101


 3090 0010 1648     		ldr	r0, .L272+8
 3091              	.LVL297:
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3092              		.loc 1 796 3 is_stmt 0 discriminator 1 view .LVU947
 3093 0012 FFF7FEFF 		bl	printf
 3094              	.LVL298:
 3095              	.L266:
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3096              		.loc 1 796 3 is_stmt 1 discriminator 3 view .LVU948
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3097              		.loc 1 796 3 discriminator 3 view .LVU949
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3098              		.loc 1 803 3 discriminator 3 view .LVU950
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3099              		.loc 1 803 3 discriminator 3 view .LVU951
 3100 0016 04F11000 		add	r0, r4, #16
 3101 001a FFF7FEFF 		bl	sys_mbox_valid
 3102              	.LVL299:
 3103 001e 88B9     		cbnz	r0, .L270
 3104              	.L267:
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3105              		.loc 1 803 3 discriminator 3 view .LVU952
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3106              		.loc 1 803 3 discriminator 3 view .LVU953
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3107              		.loc 1 806 3 discriminator 3 view .LVU954
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3108              		.loc 1 806 3 discriminator 3 view .LVU955
 3109 0020 04F11400 		add	r0, r4, #20
 3110 0024 FFF7FEFF 		bl	sys_mbox_valid
 3111              	.LVL300:
 3112 0028 A0B9     		cbnz	r0, .L271
 3113              	.L268:
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3114              		.loc 1 806 3 discriminator 3 view .LVU956
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3115              		.loc 1 806 3 discriminator 3 view .LVU957
 811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 3116              		.loc 1 811 3 discriminator 3 view .LVU958
 3117 002a 04F10C05 		add	r5, r4, #12
 3118 002e 2846     		mov	r0, r5
 3119 0030 FFF7FEFF 		bl	sys_sem_free
 3120              	.LVL301:
 812:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 3121              		.loc 1 812 3 discriminator 3 view .LVU959
 3122 0034 2846     		mov	r0, r5
 3123 0036 FFF7FEFF 		bl	sys_sem_set_invalid
 3124              	.LVL302:
 815:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3125              		.loc 1 815 3 discriminator 3 view .LVU960
 3126 003a 2146     		mov	r1, r4
 3127 003c 0720     		movs	r0, #7
 3128 003e FFF7FEFF 		bl	memp_free
 3129              	.LVL303:
 816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3130              		.loc 1 816 1 is_stmt 0 discriminator 3 view .LVU961
 3131 0042 38BD     		pop	{r3, r4, r5, pc}
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 102


 3132              	.LVL304:
 3133              	.L270:
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3134              		.loc 1 803 3 is_stmt 1 discriminator 1 view .LVU962
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->recvmbox));
 3135              		.loc 1 803 3 discriminator 1 view .LVU963
 3136 0044 074B     		ldr	r3, .L272
 3137 0046 40F22332 		movw	r2, #803
 3138 004a 0949     		ldr	r1, .L272+12
 3139 004c 0748     		ldr	r0, .L272+8
 3140 004e FFF7FEFF 		bl	printf
 3141              	.LVL305:
 3142 0052 E5E7     		b	.L267
 3143              	.L271:
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3144              		.loc 1 806 3 discriminator 1 view .LVU964
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               !sys_mbox_valid(&conn->acceptmbox));
 3145              		.loc 1 806 3 discriminator 1 view .LVU965
 3146 0054 034B     		ldr	r3, .L272
 3147 0056 40F22632 		movw	r2, #806
 3148 005a 0649     		ldr	r1, .L272+16
 3149 005c 0348     		ldr	r0, .L272+8
 3150 005e FFF7FEFF 		bl	printf
 3151              	.LVL306:
 3152 0062 E2E7     		b	.L268
 3153              	.L273:
 3154              		.align	2
 3155              	.L272:
 3156 0064 00000000 		.word	.LC0
 3157 0068 00000000 		.word	.LC30
 3158 006c 40000000 		.word	.LC2
 3159 0070 30000000 		.word	.LC31
 3160 0074 6C000000 		.word	.LC32
 3161              		.cfi_endproc
 3162              	.LFE376:
 3164              		.section	.text.netconn_drain,"ax",%progbits
 3165              		.align	1
 3166              		.syntax unified
 3167              		.thumb
 3168              		.thumb_func
 3170              	netconn_drain:
 3171              	.LVL307:
 3172              	.LFB377:
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 3173              		.loc 1 828 1 view -0
 3174              		.cfi_startproc
 3175              		@ args = 0, pretend = 0, frame = 8
 3176              		@ frame_needed = 0, uses_anonymous_args = 0
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 3177              		.loc 1 828 1 is_stmt 0 view .LVU967
 3178 0000 30B5     		push	{r4, r5, lr}
 3179              	.LCFI17:
 3180              		.cfi_def_cfa_offset 12
 3181              		.cfi_offset 4, -12
 3182              		.cfi_offset 5, -8
 3183              		.cfi_offset 14, -4
 3184 0002 83B0     		sub	sp, sp, #12
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 103


 3185              	.LCFI18:
 3186              		.cfi_def_cfa_offset 24
 3187 0004 0446     		mov	r4, r0
 829:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3188              		.loc 1 829 3 is_stmt 1 view .LVU968
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3189              		.loc 1 838 3 view .LVU969
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3190              		.loc 1 838 7 is_stmt 0 view .LVU970
 3191 0006 00F11005 		add	r5, r0, #16
 3192 000a 2846     		mov	r0, r5
 3193              	.LVL308:
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3194              		.loc 1 838 7 view .LVU971
 3195 000c FFF7FEFF 		bl	sys_mbox_valid
 3196              	.LVL309:
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 3197              		.loc 1 838 6 view .LVU972
 3198 0010 58B9     		cbnz	r0, .L275
 3199              	.L276:
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3200              		.loc 1 863 3 is_stmt 1 view .LVU973
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3201              		.loc 1 863 7 is_stmt 0 view .LVU974
 3202 0012 1434     		adds	r4, r4, #20
 3203              	.LVL310:
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3204              		.loc 1 863 7 view .LVU975
 3205 0014 2046     		mov	r0, r4
 3206 0016 FFF7FEFF 		bl	sys_mbox_valid
 3207              	.LVL311:
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3208              		.loc 1 863 6 view .LVU976
 3209 001a 20BB     		cbnz	r0, .L281
 3210 001c 43E0     		b	.L274
 3211              	.LVL312:
 3212              	.L289:
 3213              	.LBB15:
 846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (!lwip_netconn_is_err_msg(mem, &err)) {
 3214              		.loc 1 846 11 is_stmt 1 view .LVU977
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3215              		.loc 1 847 11 view .LVU978
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3216              		.loc 1 847 16 is_stmt 0 view .LVU979
 3217 001e 0DF10301 		add	r1, sp, #3
 3218 0022 0198     		ldr	r0, [sp, #4]
 3219 0024 FFF7FEFF 		bl	lwip_netconn_is_err_msg
 3220              	.LVL313:
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3221              		.loc 1 847 14 view .LVU980
 3222 0028 78B1     		cbz	r0, .L287
 3223              	.L275:
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             pbuf_free((struct pbuf *)mem);
 3224              		.loc 1 847 14 view .LVU981
 3225              	.LBE15:
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3226              		.loc 1 839 11 is_stmt 1 view .LVU982
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 104


 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3227              		.loc 1 839 12 is_stmt 0 view .LVU983
 3228 002a 01A9     		add	r1, sp, #4
 3229 002c 2846     		mov	r0, r5
 3230 002e FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 3231              	.LVL314:
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3232              		.loc 1 839 11 view .LVU984
 3233 0032 B0F1FF3F 		cmp	r0, #-1
 3234 0036 0CD0     		beq	.L288
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 3235              		.loc 1 845 9 is_stmt 1 view .LVU985
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 3236              		.loc 1 845 13 is_stmt 0 view .LVU986
 3237 0038 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err_t err;
 3238              		.loc 1 845 12 view .LVU987
 3239 003a 03F0F003 		and	r3, r3, #240
 3240 003e 102B     		cmp	r3, #16
 3241 0040 EDD0     		beq	.L289
 853:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3242              		.loc 1 853 11 is_stmt 1 view .LVU988
 3243 0042 0198     		ldr	r0, [sp, #4]
 3244 0044 FFF7FEFF 		bl	netbuf_delete
 3245              	.LVL315:
 3246 0048 EFE7     		b	.L275
 3247              	.L287:
 3248              	.LBB16:
 848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3249              		.loc 1 848 13 view .LVU989
 3250 004a 0198     		ldr	r0, [sp, #4]
 3251 004c FFF7FEFF 		bl	pbuf_free
 3252              	.LVL316:
 3253 0050 EBE7     		b	.L275
 3254              	.L288:
 848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3255              		.loc 1 848 13 is_stmt 0 view .LVU990
 3256              	.LBE16:
 857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 3257              		.loc 1 857 5 is_stmt 1 view .LVU991
 3258 0052 2846     		mov	r0, r5
 3259 0054 FFF7FEFF 		bl	sys_mbox_free
 3260              	.LVL317:
 858:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3261              		.loc 1 858 5 view .LVU992
 3262 0058 2846     		mov	r0, r5
 3263 005a FFF7FEFF 		bl	sys_mbox_set_invalid
 3264              	.LVL318:
 3265 005e D8E7     		b	.L276
 3266              	.LVL319:
 3267              	.L284:
 3268              	.LBB17:
 3269              	.LBB18:
 880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3270              		.loc 1 880 11 view .LVU993
 3271 0060 2846     		mov	r0, r5
 3272 0062 FFF7FEFF 		bl	netconn_free
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 105


 3273              	.LVL320:
 3274              	.L281:
 880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3275              		.loc 1 880 11 is_stmt 0 view .LVU994
 3276              	.LBE18:
 3277              	.LBE17:
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3278              		.loc 1 864 11 is_stmt 1 view .LVU995
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3279              		.loc 1 864 12 is_stmt 0 view .LVU996
 3280 0066 01A9     		add	r1, sp, #4
 3281 0068 2046     		mov	r0, r4
 3282 006a FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 3283              	.LVL321:
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3284              		.loc 1 864 11 view .LVU997
 3285 006e B0F1FF3F 		cmp	r0, #-1
 3286 0072 12D0     		beq	.L290
 3287              	.LBB20:
 869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (!lwip_netconn_is_err_msg(mem, &err)) {
 3288              		.loc 1 869 9 is_stmt 1 view .LVU998
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 3289              		.loc 1 870 9 view .LVU999
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 3290              		.loc 1 870 14 is_stmt 0 view .LVU1000
 3291 0074 0DF10301 		add	r1, sp, #3
 3292 0078 0198     		ldr	r0, [sp, #4]
 3293 007a FFF7FEFF 		bl	lwip_netconn_is_err_msg
 3294              	.LVL322:
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct netconn *newconn = (struct netconn *)mem;
 3295              		.loc 1 870 12 view .LVU1001
 3296 007e 0028     		cmp	r0, #0
 3297 0080 F1D1     		bne	.L281
 3298              	.LBB19:
 871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 3299              		.loc 1 871 11 is_stmt 1 view .LVU1002
 871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 3300              		.loc 1 871 27 is_stmt 0 view .LVU1003
 3301 0082 019D     		ldr	r5, [sp, #4]
 3302              	.LVL323:
 875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (newconn->pcb.tcp != NULL) {
 3303              		.loc 1 875 11 is_stmt 1 view .LVU1004
 3304 0084 2846     		mov	r0, r5
 3305 0086 FFF7BBFF 		bl	netconn_drain
 3306              	.LVL324:
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 3307              		.loc 1 876 11 view .LVU1005
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 3308              		.loc 1 876 27 is_stmt 0 view .LVU1006
 3309 008a 6868     		ldr	r0, [r5, #4]
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_abort(newconn->pcb.tcp);
 3310              		.loc 1 876 14 view .LVU1007
 3311 008c 0028     		cmp	r0, #0
 3312 008e E7D0     		beq	.L284
 877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             newconn->pcb.tcp = NULL;
 3313              		.loc 1 877 13 is_stmt 1 view .LVU1008
 3314 0090 FFF7FEFF 		bl	tcp_abort
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 106


 3315              	.LVL325:
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3316              		.loc 1 878 13 view .LVU1009
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3317              		.loc 1 878 30 is_stmt 0 view .LVU1010
 3318 0094 0023     		movs	r3, #0
 3319 0096 6B60     		str	r3, [r5, #4]
 3320 0098 E2E7     		b	.L284
 3321              	.LVL326:
 3322              	.L290:
 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3323              		.loc 1 878 30 view .LVU1011
 3324              	.LBE19:
 3325              	.LBE20:
 884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 3326              		.loc 1 884 5 is_stmt 1 view .LVU1012
 3327 009a 2046     		mov	r0, r4
 3328 009c FFF7FEFF 		bl	sys_mbox_free
 3329              	.LVL327:
 885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3330              		.loc 1 885 5 view .LVU1013
 3331 00a0 2046     		mov	r0, r4
 3332 00a2 FFF7FEFF 		bl	sys_mbox_set_invalid
 3333              	.LVL328:
 3334              	.L274:
 888:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3335              		.loc 1 888 1 is_stmt 0 view .LVU1014
 3336 00a6 03B0     		add	sp, sp, #12
 3337              	.LCFI19:
 3338              		.cfi_def_cfa_offset 12
 3339              		@ sp needed
 3340 00a8 30BD     		pop	{r4, r5, pc}
 888:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3341              		.loc 1 888 1 view .LVU1015
 3342              		.cfi_endproc
 3343              	.LFE377:
 3345              		.section	.rodata.accept_function.str1.4,"aMS",%progbits,1
 3346              		.align	2
 3347              	.LC33:
 3348 0000 65787065 		.ascii	"expect newpcb == NULL or err == ERR_OK\000"
 3348      6374206E 
 3348      65777063 
 3348      62203D3D 
 3348      204E554C 
 3349              		.section	.text.accept_function,"ax",%progbits
 3350              		.align	1
 3351              		.syntax unified
 3352              		.thumb
 3353              		.thumb_func
 3355              	accept_function:
 3356              	.LVL329:
 3357              	.LFB372:
 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 3358              		.loc 1 534 1 is_stmt 1 view -0
 3359              		.cfi_startproc
 3360              		@ args = 0, pretend = 0, frame = 0
 3361              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 107


 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 3362              		.loc 1 534 1 is_stmt 0 view .LVU1017
 3363 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3364              	.LCFI20:
 3365              		.cfi_def_cfa_offset 24
 3366              		.cfi_offset 3, -24
 3367              		.cfi_offset 4, -20
 3368              		.cfi_offset 5, -16
 3369              		.cfi_offset 6, -12
 3370              		.cfi_offset 7, -8
 3371              		.cfi_offset 14, -4
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 3372              		.loc 1 535 3 is_stmt 1 view .LVU1018
 536:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3373              		.loc 1 536 3 view .LVU1019
 3374              	.LVL330:
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 3375              		.loc 1 538 3 view .LVU1020
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 3376              		.loc 1 538 6 is_stmt 0 view .LVU1021
 3377 0002 0028     		cmp	r0, #0
 3378 0004 74D0     		beq	.L299
 3379 0006 0D46     		mov	r5, r1
 3380 0008 1646     		mov	r6, r2
 3381 000a 0446     		mov	r4, r0
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3382              		.loc 1 541 3 is_stmt 1 view .LVU1022
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3383              		.loc 1 541 8 is_stmt 0 view .LVU1023
 3384 000c 00F11407 		add	r7, r0, #20
 3385 0010 3846     		mov	r0, r7
 3386              	.LVL331:
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3387              		.loc 1 541 8 view .LVU1024
 3388 0012 FFF7FEFF 		bl	sys_mbox_valid
 3389              	.LVL332:
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3390              		.loc 1 541 6 view .LVU1025
 3391 0016 0028     		cmp	r0, #0
 3392 0018 6DD0     		beq	.L300
 546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 3393              		.loc 1 546 3 is_stmt 1 view .LVU1026
 546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 3394              		.loc 1 546 6 is_stmt 0 view .LVU1027
 3395 001a BDB1     		cbz	r5, .L302
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3396              		.loc 1 554 3 is_stmt 1 view .LVU1028
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3397              		.loc 1 554 3 view .LVU1029
 3398 001c 46BB     		cbnz	r6, .L303
 3399              	.L295:
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3400              		.loc 1 554 3 discriminator 3 view .LVU1030
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3401              		.loc 1 554 3 discriminator 3 view .LVU1031
 555:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3402              		.loc 1 555 3 discriminator 3 view .LVU1032
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 108


 557:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3403              		.loc 1 557 107 discriminator 3 view .LVU1033
 561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 3404              		.loc 1 561 3 discriminator 3 view .LVU1034
 561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 3405              		.loc 1 561 13 is_stmt 0 discriminator 3 view .LVU1035
 3406 001e 616A     		ldr	r1, [r4, #36]
 3407 0020 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 3408 0022 FFF7FEFF 		bl	netconn_alloc
 3409              	.LVL333:
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 3410              		.loc 1 562 3 is_stmt 1 discriminator 3 view .LVU1036
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 3411              		.loc 1 562 6 is_stmt 0 discriminator 3 view .LVU1037
 3412 0026 0646     		mov	r6, r0
 3413 0028 50B3     		cbz	r0, .L304
 570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 3414              		.loc 1 570 3 is_stmt 1 view .LVU1038
 570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 3415              		.loc 1 570 20 is_stmt 0 view .LVU1039
 3416 002a 4560     		str	r5, [r0, #4]
 571:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3417              		.loc 1 571 3 is_stmt 1 view .LVU1040
 3418 002c FFF7FEFF 		bl	setup_tcp
 3419              	.LVL334:
 574:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3420              		.loc 1 574 30 view .LVU1041
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3421              		.loc 1 576 3 view .LVU1042
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3422              		.loc 1 576 7 is_stmt 0 view .LVU1043
 3423 0030 3146     		mov	r1, r6
 3424 0032 3846     		mov	r0, r7
 3425 0034 FFF7FEFF 		bl	sys_mbox_trypost
 3426              	.LVL335:
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3427              		.loc 1 576 6 view .LVU1044
 3428 0038 0546     		mov	r5, r0
 3429              	.LVL336:
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3430              		.loc 1 576 6 view .LVU1045
 3431 003a 98BB     		cbnz	r0, .L305
 595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3432              		.loc 1 595 5 is_stmt 1 view .LVU1046
 3433 003c 636A     		ldr	r3, [r4, #36]
 3434 003e 1BB1     		cbz	r3, .L292
 595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3435              		.loc 1 595 5 discriminator 1 view .LVU1047
 3436 0040 0022     		movs	r2, #0
 3437 0042 1146     		mov	r1, r2
 3438 0044 2046     		mov	r0, r4
 3439 0046 9847     		blx	r3
 3440              	.LVL337:
 3441              	.L292:
 599:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3442              		.loc 1 599 1 is_stmt 0 view .LVU1048
 3443 0048 2846     		mov	r0, r5
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 109


 3444 004a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3445              	.LVL338:
 3446              	.L302:
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3447              		.loc 1 548 5 is_stmt 1 view .LVU1049
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3448              		.loc 1 548 9 is_stmt 0 view .LVU1050
 3449 004c 6FF00C00 		mvn	r0, #12
 3450 0050 FFF7FEFF 		bl	lwip_netconn_err_to_msg
 3451              	.LVL339:
 3452 0054 0146     		mov	r1, r0
 3453 0056 3846     		mov	r0, r7
 3454 0058 FFF7FEFF 		bl	sys_mbox_trypost
 3455              	.LVL340:
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3456              		.loc 1 548 8 view .LVU1051
 3457 005c 28B9     		cbnz	r0, .L294
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3458              		.loc 1 550 7 is_stmt 1 view .LVU1052
 3459 005e 636A     		ldr	r3, [r4, #36]
 3460 0060 1BB1     		cbz	r3, .L294
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3461              		.loc 1 550 7 discriminator 1 view .LVU1053
 3462 0062 0022     		movs	r2, #0
 3463 0064 1146     		mov	r1, r2
 3464 0066 2046     		mov	r0, r4
 3465 0068 9847     		blx	r3
 3466              	.LVL341:
 3467              	.L294:
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3468              		.loc 1 550 46 discriminator 3 view .LVU1054
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3469              		.loc 1 552 5 discriminator 3 view .LVU1055
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3470              		.loc 1 552 12 is_stmt 0 discriminator 3 view .LVU1056
 3471 006a 6FF00505 		mvn	r5, #5
 3472              	.LVL342:
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3473              		.loc 1 552 12 discriminator 3 view .LVU1057
 3474 006e EBE7     		b	.L292
 3475              	.LVL343:
 3476              	.L303:
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3477              		.loc 1 554 3 is_stmt 1 discriminator 1 view .LVU1058
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(err); /* for LWIP_NOASSERT */
 3478              		.loc 1 554 3 discriminator 1 view .LVU1059
 3479 0070 224B     		ldr	r3, .L306
 3480 0072 40F22A22 		movw	r2, #554
 3481 0076 2249     		ldr	r1, .L306+4
 3482 0078 2248     		ldr	r0, .L306+8
 3483 007a FFF7FEFF 		bl	printf
 3484              	.LVL344:
 3485 007e CEE7     		b	.L295
 3486              	.LVL345:
 3487              	.L304:
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3488              		.loc 1 564 5 view .LVU1060
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 110


 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3489              		.loc 1 564 9 is_stmt 0 view .LVU1061
 3490 0080 6FF00C00 		mvn	r0, #12
 3491              	.LVL346:
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3492              		.loc 1 564 9 view .LVU1062
 3493 0084 FFF7FEFF 		bl	lwip_netconn_err_to_msg
 3494              	.LVL347:
 3495 0088 0146     		mov	r1, r0
 3496 008a 3846     		mov	r0, r7
 3497 008c FFF7FEFF 		bl	sys_mbox_trypost
 3498              	.LVL348:
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3499              		.loc 1 564 8 view .LVU1063
 3500 0090 28B9     		cbnz	r0, .L297
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3501              		.loc 1 566 7 is_stmt 1 view .LVU1064
 3502 0092 636A     		ldr	r3, [r4, #36]
 3503 0094 1BB1     		cbz	r3, .L297
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3504              		.loc 1 566 7 discriminator 1 view .LVU1065
 3505 0096 0022     		movs	r2, #0
 3506 0098 1146     		mov	r1, r2
 3507 009a 2046     		mov	r0, r4
 3508 009c 9847     		blx	r3
 3509              	.LVL349:
 3510              	.L297:
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3511              		.loc 1 566 46 discriminator 3 view .LVU1066
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3512              		.loc 1 568 5 discriminator 3 view .LVU1067
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3513              		.loc 1 568 12 is_stmt 0 discriminator 3 view .LVU1068
 3514 009e 4FF0FF35 		mov	r5, #-1
 3515              	.LVL350:
 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3516              		.loc 1 568 12 discriminator 3 view .LVU1069
 3517 00a2 D1E7     		b	.L292
 3518              	.L305:
 3519              	.LBB21:
 580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 3520              		.loc 1 580 5 is_stmt 1 view .LVU1070
 580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 3521              		.loc 1 580 21 is_stmt 0 view .LVU1071
 3522 00a4 7468     		ldr	r4, [r6, #4]
 3523              	.LVL351:
 581:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_recv(pcb, NULL);
 3524              		.loc 1 581 5 is_stmt 1 view .LVU1072
 3525 00a6 0021     		movs	r1, #0
 3526 00a8 2046     		mov	r0, r4
 3527 00aa FFF7FEFF 		bl	tcp_arg
 3528              	.LVL352:
 582:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_sent(pcb, NULL);
 3529              		.loc 1 582 5 view .LVU1073
 3530 00ae 0021     		movs	r1, #0
 3531 00b0 2046     		mov	r0, r4
 3532 00b2 FFF7FEFF 		bl	tcp_recv
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 111


 3533              	.LVL353:
 583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
 3534              		.loc 1 583 5 view .LVU1074
 3535 00b6 0021     		movs	r1, #0
 3536 00b8 2046     		mov	r0, r4
 3537 00ba FFF7FEFF 		bl	tcp_sent
 3538              	.LVL354:
 584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(pcb, NULL);
 3539              		.loc 1 584 5 view .LVU1075
 3540 00be 0022     		movs	r2, #0
 3541 00c0 1146     		mov	r1, r2
 3542 00c2 2046     		mov	r0, r4
 3543 00c4 FFF7FEFF 		bl	tcp_poll
 3544              	.LVL355:
 585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 3545              		.loc 1 585 5 view .LVU1076
 3546 00c8 0021     		movs	r1, #0
 3547 00ca 2046     		mov	r0, r4
 3548 00cc FFF7FEFF 		bl	tcp_err
 3549              	.LVL356:
 587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 3550              		.loc 1 587 5 view .LVU1077
 587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 3551              		.loc 1 587 22 is_stmt 0 view .LVU1078
 3552 00d0 0023     		movs	r3, #0
 3553 00d2 7360     		str	r3, [r6, #4]
 589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 3554              		.loc 1 589 5 is_stmt 1 view .LVU1079
 3555 00d4 06F11004 		add	r4, r6, #16
 3556              	.LVL357:
 589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 3557              		.loc 1 589 5 is_stmt 0 view .LVU1080
 3558 00d8 2046     		mov	r0, r4
 3559 00da FFF7FEFF 		bl	sys_mbox_free
 3560              	.LVL358:
 590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_free(newconn);
 3561              		.loc 1 590 5 is_stmt 1 view .LVU1081
 3562 00de 2046     		mov	r0, r4
 3563 00e0 FFF7FEFF 		bl	sys_mbox_set_invalid
 3564              	.LVL359:
 591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 3565              		.loc 1 591 5 view .LVU1082
 3566 00e4 3046     		mov	r0, r6
 3567 00e6 FFF7FEFF 		bl	netconn_free
 3568              	.LVL360:
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3569              		.loc 1 592 5 view .LVU1083
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3570              		.loc 1 592 12 is_stmt 0 view .LVU1084
 3571 00ea 4FF0FF35 		mov	r5, #-1
 3572 00ee ABE7     		b	.L292
 3573              	.LVL361:
 3574              	.L299:
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3575              		.loc 1 592 12 view .LVU1085
 3576              	.LBE21:
 539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 112


 3577              		.loc 1 539 12 view .LVU1086
 3578 00f0 6FF00505 		mvn	r5, #5
 3579 00f4 A8E7     		b	.L292
 3580              	.LVL362:
 3581              	.L300:
 543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3582              		.loc 1 543 12 view .LVU1087
 3583 00f6 6FF00505 		mvn	r5, #5
 3584              	.LVL363:
 543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3585              		.loc 1 543 12 view .LVU1088
 3586 00fa A5E7     		b	.L292
 3587              	.L307:
 3588              		.align	2
 3589              	.L306:
 3590 00fc 00000000 		.word	.LC0
 3591 0100 00000000 		.word	.LC33
 3592 0104 40000000 		.word	.LC2
 3593              		.cfi_endproc
 3594              	.LFE372:
 3596              		.section	.rodata.lwip_netconn_do_delconn.str1.4,"aMS",%progbits,1
 3597              		.align	2
 3598              	.LC34:
 3599 0000 6E657463 		.ascii	"netconn state error\000"
 3599      6F6E6E20 
 3599      73746174 
 3599      65206572 
 3599      726F7200 
 3600              		.align	2
 3601              	.LC35:
 3602 0014 626C6F63 		.ascii	"blocking connect in progress\000"
 3602      6B696E67 
 3602      20636F6E 
 3602      6E656374 
 3602      20696E20 
 3603 0031 000000   		.align	2
 3604              	.LC36:
 3605 0034 616C7265 		.ascii	"already writing or closing\000"
 3605      61647920 
 3605      77726974 
 3605      696E6720 
 3605      6F722063 
 3606 004f 00       		.align	2
 3607              	.LC37:
 3608 0050 73746174 		.ascii	"state!\000"
 3608      652100
 3609              		.section	.text.lwip_netconn_do_delconn,"ax",%progbits
 3610              		.align	1
 3611              		.global	lwip_netconn_do_delconn
 3612              		.syntax unified
 3613              		.thumb
 3614              		.thumb_func
 3616              	lwip_netconn_do_delconn:
 3617              	.LVL364:
 3618              	.LFB379:
1114:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3619              		.loc 1 1114 1 is_stmt 1 view -0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 113


 3620              		.cfi_startproc
 3621              		@ args = 0, pretend = 0, frame = 0
 3622              		@ frame_needed = 0, uses_anonymous_args = 0
1114:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3623              		.loc 1 1114 1 is_stmt 0 view .LVU1090
 3624 0000 38B5     		push	{r3, r4, r5, lr}
 3625              	.LCFI21:
 3626              		.cfi_def_cfa_offset 16
 3627              		.cfi_offset 3, -16
 3628              		.cfi_offset 4, -12
 3629              		.cfi_offset 5, -8
 3630              		.cfi_offset 14, -4
 3631 0002 0446     		mov	r4, r0
1115:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3632              		.loc 1 1115 3 is_stmt 1 view .LVU1091
 3633              	.LVL365:
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3634              		.loc 1 1117 3 view .LVU1092
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3635              		.loc 1 1117 33 is_stmt 0 view .LVU1093
 3636 0004 0368     		ldr	r3, [r0]
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3637              		.loc 1 1117 22 view .LVU1094
 3638 0006 5D78     		ldrb	r5, [r3, #1]	@ zero_extendqisi2
 3639              	.LVL366:
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3640              		.loc 1 1118 3 is_stmt 1 view .LVU1095
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3641              		.loc 1 1118 3 view .LVU1096
 3642 0008 25B1     		cbz	r5, .L309
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3643              		.loc 1 1118 3 is_stmt 0 discriminator 1 view .LVU1097
 3644 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3645 000c 03F0F003 		and	r3, r3, #240
 3646 0010 102B     		cmp	r3, #16
 3647 0012 0CD1     		bne	.L324
 3648              	.LVL367:
 3649              	.L309:
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3650              		.loc 1 1118 3 is_stmt 1 discriminator 5 view .LVU1098
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3651              		.loc 1 1118 3 discriminator 5 view .LVU1099
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3652              		.loc 1 1136 3 discriminator 5 view .LVU1100
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3653              		.loc 1 1136 6 is_stmt 0 discriminator 5 view .LVU1101
 3654 0014 002D     		cmp	r5, #0
 3655 0016 18BF     		it	ne
 3656 0018 022D     		cmpne	r5, #2
 3657 001a 10D0     		beq	.L310
1137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
 3658              		.loc 1 1137 34 view .LVU1102
 3659 001c 032D     		cmp	r5, #3
 3660 001e 0ED0     		beq	.L310
 3661              	.L311:
1142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 3662              		.loc 1 1142 5 is_stmt 1 view .LVU1103
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 114


1142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 3663              		.loc 1 1142 14 is_stmt 0 view .LVU1104
 3664 0020 FB23     		movs	r3, #251
 3665 0022 2371     		strb	r3, [r4, #4]
 3666              	.L313:
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3667              		.loc 1 1201 50 is_stmt 1 discriminator 3 view .LVU1105
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3668              		.loc 1 1203 3 discriminator 3 view .LVU1106
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3669              		.loc 1 1203 21 is_stmt 0 discriminator 3 view .LVU1107
 3670 0024 2068     		ldr	r0, [r4]
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3671              		.loc 1 1203 7 discriminator 3 view .LVU1108
 3672 0026 0C30     		adds	r0, r0, #12
 3673 0028 FFF7FEFF 		bl	sys_sem_valid
 3674              	.LVL368:
1204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3675              		.loc 1 1204 26 is_stmt 1 discriminator 3 view .LVU1109
 3676              	.L308:
1206:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3677              		.loc 1 1206 1 is_stmt 0 view .LVU1110
 3678 002c 38BD     		pop	{r3, r4, r5, pc}
 3679              	.LVL369:
 3680              	.L324:
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3681              		.loc 1 1118 3 is_stmt 1 discriminator 3 view .LVU1111
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3682              		.loc 1 1118 3 discriminator 3 view .LVU1112
 3683 002e 3F4B     		ldr	r3, .L328
 3684 0030 40F25E42 		movw	r2, #1118
 3685 0034 3E49     		ldr	r1, .L328+4
 3686 0036 3F48     		ldr	r0, .L328+8
 3687              	.LVL370:
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3688              		.loc 1 1118 3 is_stmt 0 discriminator 3 view .LVU1113
 3689 0038 FFF7FEFF 		bl	printf
 3690              	.LVL371:
 3691 003c EAE7     		b	.L309
 3692              	.L310:
1138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
 3693              		.loc 1 1138 36 view .LVU1114
 3694 003e 032D     		cmp	r5, #3
 3695 0040 27D0     		beq	.L325
 3696              	.L312:
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3697              		.loc 1 1146 5 is_stmt 1 view .LVU1115
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3698              		.loc 1 1146 5 view .LVU1116
 3699 0042 032D     		cmp	r5, #3
 3700 0044 2BD0     		beq	.L326
 3701              	.L314:
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3702              		.loc 1 1146 5 discriminator 5 view .LVU1117
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3703              		.loc 1 1146 5 discriminator 5 view .LVU1118
1148:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 115


 3704              		.loc 1 1148 5 discriminator 5 view .LVU1119
1148:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 3705              		.loc 1 1148 14 is_stmt 0 discriminator 5 view .LVU1120
 3706 0046 0023     		movs	r3, #0
 3707 0048 2371     		strb	r3, [r4, #4]
1153:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 3708              		.loc 1 1153 5 is_stmt 1 discriminator 5 view .LVU1121
 3709 004a 2068     		ldr	r0, [r4]
 3710 004c FFF7FEFF 		bl	netconn_drain
 3711              	.LVL372:
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3712              		.loc 1 1156 5 discriminator 5 view .LVU1122
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3713              		.loc 1 1156 12 is_stmt 0 discriminator 5 view .LVU1123
 3714 0050 2268     		ldr	r2, [r4]
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3715              		.loc 1 1156 23 discriminator 5 view .LVU1124
 3716 0052 5168     		ldr	r1, [r2, #4]
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3717              		.loc 1 1156 8 discriminator 5 view .LVU1125
 3718 0054 79B1     		cbz	r1, .L315
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3719              		.loc 1 1158 7 is_stmt 1 view .LVU1126
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3720              		.loc 1 1158 15 is_stmt 0 view .LVU1127
 3721 0056 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3722 0058 03F0F003 		and	r3, r3, #240
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3723              		.loc 1 1158 7 view .LVU1128
 3724 005c 102B     		cmp	r3, #16
 3725 005e 2BD0     		beq	.L316
 3726 0060 202B     		cmp	r3, #32
 3727 0062 05D1     		bne	.L317
1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
 3728              		.loc 1 1166 11 is_stmt 1 view .LVU1129
1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           udp_remove(msg->conn->pcb.udp);
 3729              		.loc 1 1166 40 is_stmt 0 view .LVU1130
 3730 0064 0023     		movs	r3, #0
 3731 0066 CB61     		str	r3, [r1, #28]
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 3732              		.loc 1 1167 11 is_stmt 1 view .LVU1131
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 3733              		.loc 1 1167 25 is_stmt 0 view .LVU1132
 3734 0068 2368     		ldr	r3, [r4]
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 3735              		.loc 1 1167 11 view .LVU1133
 3736 006a 5868     		ldr	r0, [r3, #4]
 3737 006c FFF7FEFF 		bl	udp_remove
 3738              	.LVL373:
1168:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 3739              		.loc 1 1168 11 is_stmt 1 view .LVU1134
 3740              	.L317:
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3741              		.loc 1 1194 7 view .LVU1135
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3742              		.loc 1 1194 10 is_stmt 0 view .LVU1136
 3743 0070 2368     		ldr	r3, [r4]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 116


1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3744              		.loc 1 1194 26 view .LVU1137
 3745 0072 0022     		movs	r2, #0
 3746 0074 5A60     		str	r2, [r3, #4]
 3747              	.L315:
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3748              		.loc 1 1200 5 is_stmt 1 view .LVU1138
 3749 0076 2068     		ldr	r0, [r4]
 3750 0078 436A     		ldr	r3, [r0, #36]
 3751 007a 13B1     		cbz	r3, .L322
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3752              		.loc 1 1200 5 discriminator 1 view .LVU1139
 3753 007c 0022     		movs	r2, #0
 3754 007e 1146     		mov	r1, r2
 3755 0080 9847     		blx	r3
 3756              	.LVL374:
 3757              	.L322:
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3758              		.loc 1 1200 49 discriminator 3 view .LVU1140
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3759              		.loc 1 1201 5 discriminator 3 view .LVU1141
 3760 0082 2068     		ldr	r0, [r4]
 3761 0084 436A     		ldr	r3, [r0, #36]
 3762 0086 002B     		cmp	r3, #0
 3763 0088 CCD0     		beq	.L313
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3764              		.loc 1 1201 5 discriminator 1 view .LVU1142
 3765 008a 0022     		movs	r2, #0
 3766 008c 0221     		movs	r1, #2
 3767 008e 9847     		blx	r3
 3768              	.LVL375:
 3769 0090 C8E7     		b	.L313
 3770              	.L325:
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
 3771              		.loc 1 1139 39 is_stmt 0 view .LVU1143
 3772 0092 2368     		ldr	r3, [r4]
 3773 0094 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
 3774              		.loc 1 1139 35 view .LVU1144
 3775 0096 13F0040F 		tst	r3, #4
 3776 009a D2D1     		bne	.L312
 3777 009c C0E7     		b	.L311
 3778              	.L326:
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3779              		.loc 1 1146 5 discriminator 1 view .LVU1145
 3780 009e 2368     		ldr	r3, [r4]
 3781 00a0 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 3782 00a2 13F0040F 		tst	r3, #4
 3783 00a6 CED1     		bne	.L314
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3784              		.loc 1 1146 5 is_stmt 1 discriminator 3 view .LVU1146
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3785              		.loc 1 1146 5 discriminator 3 view .LVU1147
 3786 00a8 204B     		ldr	r3, .L328
 3787 00aa 40F27A42 		movw	r2, #1146
 3788 00ae 2249     		ldr	r1, .L328+12
 3789 00b0 2048     		ldr	r0, .L328+8
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 117


 3790 00b2 FFF7FEFF 		bl	printf
 3791              	.LVL376:
 3792 00b6 C6E7     		b	.L314
 3793              	.L316:
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3794              		.loc 1 1172 11 view .LVU1148
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3795              		.loc 1 1172 11 view .LVU1149
 3796 00b8 136A     		ldr	r3, [r2, #32]
 3797 00ba 33B1     		cbz	r3, .L318
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3798              		.loc 1 1172 11 discriminator 1 view .LVU1150
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3799              		.loc 1 1172 11 discriminator 1 view .LVU1151
 3800 00bc 1B4B     		ldr	r3, .L328
 3801 00be 40F29442 		movw	r2, #1172
 3802 00c2 1E49     		ldr	r1, .L328+16
 3803 00c4 1B48     		ldr	r0, .L328+8
 3804 00c6 FFF7FEFF 		bl	printf
 3805              	.LVL377:
 3806              	.L318:
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3807              		.loc 1 1172 11 discriminator 3 view .LVU1152
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CLOSE;
 3808              		.loc 1 1172 11 discriminator 3 view .LVU1153
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3809              		.loc 1 1173 11 discriminator 3 view .LVU1154
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3810              		.loc 1 1173 14 is_stmt 0 discriminator 3 view .LVU1155
 3811 00ca 2368     		ldr	r3, [r4]
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3812              		.loc 1 1173 28 discriminator 3 view .LVU1156
 3813 00cc 0422     		movs	r2, #4
 3814 00ce 5A70     		strb	r2, [r3, #1]
1174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->current_msg = msg;
 3815              		.loc 1 1174 11 is_stmt 1 discriminator 3 view .LVU1157
1174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->current_msg = msg;
 3816              		.loc 1 1174 28 is_stmt 0 discriminator 3 view .LVU1158
 3817 00d0 0323     		movs	r3, #3
 3818 00d2 2372     		strb	r3, [r4, #8]
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3819              		.loc 1 1175 11 is_stmt 1 discriminator 3 view .LVU1159
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3820              		.loc 1 1175 14 is_stmt 0 discriminator 3 view .LVU1160
 3821 00d4 2368     		ldr	r3, [r4]
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3822              		.loc 1 1175 34 discriminator 3 view .LVU1161
 3823 00d6 1C62     		str	r4, [r3, #32]
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3824              		.loc 1 1177 11 is_stmt 1 discriminator 3 view .LVU1162
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3825              		.loc 1 1177 15 is_stmt 0 discriminator 3 view .LVU1163
 3826 00d8 0021     		movs	r1, #0
 3827 00da 2068     		ldr	r0, [r4]
 3828 00dc FFF7FEFF 		bl	lwip_netconn_do_close_internal
 3829              	.LVL378:
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 118


 3830              		.loc 1 1177 14 discriminator 3 view .LVU1164
 3831 00e0 0028     		cmp	r0, #0
 3832 00e2 A3D0     		beq	.L308
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3833              		.loc 1 1178 13 is_stmt 1 view .LVU1165
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3834              		.loc 1 1178 13 view .LVU1166
 3835 00e4 2368     		ldr	r3, [r4]
 3836 00e6 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3837 00e8 042B     		cmp	r3, #4
 3838 00ea 17D1     		bne	.L327
 3839              	.L320:
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3840              		.loc 1 1178 13 discriminator 3 view .LVU1167
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3841              		.loc 1 1178 13 discriminator 3 view .LVU1168
1179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3842              		.loc 1 1179 13 discriminator 3 view .LVU1169
 3843 00ec 144D     		ldr	r5, .L328+20
 3844              	.LVL379:
1179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3845              		.loc 1 1179 13 is_stmt 0 discriminator 3 view .LVU1170
 3846 00ee 2846     		mov	r0, r5
 3847 00f0 FFF7FEFF 		bl	sys_mutex_unlock
 3848              	.LVL380:
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3849              		.loc 1 1180 13 is_stmt 1 discriminator 3 view .LVU1171
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3850              		.loc 1 1180 31 is_stmt 0 discriminator 3 view .LVU1172
 3851 00f4 2068     		ldr	r0, [r4]
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 3852              		.loc 1 1180 13 discriminator 3 view .LVU1173
 3853 00f6 0021     		movs	r1, #0
 3854 00f8 0C30     		adds	r0, r0, #12
 3855 00fa FFF7FEFF 		bl	sys_arch_sem_wait
 3856              	.LVL381:
1181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 3857              		.loc 1 1181 13 is_stmt 1 discriminator 3 view .LVU1174
 3858 00fe 2846     		mov	r0, r5
 3859 0100 FFF7FEFF 		bl	sys_mutex_lock
 3860              	.LVL382:
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3861              		.loc 1 1182 13 discriminator 3 view .LVU1175
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3862              		.loc 1 1182 13 discriminator 3 view .LVU1176
 3863 0104 2368     		ldr	r3, [r4]
 3864 0106 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3865 0108 002B     		cmp	r3, #0
 3866 010a 8FD0     		beq	.L308
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3867              		.loc 1 1182 13 discriminator 1 view .LVU1177
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3868              		.loc 1 1182 13 discriminator 1 view .LVU1178
 3869 010c 074B     		ldr	r3, .L328
 3870 010e 40F29E42 		movw	r2, #1182
 3871 0112 0C49     		ldr	r1, .L328+24
 3872 0114 0748     		ldr	r0, .L328+8
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 119


 3873 0116 FFF7FEFF 		bl	printf
 3874              	.LVL383:
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3875              		.loc 1 1182 13 discriminator 1 view .LVU1179
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3876              		.loc 1 1182 13 discriminator 1 view .LVU1180
1189:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3877              		.loc 1 1189 11 discriminator 1 view .LVU1181
 3878 011a 87E7     		b	.L308
 3879              	.LVL384:
 3880              	.L327:
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3881              		.loc 1 1178 13 discriminator 1 view .LVU1182
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3882              		.loc 1 1178 13 discriminator 1 view .LVU1183
 3883 011c 034B     		ldr	r3, .L328
 3884 011e 40F29A42 		movw	r2, #1178
 3885 0122 0849     		ldr	r1, .L328+24
 3886 0124 0348     		ldr	r0, .L328+8
 3887 0126 FFF7FEFF 		bl	printf
 3888              	.LVL385:
 3889 012a DFE7     		b	.L320
 3890              	.L329:
 3891              		.align	2
 3892              	.L328:
 3893 012c 00000000 		.word	.LC0
 3894 0130 00000000 		.word	.LC34
 3895 0134 40000000 		.word	.LC2
 3896 0138 14000000 		.word	.LC35
 3897 013c 34000000 		.word	.LC36
 3898 0140 00000000 		.word	lock_tcpip_core
 3899 0144 50000000 		.word	.LC37
 3900              		.cfi_endproc
 3901              	.LFE379:
 3903              		.section	.text.lwip_netconn_do_bind,"ax",%progbits
 3904              		.align	1
 3905              		.global	lwip_netconn_do_bind
 3906              		.syntax unified
 3907              		.thumb
 3908              		.thumb_func
 3910              	lwip_netconn_do_bind:
 3911              	.LVL386:
 3912              	.LFB380:
1217:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3913              		.loc 1 1217 1 view -0
 3914              		.cfi_startproc
 3915              		@ args = 0, pretend = 0, frame = 0
 3916              		@ frame_needed = 0, uses_anonymous_args = 0
1217:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 3917              		.loc 1 1217 1 is_stmt 0 view .LVU1185
 3918 0000 10B5     		push	{r4, lr}
 3919              	.LCFI22:
 3920              		.cfi_def_cfa_offset 8
 3921              		.cfi_offset 4, -8
 3922              		.cfi_offset 14, -4
 3923 0002 0446     		mov	r4, r0
1218:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 120


 3924              		.loc 1 1218 3 is_stmt 1 view .LVU1186
 3925              	.LVL387:
1219:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3926              		.loc 1 1219 3 view .LVU1187
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3927              		.loc 1 1221 3 view .LVU1188
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3928              		.loc 1 1221 10 is_stmt 0 view .LVU1189
 3929 0004 0368     		ldr	r3, [r0]
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3930              		.loc 1 1221 21 view .LVU1190
 3931 0006 5868     		ldr	r0, [r3, #4]
 3932              	.LVL388:
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3933              		.loc 1 1221 6 view .LVU1191
 3934 0008 80B1     		cbz	r0, .L333
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3935              		.loc 1 1222 5 is_stmt 1 view .LVU1192
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3936              		.loc 1 1222 13 is_stmt 0 view .LVU1193
 3937 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3938 000c 03F0F003 		and	r3, r3, #240
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3939              		.loc 1 1222 5 view .LVU1194
 3940 0010 102B     		cmp	r3, #16
 3941 0012 06D0     		beq	.L332
 3942 0014 202B     		cmp	r3, #32
 3943 0016 0CD1     		bne	.L334
1230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3944              		.loc 1 1230 9 is_stmt 1 view .LVU1195
1230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3945              		.loc 1 1230 15 is_stmt 0 view .LVU1196
 3946 0018 A289     		ldrh	r2, [r4, #12]
 3947 001a A168     		ldr	r1, [r4, #8]
 3948 001c FFF7FEFF 		bl	udp_bind
 3949              	.LVL389:
1231:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 3950              		.loc 1 1231 9 is_stmt 1 view .LVU1197
 3951 0020 09E0     		b	.L331
 3952              	.LVL390:
 3953              	.L332:
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3954              		.loc 1 1235 9 view .LVU1198
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3955              		.loc 1 1235 15 is_stmt 0 view .LVU1199
 3956 0022 A289     		ldrh	r2, [r4, #12]
 3957 0024 A168     		ldr	r1, [r4, #8]
 3958 0026 FFF7FEFF 		bl	tcp_bind
 3959              	.LVL391:
1236:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3960              		.loc 1 1236 9 is_stmt 1 view .LVU1200
 3961 002a 04E0     		b	.L331
 3962              	.LVL392:
 3963              	.L333:
1243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3964              		.loc 1 1243 9 is_stmt 0 view .LVU1201
 3965 002c 6FF00500 		mvn	r0, #5
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 121


 3966 0030 01E0     		b	.L331
 3967              	.L334:
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3968              		.loc 1 1222 5 view .LVU1202
 3969 0032 6FF00500 		mvn	r0, #5
 3970              	.L331:
 3971              	.LVL393:
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 3972              		.loc 1 1245 3 is_stmt 1 view .LVU1203
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 3973              		.loc 1 1245 12 is_stmt 0 view .LVU1204
 3974 0036 2071     		strb	r0, [r4, #4]
1246:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3975              		.loc 1 1246 24 is_stmt 1 view .LVU1205
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 3976              		.loc 1 1247 1 is_stmt 0 view .LVU1206
 3977 0038 10BD     		pop	{r4, pc}
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 3978              		.loc 1 1247 1 view .LVU1207
 3979              		.cfi_endproc
 3980              	.LFE380:
 3982              		.section	.text.lwip_netconn_do_bind_if,"ax",%progbits
 3983              		.align	1
 3984              		.global	lwip_netconn_do_bind_if
 3985              		.syntax unified
 3986              		.thumb
 3987              		.thumb_func
 3989              	lwip_netconn_do_bind_if:
 3990              	.LVL394:
 3991              	.LFB381:
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netif *netif;
 3992              		.loc 1 1257 1 is_stmt 1 view -0
 3993              		.cfi_startproc
 3994              		@ args = 0, pretend = 0, frame = 0
 3995              		@ frame_needed = 0, uses_anonymous_args = 0
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netif *netif;
 3996              		.loc 1 1257 1 is_stmt 0 view .LVU1209
 3997 0000 10B5     		push	{r4, lr}
 3998              	.LCFI23:
 3999              		.cfi_def_cfa_offset 8
 4000              		.cfi_offset 4, -8
 4001              		.cfi_offset 14, -4
 4002 0002 0446     		mov	r4, r0
1258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4003              		.loc 1 1258 3 is_stmt 1 view .LVU1210
1259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 4004              		.loc 1 1259 3 view .LVU1211
 4005              	.LVL395:
1260:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4006              		.loc 1 1260 3 view .LVU1212
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4007              		.loc 1 1262 3 view .LVU1213
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4008              		.loc 1 1262 11 is_stmt 0 view .LVU1214
 4009 0004 807B     		ldrb	r0, [r0, #14]	@ zero_extendqisi2
 4010              	.LVL396:
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 122


 4011              		.loc 1 1262 11 view .LVU1215
 4012 0006 FFF7FEFF 		bl	netif_get_by_index
 4013              	.LVL397:
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4014              		.loc 1 1264 3 is_stmt 1 view .LVU1216
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4015              		.loc 1 1264 6 is_stmt 0 view .LVU1217
 4016 000a 90B1     		cbz	r0, .L339
 4017 000c 0146     		mov	r1, r0
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4018              		.loc 1 1264 30 discriminator 1 view .LVU1218
 4019 000e 2368     		ldr	r3, [r4]
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4020              		.loc 1 1264 41 discriminator 1 view .LVU1219
 4021 0010 5868     		ldr	r0, [r3, #4]
 4022              	.LVL398:
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 4023              		.loc 1 1264 23 discriminator 1 view .LVU1220
 4024 0012 90B1     		cbz	r0, .L340
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4025              		.loc 1 1265 5 is_stmt 1 view .LVU1221
 4026              	.LVL399:
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4027              		.loc 1 1266 5 view .LVU1222
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4028              		.loc 1 1266 13 is_stmt 0 view .LVU1223
 4029 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4030 0016 03F0F003 		and	r3, r3, #240
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4031              		.loc 1 1266 5 view .LVU1224
 4032 001a 102B     		cmp	r3, #16
 4033 001c 05D0     		beq	.L338
 4034 001e 202B     		cmp	r3, #32
 4035 0020 0ED1     		bne	.L341
1274:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 4036              		.loc 1 1274 9 is_stmt 1 view .LVU1225
 4037 0022 FFF7FEFF 		bl	udp_bind_netif
 4038              	.LVL400:
1275:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 4039              		.loc 1 1275 9 view .LVU1226
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4040              		.loc 1 1265 9 is_stmt 0 view .LVU1227
 4041 0026 0023     		movs	r3, #0
1275:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 4042              		.loc 1 1275 9 view .LVU1228
 4043 0028 05E0     		b	.L337
 4044              	.LVL401:
 4045              	.L338:
1279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 4046              		.loc 1 1279 9 is_stmt 1 view .LVU1229
 4047 002a FFF7FEFF 		bl	tcp_bind_netif
 4048              	.LVL402:
1280:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 4049              		.loc 1 1280 9 view .LVU1230
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4050              		.loc 1 1265 9 is_stmt 0 view .LVU1231
 4051 002e 0023     		movs	r3, #0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 123


1280:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 4052              		.loc 1 1280 9 view .LVU1232
 4053 0030 01E0     		b	.L337
 4054              	.LVL403:
 4055              	.L339:
1287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4056              		.loc 1 1287 9 view .LVU1233
 4057 0032 6FF00503 		mvn	r3, #5
 4058              	.LVL404:
 4059              	.L337:
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4060              		.loc 1 1289 3 is_stmt 1 view .LVU1234
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4061              		.loc 1 1289 12 is_stmt 0 view .LVU1235
 4062 0036 2371     		strb	r3, [r4, #4]
1290:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4063              		.loc 1 1290 24 is_stmt 1 view .LVU1236
1291:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4064              		.loc 1 1291 1 is_stmt 0 view .LVU1237
 4065 0038 10BD     		pop	{r4, pc}
 4066              	.LVL405:
 4067              	.L340:
1287:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4068              		.loc 1 1287 9 view .LVU1238
 4069 003a 6FF00503 		mvn	r3, #5
 4070 003e FAE7     		b	.L337
 4071              	.LVL406:
 4072              	.L341:
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4073              		.loc 1 1266 5 view .LVU1239
 4074 0040 6FF00503 		mvn	r3, #5
 4075 0044 F7E7     		b	.L337
 4076              		.cfi_endproc
 4077              	.LFE381:
 4079              		.section	.rodata.lwip_netconn_do_connect.str1.4,"aMS",%progbits,1
 4080              		.align	2
 4081              	.LC38:
 4082 0000 496E7661 		.ascii	"Invalid netconn type\000"
 4082      6C696420 
 4082      6E657463 
 4082      6F6E6E20 
 4082      74797065 
 4083              		.section	.text.lwip_netconn_do_connect,"ax",%progbits
 4084              		.align	1
 4085              		.global	lwip_netconn_do_connect
 4086              		.syntax unified
 4087              		.thumb
 4088              		.thumb_func
 4090              	lwip_netconn_do_connect:
 4091              	.LVL407:
 4092              	.LFB383:
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4093              		.loc 1 1351 1 is_stmt 1 view -0
 4094              		.cfi_startproc
 4095              		@ args = 0, pretend = 0, frame = 0
 4096              		@ frame_needed = 0, uses_anonymous_args = 0
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 124


 4097              		.loc 1 1351 1 is_stmt 0 view .LVU1241
 4098 0000 38B5     		push	{r3, r4, r5, lr}
 4099              	.LCFI24:
 4100              		.cfi_def_cfa_offset 16
 4101              		.cfi_offset 3, -16
 4102              		.cfi_offset 4, -12
 4103              		.cfi_offset 5, -8
 4104              		.cfi_offset 14, -4
 4105 0002 0446     		mov	r4, r0
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 4106              		.loc 1 1352 3 is_stmt 1 view .LVU1242
 4107              	.LVL408:
1353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4108              		.loc 1 1353 3 view .LVU1243
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4109              		.loc 1 1355 3 view .LVU1244
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4110              		.loc 1 1355 10 is_stmt 0 view .LVU1245
 4111 0004 0268     		ldr	r2, [r0]
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4112              		.loc 1 1355 21 view .LVU1246
 4113 0006 5068     		ldr	r0, [r2, #4]
 4114              	.LVL409:
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 4115              		.loc 1 1355 6 view .LVU1247
 4116 0008 0028     		cmp	r0, #0
 4117 000a 64D0     		beq	.L352
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4118              		.loc 1 1359 5 is_stmt 1 view .LVU1248
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4119              		.loc 1 1359 13 is_stmt 0 view .LVU1249
 4120 000c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4121 000e 03F0F003 		and	r3, r3, #240
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4122              		.loc 1 1359 5 view .LVU1250
 4123 0012 102B     		cmp	r3, #16
 4124 0014 06D0     		beq	.L345
 4125 0016 202B     		cmp	r3, #32
 4126 0018 53D1     		bne	.L346
1367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 4127              		.loc 1 1367 9 is_stmt 1 view .LVU1251
1367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 4128              		.loc 1 1367 15 is_stmt 0 view .LVU1252
 4129 001a A289     		ldrh	r2, [r4, #12]
 4130 001c A168     		ldr	r1, [r4, #8]
 4131 001e FFF7FEFF 		bl	udp_connect
 4132              	.LVL410:
1368:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 4133              		.loc 1 1368 9 is_stmt 1 view .LVU1253
 4134 0022 5AE0     		b	.L344
 4135              	.LVL411:
 4136              	.L345:
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
 4137              		.loc 1 1373 9 view .LVU1254
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
 4138              		.loc 1 1373 22 is_stmt 0 view .LVU1255
 4139 0024 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 125


1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ALREADY;
 4140              		.loc 1 1373 12 view .LVU1256
 4141 0026 032B     		cmp	r3, #3
 4142 0028 59D0     		beq	.L353
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ISCONN;
 4143              		.loc 1 1375 16 is_stmt 1 view .LVU1257
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_ISCONN;
 4144              		.loc 1 1375 19 is_stmt 0 view .LVU1258
 4145 002a 13B1     		cbz	r3, .L357
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4146              		.loc 1 1376 15 view .LVU1259
 4147 002c 6FF00900 		mvn	r0, #9
 4148 0030 53E0     		b	.L344
 4149              	.L357:
1378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
 4150              		.loc 1 1378 11 is_stmt 1 view .LVU1260
 4151 0032 1046     		mov	r0, r2
 4152 0034 FFF7FEFF 		bl	setup_tcp
 4153              	.LVL412:
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 4154              		.loc 1 1379 11 view .LVU1261
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 4155              		.loc 1 1379 32 is_stmt 0 view .LVU1262
 4156 0038 2068     		ldr	r0, [r4]
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                             msg->msg.bc.port, lwip_netconn_do_connected);
 4157              		.loc 1 1379 17 view .LVU1263
 4158 003a 2A4B     		ldr	r3, .L360
 4159 003c A289     		ldrh	r2, [r4, #12]
 4160 003e A168     		ldr	r1, [r4, #8]
 4161 0040 4068     		ldr	r0, [r0, #4]
 4162 0042 FFF7FEFF 		bl	tcp_connect
 4163              	.LVL413:
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
 4164              		.loc 1 1381 11 is_stmt 1 view .LVU1264
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t non_blocking = netconn_is_nonblocking(msg->conn);
 4165              		.loc 1 1381 14 is_stmt 0 view .LVU1265
 4166 0046 0028     		cmp	r0, #0
 4167 0048 47D1     		bne	.L344
 4168              	.LBB22:
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
 4169              		.loc 1 1382 13 is_stmt 1 view .LVU1266
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->state = NETCONN_CONNECT;
 4170              		.loc 1 1382 33 is_stmt 0 view .LVU1267
 4171 004a 2268     		ldr	r2, [r4]
 4172 004c 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 4173              	.LVL414:
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 4174              		.loc 1 1383 13 is_stmt 1 view .LVU1268
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 4175              		.loc 1 1383 30 is_stmt 0 view .LVU1269
 4176 004e 0321     		movs	r1, #3
 4177 0050 5170     		strb	r1, [r2, #1]
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4178              		.loc 1 1384 13 is_stmt 1 view .LVU1270
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4179              		.loc 1 1384 13 view .LVU1271
 4180 0052 13F00203 		ands	r3, r3, #2
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 126


 4181              	.LVL415:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4182              		.loc 1 1384 13 is_stmt 0 view .LVU1272
 4183 0056 08D0     		beq	.L347
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4184              		.loc 1 1384 13 is_stmt 1 discriminator 1 view .LVU1273
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4185              		.loc 1 1384 13 discriminator 1 view .LVU1274
 4186 0058 2168     		ldr	r1, [r4]
 4187 005a 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 4188              	.LVL416:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4189              		.loc 1 1384 13 is_stmt 0 discriminator 1 view .LVU1275
 4190 005c 42F00402 		orr	r2, r2, #4
 4191 0060 0A77     		strb	r2, [r1, #28]
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4192              		.loc 1 1384 13 is_stmt 1 discriminator 1 view .LVU1276
 4193              	.L348:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4194              		.loc 1 1384 13 discriminator 4 view .LVU1277
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4195              		.loc 1 1384 13 discriminator 4 view .LVU1278
1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = ERR_INPROGRESS;
 4196              		.loc 1 1385 13 discriminator 4 view .LVU1279
1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = ERR_INPROGRESS;
 4197              		.loc 1 1385 16 is_stmt 0 discriminator 4 view .LVU1280
 4198 0062 43B1     		cbz	r3, .L358
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4199              		.loc 1 1386 19 view .LVU1281
 4200 0064 6FF00400 		mvn	r0, #4
 4201              	.LVL417:
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4202              		.loc 1 1386 19 view .LVU1282
 4203 0068 37E0     		b	.L344
 4204              	.LVL418:
 4205              	.L347:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4206              		.loc 1 1384 13 is_stmt 1 discriminator 2 view .LVU1283
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4207              		.loc 1 1384 13 discriminator 2 view .LVU1284
 4208 006a 2168     		ldr	r1, [r4]
 4209 006c 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 4210              	.LVL419:
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4211              		.loc 1 1384 13 is_stmt 0 discriminator 2 view .LVU1285
 4212 006e 02F0FB02 		and	r2, r2, #251
 4213 0072 0A77     		strb	r2, [r1, #28]
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (non_blocking) {
 4214              		.loc 1 1384 13 discriminator 2 view .LVU1286
 4215 0074 F5E7     		b	.L348
 4216              	.L358:
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 4217              		.loc 1 1388 15 is_stmt 1 view .LVU1287
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 4218              		.loc 1 1388 18 is_stmt 0 view .LVU1288
 4219 0076 2368     		ldr	r3, [r4]
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 127


 4220              		.loc 1 1388 38 view .LVU1289
 4221 0078 1C62     		str	r4, [r3, #32]
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4222              		.loc 1 1392 15 is_stmt 1 view .LVU1290
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4223              		.loc 1 1392 15 view .LVU1291
 4224 007a 2368     		ldr	r3, [r4]
 4225 007c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4226 007e 032B     		cmp	r3, #3
 4227 0080 17D1     		bne	.L359
 4228              	.LVL420:
 4229              	.L349:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4230              		.loc 1 1392 15 discriminator 3 view .LVU1292
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4231              		.loc 1 1392 15 discriminator 3 view .LVU1293
1393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 4232              		.loc 1 1393 15 discriminator 3 view .LVU1294
 4233 0082 194D     		ldr	r5, .L360+4
 4234 0084 2846     		mov	r0, r5
 4235 0086 FFF7FEFF 		bl	sys_mutex_unlock
 4236              	.LVL421:
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
 4237              		.loc 1 1394 15 discriminator 3 view .LVU1295
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
 4238              		.loc 1 1394 33 is_stmt 0 discriminator 3 view .LVU1296
 4239 008a 2068     		ldr	r0, [r4]
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LOCK_TCPIP_CORE();
 4240              		.loc 1 1394 15 discriminator 3 view .LVU1297
 4241 008c 0021     		movs	r1, #0
 4242 008e 0C30     		adds	r0, r0, #12
 4243 0090 FFF7FEFF 		bl	sys_arch_sem_wait
 4244              	.LVL422:
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
 4245              		.loc 1 1395 15 is_stmt 1 discriminator 3 view .LVU1298
 4246 0094 2846     		mov	r0, r5
 4247 0096 FFF7FEFF 		bl	sys_mutex_lock
 4248              	.LVL423:
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4249              		.loc 1 1396 15 discriminator 3 view .LVU1299
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4250              		.loc 1 1396 15 discriminator 3 view .LVU1300
 4251 009a 2368     		ldr	r3, [r4]
 4252 009c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4253 009e 032B     		cmp	r3, #3
 4254 00a0 1CD1     		bne	.L343
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4255              		.loc 1 1396 15 discriminator 1 view .LVU1301
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4256              		.loc 1 1396 15 discriminator 1 view .LVU1302
 4257 00a2 124B     		ldr	r3, .L360+8
 4258 00a4 40F27452 		movw	r2, #1396
 4259 00a8 1149     		ldr	r1, .L360+12
 4260 00aa 1248     		ldr	r0, .L360+16
 4261 00ac FFF7FEFF 		bl	printf
 4262              	.LVL424:
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 128


 4263              		.loc 1 1396 15 discriminator 1 view .LVU1303
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4264              		.loc 1 1396 15 discriminator 1 view .LVU1304
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4265              		.loc 1 1398 15 discriminator 1 view .LVU1305
 4266 00b0 14E0     		b	.L343
 4267              	.LVL425:
 4268              	.L359:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4269              		.loc 1 1392 15 discriminator 1 view .LVU1306
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4270              		.loc 1 1392 15 discriminator 1 view .LVU1307
 4271 00b2 0E4B     		ldr	r3, .L360+8
 4272 00b4 4FF4AE62 		mov	r2, #1392
 4273 00b8 0D49     		ldr	r1, .L360+12
 4274 00ba 0E48     		ldr	r0, .L360+16
 4275              	.LVL426:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4276              		.loc 1 1392 15 is_stmt 0 discriminator 1 view .LVU1308
 4277 00bc FFF7FEFF 		bl	printf
 4278              	.LVL427:
 4279 00c0 DFE7     		b	.L349
 4280              	.L346:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               UNLOCK_TCPIP_CORE();
 4281              		.loc 1 1392 15 discriminator 1 view .LVU1309
 4282              	.LBE22:
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4283              		.loc 1 1405 9 is_stmt 1 discriminator 1 view .LVU1310
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4284              		.loc 1 1405 9 discriminator 1 view .LVU1311
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4285              		.loc 1 1405 9 discriminator 1 view .LVU1312
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4286              		.loc 1 1405 9 discriminator 1 view .LVU1313
 4287 00c2 0A4B     		ldr	r3, .L360+8
 4288 00c4 40F27D52 		movw	r2, #1405
 4289 00c8 0B49     		ldr	r1, .L360+20
 4290 00ca 0A48     		ldr	r0, .L360+16
 4291 00cc FFF7FEFF 		bl	printf
 4292              	.LVL428:
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4293              		.loc 1 1405 9 discriminator 1 view .LVU1314
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4294              		.loc 1 1405 9 discriminator 1 view .LVU1315
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4295              		.loc 1 1405 9 discriminator 1 view .LVU1316
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4296              		.loc 1 1405 9 discriminator 1 view .LVU1317
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4297              		.loc 1 1405 9 discriminator 1 view .LVU1318
1408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4298              		.loc 1 1408 9 discriminator 1 view .LVU1319
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_VAL;
 4299              		.loc 1 1405 9 is_stmt 0 discriminator 1 view .LVU1320
 4300 00d0 6FF00500 		mvn	r0, #5
1408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4301              		.loc 1 1408 9 discriminator 1 view .LVU1321
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 129


 4302 00d4 01E0     		b	.L344
 4303              	.LVL429:
 4304              	.L352:
1357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 4305              		.loc 1 1357 9 view .LVU1322
 4306 00d6 6FF00E00 		mvn	r0, #14
 4307              	.L344:
 4308              	.LVL430:
1411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
 4309              		.loc 1 1411 3 is_stmt 1 view .LVU1323
1411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls netconn_apimsg(),
 4310              		.loc 1 1411 12 is_stmt 0 view .LVU1324
 4311 00da 2071     		strb	r0, [r4, #4]
1414:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4312              		.loc 1 1414 24 is_stmt 1 view .LVU1325
 4313              	.LVL431:
 4314              	.L343:
1415:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4315              		.loc 1 1415 1 is_stmt 0 view .LVU1326
 4316 00dc 38BD     		pop	{r3, r4, r5, pc}
 4317              	.LVL432:
 4318              	.L353:
1374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if (msg->conn->state != NETCONN_NONE) {
 4319              		.loc 1 1374 15 view .LVU1327
 4320 00de 6FF00800 		mvn	r0, #8
 4321 00e2 FAE7     		b	.L344
 4322              	.L361:
 4323              		.align	2
 4324              	.L360:
 4325 00e4 00000000 		.word	lwip_netconn_do_connected
 4326 00e8 00000000 		.word	lock_tcpip_core
 4327 00ec 00000000 		.word	.LC0
 4328 00f0 50000000 		.word	.LC37
 4329 00f4 40000000 		.word	.LC2
 4330 00f8 00000000 		.word	.LC38
 4331              		.cfi_endproc
 4332              	.LFE383:
 4334              		.section	.text.lwip_netconn_do_disconnect,"ax",%progbits
 4335              		.align	1
 4336              		.global	lwip_netconn_do_disconnect
 4337              		.syntax unified
 4338              		.thumb
 4339              		.thumb_func
 4341              	lwip_netconn_do_disconnect:
 4342              	.LVL433:
 4343              	.LFB384:
1426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4344              		.loc 1 1426 1 is_stmt 1 view -0
 4345              		.cfi_startproc
 4346              		@ args = 0, pretend = 0, frame = 0
 4347              		@ frame_needed = 0, uses_anonymous_args = 0
1426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4348              		.loc 1 1426 1 is_stmt 0 view .LVU1329
 4349 0000 10B5     		push	{r4, lr}
 4350              	.LCFI25:
 4351              		.cfi_def_cfa_offset 8
 4352              		.cfi_offset 4, -8
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 130


 4353              		.cfi_offset 14, -4
 4354 0002 0446     		mov	r4, r0
1427:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4355              		.loc 1 1427 3 is_stmt 1 view .LVU1330
 4356              	.LVL434:
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4357              		.loc 1 1430 3 view .LVU1331
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4358              		.loc 1 1430 7 is_stmt 0 view .LVU1332
 4359 0004 0268     		ldr	r2, [r0]
 4360 0006 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4361              		.loc 1 1430 6 view .LVU1333
 4362 0008 03F0F003 		and	r3, r3, #240
 4363 000c 202B     		cmp	r3, #32
 4364 000e 02D0     		beq	.L366
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4365              		.loc 1 1436 5 is_stmt 1 view .LVU1334
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4366              		.loc 1 1436 14 is_stmt 0 view .LVU1335
 4367 0010 FA23     		movs	r3, #250
 4368 0012 0371     		strb	r3, [r0, #4]
1438:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4369              		.loc 1 1438 24 is_stmt 1 view .LVU1336
 4370              	.LVL435:
 4371              	.L362:
1439:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4372              		.loc 1 1439 1 is_stmt 0 view .LVU1337
 4373 0014 10BD     		pop	{r4, pc}
 4374              	.LVL436:
 4375              	.L366:
1431:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 4376              		.loc 1 1431 5 is_stmt 1 view .LVU1338
 4377 0016 5068     		ldr	r0, [r2, #4]
 4378              	.LVL437:
1431:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 4379              		.loc 1 1431 5 is_stmt 0 view .LVU1339
 4380 0018 FFF7FEFF 		bl	udp_disconnect
 4381              	.LVL438:
1432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 4382              		.loc 1 1432 5 is_stmt 1 view .LVU1340
1432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 4383              		.loc 1 1432 14 is_stmt 0 view .LVU1341
 4384 001c 0023     		movs	r3, #0
 4385 001e 2371     		strb	r3, [r4, #4]
 4386 0020 F8E7     		b	.L362
 4387              		.cfi_endproc
 4388              	.LFE384:
 4390              		.section	.text.lwip_netconn_do_listen,"ax",%progbits
 4391              		.align	1
 4392              		.global	lwip_netconn_do_listen
 4393              		.syntax unified
 4394              		.thumb
 4395              		.thumb_func
 4397              	lwip_netconn_do_listen:
 4398              	.LVL439:
 4399              	.LFB385:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 131


1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4400              		.loc 1 1450 1 is_stmt 1 view -0
 4401              		.cfi_startproc
 4402              		@ args = 0, pretend = 0, frame = 8
 4403              		@ frame_needed = 0, uses_anonymous_args = 0
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4404              		.loc 1 1450 1 is_stmt 0 view .LVU1343
 4405 0000 30B5     		push	{r4, r5, lr}
 4406              	.LCFI26:
 4407              		.cfi_def_cfa_offset 12
 4408              		.cfi_offset 4, -12
 4409              		.cfi_offset 5, -8
 4410              		.cfi_offset 14, -4
 4411 0002 83B0     		sub	sp, sp, #12
 4412              	.LCFI27:
 4413              		.cfi_def_cfa_offset 24
 4414 0004 0446     		mov	r4, r0
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 4415              		.loc 1 1451 3 is_stmt 1 view .LVU1344
 4416              	.LVL440:
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4417              		.loc 1 1452 3 view .LVU1345
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4418              		.loc 1 1454 3 view .LVU1346
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4419              		.loc 1 1454 10 is_stmt 0 view .LVU1347
 4420 0006 0368     		ldr	r3, [r0]
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4421              		.loc 1 1454 21 view .LVU1348
 4422 0008 5868     		ldr	r0, [r3, #4]
 4423              	.LVL441:
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4424              		.loc 1 1454 6 view .LVU1349
 4425 000a 0028     		cmp	r0, #0
 4426 000c 5ED0     		beq	.L368
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 4427              		.loc 1 1455 5 is_stmt 1 view .LVU1350
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 4428              		.loc 1 1455 9 is_stmt 0 view .LVU1351
 4429 000e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_NONE) {
 4430              		.loc 1 1455 8 view .LVU1352
 4431 0010 02F0F002 		and	r2, r2, #240
 4432 0014 102A     		cmp	r2, #16
 4433 0016 07D0     		beq	.L378
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4434              		.loc 1 1515 7 is_stmt 1 view .LVU1353
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4435              		.loc 1 1515 11 is_stmt 0 view .LVU1354
 4436 0018 F023     		movs	r3, #240
 4437 001a 8DF80730 		strb	r3, [sp, #7]
 4438              	.L372:
1520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4439              		.loc 1 1520 3 is_stmt 1 view .LVU1355
1520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4440              		.loc 1 1520 12 is_stmt 0 view .LVU1356
 4441 001e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 132


 4442 0022 2371     		strb	r3, [r4, #4]
1521:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4443              		.loc 1 1521 24 is_stmt 1 view .LVU1357
1522:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 4444              		.loc 1 1522 1 is_stmt 0 view .LVU1358
 4445 0024 03B0     		add	sp, sp, #12
 4446              	.LCFI28:
 4447              		.cfi_remember_state
 4448              		.cfi_def_cfa_offset 12
 4449              		@ sp needed
 4450 0026 30BD     		pop	{r4, r5, pc}
 4451              	.LVL442:
 4452              	.L378:
 4453              	.LCFI29:
 4454              		.cfi_restore_state
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
 4455              		.loc 1 1456 7 is_stmt 1 view .LVU1359
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
 4456              		.loc 1 1456 20 is_stmt 0 view .LVU1360
 4457 0028 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct tcp_pcb *lpcb;
 4458              		.loc 1 1456 10 view .LVU1361
 4459 002a 002B     		cmp	r3, #0
 4460 002c 44D1     		bne	.L370
 4461              	.LBB23:
1457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->pcb.tcp->state != CLOSED) {
 4462              		.loc 1 1457 9 is_stmt 1 view .LVU1362
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
 4463              		.loc 1 1458 9 view .LVU1363
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
 4464              		.loc 1 1458 31 is_stmt 0 view .LVU1364
 4465 002e 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* connection is not closed, cannot listen */
 4466              		.loc 1 1458 12 view .LVU1365
 4467 0030 1BB1     		cbz	r3, .L371
1460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4468              		.loc 1 1460 11 is_stmt 1 view .LVU1366
1460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4469              		.loc 1 1460 15 is_stmt 0 view .LVU1367
 4470 0032 FA23     		movs	r3, #250
 4471 0034 8DF80730 		strb	r3, [sp, #7]
 4472 0038 F1E7     		b	.L372
 4473              	.L371:
 4474              	.LBB24:
1462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
 4475              		.loc 1 1462 11 is_stmt 1 view .LVU1368
1466:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
 4476              		.loc 1 1466 11 view .LVU1369
 4477              	.LVL443:
1480:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4478              		.loc 1 1480 11 view .LVU1370
1480:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4479              		.loc 1 1480 18 is_stmt 0 view .LVU1371
 4480 003a 0DF10702 		add	r2, sp, #7
 4481 003e FF21     		movs	r1, #255
 4482 0040 FFF7FEFF 		bl	tcp_listen_with_backlog_and_err
 4483              	.LVL444:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 133


1482:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
 4484              		.loc 1 1482 11 is_stmt 1 view .LVU1372
1482:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* in this case, the old pcb is still allocated */
 4485              		.loc 1 1482 14 is_stmt 0 view .LVU1373
 4486 0044 0546     		mov	r5, r0
 4487 0046 0028     		cmp	r0, #0
 4488 0048 E9D0     		beq	.L372
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4489              		.loc 1 1486 13 is_stmt 1 view .LVU1374
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4490              		.loc 1 1486 36 is_stmt 0 view .LVU1375
 4491 004a 2068     		ldr	r0, [r4]
 4492              	.LVL445:
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4493              		.loc 1 1486 17 view .LVU1376
 4494 004c 1030     		adds	r0, r0, #16
 4495 004e FFF7FEFF 		bl	sys_mbox_valid
 4496              	.LVL446:
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /** @todo: should we drain the recvmbox here? */
 4497              		.loc 1 1486 16 view .LVU1377
 4498 0052 C8B9     		cbnz	r0, .L379
 4499              	.L373:
1491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
 4500              		.loc 1 1491 13 is_stmt 1 view .LVU1378
1491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
 4501              		.loc 1 1491 17 is_stmt 0 view .LVU1379
 4502 0054 0023     		movs	r3, #0
 4503 0056 8DF80730 		strb	r3, [sp, #7]
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4504              		.loc 1 1492 13 is_stmt 1 view .LVU1380
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4505              		.loc 1 1492 37 is_stmt 0 view .LVU1381
 4506 005a 2068     		ldr	r0, [r4]
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4507              		.loc 1 1492 18 view .LVU1382
 4508 005c 1430     		adds	r0, r0, #20
 4509 005e FFF7FEFF 		bl	sys_mbox_valid
 4510              	.LVL447:
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4511              		.loc 1 1492 16 view .LVU1383
 4512 0062 D0B1     		cbz	r0, .L380
 4513              	.L374:
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 4514              		.loc 1 1495 13 is_stmt 1 view .LVU1384
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 4515              		.loc 1 1495 21 is_stmt 0 view .LVU1385
 4516 0064 9DF90730 		ldrsb	r3, [sp, #7]
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->state = NETCONN_LISTEN;
 4517              		.loc 1 1495 16 view .LVU1386
 4518 0068 FBB9     		cbnz	r3, .L375
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
 4519              		.loc 1 1496 15 is_stmt 1 view .LVU1387
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
 4520              		.loc 1 1496 18 is_stmt 0 view .LVU1388
 4521 006a 2368     		ldr	r3, [r4]
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = lpcb;
 4522              		.loc 1 1496 32 view .LVU1389
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 134


 4523 006c 0222     		movs	r2, #2
 4524 006e 5A70     		strb	r2, [r3, #1]
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4525              		.loc 1 1497 15 is_stmt 1 view .LVU1390
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4526              		.loc 1 1497 18 is_stmt 0 view .LVU1391
 4527 0070 2368     		ldr	r3, [r4]
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4528              		.loc 1 1497 34 view .LVU1392
 4529 0072 5D60     		str	r5, [r3, #4]
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 4530              		.loc 1 1498 15 is_stmt 1 view .LVU1393
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 4531              		.loc 1 1498 26 is_stmt 0 view .LVU1394
 4532 0074 2168     		ldr	r1, [r4]
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               tcp_accept(msg->conn->pcb.tcp, accept_function);
 4533              		.loc 1 1498 15 view .LVU1395
 4534 0076 4868     		ldr	r0, [r1, #4]
 4535 0078 FFF7FEFF 		bl	tcp_arg
 4536              	.LVL448:
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4537              		.loc 1 1499 15 is_stmt 1 view .LVU1396
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4538              		.loc 1 1499 29 is_stmt 0 view .LVU1397
 4539 007c 2368     		ldr	r3, [r4]
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4540              		.loc 1 1499 15 view .LVU1398
 4541 007e 1549     		ldr	r1, .L382
 4542 0080 5868     		ldr	r0, [r3, #4]
 4543 0082 FFF7FEFF 		bl	tcp_accept
 4544              	.LVL449:
 4545 0086 CAE7     		b	.L372
 4546              	.L379:
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
 4547              		.loc 1 1488 15 is_stmt 1 view .LVU1399
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
 4548              		.loc 1 1488 33 is_stmt 0 view .LVU1400
 4549 0088 2068     		ldr	r0, [r4]
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               sys_mbox_set_invalid(&msg->conn->recvmbox);
 4550              		.loc 1 1488 15 view .LVU1401
 4551 008a 1030     		adds	r0, r0, #16
 4552 008c FFF7FEFF 		bl	sys_mbox_free
 4553              	.LVL450:
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4554              		.loc 1 1489 15 is_stmt 1 view .LVU1402
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4555              		.loc 1 1489 40 is_stmt 0 view .LVU1403
 4556 0090 2068     		ldr	r0, [r4]
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4557              		.loc 1 1489 15 view .LVU1404
 4558 0092 1030     		adds	r0, r0, #16
 4559 0094 FFF7FEFF 		bl	sys_mbox_set_invalid
 4560              	.LVL451:
 4561 0098 DCE7     		b	.L373
 4562              	.L380:
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4563              		.loc 1 1493 15 is_stmt 1 view .LVU1405
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 135


1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4564              		.loc 1 1493 38 is_stmt 0 view .LVU1406
 4565 009a 2068     		ldr	r0, [r4]
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4566              		.loc 1 1493 21 view .LVU1407
 4567 009c 0621     		movs	r1, #6
 4568 009e 1430     		adds	r0, r0, #20
 4569 00a0 FFF7FEFF 		bl	sys_mbox_new
 4570              	.LVL452:
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4571              		.loc 1 1493 19 view .LVU1408
 4572 00a4 8DF80700 		strb	r0, [sp, #7]
 4573 00a8 DCE7     		b	.L374
 4574              	.L375:
1502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->conn->pcb.tcp = NULL;
 4575              		.loc 1 1502 15 is_stmt 1 view .LVU1409
 4576 00aa 2846     		mov	r0, r5
 4577 00ac FFF7FEFF 		bl	tcp_close
 4578              	.LVL453:
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4579              		.loc 1 1503 15 view .LVU1410
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4580              		.loc 1 1503 18 is_stmt 0 view .LVU1411
 4581 00b0 2368     		ldr	r3, [r4]
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4582              		.loc 1 1503 34 view .LVU1412
 4583 00b2 0022     		movs	r2, #0
 4584 00b4 5A60     		str	r2, [r3, #4]
 4585 00b6 B2E7     		b	.L372
 4586              	.LVL454:
 4587              	.L370:
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
 4588              		.loc 1 1503 34 view .LVU1413
 4589              	.LBE24:
 4590              	.LBE23:
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* already listening, allow updating of the backlog */
 4591              		.loc 1 1507 14 is_stmt 1 view .LVU1414
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* already listening, allow updating of the backlog */
 4592              		.loc 1 1507 17 is_stmt 0 view .LVU1415
 4593 00b8 022B     		cmp	r3, #2
 4594 00ba 03D0     		beq	.L381
1512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4595              		.loc 1 1512 9 is_stmt 1 view .LVU1416
1512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4596              		.loc 1 1512 13 is_stmt 0 view .LVU1417
 4597 00bc F523     		movs	r3, #245
 4598 00be 8DF80730 		strb	r3, [sp, #7]
 4599 00c2 ACE7     		b	.L372
 4600              	.L381:
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
 4601              		.loc 1 1509 9 is_stmt 1 view .LVU1418
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
 4602              		.loc 1 1509 13 is_stmt 0 view .LVU1419
 4603 00c4 0023     		movs	r3, #0
 4604 00c6 8DF80730 		strb	r3, [sp, #7]
1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 4605              		.loc 1 1510 65 is_stmt 1 view .LVU1420
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 136


 4606 00ca A8E7     		b	.L372
 4607              	.L368:
1518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4608              		.loc 1 1518 5 view .LVU1421
1518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4609              		.loc 1 1518 9 is_stmt 0 view .LVU1422
 4610 00cc F523     		movs	r3, #245
 4611 00ce 8DF80730 		strb	r3, [sp, #7]
 4612 00d2 A4E7     		b	.L372
 4613              	.L383:
 4614              		.align	2
 4615              	.L382:
 4616 00d4 00000000 		.word	accept_function
 4617              		.cfi_endproc
 4618              	.LFE385:
 4620              		.section	.text.lwip_netconn_do_send,"ax",%progbits
 4621              		.align	1
 4622              		.global	lwip_netconn_do_send
 4623              		.syntax unified
 4624              		.thumb
 4625              		.thumb_func
 4627              	lwip_netconn_do_send:
 4628              	.LVL455:
 4629              	.LFB386:
1533:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4630              		.loc 1 1533 1 is_stmt 1 view -0
 4631              		.cfi_startproc
 4632              		@ args = 0, pretend = 0, frame = 0
 4633              		@ frame_needed = 0, uses_anonymous_args = 0
1533:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4634              		.loc 1 1533 1 is_stmt 0 view .LVU1424
 4635 0000 10B5     		push	{r4, lr}
 4636              	.LCFI30:
 4637              		.cfi_def_cfa_offset 8
 4638              		.cfi_offset 4, -8
 4639              		.cfi_offset 14, -4
 4640 0002 0446     		mov	r4, r0
1534:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4641              		.loc 1 1534 3 is_stmt 1 view .LVU1425
 4642              	.LVL456:
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4643              		.loc 1 1536 3 view .LVU1426
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4644              		.loc 1 1536 15 is_stmt 0 view .LVU1427
 4645 0004 0068     		ldr	r0, [r0]
 4646              	.LVL457:
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4647              		.loc 1 1536 15 view .LVU1428
 4648 0006 FFF7FEFF 		bl	netconn_err
 4649              	.LVL458:
1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4650              		.loc 1 1537 3 is_stmt 1 view .LVU1429
1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4651              		.loc 1 1537 6 is_stmt 0 view .LVU1430
 4652 000a 0346     		mov	r3, r0
 4653 000c 48B9     		cbnz	r0, .L385
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 137


 4654              		.loc 1 1538 5 is_stmt 1 view .LVU1431
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4655              		.loc 1 1538 12 is_stmt 0 view .LVU1432
 4656 000e 2368     		ldr	r3, [r4]
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4657              		.loc 1 1538 23 view .LVU1433
 4658 0010 5868     		ldr	r0, [r3, #4]
 4659              	.LVL459:
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4660              		.loc 1 1538 8 view .LVU1434
 4661 0012 C0B1     		cbz	r0, .L387
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4662              		.loc 1 1539 7 is_stmt 1 view .LVU1435
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4663              		.loc 1 1539 15 is_stmt 0 view .LVU1436
 4664 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4665              		.loc 1 1539 7 view .LVU1437
 4666 0016 03F0F003 		and	r3, r3, #240
 4667 001a 202B     		cmp	r3, #32
 4668 001c 03D0     		beq	.L390
1570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           break;
 4669              		.loc 1 1570 15 view .LVU1438
 4670 001e 6FF00A03 		mvn	r3, #10
 4671              	.L385:
 4672              	.LVL460:
1577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4673              		.loc 1 1577 3 is_stmt 1 view .LVU1439
1577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4674              		.loc 1 1577 12 is_stmt 0 view .LVU1440
 4675 0022 2371     		strb	r3, [r4, #4]
1578:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4676              		.loc 1 1578 24 is_stmt 1 view .LVU1441
1579:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4677              		.loc 1 1579 1 is_stmt 0 view .LVU1442
 4678 0024 10BD     		pop	{r4, pc}
 4679              	.LVL461:
 4680              	.L390:
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4681              		.loc 1 1561 11 is_stmt 1 view .LVU1443
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4682              		.loc 1 1561 15 is_stmt 0 view .LVU1444
 4683 0026 A168     		ldr	r1, [r4, #8]
 4684 0028 8B68     		ldr	r3, [r1, #8]
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4685              		.loc 1 1561 14 view .LVU1445
 4686 002a 23B9     		cbnz	r3, .L386
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 4687              		.loc 1 1562 13 is_stmt 1 view .LVU1446
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 4688              		.loc 1 1562 19 is_stmt 0 view .LVU1447
 4689 002c 0968     		ldr	r1, [r1]
 4690 002e FFF7FEFF 		bl	udp_send
 4691              	.LVL462:
 4692 0032 0346     		mov	r3, r0
 4693              	.LVL463:
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 138


 4694              		.loc 1 1562 19 view .LVU1448
 4695 0034 F5E7     		b	.L385
 4696              	.LVL464:
 4697              	.L386:
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4698              		.loc 1 1564 13 is_stmt 1 view .LVU1449
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4699              		.loc 1 1564 19 is_stmt 0 view .LVU1450
 4700 0036 8B89     		ldrh	r3, [r1, #12]
 4701 0038 01F10802 		add	r2, r1, #8
 4702 003c 0968     		ldr	r1, [r1]
 4703 003e FFF7FEFF 		bl	udp_sendto
 4704              	.LVL465:
 4705 0042 0346     		mov	r3, r0
 4706              	.LVL466:
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4707              		.loc 1 1564 19 view .LVU1451
 4708 0044 EDE7     		b	.L385
 4709              	.LVL467:
 4710              	.L387:
1574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4711              		.loc 1 1574 11 view .LVU1452
 4712 0046 6FF00A03 		mvn	r3, #10
 4713 004a EAE7     		b	.L385
 4714              		.cfi_endproc
 4715              	.LFE386:
 4717              		.section	.text.lwip_netconn_do_recv,"ax",%progbits
 4718              		.align	1
 4719              		.global	lwip_netconn_do_recv
 4720              		.syntax unified
 4721              		.thumb
 4722              		.thumb_func
 4724              	lwip_netconn_do_recv:
 4725              	.LVL468:
 4726              	.LFB387:
1590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4727              		.loc 1 1590 1 is_stmt 1 view -0
 4728              		.cfi_startproc
 4729              		@ args = 0, pretend = 0, frame = 0
 4730              		@ frame_needed = 0, uses_anonymous_args = 0
1591:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4731              		.loc 1 1591 3 view .LVU1454
1593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 4732              		.loc 1 1593 3 view .LVU1455
1593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 4733              		.loc 1 1593 12 is_stmt 0 view .LVU1456
 4734 0000 0023     		movs	r3, #0
 4735 0002 0371     		strb	r3, [r0, #4]
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4736              		.loc 1 1594 3 is_stmt 1 view .LVU1457
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4737              		.loc 1 1594 10 is_stmt 0 view .LVU1458
 4738 0004 0368     		ldr	r3, [r0]
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4739              		.loc 1 1594 21 view .LVU1459
 4740 0006 5A68     		ldr	r2, [r3, #4]
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 139


 4741              		.loc 1 1594 6 view .LVU1460
 4742 0008 BAB1     		cbz	r2, .L397
1590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4743              		.loc 1 1590 1 view .LVU1461
 4744 000a 70B5     		push	{r4, r5, r6, lr}
 4745              	.LCFI31:
 4746              		.cfi_def_cfa_offset 16
 4747              		.cfi_offset 4, -16
 4748              		.cfi_offset 5, -12
 4749              		.cfi_offset 6, -8
 4750              		.cfi_offset 14, -4
 4751 000c 0646     		mov	r6, r0
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
 4752              		.loc 1 1595 5 is_stmt 1 view .LVU1462
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
 4753              		.loc 1 1595 9 is_stmt 0 view .LVU1463
 4754 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       size_t remaining = msg->msg.r.len;
 4755              		.loc 1 1595 8 view .LVU1464
 4756 0010 03F0F003 		and	r3, r3, #240
 4757 0014 102B     		cmp	r3, #16
 4758 0016 00D0     		beq	.L400
 4759              	.LVL469:
 4760              	.L391:
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4761              		.loc 1 1605 1 view .LVU1465
 4762 0018 70BD     		pop	{r4, r5, r6, pc}
 4763              	.LVL470:
 4764              	.L400:
 4765              	.LBB25:
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 4766              		.loc 1 1596 7 is_stmt 1 view .LVU1466
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 4767              		.loc 1 1596 14 is_stmt 0 view .LVU1467
 4768 001a 8468     		ldr	r4, [r0, #8]
 4769              	.LVL471:
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 4770              		.loc 1 1596 14 view .LVU1468
 4771 001c 08E0     		b	.L394
 4772              	.LVL472:
 4773              	.L395:
 4774              	.LBB26:
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4775              		.loc 1 1598 24 view .LVU1469
 4776 001e 4FF6FF75 		movw	r5, #65535
 4777              	.L393:
 4778              	.LVL473:
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4779              		.loc 1 1599 9 is_stmt 1 discriminator 4 view .LVU1470
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4780              		.loc 1 1599 23 is_stmt 0 discriminator 4 view .LVU1471
 4781 0022 3368     		ldr	r3, [r6]
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4782              		.loc 1 1599 9 discriminator 4 view .LVU1472
 4783 0024 2946     		mov	r1, r5
 4784 0026 5868     		ldr	r0, [r3, #4]
 4785 0028 FFF7FEFF 		bl	tcp_recved
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 140


 4786              	.LVL474:
1600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
 4787              		.loc 1 1600 9 is_stmt 1 discriminator 4 view .LVU1473
1600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
 4788              		.loc 1 1600 9 is_stmt 0 discriminator 4 view .LVU1474
 4789              	.LBE26:
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4790              		.loc 1 1601 15 is_stmt 1 discriminator 4 view .LVU1475
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4791              		.loc 1 1601 7 is_stmt 0 discriminator 4 view .LVU1476
 4792 002c 641B     		subs	r4, r4, r5
 4793              	.LVL475:
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4794              		.loc 1 1601 7 discriminator 4 view .LVU1477
 4795 002e F3D0     		beq	.L391
 4796              	.LVL476:
 4797              	.L394:
1597:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         u16_t recved = (u16_t)((remaining > 0xffff) ? 0xffff : remaining);
 4798              		.loc 1 1597 7 is_stmt 1 view .LVU1478
 4799              	.LBB27:
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4800              		.loc 1 1598 9 view .LVU1479
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4801              		.loc 1 1598 24 is_stmt 0 view .LVU1480
 4802 0030 B4F5803F 		cmp	r4, #65536
 4803 0034 F3D2     		bcs	.L395
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4804              		.loc 1 1598 24 discriminator 1 view .LVU1481
 4805 0036 A5B2     		uxth	r5, r4
 4806 0038 F3E7     		b	.L393
 4807              	.LVL477:
 4808              	.L397:
 4809              	.LCFI32:
 4810              		.cfi_def_cfa_offset 0
 4811              		.cfi_restore 4
 4812              		.cfi_restore 5
 4813              		.cfi_restore 6
 4814              		.cfi_restore 14
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4815              		.loc 1 1598 24 discriminator 1 view .LVU1482
 4816 003a 7047     		bx	lr
 4817              	.LBE27:
 4818              	.LBE25:
 4819              		.cfi_endproc
 4820              	.LFE387:
 4822              		.section	.rodata.lwip_netconn_do_write.str1.4,"aMS",%progbits,1
 4823              		.align	2
 4824              	.LC39:
 4825 0000 6D73672D 		.ascii	"msg->msg.w.len != 0\000"
 4825      3E6D7367 
 4825      2E772E6C 
 4825      656E2021 
 4825      3D203000 
 4826              		.section	.text.lwip_netconn_do_write,"ax",%progbits
 4827              		.align	1
 4828              		.global	lwip_netconn_do_write
 4829              		.syntax unified
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 141


 4830              		.thumb
 4831              		.thumb_func
 4833              	lwip_netconn_do_write:
 4834              	.LVL478:
 4835              	.LFB389:
1804:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1805:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1806:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Send some data on a TCP pcb contained in a netconn
1808:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_write
1809:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1810:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1812:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1813:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_write(void *m)
1814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 4836              		.loc 1 1814 1 is_stmt 1 view -0
 4837              		.cfi_startproc
 4838              		@ args = 0, pretend = 0, frame = 0
 4839              		@ frame_needed = 0, uses_anonymous_args = 0
 4840              		.loc 1 1814 1 is_stmt 0 view .LVU1484
 4841 0000 38B5     		push	{r3, r4, r5, lr}
 4842              	.LCFI33:
 4843              		.cfi_def_cfa_offset 16
 4844              		.cfi_offset 3, -16
 4845              		.cfi_offset 4, -12
 4846              		.cfi_offset 5, -8
 4847              		.cfi_offset 14, -4
 4848 0002 0446     		mov	r4, r0
1815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 4849              		.loc 1 1815 3 is_stmt 1 view .LVU1485
 4850              	.LVL479:
1816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1817:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err = netconn_err(msg->conn);
 4851              		.loc 1 1817 3 view .LVU1486
 4852              		.loc 1 1817 15 is_stmt 0 view .LVU1487
 4853 0004 0068     		ldr	r0, [r0]
 4854              	.LVL480:
 4855              		.loc 1 1817 15 view .LVU1488
 4856 0006 FFF7FEFF 		bl	netconn_err
 4857              	.LVL481:
1818:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 4858              		.loc 1 1818 3 is_stmt 1 view .LVU1489
 4859              		.loc 1 1818 6 is_stmt 0 view .LVU1490
 4860 000a 0346     		mov	r3, r0
 4861 000c 38B9     		cbnz	r0, .L402
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4862              		.loc 1 1819 5 is_stmt 1 view .LVU1491
 4863              		.loc 1 1819 9 is_stmt 0 view .LVU1492
 4864 000e 2268     		ldr	r2, [r4]
 4865 0010 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4866              		.loc 1 1819 8 view .LVU1493
 4867 0012 03F0F003 		and	r3, r3, #240
 4868 0016 102B     		cmp	r3, #16
 4869 0018 03D0     		beq	.L412
1820:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state != NETCONN_NONE) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 142


1822:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
1823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_INPROGRESS;
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
1826:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
1830:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (lwip_netconn_do_writemore(msg->conn, 0) != ERR_OK) {
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
1833:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
1837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1838:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1839:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         lwip_netconn_do_writemore(msg->conn);
1840:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* for both cases: if lwip_netconn_do_writemore was called, don't ACK the APIMSG
1842:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            since lwip_netconn_do_writemore ACKs it! */
1843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return;
1844:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_CONN;
1846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1847:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCP */
1848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_VAL;
1849:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1850:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if (LWIP_UDP || LWIP_RAW)
1851:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1852:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_VAL;
 4870              		.loc 1 1852 11 view .LVU1494
 4871 001a 6FF00503 		mvn	r3, #5
 4872              	.L402:
 4873              	.LVL482:
1853:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
1854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1855:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1856:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = err;
 4874              		.loc 1 1856 3 is_stmt 1 view .LVU1495
 4875              		.loc 1 1856 12 is_stmt 0 view .LVU1496
 4876 001e 2371     		strb	r3, [r4, #4]
1857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4877              		.loc 1 1857 24 is_stmt 1 view .LVU1497
 4878              	.LVL483:
 4879              	.L401:
1858:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4880              		.loc 1 1858 1 is_stmt 0 view .LVU1498
 4881 0020 38BD     		pop	{r3, r4, r5, pc}
 4882              	.LVL484:
 4883              	.L412:
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4884              		.loc 1 1821 7 is_stmt 1 view .LVU1499
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4885              		.loc 1 1821 20 is_stmt 0 view .LVU1500
 4886 0022 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 143


 4887              		.loc 1 1821 10 view .LVU1501
 4888 0024 002B     		cmp	r3, #0
 4889 0026 44D1     		bne	.L409
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4890              		.loc 1 1824 14 is_stmt 1 view .LVU1502
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4891              		.loc 1 1824 32 is_stmt 0 view .LVU1503
 4892 0028 5368     		ldr	r3, [r2, #4]
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4893              		.loc 1 1824 17 view .LVU1504
 4894 002a 002B     		cmp	r3, #0
 4895 002c 44D0     		beq	.L410
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
 4896              		.loc 1 1825 9 is_stmt 1 view .LVU1505
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
 4897              		.loc 1 1825 26 is_stmt 0 view .LVU1506
 4898 002e 0123     		movs	r3, #1
 4899 0030 5370     		strb	r3, [r2, #1]
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4900              		.loc 1 1827 9 is_stmt 1 view .LVU1507
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4901              		.loc 1 1827 9 view .LVU1508
 4902 0032 2368     		ldr	r3, [r4]
 4903 0034 1B6A     		ldr	r3, [r3, #32]
 4904 0036 33B1     		cbz	r3, .L403
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4905              		.loc 1 1827 9 discriminator 1 view .LVU1509
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4906              		.loc 1 1827 9 discriminator 1 view .LVU1510
 4907 0038 214B     		ldr	r3, .L415
 4908 003a 40F22372 		movw	r2, #1827
 4909 003e 2149     		ldr	r1, .L415+4
 4910 0040 2148     		ldr	r0, .L415+8
 4911              	.LVL485:
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4912              		.loc 1 1827 9 is_stmt 0 discriminator 1 view .LVU1511
 4913 0042 FFF7FEFF 		bl	printf
 4914              	.LVL486:
 4915              	.L403:
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4916              		.loc 1 1827 9 is_stmt 1 discriminator 3 view .LVU1512
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
 4917              		.loc 1 1827 9 discriminator 3 view .LVU1513
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4918              		.loc 1 1828 9 discriminator 3 view .LVU1514
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4919              		.loc 1 1828 9 discriminator 3 view .LVU1515
 4920 0046 6369     		ldr	r3, [r4, #20]
 4921 0048 1BB3     		cbz	r3, .L413
 4922              	.L404:
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4923              		.loc 1 1828 9 discriminator 3 view .LVU1516
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4924              		.loc 1 1828 9 discriminator 3 view .LVU1517
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4925              		.loc 1 1829 9 discriminator 3 view .LVU1518
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 144


 4926              		.loc 1 1829 12 is_stmt 0 discriminator 3 view .LVU1519
 4927 004a 2368     		ldr	r3, [r4]
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4928              		.loc 1 1829 32 discriminator 3 view .LVU1520
 4929 004c 1C62     		str	r4, [r3, #32]
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4930              		.loc 1 1831 9 is_stmt 1 discriminator 3 view .LVU1521
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4931              		.loc 1 1831 13 is_stmt 0 discriminator 3 view .LVU1522
 4932 004e 0021     		movs	r1, #0
 4933 0050 2068     		ldr	r0, [r4]
 4934 0052 FFF7FEFF 		bl	lwip_netconn_do_writemore
 4935              	.LVL487:
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4936              		.loc 1 1831 12 discriminator 3 view .LVU1523
 4937 0056 0028     		cmp	r0, #0
 4938 0058 E2D0     		beq	.L401
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4939              		.loc 1 1832 11 is_stmt 1 view .LVU1524
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4940              		.loc 1 1832 11 view .LVU1525
 4941 005a 2368     		ldr	r3, [r4]
 4942 005c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4943 005e 012B     		cmp	r3, #1
 4944 0060 1FD1     		bne	.L414
 4945              	.L406:
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4946              		.loc 1 1832 11 discriminator 3 view .LVU1526
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4947              		.loc 1 1832 11 discriminator 3 view .LVU1527
1833:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 4948              		.loc 1 1833 11 discriminator 3 view .LVU1528
 4949 0062 1A4D     		ldr	r5, .L415+12
 4950 0064 2846     		mov	r0, r5
 4951 0066 FFF7FEFF 		bl	sys_mutex_unlock
 4952              	.LVL488:
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4953              		.loc 1 1834 11 discriminator 3 view .LVU1529
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4954              		.loc 1 1834 29 is_stmt 0 discriminator 3 view .LVU1530
 4955 006a 2068     		ldr	r0, [r4]
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4956              		.loc 1 1834 11 discriminator 3 view .LVU1531
 4957 006c 0021     		movs	r1, #0
 4958 006e 0C30     		adds	r0, r0, #12
 4959 0070 FFF7FEFF 		bl	sys_arch_sem_wait
 4960              	.LVL489:
1835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
 4961              		.loc 1 1835 11 is_stmt 1 discriminator 3 view .LVU1532
 4962 0074 2846     		mov	r0, r5
 4963 0076 FFF7FEFF 		bl	sys_mutex_lock
 4964              	.LVL490:
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4965              		.loc 1 1836 11 discriminator 3 view .LVU1533
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4966              		.loc 1 1836 11 discriminator 3 view .LVU1534
 4967 007a 2368     		ldr	r3, [r4]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 145


 4968 007c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4969 007e 012B     		cmp	r3, #1
 4970 0080 CED1     		bne	.L401
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4971              		.loc 1 1836 11 discriminator 1 view .LVU1535
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4972              		.loc 1 1836 11 discriminator 1 view .LVU1536
 4973 0082 0F4B     		ldr	r3, .L415
 4974 0084 40F22C72 		movw	r2, #1836
 4975 0088 1149     		ldr	r1, .L415+16
 4976 008a 0F48     		ldr	r0, .L415+8
 4977 008c FFF7FEFF 		bl	printf
 4978              	.LVL491:
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4979              		.loc 1 1836 11 discriminator 1 view .LVU1537
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4980              		.loc 1 1836 11 discriminator 1 view .LVU1538
1843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 4981              		.loc 1 1843 9 discriminator 1 view .LVU1539
 4982 0090 C6E7     		b	.L401
 4983              	.L413:
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4984              		.loc 1 1828 9 discriminator 1 view .LVU1540
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4985              		.loc 1 1828 9 discriminator 1 view .LVU1541
 4986 0092 0B4B     		ldr	r3, .L415
 4987 0094 40F22472 		movw	r2, #1828
 4988 0098 0E49     		ldr	r1, .L415+20
 4989 009a 0B48     		ldr	r0, .L415+8
 4990 009c FFF7FEFF 		bl	printf
 4991              	.LVL492:
 4992 00a0 D3E7     		b	.L404
 4993              	.L414:
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4994              		.loc 1 1832 11 discriminator 1 view .LVU1542
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4995              		.loc 1 1832 11 discriminator 1 view .LVU1543
 4996 00a2 074B     		ldr	r3, .L415
 4997 00a4 4FF4E562 		mov	r2, #1832
 4998 00a8 0949     		ldr	r1, .L415+16
 4999 00aa 0748     		ldr	r0, .L415+8
 5000 00ac FFF7FEFF 		bl	printf
 5001              	.LVL493:
 5002 00b0 D7E7     		b	.L406
 5003              	.LVL494:
 5004              	.L409:
1823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
 5005              		.loc 1 1823 13 is_stmt 0 view .LVU1544
 5006 00b2 6FF00403 		mvn	r3, #4
 5007 00b6 B2E7     		b	.L402
 5008              	.L410:
1845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5009              		.loc 1 1845 13 view .LVU1545
 5010 00b8 6FF00A03 		mvn	r3, #10
 5011 00bc AFE7     		b	.L402
 5012              	.L416:
 5013 00be 00BF     		.align	2
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 146


 5014              	.L415:
 5015 00c0 00000000 		.word	.LC0
 5016 00c4 34000000 		.word	.LC36
 5017 00c8 40000000 		.word	.LC2
 5018 00cc 00000000 		.word	lock_tcpip_core
 5019 00d0 50000000 		.word	.LC37
 5020 00d4 00000000 		.word	.LC39
 5021              		.cfi_endproc
 5022              	.LFE389:
 5024              		.section	.rodata.lwip_netconn_do_getaddr.str1.4,"aMS",%progbits,1
 5025              		.align	2
 5026              	.LC40:
 5027 0000 696E7661 		.ascii	"invalid netconn_type\000"
 5027      6C696420 
 5027      6E657463 
 5027      6F6E6E5F 
 5027      74797065 
 5028              		.section	.text.lwip_netconn_do_getaddr,"ax",%progbits
 5029              		.align	1
 5030              		.global	lwip_netconn_do_getaddr
 5031              		.syntax unified
 5032              		.thumb
 5033              		.thumb_func
 5035              	lwip_netconn_do_getaddr:
 5036              	.LVL495:
 5037              	.LFB390:
1859:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1860:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1861:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Return a connection's local or remote address
1862:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_getaddr
1863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1865:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1866:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1867:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_getaddr(void *m)
1868:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 5038              		.loc 1 1868 1 is_stmt 1 view -0
 5039              		.cfi_startproc
 5040              		@ args = 0, pretend = 0, frame = 0
 5041              		@ frame_needed = 0, uses_anonymous_args = 0
 5042              		.loc 1 1868 1 is_stmt 0 view .LVU1547
 5043 0000 08B5     		push	{r3, lr}
 5044              	.LCFI34:
 5045              		.cfi_def_cfa_offset 8
 5046              		.cfi_offset 3, -8
 5047              		.cfi_offset 14, -4
1869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 5048              		.loc 1 1869 3 is_stmt 1 view .LVU1548
 5049              	.LVL496:
1870:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.ip != NULL) {
 5050              		.loc 1 1871 3 view .LVU1549
 5051              		.loc 1 1871 10 is_stmt 0 view .LVU1550
 5052 0002 0368     		ldr	r3, [r0]
 5053              		.loc 1 1871 21 view .LVU1551
 5054 0004 5B68     		ldr	r3, [r3, #4]
 5055              		.loc 1 1871 6 view .LVU1552
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 147


 5056 0006 002B     		cmp	r3, #0
 5057 0008 3FD0     		beq	.L418
1872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->msg.ad.local) {
 5058              		.loc 1 1872 5 is_stmt 1 view .LVU1553
 5059              		.loc 1 1872 20 is_stmt 0 view .LVU1554
 5060 000a 027C     		ldrb	r2, [r0, #16]	@ zero_extendqisi2
 5061              		.loc 1 1872 8 view .LVU1555
 5062 000c 9AB1     		cbz	r2, .L419
1873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
 5063              		.loc 1 1873 7 is_stmt 1 view .LVU1556
 5064 000e 8268     		ldr	r2, [r0, #8]
 5065 0010 1B68     		ldr	r3, [r3]
 5066 0012 1360     		str	r3, [r2]
 5067              	.L420:
1874:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    msg->conn->pcb.ip->local_ip);
1875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
1877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    msg->conn->pcb.ip->remote_ip);
1878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1879:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 5068              		.loc 1 1880 5 view .LVU1557
 5069              		.loc 1 1880 14 is_stmt 0 view .LVU1558
 5070 0014 0023     		movs	r3, #0
 5071 0016 0371     		strb	r3, [r0, #4]
1881:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 5072              		.loc 1 1881 5 is_stmt 1 view .LVU1559
 5073              		.loc 1 1881 13 is_stmt 0 view .LVU1560
 5074 0018 0268     		ldr	r2, [r0]
 5075 001a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 5076 001c 03F0F003 		and	r3, r3, #240
 5077              		.loc 1 1881 5 view .LVU1561
 5078 0020 102B     		cmp	r3, #16
 5079 0022 18D0     		beq	.L421
 5080 0024 202B     		cmp	r3, #32
 5081 0026 28D1     		bne	.L422
1882:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1883:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->msg.ad.local) {
1885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.raw->protocol;
1886:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1887:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* return an error as connecting is only a helper for upper layers */
1888:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_CONN;
1889:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1890:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1891:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1892:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1893:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1894:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->msg.ad.local) {
 5082              		.loc 1 1894 9 is_stmt 1 view .LVU1562
 5083              		.loc 1 1894 24 is_stmt 0 view .LVU1563
 5084 0028 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 5085              		.loc 1 1894 12 view .LVU1564
 5086 002a 43B1     		cbz	r3, .L423
1895:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->local_port;
 5087              		.loc 1 1895 11 is_stmt 1 view .LVU1565
 5088              		.loc 1 1895 60 is_stmt 0 view .LVU1566
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 148


 5089 002c 5268     		ldr	r2, [r2, #4]
 5090              		.loc 1 1895 11 view .LVU1567
 5091 002e C368     		ldr	r3, [r0, #12]
 5092              		.loc 1 1895 64 view .LVU1568
 5093 0030 528A     		ldrh	r2, [r2, #18]
 5094              		.loc 1 1895 44 view .LVU1569
 5095 0032 1A80     		strh	r2, [r3]	@ movhi
 5096 0034 2BE0     		b	.L417
 5097              	.L419:
1876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                    msg->conn->pcb.ip->remote_ip);
 5098              		.loc 1 1876 7 is_stmt 1 view .LVU1570
 5099 0036 8268     		ldr	r2, [r0, #8]
 5100 0038 5B68     		ldr	r3, [r3, #4]
 5101 003a 1360     		str	r3, [r2]
 5102 003c EAE7     		b	.L420
 5103              	.L423:
1896:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if ((msg->conn->pcb.udp->flags & UDP_FLAGS_CONNECTED) == 0) {
 5104              		.loc 1 1897 11 view .LVU1571
 5105              		.loc 1 1897 30 is_stmt 0 view .LVU1572
 5106 003e 5368     		ldr	r3, [r2, #4]
 5107              		.loc 1 1897 34 view .LVU1573
 5108 0040 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 5109              		.loc 1 1897 14 view .LVU1574
 5110 0042 12F0040F 		tst	r2, #4
 5111 0046 02D1     		bne	.L425
1898:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_CONN;
 5112              		.loc 1 1898 13 is_stmt 1 view .LVU1575
 5113              		.loc 1 1898 22 is_stmt 0 view .LVU1576
 5114 0048 F523     		movs	r3, #245
 5115 004a 0371     		strb	r3, [r0, #4]
 5116 004c 1FE0     		b	.L417
 5117              	.L425:
1899:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->remote_port;
 5118              		.loc 1 1900 13 is_stmt 1 view .LVU1577
 5119 004e C268     		ldr	r2, [r0, #12]
 5120              		.loc 1 1900 66 is_stmt 0 view .LVU1578
 5121 0050 9B8A     		ldrh	r3, [r3, #20]
 5122              		.loc 1 1900 46 view .LVU1579
 5123 0052 1380     		strh	r3, [r2]	@ movhi
 5124 0054 1BE0     		b	.L417
 5125              	.L421:
1901:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1902:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1903:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1904:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1905:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1906:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if ((msg->msg.ad.local == 0) &&
 5126              		.loc 1 1907 9 is_stmt 1 view .LVU1580
 5127              		.loc 1 1907 25 is_stmt 0 view .LVU1581
 5128 0056 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 5129              		.loc 1 1907 12 view .LVU1582
 5130 0058 1BB9     		cbnz	r3, .L426
1908:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 5131              		.loc 1 1908 29 discriminator 1 view .LVU1583
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 149


 5132 005a 5168     		ldr	r1, [r2, #4]
 5133              		.loc 1 1908 33 discriminator 1 view .LVU1584
 5134 005c 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
1907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 5135              		.loc 1 1907 38 discriminator 1 view .LVU1585
 5136 005e 0129     		cmp	r1, #1
 5137 0060 05D9     		bls	.L430
 5138              	.L426:
1909:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* pcb is not connected and remote name is requested */
1910:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_CONN;
1911:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = (msg->msg.ad.local ? msg->conn->pcb.tcp->local_port : 
 5139              		.loc 1 1912 11 is_stmt 1 view .LVU1586
 5140              		.loc 1 1912 44 is_stmt 0 view .LVU1587
 5141 0062 3BB1     		cbz	r3, .L427
 5142              		.loc 1 1912 81 discriminator 1 view .LVU1588
 5143 0064 5368     		ldr	r3, [r2, #4]
 5144              		.loc 1 1912 44 discriminator 1 view .LVU1589
 5145 0066 DA8A     		ldrh	r2, [r3, #22]
 5146              	.L428:
 5147              		.loc 1 1912 11 discriminator 4 view .LVU1590
 5148 0068 C368     		ldr	r3, [r0, #12]
 5149              		.loc 1 1912 44 discriminator 4 view .LVU1591
 5150 006a 1A80     		strh	r2, [r3]	@ movhi
 5151 006c 0FE0     		b	.L417
 5152              	.L430:
1910:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 5153              		.loc 1 1910 11 is_stmt 1 view .LVU1592
1910:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 5154              		.loc 1 1910 20 is_stmt 0 view .LVU1593
 5155 006e F523     		movs	r3, #245
 5156 0070 0371     		strb	r3, [r0, #4]
 5157 0072 0CE0     		b	.L417
 5158              	.L427:
 5159              		.loc 1 1912 114 discriminator 2 view .LVU1594
 5160 0074 5368     		ldr	r3, [r2, #4]
 5161              		.loc 1 1912 44 discriminator 2 view .LVU1595
 5162 0076 1A8B     		ldrh	r2, [r3, #24]
 5163 0078 F6E7     		b	.L428
 5164              	.L422:
1913:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1915:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1917:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("invalid netconn_type", 0);
 5165              		.loc 1 1917 9 is_stmt 1 discriminator 1 view .LVU1596
 5166              		.loc 1 1917 9 discriminator 1 view .LVU1597
 5167              		.loc 1 1917 9 discriminator 1 view .LVU1598
 5168              		.loc 1 1917 9 discriminator 1 view .LVU1599
 5169 007a 054B     		ldr	r3, .L431
 5170 007c 40F27D72 		movw	r2, #1917
 5171 0080 0449     		ldr	r1, .L431+4
 5172 0082 0548     		ldr	r0, .L431+8
 5173              	.LVL497:
 5174              		.loc 1 1917 9 is_stmt 0 discriminator 1 view .LVU1600
 5175 0084 FFF7FEFF 		bl	printf
 5176              	.LVL498:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 150


 5177              		.loc 1 1917 9 is_stmt 1 discriminator 1 view .LVU1601
 5178              		.loc 1 1917 9 discriminator 1 view .LVU1602
1918:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 5179              		.loc 1 1918 9 discriminator 1 view .LVU1603
 5180 0088 01E0     		b	.L417
 5181              	.LVL499:
 5182              	.L418:
1919:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1920:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
 5183              		.loc 1 1921 5 view .LVU1604
 5184              		.loc 1 1921 14 is_stmt 0 view .LVU1605
 5185 008a F523     		movs	r3, #245
 5186 008c 0371     		strb	r3, [r0, #4]
1922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 5187              		.loc 1 1923 24 is_stmt 1 view .LVU1606
 5188              	.LVL500:
 5189              	.L417:
1924:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 5190              		.loc 1 1924 1 is_stmt 0 view .LVU1607
 5191 008e 08BD     		pop	{r3, pc}
 5192              	.L432:
 5193              		.align	2
 5194              	.L431:
 5195 0090 00000000 		.word	.LC0
 5196 0094 00000000 		.word	.LC40
 5197 0098 40000000 		.word	.LC2
 5198              		.cfi_endproc
 5199              	.LFE390:
 5201              		.section	.text.lwip_netconn_do_close,"ax",%progbits
 5202              		.align	1
 5203              		.global	lwip_netconn_do_close
 5204              		.syntax unified
 5205              		.thumb
 5206              		.thumb_func
 5208              	lwip_netconn_do_close:
 5209              	.LVL501:
 5210              	.LFB391:
1925:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1926:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1927:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Close or half-shutdown a TCP pcb contained in a netconn
1928:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_close
1929:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * In contrast to closing sockets, the netconn is not deallocated.
1930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg pointing to the connection
1932:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1933:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_close(void *m)
1935:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 5211              		.loc 1 1935 1 is_stmt 1 view -0
 5212              		.cfi_startproc
 5213              		@ args = 0, pretend = 0, frame = 0
 5214              		@ frame_needed = 0, uses_anonymous_args = 0
 5215              		.loc 1 1935 1 is_stmt 0 view .LVU1609
 5216 0000 38B5     		push	{r3, r4, r5, lr}
 5217              	.LCFI35:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 151


 5218              		.cfi_def_cfa_offset 16
 5219              		.cfi_offset 3, -16
 5220              		.cfi_offset 4, -12
 5221              		.cfi_offset 5, -8
 5222              		.cfi_offset 14, -4
 5223 0002 0446     		mov	r4, r0
1936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg *)m;
 5224              		.loc 1 1936 3 is_stmt 1 view .LVU1610
 5225              	.LVL502:
1937:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1938:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1939:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
 5226              		.loc 1 1939 3 view .LVU1611
 5227              		.loc 1 1939 33 is_stmt 0 view .LVU1612
 5228 0004 0068     		ldr	r0, [r0]
 5229              	.LVL503:
 5230              		.loc 1 1939 22 view .LVU1613
 5231 0006 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
 5232              	.LVL504:
1940:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* First check if this is a TCP netconn and if it is in a correct state
1941:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (LISTEN doesn't support half shutdown) */
1942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((msg->conn->pcb.tcp != NULL) &&
 5233              		.loc 1 1942 3 is_stmt 1 view .LVU1614
 5234              		.loc 1 1942 22 is_stmt 0 view .LVU1615
 5235 0008 4368     		ldr	r3, [r0, #4]
 5236              		.loc 1 1942 6 view .LVU1616
 5237 000a 23B1     		cbz	r3, .L434
1943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5238              		.loc 1 1943 8 discriminator 1 view .LVU1617
 5239 000c 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5240              		.loc 1 1942 36 discriminator 1 view .LVU1618
 5241 000e 03F0F003 		and	r3, r3, #240
 5242 0012 102B     		cmp	r3, #16
 5243 0014 02D0     		beq	.L444
 5244              	.L434:
1944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
1945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Check if we are in a connected state */
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (state == NETCONN_CONNECT) {
1947:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
1948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_CONN;
1949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
1950:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1951:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_WR) {
1952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* close requested, abort running write */
1953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_sem_t *write_completed_sem;
1954:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1955:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1956:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg->err = ERR_CLSD;
1957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = NULL;
1958:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_NONE;
1959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         state = NETCONN_NONE;
1960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_sem_signal(write_completed_sem);
1961:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1962:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.sd.shut == NETCONN_SHUT_RD", msg->msg.sd.shut == NETCONN_SHUT_RD);
1963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* In this case, let the write continue and do not interfere with
1964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            conn->current_msg or conn->state! */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 152


1965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = tcp_shutdown(msg->conn->pcb.tcp, 1, 0);
1966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (state == NETCONN_NONE) {
1969:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_INPROGRESS;
1971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1972:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_RD) {
1974:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Mark mboxes invalid */
1976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_mark_mbox_invalid(msg->conn);
1977:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_drain(msg->conn);
1979:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1980:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL);
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
1984:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
1987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
1991:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1992:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1993:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(msg->conn);
1994:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* for tcp netconns, lwip_netconn_do_close_internal ACKs the message */
1996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
1997:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1998:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1999:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
2000:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
2001:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
 5245              		.loc 1 2001 5 is_stmt 1 view .LVU1619
 5246              		.loc 1 2001 14 is_stmt 0 view .LVU1620
 5247 0016 F523     		movs	r3, #245
 5248 0018 2371     		strb	r3, [r4, #4]
2002:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
2003:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 5249              		.loc 1 2003 24 is_stmt 1 view .LVU1621
 5250              	.LVL505:
 5251              	.L433:
2004:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 5252              		.loc 1 2004 1 is_stmt 0 view .LVU1622
 5253 001a 38BD     		pop	{r3, r4, r5, pc}
 5254              	.LVL506:
 5255              	.L444:
1944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 5256              		.loc 1 1944 20 view .LVU1623
 5257 001c 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
1943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 5258              		.loc 1 1943 59 view .LVU1624
 5259 001e 032B     		cmp	r3, #3
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 153


 5260 0020 01D0     		beq	.L435
1944:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Check if we are in a connected state */
 5261              		.loc 1 1944 48 view .LVU1625
 5262 0022 022A     		cmp	r2, #2
 5263 0024 F7D0     		beq	.L434
 5264              	.L435:
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 5265              		.loc 1 1946 5 is_stmt 1 view .LVU1626
1946:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 5266              		.loc 1 1946 8 is_stmt 0 view .LVU1627
 5267 0026 032A     		cmp	r2, #3
 5268 0028 04D0     		beq	.L445
1949:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5269              		.loc 1 1949 12 is_stmt 1 view .LVU1628
1949:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5270              		.loc 1 1949 15 is_stmt 0 view .LVU1629
 5271 002a 012A     		cmp	r2, #1
 5272 002c 05D1     		bne	.L438
1970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 5273              		.loc 1 1970 7 is_stmt 1 view .LVU1630
1970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 5274              		.loc 1 1970 16 is_stmt 0 view .LVU1631
 5275 002e FB23     		movs	r3, #251
 5276 0030 2371     		strb	r3, [r4, #4]
 5277 0032 F2E7     		b	.L433
 5278              	.L445:
1948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
 5279              		.loc 1 1948 7 is_stmt 1 view .LVU1632
1948:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
 5280              		.loc 1 1948 16 is_stmt 0 view .LVU1633
 5281 0034 F523     		movs	r3, #245
 5282 0036 2371     		strb	r3, [r4, #4]
 5283 0038 EFE7     		b	.L433
 5284              	.L438:
1973:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5285              		.loc 1 1973 7 is_stmt 1 view .LVU1634
1973:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5286              		.loc 1 1973 10 is_stmt 0 view .LVU1635
 5287 003a 13F0010F 		tst	r3, #1
 5288 003e 30D1     		bne	.L446
 5289              	.LVL507:
 5290              	.L439:
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5291              		.loc 1 1981 7 is_stmt 1 view .LVU1636
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5292              		.loc 1 1981 7 view .LVU1637
 5293 0040 2368     		ldr	r3, [r4]
 5294 0042 1B6A     		ldr	r3, [r3, #32]
 5295 0044 33B1     		cbz	r3, .L440
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5296              		.loc 1 1981 7 discriminator 1 view .LVU1638
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5297              		.loc 1 1981 7 discriminator 1 view .LVU1639
 5298 0046 1C4B     		ldr	r3, .L448
 5299 0048 40F2BD72 		movw	r2, #1981
 5300 004c 1B49     		ldr	r1, .L448+4
 5301 004e 1C48     		ldr	r0, .L448+8
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 154


 5302 0050 FFF7FEFF 		bl	printf
 5303              	.LVL508:
 5304              	.L440:
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5305              		.loc 1 1981 7 discriminator 3 view .LVU1640
1981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
 5306              		.loc 1 1981 7 discriminator 3 view .LVU1641
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5307              		.loc 1 1982 7 discriminator 3 view .LVU1642
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5308              		.loc 1 1982 10 is_stmt 0 discriminator 3 view .LVU1643
 5309 0054 2368     		ldr	r3, [r4]
1982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5310              		.loc 1 1982 24 discriminator 3 view .LVU1644
 5311 0056 0422     		movs	r2, #4
 5312 0058 5A70     		strb	r2, [r3, #1]
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5313              		.loc 1 1983 7 is_stmt 1 discriminator 3 view .LVU1645
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5314              		.loc 1 1983 10 is_stmt 0 discriminator 3 view .LVU1646
 5315 005a 2368     		ldr	r3, [r4]
1983:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5316              		.loc 1 1983 30 discriminator 3 view .LVU1647
 5317 005c 1C62     		str	r4, [r3, #32]
1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5318              		.loc 1 1985 7 is_stmt 1 discriminator 3 view .LVU1648
1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5319              		.loc 1 1985 11 is_stmt 0 discriminator 3 view .LVU1649
 5320 005e 0021     		movs	r1, #0
 5321 0060 2068     		ldr	r0, [r4]
 5322 0062 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 5323              	.LVL509:
1985:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5324              		.loc 1 1985 10 discriminator 3 view .LVU1650
 5325 0066 0028     		cmp	r0, #0
 5326 0068 D7D0     		beq	.L433
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5327              		.loc 1 1986 9 is_stmt 1 view .LVU1651
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5328              		.loc 1 1986 9 view .LVU1652
 5329 006a 2368     		ldr	r3, [r4]
 5330 006c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5331 006e 042B     		cmp	r3, #4
 5332 0070 1AD1     		bne	.L447
 5333              	.L442:
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5334              		.loc 1 1986 9 discriminator 3 view .LVU1653
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5335              		.loc 1 1986 9 discriminator 3 view .LVU1654
1987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 5336              		.loc 1 1987 9 discriminator 3 view .LVU1655
 5337 0072 144D     		ldr	r5, .L448+12
 5338 0074 2846     		mov	r0, r5
 5339 0076 FFF7FEFF 		bl	sys_mutex_unlock
 5340              	.LVL510:
1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5341              		.loc 1 1988 9 discriminator 3 view .LVU1656
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 155


1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5342              		.loc 1 1988 27 is_stmt 0 discriminator 3 view .LVU1657
 5343 007a 2068     		ldr	r0, [r4]
1988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5344              		.loc 1 1988 9 discriminator 3 view .LVU1658
 5345 007c 0021     		movs	r1, #0
 5346 007e 0C30     		adds	r0, r0, #12
 5347 0080 FFF7FEFF 		bl	sys_arch_sem_wait
 5348              	.LVL511:
1989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 5349              		.loc 1 1989 9 is_stmt 1 discriminator 3 view .LVU1659
 5350 0084 2846     		mov	r0, r5
 5351 0086 FFF7FEFF 		bl	sys_mutex_lock
 5352              	.LVL512:
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5353              		.loc 1 1990 9 discriminator 3 view .LVU1660
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5354              		.loc 1 1990 9 discriminator 3 view .LVU1661
 5355 008a 2368     		ldr	r3, [r4]
 5356 008c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5357 008e 002B     		cmp	r3, #0
 5358 0090 C3D0     		beq	.L433
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5359              		.loc 1 1990 9 discriminator 1 view .LVU1662
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5360              		.loc 1 1990 9 discriminator 1 view .LVU1663
 5361 0092 094B     		ldr	r3, .L448
 5362 0094 40F2C672 		movw	r2, #1990
 5363 0098 0B49     		ldr	r1, .L448+16
 5364 009a 0948     		ldr	r0, .L448+8
 5365 009c FFF7FEFF 		bl	printf
 5366              	.LVL513:
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5367              		.loc 1 1990 9 discriminator 1 view .LVU1664
1990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5368              		.loc 1 1990 9 discriminator 1 view .LVU1665
1996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 5369              		.loc 1 1996 7 discriminator 1 view .LVU1666
 5370 00a0 BBE7     		b	.L433
 5371              	.LVL514:
 5372              	.L446:
1978:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 5373              		.loc 1 1978 9 view .LVU1667
 5374 00a2 FFF7FEFF 		bl	netconn_drain
 5375              	.LVL515:
1978:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
 5376              		.loc 1 1978 9 is_stmt 0 view .LVU1668
 5377 00a6 CBE7     		b	.L439
 5378              	.L447:
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5379              		.loc 1 1986 9 is_stmt 1 discriminator 1 view .LVU1669
1986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5380              		.loc 1 1986 9 discriminator 1 view .LVU1670
 5381 00a8 034B     		ldr	r3, .L448
 5382 00aa 40F2C272 		movw	r2, #1986
 5383 00ae 0649     		ldr	r1, .L448+16
 5384 00b0 0348     		ldr	r0, .L448+8
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 156


 5385 00b2 FFF7FEFF 		bl	printf
 5386              	.LVL516:
 5387 00b6 DCE7     		b	.L442
 5388              	.L449:
 5389              		.align	2
 5390              	.L448:
 5391 00b8 00000000 		.word	.LC0
 5392 00bc 34000000 		.word	.LC36
 5393 00c0 40000000 		.word	.LC2
 5394 00c4 00000000 		.word	lock_tcpip_core
 5395 00c8 50000000 		.word	.LC37
 5396              		.cfi_endproc
 5397              	.LFE391:
 5399              		.global	netconn_closed
 5400              		.global	netconn_reset
 5401              		.global	netconn_aborted
 5402              		.section	.rodata.netconn_aborted,"a"
 5403              		.set	.LANCHOR2,. + 0
 5406              	netconn_aborted:
 5407 0000 00       		.space	1
 5408              		.section	.rodata.netconn_closed,"a"
 5409              		.set	.LANCHOR1,. + 0
 5412              	netconn_closed:
 5413 0000 00       		.space	1
 5414              		.section	.rodata.netconn_reset,"a"
 5415              		.set	.LANCHOR0,. + 0
 5418              	netconn_reset:
 5419 0000 00       		.space	1
 5420              		.text
 5421              	.Letext0:
 5422              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 5423              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 5424              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\lib\\gcc\\arm-none-eabi\
 5425              		.file 5 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 5426              		.file 6 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 5427              		.file 7 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 5428              		.file 8 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 5429              		.file 9 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 5430              		.file 10 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 5431              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 5432              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 5433              		.file 13 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 5434              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 5435              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 5436              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 5437              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/netbuf.h"
 5438              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/api.h"
 5439              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 5440              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 5441              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 5442              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/api_msg.h"
 5443              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 5444              		.file 24 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 5445              		.file 25 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
 5446              		.file 26 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 157


DEFINED SYMBOLS
                            *ABS*:00000000 api_msg.c
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:19     .rodata.lwip_netconn_err_to_msg.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:29     .text.lwip_netconn_err_to_msg:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:34     .text.lwip_netconn_err_to_msg:00000000 lwip_netconn_err_to_msg
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:107    .text.lwip_netconn_err_to_msg:00000038 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:117    .rodata.recv_udp.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:127    .text.recv_udp:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:132    .text.recv_udp:00000000 recv_udp
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:327    .text.recv_udp:000000b0 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:336    .text.setup_tcp:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:341    .text.setup_tcp:00000000 setup_tcp
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:394    .text.setup_tcp:00000030 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2532   .text.recv_tcp:00000000 recv_tcp
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2396   .text.sent_tcp:00000000 sent_tcp
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2262   .text.poll_tcp:00000000 poll_tcp
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:566    .text.err_tcp:00000000 err_tcp
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:402    .rodata.pcb_new.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:406    .text.pcb_new:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:411    .text.pcb_new:00000000 pcb_new
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:540    .text.pcb_new:00000078 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:548    .rodata.err_tcp.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:561    .text.err_tcp:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:843    .text.err_tcp:0000010c $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:855    .rodata.lwip_netconn_do_connected.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:866    .text.lwip_netconn_do_connected:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:871    .text.lwip_netconn_do_connected:00000000 lwip_netconn_do_connected
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:1076   .text.lwip_netconn_do_connected:000000c8 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:1085   .rodata.lwip_netconn_do_writemore.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:1102   .text.lwip_netconn_do_writemore:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:1107   .text.lwip_netconn_do_writemore:00000000 lwip_netconn_do_writemore
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:1746   .text.lwip_netconn_do_writemore:00000278 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:1759   .rodata.lwip_netconn_do_close_internal.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:1775   .text.lwip_netconn_do_close_internal:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:1780   .text.lwip_netconn_do_close_internal:00000000 lwip_netconn_do_close_internal
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2242   .text.lwip_netconn_do_close_internal:000001ec $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2257   .text.poll_tcp:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2384   .text.poll_tcp:00000074 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2391   .text.sent_tcp:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2507   .text.sent_tcp:00000068 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2514   .rodata.recv_tcp.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2527   .text.recv_tcp:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2727   .text.recv_tcp:000000ac $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2738   .rodata.lwip_netconn_is_err_msg.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2742   .text.lwip_netconn_is_err_msg:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2748   .text.lwip_netconn_is_err_msg:00000000 lwip_netconn_is_err_msg
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2837   .text.lwip_netconn_is_err_msg:00000044 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2847   .text.lwip_netconn_do_newconn:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2853   .text.lwip_netconn_do_newconn:00000000 lwip_netconn_do_newconn
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2895   .rodata.netconn_alloc.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2899   .text.netconn_alloc:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:2905   .text.netconn_alloc:00000000 netconn_alloc
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3040   .text.netconn_alloc:0000007c $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3047   .rodata.netconn_free.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3059   .text.netconn_free:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3065   .text.netconn_free:00000000 netconn_free
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3156   .text.netconn_free:00000064 $d
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 158


C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3165   .text.netconn_drain:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3170   .text.netconn_drain:00000000 netconn_drain
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3346   .rodata.accept_function.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3350   .text.accept_function:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3355   .text.accept_function:00000000 accept_function
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3590   .text.accept_function:000000fc $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3597   .rodata.lwip_netconn_do_delconn.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3610   .text.lwip_netconn_do_delconn:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3616   .text.lwip_netconn_do_delconn:00000000 lwip_netconn_do_delconn
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3893   .text.lwip_netconn_do_delconn:0000012c $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3904   .text.lwip_netconn_do_bind:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3910   .text.lwip_netconn_do_bind:00000000 lwip_netconn_do_bind
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3983   .text.lwip_netconn_do_bind_if:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:3989   .text.lwip_netconn_do_bind_if:00000000 lwip_netconn_do_bind_if
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4080   .rodata.lwip_netconn_do_connect.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4084   .text.lwip_netconn_do_connect:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4090   .text.lwip_netconn_do_connect:00000000 lwip_netconn_do_connect
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4325   .text.lwip_netconn_do_connect:000000e4 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4335   .text.lwip_netconn_do_disconnect:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4341   .text.lwip_netconn_do_disconnect:00000000 lwip_netconn_do_disconnect
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4391   .text.lwip_netconn_do_listen:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4397   .text.lwip_netconn_do_listen:00000000 lwip_netconn_do_listen
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4616   .text.lwip_netconn_do_listen:000000d4 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4621   .text.lwip_netconn_do_send:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4627   .text.lwip_netconn_do_send:00000000 lwip_netconn_do_send
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4718   .text.lwip_netconn_do_recv:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4724   .text.lwip_netconn_do_recv:00000000 lwip_netconn_do_recv
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4823   .rodata.lwip_netconn_do_write.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4827   .text.lwip_netconn_do_write:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:4833   .text.lwip_netconn_do_write:00000000 lwip_netconn_do_write
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5015   .text.lwip_netconn_do_write:000000c0 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5025   .rodata.lwip_netconn_do_getaddr.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5029   .text.lwip_netconn_do_getaddr:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5035   .text.lwip_netconn_do_getaddr:00000000 lwip_netconn_do_getaddr
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5195   .text.lwip_netconn_do_getaddr:00000090 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5202   .text.lwip_netconn_do_close:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5208   .text.lwip_netconn_do_close:00000000 lwip_netconn_do_close
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5391   .text.lwip_netconn_do_close:000000b8 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5412   .rodata.netconn_closed:00000000 netconn_closed
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5418   .rodata.netconn_reset:00000000 netconn_reset
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5406   .rodata.netconn_aborted:00000000 netconn_aborted
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5407   .rodata.netconn_aborted:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5413   .rodata.netconn_closed:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s:5419   .rodata.netconn_reset:00000000 $d

UNDEFINED SYMBOLS
printf
sys_mbox_valid
memp_malloc
sys_mbox_trypost
pbuf_free
netbuf_delete
tcp_arg
tcp_recv
tcp_sent
tcp_poll
tcp_err
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccn6uZYJ.s 			page 159


udp_new_ip_type
udp_recv
tcp_new_ip_type
sys_arch_protect
sys_arch_unprotect
sys_sem_valid
sys_sem_signal
tcp_write
tcp_output
tcp_close
tcp_accept
tcp_shutdown
tcp_abort
tcp_recved
sys_mbox_new
sys_sem_new
sys_mbox_set_invalid
memp_free
sys_mbox_free
sys_sem_free
sys_sem_set_invalid
sys_arch_mbox_tryfetch
udp_remove
sys_mutex_unlock
sys_arch_sem_wait
sys_mutex_lock
lock_tcpip_core
udp_bind
tcp_bind
netif_get_by_index
udp_bind_netif
tcp_bind_netif
udp_connect
tcp_connect
udp_disconnect
tcp_listen_with_backlog_and_err
netconn_err
udp_send
udp_sendto
