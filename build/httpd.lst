ARM GAS  C:\usertemp\ccrQXns0.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"httpd.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "Middlewares/Third_Party/LwIP/src/apps/http/httpd.c"
  19              		.section	.rodata.httpd_init_pcb.str1.4,"aMS",%progbits,1
  20              		.align	2
  21              	.LC0:
  22 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/apps/http/httpd.c\000"
  22      6C657761 
  22      7265732F 
  22      54686972 
  22      645F5061 
  23 0033 00       		.align	2
  24              	.LC1:
  25 0034 68747470 		.ascii	"httpd_init: tcp_bind failed\000"
  25      645F696E 
  25      69743A20 
  25      7463705F 
  25      62696E64 
  26              		.align	2
  27              	.LC2:
  28 0050 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
  28      7274696F 
  28      6E202225 
  28      73222066 
  28      61696C65 
  29              		.align	2
  30              	.LC3:
  31 0078 68747470 		.ascii	"httpd_init: tcp_listen failed\000"
  31      645F696E 
  31      69743A20 
  31      7463705F 
  31      6C697374 
  32              		.section	.text.httpd_init_pcb,"ax",%progbits
  33              		.align	1
  34              		.syntax unified
  35              		.thumb
  36              		.thumb_func
  38              	httpd_init_pcb:
  39              	.LVL0:
  40              	.LFB385:
   1:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
   2:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @file
ARM GAS  C:\usertemp\ccrQXns0.s 			page 2


   3:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * LWIP HTTP server implementation
   4:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
   5:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
   6:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /*
   7:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Copyright (c) 2001-2003 Swedish Institute of Computer Science.
   8:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * All rights reserved.
   9:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  10:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Redistribution and use in source and binary forms, with or without modification,
  11:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * are permitted provided that the following conditions are met:
  12:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  13:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  14:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *    this list of conditions and the following disclaimer.
  15:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  16:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *    this list of conditions and the following disclaimer in the documentation
  17:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *    and/or other materials provided with the distribution.
  18:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * 3. The name of the author may not be used to endorse or promote products
  19:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *    derived from this software without specific prior written permission.
  20:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  21:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  22:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  23:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  24:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  25:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  26:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  27:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  28:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  29:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  30:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * OF SUCH DAMAGE.
  31:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  32:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * This file is part of the lwIP TCP/IP stack.
  33:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  34:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Author: Adam Dunkels <adam@sics.se>
  35:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *         Simon Goldschmidt
  36:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  37:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
  38:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
  39:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
  40:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @defgroup httpd HTTP server
  41:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @ingroup apps
  42:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  43:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * This httpd supports for a
  44:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * rudimentary server-side-include facility which will replace tags of the form
  45:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * <!--#tag--> in any file whose extension is .shtml, .shtm or .ssi with
  46:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * strings provided by an include handler whose pointer is provided to the
  47:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * module via function http_set_ssi_handler().
  48:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Additionally, a simple common
  49:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * gateway interface (CGI) handling mechanism has been added to allow clients
  50:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * to hook functions to particular request URIs.
  51:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  52:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * To enable SSI support, define label LWIP_HTTPD_SSI in lwipopts.h.
  53:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * To enable CGI support, define label LWIP_HTTPD_CGI in lwipopts.h.
  54:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  55:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * By default, the server assumes that HTTP headers are already present in
  56:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * each file stored in the file system.  By defining LWIP_HTTPD_DYNAMIC_HEADERS in
  57:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * lwipopts.h, this behavior can be changed such that the server inserts the
  58:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * headers automatically based on the extension of the file being served.  If
  59:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * this mode is used, be careful to ensure that the file system image used
ARM GAS  C:\usertemp\ccrQXns0.s 			page 3


  60:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * does not already contain the header information.
  61:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  62:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * File system images without headers can be created using the makefsfile
  63:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * tool with the -h command line option.
  64:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  65:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  66:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Notes about valid SSI tags
  67:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * --------------------------
  68:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  69:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * The following assumptions are made about tags used in SSI markers:
  70:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  71:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * 1. No tag may contain '-' or whitespace characters within the tag name.
  72:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * 2. Whitespace is allowed between the tag leadin "<!--#" and the start of
  73:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *    the tag name and between the tag name and the leadout string "-->".
  74:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * 3. The maximum tag name length is LWIP_HTTPD_MAX_TAG_NAME_LEN, currently 8 characters.
  75:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  76:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Notes on CGI usage
  77:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * ------------------
  78:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  79:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * The simple CGI support offered here works with GET method requests only
  80:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * and can handle up to 16 parameters encoded into the URI. The handler
  81:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * function may not write directly to the HTTP output but must return a
  82:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * filename that the HTTP server will send to the browser as a response to
  83:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * the incoming CGI request.
  84:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  85:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  86:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
  87:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * The list of supported file types is quite short, so if makefsdata complains
  88:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * about an unknown extension, make sure to add it (and its doctype) to
  89:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * the 'g_psHTTPHeaders' list.
  90:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
  91:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include "lwip/init.h"
  92:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include "lwip/apps/httpd.h"
  93:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include "lwip/debug.h"
  94:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include "lwip/stats.h"
  95:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include "lwip/apps/fs.h"
  96:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include "httpd_structs.h"
  97:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include "lwip/def.h"
  98:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
  99:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include "lwip/altcp.h"
 100:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include "lwip/altcp_tcp.h"
 101:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if HTTPD_ENABLE_HTTPS
 102:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include "lwip/altcp_tls.h"
 103:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 104:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #ifdef LWIP_HOOK_FILENAME
 105:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include LWIP_HOOK_FILENAME
 106:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 107:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_TIMING
 108:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include "lwip/sys.h"
 109:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_TIMING */
 110:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 111:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include <string.h> /* memset */
 112:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include <stdlib.h> /* atoi */
 113:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #include <stdio.h>
 114:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 115:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_TCP && LWIP_CALLBACK_API
 116:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
ARM GAS  C:\usertemp\ccrQXns0.s 			page 4


 117:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Minimum length for a valid HTTP/0.9 request: "GET /\r\n" -> 7 bytes */
 118:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define MIN_REQ_LEN   7
 119:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 120:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define CRLF "\r\n"
 121:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_11_KEEPALIVE
 122:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP11_CONNECTIONKEEPALIVE  "Connection: keep-alive"
 123:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP11_CONNECTIONKEEPALIVE2 "Connection: Keep-Alive"
 124:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 125:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 126:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_FILE_READ
 127:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_IS_DYNAMIC_FILE(hs) ((hs)->buf != NULL)
 128:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else
 129:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_IS_DYNAMIC_FILE(hs) 0
 130:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 131:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 132:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /* This defines checks whether tcp_write has to copy data or not */
 133:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 134:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #ifndef HTTP_IS_DATA_VOLATILE
 135:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** tcp_write does not have to copy data when sent from rom-file-system directly */
 136:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_IS_DATA_VOLATILE(hs)       (HTTP_IS_DYNAMIC_FILE(hs) ? TCP_WRITE_FLAG_COPY : 0)
 137:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 138:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Default: dynamic headers are sent from ROM (non-dynamic headers are handled like file data) */
 139:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #ifndef HTTP_IS_HDR_VOLATILE
 140:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_IS_HDR_VOLATILE(hs, ptr)   0
 141:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 142:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 143:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /* Return values for http_send_*() */
 144:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_DATA_TO_SEND_FREED    3
 145:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_DATA_TO_SEND_BREAK    2
 146:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_DATA_TO_SEND_CONTINUE 1
 147:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_NO_DATA_TO_SEND       0
 148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 149:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** typedef struct {
 150:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   const char *name;
 151:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t shtml;
 152:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** } default_filename;
 153:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 154:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static const default_filename httpd_default_filenames[] = {
 155:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {"/index.shtml", 1 },
 156:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {"/index.ssi",   1 },
 157:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {"/index.shtm",  1 },
 158:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {"/index.html",  0 },
 159:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {"/index.htm",   0 }
 160:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** };
 161:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 162:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define NUM_DEFAULT_FILENAMES LWIP_ARRAYSIZE(httpd_default_filenames)
 163:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 164:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_REQUESTLIST
 165:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** HTTP request is copied here from pbufs for simple parsing */
 166:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static char httpd_req_buf[LWIP_HTTPD_MAX_REQ_LENGTH + 1];
 167:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_REQUESTLIST */
 168:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 169:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
 170:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_POST_MAX_RESPONSE_URI_LEN > LWIP_HTTPD_MAX_REQUEST_URI_LEN
 171:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define LWIP_HTTPD_URI_BUF_LEN LWIP_HTTPD_POST_MAX_RESPONSE_URI_LEN
 172:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 173:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
ARM GAS  C:\usertemp\ccrQXns0.s 			page 5


 174:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #ifndef LWIP_HTTPD_URI_BUF_LEN
 175:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define LWIP_HTTPD_URI_BUF_LEN LWIP_HTTPD_MAX_REQUEST_URI_LEN
 176:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 177:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_URI_BUF_LEN
 178:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /* Filename for response file to send when POST is finished or
 179:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * search for default files when a directory is requested. */
 180:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static char http_uri_buf[LWIP_HTTPD_URI_BUF_LEN + 1];
 181:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 182:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 183:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_HEADERS
 184:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /* The number of individual strings that comprise the headers sent before each
 185:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * requested file.
 186:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
 187:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define NUM_FILE_HDR_STRINGS 5
 188:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HDR_STRINGS_IDX_HTTP_STATUS           0 /* e.g. "HTTP/1.0 200 OK\r\n" */
 189:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HDR_STRINGS_IDX_SERVER_NAME           1 /* e.g. "Server: "HTTPD_SERVER_AGENT"\r\n" */
 190:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HDR_STRINGS_IDX_CONTENT_LEN_KEEPALIVE 2 /* e.g. "Content-Length: xy\r\n" and/or "Connection
 191:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HDR_STRINGS_IDX_CONTENT_LEN_NR        3 /* the byte count, when content-length is used */
 192:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HDR_STRINGS_IDX_CONTENT_TYPE          4 /* the content type (or default answer content type
 193:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 194:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /* The dynamically generated Content-Length buffer needs space for CRLF + NULL */
 195:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define LWIP_HTTPD_MAX_CONTENT_LEN_OFFSET 3
 196:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #ifndef LWIP_HTTPD_MAX_CONTENT_LEN_SIZE
 197:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /* The dynamically generated Content-Length buffer shall be able to work with
 198:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    ~953 MB (9 digits) */
 199:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define LWIP_HTTPD_MAX_CONTENT_LEN_SIZE   (9 + LWIP_HTTPD_MAX_CONTENT_LEN_OFFSET)
 200:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 201:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_DYNAMIC_HEADERS */
 202:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 203:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
 204:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 205:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTPD_LAST_TAG_PART 0xFFFF
 206:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 207:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** enum tag_check_state {
 208:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   TAG_NONE,       /* Not processing an SSI tag */
 209:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   TAG_LEADIN,     /* Tag lead in "<!--#" being processed */
 210:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   TAG_FOUND,      /* Tag name being read, looking for lead-out start */
 211:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   TAG_LEADOUT,    /* Tag lead out "-->" being processed */
 212:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   TAG_SENDING     /* Sending tag replacement string */
 213:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** };
 214:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 215:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** struct http_ssi_state {
 216:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   const char *parsed;     /* Pointer to the first unparsed byte in buf. */
 217:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
 218:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   const char *tag_started;/* Pointer to the first opening '<' of the tag. */
 219:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* !LWIP_HTTPD_SSI_INCLUDE_TAG */
 220:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   const char *tag_end;    /* Pointer to char after the closing '>' of the tag. */
 221:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u32_t parse_left; /* Number of unparsed bytes in buf. */
 222:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t tag_index;   /* Counter used by tag parsing state machine */
 223:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t tag_insert_len; /* Length of insert in string tag_insert */
 224:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
 225:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t tag_part; /* Counter passed to and changed by tag insertion function to insert multiple tim
 226:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_MULTIPART */
 227:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t tag_type; /* index into http_ssi_tag_desc array */
 228:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t tag_name_len; /* Length of the tag name in string tag_name */
 229:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char tag_name[LWIP_HTTPD_MAX_TAG_NAME_LEN + 1]; /* Last tag name extracted */
 230:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char tag_insert[LWIP_HTTPD_MAX_TAG_INSERT_LEN + 1]; /* Insert string for tag_name */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 6


 231:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   enum tag_check_state tag_state; /* State of the tag processor */
 232:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** };
 233:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 234:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** struct http_ssi_tag_description {
 235:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   const char *lead_in;
 236:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   const char *lead_out; 
 237:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** };
 238:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 239:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 240:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 241:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** struct http_state {
 242:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED
 243:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *next;
 244:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED */
 245:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct fs_file file_handle;
 246:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct fs_file *handle;
 247:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   const char *file;       /* Pointer to first unsent byte in buf. */
 248:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 249:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct altcp_pcb *pcb;
 250:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_REQUESTLIST
 251:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct pbuf *req;
 252:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_REQUESTLIST */
 253:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 254:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_FILE_READ
 255:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *buf;        /* File read buffer. */
 256:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   int buf_len;      /* Size of file read buffer, buf. */
 257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_DYNAMIC_FILE_READ */
 258:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u32_t left;       /* Number of unsent bytes in buf. */
 259:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t retries;
 260:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_11_KEEPALIVE
 261:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t keepalive;
 262:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_11_KEEPALIVE */
 263:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
 264:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_ssi_state *ssi;
 265:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 266:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CGI
 267:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *params[LWIP_HTTPD_MAX_CGI_PARAMETERS]; /* Params extracted from the request URI */
 268:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *param_vals[LWIP_HTTPD_MAX_CGI_PARAMETERS]; /* Values for each extracted param */
 269:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_CGI */
 270:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_HEADERS
 271:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   const char *hdrs[NUM_FILE_HDR_STRINGS]; /* HTTP headers to be sent. */
 272:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char hdr_content_len[LWIP_HTTPD_MAX_CONTENT_LEN_SIZE];
 273:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t hdr_pos;     /* The position of the first unsent header byte in the
 274:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                         current string */
 275:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t hdr_index;   /* The index of the hdr string currently being sent. */
 276:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_DYNAMIC_HEADERS */
 277:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_TIMING
 278:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u32_t time_started;
 279:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_TIMING */
 280:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
 281:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u32_t post_content_len_left;
 282:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_POST_MANUAL_WND
 283:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u32_t unrecved_bytes;
 284:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t no_auto_wnd;
 285:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t post_finished;
 286:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_POST_MANUAL_WND */
 287:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST*/
ARM GAS  C:\usertemp\ccrQXns0.s 			page 7


 288:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** };
 289:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 290:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if HTTPD_USE_MEM_POOL
 291:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** LWIP_MEMPOOL_DECLARE(HTTPD_STATE,     MEMP_NUM_PARALLEL_HTTPD_CONNS,     sizeof(struct http_state),
 292:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
 293:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** LWIP_MEMPOOL_DECLARE(HTTPD_SSI_STATE, MEMP_NUM_PARALLEL_HTTPD_SSI_CONNS, sizeof(struct http_ssi_sta
 294:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_FREE_SSI_STATE(x)  LWIP_MEMPOOL_FREE(HTTPD_SSI_STATE, (x))
 295:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_ALLOC_SSI_STATE()  (struct http_ssi_state *)LWIP_MEMPOOL_ALLOC(HTTPD_SSI_STATE)
 296:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 297:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_ALLOC_HTTP_STATE() (struct http_state *)LWIP_MEMPOOL_ALLOC(HTTPD_STATE)
 298:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_FREE_HTTP_STATE(x) LWIP_MEMPOOL_FREE(HTTPD_STATE, (x))
 299:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* HTTPD_USE_MEM_POOL */
 300:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_ALLOC_HTTP_STATE() (struct http_state *)mem_malloc(sizeof(struct http_state))
 301:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_FREE_HTTP_STATE(x) mem_free(x)
 302:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
 303:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_ALLOC_SSI_STATE()  (struct http_ssi_state *)mem_malloc(sizeof(struct http_ssi_state))
 304:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_FREE_SSI_STATE(x)  mem_free(x)
 305:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 306:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* HTTPD_USE_MEM_POOL */
 307:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 308:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t http_close_conn(struct altcp_pcb *pcb, struct http_state *hs);
 309:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t http_close_or_abort_conn(struct altcp_pcb *pcb, struct http_state *hs, u8_t abort_conn
 310:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t http_find_file(struct http_state *hs, const char *uri, int is_09);
 311:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t http_init_file(struct http_state *hs, struct fs_file *file, int is_09, const char *uri
 312:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t http_poll(void *arg, struct altcp_pcb *pcb);
 313:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static u8_t http_check_eof(struct altcp_pcb *pcb, struct http_state *hs);
 314:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_FS_ASYNC_READ
 315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void http_continue(void *connection);
 316:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_FS_ASYNC_READ */
 317:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 318:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
 319:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /* SSI insert handler function pointer. */
 320:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static tSSIHandler httpd_ssi_handler;
 321:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_RAW
 322:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static int httpd_num_tags;
 323:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static const char **httpd_tags;
 324:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* !LWIP_HTTPD_SSI_RAW */
 325:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 326:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /* Define the available tag lead-ins and corresponding lead-outs.
 327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * ATTENTION: for the algorithm below using this array, it is essential
 328:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * that the lead in differs in the first character! */
 329:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** const struct http_ssi_tag_description http_ssi_tag_desc[] = {
 330:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {"<!--#", "-->"},
 331:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {"/*#", "*/"}
 332:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** };
 333:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 334:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 335:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 336:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CGI
 337:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /* CGI handler information */
 338:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static const tCGI *httpd_cgis;
 339:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static int httpd_num_cgis;
 340:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static int http_cgi_paramcount;
 341:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define http_cgi_params     hs->params
 342:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define http_cgi_param_vals hs->param_vals
 343:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #elif LWIP_HTTPD_CGI_SSI
 344:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static char *http_cgi_params[LWIP_HTTPD_MAX_CGI_PARAMETERS]; /* Params extracted from the request U
ARM GAS  C:\usertemp\ccrQXns0.s 			page 8


 345:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static char *http_cgi_param_vals[LWIP_HTTPD_MAX_CGI_PARAMETERS]; /* Values for each extracted param
 346:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_CGI */
 347:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 348:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED
 349:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** global list of active HTTP connections, use to kill the oldest when
 350:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     running out of memory */
 351:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static struct http_state *http_connections;
 352:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 353:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
 354:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_add_connection(struct http_state *hs)
 355:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 356:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* add the connection to the list */
 357:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->next = http_connections;
 358:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   http_connections = hs;
 359:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 360:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 361:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
 362:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_remove_connection(struct http_state *hs)
 363:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 364:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* take the connection off the list */
 365:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (http_connections) {
 366:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (http_connections == hs) {
 367:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       http_connections = hs->next;
 368:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else {
 369:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       struct http_state *last;
 370:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       for (last = http_connections; last->next != NULL; last = last->next) {
 371:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (last->next == hs) {
 372:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           last->next = hs->next;
 373:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           break;
 374:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 375:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 376:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 377:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 378:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 379:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 380:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
 381:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_kill_oldest_connection(u8_t ssi_required)
 382:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 383:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = http_connections;
 384:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs_free_next = NULL;
 385:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   while (hs && hs->next) {
 386:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
 387:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (ssi_required) {
 388:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (hs->next->ssi != NULL) {
 389:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs_free_next = hs;
 390:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 391:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else
 392:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI */
 393:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_UNUSED_ARG(ssi_required);
 394:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 395:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     {
 396:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs_free_next = hs;
 397:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 398:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_ASSERT("broken list", hs != hs->next);
 399:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs = hs->next;
 400:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 401:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs_free_next != NULL) {
ARM GAS  C:\usertemp\ccrQXns0.s 			page 9


 402:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_ASSERT("hs_free_next->next != NULL", hs_free_next->next != NULL);
 403:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_ASSERT("hs_free_next->next->pcb != NULL", hs_free_next->next->pcb != NULL);
 404:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* send RST when killing a connection because of memory shortage */
 405:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_close_or_abort_conn(hs_free_next->next->pcb, hs_free_next->next, 1); /* this also unlinks 
 406:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 407:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 408:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED */
 409:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 410:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define http_add_connection(hs)
 411:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define http_remove_connection(hs)
 412:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 413:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED */
 414:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 415:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
 416:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Allocate as struct http_ssi_state. */
 417:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static struct http_ssi_state *
 418:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_ssi_state_alloc(void)
 419:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 420:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_ssi_state *ret = HTTP_ALLOC_SSI_STATE();
 421:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED
 422:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (ret == NULL) {
 423:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_kill_oldest_connection(1);
 424:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     ret = HTTP_ALLOC_SSI_STATE();
 425:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 426:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED */
 427:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (ret != NULL) {
 428:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     memset(ret, 0, sizeof(struct http_ssi_state));
 429:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 430:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return ret;
 431:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 432:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 433:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Free a struct http_ssi_state. */
 434:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
 435:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_ssi_state_free(struct http_ssi_state *ssi)
 436:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 437:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (ssi != NULL) {
 438:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     HTTP_FREE_SSI_STATE(ssi);
 439:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 440:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 441:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 442:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 443:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Initialize a struct http_state.
 444:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
 445:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
 446:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_state_init(struct http_state *hs)
 447:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 448:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Initialize the structure. */
 449:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   memset(hs, 0, sizeof(struct http_state));
 450:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_HEADERS
 451:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Indicate that the headers are not yet valid */
 452:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->hdr_index = NUM_FILE_HDR_STRINGS;
 453:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_DYNAMIC_HEADERS */
 454:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 455:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 456:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Allocate a struct http_state. */
 457:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static struct http_state *
 458:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_state_alloc(void)
ARM GAS  C:\usertemp\ccrQXns0.s 			page 10


 459:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 460:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *ret = HTTP_ALLOC_HTTP_STATE();
 461:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED
 462:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (ret == NULL) {
 463:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_kill_oldest_connection(0);
 464:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     ret = HTTP_ALLOC_HTTP_STATE();
 465:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 466:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED */
 467:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (ret != NULL) {
 468:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_init(ret);
 469:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_add_connection(ret);
 470:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 471:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return ret;
 472:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 473:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 474:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Free a struct http_state.
 475:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Also frees the file data if dynamic.
 476:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
 477:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
 478:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_state_eof(struct http_state *hs)
 479:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 480:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->handle) {
 481:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_TIMING
 482:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     u32_t ms_needed = sys_now() - hs->time_started;
 483:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     u32_t needed = LWIP_MAX(1, (ms_needed / 100));
 484:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG_TIMING, ("httpd: needed %"U32_F" ms to send file of %d bytes -> %"U32_F
 485:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                      ms_needed, hs->handle->len, ((((u32_t)hs->handle->len) * 10) /
 486:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_TIMING */
 487:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     fs_close(hs->handle);
 488:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->handle = NULL;
 489:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 490:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_FILE_READ
 491:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->buf != NULL) {
 492:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     mem_free(hs->buf);
 493:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->buf = NULL;
 494:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 495:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_DYNAMIC_FILE_READ */
 496:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
 497:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->ssi) {
 498:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_ssi_state_free(hs->ssi);
 499:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->ssi = NULL;
 500:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 501:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 502:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_REQUESTLIST
 503:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->req) {
 504:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pbuf_free(hs->req);
 505:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->req = NULL;
 506:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 507:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_REQUESTLIST */
 508:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 509:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 510:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Free a struct http_state.
 511:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Also frees the file data if dynamic.
 512:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
 513:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
 514:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_state_free(struct http_state *hs)
 515:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
ARM GAS  C:\usertemp\ccrQXns0.s 			page 11


 516:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs != NULL) {
 517:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_eof(hs);
 518:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_remove_connection(hs);
 519:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     HTTP_FREE_HTTP_STATE(hs);
 520:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 521:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 522:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 523:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Call tcp_write() in a loop trying smaller and smaller length
 524:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
 525:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param pcb altcp_pcb to send
 526:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param ptr Data to send
 527:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param length Length of data to send (in/out: on return, contains the
 528:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *        amount of data sent)
 529:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param apiflags directly passed to tcp_write
 530:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @return the return value of tcp_write
 531:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
 532:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
 533:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_write(struct altcp_pcb *pcb, const void *ptr, u16_t *length, u8_t apiflags)
 534:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 535:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t len, max_len;
 536:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
 537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("length != NULL", length != NULL);
 538:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = *length;
 539:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (len == 0) {
 540:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
 541:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 542:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We cannot send more data than space available in the send buffer. */
 543:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   max_len = altcp_sndbuf(pcb);
 544:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (max_len < len) {
 545:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = max_len;
 546:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 547:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #ifdef HTTPD_MAX_WRITE_LEN
 548:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Additional limitation: e.g. don't enqueue more than 2*mss at once */
 549:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   max_len = HTTPD_MAX_WRITE_LEN(pcb);
 550:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (len > max_len) {
 551:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = max_len;
 552:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 553:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* HTTPD_MAX_WRITE_LEN */
 554:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   do {
 555:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("Trying to send %d bytes\n", len));
 556:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err = altcp_write(pcb, ptr, len, apiflags);
 557:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err == ERR_MEM) {
 558:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if ((altcp_sndbuf(pcb) == 0) ||
 559:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           (altcp_sndqueuelen(pcb) >= TCP_SND_QUEUELEN)) {
 560:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* no need to try smaller sizes */
 561:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         len = 1;
 562:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else {
 563:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         len /= 2;
 564:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 565:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE,
 566:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   ("Send failed, trying less (%d bytes)\n", len));
 567:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 568:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } while ((err == ERR_MEM) && (len > 1));
 569:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 570:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (err == ERR_OK) {
 571:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("Sent %d bytes\n", len));
 572:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     *length = len;
ARM GAS  C:\usertemp\ccrQXns0.s 			page 12


 573:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
 574:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("Send failed with err %d (\"%s\")\n", err, lwip_stre
 575:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     *length = 0;
 576:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 577:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 578:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_11_KEEPALIVE
 579:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* ensure nagle is normally enabled (only disabled for persistent connections
 580:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      when all data has been enqueued but the connection stays open for the next
 581:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      request */
 582:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_nagle_enable(pcb);
 583:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 584:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 585:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return err;
 586:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 587:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 588:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
 589:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * The connection shall be actively closed (using RST to close from fault states).
 590:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Reset the sent- and recv-callbacks.
 591:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
 592:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param pcb the tcp pcb to reset callbacks
 593:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param hs connection state to free
 594:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
 595:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
 596:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_close_or_abort_conn(struct altcp_pcb *pcb, struct http_state *hs, u8_t abort_conn)
 597:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 598:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
 599:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG, ("Closing connection %p\n", (void *)pcb));
 600:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 601:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
 602:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs != NULL) {
 603:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if ((hs->post_content_len_left != 0)
 604:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_POST_MANUAL_WND
 605:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         || ((hs->no_auto_wnd != 0) && (hs->unrecved_bytes != 0))
 606:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_POST_MANUAL_WND */
 607:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****        ) {
 608:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* make sure the post code knows that the connection is closed */
 609:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       http_uri_buf[0] = 0;
 610:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       httpd_post_finished(hs, http_uri_buf, LWIP_HTTPD_URI_BUF_LEN);
 611:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 612:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 613:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST*/
 614:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 615:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 616:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_arg(pcb, NULL);
 617:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_recv(pcb, NULL);
 618:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_err(pcb, NULL);
 619:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_poll(pcb, NULL, 0);
 620:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_sent(pcb, NULL);
 621:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs != NULL) {
 622:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_free(hs);
 623:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 624:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 625:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (abort_conn) {
 626:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     altcp_abort(pcb);
 627:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
 628:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 629:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err = altcp_close(pcb);
ARM GAS  C:\usertemp\ccrQXns0.s 			page 13


 630:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (err != ERR_OK) {
 631:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("Error %d closing %p\n", err, (void *)pcb));
 632:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* error closing, try again later in poll */
 633:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     altcp_poll(pcb, http_poll, HTTPD_POLL_INTERVAL);
 634:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 635:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return err;
 636:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 637:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 638:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
 639:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * The connection shall be actively closed.
 640:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Reset the sent- and recv-callbacks.
 641:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
 642:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param pcb the tcp pcb to reset callbacks
 643:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param hs connection state to free
 644:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
 645:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
 646:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_close_conn(struct altcp_pcb *pcb, struct http_state *hs)
 647:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 648:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return http_close_or_abort_conn(pcb, hs, 0);
 649:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 650:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 651:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** End of file: either close the connection (Connection: close) or
 652:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * close the file (Connection: keep-alive)
 653:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
 654:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
 655:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_eof(struct altcp_pcb *pcb, struct http_state *hs)
 656:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 657:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* HTTP/1.1 persistent connection? (Not supported for SSI) */
 658:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_11_KEEPALIVE
 659:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->keepalive) {
 660:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_remove_connection(hs);
 661:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 662:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_eof(hs);
 663:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_init(hs);
 664:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* restore state: */
 665:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->pcb = pcb;
 666:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->keepalive = 1;
 667:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_add_connection(hs);
 668:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* ensure nagle doesn't interfere with sending all data as fast as possible: */
 669:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     altcp_nagle_disable(pcb);
 670:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else
 671:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_11_KEEPALIVE */
 672:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {
 673:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_close_conn(pcb, hs);
 674:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 675:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 676:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 677:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CGI || LWIP_HTTPD_CGI_SSI
 678:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
 679:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Extract URI parameters from the parameter-part of an URI in the form
 680:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * "test.cgi?x=y" @todo: better explanation!
 681:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Pointers to the parameters are stored in hs->param_vals.
 682:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
 683:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param hs http connection state
 684:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param params pointer to the NULL-terminated parameter string from the URI
 685:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @return number of parameters extracted
 686:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 14


 687:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static int
 688:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** extract_uri_parameters(struct http_state *hs, char *params)
 689:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 690:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *pair;
 691:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *equals;
 692:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   int loop;
 693:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 694:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(hs);
 695:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 696:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* If we have no parameters at all, return immediately. */
 697:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (!params || (params[0] == '\0')) {
 698:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return (0);
 699:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 700:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 701:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Get a pointer to our first parameter */
 702:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   pair = params;
 703:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 704:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Parse up to LWIP_HTTPD_MAX_CGI_PARAMETERS from the passed string and ignore the
 705:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * remainder (if any) */
 706:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   for (loop = 0; (loop < LWIP_HTTPD_MAX_CGI_PARAMETERS) && pair; loop++) {
 707:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 708:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Save the name of the parameter */
 709:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_cgi_params[loop] = pair;
 710:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 711:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Remember the start of this name=value pair */
 712:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     equals = pair;
 713:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 714:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Find the start of the next name=value pair and replace the delimiter
 715:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      * with a 0 to terminate the previous pair string. */
 716:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pair = strchr(pair, '&');
 717:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (pair) {
 718:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       *pair = '\0';
 719:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       pair++;
 720:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else {
 721:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* We didn't find a new parameter so find the end of the URI and
 722:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****        * replace the space with a '\0' */
 723:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       pair = strchr(equals, ' ');
 724:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (pair) {
 725:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         *pair = '\0';
 726:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 727:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 728:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* Revert to NULL so that we exit the loop as expected. */
 729:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       pair = NULL;
 730:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 731:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 732:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Now find the '=' in the previous pair, replace it with '\0' and save
 733:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      * the parameter value string. */
 734:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     equals = strchr(equals, '=');
 735:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (equals) {
 736:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       *equals = '\0';
 737:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       http_cgi_param_vals[loop] = equals + 1;
 738:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else {
 739:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       http_cgi_param_vals[loop] = NULL;
 740:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 741:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 742:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 743:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return loop;
ARM GAS  C:\usertemp\ccrQXns0.s 			page 15


 744:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 745:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_CGI || LWIP_HTTPD_CGI_SSI */
 746:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 747:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
 748:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
 749:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Insert a tag (found in an shtml in the form of "<!--#tagname-->" into the file.
 750:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * The tag's name is stored in ssi->tag_name (NULL-terminated), the replacement
 751:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * should be written to hs->tag_insert (up to a length of LWIP_HTTPD_MAX_TAG_INSERT_LEN).
 752:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * The amount of data written is stored to ssi->tag_insert_len.
 753:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
 754:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @todo: return tag_insert_len - maybe it can be removed from struct http_state?
 755:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
 756:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param hs http connection state
 757:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
 758:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
 759:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** get_tag_insert(struct http_state *hs)
 760:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 761:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_RAW
 762:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   const char *tag;
 763:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_RAW */
 764:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   int tag;
 765:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_RAW */
 766:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   size_t len;
 767:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_ssi_state *ssi;
 768:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
 769:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t current_tag_part;
 770:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_MULTIPART */
 771:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 772:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("hs != NULL", hs != NULL);
 773:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi = hs->ssi;
 774:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("ssi != NULL", ssi != NULL);
 775:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
 776:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   current_tag_part = ssi->tag_part;
 777:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi->tag_part = HTTPD_LAST_TAG_PART;
 778:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_MULTIPART */
 779:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_RAW
 780:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   tag = ssi->tag_name;
 781:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 782:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 783:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (httpd_ssi_handler
 784:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_RAW
 785:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       && httpd_tags && httpd_num_tags
 786:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* !LWIP_HTTPD_SSI_RAW */
 787:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      ) {
 788:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 789:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Find this tag in the list we have been provided. */
 790:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_RAW
 791:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     {
 792:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_RAW */
 793:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     for (tag = 0; tag < httpd_num_tags; tag++) {
 794:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (strcmp(ssi->tag_name, httpd_tags[tag]) == 0)
 795:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_RAW */
 796:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       {
 797:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->tag_insert_len = httpd_ssi_handler(tag, ssi->tag_insert,
 798:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                               LWIP_HTTPD_MAX_TAG_INSERT_LEN
 799:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
 800:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                               , current_tag_part, &ssi->tag_part
ARM GAS  C:\usertemp\ccrQXns0.s 			page 16


 801:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_MULTIPART */
 802:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_FILE_STATE
 803:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                               , (hs->handle ? hs->handle->state : NULL)
 804:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_FILE_STATE */
 805:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                              );
 806:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_RAW
 807:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (ssi->tag_insert_len != HTTPD_SSI_TAG_UNKNOWN)
 808:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_RAW */
 809:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         {
 810:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           return;
 811:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 812:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 813:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 814:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 815:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 816:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* If we drop out, we were asked to serve a page which contains tags that
 817:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * we don't have a handler for. Merely echo back the tags with an error
 818:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * marker. */
 819:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define UNKNOWN_TAG1_TEXT "<b>***UNKNOWN TAG "
 820:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define UNKNOWN_TAG1_LEN  18
 821:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define UNKNOWN_TAG2_TEXT "***</b>"
 822:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define UNKNOWN_TAG2_LEN  7
 823:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = LWIP_MIN(sizeof(ssi->tag_name), LWIP_MIN(strlen(ssi->tag_name),
 824:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                  LWIP_HTTPD_MAX_TAG_INSERT_LEN - (UNKNOWN_TAG1_LEN + UNKNOWN_TAG2_LEN)));
 825:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   MEMCPY(ssi->tag_insert, UNKNOWN_TAG1_TEXT, UNKNOWN_TAG1_LEN);
 826:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   MEMCPY(&ssi->tag_insert[UNKNOWN_TAG1_LEN], ssi->tag_name, len);
 827:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   MEMCPY(&ssi->tag_insert[UNKNOWN_TAG1_LEN + len], UNKNOWN_TAG2_TEXT, UNKNOWN_TAG2_LEN);
 828:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi->tag_insert[UNKNOWN_TAG1_LEN + len + UNKNOWN_TAG2_LEN] = 0;
 829:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 830:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = strlen(ssi->tag_insert);
 831:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("len <= 0xffff", len <= 0xffff);
 832:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi->tag_insert_len = (u16_t)len;
 833:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 834:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 835:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 836:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_HEADERS
 837:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
 838:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Generate the relevant HTTP headers for the given filename and write
 839:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * them into the supplied buffer.
 840:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
 841:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
 842:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** get_http_headers(struct http_state *hs, const char *uri)
 843:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 844:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   size_t content_type;
 845:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *tmp;
 846:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *ext;
 847:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *vars;
 848:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 849:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* In all cases, the second header we send is the server identification
 850:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      so set it here. */
 851:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->hdrs[HDR_STRINGS_IDX_SERVER_NAME] = g_psHTTPHeaderStrings[HTTP_HDR_SERVER];
 852:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->hdrs[HDR_STRINGS_IDX_CONTENT_LEN_KEEPALIVE] = NULL;
 853:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->hdrs[HDR_STRINGS_IDX_CONTENT_LEN_NR] = NULL;
 854:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 855:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Is this a normal file or the special case we use to send back the
 856:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      default "404: Page not found" response? */
 857:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (uri == NULL) {
ARM GAS  C:\usertemp\ccrQXns0.s 			page 17


 858:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdrs[HDR_STRINGS_IDX_HTTP_STATUS] = g_psHTTPHeaderStrings[HTTP_HDR_NOT_FOUND];
 859:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_11_KEEPALIVE
 860:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->keepalive) {
 861:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->hdrs[HDR_STRINGS_IDX_CONTENT_TYPE] = g_psHTTPHeaderStrings[DEFAULT_404_HTML_PERSISTENT];
 862:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else
 863:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 864:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     {
 865:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->hdrs[HDR_STRINGS_IDX_CONTENT_TYPE] = g_psHTTPHeaderStrings[DEFAULT_404_HTML];
 866:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 867:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 868:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Set up to send the first header string. */
 869:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdr_index = 0;
 870:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdr_pos = 0;
 871:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return;
 872:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 873:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We are dealing with a particular filename. Look for one other
 874:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       special case.  We assume that any filename with "404" in it must be
 875:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       indicative of a 404 server error whereas all other files require
 876:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       the 200 OK header. */
 877:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (strstr(uri, "404")) {
 878:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdrs[HDR_STRINGS_IDX_HTTP_STATUS] = g_psHTTPHeaderStrings[HTTP_HDR_NOT_FOUND];
 879:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else if (strstr(uri, "400")) {
 880:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdrs[HDR_STRINGS_IDX_HTTP_STATUS] = g_psHTTPHeaderStrings[HTTP_HDR_BAD_REQUEST];
 881:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else if (strstr(uri, "501")) {
 882:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdrs[HDR_STRINGS_IDX_HTTP_STATUS] = g_psHTTPHeaderStrings[HTTP_HDR_NOT_IMPL];
 883:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
 884:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdrs[HDR_STRINGS_IDX_HTTP_STATUS] = g_psHTTPHeaderStrings[HTTP_HDR_OK];
 885:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 886:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 887:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Determine if the URI has any variables and, if so, temporarily remove
 888:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       them. */
 889:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   vars = strchr(uri, '?');
 890:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (vars) {
 891:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     *vars = '\0';
 892:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 893:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 894:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Get a pointer to the file extension.  We find this by looking for the
 895:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       last occurrence of "." in the filename passed. */
 896:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ext = NULL;
 897:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   tmp = strchr(uri, '.');
 898:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   while (tmp) {
 899:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     ext = tmp + 1;
 900:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     tmp = strchr(ext, '.');
 901:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 902:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (ext != NULL) {
 903:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Now determine the content type and add the relevant header for that. */
 904:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     for (content_type = 0; content_type < NUM_HTTP_HEADERS; content_type++) {
 905:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* Have we found a matching extension? */
 906:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (!lwip_stricmp(g_psHTTPHeaders[content_type].extension, ext)) {
 907:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
 908:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 909:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 910:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
 911:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     content_type = NUM_HTTP_HEADERS;
 912:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 913:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 914:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Reinstate the parameter marker if there was one in the original URI. */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 18


 915:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (vars) {
 916:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     *vars = '?';
 917:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 918:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 919:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_OMIT_HEADER_FOR_EXTENSIONLESS_URI
 920:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Does the URL passed have any file extension?  If not, we assume it
 921:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      is a special-case URL used for control state notification and we do
 922:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      not send any HTTP headers with the response. */
 923:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (!ext) {
 924:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Force the header index to a value indicating that all headers
 925:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****        have already been sent. */
 926:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdr_index = NUM_FILE_HDR_STRINGS;
 927:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return;
 928:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 929:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_OMIT_HEADER_FOR_EXTENSIONLESS_URI */
 930:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Did we find a matching extension? */
 931:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (content_type < NUM_HTTP_HEADERS) {
 932:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* yes, store it */
 933:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdrs[HDR_STRINGS_IDX_CONTENT_TYPE] = g_psHTTPHeaders[content_type].content_type;
 934:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else if (!ext) {
 935:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* no, no extension found -> use binary transfer to prevent the browser adding '.txt' on save *
 936:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdrs[HDR_STRINGS_IDX_CONTENT_TYPE] = HTTP_HDR_APP;
 937:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
 938:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* No - use the default, plain text file type. */
 939:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdrs[HDR_STRINGS_IDX_CONTENT_TYPE] = HTTP_HDR_DEFAULT_TYPE;
 940:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 941:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Set up to send the first header string. */
 942:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->hdr_index = 0;
 943:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->hdr_pos = 0;
 944:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 945:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 946:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /* Add content-length header? */
 947:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
 948:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** get_http_content_length(struct http_state *hs)
 949:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 950:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t add_content_len = 0;
 951:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 952:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("already been here?", hs->hdrs[HDR_STRINGS_IDX_CONTENT_LEN_KEEPALIVE] == NULL);
 953:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 954:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   add_content_len = 0;
 955:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
 956:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->ssi == NULL) /* @todo: get maximum file length from SSI */
 957:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 958:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {
 959:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if ((hs->handle != NULL) && (hs->handle->flags & FS_FILE_FLAGS_HEADER_PERSISTENT)) {
 960:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       add_content_len = 1;
 961:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 962:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 963:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (add_content_len) {
 964:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     size_t len;
 965:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     lwip_itoa(hs->hdr_content_len, (size_t)LWIP_HTTPD_MAX_CONTENT_LEN_SIZE,
 966:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               hs->handle->len);
 967:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = strlen(hs->hdr_content_len);
 968:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (len <= LWIP_HTTPD_MAX_CONTENT_LEN_SIZE - LWIP_HTTPD_MAX_CONTENT_LEN_OFFSET) {
 969:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       SMEMCPY(&hs->hdr_content_len[len], CRLF, 3);
 970:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->hdrs[HDR_STRINGS_IDX_CONTENT_LEN_NR] = hs->hdr_content_len;
 971:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else {
ARM GAS  C:\usertemp\ccrQXns0.s 			page 19


 972:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       add_content_len = 0;
 973:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 974:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 975:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_11_KEEPALIVE
 976:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (add_content_len) {
 977:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdrs[HDR_STRINGS_IDX_CONTENT_LEN_KEEPALIVE] = g_psHTTPHeaderStrings[HTTP_HDR_KEEPALIVE_LEN]
 978:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
 979:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdrs[HDR_STRINGS_IDX_CONTENT_LEN_KEEPALIVE] = g_psHTTPHeaderStrings[HTTP_HDR_CONN_CLOSE];
 980:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->keepalive = 0;
 981:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 982:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SUPPORT_11_KEEPALIVE */
 983:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (add_content_len) {
 984:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdrs[HDR_STRINGS_IDX_CONTENT_LEN_KEEPALIVE] = g_psHTTPHeaderStrings[HTTP_HDR_CONTENT_LENGTH
 985:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 986:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_11_KEEPALIVE */
 987:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 988:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 989:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Sub-function of http_send(): send dynamic headers
 990:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
 991:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @returns: - HTTP_NO_DATA_TO_SEND: no new data has been enqueued
 992:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *           - HTTP_DATA_TO_SEND_CONTINUE: continue with sending HTTP body
 993:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *           - HTTP_DATA_TO_SEND_BREAK: data has been enqueued, headers pending,
 994:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *                                      so don't send HTTP body yet
 995:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *           - HTTP_DATA_TO_SEND_FREED: http_state and pcb are already freed
 996:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
 997:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static u8_t
 998:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_send_headers(struct altcp_pcb *pcb, struct http_state *hs)
 999:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1000:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
1001:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t len;
1002:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t data_to_send = HTTP_NO_DATA_TO_SEND;
1003:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t hdrlen, sendlen;
1004:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1005:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->hdrs[HDR_STRINGS_IDX_CONTENT_LEN_KEEPALIVE] == NULL) {
1006:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* set up "content-length" and "connection:" headers */
1007:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     get_http_content_length(hs);
1008:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1009:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1010:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* How much data can we send? */
1011:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = altcp_sndbuf(pcb);
1012:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   sendlen = len;
1013:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1014:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   while (len && (hs->hdr_index < NUM_FILE_HDR_STRINGS) && sendlen) {
1015:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     const void *ptr;
1016:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     u16_t old_sendlen;
1017:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     u8_t apiflags;
1018:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* How much do we have to send from the current header? */
1019:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hdrlen = (u16_t)strlen(hs->hdrs[hs->hdr_index]);
1020:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1021:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* How much of this can we send? */
1022:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     sendlen = (len < (hdrlen - hs->hdr_pos)) ? len : (hdrlen - hs->hdr_pos);
1023:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1024:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Send this amount of data or as much as we can given memory
1025:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      * constraints. */
1026:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     ptr = (const void *)(hs->hdrs[hs->hdr_index] + hs->hdr_pos);
1027:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     old_sendlen = sendlen;
1028:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     apiflags = HTTP_IS_HDR_VOLATILE(hs, ptr);
ARM GAS  C:\usertemp\ccrQXns0.s 			page 20


1029:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->hdr_index == HDR_STRINGS_IDX_CONTENT_LEN_NR) {
1030:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* content-length is always volatile */
1031:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       apiflags |= TCP_WRITE_FLAG_COPY;
1032:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1033:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->hdr_index < NUM_FILE_HDR_STRINGS - 1) {
1034:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       apiflags |= TCP_WRITE_FLAG_MORE;
1035:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1036:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err = http_write(pcb, ptr, &sendlen, apiflags);
1037:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if ((err == ERR_OK) && (old_sendlen != sendlen)) {
1038:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* Remember that we added some more data to be transmitted. */
1039:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       data_to_send = HTTP_DATA_TO_SEND_CONTINUE;
1040:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else if (err != ERR_OK) {
1041:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* special case: http_write does not try to send 1 byte */
1042:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       sendlen = 0;
1043:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1044:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1045:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Fix up the header position for the next time round. */
1046:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->hdr_pos += sendlen;
1047:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len -= sendlen;
1048:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1049:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Have we finished sending this string? */
1050:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->hdr_pos == hdrlen) {
1051:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* Yes - move on to the next one */
1052:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->hdr_index++;
1053:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* skip headers that are NULL (not all headers are required) */
1054:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       while ((hs->hdr_index < NUM_FILE_HDR_STRINGS) &&
1055:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              (hs->hdrs[hs->hdr_index] == NULL)) {
1056:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->hdr_index++;
1057:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
1058:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->hdr_pos = 0;
1059:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1060:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1061:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1062:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((hs->hdr_index >= NUM_FILE_HDR_STRINGS) && (hs->file == NULL)) {
1063:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* When we are at the end of the headers, check for data to send
1064:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      * instead of waiting for ACK from remote side to continue
1065:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      * (which would happen when sending files from async read). */
1066:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (http_check_eof(pcb, hs)) {
1067:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       data_to_send = HTTP_DATA_TO_SEND_BREAK;
1068:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else {
1069:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* At this point, for non-keepalive connections, hs is deallocated an
1070:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          pcb is closed. */
1071:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return HTTP_DATA_TO_SEND_FREED;
1072:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1073:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1074:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* If we get here and there are still header bytes to send, we send
1075:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * the header information we just wrote immediately. If there are no
1076:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * more headers to send, but we do have file data to send, drop through
1077:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * to try to send some file data too. */
1078:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((hs->hdr_index < NUM_FILE_HDR_STRINGS) || !hs->file) {
1079:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("tcp_output\n"));
1080:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return HTTP_DATA_TO_SEND_BREAK;
1081:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1082:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return data_to_send;
1083:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
1084:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_DYNAMIC_HEADERS */
1085:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
ARM GAS  C:\usertemp\ccrQXns0.s 			page 21


1086:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Sub-function of http_send(): end-of-file (or block) is reached,
1087:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * either close the file or read the next block (if supported).
1088:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
1089:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @returns: 0 if the file is finished or no data has been read
1090:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *           1 if the file is not finished and data has been read
1091:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
1092:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static u8_t
1093:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_check_eof(struct altcp_pcb *pcb, struct http_state *hs)
1094:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1095:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   int bytes_left;
1096:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_FILE_READ
1097:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   int count;
1098:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #ifdef HTTPD_MAX_WRITE_LEN
1099:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   int max_write_len;
1100:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* HTTPD_MAX_WRITE_LEN */
1101:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_DYNAMIC_FILE_READ */
1102:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1103:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Do we have a valid file handle? */
1104:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->handle == NULL) {
1105:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* No - close the connection. */
1106:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_eof(pcb, hs);
1107:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
1108:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1109:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   bytes_left = fs_bytes_left(hs->handle);
1110:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (bytes_left <= 0) {
1111:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* We reached the end of the file so this request is done. */
1112:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("End of file.\n"));
1113:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_eof(pcb, hs);
1114:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
1115:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1116:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_FILE_READ
1117:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Do we already have a send buffer allocated? */
1118:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->buf) {
1119:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Yes - get the length of the buffer */
1120:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     count = LWIP_MIN(hs->buf_len, bytes_left);
1121:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
1122:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* We don't have a send buffer so allocate one now */
1123:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     count = altcp_sndbuf(pcb);
1124:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (bytes_left < count) {
1125:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       count = bytes_left;
1126:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1127:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #ifdef HTTPD_MAX_WRITE_LEN
1128:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Additional limitation: e.g. don't enqueue more than 2*mss at once */
1129:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     max_write_len = HTTPD_MAX_WRITE_LEN(pcb);
1130:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (count > max_write_len) {
1131:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       count = max_write_len;
1132:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1133:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* HTTPD_MAX_WRITE_LEN */
1134:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     do {
1135:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->buf = (char *)mem_malloc((mem_size_t)count);
1136:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (hs->buf != NULL) {
1137:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->buf_len = count;
1138:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
1139:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
1140:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       count = count / 2;
1141:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } while (count > 100);
1142:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
ARM GAS  C:\usertemp\ccrQXns0.s 			page 22


1143:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Did we get a send buffer? If not, return immediately. */
1144:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->buf == NULL) {
1145:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG, ("No buff\n"));
1146:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return 0;
1147:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1149:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1150:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Read a block of data from the file. */
1151:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG, ("Trying to read %d bytes.\n", count));
1152:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1153:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_FS_ASYNC_READ
1154:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   count = fs_read_async(hs->handle, hs->buf, count, http_continue, hs);
1155:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_FS_ASYNC_READ */
1156:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   count = fs_read(hs->handle, hs->buf, count);
1157:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_FS_ASYNC_READ */
1158:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (count < 0) {
1159:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (count == FS_READ_DELAYED) {
1160:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* Delayed read, wait for FS to unblock us */
1161:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return 0;
1162:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1163:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* We reached the end of the file so this request is done.
1164:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      * @todo: close here for HTTP/1.1 when reading file fails */
1165:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("End of file.\n"));
1166:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_eof(pcb, hs);
1167:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
1168:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1169:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1170:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Set up to send the block of data we just read */
1171:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG, ("Read %d bytes.\n", count));
1172:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->left = count;
1173:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->file = hs->buf;
1174:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
1175:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->ssi) {
1176:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->ssi->parse_left = count;
1177:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->ssi->parsed = hs->buf;
1178:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1179:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
1180:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_DYNAMIC_FILE_READ */
1181:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("SSI and DYNAMIC_HEADERS turned off but eof not reached", 0);
1182:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI || LWIP_HTTPD_DYNAMIC_HEADERS */
1183:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return 1;
1184:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
1185:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1186:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Sub-function of http_send(): This is the normal send-routine for non-ssi files
1187:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
1188:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @returns: - 1: data has been written (so call tcp_ouput)
1189:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *           - 0: no data has been written (no need to call tcp_output)
1190:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
1191:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static u8_t
1192:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_send_data_nonssi(struct altcp_pcb *pcb, struct http_state *hs)
1193:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1194:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
1195:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t len;
1196:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t data_to_send = 0;
1197:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1198:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We are not processing an SHTML file so no tag checking is necessary.
1199:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * Just send the data as we received it from the file. */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 23


1200:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = (u16_t)LWIP_MIN(hs->left, 0xffff);
1201:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1202:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err = http_write(pcb, hs->file, &len, HTTP_IS_DATA_VOLATILE(hs));
1203:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (err == ERR_OK) {
1204:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_to_send = 1;
1205:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->file += len;
1206:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->left -= len;
1207:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1208:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1209:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return data_to_send;
1210:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
1211:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1212:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
1213:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Sub-function of http_send(): This is the send-routine for ssi files
1214:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
1215:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @returns: - 1: data has been written (so call tcp_ouput)
1216:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *           - 0: no data has been written (no need to call tcp_output)
1217:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
1218:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static u8_t
1219:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_send_data_ssi(struct altcp_pcb *pcb, struct http_state *hs)
1220:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1221:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err = ERR_OK;
1222:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t len;
1223:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t data_to_send = 0;
1224:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t tag_type;
1225:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1226:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_ssi_state *ssi = hs->ssi;
1227:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("ssi != NULL", ssi != NULL);
1228:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We are processing an SHTML file so need to scan for tags and replace
1229:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * them with insert strings. We need to be careful here since a tag may
1230:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * straddle the boundary of two blocks read from the file and we may also
1231:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * have to split the insert string between two tcp_write operations. */
1232:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1233:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* How much data could we send? */
1234:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = altcp_sndbuf(pcb);
1235:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1236:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Do we have remaining data to send before parsing more? */
1237:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (ssi->parsed > hs->file) {
1238:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = (u16_t)LWIP_MIN(ssi->parsed - hs->file, 0xffff);
1239:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1240:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err = http_write(pcb, hs->file, &len, HTTP_IS_DATA_VOLATILE(hs));
1241:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err == ERR_OK) {
1242:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       data_to_send = 1;
1243:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->file += len;
1244:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->left -= len;
1245:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1246:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1247:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* If the send buffer is full, return now. */
1248:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (altcp_sndbuf(pcb) == 0) {
1249:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return data_to_send;
1250:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1251:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1252:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1253:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG, ("State %d, %d left\n", ssi->tag_state, (int)ssi->parse_left));
1254:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1255:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We have sent all the data that was already parsed so continue parsing
1256:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * the buffer contents looking for SSI tags. */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 24


1257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   while (((ssi->tag_state == TAG_SENDING) || ssi->parse_left) && (err == ERR_OK)) {
1258:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (len == 0) {
1259:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return data_to_send;
1260:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1261:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     switch (ssi->tag_state) {
1262:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       case TAG_NONE:
1263:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* We are not currently processing an SSI tag so scan for the
1264:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          * start of the lead-in marker. */
1265:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         for (tag_type = 0; tag_type < LWIP_ARRAYSIZE(http_ssi_tag_desc); tag_type++) {
1266:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (*ssi->parsed == http_ssi_tag_desc[tag_type].lead_in[0]) {
1267:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We found what could be the lead-in for a new tag so change
1268:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              * state appropriately. */
1269:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_type = tag_type;
1270:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_state = TAG_LEADIN;
1271:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_index = 1;
1272:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   #if !LWIP_HTTPD_SSI_INCLUDE_TAG
1273:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_started = ssi->parsed;
1274:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   #endif /* !LWIP_HTTPD_SSI_INCLUDE_TAG */
1275:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             break;
1276:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
1277:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
1278:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1279:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* Move on to the next character in the buffer */
1280:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parse_left--;
1281:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parsed++;
1282:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
1283:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1284:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       case TAG_LEADIN:
1285:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* We are processing the lead-in marker, looking for the start of
1286:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          * the tag name. */
1287:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1288:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* Have we reached the end of the leadin? */
1289:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (http_ssi_tag_desc[ssi->tag_type].lead_in[ssi->tag_index] == 0) {
1290:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_index = 0;
1291:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_state = TAG_FOUND;
1292:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         } else {
1293:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Have we found the next character we expect for the tag leadin? */
1294:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (*ssi->parsed == http_ssi_tag_desc[ssi->tag_type].lead_in[ssi->tag_index]) {
1295:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* Yes - move to the next one unless we have found the complete
1296:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              * leadin, in which case we start looking for the tag itself */
1297:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_index++;
1298:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
1299:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We found an unexpected character so this is not a tag. Move
1300:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              * back to idle state. */
1301:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_state = TAG_NONE;
1302:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
1303:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1304:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Move on to the next character in the buffer */
1305:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parse_left--;
1306:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
1307:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
1308:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
1309:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1310:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       case TAG_FOUND:
1311:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* We are reading the tag name, looking for the start of the
1312:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          * lead-out marker and removing any whitespace found. */
1313:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
ARM GAS  C:\usertemp\ccrQXns0.s 			page 25


1314:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* Remove leading whitespace between the tag leading and the first
1315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          * tag name character. */
1316:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if ((ssi->tag_index == 0) && ((*ssi->parsed == ' ') ||
1317:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\t') || (*ssi->parsed == '\n') ||
1318:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\r'))) {
1319:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Move on to the next character in the buffer */
1320:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parse_left--;
1321:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
1322:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           break;
1323:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
1324:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1325:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* Have we found the end of the tag name? This is signalled by
1326:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          * us finding the first leadout character or whitespace */
1327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if ((*ssi->parsed == http_ssi_tag_desc[ssi->tag_type].lead_out[0]) ||
1328:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             (*ssi->parsed == ' ')  || (*ssi->parsed == '\t') ||
1329:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             (*ssi->parsed == '\n') || (*ssi->parsed == '\r')) {
1330:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1331:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (ssi->tag_index == 0) {
1332:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We read a zero length tag so ignore it. */
1333:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_state = TAG_NONE;
1334:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
1335:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We read a non-empty tag so go ahead and look for the
1336:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              * leadout string. */
1337:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_state = TAG_LEADOUT;
1338:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             LWIP_ASSERT("ssi->tag_index <= 0xff", ssi->tag_index <= 0xff);
1339:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name_len = (u8_t)ssi->tag_index;
1340:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name[ssi->tag_index] = '\0';
1341:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             if (*ssi->parsed == http_ssi_tag_desc[ssi->tag_type].lead_out[0]) {
1342:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index = 1;
1343:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             } else {
1344:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index = 0;
1345:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             }
1346:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
1347:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         } else {
1348:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* This character is part of the tag name so save it */
1349:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (ssi->tag_index < LWIP_HTTPD_MAX_TAG_NAME_LEN) {
1350:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name[ssi->tag_index++] = *ssi->parsed;
1351:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
1352:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* The tag was too long so ignore it. */
1353:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_state = TAG_NONE;
1354:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
1355:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
1356:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1357:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* Move on to the next character in the buffer */
1358:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parse_left--;
1359:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parsed++;
1360:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1361:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
1362:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1363:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* We are looking for the end of the lead-out marker. */
1364:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       case TAG_LEADOUT:
1365:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* Remove leading whitespace between the tag leading and the first
1366:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          * tag leadout character. */
1367:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if ((ssi->tag_index == 0) && ((*ssi->parsed == ' ') ||
1368:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\t') || (*ssi->parsed == '\n') ||
1369:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\r'))) {
1370:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Move on to the next character in the buffer */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 26


1371:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parse_left--;
1372:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
1373:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           break;
1374:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
1375:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1376:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* Have we found the next character we expect for the tag leadout? */
1377:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (*ssi->parsed == http_ssi_tag_desc[ssi->tag_type].lead_out[ssi->tag_index]) {
1378:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Yes - move to the next one unless we have found the complete
1379:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****            * leadout, in which case we need to call the client to process
1380:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****            * the tag. */
1381:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1382:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Move on to the next character in the buffer */
1383:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parse_left--;
1384:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
1385:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_index++;
1386:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1387:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (http_ssi_tag_desc[ssi->tag_type].lead_out[ssi->tag_index] == 0) {
1388:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* Call the client to ask for the insert string for the
1389:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              * tag we just found. */
1390:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
1391:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_part = 0; /* start with tag part 0 */
1392:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_MULTIPART */
1393:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             get_tag_insert(hs);
1394:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1395:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* Next time through, we are going to be sending data
1396:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              * immediately, either the end of the block we start
1397:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              * sending here or the insert string. */
1398:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_index = 0;
1399:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_state = TAG_SENDING;
1400:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_end = ssi->parsed;
1401:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
1402:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->parsed = ssi->tag_started;
1403:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* !LWIP_HTTPD_SSI_INCLUDE_TAG*/
1404:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1405:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* If there is any unsent data in the buffer prior to the
1406:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              * tag, we need to send it now. */
1407:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             if (ssi->tag_end > hs->file) {
1408:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* How much of the data can we send? */
1409:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_INCLUDE_TAG
1410:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               len = (u16_t)LWIP_MIN(ssi->tag_end - hs->file, 0xffff);
1411:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
1412:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* we would include the tag in sending */
1413:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               len = (u16_t)LWIP_MIN(ssi->tag_started - hs->file, 0xffff);
1414:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
1415:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1416:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               err = http_write(pcb, hs->file, &len, HTTP_IS_DATA_VOLATILE(hs));
1417:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               if (err == ERR_OK) {
1418:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 data_to_send = 1;
1419:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
1420:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 if (ssi->tag_started <= hs->file) {
1421:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   /* pretend to have sent the tag, too */
1422:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   len += (u16_t)(ssi->tag_end - ssi->tag_started);
1423:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 }
1424:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* !LWIP_HTTPD_SSI_INCLUDE_TAG*/
1425:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 hs->file += len;
1426:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 hs->left -= len;
1427:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               }
ARM GAS  C:\usertemp\ccrQXns0.s 			page 27


1428:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             }
1429:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
1430:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         } else {
1431:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* We found an unexpected character so this is not a tag. Move
1432:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****            * back to idle state. */
1433:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parse_left--;
1434:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
1435:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_state = TAG_NONE;
1436:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
1437:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
1438:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1439:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /*
1440:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****        * We have found a valid tag and are in the process of sending
1441:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****        * data as a result of that discovery. We send either remaining data
1442:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****        * from the file prior to the insert point or the insert string itself.
1443:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****        */
1444:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       case TAG_SENDING:
1445:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* Do we have any remaining file data to send from the buffer prior
1446:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          * to the tag? */
1447:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (ssi->tag_end > hs->file) {
1448:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* How much of the data can we send? */
1449:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_INCLUDE_TAG
1450:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           len = (u16_t)LWIP_MIN(ssi->tag_end - hs->file, 0xffff);
1451:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
1452:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           LWIP_ASSERT("hs->started >= hs->file", ssi->tag_started >= hs->file);
1453:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* we would include the tag in sending */
1454:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           len = (u16_t)LWIP_MIN(ssi->tag_started - hs->file, 0xffff);
1455:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
1456:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (len != 0) {
1457:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             err = http_write(pcb, hs->file, &len, HTTP_IS_DATA_VOLATILE(hs));
1458:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
1459:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             err = ERR_OK;
1460:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
1461:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (err == ERR_OK) {
1462:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             data_to_send = 1;
1463:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
1464:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             if (ssi->tag_started <= hs->file) {
1465:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* pretend to have sent the tag, too */
1466:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               len += (u16_t)(ssi->tag_end - ssi->tag_started);
1467:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             }
1468:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* !LWIP_HTTPD_SSI_INCLUDE_TAG*/
1469:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             hs->file += len;
1470:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             hs->left -= len;
1471:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
1472:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         } else {
1473:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
1474:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (ssi->tag_index >= ssi->tag_insert_len) {
1475:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* Did the last SSIHandler have more to send? */
1476:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             if (ssi->tag_part != HTTPD_LAST_TAG_PART) {
1477:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* If so, call it again */
1478:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index = 0;
1479:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               get_tag_insert(hs);
1480:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             }
1481:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
1482:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_MULTIPART */
1483:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1484:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Do we still have insert data left to send? */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 28


1485:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (ssi->tag_index < ssi->tag_insert_len) {
1486:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We are sending the insert string itself. How much of the
1487:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              * insert can we send? */
1488:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             len = (ssi->tag_insert_len - ssi->tag_index);
1489:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1490:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* Note that we set the copy flag here since we only have a
1491:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              * single tag insert buffer per connection. If we don't do
1492:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              * this, insert corruption can occur if more than one insert
1493:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              * is processed before we call tcp_output. */
1494:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             err = http_write(pcb, &(ssi->tag_insert[ssi->tag_index]), &len,
1495:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                              HTTP_IS_TAG_VOLATILE(hs));
1496:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             if (err == ERR_OK) {
1497:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               data_to_send = 1;
1498:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index += len;
1499:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* Don't return here: keep on sending data */
1500:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             }
1501:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
1502:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
1503:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             if (ssi->tag_part == HTTPD_LAST_TAG_PART)
1504:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_MULTIPART */
1505:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             {
1506:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* We have sent all the insert data so go back to looking for
1507:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                * a new tag. */
1508:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               LWIP_DEBUGF(HTTPD_DEBUG, ("Everything sent.\n"));
1509:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index = 0;
1510:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_state = TAG_NONE;
1511:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
1512:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->parsed = ssi->tag_end;
1513:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* !LWIP_HTTPD_SSI_INCLUDE_TAG*/
1514:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             }
1515:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
1516:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           break;
1517:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         default:
1518:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           break;
1519:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
1520:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1521:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1522:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1523:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* If we drop out of the end of the for loop, this implies we must have
1524:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * file data to send so send it now. In TAG_SENDING state, we've already
1525:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * handled this so skip the send if that's the case. */
1526:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((ssi->tag_state != TAG_SENDING) && (ssi->parsed > hs->file)) {
1527:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_FILE_READ && !LWIP_HTTPD_SSI_INCLUDE_TAG
1528:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if ((ssi->tag_state != TAG_NONE) && (ssi->tag_started > ssi->tag_end)) {
1529:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* If we found tag on the edge of the read buffer: just throw away the first part
1530:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          (we have copied/saved everything required for parsing on later). */
1531:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       len = (u16_t)(ssi->tag_started - hs->file);
1532:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->left -= (ssi->parsed - ssi->tag_started);
1533:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ssi->parsed = ssi->tag_started;
1534:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ssi->tag_started = hs->buf;
1535:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else
1536:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_DYNAMIC_FILE_READ && !LWIP_HTTPD_SSI_INCLUDE_TAG */
1537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     {
1538:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       len = (u16_t)LWIP_MIN(ssi->parsed - hs->file, 0xffff);
1539:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1540:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1541:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err = http_write(pcb, hs->file, &len, HTTP_IS_DATA_VOLATILE(hs));
ARM GAS  C:\usertemp\ccrQXns0.s 			page 29


1542:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err == ERR_OK) {
1543:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       data_to_send = 1;
1544:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->file += len;
1545:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->left -= len;
1546:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1547:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1548:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return data_to_send;
1549:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
1550:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
1551:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1552:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
1553:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Try to send more data on this pcb.
1554:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
1555:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param pcb the pcb to send data
1556:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param hs connection state
1557:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
1558:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static u8_t
1559:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_send(struct altcp_pcb *pcb, struct http_state *hs)
1560:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1561:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t data_to_send = HTTP_NO_DATA_TO_SEND;
1562:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1563:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("http_send: pcb=%p hs=%p left=%d\n", (void *)pcb,
1564:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               (void *)hs, hs != NULL ? (int)hs->left : 0));
1565:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1566:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST && LWIP_HTTPD_POST_MANUAL_WND
1567:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->unrecved_bytes != 0) {
1568:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
1569:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1570:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST && LWIP_HTTPD_POST_MANUAL_WND */
1571:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1572:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* If we were passed a NULL state structure pointer, ignore the call. */
1573:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs == NULL) {
1574:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
1575:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1576:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1577:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_FS_ASYNC_READ
1578:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Check if we are allowed to read from this file.
1579:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      (e.g. SSI might want to delay sending until data is available) */
1580:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (!fs_is_file_ready(hs->handle, http_continue, hs)) {
1581:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
1582:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1583:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_FS_ASYNC_READ */
1584:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1585:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_HEADERS
1586:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Do we have any more header data to send for this file? */
1587:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->hdr_index < NUM_FILE_HDR_STRINGS) {
1588:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_to_send = http_send_headers(pcb, hs);
1589:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if ((data_to_send == HTTP_DATA_TO_SEND_FREED) ||
1590:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ((data_to_send != HTTP_DATA_TO_SEND_CONTINUE) &&
1591:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          (hs->hdr_index < NUM_FILE_HDR_STRINGS))) {
1592:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return data_to_send;
1593:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1594:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1595:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_DYNAMIC_HEADERS */
1596:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1597:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Have we run out of file data to send? If so, we need to read the next
1598:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * block from the file. */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 30


1599:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->left == 0) {
1600:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (!http_check_eof(pcb, hs)) {
1601:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return 0;
1602:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1603:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1604:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1605:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
1606:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->ssi) {
1607:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_to_send = http_send_data_ssi(pcb, hs);
1608:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else
1609:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
1610:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {
1611:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_to_send = http_send_data_nonssi(pcb, hs);
1612:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1613:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1614:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((hs->left == 0) && (fs_bytes_left(hs->handle) <= 0)) {
1615:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* We reached the end of the file so this request is done.
1616:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      * This adds the FIN flag right into the last data segment. */
1617:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("End of file.\n"));
1618:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_eof(pcb, hs);
1619:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
1620:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1621:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("send_data end.\n"));
1622:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return data_to_send;
1623:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
1624:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1625:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_EXTSTATUS
1626:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Initialize a http connection with a file to send for an error message
1627:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
1628:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param hs http connection state
1629:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param error_nr HTTP error number
1630:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @return ERR_OK if file was found and hs has been initialized correctly
1631:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *         another err_t otherwise
1632:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
1633:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
1634:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_find_error_file(struct http_state *hs, u16_t error_nr)
1635:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1636:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   const char *uri, *uri1, *uri2, *uri3;
1637:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1638:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (error_nr == 501) {
1639:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     uri1 = "/501.html";
1640:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     uri2 = "/501.htm";
1641:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     uri3 = "/501.shtml";
1642:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
1643:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* 400 (bad request is the default) */
1644:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     uri1 = "/400.html";
1645:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     uri2 = "/400.htm";
1646:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     uri3 = "/400.shtml";
1647:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1648:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (fs_open(&hs->file_handle, uri1) == ERR_OK) {
1649:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     uri = uri1;
1650:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else if (fs_open(&hs->file_handle, uri2) == ERR_OK) {
1651:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     uri = uri2;
1652:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else if (fs_open(&hs->file_handle, uri3) == ERR_OK) {
1653:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     uri = uri3;
1654:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
1655:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("Error page for error %"U16_F" not found\n",
ARM GAS  C:\usertemp\ccrQXns0.s 			page 31


1656:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                               error_nr));
1657:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_ARG;
1658:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1659:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return http_init_file(hs, &hs->file_handle, 0, uri, 0, NULL);
1660:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
1661:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SUPPORT_EXTSTATUS */
1662:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define http_find_error_file(hs, error_nr) ERR_ARG
1663:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_EXTSTATUS */
1664:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1665:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
1666:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Get the file struct for a 404 error page.
1667:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Tries some file names and returns NULL if none found.
1668:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
1669:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param uri pointer that receives the actual file name URI
1670:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @return file struct for the error page or NULL no matching file was found
1671:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
1672:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static struct fs_file *
1673:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_get_404_file(struct http_state *hs, const char **uri)
1674:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1675:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
1676:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1677:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   *uri = "/404.html";
1678:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err = fs_open(&hs->file_handle, *uri);
1679:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (err != ERR_OK) {
1680:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* 404.html doesn't exist. Try 404.htm instead. */
1681:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     *uri = "/404.htm";
1682:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err = fs_open(&hs->file_handle, *uri);
1683:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err != ERR_OK) {
1684:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* 404.htm doesn't exist either. Try 404.shtml instead. */
1685:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       *uri = "/404.shtml";
1686:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       err = fs_open(&hs->file_handle, *uri);
1687:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (err != ERR_OK) {
1688:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* 404.htm doesn't exist either. Indicate to the caller that it should
1689:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          * send back a default 404 page.
1690:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          */
1691:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         *uri = NULL;
1692:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         return NULL;
1693:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
1694:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1695:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1696:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1697:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return &hs->file_handle;
1698:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
1699:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1700:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
1701:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
1702:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_handle_post_finished(struct http_state *hs)
1703:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1704:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_POST_MANUAL_WND
1705:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Prevent multiple calls to httpd_post_finished, since it might have already
1706:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      been called before from httpd_post_data_recved(). */
1707:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->post_finished) {
1708:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
1709:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1710:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->post_finished = 1;
1711:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_POST_MANUAL_WND */
1712:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* application error or POST finished */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 32


1713:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* NULL-terminate the buffer */
1714:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   http_uri_buf[0] = 0;
1715:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_post_finished(hs, http_uri_buf, LWIP_HTTPD_URI_BUF_LEN);
1716:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return http_find_file(hs, http_uri_buf, 0);
1717:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
1718:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1719:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Pass received POST body data to the application and correctly handle
1720:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * returning a response document or closing the connection.
1721:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * ATTENTION: The application is responsible for the pbuf now, so don't free it!
1722:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
1723:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param hs http connection state
1724:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param p pbuf to pass to the application
1725:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @return ERR_OK if passed successfully, another err_t if the response file
1726:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *         hasn't been found (after POST finished)
1727:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
1728:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
1729:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_post_rxpbuf(struct http_state *hs, struct pbuf *p)
1730:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1731:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
1732:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1733:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (p != NULL) {
1734:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* adjust remaining Content-Length */
1735:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->post_content_len_left < p->tot_len) {
1736:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->post_content_len_left = 0;
1737:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else {
1738:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->post_content_len_left -= p->tot_len;
1739:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1740:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1741:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST && LWIP_HTTPD_POST_MANUAL_WND
1742:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* prevent connection being closed if httpd_post_data_recved() is called nested */
1743:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->unrecved_bytes++;
1744:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
1745:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (p != NULL) {
1746:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err = httpd_post_receive_data(hs, p);
1747:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
1748:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err = ERR_OK;
1749:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1750:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST && LWIP_HTTPD_POST_MANUAL_WND
1751:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->unrecved_bytes--;
1752:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
1753:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (err != ERR_OK) {
1754:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Ignore remaining content in case of application error */
1755:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->post_content_len_left = 0;
1756:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1757:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->post_content_len_left == 0) {
1758:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST && LWIP_HTTPD_POST_MANUAL_WND
1759:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->unrecved_bytes != 0) {
1760:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return ERR_OK;
1761:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1762:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST && LWIP_HTTPD_POST_MANUAL_WND */
1763:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* application error or POST finished */
1764:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return http_handle_post_finished(hs);
1765:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1766:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1767:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return ERR_OK;
1768:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
1769:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
ARM GAS  C:\usertemp\ccrQXns0.s 			page 33


1770:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Handle a post request. Called from http_parse_request when method 'POST'
1771:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * is found.
1772:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
1773:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param p The input pbuf (containing the POST header and body).
1774:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param hs The http connection state.
1775:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param data HTTP request (header and part of body) from input pbuf(s).
1776:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param data_len Size of 'data'.
1777:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param uri The HTTP URI parsed from input pbuf(s).
1778:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param uri_end Pointer to the end of 'uri' (here, the rest of the HTTP
1779:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *                header starts).
1780:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @return ERR_OK: POST correctly parsed and accepted by the application.
1781:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *         ERR_INPROGRESS: POST not completely parsed (no error yet)
1782:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *         another err_t: Error parsing POST or denied by the application
1783:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
1784:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
1785:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_post_request(struct pbuf *inp, struct http_state *hs,
1786:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   char *data, u16_t data_len, char *uri, char *uri_end)
1787:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1788:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
1789:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* search for end-of-header (first double-CRLF) */
1790:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *crlfcrlf = lwip_strnstr(uri_end + 1, CRLF CRLF, data_len - (uri_end + 1 - data));
1791:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1792:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (crlfcrlf != NULL) {
1793:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* search for "Content-Length: " */
1794:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_HDR_CONTENT_LEN                "Content-Length: "
1795:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_HDR_CONTENT_LEN_LEN            16
1796:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #define HTTP_HDR_CONTENT_LEN_DIGIT_MAX_LEN  10
1797:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     char *scontent_len = lwip_strnstr(uri_end + 1, HTTP_HDR_CONTENT_LEN, crlfcrlf - (uri_end + 1));
1798:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (scontent_len != NULL) {
1799:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       char *scontent_len_end = lwip_strnstr(scontent_len + HTTP_HDR_CONTENT_LEN_LEN, CRLF, HTTP_HDR
1800:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (scontent_len_end != NULL) {
1801:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         int content_len;
1802:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         char *content_len_num = scontent_len + HTTP_HDR_CONTENT_LEN_LEN;
1803:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         content_len = atoi(content_len_num);
1804:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (content_len == 0) {
1805:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* if atoi returns 0 on error, fix this */
1806:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if ((content_len_num[0] != '0') || (content_len_num[1] != '\r')) {
1807:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             content_len = -1;
1808:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
1809:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
1810:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (content_len >= 0) {
1811:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* adjust length of HTTP header passed to application */
1812:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           const char *hdr_start_after_uri = uri_end + 1;
1813:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           u16_t hdr_len = (u16_t)LWIP_MIN(data_len, crlfcrlf + 4 - data);
1814:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           u16_t hdr_data_len = (u16_t)LWIP_MIN(data_len, crlfcrlf + 4 - hdr_start_after_uri);
1815:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           u8_t post_auto_wnd = 1;
1816:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           http_uri_buf[0] = 0;
1817:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* trim http header */
1818:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           *crlfcrlf = 0;
1819:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           err = httpd_post_begin(hs, uri, hdr_start_after_uri, hdr_data_len, content_len,
1820:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                  http_uri_buf, LWIP_HTTPD_URI_BUF_LEN, &post_auto_wnd);
1821:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (err == ERR_OK) {
1822:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* try to pass in data of the first pbuf(s) */
1823:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             struct pbuf *q = inp;
1824:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             u16_t start_offset = hdr_len;
1825:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_POST_MANUAL_WND
1826:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             hs->no_auto_wnd = !post_auto_wnd;
ARM GAS  C:\usertemp\ccrQXns0.s 			page 34


1827:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_POST_MANUAL_WND */
1828:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* set the Content-Length to be received for this POST */
1829:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             hs->post_content_len_left = (u32_t)content_len;
1830:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1831:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* get to the pbuf where the body starts */
1832:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             while ((q != NULL) && (q->len <= start_offset)) {
1833:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               start_offset -= q->len;
1834:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               q = q->next;
1835:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             }
1836:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             if (q != NULL) {
1837:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* hide the remaining HTTP header */
1838:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               pbuf_remove_header(q, start_offset);
1839:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_POST_MANUAL_WND
1840:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               if (!post_auto_wnd) {
1841:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 /* already tcp_recved() this data... */
1842:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 hs->unrecved_bytes = q->tot_len;
1843:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               }
1844:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_POST_MANUAL_WND */
1845:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               pbuf_ref(q);
1846:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               return http_post_rxpbuf(hs, q);
1847:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             } else if (hs->post_content_len_left == 0) {
1848:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               q = pbuf_alloc(PBUF_RAW, 0, PBUF_REF);
1849:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               return http_post_rxpbuf(hs, q);
1850:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             } else {
1851:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               return ERR_OK;
1852:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             }
1853:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
1854:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* return file passed from application */
1855:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             return http_find_file(hs, http_uri_buf, 0);
1856:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
1857:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         } else {
1858:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           LWIP_DEBUGF(HTTPD_DEBUG, ("POST received invalid Content-Length: %s\n",
1859:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                     content_len_num));
1860:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           return ERR_ARG;
1861:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
1862:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
1863:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1864:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* If we come here, headers are fully received (double-crlf), but Content-Length
1865:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****        was not included. Since this is currently the only supported method, we have
1866:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****        to fail in this case! */
1867:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("Error when parsing Content-Length\n"));
1868:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_ARG;
1869:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1870:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* if we come here, the POST is incomplete */
1871:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_REQUESTLIST
1872:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return ERR_INPROGRESS;
1873:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SUPPORT_REQUESTLIST */
1874:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return ERR_ARG;
1875:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_REQUESTLIST */
1876:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
1877:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1878:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_POST_MANUAL_WND
1879:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
1880:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @ingroup httpd
1881:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * A POST implementation can call this function to update the TCP window.
1882:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * This can be used to throttle data reception (e.g. when received data is
1883:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * programmed to flash and data is received faster than programmed).
ARM GAS  C:\usertemp\ccrQXns0.s 			page 35


1884:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
1885:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param connection A connection handle passed to httpd_post_begin for which
1886:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *        httpd_post_finished has *NOT* been called yet!
1887:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param recved_len Length of data received (for window update)
1888:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
1889:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** void httpd_post_data_recved(void *connection, u16_t recved_len)
1890:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1891:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)connection;
1892:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs != NULL) {
1893:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->no_auto_wnd) {
1894:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       u16_t len = recved_len;
1895:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (hs->unrecved_bytes >= recved_len) {
1896:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->unrecved_bytes -= recved_len;
1897:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else {
1898:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_LEVEL_WARNING, ("httpd_post_data_recved: recved_len too 
1899:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         len = (u16_t)hs->unrecved_bytes;
1900:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->unrecved_bytes = 0;
1901:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
1902:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (hs->pcb != NULL) {
1903:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (len != 0) {
1904:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           altcp_recved(hs->pcb, len);
1905:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
1906:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if ((hs->post_content_len_left == 0) && (hs->unrecved_bytes == 0)) {
1907:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* finished handling POST */
1908:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           http_handle_post_finished(hs);
1909:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           http_send(hs->pcb, hs);
1910:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
1911:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
1912:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1913:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1914:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
1915:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_POST_MANUAL_WND */
1916:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1917:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST */
1918:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1919:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_FS_ASYNC_READ
1920:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Try to send more data if file has been blocked before
1921:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * This is a callback function passed to fs_read_async().
1922:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
1923:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
1924:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_continue(void *connection)
1925:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1926:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)connection;
1927:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT_CORE_LOCKED();
1928:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs && (hs->pcb) && (hs->handle)) {
1929:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_ASSERT("hs->pcb != NULL", hs->pcb != NULL);
1930:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("httpd_continue: try to send more data\n"));
1931:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (http_send(hs->pcb, hs)) {
1932:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* If we wrote anything to be sent, go ahead and send it now. */
1933:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("tcp_output\n"));
1934:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       altcp_output(hs->pcb);
1935:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
1936:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1937:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
1938:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_FS_ASYNC_READ */
1939:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1940:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
ARM GAS  C:\usertemp\ccrQXns0.s 			page 36


1941:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * When data has been received in the correct state, try to parse it
1942:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * as a HTTP request.
1943:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
1944:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param inp the received pbuf
1945:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param hs the connection state
1946:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param pcb the altcp_pcb which received this packet
1947:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @return ERR_OK if request was OK and hs has been initialized correctly
1948:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *         ERR_INPROGRESS if request was OK so far but not fully received
1949:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *         another err_t otherwise
1950:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
1951:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
1952:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_parse_request(struct pbuf *inp, struct http_state *hs, struct altcp_pcb *pcb)
1953:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
1954:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *data;
1955:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *crlf;
1956:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t data_len;
1957:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct pbuf *p = inp;
1958:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_REQUESTLIST
1959:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t clen;
1960:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_REQUESTLIST */
1961:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
1962:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
1963:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST */
1964:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1965:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(pcb); /* only used for post */
1966:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("p != NULL", p != NULL);
1967:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("hs != NULL", hs != NULL);
1968:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1969:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((hs->handle != NULL) || (hs->file != NULL)) {
1970:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("Received data while sending a file\n"));
1971:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* already sending a file */
1972:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* @todo: abort? */
1973:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_USE;
1974:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1975:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1976:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_REQUESTLIST
1977:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1978:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG, ("Received %"U16_F" bytes\n", p->tot_len));
1979:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1980:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* first check allowed characters in this pbuf? */
1981:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1982:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* enqueue the pbuf */
1983:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->req == NULL) {
1984:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("First pbuf\n"));
1985:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->req = p;
1986:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
1987:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("pbuf enqueued\n"));
1988:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pbuf_cat(hs->req, p);
1989:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
1990:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* increase pbuf ref counter as it is freed when we return but we want to
1991:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      keep it on the req list */
1992:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   pbuf_ref(p);
1993:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
1994:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->req->next != NULL) {
1995:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_len = LWIP_MIN(hs->req->tot_len, LWIP_HTTPD_MAX_REQ_LENGTH);
1996:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pbuf_copy_partial(hs->req, httpd_req_buf, data_len, 0);
1997:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data = httpd_req_buf;
ARM GAS  C:\usertemp\ccrQXns0.s 			page 37


1998:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else
1999:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_REQUESTLIST */
2000:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {
2001:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data = (char *)p->payload;
2002:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_len = p->len;
2003:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (p->len != p->tot_len) {
2004:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG, ("Warning: incomplete header due to chained pbufs\n"));
2005:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2006:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2007:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2008:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* received enough data for minimal request? */
2009:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (data_len >= MIN_REQ_LEN) {
2010:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* wait for CRLF before parsing anything */
2011:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     crlf = lwip_strnstr(data, CRLF, data_len);
2012:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (crlf != NULL) {
2013:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
2014:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       int is_post = 0;
2015:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST */
2016:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       int is_09 = 0;
2017:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       char *sp1, *sp2;
2018:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       u16_t left_len, uri_len;
2019:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("CRLF received, parsing request\n"));
2020:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* parse method */
2021:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (!strncmp(data, "GET ", 4)) {
2022:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         sp1 = data + 3;
2023:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* received GET request */
2024:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("Received GET request\"\n"));
2025:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
2026:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else if (!strncmp(data, "POST ", 5)) {
2027:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* store request type */
2028:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         is_post = 1;
2029:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         sp1 = data + 4;
2030:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* received GET request */
2031:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("Received POST request\n"));
2032:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST */
2033:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else {
2034:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* null-terminate the METHOD (pbuf is freed anyway wen returning) */
2035:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         data[4] = 0;
2036:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* unsupported method! */
2037:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         LWIP_DEBUGF(HTTPD_DEBUG, ("Unsupported request method (not implemented): \"%s\"\n",
2038:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                   data));
2039:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         return http_find_error_file(hs, 501);
2040:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2041:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* if we come here, method is OK, parse URI */
2042:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       left_len = (u16_t)(data_len - ((sp1 + 1) - data));
2043:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       sp2 = lwip_strnstr(sp1 + 1, " ", left_len);
2044:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_V09
2045:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (sp2 == NULL) {
2046:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* HTTP 0.9: respond with correct protocol version */
2047:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         sp2 = lwip_strnstr(sp1 + 1, CRLF, left_len);
2048:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         is_09 = 1;
2049:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
2050:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (is_post) {
2051:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* HTTP/0.9 does not support POST */
2052:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           goto badrequest;
2053:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
2054:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 38


2055:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2056:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_V09 */
2057:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       uri_len = (u16_t)(sp2 - (sp1 + 1));
2058:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if ((sp2 != 0) && (sp2 > sp1)) {
2059:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* wait for CRLFCRLF (indicating end of HTTP headers) before parsing anything */
2060:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (lwip_strnstr(data, CRLF CRLF, data_len) != NULL) {
2061:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           char *uri = sp1 + 1;
2062:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_11_KEEPALIVE
2063:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* This is HTTP/1.0 compatible: for strict 1.1, a connection
2064:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****              would always be persistent unless "close" was specified. */
2065:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (!is_09 && (lwip_strnstr(data, HTTP11_CONNECTIONKEEPALIVE, data_len) ||
2066:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                          lwip_strnstr(data, HTTP11_CONNECTIONKEEPALIVE2, data_len))) {
2067:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             hs->keepalive = 1;
2068:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
2069:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             hs->keepalive = 0;
2070:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
2071:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_11_KEEPALIVE */
2072:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* null-terminate the METHOD (pbuf is freed anyway wen returning) */
2073:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           *sp1 = 0;
2074:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           uri[uri_len] = 0;
2075:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           LWIP_DEBUGF(HTTPD_DEBUG, ("Received \"%s\" request for URI: \"%s\"\n",
2076:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                     data, uri));
2077:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
2078:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (is_post) {
2079:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_REQUESTLIST
2080:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             struct pbuf *q = hs->req;
2081:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SUPPORT_REQUESTLIST */
2082:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             struct pbuf *q = inp;
2083:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_REQUESTLIST */
2084:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             err = http_post_request(q, hs, data, data_len, uri, sp2);
2085:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             if (err != ERR_OK) {
2086:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* restore header for next try */
2087:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               *sp1 = ' ';
2088:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               *sp2 = ' ';
2089:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               uri[uri_len] = ' ';
2090:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             }
2091:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             if (err == ERR_ARG) {
2092:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               goto badrequest;
2093:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             }
2094:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             return err;
2095:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else
2096:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST */
2097:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           {
2098:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             return http_find_file(hs, uri, is_09);
2099:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
2100:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
2101:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else {
2102:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         LWIP_DEBUGF(HTTPD_DEBUG, ("invalid URI\n"));
2103:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2104:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2105:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2106:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2107:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_REQUESTLIST
2108:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   clen = pbuf_clen(hs->req);
2109:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((hs->req->tot_len <= LWIP_HTTPD_REQ_BUFSIZE) &&
2110:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       (clen <= LWIP_HTTPD_REQ_QUEUELEN)) {
2111:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* request not fully received (too short or CRLF is missing) */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 39


2112:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_INPROGRESS;
2113:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else
2114:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_REQUESTLIST */
2115:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {
2116:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
2117:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** badrequest:
2118:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST */
2119:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("bad request\n"));
2120:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* could not parse request */
2121:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return http_find_error_file(hs, 400);
2122:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2123:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
2124:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2125:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI && (LWIP_HTTPD_SSI_BY_FILE_EXTENSION == 1)
2126:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /* Check if SSI should be parsed for this file/URL
2127:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * (With LWIP_HTTPD_SSI_BY_FILE_EXTENSION == 2, this function can be
2128:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * overridden by an external implementation.)
2129:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
2130:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @return 1 for SSI, 0 for standard files
2131:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
2132:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static u8_t
2133:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_uri_is_ssi(struct fs_file *file, const char *uri)
2134:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
2135:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   size_t loop;
2136:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t tag_check = 0;
2137:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (file != NULL) {
2138:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* See if we have been asked for an shtml file and, if so,
2139:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         enable tag checking. */
2140:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     const char *ext = NULL, *sub;
2141:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     char *param = (char *)strstr(uri, "?");
2142:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (param != NULL) {
2143:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* separate uri from parameters for now, set back later */
2144:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       *param = 0;
2145:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2146:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     sub = uri;
2147:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     ext = uri;
2148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     for (sub = strstr(sub, "."); sub != NULL; sub = strstr(sub, ".")) {
2149:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ext = sub;
2150:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       sub++;
2151:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2152:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     for (loop = 0; loop < NUM_SHTML_EXTENSIONS; loop++) {
2153:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (!lwip_stricmp(ext, g_pcSSIExtensions[loop])) {
2154:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         tag_check = 1;
2155:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
2156:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2157:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2158:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (param != NULL) {
2159:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       *param = '?';
2160:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2161:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2162:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return tag_check;
2163:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
2164:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
2165:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2166:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Try to find the file specified by uri and, if found, initialize hs
2167:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * accordingly.
2168:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
ARM GAS  C:\usertemp\ccrQXns0.s 			page 40


2169:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param hs the connection state
2170:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param uri the HTTP header URI
2171:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param is_09 1 if the request is HTTP/0.9 (no HTTP headers in response)
2172:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @return ERR_OK if file was found and hs has been initialized correctly
2173:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *         another err_t otherwise
2174:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
2175:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
2176:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_find_file(struct http_state *hs, const char *uri, int is_09)
2177:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
2178:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   size_t loop;
2179:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct fs_file *file = NULL;
2180:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *params = NULL;
2181:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
2182:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CGI
2183:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   int i;
2184:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_CGI */
2185:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI
2186:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   const
2187:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* !LWIP_HTTPD_SSI */
2188:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* By default, assume we will not be processing server-side-includes tags */
2189:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t tag_check = 0;
2190:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2191:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Have we been asked for the default file (in root or a directory) ? */
2192:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_MAX_REQUEST_URI_LEN
2193:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   size_t uri_len = strlen(uri);
2194:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((uri_len > 0) && (uri[uri_len - 1] == '/') &&
2195:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ((uri != http_uri_buf) || (uri_len == 1))) {
2196:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     size_t copy_len = LWIP_MIN(sizeof(http_uri_buf) - 1, uri_len - 1);
2197:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (copy_len > 0) {
2198:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       MEMCPY(http_uri_buf, uri, copy_len);
2199:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       http_uri_buf[copy_len] = 0;
2200:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2201:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_MAX_REQUEST_URI_LEN */
2202:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((uri[0] == '/') &&  (uri[1] == 0)) {
2203:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_MAX_REQUEST_URI_LEN */
2204:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Try each of the configured default filenames until we find one
2205:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****        that exists. */
2206:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     for (loop = 0; loop < NUM_DEFAULT_FILENAMES; loop++) {
2207:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       const char *file_name;
2208:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_MAX_REQUEST_URI_LEN
2209:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (copy_len > 0) {
2210:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         size_t len_left = sizeof(http_uri_buf) - copy_len - 1;
2211:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (len_left > 0) {
2212:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           size_t name_len = strlen(httpd_default_filenames[loop].name);
2213:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           size_t name_copy_len = LWIP_MIN(len_left, name_len);
2214:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           MEMCPY(&http_uri_buf[copy_len], httpd_default_filenames[loop].name, name_copy_len);
2215:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           http_uri_buf[copy_len + name_copy_len] = 0;
2216:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
2217:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         file_name = http_uri_buf;
2218:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else
2219:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_MAX_REQUEST_URI_LEN */
2220:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       {
2221:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         file_name = httpd_default_filenames[loop].name;
2222:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2223:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("Looking for %s...\n", file_name));
2224:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       err = fs_open(&hs->file_handle, file_name);
2225:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (err == ERR_OK) {
ARM GAS  C:\usertemp\ccrQXns0.s 			page 41


2226:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         uri = file_name;
2227:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         file = &hs->file_handle;
2228:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("Opened.\n"));
2229:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
2230:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         tag_check = httpd_default_filenames[loop].shtml;
2231:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
2232:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
2233:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2234:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2235:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2236:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (file == NULL) {
2237:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* No - we've been asked for a specific file. */
2238:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* First, isolate the base URI (without any parameters) */
2239:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     params = (char *)strchr(uri, '?');
2240:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (params != NULL) {
2241:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* URI contains parameters. NULL-terminate the base URI */
2242:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       *params = '\0';
2243:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       params++;
2244:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2245:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2246:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CGI
2247:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_cgi_paramcount = -1;
2248:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Does the base URI we have isolated correspond to a CGI handler? */
2249:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (httpd_num_cgis && httpd_cgis) {
2250:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       for (i = 0; i < httpd_num_cgis; i++) {
2251:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (strcmp(uri, httpd_cgis[i].pcCGIName) == 0) {
2252:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /*
2253:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****            * We found a CGI that handles this URI so extract the
2254:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****            * parameters and call the handler.
2255:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****            */
2256:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           http_cgi_paramcount = extract_uri_parameters(hs, params);
2257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           uri = httpd_cgis[i].pfnCGIHandler(i, http_cgi_paramcount, hs->params,
2258:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                          hs->param_vals);
2259:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           break;
2260:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
2261:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2262:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2263:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_CGI */
2264:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2265:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("Opening %s\n", uri));
2266:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2267:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err = fs_open(&hs->file_handle, uri);
2268:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err == ERR_OK) {
2269:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       file = &hs->file_handle;
2270:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else {
2271:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       file = http_get_404_file(hs, &uri);
2272:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2273:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
2274:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (file != NULL) {
2275:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (file->flags & FS_FILE_FLAGS_SSI) {
2276:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         tag_check = 1;
2277:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else {
2278:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_BY_FILE_EXTENSION
2279:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         tag_check = http_uri_is_ssi(file, uri);
2280:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_BY_FILE_EXTENSION */
2281:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2282:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
ARM GAS  C:\usertemp\ccrQXns0.s 			page 42


2283:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
2284:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2285:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (file == NULL) {
2286:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* None of the default filenames exist so send back a 404 page */
2287:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     file = http_get_404_file(hs, &uri);
2288:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2289:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return http_init_file(hs, file, is_09, uri, tag_check, params);
2290:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
2291:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2292:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /** Initialize a http connection with a file to send (if found).
2293:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Called by http_find_file and http_find_error_file.
2294:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
2295:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param hs http connection state
2296:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param file file structure to send (or NULL if not found)
2297:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param is_09 1 if the request is HTTP/0.9 (no HTTP headers in response)
2298:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param uri the HTTP header URI
2299:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param tag_check enable SSI tag checking
2300:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param params != NULL if URI has parameters (separated by '?')
2301:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @return ERR_OK if file was found and hs has been initialized correctly
2302:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *         another err_t otherwise
2303:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
2304:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
2305:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_init_file(struct http_state *hs, struct fs_file *file, int is_09, const char *uri,
2306:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                u8_t tag_check, char *params)
2307:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
2308:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SUPPORT_V09
2309:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(is_09);
2310:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
2311:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (file != NULL) {
2312:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* file opened, initialise struct http_state */
2313:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_DYNAMIC_FILE_READ
2314:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* If dynamic read is disabled, file data must be in one piece and available now */
2315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_ASSERT("file->data != NULL", file->data != NULL);
2316:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
2317:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2318:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
2319:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (tag_check) {
2320:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       struct http_ssi_state *ssi = http_ssi_state_alloc();
2321:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (ssi != NULL) {
2322:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->tag_index = 0;
2323:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->tag_state = TAG_NONE;
2324:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parsed = file->data;
2325:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parse_left = file->len;
2326:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->tag_end = file->data;
2327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->ssi = ssi;
2328:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2329:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2330:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI */
2331:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_UNUSED_ARG(tag_check);
2332:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
2333:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->handle = file;
2334:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CGI_SSI
2335:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (params != NULL) {
2336:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* URI contains parameters, call generic CGI handler */
2337:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       int count;
2338:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CGI
2339:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (http_cgi_paramcount >= 0) {
ARM GAS  C:\usertemp\ccrQXns0.s 			page 43


2340:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         count = http_cgi_paramcount;
2341:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else
2342:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
2343:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       {
2344:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         count = extract_uri_parameters(hs, params);
2345:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2346:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       httpd_cgi_handler(file, uri, count, http_cgi_params, http_cgi_param_vals
2347:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if defined(LWIP_HTTPD_FILE_STATE) && LWIP_HTTPD_FILE_STATE
2348:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                         , file->state
2349:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_FILE_STATE */
2350:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                        );
2351:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2352:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_CGI_SSI */
2353:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_UNUSED_ARG(params);
2354:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_CGI_SSI */
2355:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->file = file->data;
2356:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_ASSERT("File length must be positive!", (file->len >= 0));
2357:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CUSTOM_FILES
2358:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (file->is_custom_file && (file->data == NULL)) {
2359:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* custom file, need to read data first (via fs_read_custom) */
2360:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->left = 0;
2361:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else
2362:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_CUSTOM_FILES */
2363:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     {
2364:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->left = (u32_t)file->len;
2365:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2366:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->retries = 0;
2367:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_TIMING
2368:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->time_started = sys_now();
2369:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_TIMING */
2370:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_DYNAMIC_HEADERS
2371:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_ASSERT("HTTP headers not included in file system",
2372:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 (hs->handle->flags & FS_FILE_FLAGS_HEADER_INCLUDED) != 0);
2373:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* !LWIP_HTTPD_DYNAMIC_HEADERS */
2374:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_V09
2375:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (is_09 && ((hs->handle->flags & FS_FILE_FLAGS_HEADER_INCLUDED) != 0)) {
2376:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* HTTP/0.9 responses are sent without HTTP header,
2377:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****          search for the end of the header. */
2378:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       char *file_start = lwip_strnstr(hs->file, CRLF CRLF, hs->left);
2379:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (file_start != NULL) {
2380:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         int diff = file_start + 4 - hs->file;
2381:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->file += diff;
2382:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->left -= (u32_t)diff;
2383:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2384:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2385:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_V09*/
2386:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
2387:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->handle = NULL;
2388:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->file = NULL;
2389:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->left = 0;
2390:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->retries = 0;
2391:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2392:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_HEADERS
2393:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Determine the HTTP headers to send based on the file extension of
2394:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****    * the requested URI. */
2395:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((hs->handle == NULL) || ((hs->handle->flags & FS_FILE_FLAGS_HEADER_INCLUDED) == 0)) {
2396:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     get_http_headers(hs, uri);
ARM GAS  C:\usertemp\ccrQXns0.s 			page 44


2397:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2398:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_DYNAMIC_HEADERS */
2399:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(uri);
2400:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_DYNAMIC_HEADERS */
2401:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_11_KEEPALIVE
2402:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->keepalive) {
2403:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
2404:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->ssi != NULL) {
2405:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->keepalive = 0;
2406:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else
2407:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
2408:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     {
2409:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if ((hs->handle != NULL) &&
2410:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ((hs->handle->flags & (FS_FILE_FLAGS_HEADER_INCLUDED | FS_FILE_FLAGS_HEADER_PERSISTENT)) 
2411:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->keepalive = 0;
2412:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2413:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2414:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2415:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_11_KEEPALIVE */
2416:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return ERR_OK;
2417:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
2418:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2419:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
2420:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * The pcb had an error and is already deallocated.
2421:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * The argument might still be valid (if != NULL).
2422:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
2423:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
2424:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_err(void *arg, err_t err)
2425:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
2426:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)arg;
2427:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(err);
2428:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2429:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG, ("http_err: %s", lwip_strerr(err)));
2430:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2431:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs != NULL) {
2432:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_free(hs);
2433:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2434:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
2435:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2436:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
2437:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Data has been sent and acknowledged by the remote host.
2438:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * This means that more data can be sent.
2439:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
2440:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
2441:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_sent(void *arg, struct altcp_pcb *pcb, u16_t len)
2442:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
2443:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)arg;
2444:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2445:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("http_sent %p\n", (void *)pcb));
2446:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2447:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(len);
2448:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2449:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs == NULL) {
2450:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
2451:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2452:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2453:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->retries = 0;
ARM GAS  C:\usertemp\ccrQXns0.s 			page 45


2454:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2455:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   http_send(pcb, hs);
2456:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2457:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return ERR_OK;
2458:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
2459:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2460:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
2461:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * The poll function is called every 2nd second.
2462:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * If there has been no data sent (which resets the retries) in 8 seconds, close.
2463:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * If the last portion of a file has not been sent in 2 seconds, close.
2464:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
2465:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * This could be increased, but we don't want to waste resources for bad connections.
2466:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
2467:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
2468:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_poll(void *arg, struct altcp_pcb *pcb)
2469:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
2470:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)arg;
2471:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("http_poll: pcb=%p hs=%p pcb_state=%s\n",
2472:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               (void *)pcb, (void *)hs, tcp_debug_state_str(altcp_dbg_get_tcp_state(pcb))));
2473:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2474:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs == NULL) {
2475:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err_t closed;
2476:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* arg is null, close. */
2477:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("http_poll: arg is NULL, close\n"));
2478:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     closed = http_close_conn(pcb, NULL);
2479:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_UNUSED_ARG(closed);
2480:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_ABORT_ON_CLOSE_MEM_ERROR
2481:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (closed == ERR_MEM) {
2482:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       altcp_abort(pcb);
2483:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return ERR_ABRT;
2484:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2485:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_ABORT_ON_CLOSE_MEM_ERROR */
2486:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
2487:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
2488:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->retries++;
2489:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->retries == HTTPD_MAX_RETRIES) {
2490:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG, ("http_poll: too many retries, close\n"));
2491:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       http_close_conn(pcb, hs);
2492:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return ERR_OK;
2493:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2494:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2495:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* If this connection has a file open, try to send some more data. If
2496:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      * it has not yet received a GET request, don't do this since it will
2497:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      * cause the connection to close immediately. */
2498:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->handle) {
2499:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("http_poll: try to send more data\n"));
2500:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (http_send(pcb, hs)) {
2501:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* If we wrote anything to be sent, go ahead and send it now. */
2502:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("tcp_output\n"));
2503:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         altcp_output(pcb);
2504:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2505:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2506:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2507:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2508:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return ERR_OK;
2509:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
2510:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
ARM GAS  C:\usertemp\ccrQXns0.s 			page 46


2511:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
2512:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Data has been received on this pcb.
2513:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * For HTTP 1.0, this should normally only happen once (if the request fits in one packet).
2514:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
2515:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
2516:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_recv(void *arg, struct altcp_pcb *pcb, struct pbuf *p, err_t err)
2517:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
2518:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)arg;
2519:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("http_recv: pcb=%p pbuf=%p err=%s\n", (void *)pcb,
2520:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               (void *)p, lwip_strerr(err)));
2521:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2522:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((err != ERR_OK) || (p == NULL) || (hs == NULL)) {
2523:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* error or closed by other side? */
2524:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (p != NULL) {
2525:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* Inform TCP that we have taken the data. */
2526:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       altcp_recved(pcb, p->tot_len);
2527:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       pbuf_free(p);
2528:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2529:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs == NULL) {
2530:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* this should not happen, only to be robust */
2531:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG, ("Error, http_recv: hs is NULL, close\n"));
2532:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2533:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_close_conn(pcb, hs);
2534:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
2535:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2536:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST && LWIP_HTTPD_POST_MANUAL_WND
2538:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->no_auto_wnd) {
2539:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->unrecved_bytes += p->tot_len;
2540:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else
2541:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST && LWIP_HTTPD_POST_MANUAL_WND */
2542:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {
2543:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Inform TCP that we have taken the data. */
2544:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     altcp_recved(pcb, p->tot_len);
2545:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2546:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2547:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
2548:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->post_content_len_left > 0) {
2549:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* reset idle counter when POST data is received */
2550:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->retries = 0;
2551:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* this is data for a POST, pass the complete pbuf to the application */
2552:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_post_rxpbuf(hs, p);
2553:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* pbuf is passed to the application, don't free it! */
2554:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->post_content_len_left == 0) {
2555:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* all data received, send response or close connection */
2556:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       http_send(pcb, hs);
2557:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2558:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
2559:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else
2560:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST */
2561:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   {
2562:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->handle == NULL) {
2563:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       err_t parsed = http_parse_request(p, hs, pcb);
2564:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_ASSERT("http_parse_request: unexpected return value", parsed == ERR_OK
2565:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   || parsed == ERR_INPROGRESS || parsed == ERR_ARG || parsed == ERR_USE);
2566:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_REQUESTLIST
2567:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (parsed != ERR_INPROGRESS) {
ARM GAS  C:\usertemp\ccrQXns0.s 			page 47


2568:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* request fully parsed or error */
2569:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (hs->req != NULL) {
2570:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           pbuf_free(hs->req);
2571:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           hs->req = NULL;
2572:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
2573:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2574:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_REQUESTLIST */
2575:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       pbuf_free(p);
2576:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (parsed == ERR_OK) {
2577:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
2578:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (hs->post_content_len_left == 0)
2579:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_POST */
2580:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         {
2581:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("http_recv: data %p len %"S32_F"\n", (const vo
2582:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           http_send(pcb, hs);
2583:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
2584:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else if (parsed == ERR_ARG) {
2585:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* @todo: close on ERR_USE? */
2586:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         http_close_conn(pcb, hs);
2587:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
2588:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else {
2589:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG, ("http_recv: already sending data\n"));
2590:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* already sending but still receiving data, we might want to RST here? */
2591:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       pbuf_free(p);
2592:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
2593:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2594:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return ERR_OK;
2595:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
2596:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2597:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
2598:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * A new incoming connection has been accepted.
2599:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
2600:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static err_t
2601:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_accept(void *arg, struct altcp_pcb *pcb, err_t err)
2602:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
2603:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs;
2604:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(err);
2605:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(arg);
2606:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG, ("http_accept %p / %p\n", (void *)pcb, arg));
2607:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2608:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((err != ERR_OK) || (pcb == NULL)) {
2609:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_VAL;
2610:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2611:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2612:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Set priority */
2613:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_setprio(pcb, HTTPD_TCP_PRIO);
2614:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2615:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Allocate memory for the structure that holds the state of the
2616:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      connection - initialized by that function. */
2617:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs = http_state_alloc();
2618:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs == NULL) {
2619:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("http_accept: Out of memory, RST\n"));
2620:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_MEM;
2621:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2622:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   hs->pcb = pcb;
2623:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2624:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Tell TCP that this is the structure we wish to be passed for our
ARM GAS  C:\usertemp\ccrQXns0.s 			page 48


2625:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****      callbacks. */
2626:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_arg(pcb, hs);
2627:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2628:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Set up the various callback functions */
2629:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_recv(pcb, http_recv);
2630:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_err(pcb, http_err);
2631:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_poll(pcb, http_poll, HTTPD_POLL_INTERVAL);
2632:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_sent(pcb, http_sent);
2633:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2634:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return ERR_OK;
2635:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
2636:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2637:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** static void
2638:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** httpd_init_pcb(struct altcp_pcb *pcb, u16_t port)
2639:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
  41              		.loc 1 2639 1 view -0
  42              		.cfi_startproc
  43              		@ args = 0, pretend = 0, frame = 0
  44              		@ frame_needed = 0, uses_anonymous_args = 0
2640:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
  45              		.loc 1 2640 3 view .LVU1
2641:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2642:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (pcb) {
  46              		.loc 1 2642 3 view .LVU2
  47              		.loc 1 2642 6 is_stmt 0 view .LVU3
  48 0000 30B3     		cbz	r0, .L6
2639:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
  49              		.loc 1 2639 1 view .LVU4
  50 0002 38B5     		push	{r3, r4, r5, lr}
  51              	.LCFI0:
  52              		.cfi_def_cfa_offset 16
  53              		.cfi_offset 3, -16
  54              		.cfi_offset 4, -12
  55              		.cfi_offset 5, -8
  56              		.cfi_offset 14, -4
  57 0004 0C46     		mov	r4, r1
  58 0006 0546     		mov	r5, r0
2643:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     altcp_setprio(pcb, HTTPD_TCP_PRIO);
  59              		.loc 1 2643 5 is_stmt 1 view .LVU5
  60 0008 0121     		movs	r1, #1
  61              	.LVL1:
  62              		.loc 1 2643 5 is_stmt 0 view .LVU6
  63 000a FFF7FEFF 		bl	tcp_setprio
  64              	.LVL2:
2644:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* set SOF_REUSEADDR here to explicitly bind httpd to multiple interfaces */
2645:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err = altcp_bind(pcb, IP_ANY_TYPE, port);
  65              		.loc 1 2645 5 is_stmt 1 view .LVU7
  66              		.loc 1 2645 11 is_stmt 0 view .LVU8
  67 000e 2246     		mov	r2, r4
  68 0010 1049     		ldr	r1, .L11
  69 0012 2846     		mov	r0, r5
  70 0014 FFF7FEFF 		bl	tcp_bind
  71              	.LVL3:
2646:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_UNUSED_ARG(err); /* in case of LWIP_NOASSERT */
  72              		.loc 1 2646 5 is_stmt 1 view .LVU9
2647:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_ASSERT("httpd_init: tcp_bind failed", err == ERR_OK);
  73              		.loc 1 2647 5 view .LVU10
ARM GAS  C:\usertemp\ccrQXns0.s 			page 49


  74              		.loc 1 2647 5 view .LVU11
  75 0018 50B9     		cbnz	r0, .L9
  76              	.LVL4:
  77              	.L3:
  78              		.loc 1 2647 5 discriminator 3 view .LVU12
  79              		.loc 1 2647 5 discriminator 3 view .LVU13
2648:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pcb = altcp_listen(pcb);
  80              		.loc 1 2648 5 view .LVU14
  81              		.loc 1 2648 11 is_stmt 0 view .LVU15
  82 001a FF21     		movs	r1, #255
  83 001c 2846     		mov	r0, r5
  84 001e FFF7FEFF 		bl	tcp_listen_with_backlog
  85              	.LVL5:
2649:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_ASSERT("httpd_init: tcp_listen failed", pcb != NULL);
  86              		.loc 1 2649 5 is_stmt 1 view .LVU16
  87              		.loc 1 2649 5 view .LVU17
  88 0022 0446     		mov	r4, r0
  89              	.LVL6:
  90              		.loc 1 2649 5 is_stmt 0 view .LVU18
  91 0024 60B1     		cbz	r0, .L10
  92              	.LVL7:
  93              	.L4:
  94              		.loc 1 2649 5 is_stmt 1 discriminator 3 view .LVU19
  95              		.loc 1 2649 5 discriminator 3 view .LVU20
2650:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     altcp_accept(pcb, http_accept);
  96              		.loc 1 2650 5 view .LVU21
  97 0026 0C49     		ldr	r1, .L11+4
  98 0028 2046     		mov	r0, r4
  99 002a FFF7FEFF 		bl	tcp_accept
 100              	.LVL8:
2651:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
2652:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 101              		.loc 1 2652 1 is_stmt 0 view .LVU22
 102 002e 38BD     		pop	{r3, r4, r5, pc}
 103              	.LVL9:
 104              	.L9:
2647:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pcb = altcp_listen(pcb);
 105              		.loc 1 2647 5 is_stmt 1 discriminator 1 view .LVU23
2647:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pcb = altcp_listen(pcb);
 106              		.loc 1 2647 5 discriminator 1 view .LVU24
 107 0030 0A4B     		ldr	r3, .L11+8
 108 0032 40F65722 		movw	r2, #2647
 109 0036 0A49     		ldr	r1, .L11+12
 110 0038 0A48     		ldr	r0, .L11+16
 111              	.LVL10:
2647:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pcb = altcp_listen(pcb);
 112              		.loc 1 2647 5 is_stmt 0 discriminator 1 view .LVU25
 113 003a FFF7FEFF 		bl	printf
 114              	.LVL11:
 115 003e ECE7     		b	.L3
 116              	.LVL12:
 117              	.L10:
2649:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     altcp_accept(pcb, http_accept);
 118              		.loc 1 2649 5 is_stmt 1 discriminator 1 view .LVU26
2649:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     altcp_accept(pcb, http_accept);
 119              		.loc 1 2649 5 discriminator 1 view .LVU27
 120 0040 064B     		ldr	r3, .L11+8
ARM GAS  C:\usertemp\ccrQXns0.s 			page 50


 121 0042 40F65922 		movw	r2, #2649
 122 0046 0849     		ldr	r1, .L11+20
 123 0048 0648     		ldr	r0, .L11+16
 124              	.LVL13:
2649:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     altcp_accept(pcb, http_accept);
 125              		.loc 1 2649 5 is_stmt 0 discriminator 1 view .LVU28
 126 004a FFF7FEFF 		bl	printf
 127              	.LVL14:
 128 004e EAE7     		b	.L4
 129              	.LVL15:
 130              	.L6:
 131              	.LCFI1:
 132              		.cfi_def_cfa_offset 0
 133              		.cfi_restore 3
 134              		.cfi_restore 4
 135              		.cfi_restore 5
 136              		.cfi_restore 14
2649:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     altcp_accept(pcb, http_accept);
 137              		.loc 1 2649 5 discriminator 1 view .LVU29
 138 0050 7047     		bx	lr
 139              	.L12:
 140 0052 00BF     		.align	2
 141              	.L11:
 142 0054 00000000 		.word	ip_addr_any
 143 0058 00000000 		.word	http_accept
 144 005c 00000000 		.word	.LC0
 145 0060 34000000 		.word	.LC1
 146 0064 50000000 		.word	.LC2
 147 0068 78000000 		.word	.LC3
 148              		.cfi_endproc
 149              	.LFE385:
 151              		.section	.rodata.get_tag_insert.str1.4,"aMS",%progbits,1
 152              		.align	2
 153              	.LC4:
 154 0000 68732021 		.ascii	"hs != NULL\000"
 154      3D204E55 
 154      4C4C00
 155 000b 00       		.align	2
 156              	.LC5:
 157 000c 73736920 		.ascii	"ssi != NULL\000"
 157      213D204E 
 157      554C4C00 
 158              		.align	2
 159              	.LC6:
 160 0018 3C623E2A 		.ascii	"<b>***UNKNOWN TAG \000"
 160      2A2A554E 
 160      4B4E4F57 
 160      4E205441 
 160      472000
 161 002b 00       		.align	2
 162              	.LC7:
 163 002c 2A2A2A3C 		.ascii	"***</b>\000"
 163      2F623E00 
 164              		.align	2
 165              	.LC8:
 166 0034 6C656E20 		.ascii	"len <= 0xffff\000"
 166      3C3D2030 
ARM GAS  C:\usertemp\ccrQXns0.s 			page 51


 166      78666666 
 166      6600
 167              		.section	.text.get_tag_insert,"ax",%progbits
 168              		.align	1
 169              		.syntax unified
 170              		.thumb
 171              		.thumb_func
 173              	get_tag_insert:
 174              	.LVL16:
 175              	.LFB370:
 760:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_RAW
 176              		.loc 1 760 1 is_stmt 1 view -0
 177              		.cfi_startproc
 178              		@ args = 0, pretend = 0, frame = 0
 179              		@ frame_needed = 0, uses_anonymous_args = 0
 760:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_RAW
 180              		.loc 1 760 1 is_stmt 0 view .LVU31
 181 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 182              	.LCFI2:
 183              		.cfi_def_cfa_offset 24
 184              		.cfi_offset 4, -24
 185              		.cfi_offset 5, -20
 186              		.cfi_offset 6, -16
 187              		.cfi_offset 7, -12
 188              		.cfi_offset 8, -8
 189              		.cfi_offset 14, -4
 764:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_RAW */
 190              		.loc 1 764 3 is_stmt 1 view .LVU32
 766:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_ssi_state *ssi;
 191              		.loc 1 766 3 view .LVU33
 767:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
 192              		.loc 1 767 3 view .LVU34
 772:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi = hs->ssi;
 193              		.loc 1 772 3 view .LVU35
 772:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi = hs->ssi;
 194              		.loc 1 772 3 view .LVU36
 195 0004 0446     		mov	r4, r0
 196 0006 C8B1     		cbz	r0, .L26
 197              	.LVL17:
 198              	.L14:
 772:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi = hs->ssi;
 199              		.loc 1 772 3 discriminator 3 view .LVU37
 772:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi = hs->ssi;
 200              		.loc 1 772 3 discriminator 3 view .LVU38
 773:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("ssi != NULL", ssi != NULL);
 201              		.loc 1 773 3 view .LVU39
 773:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("ssi != NULL", ssi != NULL);
 202              		.loc 1 773 7 is_stmt 0 view .LVU40
 203 0008 E46A     		ldr	r4, [r4, #44]
 204              	.LVL18:
 774:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
 205              		.loc 1 774 3 is_stmt 1 view .LVU41
 774:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
 206              		.loc 1 774 3 view .LVU42
 207 000a FCB1     		cbz	r4, .L27
 208              	.L15:
 774:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
ARM GAS  C:\usertemp\ccrQXns0.s 			page 52


 209              		.loc 1 774 3 discriminator 3 view .LVU43
 774:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
 210              		.loc 1 774 3 discriminator 3 view .LVU44
 783:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_RAW
 211              		.loc 1 783 3 view .LVU45
 783:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_RAW
 212              		.loc 1 783 7 is_stmt 0 view .LVU46
 213 000c 394B     		ldr	r3, .L30
 214 000e D3F80080 		ldr	r8, [r3]
 783:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_RAW
 215              		.loc 1 783 6 view .LVU47
 216 0012 B8F1000F 		cmp	r8, #0
 217 0016 05D0     		beq	.L16
 785:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* !LWIP_HTTPD_SSI_RAW */
 218              		.loc 1 785 7 view .LVU48
 219 0018 374B     		ldr	r3, .L30+4
 220 001a 1E68     		ldr	r6, [r3]
 221 001c 16B1     		cbz	r6, .L16
 785:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* !LWIP_HTTPD_SSI_RAW */
 222              		.loc 1 785 21 discriminator 1 view .LVU49
 223 001e 374B     		ldr	r3, .L30+8
 224 0020 1F68     		ldr	r7, [r3]
 225 0022 17BB     		cbnz	r7, .L23
 226              	.L16:
 823:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                  LWIP_HTTPD_MAX_TAG_INSERT_LEN - (UNKNOWN_TAG1_LEN + UNKNOWN_TAG2_LEN)));
 227              		.loc 1 823 3 is_stmt 1 view .LVU50
 823:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                  LWIP_HTTPD_MAX_TAG_INSERT_LEN - (UNKNOWN_TAG1_LEN + UNKNOWN_TAG2_LEN)));
 228              		.loc 1 823 9 is_stmt 0 view .LVU51
 229 0024 04F11208 		add	r8, r4, #18
 230 0028 4046     		mov	r0, r8
 231 002a FFF7FEFF 		bl	strlen
 232              	.LVL19:
 233 002e 0546     		mov	r5, r0
 823:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                  LWIP_HTTPD_MAX_TAG_INSERT_LEN - (UNKNOWN_TAG1_LEN + UNKNOWN_TAG2_LEN)));
 234              		.loc 1 823 9 discriminator 1 view .LVU52
 235 0030 A628     		cmp	r0, #166
 236 0032 27D8     		bhi	.L24
 237 0034 0928     		cmp	r0, #9
 238 0036 26D9     		bls	.L21
 823:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                  LWIP_HTTPD_MAX_TAG_INSERT_LEN - (UNKNOWN_TAG1_LEN + UNKNOWN_TAG2_LEN)));
 239              		.loc 1 823 9 discriminator 4 view .LVU53
 240 0038 0925     		movs	r5, #9
 241 003a 24E0     		b	.L21
 242              	.LVL20:
 243              	.L26:
 772:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi = hs->ssi;
 244              		.loc 1 772 3 is_stmt 1 discriminator 1 view .LVU54
 772:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi = hs->ssi;
 245              		.loc 1 772 3 discriminator 1 view .LVU55
 246 003c 304B     		ldr	r3, .L30+12
 247 003e 4FF44172 		mov	r2, #772
 248 0042 3049     		ldr	r1, .L30+16
 249 0044 3048     		ldr	r0, .L30+20
 250              	.LVL21:
 772:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi = hs->ssi;
 251              		.loc 1 772 3 is_stmt 0 discriminator 1 view .LVU56
 252 0046 FFF7FEFF 		bl	printf
ARM GAS  C:\usertemp\ccrQXns0.s 			page 53


 253              	.LVL22:
 254 004a DDE7     		b	.L14
 255              	.LVL23:
 256              	.L27:
 774:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
 257              		.loc 1 774 3 is_stmt 1 discriminator 1 view .LVU57
 774:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_MULTIPART
 258              		.loc 1 774 3 discriminator 1 view .LVU58
 259 004c 2C4B     		ldr	r3, .L30+12
 260 004e 40F20632 		movw	r2, #774
 261 0052 2E49     		ldr	r1, .L30+24
 262 0054 2C48     		ldr	r0, .L30+20
 263 0056 FFF7FEFF 		bl	printf
 264              	.LVL24:
 265 005a D7E7     		b	.L15
 266              	.LVL25:
 267              	.L28:
 797:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                               LWIP_HTTPD_MAX_TAG_INSERT_LEN
 268              		.loc 1 797 9 view .LVU59
 797:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                               LWIP_HTTPD_MAX_TAG_INSERT_LEN
 269              		.loc 1 797 31 is_stmt 0 view .LVU60
 270 005c C022     		movs	r2, #192
 271 005e 04F11B01 		add	r1, r4, #27
 272 0062 2846     		mov	r0, r5
 273 0064 C047     		blx	r8
 274              	.LVL26:
 797:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                               LWIP_HTTPD_MAX_TAG_INSERT_LEN
 275              		.loc 1 797 29 discriminator 1 view .LVU61
 276 0066 E081     		strh	r0, [r4, #14]	@ movhi
 810:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 277              		.loc 1 810 11 is_stmt 1 view .LVU62
 278 0068 3AE0     		b	.L13
 279              	.LVL27:
 280              	.L23:
 793:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (strcmp(ssi->tag_name, httpd_tags[tag]) == 0)
 281              		.loc 1 793 14 is_stmt 0 view .LVU63
 282 006a 0025     		movs	r5, #0
 283              	.L17:
 284              	.LVL28:
 793:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (strcmp(ssi->tag_name, httpd_tags[tag]) == 0)
 285              		.loc 1 793 23 is_stmt 1 discriminator 1 view .LVU64
 286 006c AF42     		cmp	r7, r5
 287 006e D9DD     		ble	.L16
 794:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_RAW */
 288              		.loc 1 794 7 view .LVU65
 794:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_RAW */
 289              		.loc 1 794 11 is_stmt 0 view .LVU66
 290 0070 56F82510 		ldr	r1, [r6, r5, lsl #2]
 291 0074 04F11200 		add	r0, r4, #18
 292 0078 FFF7FEFF 		bl	strcmp
 293              	.LVL29:
 794:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_RAW */
 294              		.loc 1 794 10 discriminator 1 view .LVU67
 295 007c 0028     		cmp	r0, #0
 296 007e EDD0     		beq	.L28
 793:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (strcmp(ssi->tag_name, httpd_tags[tag]) == 0)
 297              		.loc 1 793 44 is_stmt 1 discriminator 2 view .LVU68
ARM GAS  C:\usertemp\ccrQXns0.s 			page 54


 298 0080 0135     		adds	r5, r5, #1
 299              	.LVL30:
 793:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (strcmp(ssi->tag_name, httpd_tags[tag]) == 0)
 300              		.loc 1 793 44 is_stmt 0 discriminator 2 view .LVU69
 301 0082 F3E7     		b	.L17
 302              	.LVL31:
 303              	.L24:
 823:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                  LWIP_HTTPD_MAX_TAG_INSERT_LEN - (UNKNOWN_TAG1_LEN + UNKNOWN_TAG2_LEN)));
 304              		.loc 1 823 9 discriminator 4 view .LVU70
 305 0084 0925     		movs	r5, #9
 306              	.L21:
 307              	.LVL32:
 825:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   MEMCPY(&ssi->tag_insert[UNKNOWN_TAG1_LEN], ssi->tag_name, len);
 308              		.loc 1 825 3 is_stmt 1 view .LVU71
 309 0086 04F11B07 		add	r7, r4, #27
 310 008a 214E     		ldr	r6, .L30+28
 311 008c 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 312 008e C4F81B00 		str	r0, [r4, #27]	@ unaligned
 313 0092 C4F81F10 		str	r1, [r4, #31]	@ unaligned
 314 0096 C4F82320 		str	r2, [r4, #35]	@ unaligned
 315 009a C4F82730 		str	r3, [r4, #39]	@ unaligned
 316 009e 3388     		ldrh	r3, [r6]	@ unaligned
 317 00a0 A4F82B30 		strh	r3, [r4, #43]	@ unaligned
 826:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   MEMCPY(&ssi->tag_insert[UNKNOWN_TAG1_LEN + len], UNKNOWN_TAG2_TEXT, UNKNOWN_TAG2_LEN);
 318              		.loc 1 826 3 view .LVU72
 319 00a4 2A46     		mov	r2, r5
 320 00a6 4146     		mov	r1, r8
 321 00a8 04F12D00 		add	r0, r4, #45
 322 00ac FFF7FEFF 		bl	memcpy
 323              	.LVL33:
 827:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi->tag_insert[UNKNOWN_TAG1_LEN + len + UNKNOWN_TAG2_LEN] = 0;
 324              		.loc 1 827 3 view .LVU73
 325 00b0 05F12A03 		add	r3, r5, #42
 326 00b4 2344     		add	r3, r3, r4
 327 00b6 174A     		ldr	r2, .L30+32
 328 00b8 1068     		ldr	r0, [r2]
 329 00ba C3F80300 		str	r0, [r3, #3]	@ unaligned
 330 00be 9188     		ldrh	r1, [r2, #4]	@ unaligned
 331 00c0 9279     		ldrb	r2, [r2, #6]	@ zero_extendqisi2
 332 00c2 A3F80710 		strh	r1, [r3, #7]	@ unaligned
 333 00c6 5A72     		strb	r2, [r3, #9]
 828:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 334              		.loc 1 828 3 view .LVU74
 828:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 335              		.loc 1 828 42 is_stmt 0 view .LVU75
 336 00c8 1935     		adds	r5, r5, #25
 337              	.LVL34:
 828:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 338              		.loc 1 828 62 view .LVU76
 339 00ca 2544     		add	r5, r5, r4
 340              	.LVL35:
 828:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 341              		.loc 1 828 62 view .LVU77
 342 00cc 0023     		movs	r3, #0
 343 00ce EB76     		strb	r3, [r5, #27]
 830:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("len <= 0xffff", len <= 0xffff);
 344              		.loc 1 830 3 is_stmt 1 view .LVU78
ARM GAS  C:\usertemp\ccrQXns0.s 			page 55


 830:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("len <= 0xffff", len <= 0xffff);
 345              		.loc 1 830 9 is_stmt 0 view .LVU79
 346 00d0 3846     		mov	r0, r7
 347 00d2 FFF7FEFF 		bl	strlen
 348              	.LVL36:
 349 00d6 0546     		mov	r5, r0
 350              	.LVL37:
 831:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi->tag_insert_len = (u16_t)len;
 351              		.loc 1 831 3 is_stmt 1 view .LVU80
 831:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi->tag_insert_len = (u16_t)len;
 352              		.loc 1 831 3 view .LVU81
 353 00d8 B0F5803F 		cmp	r0, #65536
 354 00dc 02D2     		bcs	.L29
 355              	.LVL38:
 356              	.L22:
 831:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi->tag_insert_len = (u16_t)len;
 357              		.loc 1 831 3 discriminator 3 view .LVU82
 831:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi->tag_insert_len = (u16_t)len;
 358              		.loc 1 831 3 discriminator 3 view .LVU83
 832:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 359              		.loc 1 832 3 view .LVU84
 832:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 360              		.loc 1 832 23 is_stmt 0 view .LVU85
 361 00de E581     		strh	r5, [r4, #14]	@ movhi
 362              	.LVL39:
 363              	.L13:
 833:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 364              		.loc 1 833 1 view .LVU86
 365 00e0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 366              	.LVL40:
 367              	.L29:
 831:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi->tag_insert_len = (u16_t)len;
 368              		.loc 1 831 3 is_stmt 1 discriminator 1 view .LVU87
 831:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi->tag_insert_len = (u16_t)len;
 369              		.loc 1 831 3 discriminator 1 view .LVU88
 370 00e4 064B     		ldr	r3, .L30+12
 371 00e6 40F23F32 		movw	r2, #831
 372 00ea 0B49     		ldr	r1, .L30+36
 373 00ec 0648     		ldr	r0, .L30+20
 374              	.LVL41:
 831:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   ssi->tag_insert_len = (u16_t)len;
 375              		.loc 1 831 3 is_stmt 0 discriminator 1 view .LVU89
 376 00ee FFF7FEFF 		bl	printf
 377              	.LVL42:
 378 00f2 F4E7     		b	.L22
 379              	.L31:
 380              		.align	2
 381              	.L30:
 382 00f4 00000000 		.word	httpd_ssi_handler
 383 00f8 00000000 		.word	httpd_tags
 384 00fc 00000000 		.word	httpd_num_tags
 385 0100 00000000 		.word	.LC0
 386 0104 00000000 		.word	.LC4
 387 0108 50000000 		.word	.LC2
 388 010c 0C000000 		.word	.LC5
 389 0110 18000000 		.word	.LC6
 390 0114 2C000000 		.word	.LC7
ARM GAS  C:\usertemp\ccrQXns0.s 			page 56


 391 0118 34000000 		.word	.LC8
 392              		.cfi_endproc
 393              	.LFE370:
 395              		.section	.rodata.http_write.str1.4,"aMS",%progbits,1
 396              		.align	2
 397              	.LC9:
 398 0000 6C656E67 		.ascii	"length != NULL\000"
 398      74682021 
 398      3D204E55 
 398      4C4C00
 399              		.section	.text.http_write,"ax",%progbits
 400              		.align	1
 401              		.syntax unified
 402              		.thumb
 403              		.thumb_func
 405              	http_write:
 406              	.LVL43:
 407              	.LFB365:
 534:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t len, max_len;
 408              		.loc 1 534 1 is_stmt 1 view -0
 409              		.cfi_startproc
 410              		@ args = 0, pretend = 0, frame = 0
 411              		@ frame_needed = 0, uses_anonymous_args = 0
 534:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t len, max_len;
 412              		.loc 1 534 1 is_stmt 0 view .LVU91
 413 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 414              	.LCFI3:
 415              		.cfi_def_cfa_offset 24
 416              		.cfi_offset 4, -24
 417              		.cfi_offset 5, -20
 418              		.cfi_offset 6, -16
 419              		.cfi_offset 7, -12
 420              		.cfi_offset 8, -8
 421              		.cfi_offset 14, -4
 422 0004 0546     		mov	r5, r0
 423 0006 0E46     		mov	r6, r1
 424 0008 1F46     		mov	r7, r3
 535:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
 425              		.loc 1 535 3 is_stmt 1 view .LVU92
 536:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("length != NULL", length != NULL);
 426              		.loc 1 536 3 view .LVU93
 537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = *length;
 427              		.loc 1 537 3 view .LVU94
 537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = *length;
 428              		.loc 1 537 3 view .LVU95
 429 000a 9046     		mov	r8, r2
 430 000c 7AB1     		cbz	r2, .L46
 431              	.LVL44:
 432              	.L33:
 537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = *length;
 433              		.loc 1 537 3 discriminator 3 view .LVU96
 537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = *length;
 434              		.loc 1 537 3 discriminator 3 view .LVU97
 538:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (len == 0) {
 435              		.loc 1 538 3 view .LVU98
 538:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (len == 0) {
 436              		.loc 1 538 7 is_stmt 0 view .LVU99
ARM GAS  C:\usertemp\ccrQXns0.s 			page 57


 437 000e B8F80030 		ldrh	r3, [r8]
 438              	.LVL45:
 539:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
 439              		.loc 1 539 3 is_stmt 1 view .LVU100
 539:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
 440              		.loc 1 539 6 is_stmt 0 view .LVU101
 441 0012 002B     		cmp	r3, #0
 442 0014 3AD0     		beq	.L41
 543:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (max_len < len) {
 443              		.loc 1 543 3 is_stmt 1 view .LVU102
 543:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (max_len < len) {
 444              		.loc 1 543 11 is_stmt 0 view .LVU103
 445 0016 B5F86420 		ldrh	r2, [r5, #100]
 446              	.LVL46:
 544:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = max_len;
 447              		.loc 1 544 3 is_stmt 1 view .LVU104
 544:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = max_len;
 448              		.loc 1 544 6 is_stmt 0 view .LVU105
 449 001a 9342     		cmp	r3, r2
 450 001c 00D8     		bhi	.L35
 538:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (len == 0) {
 451              		.loc 1 538 7 view .LVU106
 452 001e 1A46     		mov	r2, r3
 453              	.LVL47:
 454              	.L35:
 549:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (len > max_len) {
 455              		.loc 1 549 3 is_stmt 1 view .LVU107
 549:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (len > max_len) {
 456              		.loc 1 549 13 is_stmt 0 view .LVU108
 457 0020 6C8E     		ldrh	r4, [r5, #50]
 549:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (len > max_len) {
 458              		.loc 1 549 11 view .LVU109
 459 0022 6400     		lsls	r4, r4, #1
 460 0024 A4B2     		uxth	r4, r4
 461              	.LVL48:
 550:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = max_len;
 462              		.loc 1 550 3 is_stmt 1 view .LVU110
 550:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = max_len;
 463              		.loc 1 550 6 is_stmt 0 view .LVU111
 464 0026 A242     		cmp	r2, r4
 465 0028 12D8     		bhi	.L38
 466 002a 1446     		mov	r4, r2
 467              	.LVL49:
 550:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = max_len;
 468              		.loc 1 550 6 view .LVU112
 469 002c 10E0     		b	.L38
 470              	.LVL50:
 471              	.L46:
 537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = *length;
 472              		.loc 1 537 3 is_stmt 1 discriminator 1 view .LVU113
 537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = *length;
 473              		.loc 1 537 3 discriminator 1 view .LVU114
 474 002e 194B     		ldr	r3, .L47
 475              	.LVL51:
 537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = *length;
 476              		.loc 1 537 3 is_stmt 0 discriminator 1 view .LVU115
 477 0030 40F21922 		movw	r2, #537
ARM GAS  C:\usertemp\ccrQXns0.s 			page 58


 478              	.LVL52:
 537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = *length;
 479              		.loc 1 537 3 discriminator 1 view .LVU116
 480 0034 1849     		ldr	r1, .L47+4
 481              	.LVL53:
 537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = *length;
 482              		.loc 1 537 3 discriminator 1 view .LVU117
 483 0036 1948     		ldr	r0, .L47+8
 484              	.LVL54:
 537:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   len = *length;
 485              		.loc 1 537 3 discriminator 1 view .LVU118
 486 0038 FFF7FEFF 		bl	printf
 487              	.LVL55:
 488 003c E7E7     		b	.L33
 489              	.LVL56:
 490              	.L42:
 561:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else {
 491              		.loc 1 561 13 view .LVU119
 492 003e 0124     		movs	r4, #1
 493              	.LVL57:
 494              	.L37:
 566:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 495              		.loc 1 566 66 is_stmt 1 view .LVU120
 568:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 496              		.loc 1 568 29 view .LVU121
 568:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 497              		.loc 1 568 37 is_stmt 0 view .LVU122
 498 0040 012C     		cmp	r4, #1
 499 0042 94BF     		ite	ls
 500 0044 0022     		movls	r2, #0
 501 0046 0122     		movhi	r2, #1
 568:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 502              		.loc 1 568 29 view .LVU123
 503 0048 B0F1FF3F 		cmp	r0, #-1
 504 004c 16D1     		bne	.L44
 505 004e AAB1     		cbz	r2, .L44
 506              	.LVL58:
 507              	.L38:
 554:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("Trying to send %d bytes\n", len));
 508              		.loc 1 554 3 is_stmt 1 view .LVU124
 555:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err = altcp_write(pcb, ptr, len, apiflags);
 509              		.loc 1 555 82 view .LVU125
 556:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err == ERR_MEM) {
 510              		.loc 1 556 5 view .LVU126
 556:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err == ERR_MEM) {
 511              		.loc 1 556 11 is_stmt 0 view .LVU127
 512 0050 3B46     		mov	r3, r7
 513 0052 2246     		mov	r2, r4
 514 0054 3146     		mov	r1, r6
 515 0056 2846     		mov	r0, r5
 516 0058 FFF7FEFF 		bl	tcp_write
 517              	.LVL59:
 557:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if ((altcp_sndbuf(pcb) == 0) ||
 518              		.loc 1 557 5 is_stmt 1 view .LVU128
 557:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if ((altcp_sndbuf(pcb) == 0) ||
 519              		.loc 1 557 8 is_stmt 0 view .LVU129
 520 005c B0F1FF3F 		cmp	r0, #-1
ARM GAS  C:\usertemp\ccrQXns0.s 			page 59


 521 0060 EED1     		bne	.L37
 558:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           (altcp_sndqueuelen(pcb) >= TCP_SND_QUEUELEN)) {
 522              		.loc 1 558 7 is_stmt 1 view .LVU130
 558:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           (altcp_sndqueuelen(pcb) >= TCP_SND_QUEUELEN)) {
 523              		.loc 1 558 12 is_stmt 0 view .LVU131
 524 0062 B5F86430 		ldrh	r3, [r5, #100]
 558:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           (altcp_sndqueuelen(pcb) >= TCP_SND_QUEUELEN)) {
 525              		.loc 1 558 10 view .LVU132
 526 0066 002B     		cmp	r3, #0
 527 0068 E9D0     		beq	.L42
 559:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* no need to try smaller sizes */
 528              		.loc 1 559 12 view .LVU133
 529 006a B5F86630 		ldrh	r3, [r5, #102]
 558:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           (altcp_sndqueuelen(pcb) >= TCP_SND_QUEUELEN)) {
 530              		.loc 1 558 36 discriminator 1 view .LVU134
 531 006e 082B     		cmp	r3, #8
 532 0070 02D8     		bhi	.L43
 563:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 533              		.loc 1 563 9 is_stmt 1 view .LVU135
 563:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 534              		.loc 1 563 13 is_stmt 0 view .LVU136
 535 0072 C4F34F04 		ubfx	r4, r4, #1, #16
 536              	.LVL60:
 563:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 537              		.loc 1 563 13 view .LVU137
 538 0076 E3E7     		b	.L37
 539              	.L43:
 561:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else {
 540              		.loc 1 561 13 view .LVU138
 541 0078 0124     		movs	r4, #1
 542              	.LVL61:
 561:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else {
 543              		.loc 1 561 13 view .LVU139
 544 007a E1E7     		b	.L37
 545              	.LVL62:
 546              	.L44:
 570:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("Sent %d bytes\n", len));
 547              		.loc 1 570 3 is_stmt 1 view .LVU140
 570:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("Sent %d bytes\n", len));
 548              		.loc 1 570 6 is_stmt 0 view .LVU141
 549 007c 10B9     		cbnz	r0, .L40
 571:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     *length = len;
 550              		.loc 1 571 72 is_stmt 1 view .LVU142
 572:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
 551              		.loc 1 572 5 view .LVU143
 572:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
 552              		.loc 1 572 13 is_stmt 0 view .LVU144
 553 007e A8F80040 		strh	r4, [r8]	@ movhi
 554 0082 04E0     		b	.L34
 555              	.L40:
 574:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     *length = 0;
 556              		.loc 1 574 109 is_stmt 1 view .LVU145
 575:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 557              		.loc 1 575 5 view .LVU146
 575:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 558              		.loc 1 575 13 is_stmt 0 view .LVU147
 559 0084 0023     		movs	r3, #0
ARM GAS  C:\usertemp\ccrQXns0.s 			page 60


 560 0086 A8F80030 		strh	r3, [r8]	@ movhi
 561 008a 00E0     		b	.L34
 562              	.LVL63:
 563              	.L41:
 540:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 564              		.loc 1 540 12 view .LVU148
 565 008c 0020     		movs	r0, #0
 566              	.LVL64:
 567              	.L34:
 586:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 568              		.loc 1 586 1 view .LVU149
 569 008e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 570              	.LVL65:
 571              	.L48:
 586:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 572              		.loc 1 586 1 view .LVU150
 573 0092 00BF     		.align	2
 574              	.L47:
 575 0094 00000000 		.word	.LC0
 576 0098 00000000 		.word	.LC9
 577 009c 50000000 		.word	.LC2
 578              		.cfi_endproc
 579              	.LFE365:
 581              		.section	.rodata.http_send_data_ssi.str1.4,"aMS",%progbits,1
 582              		.align	2
 583              	.LC10:
 584 0000 7373692D 		.ascii	"ssi->tag_index <= 0xff\000"
 584      3E746167 
 584      5F696E64 
 584      6578203C 
 584      3D203078 
 585              		.section	.text.http_send_data_ssi,"ax",%progbits
 586              		.align	1
 587              		.syntax unified
 588              		.thumb
 589              		.thumb_func
 591              	http_send_data_ssi:
 592              	.LVL66:
 593              	.LFB373:
1220:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err = ERR_OK;
 594              		.loc 1 1220 1 is_stmt 1 view -0
 595              		.cfi_startproc
 596              		@ args = 0, pretend = 0, frame = 8
 597              		@ frame_needed = 0, uses_anonymous_args = 0
1220:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err = ERR_OK;
 598              		.loc 1 1220 1 is_stmt 0 view .LVU152
 599 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 600              	.LCFI4:
 601              		.cfi_def_cfa_offset 24
 602              		.cfi_offset 4, -24
 603              		.cfi_offset 5, -20
 604              		.cfi_offset 6, -16
 605              		.cfi_offset 7, -12
 606              		.cfi_offset 8, -8
 607              		.cfi_offset 14, -4
 608 0004 82B0     		sub	sp, sp, #8
 609              	.LCFI5:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 61


 610              		.cfi_def_cfa_offset 32
 611 0006 0746     		mov	r7, r0
 612 0008 0E46     		mov	r6, r1
1221:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t len;
 613              		.loc 1 1221 3 is_stmt 1 view .LVU153
 614              	.LVL67:
1222:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t data_to_send = 0;
 615              		.loc 1 1222 3 view .LVU154
1223:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t tag_type;
 616              		.loc 1 1223 3 view .LVU155
1224:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 617              		.loc 1 1224 3 view .LVU156
1226:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("ssi != NULL", ssi != NULL);
 618              		.loc 1 1226 3 view .LVU157
1226:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("ssi != NULL", ssi != NULL);
 619              		.loc 1 1226 26 is_stmt 0 view .LVU158
 620 000a CC6A     		ldr	r4, [r1, #44]
 621              	.LVL68:
1227:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We are processing an SHTML file so need to scan for tags and replace
 622              		.loc 1 1227 3 is_stmt 1 view .LVU159
1227:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We are processing an SHTML file so need to scan for tags and replace
 623              		.loc 1 1227 3 view .LVU160
 624 000c 7CB1     		cbz	r4, .L98
 625              	.LVL69:
 626              	.L50:
1227:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We are processing an SHTML file so need to scan for tags and replace
 627              		.loc 1 1227 3 discriminator 3 view .LVU161
1227:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We are processing an SHTML file so need to scan for tags and replace
 628              		.loc 1 1227 3 discriminator 3 view .LVU162
1234:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 629              		.loc 1 1234 3 view .LVU163
1234:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 630              		.loc 1 1234 9 is_stmt 0 view .LVU164
 631 000e B7F86430 		ldrh	r3, [r7, #100]
1234:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 632              		.loc 1 1234 7 view .LVU165
 633 0012 ADF80630 		strh	r3, [sp, #6]	@ movhi
1237:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = (u16_t)LWIP_MIN(ssi->parsed - hs->file, 0xffff);
 634              		.loc 1 1237 3 is_stmt 1 view .LVU166
1237:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = (u16_t)LWIP_MIN(ssi->parsed - hs->file, 0xffff);
 635              		.loc 1 1237 10 is_stmt 0 view .LVU167
 636 0016 2368     		ldr	r3, [r4]
1237:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = (u16_t)LWIP_MIN(ssi->parsed - hs->file, 0xffff);
 637              		.loc 1 1237 23 view .LVU168
 638 0018 B169     		ldr	r1, [r6, #24]
1237:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     len = (u16_t)LWIP_MIN(ssi->parsed - hs->file, 0xffff);
 639              		.loc 1 1237 6 view .LVU169
 640 001a 8B42     		cmp	r3, r1
 641 001c 40F29381 		bls	.L89
1238:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 642              		.loc 1 1238 5 is_stmt 1 view .LVU170
1238:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 643              		.loc 1 1238 18 is_stmt 0 view .LVU171
 644 0020 5B1A     		subs	r3, r3, r1
1238:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 645              		.loc 1 1238 11 view .LVU172
 646 0022 4FF6FE72 		movw	r2, #65534
ARM GAS  C:\usertemp\ccrQXns0.s 			page 62


 647 0026 9342     		cmp	r3, r2
 648 0028 09DC     		bgt	.L90
1238:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 649              		.loc 1 1238 11 discriminator 1 view .LVU173
 650 002a 9BB2     		uxth	r3, r3
 651 002c 09E0     		b	.L52
 652              	.LVL70:
 653              	.L98:
1227:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We are processing an SHTML file so need to scan for tags and replace
 654              		.loc 1 1227 3 is_stmt 1 discriminator 1 view .LVU174
1227:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We are processing an SHTML file so need to scan for tags and replace
 655              		.loc 1 1227 3 discriminator 1 view .LVU175
 656 002e 9C4B     		ldr	r3, .L106
 657 0030 40F2CB42 		movw	r2, #1227
 658 0034 9B49     		ldr	r1, .L106+4
 659              	.LVL71:
1227:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We are processing an SHTML file so need to scan for tags and replace
 660              		.loc 1 1227 3 is_stmt 0 discriminator 1 view .LVU176
 661 0036 9C48     		ldr	r0, .L106+8
 662              	.LVL72:
1227:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* We are processing an SHTML file so need to scan for tags and replace
 663              		.loc 1 1227 3 discriminator 1 view .LVU177
 664 0038 FFF7FEFF 		bl	printf
 665              	.LVL73:
 666 003c E7E7     		b	.L50
 667              	.L90:
1238:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 668              		.loc 1 1238 11 discriminator 2 view .LVU178
 669 003e 4FF6FF73 		movw	r3, #65535
 670              	.L52:
1238:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 671              		.loc 1 1238 9 discriminator 4 view .LVU179
 672 0042 ADF80630 		strh	r3, [sp, #6]	@ movhi
1240:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err == ERR_OK) {
 673              		.loc 1 1240 5 is_stmt 1 view .LVU180
1240:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err == ERR_OK) {
 674              		.loc 1 1240 11 is_stmt 0 view .LVU181
 675 0046 0023     		movs	r3, #0
 676 0048 0DF10602 		add	r2, sp, #6
 677 004c 3846     		mov	r0, r7
 678 004e FFF7FEFF 		bl	http_write
 679              	.LVL74:
1241:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       data_to_send = 1;
 680              		.loc 1 1241 5 is_stmt 1 view .LVU182
1241:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       data_to_send = 1;
 681              		.loc 1 1241 8 is_stmt 0 view .LVU183
 682 0052 0546     		mov	r5, r0
 683 0054 50B9     		cbnz	r0, .L91
1242:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->file += len;
 684              		.loc 1 1242 7 is_stmt 1 view .LVU184
 685              	.LVL75:
1243:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->left -= len;
 686              		.loc 1 1243 7 view .LVU185
1243:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->left -= len;
 687              		.loc 1 1243 9 is_stmt 0 view .LVU186
 688 0056 B369     		ldr	r3, [r6, #24]
1243:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->left -= len;
ARM GAS  C:\usertemp\ccrQXns0.s 			page 63


 689              		.loc 1 1243 16 view .LVU187
 690 0058 BDF80620 		ldrh	r2, [sp, #6]
 691 005c 1344     		add	r3, r3, r2
 692 005e B361     		str	r3, [r6, #24]
1244:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 693              		.loc 1 1244 7 is_stmt 1 view .LVU188
1244:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 694              		.loc 1 1244 9 is_stmt 0 view .LVU189
 695 0060 736A     		ldr	r3, [r6, #36]
1244:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 696              		.loc 1 1244 16 view .LVU190
 697 0062 9B1A     		subs	r3, r3, r2
 698 0064 7362     		str	r3, [r6, #36]
1242:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->file += len;
 699              		.loc 1 1242 20 view .LVU191
 700 0066 4FF00108 		mov	r8, #1
 701 006a 01E0     		b	.L53
 702              	.LVL76:
 703              	.L91:
1223:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t tag_type;
 704              		.loc 1 1223 8 view .LVU192
 705 006c 4FF00008 		mov	r8, #0
 706              	.LVL77:
 707              	.L53:
1248:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return data_to_send;
 708              		.loc 1 1248 5 is_stmt 1 view .LVU193
1248:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return data_to_send;
 709              		.loc 1 1248 9 is_stmt 0 view .LVU194
 710 0070 B7F86430 		ldrh	r3, [r7, #100]
1248:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return data_to_send;
 711              		.loc 1 1248 8 view .LVU195
 712 0074 73B9     		cbnz	r3, .L55
 713              	.LVL78:
 714              	.L54:
1549:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 715              		.loc 1 1549 1 view .LVU196
 716 0076 4046     		mov	r0, r8
 717 0078 02B0     		add	sp, sp, #8
 718              	.LCFI6:
 719              		.cfi_remember_state
 720              		.cfi_def_cfa_offset 24
 721              		@ sp needed
 722 007a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 723              	.LVL79:
 724              	.L99:
 725              	.LCFI7:
 726              		.cfi_restore_state
1269:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_state = TAG_LEADIN;
 727              		.loc 1 1269 13 is_stmt 1 view .LVU197
1269:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_state = TAG_LEADIN;
 728              		.loc 1 1269 27 is_stmt 0 view .LVU198
 729 007e 2374     		strb	r3, [r4, #16]
1270:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_index = 1;
 730              		.loc 1 1270 13 is_stmt 1 view .LVU199
1270:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_index = 1;
 731              		.loc 1 1270 28 is_stmt 0 view .LVU200
 732 0080 0123     		movs	r3, #1
ARM GAS  C:\usertemp\ccrQXns0.s 			page 64


 733              	.LVL80:
1270:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_index = 1;
 734              		.loc 1 1270 28 view .LVU201
 735 0082 84F8DC30 		strb	r3, [r4, #220]
1271:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   #if !LWIP_HTTPD_SSI_INCLUDE_TAG
 736              		.loc 1 1271 13 is_stmt 1 view .LVU202
1271:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   #if !LWIP_HTTPD_SSI_INCLUDE_TAG
 737              		.loc 1 1271 28 is_stmt 0 view .LVU203
 738 0086 A381     		strh	r3, [r4, #12]	@ movhi
1275:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
 739              		.loc 1 1275 13 is_stmt 1 view .LVU204
 740              	.LVL81:
 741              	.L63:
1280:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parsed++;
 742              		.loc 1 1280 9 view .LVU205
1280:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parsed++;
 743              		.loc 1 1280 12 is_stmt 0 view .LVU206
 744 0088 A368     		ldr	r3, [r4, #8]
1280:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parsed++;
 745              		.loc 1 1280 24 view .LVU207
 746 008a 013B     		subs	r3, r3, #1
 747 008c A360     		str	r3, [r4, #8]
1281:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
 748              		.loc 1 1281 9 is_stmt 1 view .LVU208
1281:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
 749              		.loc 1 1281 12 is_stmt 0 view .LVU209
 750 008e 2368     		ldr	r3, [r4]
1281:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
 751              		.loc 1 1281 20 view .LVU210
 752 0090 0133     		adds	r3, r3, #1
 753 0092 2360     		str	r3, [r4]
1282:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 754              		.loc 1 1282 9 is_stmt 1 view .LVU211
 755              	.LVL82:
 756              	.L55:
1257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (len == 0) {
 757              		.loc 1 1257 63 view .LVU212
1257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (len == 0) {
 758              		.loc 1 1257 15 is_stmt 0 view .LVU213
 759 0094 94F8DC30 		ldrb	r3, [r4, #220]	@ zero_extendqisi2
1257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (len == 0) {
 760              		.loc 1 1257 63 view .LVU214
 761 0098 042B     		cmp	r3, #4
 762 009a 03D0     		beq	.L85
1257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (len == 0) {
 763              		.loc 1 1257 49 discriminator 2 view .LVU215
 764 009c A268     		ldr	r2, [r4, #8]
1257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (len == 0) {
 765              		.loc 1 1257 43 discriminator 2 view .LVU216
 766 009e 002A     		cmp	r2, #0
 767 00a0 00F05581 		beq	.L86
 768              	.L85:
1257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (len == 0) {
 769              		.loc 1 1257 63 discriminator 3 view .LVU217
 770 00a4 002D     		cmp	r5, #0
 771 00a6 40F05281 		bne	.L86
1258:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return data_to_send;
ARM GAS  C:\usertemp\ccrQXns0.s 			page 65


 772              		.loc 1 1258 5 is_stmt 1 view .LVU218
1258:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return data_to_send;
 773              		.loc 1 1258 13 is_stmt 0 view .LVU219
 774 00aa BDF80620 		ldrh	r2, [sp, #6]
1258:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return data_to_send;
 775              		.loc 1 1258 8 view .LVU220
 776 00ae 002A     		cmp	r2, #0
 777 00b0 E1D0     		beq	.L54
1261:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       case TAG_NONE:
 778              		.loc 1 1261 5 is_stmt 1 view .LVU221
 779 00b2 042B     		cmp	r3, #4
 780 00b4 EED8     		bhi	.L55
 781 00b6 DFE813F0 		tbh	[pc, r3, lsl #1]
 782              	.L57:
 783 00ba 0500     		.2byte	(.L61-.L57)/2
 784 00bc 1200     		.2byte	(.L60-.L57)/2
 785 00be 2F00     		.2byte	(.L59-.L57)/2
 786 00c0 9100     		.2byte	(.L58-.L57)/2
 787 00c2 FF00     		.2byte	(.L56-.L57)/2
 788              		.p2align 1
 789              	.L61:
 790              	.LVL83:
1265:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (*ssi->parsed == http_ssi_tag_desc[tag_type].lead_in[0]) {
 791              		.loc 1 1265 37 discriminator 1 view .LVU222
 792 00c4 012B     		cmp	r3, #1
 793 00c6 DFD8     		bhi	.L63
1266:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We found what could be the lead-in for a new tag so change
 794              		.loc 1 1266 11 view .LVU223
1266:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We found what could be the lead-in for a new tag so change
 795              		.loc 1 1266 19 is_stmt 0 view .LVU224
 796 00c8 2268     		ldr	r2, [r4]
1266:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We found what could be the lead-in for a new tag so change
 797              		.loc 1 1266 15 view .LVU225
 798 00ca 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
1266:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We found what could be the lead-in for a new tag so change
 799              		.loc 1 1266 58 view .LVU226
 800 00cc 774A     		ldr	r2, .L106+12
 801 00ce 52F83320 		ldr	r2, [r2, r3, lsl #3]
1266:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We found what could be the lead-in for a new tag so change
 802              		.loc 1 1266 66 view .LVU227
 803 00d2 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
1266:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We found what could be the lead-in for a new tag so change
 804              		.loc 1 1266 14 view .LVU228
 805 00d4 9142     		cmp	r1, r2
 806 00d6 D2D0     		beq	.L99
1265:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (*ssi->parsed == http_ssi_tag_desc[tag_type].lead_in[0]) {
 807              		.loc 1 1265 82 is_stmt 1 discriminator 2 view .LVU229
 808 00d8 0133     		adds	r3, r3, #1
 809              	.LVL84:
1265:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (*ssi->parsed == http_ssi_tag_desc[tag_type].lead_in[0]) {
 810              		.loc 1 1265 82 is_stmt 0 discriminator 2 view .LVU230
 811 00da DBB2     		uxtb	r3, r3
 812              	.LVL85:
1265:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           if (*ssi->parsed == http_ssi_tag_desc[tag_type].lead_in[0]) {
 813              		.loc 1 1265 82 discriminator 2 view .LVU231
 814 00dc F2E7     		b	.L61
 815              	.LVL86:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 66


 816              	.L60:
1289:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_index = 0;
 817              		.loc 1 1289 9 is_stmt 1 view .LVU232
1289:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_index = 0;
 818              		.loc 1 1289 34 is_stmt 0 view .LVU233
 819 00de 227C     		ldrb	r2, [r4, #16]	@ zero_extendqisi2
1289:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_index = 0;
 820              		.loc 1 1289 45 view .LVU234
 821 00e0 724B     		ldr	r3, .L106+12
 822 00e2 53F83230 		ldr	r3, [r3, r2, lsl #3]
1289:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_index = 0;
 823              		.loc 1 1289 57 view .LVU235
 824 00e6 A189     		ldrh	r1, [r4, #12]
1289:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_index = 0;
 825              		.loc 1 1289 53 view .LVU236
 826 00e8 5A5C     		ldrb	r2, [r3, r1]	@ zero_extendqisi2
1289:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_index = 0;
 827              		.loc 1 1289 12 view .LVU237
 828 00ea 2AB9     		cbnz	r2, .L66
1290:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_state = TAG_FOUND;
 829              		.loc 1 1290 11 is_stmt 1 view .LVU238
1290:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_state = TAG_FOUND;
 830              		.loc 1 1290 26 is_stmt 0 view .LVU239
 831 00ec 0023     		movs	r3, #0
 832 00ee A381     		strh	r3, [r4, #12]	@ movhi
1291:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         } else {
 833              		.loc 1 1291 11 is_stmt 1 view .LVU240
1291:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         } else {
 834              		.loc 1 1291 26 is_stmt 0 view .LVU241
 835 00f0 0223     		movs	r3, #2
 836 00f2 84F8DC30 		strb	r3, [r4, #220]
 837 00f6 CDE7     		b	.L55
 838              	.L66:
1294:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* Yes - move to the next one unless we have found the complete
 839              		.loc 1 1294 11 is_stmt 1 view .LVU242
1294:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* Yes - move to the next one unless we have found the complete
 840              		.loc 1 1294 19 is_stmt 0 view .LVU243
 841 00f8 2368     		ldr	r3, [r4]
1294:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* Yes - move to the next one unless we have found the complete
 842              		.loc 1 1294 15 view .LVU244
 843 00fa 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
1294:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* Yes - move to the next one unless we have found the complete
 844              		.loc 1 1294 14 view .LVU245
 845 00fc 8242     		cmp	r2, r0
 846 00fe 08D0     		beq	.L100
1301:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
 847              		.loc 1 1301 13 is_stmt 1 view .LVU246
1301:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
 848              		.loc 1 1301 28 is_stmt 0 view .LVU247
 849 0100 0022     		movs	r2, #0
 850 0102 84F8DC20 		strb	r2, [r4, #220]
 851              	.L68:
1305:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 852              		.loc 1 1305 11 is_stmt 1 view .LVU248
1305:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 853              		.loc 1 1305 14 is_stmt 0 view .LVU249
 854 0106 A268     		ldr	r2, [r4, #8]
ARM GAS  C:\usertemp\ccrQXns0.s 			page 67


1305:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 855              		.loc 1 1305 26 view .LVU250
 856 0108 013A     		subs	r2, r2, #1
 857 010a A260     		str	r2, [r4, #8]
1306:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 858              		.loc 1 1306 11 is_stmt 1 view .LVU251
1306:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 859              		.loc 1 1306 22 is_stmt 0 view .LVU252
 860 010c 0133     		adds	r3, r3, #1
 861 010e 2360     		str	r3, [r4]
 862 0110 C0E7     		b	.L55
 863              	.L100:
1297:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
 864              		.loc 1 1297 13 is_stmt 1 view .LVU253
1297:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
 865              		.loc 1 1297 27 is_stmt 0 view .LVU254
 866 0112 0131     		adds	r1, r1, #1
 867 0114 A181     		strh	r1, [r4, #12]	@ movhi
 868 0116 F6E7     		b	.L68
 869              	.L59:
1316:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\t') || (*ssi->parsed == '\n') ||
 870              		.loc 1 1316 9 is_stmt 1 view .LVU255
1316:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\t') || (*ssi->parsed == '\n') ||
 871              		.loc 1 1316 17 is_stmt 0 view .LVU256
 872 0118 A189     		ldrh	r1, [r4, #12]
1316:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\t') || (*ssi->parsed == '\n') ||
 873              		.loc 1 1316 12 view .LVU257
 874 011a 89B9     		cbnz	r1, .L69
1316:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\t') || (*ssi->parsed == '\n') ||
 875              		.loc 1 1316 44 discriminator 1 view .LVU258
 876 011c 2368     		ldr	r3, [r4]
1316:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\t') || (*ssi->parsed == '\n') ||
 877              		.loc 1 1316 40 discriminator 1 view .LVU259
 878 011e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 879 0120 093A     		subs	r2, r2, #9
 880 0122 D2B2     		uxtb	r2, r2
 881 0124 172A     		cmp	r2, #23
 882 0126 0BD8     		bhi	.L69
 883 0128 6148     		ldr	r0, .L106+16
 884 012a 20FA02F2 		lsr	r2, r0, r2
 885 012e 12F0010F 		tst	r2, #1
 886 0132 05D0     		beq	.L69
1320:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 887              		.loc 1 1320 11 is_stmt 1 view .LVU260
1320:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 888              		.loc 1 1320 14 is_stmt 0 view .LVU261
 889 0134 A268     		ldr	r2, [r4, #8]
1320:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 890              		.loc 1 1320 26 view .LVU262
 891 0136 013A     		subs	r2, r2, #1
 892 0138 A260     		str	r2, [r4, #8]
1321:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           break;
 893              		.loc 1 1321 11 is_stmt 1 view .LVU263
1321:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           break;
 894              		.loc 1 1321 22 is_stmt 0 view .LVU264
 895 013a 0133     		adds	r3, r3, #1
 896 013c 2360     		str	r3, [r4]
ARM GAS  C:\usertemp\ccrQXns0.s 			page 68


1322:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 897              		.loc 1 1322 11 is_stmt 1 view .LVU265
 898 013e A9E7     		b	.L55
 899              	.L69:
1327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             (*ssi->parsed == ' ')  || (*ssi->parsed == '\t') ||
 900              		.loc 1 1327 9 view .LVU266
1327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             (*ssi->parsed == ' ')  || (*ssi->parsed == '\t') ||
 901              		.loc 1 1327 18 is_stmt 0 view .LVU267
 902 0140 2068     		ldr	r0, [r4]
1327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             (*ssi->parsed == ' ')  || (*ssi->parsed == '\t') ||
 903              		.loc 1 1327 14 view .LVU268
 904 0142 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             (*ssi->parsed == ' ')  || (*ssi->parsed == '\t') ||
 905              		.loc 1 1327 51 view .LVU269
 906 0144 94F810C0 		ldrb	ip, [r4, #16]	@ zero_extendqisi2
1327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             (*ssi->parsed == ' ')  || (*ssi->parsed == '\t') ||
 907              		.loc 1 1327 62 view .LVU270
 908 0148 584A     		ldr	r2, .L106+12
 909 014a 02EBCC02 		add	r2, r2, ip, lsl #3
 910 014e 5268     		ldr	r2, [r2, #4]
1327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             (*ssi->parsed == ' ')  || (*ssi->parsed == '\t') ||
 911              		.loc 1 1327 71 view .LVU271
 912 0150 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
1327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             (*ssi->parsed == ' ')  || (*ssi->parsed == '\t') ||
 913              		.loc 1 1327 12 view .LVU272
 914 0152 9342     		cmp	r3, r2
 915 0154 09D0     		beq	.L70
 916 0156 093B     		subs	r3, r3, #9
 917 0158 DBB2     		uxtb	r3, r3
 918 015a 172B     		cmp	r3, #23
 919 015c 32D8     		bhi	.L71
 920 015e 544A     		ldr	r2, .L106+16
 921 0160 22FA03F3 		lsr	r3, r2, r3
 922 0164 13F0010F 		tst	r3, #1
 923 0168 2CD0     		beq	.L71
 924              	.L70:
1331:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We read a zero length tag so ignore it. */
 925              		.loc 1 1331 11 is_stmt 1 view .LVU273
1331:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We read a zero length tag so ignore it. */
 926              		.loc 1 1331 14 is_stmt 0 view .LVU274
 927 016a 49B9     		cbnz	r1, .L72
1333:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
 928              		.loc 1 1333 13 is_stmt 1 view .LVU275
1333:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
 929              		.loc 1 1333 28 is_stmt 0 view .LVU276
 930 016c 0023     		movs	r3, #0
 931 016e 84F8DC30 		strb	r3, [r4, #220]
 932              	.L73:
1358:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parsed++;
 933              		.loc 1 1358 9 is_stmt 1 view .LVU277
1358:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parsed++;
 934              		.loc 1 1358 12 is_stmt 0 view .LVU278
 935 0172 A368     		ldr	r3, [r4, #8]
1358:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parsed++;
 936              		.loc 1 1358 24 view .LVU279
 937 0174 013B     		subs	r3, r3, #1
 938 0176 A360     		str	r3, [r4, #8]
ARM GAS  C:\usertemp\ccrQXns0.s 			page 69


1359:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 939              		.loc 1 1359 9 is_stmt 1 view .LVU280
1359:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 940              		.loc 1 1359 12 is_stmt 0 view .LVU281
 941 0178 2368     		ldr	r3, [r4]
1359:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 942              		.loc 1 1359 20 view .LVU282
 943 017a 0133     		adds	r3, r3, #1
 944 017c 2360     		str	r3, [r4]
1361:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 945              		.loc 1 1361 9 is_stmt 1 view .LVU283
 946 017e 89E7     		b	.L55
 947              	.L72:
1337:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             LWIP_ASSERT("ssi->tag_index <= 0xff", ssi->tag_index <= 0xff);
 948              		.loc 1 1337 13 view .LVU284
1337:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             LWIP_ASSERT("ssi->tag_index <= 0xff", ssi->tag_index <= 0xff);
 949              		.loc 1 1337 28 is_stmt 0 view .LVU285
 950 0180 0323     		movs	r3, #3
 951 0182 84F8DC30 		strb	r3, [r4, #220]
1338:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name_len = (u8_t)ssi->tag_index;
 952              		.loc 1 1338 13 is_stmt 1 view .LVU286
1338:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name_len = (u8_t)ssi->tag_index;
 953              		.loc 1 1338 13 view .LVU287
 954 0186 FF29     		cmp	r1, #255
 955 0188 11D8     		bhi	.L101
 956              	.L74:
1338:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name_len = (u8_t)ssi->tag_index;
 957              		.loc 1 1338 13 discriminator 3 view .LVU288
1338:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name_len = (u8_t)ssi->tag_index;
 958              		.loc 1 1338 13 discriminator 3 view .LVU289
1339:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name[ssi->tag_index] = '\0';
 959              		.loc 1 1339 13 view .LVU290
1339:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name[ssi->tag_index] = '\0';
 960              		.loc 1 1339 42 is_stmt 0 view .LVU291
 961 018a A389     		ldrh	r3, [r4, #12]
1339:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name[ssi->tag_index] = '\0';
 962              		.loc 1 1339 31 view .LVU292
 963 018c 6374     		strb	r3, [r4, #17]
1340:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             if (*ssi->parsed == http_ssi_tag_desc[ssi->tag_type].lead_out[0]) {
 964              		.loc 1 1340 13 is_stmt 1 view .LVU293
1340:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             if (*ssi->parsed == http_ssi_tag_desc[ssi->tag_type].lead_out[0]) {
 965              		.loc 1 1340 43 is_stmt 0 view .LVU294
 966 018e 2344     		add	r3, r3, r4
 967 0190 0022     		movs	r2, #0
 968 0192 9A74     		strb	r2, [r3, #18]
1341:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index = 1;
 969              		.loc 1 1341 13 is_stmt 1 view .LVU295
1341:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index = 1;
 970              		.loc 1 1341 21 is_stmt 0 view .LVU296
 971 0194 2368     		ldr	r3, [r4]
1341:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index = 1;
 972              		.loc 1 1341 17 view .LVU297
 973 0196 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
1341:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index = 1;
 974              		.loc 1 1341 54 view .LVU298
 975 0198 217C     		ldrb	r1, [r4, #16]	@ zero_extendqisi2
1341:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index = 1;
ARM GAS  C:\usertemp\ccrQXns0.s 			page 70


 976              		.loc 1 1341 65 view .LVU299
 977 019a 444B     		ldr	r3, .L106+12
 978 019c 03EBC103 		add	r3, r3, r1, lsl #3
 979 01a0 5B68     		ldr	r3, [r3, #4]
1341:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index = 1;
 980              		.loc 1 1341 74 view .LVU300
 981 01a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1341:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index = 1;
 982              		.loc 1 1341 16 view .LVU301
 983 01a4 9A42     		cmp	r2, r3
 984 01a6 0AD0     		beq	.L102
1344:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             }
 985              		.loc 1 1344 15 is_stmt 1 view .LVU302
1344:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             }
 986              		.loc 1 1344 30 is_stmt 0 view .LVU303
 987 01a8 0023     		movs	r3, #0
 988 01aa A381     		strh	r3, [r4, #12]	@ movhi
 989 01ac E1E7     		b	.L73
 990              	.L101:
1338:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name_len = (u8_t)ssi->tag_index;
 991              		.loc 1 1338 13 is_stmt 1 discriminator 1 view .LVU304
1338:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name_len = (u8_t)ssi->tag_index;
 992              		.loc 1 1338 13 discriminator 1 view .LVU305
 993 01ae 3C4B     		ldr	r3, .L106
 994 01b0 40F23A52 		movw	r2, #1338
 995 01b4 3F49     		ldr	r1, .L106+20
 996 01b6 3C48     		ldr	r0, .L106+8
 997 01b8 FFF7FEFF 		bl	printf
 998              	.LVL87:
 999 01bc E5E7     		b	.L74
 1000              	.L102:
1342:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             } else {
 1001              		.loc 1 1342 15 view .LVU306
1342:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             } else {
 1002              		.loc 1 1342 30 is_stmt 0 view .LVU307
 1003 01be 0123     		movs	r3, #1
 1004 01c0 A381     		strh	r3, [r4, #12]	@ movhi
 1005 01c2 D6E7     		b	.L73
 1006              	.L71:
1349:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name[ssi->tag_index++] = *ssi->parsed;
 1007              		.loc 1 1349 11 is_stmt 1 view .LVU308
1349:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_name[ssi->tag_index++] = *ssi->parsed;
 1008              		.loc 1 1349 14 is_stmt 0 view .LVU309
 1009 01c4 0729     		cmp	r1, #7
 1010 01c6 05D8     		bhi	.L76
1350:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
 1011              		.loc 1 1350 13 is_stmt 1 view .LVU310
1350:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
 1012              		.loc 1 1350 41 is_stmt 0 view .LVU311
 1013 01c8 4B1C     		adds	r3, r1, #1
 1014 01ca A381     		strh	r3, [r4, #12]	@ movhi
1350:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
 1015              		.loc 1 1350 47 view .LVU312
 1016 01cc 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
1350:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
 1017              		.loc 1 1350 45 view .LVU313
 1018 01ce 6318     		adds	r3, r4, r1
ARM GAS  C:\usertemp\ccrQXns0.s 			page 71


 1019 01d0 9A74     		strb	r2, [r3, #18]
 1020 01d2 CEE7     		b	.L73
 1021              	.L76:
1353:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
 1022              		.loc 1 1353 13 is_stmt 1 view .LVU314
1353:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
 1023              		.loc 1 1353 28 is_stmt 0 view .LVU315
 1024 01d4 0023     		movs	r3, #0
 1025 01d6 84F8DC30 		strb	r3, [r4, #220]
 1026 01da CAE7     		b	.L73
 1027              	.L58:
1367:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\t') || (*ssi->parsed == '\n') ||
 1028              		.loc 1 1367 9 is_stmt 1 view .LVU316
1367:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\t') || (*ssi->parsed == '\n') ||
 1029              		.loc 1 1367 17 is_stmt 0 view .LVU317
 1030 01dc A389     		ldrh	r3, [r4, #12]
1367:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\t') || (*ssi->parsed == '\n') ||
 1031              		.loc 1 1367 12 view .LVU318
 1032 01de 8BB9     		cbnz	r3, .L77
1367:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\t') || (*ssi->parsed == '\n') ||
 1033              		.loc 1 1367 44 discriminator 1 view .LVU319
 1034 01e0 2168     		ldr	r1, [r4]
1367:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                       (*ssi->parsed == '\t') || (*ssi->parsed == '\n') ||
 1035              		.loc 1 1367 40 discriminator 1 view .LVU320
 1036 01e2 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1037 01e4 093A     		subs	r2, r2, #9
 1038 01e6 D2B2     		uxtb	r2, r2
 1039 01e8 172A     		cmp	r2, #23
 1040 01ea 0BD8     		bhi	.L77
 1041 01ec 3048     		ldr	r0, .L106+16
 1042 01ee 20FA02F2 		lsr	r2, r0, r2
 1043 01f2 12F0010F 		tst	r2, #1
 1044 01f6 05D0     		beq	.L77
1371:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 1045              		.loc 1 1371 11 is_stmt 1 view .LVU321
1371:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 1046              		.loc 1 1371 14 is_stmt 0 view .LVU322
 1047 01f8 A368     		ldr	r3, [r4, #8]
1371:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 1048              		.loc 1 1371 26 view .LVU323
 1049 01fa 013B     		subs	r3, r3, #1
 1050 01fc A360     		str	r3, [r4, #8]
1372:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           break;
 1051              		.loc 1 1372 11 is_stmt 1 view .LVU324
1372:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           break;
 1052              		.loc 1 1372 22 is_stmt 0 view .LVU325
 1053 01fe 0131     		adds	r1, r1, #1
 1054 0200 2160     		str	r1, [r4]
1373:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 1055              		.loc 1 1373 11 is_stmt 1 view .LVU326
 1056 0202 47E7     		b	.L55
 1057              	.L77:
1377:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Yes - move to the next one unless we have found the complete
 1058              		.loc 1 1377 9 view .LVU327
1377:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Yes - move to the next one unless we have found the complete
 1059              		.loc 1 1377 17 is_stmt 0 view .LVU328
 1060 0204 2268     		ldr	r2, [r4]
ARM GAS  C:\usertemp\ccrQXns0.s 			page 72


1377:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Yes - move to the next one unless we have found the complete
 1061              		.loc 1 1377 13 view .LVU329
 1062 0206 92F800C0 		ldrb	ip, [r2]	@ zero_extendqisi2
1377:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Yes - move to the next one unless we have found the complete
 1063              		.loc 1 1377 50 view .LVU330
 1064 020a 207C     		ldrb	r0, [r4, #16]	@ zero_extendqisi2
1377:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Yes - move to the next one unless we have found the complete
 1065              		.loc 1 1377 61 view .LVU331
 1066 020c 2749     		ldr	r1, .L106+12
 1067 020e 01EBC001 		add	r1, r1, r0, lsl #3
 1068 0212 4968     		ldr	r1, [r1, #4]
1377:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Yes - move to the next one unless we have found the complete
 1069              		.loc 1 1377 70 view .LVU332
 1070 0214 C85C     		ldrb	r0, [r1, r3]	@ zero_extendqisi2
1377:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* Yes - move to the next one unless we have found the complete
 1071              		.loc 1 1377 12 view .LVU333
 1072 0216 8445     		cmp	ip, r0
 1073 0218 08D0     		beq	.L103
1433:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 1074              		.loc 1 1433 11 is_stmt 1 view .LVU334
1433:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 1075              		.loc 1 1433 14 is_stmt 0 view .LVU335
 1076 021a A368     		ldr	r3, [r4, #8]
1433:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 1077              		.loc 1 1433 26 view .LVU336
 1078 021c 013B     		subs	r3, r3, #1
 1079 021e A360     		str	r3, [r4, #8]
1434:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_state = TAG_NONE;
 1080              		.loc 1 1434 11 is_stmt 1 view .LVU337
1434:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_state = TAG_NONE;
 1081              		.loc 1 1434 22 is_stmt 0 view .LVU338
 1082 0220 0132     		adds	r2, r2, #1
 1083 0222 2260     		str	r2, [r4]
1435:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 1084              		.loc 1 1435 11 is_stmt 1 view .LVU339
1435:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 1085              		.loc 1 1435 26 is_stmt 0 view .LVU340
 1086 0224 0023     		movs	r3, #0
 1087 0226 84F8DC30 		strb	r3, [r4, #220]
 1088 022a 33E7     		b	.L55
 1089              	.L103:
1383:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 1090              		.loc 1 1383 11 is_stmt 1 view .LVU341
1383:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 1091              		.loc 1 1383 14 is_stmt 0 view .LVU342
 1092 022c A068     		ldr	r0, [r4, #8]
1383:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->parsed++;
 1093              		.loc 1 1383 26 view .LVU343
 1094 022e 0138     		subs	r0, r0, #1
 1095 0230 A060     		str	r0, [r4, #8]
1384:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_index++;
 1096              		.loc 1 1384 11 is_stmt 1 view .LVU344
1384:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           ssi->tag_index++;
 1097              		.loc 1 1384 22 is_stmt 0 view .LVU345
 1098 0232 0132     		adds	r2, r2, #1
 1099 0234 2260     		str	r2, [r4]
1385:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
ARM GAS  C:\usertemp\ccrQXns0.s 			page 73


 1100              		.loc 1 1385 11 is_stmt 1 view .LVU346
1385:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1101              		.loc 1 1385 25 is_stmt 0 view .LVU347
 1102 0236 0133     		adds	r3, r3, #1
 1103 0238 9BB2     		uxth	r3, r3
 1104 023a A381     		strh	r3, [r4, #12]	@ movhi
1387:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* Call the client to ask for the insert string for the
 1105              		.loc 1 1387 11 is_stmt 1 view .LVU348
1387:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* Call the client to ask for the insert string for the
 1106              		.loc 1 1387 56 is_stmt 0 view .LVU349
 1107 023c CB5C     		ldrb	r3, [r1, r3]	@ zero_extendqisi2
1387:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* Call the client to ask for the insert string for the
 1108              		.loc 1 1387 14 view .LVU350
 1109 023e 002B     		cmp	r3, #0
 1110 0240 7FF428AF 		bne	.L55
1393:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1111              		.loc 1 1393 13 is_stmt 1 view .LVU351
 1112 0244 3046     		mov	r0, r6
 1113 0246 FFF7FEFF 		bl	get_tag_insert
 1114              	.LVL88:
1398:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_state = TAG_SENDING;
 1115              		.loc 1 1398 13 view .LVU352
1398:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_state = TAG_SENDING;
 1116              		.loc 1 1398 28 is_stmt 0 view .LVU353
 1117 024a 0023     		movs	r3, #0
 1118 024c A381     		strh	r3, [r4, #12]	@ movhi
1399:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_end = ssi->parsed;
 1119              		.loc 1 1399 13 is_stmt 1 view .LVU354
1399:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             ssi->tag_end = ssi->parsed;
 1120              		.loc 1 1399 28 is_stmt 0 view .LVU355
 1121 024e 0423     		movs	r3, #4
 1122 0250 84F8DC30 		strb	r3, [r4, #220]
1400:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
 1123              		.loc 1 1400 13 is_stmt 1 view .LVU356
1400:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
 1124              		.loc 1 1400 31 is_stmt 0 view .LVU357
 1125 0254 2368     		ldr	r3, [r4]
1400:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
 1126              		.loc 1 1400 26 view .LVU358
 1127 0256 6360     		str	r3, [r4, #4]
1407:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* How much of the data can we send? */
 1128              		.loc 1 1407 13 is_stmt 1 view .LVU359
1407:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* How much of the data can we send? */
 1129              		.loc 1 1407 34 is_stmt 0 view .LVU360
 1130 0258 B169     		ldr	r1, [r6, #24]
1407:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* How much of the data can we send? */
 1131              		.loc 1 1407 16 view .LVU361
 1132 025a 8B42     		cmp	r3, r1
 1133 025c 7FF61AAF 		bls	.L55
1410:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
 1134              		.loc 1 1410 15 is_stmt 1 view .LVU362
1410:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
 1135              		.loc 1 1410 28 is_stmt 0 view .LVU363
 1136 0260 5B1A     		subs	r3, r3, r1
1410:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
 1137              		.loc 1 1410 21 view .LVU364
 1138 0262 4FF6FE72 		movw	r2, #65534
ARM GAS  C:\usertemp\ccrQXns0.s 			page 74


 1139 0266 9342     		cmp	r3, r2
 1140 0268 01DC     		bgt	.L92
1410:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
 1141              		.loc 1 1410 21 discriminator 1 view .LVU365
 1142 026a 9BB2     		uxth	r3, r3
 1143 026c 01E0     		b	.L79
 1144              	.L92:
1410:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
 1145              		.loc 1 1410 21 discriminator 2 view .LVU366
 1146 026e 4FF6FF73 		movw	r3, #65535
 1147              	.L79:
1410:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
 1148              		.loc 1 1410 19 discriminator 4 view .LVU367
 1149 0272 ADF80630 		strh	r3, [sp, #6]	@ movhi
1416:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               if (err == ERR_OK) {
 1150              		.loc 1 1416 15 is_stmt 1 view .LVU368
1416:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               if (err == ERR_OK) {
 1151              		.loc 1 1416 21 is_stmt 0 view .LVU369
 1152 0276 0023     		movs	r3, #0
 1153 0278 0DF10602 		add	r2, sp, #6
 1154 027c 3846     		mov	r0, r7
 1155 027e FFF7FEFF 		bl	http_write
 1156              	.LVL89:
1417:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 data_to_send = 1;
 1157              		.loc 1 1417 15 is_stmt 1 view .LVU370
1417:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 data_to_send = 1;
 1158              		.loc 1 1417 18 is_stmt 0 view .LVU371
 1159 0282 0546     		mov	r5, r0
 1160 0284 0028     		cmp	r0, #0
 1161 0286 7FF405AF 		bne	.L55
1418:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
 1162              		.loc 1 1418 17 is_stmt 1 view .LVU372
 1163              	.LVL90:
1425:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 hs->left -= len;
 1164              		.loc 1 1425 17 view .LVU373
1425:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 hs->left -= len;
 1165              		.loc 1 1425 19 is_stmt 0 view .LVU374
 1166 028a B369     		ldr	r3, [r6, #24]
1425:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 hs->left -= len;
 1167              		.loc 1 1425 26 view .LVU375
 1168 028c BDF80620 		ldrh	r2, [sp, #6]
 1169 0290 1344     		add	r3, r3, r2
 1170 0292 B361     		str	r3, [r6, #24]
1426:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               }
 1171              		.loc 1 1426 17 is_stmt 1 view .LVU376
1426:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               }
 1172              		.loc 1 1426 19 is_stmt 0 view .LVU377
 1173 0294 736A     		ldr	r3, [r6, #36]
1426:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               }
 1174              		.loc 1 1426 26 view .LVU378
 1175 0296 9B1A     		subs	r3, r3, r2
 1176 0298 7362     		str	r3, [r6, #36]
1418:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
 1177              		.loc 1 1418 30 view .LVU379
 1178 029a 4FF00108 		mov	r8, #1
 1179 029e F9E6     		b	.L55
 1180              	.L107:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 75


 1181              		.align	2
 1182              	.L106:
 1183 02a0 00000000 		.word	.LC0
 1184 02a4 0C000000 		.word	.LC5
 1185 02a8 50000000 		.word	.LC2
 1186 02ac 00000000 		.word	http_ssi_tag_desc
 1187 02b0 13008000 		.word	8388627
 1188 02b4 00000000 		.word	.LC10
 1189              	.LVL91:
 1190              	.L56:
1447:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* How much of the data can we send? */
 1191              		.loc 1 1447 9 is_stmt 1 view .LVU380
1447:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* How much of the data can we send? */
 1192              		.loc 1 1447 16 is_stmt 0 view .LVU381
 1193 02b8 6368     		ldr	r3, [r4, #4]
1447:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* How much of the data can we send? */
 1194              		.loc 1 1447 30 view .LVU382
 1195 02ba B169     		ldr	r1, [r6, #24]
1447:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /* How much of the data can we send? */
 1196              		.loc 1 1447 12 view .LVU383
 1197 02bc 8B42     		cmp	r3, r1
 1198 02be 21D9     		bls	.L80
1450:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
 1199              		.loc 1 1450 11 is_stmt 1 view .LVU384
1450:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
 1200              		.loc 1 1450 24 is_stmt 0 view .LVU385
 1201 02c0 5B1A     		subs	r3, r3, r1
1450:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
 1202              		.loc 1 1450 17 view .LVU386
 1203 02c2 4FF6FE72 		movw	r2, #65534
 1204 02c6 9342     		cmp	r3, r2
 1205 02c8 0EDC     		bgt	.L93
1450:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
 1206              		.loc 1 1450 17 discriminator 1 view .LVU387
 1207 02ca 9BB2     		uxth	r3, r3
 1208              	.L81:
1450:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
 1209              		.loc 1 1450 15 discriminator 4 view .LVU388
 1210 02cc ADF80630 		strh	r3, [sp, #6]	@ movhi
1456:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             err = http_write(pcb, hs->file, &len, HTTP_IS_DATA_VOLATILE(hs));
 1211              		.loc 1 1456 11 is_stmt 1 view .LVU389
1456:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             err = http_write(pcb, hs->file, &len, HTTP_IS_DATA_VOLATILE(hs));
 1212              		.loc 1 1456 14 is_stmt 0 view .LVU390
 1213 02d0 6BB9     		cbnz	r3, .L104
 1214              	.LVL92:
 1215              	.L82:
1462:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
 1216              		.loc 1 1462 13 is_stmt 1 view .LVU391
1469:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             hs->left -= len;
 1217              		.loc 1 1469 13 view .LVU392
1469:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             hs->left -= len;
 1218              		.loc 1 1469 15 is_stmt 0 view .LVU393
 1219 02d2 B369     		ldr	r3, [r6, #24]
1469:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             hs->left -= len;
 1220              		.loc 1 1469 22 view .LVU394
 1221 02d4 BDF80620 		ldrh	r2, [sp, #6]
 1222 02d8 1344     		add	r3, r3, r2
ARM GAS  C:\usertemp\ccrQXns0.s 			page 76


 1223 02da B361     		str	r3, [r6, #24]
1470:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
 1224              		.loc 1 1470 13 is_stmt 1 view .LVU395
1470:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
 1225              		.loc 1 1470 15 is_stmt 0 view .LVU396
 1226 02dc 736A     		ldr	r3, [r6, #36]
1470:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
 1227              		.loc 1 1470 22 view .LVU397
 1228 02de 9B1A     		subs	r3, r3, r2
 1229 02e0 7362     		str	r3, [r6, #36]
1462:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
 1230              		.loc 1 1462 26 view .LVU398
 1231 02e2 4FF00108 		mov	r8, #1
 1232 02e6 D5E6     		b	.L55
 1233              	.LVL93:
 1234              	.L93:
1450:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_INCLUDE_TAG*/
 1235              		.loc 1 1450 17 discriminator 2 view .LVU399
 1236 02e8 4FF6FF73 		movw	r3, #65535
 1237 02ec EEE7     		b	.L81
 1238              	.L104:
1457:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
 1239              		.loc 1 1457 13 is_stmt 1 view .LVU400
1457:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           } else {
 1240              		.loc 1 1457 19 is_stmt 0 view .LVU401
 1241 02ee 0023     		movs	r3, #0
 1242 02f0 0DF10602 		add	r2, sp, #6
 1243 02f4 3846     		mov	r0, r7
 1244 02f6 FFF7FEFF 		bl	http_write
 1245              	.LVL94:
1461:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             data_to_send = 1;
 1246              		.loc 1 1461 11 is_stmt 1 view .LVU402
1461:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             data_to_send = 1;
 1247              		.loc 1 1461 14 is_stmt 0 view .LVU403
 1248 02fa 0546     		mov	r5, r0
 1249 02fc 0028     		cmp	r0, #0
 1250 02fe 7FF4C9AE 		bne	.L55
 1251 0302 E6E7     		b	.L82
 1252              	.LVL95:
 1253              	.L80:
1485:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We are sending the insert string itself. How much of the
 1254              		.loc 1 1485 11 is_stmt 1 view .LVU404
1485:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We are sending the insert string itself. How much of the
 1255              		.loc 1 1485 18 is_stmt 0 view .LVU405
 1256 0304 A389     		ldrh	r3, [r4, #12]
1485:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We are sending the insert string itself. How much of the
 1257              		.loc 1 1485 35 view .LVU406
 1258 0306 E289     		ldrh	r2, [r4, #14]
1485:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****             /* We are sending the insert string itself. How much of the
 1259              		.loc 1 1485 14 view .LVU407
 1260 0308 9342     		cmp	r3, r2
 1261 030a 04D3     		bcc	.L105
1508:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index = 0;
 1262              		.loc 1 1508 63 is_stmt 1 view .LVU408
1509:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_state = TAG_NONE;
 1263              		.loc 1 1509 15 view .LVU409
1509:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_state = TAG_NONE;
ARM GAS  C:\usertemp\ccrQXns0.s 			page 77


 1264              		.loc 1 1509 30 is_stmt 0 view .LVU410
 1265 030c 0023     		movs	r3, #0
 1266 030e A381     		strh	r3, [r4, #12]	@ movhi
1510:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
 1267              		.loc 1 1510 15 is_stmt 1 view .LVU411
1510:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SSI_INCLUDE_TAG
 1268              		.loc 1 1510 30 is_stmt 0 view .LVU412
 1269 0310 84F8DC30 		strb	r3, [r4, #220]
 1270 0314 BEE6     		b	.L55
 1271              	.L105:
1488:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1272              		.loc 1 1488 13 is_stmt 1 view .LVU413
1488:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1273              		.loc 1 1488 40 is_stmt 0 view .LVU414
 1274 0316 D21A     		subs	r2, r2, r3
1488:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1275              		.loc 1 1488 17 view .LVU415
 1276 0318 ADF80620 		strh	r2, [sp, #6]	@ movhi
1494:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                              HTTP_IS_TAG_VOLATILE(hs));
 1277              		.loc 1 1494 13 is_stmt 1 view .LVU416
1494:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                              HTTP_IS_TAG_VOLATILE(hs));
 1278              		.loc 1 1494 35 is_stmt 0 view .LVU417
 1279 031c 1833     		adds	r3, r3, #24
 1280 031e E118     		adds	r1, r4, r3
1494:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                              HTTP_IS_TAG_VOLATILE(hs));
 1281              		.loc 1 1494 19 view .LVU418
 1282 0320 0123     		movs	r3, #1
 1283 0322 0DF10602 		add	r2, sp, #6
 1284 0326 0331     		adds	r1, r1, #3
 1285 0328 3846     		mov	r0, r7
 1286 032a FFF7FEFF 		bl	http_write
 1287              	.LVL96:
1496:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               data_to_send = 1;
 1288              		.loc 1 1496 13 is_stmt 1 view .LVU419
1496:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               data_to_send = 1;
 1289              		.loc 1 1496 16 is_stmt 0 view .LVU420
 1290 032e 0546     		mov	r5, r0
 1291 0330 0028     		cmp	r0, #0
 1292 0332 7FF4AFAE 		bne	.L55
1497:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index += len;
 1293              		.loc 1 1497 15 is_stmt 1 view .LVU421
 1294              	.LVL97:
1498:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* Don't return here: keep on sending data */
 1295              		.loc 1 1498 15 view .LVU422
1498:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* Don't return here: keep on sending data */
 1296              		.loc 1 1498 18 is_stmt 0 view .LVU423
 1297 0336 A389     		ldrh	r3, [r4, #12]
1498:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               /* Don't return here: keep on sending data */
 1298              		.loc 1 1498 30 view .LVU424
 1299 0338 BDF80620 		ldrh	r2, [sp, #6]
 1300 033c 1344     		add	r3, r3, r2
 1301 033e A381     		strh	r3, [r4, #12]	@ movhi
1497:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****               ssi->tag_index += len;
 1302              		.loc 1 1497 28 view .LVU425
 1303 0340 4FF00108 		mov	r8, #1
 1304 0344 A6E6     		b	.L55
 1305              	.LVL98:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 78


 1306              	.L89:
1223:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t tag_type;
 1307              		.loc 1 1223 8 view .LVU426
 1308 0346 4FF00008 		mov	r8, #0
1221:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t len;
 1309              		.loc 1 1221 9 view .LVU427
 1310 034a 4546     		mov	r5, r8
 1311 034c A2E6     		b	.L55
 1312              	.LVL99:
 1313              	.L86:
1526:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_FILE_READ && !LWIP_HTTPD_SSI_INCLUDE_TAG
 1314              		.loc 1 1526 3 is_stmt 1 view .LVU428
1526:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_FILE_READ && !LWIP_HTTPD_SSI_INCLUDE_TAG
 1315              		.loc 1 1526 6 is_stmt 0 view .LVU429
 1316 034e 042B     		cmp	r3, #4
 1317 0350 3FF491AE 		beq	.L54
1526:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_FILE_READ && !LWIP_HTTPD_SSI_INCLUDE_TAG
 1318              		.loc 1 1526 46 discriminator 1 view .LVU430
 1319 0354 2368     		ldr	r3, [r4]
1526:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_FILE_READ && !LWIP_HTTPD_SSI_INCLUDE_TAG
 1320              		.loc 1 1526 59 discriminator 1 view .LVU431
 1321 0356 B169     		ldr	r1, [r6, #24]
1526:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_FILE_READ && !LWIP_HTTPD_SSI_INCLUDE_TAG
 1322              		.loc 1 1526 39 discriminator 1 view .LVU432
 1323 0358 8B42     		cmp	r3, r1
 1324 035a 7FF68CAE 		bls	.L54
1538:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 1325              		.loc 1 1538 7 is_stmt 1 view .LVU433
1538:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 1326              		.loc 1 1538 20 is_stmt 0 view .LVU434
 1327 035e 5B1A     		subs	r3, r3, r1
1538:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 1328              		.loc 1 1538 13 view .LVU435
 1329 0360 4FF6FE72 		movw	r2, #65534
 1330 0364 9342     		cmp	r3, r2
 1331 0366 01DC     		bgt	.L94
1538:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 1332              		.loc 1 1538 13 discriminator 1 view .LVU436
 1333 0368 9BB2     		uxth	r3, r3
 1334 036a 01E0     		b	.L88
 1335              	.L94:
1538:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 1336              		.loc 1 1538 13 discriminator 2 view .LVU437
 1337 036c 4FF6FF73 		movw	r3, #65535
 1338              	.L88:
1538:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 1339              		.loc 1 1538 11 discriminator 4 view .LVU438
 1340 0370 ADF80630 		strh	r3, [sp, #6]	@ movhi
1541:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err == ERR_OK) {
 1341              		.loc 1 1541 5 is_stmt 1 view .LVU439
1541:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err == ERR_OK) {
 1342              		.loc 1 1541 11 is_stmt 0 view .LVU440
 1343 0374 0023     		movs	r3, #0
 1344 0376 0DF10602 		add	r2, sp, #6
 1345 037a 3846     		mov	r0, r7
 1346 037c FFF7FEFF 		bl	http_write
 1347              	.LVL100:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 79


1542:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       data_to_send = 1;
 1348              		.loc 1 1542 5 is_stmt 1 view .LVU441
1542:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       data_to_send = 1;
 1349              		.loc 1 1542 8 is_stmt 0 view .LVU442
 1350 0380 0028     		cmp	r0, #0
 1351 0382 7FF478AE 		bne	.L54
1543:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->file += len;
 1352              		.loc 1 1543 7 is_stmt 1 view .LVU443
 1353              	.LVL101:
1544:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->left -= len;
 1354              		.loc 1 1544 7 view .LVU444
1544:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->left -= len;
 1355              		.loc 1 1544 9 is_stmt 0 view .LVU445
 1356 0386 B369     		ldr	r3, [r6, #24]
1544:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->left -= len;
 1357              		.loc 1 1544 16 view .LVU446
 1358 0388 BDF80620 		ldrh	r2, [sp, #6]
 1359 038c 1344     		add	r3, r3, r2
 1360 038e B361     		str	r3, [r6, #24]
1545:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 1361              		.loc 1 1545 7 is_stmt 1 view .LVU447
1545:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 1362              		.loc 1 1545 9 is_stmt 0 view .LVU448
 1363 0390 736A     		ldr	r3, [r6, #36]
1545:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 1364              		.loc 1 1545 16 view .LVU449
 1365 0392 9B1A     		subs	r3, r3, r2
 1366 0394 7362     		str	r3, [r6, #36]
1543:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       hs->file += len;
 1367              		.loc 1 1543 20 view .LVU450
 1368 0396 4FF00108 		mov	r8, #1
 1369 039a 6CE6     		b	.L54
 1370              		.cfi_endproc
 1371              	.LFE373:
 1373              		.section	.text.http_send_data_nonssi,"ax",%progbits
 1374              		.align	1
 1375              		.syntax unified
 1376              		.thumb
 1377              		.thumb_func
 1379              	http_send_data_nonssi:
 1380              	.LVL102:
 1381              	.LFB372:
1193:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
 1382              		.loc 1 1193 1 is_stmt 1 view -0
 1383              		.cfi_startproc
 1384              		@ args = 0, pretend = 0, frame = 8
 1385              		@ frame_needed = 0, uses_anonymous_args = 0
1193:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
 1386              		.loc 1 1193 1 is_stmt 0 view .LVU452
 1387 0000 10B5     		push	{r4, lr}
 1388              	.LCFI8:
 1389              		.cfi_def_cfa_offset 8
 1390              		.cfi_offset 4, -8
 1391              		.cfi_offset 14, -4
 1392 0002 82B0     		sub	sp, sp, #8
 1393              	.LCFI9:
 1394              		.cfi_def_cfa_offset 16
ARM GAS  C:\usertemp\ccrQXns0.s 			page 80


 1395 0004 0C46     		mov	r4, r1
1194:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t len;
 1396              		.loc 1 1194 3 is_stmt 1 view .LVU453
1195:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t data_to_send = 0;
 1397              		.loc 1 1195 3 view .LVU454
1196:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1398              		.loc 1 1196 3 view .LVU455
 1399              	.LVL103:
1200:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1400              		.loc 1 1200 3 view .LVU456
1200:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1401              		.loc 1 1200 16 is_stmt 0 view .LVU457
 1402 0006 4B6A     		ldr	r3, [r1, #36]
1200:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1403              		.loc 1 1200 9 view .LVU458
 1404 0008 4FF6FE72 		movw	r2, #65534
 1405 000c 9342     		cmp	r3, r2
 1406 000e 14D8     		bhi	.L111
1200:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1407              		.loc 1 1200 9 discriminator 1 view .LVU459
 1408 0010 9BB2     		uxth	r3, r3
 1409              	.L109:
1200:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1410              		.loc 1 1200 7 discriminator 4 view .LVU460
 1411 0012 ADF80630 		strh	r3, [sp, #6]	@ movhi
1202:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (err == ERR_OK) {
 1412              		.loc 1 1202 3 is_stmt 1 view .LVU461
1202:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (err == ERR_OK) {
 1413              		.loc 1 1202 9 is_stmt 0 view .LVU462
 1414 0016 0023     		movs	r3, #0
 1415 0018 0DF10602 		add	r2, sp, #6
 1416 001c A169     		ldr	r1, [r4, #24]
 1417              	.LVL104:
1202:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (err == ERR_OK) {
 1418              		.loc 1 1202 9 view .LVU463
 1419 001e FFF7FEFF 		bl	http_write
 1420              	.LVL105:
1203:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_to_send = 1;
 1421              		.loc 1 1203 3 is_stmt 1 view .LVU464
1203:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_to_send = 1;
 1422              		.loc 1 1203 6 is_stmt 0 view .LVU465
 1423 0022 68B9     		cbnz	r0, .L112
1204:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->file += len;
 1424              		.loc 1 1204 5 is_stmt 1 view .LVU466
 1425              	.LVL106:
1205:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->left -= len;
 1426              		.loc 1 1205 5 view .LVU467
1205:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->left -= len;
 1427              		.loc 1 1205 7 is_stmt 0 view .LVU468
 1428 0024 A369     		ldr	r3, [r4, #24]
1205:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->left -= len;
 1429              		.loc 1 1205 14 view .LVU469
 1430 0026 BDF80620 		ldrh	r2, [sp, #6]
 1431 002a 1344     		add	r3, r3, r2
 1432 002c A361     		str	r3, [r4, #24]
1206:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1433              		.loc 1 1206 5 is_stmt 1 view .LVU470
ARM GAS  C:\usertemp\ccrQXns0.s 			page 81


1206:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1434              		.loc 1 1206 7 is_stmt 0 view .LVU471
 1435 002e 636A     		ldr	r3, [r4, #36]
1206:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1436              		.loc 1 1206 14 view .LVU472
 1437 0030 9B1A     		subs	r3, r3, r2
 1438 0032 6362     		str	r3, [r4, #36]
1204:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->file += len;
 1439              		.loc 1 1204 18 view .LVU473
 1440 0034 0120     		movs	r0, #1
 1441              	.LVL107:
 1442              	.L110:
1209:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 1443              		.loc 1 1209 3 is_stmt 1 view .LVU474
1210:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1444              		.loc 1 1210 1 is_stmt 0 view .LVU475
 1445 0036 02B0     		add	sp, sp, #8
 1446              	.LCFI10:
 1447              		.cfi_remember_state
 1448              		.cfi_def_cfa_offset 8
 1449              		@ sp needed
 1450 0038 10BD     		pop	{r4, pc}
 1451              	.LVL108:
 1452              	.L111:
 1453              	.LCFI11:
 1454              		.cfi_restore_state
1200:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1455              		.loc 1 1200 9 discriminator 2 view .LVU476
 1456 003a 4FF6FF73 		movw	r3, #65535
 1457 003e E8E7     		b	.L109
 1458              	.LVL109:
 1459              	.L112:
1196:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1460              		.loc 1 1196 8 view .LVU477
 1461 0040 0020     		movs	r0, #0
 1462              	.LVL110:
1196:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1463              		.loc 1 1196 8 view .LVU478
 1464 0042 F8E7     		b	.L110
 1465              		.cfi_endproc
 1466              	.LFE372:
 1468              		.section	.text.http_ssi_state_free,"ax",%progbits
 1469              		.align	1
 1470              		.syntax unified
 1471              		.thumb
 1472              		.thumb_func
 1474              	http_ssi_state_free:
 1475              	.LVL111:
 1476              	.LFB360:
 436:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (ssi != NULL) {
 1477              		.loc 1 436 1 is_stmt 1 view -0
 1478              		.cfi_startproc
 1479              		@ args = 0, pretend = 0, frame = 0
 1480              		@ frame_needed = 0, uses_anonymous_args = 0
 437:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     HTTP_FREE_SSI_STATE(ssi);
 1481              		.loc 1 437 3 view .LVU480
 437:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     HTTP_FREE_SSI_STATE(ssi);
ARM GAS  C:\usertemp\ccrQXns0.s 			page 82


 1482              		.loc 1 437 6 is_stmt 0 view .LVU481
 1483 0000 18B1     		cbz	r0, .L117
 436:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (ssi != NULL) {
 1484              		.loc 1 436 1 view .LVU482
 1485 0002 08B5     		push	{r3, lr}
 1486              	.LCFI12:
 1487              		.cfi_def_cfa_offset 8
 1488              		.cfi_offset 3, -8
 1489              		.cfi_offset 14, -4
 438:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1490              		.loc 1 438 5 is_stmt 1 view .LVU483
 1491 0004 FFF7FEFF 		bl	mem_free
 1492              	.LVL112:
 440:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 1493              		.loc 1 440 1 is_stmt 0 view .LVU484
 1494 0008 08BD     		pop	{r3, pc}
 1495              	.LVL113:
 1496              	.L117:
 1497              	.LCFI13:
 1498              		.cfi_def_cfa_offset 0
 1499              		.cfi_restore 3
 1500              		.cfi_restore 14
 440:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 1501              		.loc 1 440 1 view .LVU485
 1502 000a 7047     		bx	lr
 1503              		.cfi_endproc
 1504              	.LFE360:
 1506              		.section	.text.http_state_eof,"ax",%progbits
 1507              		.align	1
 1508              		.syntax unified
 1509              		.thumb
 1510              		.thumb_func
 1512              	http_state_eof:
 1513              	.LVL114:
 1514              	.LFB363:
 479:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->handle) {
 1515              		.loc 1 479 1 is_stmt 1 view -0
 1516              		.cfi_startproc
 1517              		@ args = 0, pretend = 0, frame = 0
 1518              		@ frame_needed = 0, uses_anonymous_args = 0
 479:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs->handle) {
 1519              		.loc 1 479 1 is_stmt 0 view .LVU487
 1520 0000 10B5     		push	{r4, lr}
 1521              	.LCFI14:
 1522              		.cfi_def_cfa_offset 8
 1523              		.cfi_offset 4, -8
 1524              		.cfi_offset 14, -4
 1525 0002 0446     		mov	r4, r0
 480:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_TIMING
 1526              		.loc 1 480 3 is_stmt 1 view .LVU488
 480:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_TIMING
 1527              		.loc 1 480 9 is_stmt 0 view .LVU489
 1528 0004 4069     		ldr	r0, [r0, #20]
 1529              	.LVL115:
 480:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_TIMING
 1530              		.loc 1 480 6 view .LVU490
 1531 0006 18B1     		cbz	r0, .L121
ARM GAS  C:\usertemp\ccrQXns0.s 			page 83


 487:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->handle = NULL;
 1532              		.loc 1 487 5 is_stmt 1 view .LVU491
 1533 0008 FFF7FEFF 		bl	fs_close
 1534              	.LVL116:
 488:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1535              		.loc 1 488 5 view .LVU492
 488:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1536              		.loc 1 488 16 is_stmt 0 view .LVU493
 1537 000c 0023     		movs	r3, #0
 1538 000e 6361     		str	r3, [r4, #20]
 1539              	.L121:
 497:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_ssi_state_free(hs->ssi);
 1540              		.loc 1 497 3 is_stmt 1 view .LVU494
 497:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_ssi_state_free(hs->ssi);
 1541              		.loc 1 497 9 is_stmt 0 view .LVU495
 1542 0010 E06A     		ldr	r0, [r4, #44]
 497:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_ssi_state_free(hs->ssi);
 1543              		.loc 1 497 6 view .LVU496
 1544 0012 18B1     		cbz	r0, .L122
 498:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->ssi = NULL;
 1545              		.loc 1 498 5 is_stmt 1 view .LVU497
 1546 0014 FFF7FEFF 		bl	http_ssi_state_free
 1547              	.LVL117:
 499:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1548              		.loc 1 499 5 view .LVU498
 499:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1549              		.loc 1 499 13 is_stmt 0 view .LVU499
 1550 0018 0023     		movs	r3, #0
 1551 001a E362     		str	r3, [r4, #44]
 1552              	.L122:
 503:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pbuf_free(hs->req);
 1553              		.loc 1 503 3 is_stmt 1 view .LVU500
 503:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pbuf_free(hs->req);
 1554              		.loc 1 503 9 is_stmt 0 view .LVU501
 1555 001c 206A     		ldr	r0, [r4, #32]
 503:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pbuf_free(hs->req);
 1556              		.loc 1 503 6 view .LVU502
 1557 001e 18B1     		cbz	r0, .L120
 504:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->req = NULL;
 1558              		.loc 1 504 5 is_stmt 1 view .LVU503
 1559 0020 FFF7FEFF 		bl	pbuf_free
 1560              	.LVL118:
 505:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1561              		.loc 1 505 5 view .LVU504
 505:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1562              		.loc 1 505 13 is_stmt 0 view .LVU505
 1563 0024 0023     		movs	r3, #0
 1564 0026 2362     		str	r3, [r4, #32]
 1565              	.L120:
 508:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1566              		.loc 1 508 1 view .LVU506
 1567 0028 10BD     		pop	{r4, pc}
 508:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1568              		.loc 1 508 1 view .LVU507
 1569              		.cfi_endproc
 1570              	.LFE363:
 1572              		.section	.text.http_state_free,"ax",%progbits
ARM GAS  C:\usertemp\ccrQXns0.s 			page 84


 1573              		.align	1
 1574              		.syntax unified
 1575              		.thumb
 1576              		.thumb_func
 1578              	http_state_free:
 1579              	.LVL119:
 1580              	.LFB364:
 515:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs != NULL) {
 1581              		.loc 1 515 1 is_stmt 1 view -0
 1582              		.cfi_startproc
 1583              		@ args = 0, pretend = 0, frame = 0
 1584              		@ frame_needed = 0, uses_anonymous_args = 0
 516:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_eof(hs);
 1585              		.loc 1 516 3 view .LVU509
 516:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_eof(hs);
 1586              		.loc 1 516 6 is_stmt 0 view .LVU510
 1587 0000 38B1     		cbz	r0, .L128
 515:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs != NULL) {
 1588              		.loc 1 515 1 view .LVU511
 1589 0002 10B5     		push	{r4, lr}
 1590              	.LCFI15:
 1591              		.cfi_def_cfa_offset 8
 1592              		.cfi_offset 4, -8
 1593              		.cfi_offset 14, -4
 1594 0004 0446     		mov	r4, r0
 517:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_remove_connection(hs);
 1595              		.loc 1 517 5 is_stmt 1 view .LVU512
 1596 0006 FFF7FEFF 		bl	http_state_eof
 1597              	.LVL120:
 518:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     HTTP_FREE_HTTP_STATE(hs);
 1598              		.loc 1 518 31 view .LVU513
 519:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1599              		.loc 1 519 5 view .LVU514
 1600 000a 2046     		mov	r0, r4
 1601 000c FFF7FEFF 		bl	mem_free
 1602              	.LVL121:
 521:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1603              		.loc 1 521 1 is_stmt 0 view .LVU515
 1604 0010 10BD     		pop	{r4, pc}
 1605              	.LVL122:
 1606              	.L128:
 1607              	.LCFI16:
 1608              		.cfi_def_cfa_offset 0
 1609              		.cfi_restore 4
 1610              		.cfi_restore 14
 521:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1611              		.loc 1 521 1 view .LVU516
 1612 0012 7047     		bx	lr
 1613              		.cfi_endproc
 1614              	.LFE364:
 1616              		.section	.text.http_close_or_abort_conn,"ax",%progbits
 1617              		.align	1
 1618              		.syntax unified
 1619              		.thumb
 1620              		.thumb_func
 1622              	http_close_or_abort_conn:
 1623              	.LVL123:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 85


 1624              	.LFB366:
 597:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
 1625              		.loc 1 597 1 is_stmt 1 view -0
 1626              		.cfi_startproc
 1627              		@ args = 0, pretend = 0, frame = 0
 1628              		@ frame_needed = 0, uses_anonymous_args = 0
 597:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
 1629              		.loc 1 597 1 is_stmt 0 view .LVU518
 1630 0000 70B5     		push	{r4, r5, r6, lr}
 1631              	.LCFI17:
 1632              		.cfi_def_cfa_offset 16
 1633              		.cfi_offset 4, -16
 1634              		.cfi_offset 5, -12
 1635              		.cfi_offset 6, -8
 1636              		.cfi_offset 14, -4
 1637 0002 0446     		mov	r4, r0
 1638 0004 0D46     		mov	r5, r1
 1639 0006 1646     		mov	r6, r2
 598:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG, ("Closing connection %p\n", (void *)pcb));
 1640              		.loc 1 598 3 is_stmt 1 view .LVU519
 599:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1641              		.loc 1 599 69 view .LVU520
 616:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_recv(pcb, NULL);
 1642              		.loc 1 616 3 view .LVU521
 1643 0008 0021     		movs	r1, #0
 1644              	.LVL124:
 616:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_recv(pcb, NULL);
 1645              		.loc 1 616 3 is_stmt 0 view .LVU522
 1646 000a FFF7FEFF 		bl	tcp_arg
 1647              	.LVL125:
 617:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_err(pcb, NULL);
 1648              		.loc 1 617 3 is_stmt 1 view .LVU523
 1649 000e 0021     		movs	r1, #0
 1650 0010 2046     		mov	r0, r4
 1651 0012 FFF7FEFF 		bl	tcp_recv
 1652              	.LVL126:
 618:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_poll(pcb, NULL, 0);
 1653              		.loc 1 618 3 view .LVU524
 1654 0016 0021     		movs	r1, #0
 1655 0018 2046     		mov	r0, r4
 1656 001a FFF7FEFF 		bl	tcp_err
 1657              	.LVL127:
 619:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_sent(pcb, NULL);
 1658              		.loc 1 619 3 view .LVU525
 1659 001e 0022     		movs	r2, #0
 1660 0020 1146     		mov	r1, r2
 1661 0022 2046     		mov	r0, r4
 1662 0024 FFF7FEFF 		bl	tcp_poll
 1663              	.LVL128:
 620:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs != NULL) {
 1664              		.loc 1 620 3 view .LVU526
 1665 0028 0021     		movs	r1, #0
 1666 002a 2046     		mov	r0, r4
 1667 002c FFF7FEFF 		bl	tcp_sent
 1668              	.LVL129:
 621:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_free(hs);
 1669              		.loc 1 621 3 view .LVU527
ARM GAS  C:\usertemp\ccrQXns0.s 			page 86


 621:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_free(hs);
 1670              		.loc 1 621 6 is_stmt 0 view .LVU528
 1671 0030 15B1     		cbz	r5, .L132
 622:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1672              		.loc 1 622 5 is_stmt 1 view .LVU529
 1673 0032 2846     		mov	r0, r5
 1674 0034 FFF7FEFF 		bl	http_state_free
 1675              	.LVL130:
 1676              	.L132:
 625:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     altcp_abort(pcb);
 1677              		.loc 1 625 3 view .LVU530
 625:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     altcp_abort(pcb);
 1678              		.loc 1 625 6 is_stmt 0 view .LVU531
 1679 0038 36B9     		cbnz	r6, .L136
 629:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (err != ERR_OK) {
 1680              		.loc 1 629 3 is_stmt 1 view .LVU532
 629:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (err != ERR_OK) {
 1681              		.loc 1 629 9 is_stmt 0 view .LVU533
 1682 003a 2046     		mov	r0, r4
 1683 003c FFF7FEFF 		bl	tcp_close
 1684              	.LVL131:
 630:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("Error %d closing %p\n", err, (void *)pcb));
 1685              		.loc 1 630 3 is_stmt 1 view .LVU534
 630:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("Error %d closing %p\n", err, (void *)pcb));
 1686              		.loc 1 630 6 is_stmt 0 view .LVU535
 1687 0040 0546     		mov	r5, r0
 1688              	.LVL132:
 630:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("Error %d closing %p\n", err, (void *)pcb));
 1689              		.loc 1 630 6 view .LVU536
 1690 0042 30B9     		cbnz	r0, .L137
 1691              	.LVL133:
 1692              	.L134:
 636:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1693              		.loc 1 636 1 view .LVU537
 1694 0044 2846     		mov	r0, r5
 1695 0046 70BD     		pop	{r4, r5, r6, pc}
 1696              	.LVL134:
 1697              	.L136:
 626:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
 1698              		.loc 1 626 5 is_stmt 1 view .LVU538
 1699 0048 2046     		mov	r0, r4
 1700 004a FFF7FEFF 		bl	tcp_abort
 1701              	.LVL135:
 627:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1702              		.loc 1 627 5 view .LVU539
 627:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1703              		.loc 1 627 12 is_stmt 0 view .LVU540
 1704 004e 0025     		movs	r5, #0
 1705              	.LVL136:
 627:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1706              		.loc 1 627 12 view .LVU541
 1707 0050 F8E7     		b	.L134
 1708              	.LVL137:
 1709              	.L137:
 631:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* error closing, try again later in poll */
 1710              		.loc 1 631 74 is_stmt 1 view .LVU542
 633:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
ARM GAS  C:\usertemp\ccrQXns0.s 			page 87


 1711              		.loc 1 633 5 view .LVU543
 1712 0052 0422     		movs	r2, #4
 1713 0054 0249     		ldr	r1, .L138
 1714 0056 2046     		mov	r0, r4
 1715              	.LVL138:
 633:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1716              		.loc 1 633 5 is_stmt 0 view .LVU544
 1717 0058 FFF7FEFF 		bl	tcp_poll
 1718              	.LVL139:
 1719 005c F2E7     		b	.L134
 1720              	.L139:
 1721 005e 00BF     		.align	2
 1722              	.L138:
 1723 0060 00000000 		.word	http_poll
 1724              		.cfi_endproc
 1725              	.LFE366:
 1727              		.section	.text.http_close_conn,"ax",%progbits
 1728              		.align	1
 1729              		.syntax unified
 1730              		.thumb
 1731              		.thumb_func
 1733              	http_close_conn:
 1734              	.LVL140:
 1735              	.LFB367:
 647:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return http_close_or_abort_conn(pcb, hs, 0);
 1736              		.loc 1 647 1 is_stmt 1 view -0
 1737              		.cfi_startproc
 1738              		@ args = 0, pretend = 0, frame = 0
 1739              		@ frame_needed = 0, uses_anonymous_args = 0
 647:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   return http_close_or_abort_conn(pcb, hs, 0);
 1740              		.loc 1 647 1 is_stmt 0 view .LVU546
 1741 0000 08B5     		push	{r3, lr}
 1742              	.LCFI18:
 1743              		.cfi_def_cfa_offset 8
 1744              		.cfi_offset 3, -8
 1745              		.cfi_offset 14, -4
 648:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 1746              		.loc 1 648 3 is_stmt 1 view .LVU547
 648:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 1747              		.loc 1 648 10 is_stmt 0 view .LVU548
 1748 0002 0022     		movs	r2, #0
 1749 0004 FFF7FEFF 		bl	http_close_or_abort_conn
 1750              	.LVL141:
 649:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1751              		.loc 1 649 1 view .LVU549
 1752 0008 08BD     		pop	{r3, pc}
 1753              		.cfi_endproc
 1754              	.LFE367:
 1756              		.section	.text.http_eof,"ax",%progbits
 1757              		.align	1
 1758              		.syntax unified
 1759              		.thumb
 1760              		.thumb_func
 1762              	http_eof:
 1763              	.LVL142:
 1764              	.LFB368:
 656:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* HTTP/1.1 persistent connection? (Not supported for SSI) */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 88


 1765              		.loc 1 656 1 is_stmt 1 view -0
 1766              		.cfi_startproc
 1767              		@ args = 0, pretend = 0, frame = 0
 1768              		@ frame_needed = 0, uses_anonymous_args = 0
 656:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* HTTP/1.1 persistent connection? (Not supported for SSI) */
 1769              		.loc 1 656 1 is_stmt 0 view .LVU551
 1770 0000 08B5     		push	{r3, lr}
 1771              	.LCFI19:
 1772              		.cfi_def_cfa_offset 8
 1773              		.cfi_offset 3, -8
 1774              		.cfi_offset 14, -4
 673:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1775              		.loc 1 673 5 is_stmt 1 view .LVU552
 1776 0002 FFF7FEFF 		bl	http_close_conn
 1777              	.LVL143:
 675:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1778              		.loc 1 675 1 is_stmt 0 view .LVU553
 1779 0006 08BD     		pop	{r3, pc}
 1780              		.cfi_endproc
 1781              	.LFE368:
 1783              		.section	.rodata.http_check_eof.str1.4,"aMS",%progbits,1
 1784              		.align	2
 1785              	.LC11:
 1786 0000 53534920 		.ascii	"SSI and DYNAMIC_HEADERS turned off but eof not reac"
 1786      616E6420 
 1786      44594E41 
 1786      4D49435F 
 1786      48454144 
 1787 0033 68656400 		.ascii	"hed\000"
 1788              		.section	.text.http_check_eof,"ax",%progbits
 1789              		.align	1
 1790              		.syntax unified
 1791              		.thumb
 1792              		.thumb_func
 1794              	http_check_eof:
 1795              	.LVL144:
 1796              	.LFB371:
1094:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   int bytes_left;
 1797              		.loc 1 1094 1 is_stmt 1 view -0
 1798              		.cfi_startproc
 1799              		@ args = 0, pretend = 0, frame = 0
 1800              		@ frame_needed = 0, uses_anonymous_args = 0
1094:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   int bytes_left;
 1801              		.loc 1 1094 1 is_stmt 0 view .LVU555
 1802 0000 38B5     		push	{r3, r4, r5, lr}
 1803              	.LCFI20:
 1804              		.cfi_def_cfa_offset 16
 1805              		.cfi_offset 3, -16
 1806              		.cfi_offset 4, -12
 1807              		.cfi_offset 5, -8
 1808              		.cfi_offset 14, -4
 1809 0002 0546     		mov	r5, r0
 1810 0004 0C46     		mov	r4, r1
1095:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_FILE_READ
 1811              		.loc 1 1095 3 is_stmt 1 view .LVU556
1104:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* No - close the connection. */
 1812              		.loc 1 1104 3 view .LVU557
ARM GAS  C:\usertemp\ccrQXns0.s 			page 89


1104:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* No - close the connection. */
 1813              		.loc 1 1104 9 is_stmt 0 view .LVU558
 1814 0006 4869     		ldr	r0, [r1, #20]
 1815              	.LVL145:
1104:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* No - close the connection. */
 1816              		.loc 1 1104 6 view .LVU559
 1817 0008 60B1     		cbz	r0, .L149
1109:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (bytes_left <= 0) {
 1818              		.loc 1 1109 3 is_stmt 1 view .LVU560
1109:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (bytes_left <= 0) {
 1819              		.loc 1 1109 16 is_stmt 0 view .LVU561
 1820 000a FFF7FEFF 		bl	fs_bytes_left
 1821              	.LVL146:
1110:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* We reached the end of the file so this request is done. */
 1822              		.loc 1 1110 3 is_stmt 1 view .LVU562
1110:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* We reached the end of the file so this request is done. */
 1823              		.loc 1 1110 6 is_stmt 0 view .LVU563
 1824 000e 0028     		cmp	r0, #0
 1825 0010 0DDD     		ble	.L150
1181:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI || LWIP_HTTPD_DYNAMIC_HEADERS */
 1826              		.loc 1 1181 3 is_stmt 1 view .LVU564
1181:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI || LWIP_HTTPD_DYNAMIC_HEADERS */
 1827              		.loc 1 1181 3 view .LVU565
1181:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI || LWIP_HTTPD_DYNAMIC_HEADERS */
 1828              		.loc 1 1181 3 discriminator 1 view .LVU566
1181:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI || LWIP_HTTPD_DYNAMIC_HEADERS */
 1829              		.loc 1 1181 3 discriminator 1 view .LVU567
 1830 0012 0A4B     		ldr	r3, .L151
 1831 0014 40F29D42 		movw	r2, #1181
 1832 0018 0949     		ldr	r1, .L151+4
 1833 001a 0A48     		ldr	r0, .L151+8
 1834              	.LVL147:
1181:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI || LWIP_HTTPD_DYNAMIC_HEADERS */
 1835              		.loc 1 1181 3 is_stmt 0 discriminator 1 view .LVU568
 1836 001c FFF7FEFF 		bl	printf
 1837              	.LVL148:
1181:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI || LWIP_HTTPD_DYNAMIC_HEADERS */
 1838              		.loc 1 1181 3 is_stmt 1 discriminator 3 view .LVU569
1181:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI || LWIP_HTTPD_DYNAMIC_HEADERS */
 1839              		.loc 1 1181 3 discriminator 3 view .LVU570
1183:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 1840              		.loc 1 1183 3 view .LVU571
1183:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 1841              		.loc 1 1183 10 is_stmt 0 view .LVU572
 1842 0020 0120     		movs	r0, #1
 1843              	.LVL149:
 1844              	.L146:
1184:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1845              		.loc 1 1184 1 view .LVU573
 1846 0022 38BD     		pop	{r3, r4, r5, pc}
 1847              	.LVL150:
 1848              	.L149:
1106:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
 1849              		.loc 1 1106 5 is_stmt 1 view .LVU574
 1850 0024 2846     		mov	r0, r5
 1851 0026 FFF7FEFF 		bl	http_eof
 1852              	.LVL151:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 90


1107:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1853              		.loc 1 1107 5 view .LVU575
1107:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1854              		.loc 1 1107 12 is_stmt 0 view .LVU576
 1855 002a 0020     		movs	r0, #0
 1856 002c F9E7     		b	.L146
 1857              	.LVL152:
 1858              	.L150:
1112:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_eof(pcb, hs);
 1859              		.loc 1 1112 49 is_stmt 1 view .LVU577
1113:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
 1860              		.loc 1 1113 5 view .LVU578
 1861 002e 2146     		mov	r1, r4
 1862 0030 2846     		mov	r0, r5
 1863              	.LVL153:
1113:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
 1864              		.loc 1 1113 5 is_stmt 0 view .LVU579
 1865 0032 FFF7FEFF 		bl	http_eof
 1866              	.LVL154:
1114:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1867              		.loc 1 1114 5 is_stmt 1 view .LVU580
1114:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1868              		.loc 1 1114 12 is_stmt 0 view .LVU581
 1869 0036 0020     		movs	r0, #0
 1870 0038 F3E7     		b	.L146
 1871              	.L152:
 1872 003a 00BF     		.align	2
 1873              	.L151:
 1874 003c 00000000 		.word	.LC0
 1875 0040 00000000 		.word	.LC11
 1876 0044 50000000 		.word	.LC2
 1877              		.cfi_endproc
 1878              	.LFE371:
 1880              		.section	.text.http_send,"ax",%progbits
 1881              		.align	1
 1882              		.syntax unified
 1883              		.thumb
 1884              		.thumb_func
 1886              	http_send:
 1887              	.LVL155:
 1888              	.LFB374:
1560:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t data_to_send = HTTP_NO_DATA_TO_SEND;
 1889              		.loc 1 1560 1 is_stmt 1 view -0
 1890              		.cfi_startproc
 1891              		@ args = 0, pretend = 0, frame = 0
 1892              		@ frame_needed = 0, uses_anonymous_args = 0
1560:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t data_to_send = HTTP_NO_DATA_TO_SEND;
 1893              		.loc 1 1560 1 is_stmt 0 view .LVU583
 1894 0000 70B5     		push	{r4, r5, r6, lr}
 1895              	.LCFI21:
 1896              		.cfi_def_cfa_offset 16
 1897              		.cfi_offset 4, -16
 1898              		.cfi_offset 5, -12
 1899              		.cfi_offset 6, -8
 1900              		.cfi_offset 14, -4
1561:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1901              		.loc 1 1561 3 is_stmt 1 view .LVU584
ARM GAS  C:\usertemp\ccrQXns0.s 			page 91


 1902              	.LVL156:
1564:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1903              		.loc 1 1564 59 view .LVU585
1573:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
 1904              		.loc 1 1573 3 view .LVU586
1573:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
 1905              		.loc 1 1573 6 is_stmt 0 view .LVU587
 1906 0002 29B3     		cbz	r1, .L158
 1907 0004 0546     		mov	r5, r0
 1908 0006 0C46     		mov	r4, r1
1599:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (!http_check_eof(pcb, hs)) {
 1909              		.loc 1 1599 3 is_stmt 1 view .LVU588
1599:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (!http_check_eof(pcb, hs)) {
 1910              		.loc 1 1599 9 is_stmt 0 view .LVU589
 1911 0008 4B6A     		ldr	r3, [r1, #36]
1599:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (!http_check_eof(pcb, hs)) {
 1912              		.loc 1 1599 6 view .LVU590
 1913 000a 53B1     		cbz	r3, .L160
 1914              	.LVL157:
 1915              	.L155:
1606:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_to_send = http_send_data_ssi(pcb, hs);
 1916              		.loc 1 1606 3 is_stmt 1 view .LVU591
1606:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_to_send = http_send_data_ssi(pcb, hs);
 1917              		.loc 1 1606 9 is_stmt 0 view .LVU592
 1918 000c E36A     		ldr	r3, [r4, #44]
1606:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_to_send = http_send_data_ssi(pcb, hs);
 1919              		.loc 1 1606 6 view .LVU593
 1920 000e 73B1     		cbz	r3, .L156
1607:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else
 1921              		.loc 1 1607 5 is_stmt 1 view .LVU594
1607:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else
 1922              		.loc 1 1607 20 is_stmt 0 view .LVU595
 1923 0010 2146     		mov	r1, r4
 1924 0012 2846     		mov	r0, r5
 1925 0014 FFF7FEFF 		bl	http_send_data_ssi
 1926              	.LVL158:
 1927 0018 0646     		mov	r6, r0
 1928              	.LVL159:
 1929              	.L157:
1614:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* We reached the end of the file so this request is done.
 1930              		.loc 1 1614 3 is_stmt 1 view .LVU596
1614:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* We reached the end of the file so this request is done.
 1931              		.loc 1 1614 10 is_stmt 0 view .LVU597
 1932 001a 636A     		ldr	r3, [r4, #36]
1614:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* We reached the end of the file so this request is done.
 1933              		.loc 1 1614 6 view .LVU598
 1934 001c 6BB1     		cbz	r3, .L161
 1935              	.LVL160:
 1936              	.L154:
1623:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 1937              		.loc 1 1623 1 view .LVU599
 1938 001e 3046     		mov	r0, r6
 1939 0020 70BD     		pop	{r4, r5, r6, pc}
 1940              	.LVL161:
 1941              	.L160:
1600:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return 0;
 1942              		.loc 1 1600 5 is_stmt 1 view .LVU600
ARM GAS  C:\usertemp\ccrQXns0.s 			page 92


1600:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return 0;
 1943              		.loc 1 1600 10 is_stmt 0 view .LVU601
 1944 0022 FFF7FEFF 		bl	http_check_eof
 1945              	.LVL162:
1600:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return 0;
 1946              		.loc 1 1600 8 discriminator 1 view .LVU602
 1947 0026 0646     		mov	r6, r0
 1948 0028 0028     		cmp	r0, #0
 1949 002a EFD1     		bne	.L155
 1950 002c F7E7     		b	.L154
 1951              	.L156:
1611:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1952              		.loc 1 1611 5 is_stmt 1 view .LVU603
1611:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1953              		.loc 1 1611 20 is_stmt 0 view .LVU604
 1954 002e 2146     		mov	r1, r4
 1955 0030 2846     		mov	r0, r5
 1956 0032 FFF7FEFF 		bl	http_send_data_nonssi
 1957              	.LVL163:
 1958 0036 0646     		mov	r6, r0
 1959              	.LVL164:
1611:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1960              		.loc 1 1611 20 view .LVU605
 1961 0038 EFE7     		b	.L157
 1962              	.L161:
1614:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* We reached the end of the file so this request is done.
 1963              		.loc 1 1614 27 discriminator 1 view .LVU606
 1964 003a 6069     		ldr	r0, [r4, #20]
 1965 003c FFF7FEFF 		bl	fs_bytes_left
 1966              	.LVL165:
1614:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* We reached the end of the file so this request is done.
 1967              		.loc 1 1614 23 discriminator 1 view .LVU607
 1968 0040 0028     		cmp	r0, #0
 1969 0042 ECDC     		bgt	.L154
1617:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_eof(pcb, hs);
 1970              		.loc 1 1617 49 is_stmt 1 view .LVU608
1618:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return 0;
 1971              		.loc 1 1618 5 view .LVU609
 1972 0044 2146     		mov	r1, r4
 1973 0046 2846     		mov	r0, r5
 1974 0048 FFF7FEFF 		bl	http_eof
 1975              	.LVL166:
1619:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1976              		.loc 1 1619 5 view .LVU610
1619:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1977              		.loc 1 1619 12 is_stmt 0 view .LVU611
 1978 004c 0026     		movs	r6, #0
 1979              	.LVL167:
1619:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1980              		.loc 1 1619 12 view .LVU612
 1981 004e E6E7     		b	.L154
 1982              	.LVL168:
 1983              	.L158:
1574:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 1984              		.loc 1 1574 12 view .LVU613
 1985 0050 0026     		movs	r6, #0
 1986 0052 E4E7     		b	.L154
ARM GAS  C:\usertemp\ccrQXns0.s 			page 93


 1987              		.cfi_endproc
 1988              	.LFE374:
 1990              		.section	.text.http_sent,"ax",%progbits
 1991              		.align	1
 1992              		.syntax unified
 1993              		.thumb
 1994              		.thumb_func
 1996              	http_sent:
 1997              	.LVL169:
 1998              	.LFB381:
2442:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)arg;
 1999              		.loc 1 2442 1 is_stmt 1 view -0
 2000              		.cfi_startproc
 2001              		@ args = 0, pretend = 0, frame = 0
 2002              		@ frame_needed = 0, uses_anonymous_args = 0
2443:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2003              		.loc 1 2443 3 view .LVU615
2445:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2004              		.loc 1 2445 77 view .LVU616
2447:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2005              		.loc 1 2447 3 view .LVU617
2449:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
 2006              		.loc 1 2449 3 view .LVU618
2449:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
 2007              		.loc 1 2449 6 is_stmt 0 view .LVU619
 2008 0000 50B1     		cbz	r0, .L165
2442:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)arg;
 2009              		.loc 1 2442 1 view .LVU620
 2010 0002 08B5     		push	{r3, lr}
 2011              	.LCFI22:
 2012              		.cfi_def_cfa_offset 8
 2013              		.cfi_offset 3, -8
 2014              		.cfi_offset 14, -4
 2015 0004 0B46     		mov	r3, r1
 2016 0006 0146     		mov	r1, r0
 2017              	.LVL170:
2453:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2018              		.loc 1 2453 3 is_stmt 1 view .LVU621
2453:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2019              		.loc 1 2453 15 is_stmt 0 view .LVU622
 2020 0008 0022     		movs	r2, #0
 2021              	.LVL171:
2453:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2022              		.loc 1 2453 15 view .LVU623
 2023 000a 80F82820 		strb	r2, [r0, #40]
2455:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2024              		.loc 1 2455 3 is_stmt 1 view .LVU624
 2025 000e 1846     		mov	r0, r3
 2026              	.LVL172:
2455:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2027              		.loc 1 2455 3 is_stmt 0 view .LVU625
 2028 0010 FFF7FEFF 		bl	http_send
 2029              	.LVL173:
2457:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 2030              		.loc 1 2457 3 is_stmt 1 view .LVU626
2458:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2031              		.loc 1 2458 1 is_stmt 0 view .LVU627
ARM GAS  C:\usertemp\ccrQXns0.s 			page 94


 2032 0014 0020     		movs	r0, #0
 2033 0016 08BD     		pop	{r3, pc}
 2034              	.LVL174:
 2035              	.L165:
 2036              	.LCFI23:
 2037              		.cfi_def_cfa_offset 0
 2038              		.cfi_restore 3
 2039              		.cfi_restore 14
2458:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2040              		.loc 1 2458 1 view .LVU628
 2041 0018 0020     		movs	r0, #0
 2042              	.LVL175:
2458:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2043              		.loc 1 2458 1 view .LVU629
 2044 001a 7047     		bx	lr
 2045              		.cfi_endproc
 2046              	.LFE381:
 2048              		.section	.text.http_err,"ax",%progbits
 2049              		.align	1
 2050              		.syntax unified
 2051              		.thumb
 2052              		.thumb_func
 2054              	http_err:
 2055              	.LVL176:
 2056              	.LFB380:
2425:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)arg;
 2057              		.loc 1 2425 1 is_stmt 1 view -0
 2058              		.cfi_startproc
 2059              		@ args = 0, pretend = 0, frame = 0
 2060              		@ frame_needed = 0, uses_anonymous_args = 0
2426:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(err);
 2061              		.loc 1 2426 3 view .LVU631
2427:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2062              		.loc 1 2427 3 view .LVU632
2429:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2063              		.loc 1 2429 63 view .LVU633
2431:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_free(hs);
 2064              		.loc 1 2431 3 view .LVU634
2431:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_free(hs);
 2065              		.loc 1 2431 6 is_stmt 0 view .LVU635
 2066 0000 18B1     		cbz	r0, .L171
2425:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)arg;
 2067              		.loc 1 2425 1 view .LVU636
 2068 0002 08B5     		push	{r3, lr}
 2069              	.LCFI24:
 2070              		.cfi_def_cfa_offset 8
 2071              		.cfi_offset 3, -8
 2072              		.cfi_offset 14, -4
2432:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 2073              		.loc 1 2432 5 is_stmt 1 view .LVU637
 2074 0004 FFF7FEFF 		bl	http_state_free
 2075              	.LVL177:
2434:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2076              		.loc 1 2434 1 is_stmt 0 view .LVU638
 2077 0008 08BD     		pop	{r3, pc}
 2078              	.LVL178:
 2079              	.L171:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 95


 2080              	.LCFI25:
 2081              		.cfi_def_cfa_offset 0
 2082              		.cfi_restore 3
 2083              		.cfi_restore 14
2434:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2084              		.loc 1 2434 1 view .LVU639
 2085 000a 7047     		bx	lr
 2086              		.cfi_endproc
 2087              	.LFE380:
 2089              		.section	.text.http_poll,"ax",%progbits
 2090              		.align	1
 2091              		.syntax unified
 2092              		.thumb
 2093              		.thumb_func
 2095              	http_poll:
 2096              	.LVL179:
 2097              	.LFB382:
2469:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)arg;
 2098              		.loc 1 2469 1 is_stmt 1 view -0
 2099              		.cfi_startproc
 2100              		@ args = 0, pretend = 0, frame = 0
 2101              		@ frame_needed = 0, uses_anonymous_args = 0
2469:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)arg;
 2102              		.loc 1 2469 1 is_stmt 0 view .LVU641
 2103 0000 10B5     		push	{r4, lr}
 2104              	.LCFI26:
 2105              		.cfi_def_cfa_offset 8
 2106              		.cfi_offset 4, -8
 2107              		.cfi_offset 14, -4
 2108 0002 0C46     		mov	r4, r1
2470:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("http_poll: pcb=%p hs=%p pcb_state=%s\n",
 2109              		.loc 1 2470 3 is_stmt 1 view .LVU642
 2110              	.LVL180:
2472:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2111              		.loc 1 2472 91 view .LVU643
2474:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err_t closed;
 2112              		.loc 1 2474 3 view .LVU644
2474:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err_t closed;
 2113              		.loc 1 2474 6 is_stmt 0 view .LVU645
 2114 0004 80B1     		cbz	r0, .L179
 2115 0006 0146     		mov	r1, r0
 2116              	.LVL181:
2488:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->retries == HTTPD_MAX_RETRIES) {
 2117              		.loc 1 2488 5 is_stmt 1 view .LVU646
2488:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->retries == HTTPD_MAX_RETRIES) {
 2118              		.loc 1 2488 7 is_stmt 0 view .LVU647
 2119 0008 90F82830 		ldrb	r3, [r0, #40]	@ zero_extendqisi2
2488:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (hs->retries == HTTPD_MAX_RETRIES) {
 2120              		.loc 1 2488 16 view .LVU648
 2121 000c 0133     		adds	r3, r3, #1
 2122 000e DBB2     		uxtb	r3, r3
 2123 0010 80F82830 		strb	r3, [r0, #40]
2489:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG, ("http_poll: too many retries, close\n"));
 2124              		.loc 1 2489 5 is_stmt 1 view .LVU649
2489:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG, ("http_poll: too many retries, close\n"));
 2125              		.loc 1 2489 8 is_stmt 0 view .LVU650
 2126 0014 042B     		cmp	r3, #4
ARM GAS  C:\usertemp\ccrQXns0.s 			page 96


 2127 0016 0CD0     		beq	.L180
2498:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("http_poll: try to send more data\n"));
 2128              		.loc 1 2498 5 is_stmt 1 view .LVU651
2498:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("http_poll: try to send more data\n"));
 2129              		.loc 1 2498 11 is_stmt 0 view .LVU652
 2130 0018 4369     		ldr	r3, [r0, #20]
2498:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("http_poll: try to send more data\n"));
 2131              		.loc 1 2498 8 view .LVU653
 2132 001a 1BB1     		cbz	r3, .L176
2499:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (http_send(pcb, hs)) {
 2133              		.loc 1 2499 88 is_stmt 1 view .LVU654
2500:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* If we wrote anything to be sent, go ahead and send it now. */
 2134              		.loc 1 2500 7 view .LVU655
2500:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* If we wrote anything to be sent, go ahead and send it now. */
 2135              		.loc 1 2500 11 is_stmt 0 view .LVU656
 2136 001c 2046     		mov	r0, r4
 2137              	.LVL182:
2500:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* If we wrote anything to be sent, go ahead and send it now. */
 2138              		.loc 1 2500 11 view .LVU657
 2139 001e FFF7FEFF 		bl	http_send
 2140              	.LVL183:
2500:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* If we wrote anything to be sent, go ahead and send it now. */
 2141              		.loc 1 2500 10 discriminator 1 view .LVU658
 2142 0022 50B9     		cbnz	r0, .L181
 2143              	.L176:
2509:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2144              		.loc 1 2509 1 view .LVU659
 2145 0024 0020     		movs	r0, #0
 2146 0026 10BD     		pop	{r4, pc}
 2147              	.LVL184:
 2148              	.L179:
 2149              	.LBB2:
2475:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* arg is null, close. */
 2150              		.loc 1 2475 5 is_stmt 1 view .LVU660
2477:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     closed = http_close_conn(pcb, NULL);
 2151              		.loc 1 2477 66 view .LVU661
2478:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_UNUSED_ARG(closed);
 2152              		.loc 1 2478 5 view .LVU662
2478:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_UNUSED_ARG(closed);
 2153              		.loc 1 2478 14 is_stmt 0 view .LVU663
 2154 0028 0021     		movs	r1, #0
 2155              	.LVL185:
2478:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_UNUSED_ARG(closed);
 2156              		.loc 1 2478 14 view .LVU664
 2157 002a 2046     		mov	r0, r4
 2158              	.LVL186:
2478:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_UNUSED_ARG(closed);
 2159              		.loc 1 2478 14 view .LVU665
 2160 002c FFF7FEFF 		bl	http_close_conn
 2161              	.LVL187:
2479:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_ABORT_ON_CLOSE_MEM_ERROR
 2162              		.loc 1 2479 5 is_stmt 1 view .LVU666
2486:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
 2163              		.loc 1 2486 5 view .LVU667
2486:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
 2164              		.loc 1 2486 12 is_stmt 0 view .LVU668
 2165 0030 F8E7     		b	.L176
ARM GAS  C:\usertemp\ccrQXns0.s 			page 97


 2166              	.LVL188:
 2167              	.L180:
2486:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
 2168              		.loc 1 2486 12 view .LVU669
 2169              	.LBE2:
2490:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       http_close_conn(pcb, hs);
 2170              		.loc 1 2490 73 is_stmt 1 view .LVU670
2491:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return ERR_OK;
 2171              		.loc 1 2491 7 view .LVU671
 2172 0032 2046     		mov	r0, r4
 2173              	.LVL189:
2491:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       return ERR_OK;
 2174              		.loc 1 2491 7 is_stmt 0 view .LVU672
 2175 0034 FFF7FEFF 		bl	http_close_conn
 2176              	.LVL190:
2492:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2177              		.loc 1 2492 7 is_stmt 1 view .LVU673
2492:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2178              		.loc 1 2492 14 is_stmt 0 view .LVU674
 2179 0038 F4E7     		b	.L176
 2180              	.L181:
2502:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         altcp_output(pcb);
 2181              		.loc 1 2502 68 is_stmt 1 view .LVU675
2503:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 2182              		.loc 1 2503 9 view .LVU676
 2183 003a 2046     		mov	r0, r4
 2184 003c FFF7FEFF 		bl	tcp_output
 2185              	.LVL191:
 2186 0040 F0E7     		b	.L176
 2187              		.cfi_endproc
 2188              	.LFE382:
 2190              		.section	.rodata.http_get_404_file.str1.4,"aMS",%progbits,1
 2191              		.align	2
 2192              	.LC12:
 2193 0000 2F343034 		.ascii	"/404.html\000"
 2193      2E68746D 
 2193      6C00
 2194 000a 0000     		.align	2
 2195              	.LC13:
 2196 000c 2F343034 		.ascii	"/404.htm\000"
 2196      2E68746D 
 2196      00
 2197 0015 000000   		.align	2
 2198              	.LC14:
 2199 0018 2F343034 		.ascii	"/404.shtml\000"
 2199      2E736874 
 2199      6D6C00
 2200              		.section	.text.http_get_404_file,"ax",%progbits
 2201              		.align	1
 2202              		.syntax unified
 2203              		.thumb
 2204              		.thumb_func
 2206              	http_get_404_file:
 2207              	.LVL192:
 2208              	.LFB375:
1674:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
 2209              		.loc 1 1674 1 view -0
ARM GAS  C:\usertemp\ccrQXns0.s 			page 98


 2210              		.cfi_startproc
 2211              		@ args = 0, pretend = 0, frame = 0
 2212              		@ frame_needed = 0, uses_anonymous_args = 0
1674:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
 2213              		.loc 1 1674 1 is_stmt 0 view .LVU678
 2214 0000 70B5     		push	{r4, r5, r6, lr}
 2215              	.LCFI27:
 2216              		.cfi_def_cfa_offset 16
 2217              		.cfi_offset 4, -16
 2218              		.cfi_offset 5, -12
 2219              		.cfi_offset 6, -8
 2220              		.cfi_offset 14, -4
 2221 0002 0646     		mov	r6, r0
 2222 0004 0C46     		mov	r4, r1
1675:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2223              		.loc 1 1675 3 is_stmt 1 view .LVU679
1677:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err = fs_open(&hs->file_handle, *uri);
 2224              		.loc 1 1677 3 view .LVU680
1677:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err = fs_open(&hs->file_handle, *uri);
 2225              		.loc 1 1677 8 is_stmt 0 view .LVU681
 2226 0006 0C49     		ldr	r1, .L186
 2227              	.LVL193:
1677:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err = fs_open(&hs->file_handle, *uri);
 2228              		.loc 1 1677 8 view .LVU682
 2229 0008 2160     		str	r1, [r4]
1678:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (err != ERR_OK) {
 2230              		.loc 1 1678 3 is_stmt 1 view .LVU683
1678:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (err != ERR_OK) {
 2231              		.loc 1 1678 9 is_stmt 0 view .LVU684
 2232 000a 0546     		mov	r5, r0
 2233 000c FFF7FEFF 		bl	fs_open
 2234              	.LVL194:
1679:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* 404.html doesn't exist. Try 404.htm instead. */
 2235              		.loc 1 1679 3 is_stmt 1 view .LVU685
1679:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* 404.html doesn't exist. Try 404.htm instead. */
 2236              		.loc 1 1679 6 is_stmt 0 view .LVU686
 2237 0010 08B9     		cbnz	r0, .L185
 2238              	.LVL195:
 2239              	.L182:
1698:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2240              		.loc 1 1698 1 view .LVU687
 2241 0012 2846     		mov	r0, r5
 2242              	.LVL196:
1698:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2243              		.loc 1 1698 1 view .LVU688
 2244 0014 70BD     		pop	{r4, r5, r6, pc}
 2245              	.LVL197:
 2246              	.L185:
1681:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err = fs_open(&hs->file_handle, *uri);
 2247              		.loc 1 1681 5 is_stmt 1 view .LVU689
1681:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     err = fs_open(&hs->file_handle, *uri);
 2248              		.loc 1 1681 10 is_stmt 0 view .LVU690
 2249 0016 0949     		ldr	r1, .L186+4
 2250 0018 2160     		str	r1, [r4]
1682:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err != ERR_OK) {
 2251              		.loc 1 1682 5 is_stmt 1 view .LVU691
1682:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err != ERR_OK) {
ARM GAS  C:\usertemp\ccrQXns0.s 			page 99


 2252              		.loc 1 1682 11 is_stmt 0 view .LVU692
 2253 001a 3046     		mov	r0, r6
 2254              	.LVL198:
1682:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err != ERR_OK) {
 2255              		.loc 1 1682 11 view .LVU693
 2256 001c FFF7FEFF 		bl	fs_open
 2257              	.LVL199:
1683:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* 404.htm doesn't exist either. Try 404.shtml instead. */
 2258              		.loc 1 1683 5 is_stmt 1 view .LVU694
1683:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* 404.htm doesn't exist either. Try 404.shtml instead. */
 2259              		.loc 1 1683 8 is_stmt 0 view .LVU695
 2260 0020 0028     		cmp	r0, #0
 2261 0022 F6D0     		beq	.L182
1685:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       err = fs_open(&hs->file_handle, *uri);
 2262              		.loc 1 1685 7 is_stmt 1 view .LVU696
1685:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       err = fs_open(&hs->file_handle, *uri);
 2263              		.loc 1 1685 12 is_stmt 0 view .LVU697
 2264 0024 0649     		ldr	r1, .L186+8
 2265 0026 2160     		str	r1, [r4]
1686:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (err != ERR_OK) {
 2266              		.loc 1 1686 7 is_stmt 1 view .LVU698
1686:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (err != ERR_OK) {
 2267              		.loc 1 1686 13 is_stmt 0 view .LVU699
 2268 0028 3046     		mov	r0, r6
 2269              	.LVL200:
1686:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (err != ERR_OK) {
 2270              		.loc 1 1686 13 view .LVU700
 2271 002a FFF7FEFF 		bl	fs_open
 2272              	.LVL201:
1687:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* 404.htm doesn't exist either. Indicate to the caller that it should
 2273              		.loc 1 1687 7 is_stmt 1 view .LVU701
1687:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* 404.htm doesn't exist either. Indicate to the caller that it should
 2274              		.loc 1 1687 10 is_stmt 0 view .LVU702
 2275 002e 0028     		cmp	r0, #0
 2276 0030 EFD0     		beq	.L182
1691:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         return NULL;
 2277              		.loc 1 1691 9 is_stmt 1 view .LVU703
1691:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         return NULL;
 2278              		.loc 1 1691 14 is_stmt 0 view .LVU704
 2279 0032 0025     		movs	r5, #0
 2280              	.LVL202:
1691:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         return NULL;
 2281              		.loc 1 1691 14 view .LVU705
 2282 0034 2560     		str	r5, [r4]
1692:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 2283              		.loc 1 1692 9 is_stmt 1 view .LVU706
1692:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 2284              		.loc 1 1692 16 is_stmt 0 view .LVU707
 2285 0036 ECE7     		b	.L182
 2286              	.L187:
 2287              		.align	2
 2288              	.L186:
 2289 0038 00000000 		.word	.LC12
 2290 003c 0C000000 		.word	.LC13
 2291 0040 18000000 		.word	.LC14
 2292              		.cfi_endproc
 2293              	.LFE375:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 100


 2295              		.section	.text.extract_uri_parameters,"ax",%progbits
 2296              		.align	1
 2297              		.syntax unified
 2298              		.thumb
 2299              		.thumb_func
 2301              	extract_uri_parameters:
 2302              	.LVL203:
 2303              	.LFB369:
 689:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *pair;
 2304              		.loc 1 689 1 is_stmt 1 view -0
 2305              		.cfi_startproc
 2306              		@ args = 0, pretend = 0, frame = 0
 2307              		@ frame_needed = 0, uses_anonymous_args = 0
 689:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *pair;
 2308              		.loc 1 689 1 is_stmt 0 view .LVU709
 2309 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2310              	.LCFI28:
 2311              		.cfi_def_cfa_offset 24
 2312              		.cfi_offset 3, -24
 2313              		.cfi_offset 4, -20
 2314              		.cfi_offset 5, -16
 2315              		.cfi_offset 6, -12
 2316              		.cfi_offset 7, -8
 2317              		.cfi_offset 14, -4
 690:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *equals;
 2318              		.loc 1 690 3 is_stmt 1 view .LVU710
 691:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   int loop;
 2319              		.loc 1 691 3 view .LVU711
 692:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2320              		.loc 1 692 3 view .LVU712
 694:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2321              		.loc 1 694 3 view .LVU713
 697:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return (0);
 2322              		.loc 1 697 3 view .LVU714
 697:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return (0);
 2323              		.loc 1 697 6 is_stmt 0 view .LVU715
 2324 0002 0029     		cmp	r1, #0
 2325 0004 39D0     		beq	.L197
 2326 0006 0746     		mov	r7, r0
 2327 0008 0C46     		mov	r4, r1
 697:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return (0);
 2328              		.loc 1 697 25 discriminator 1 view .LVU716
 2329 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 697:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return (0);
 2330              		.loc 1 697 15 discriminator 1 view .LVU717
 2331 000c BBB3     		cbz	r3, .L198
 706:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2332              		.loc 1 706 13 view .LVU718
 2333 000e 0025     		movs	r5, #0
 2334 0010 10E0     		b	.L190
 2335              	.LVL204:
 2336              	.L191:
 723:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (pair) {
 2337              		.loc 1 723 7 is_stmt 1 view .LVU719
 723:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (pair) {
 2338              		.loc 1 723 14 is_stmt 0 view .LVU720
 2339 0012 2021     		movs	r1, #32
ARM GAS  C:\usertemp\ccrQXns0.s 			page 101


 2340 0014 2046     		mov	r0, r4
 2341              	.LVL205:
 723:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (pair) {
 2342              		.loc 1 723 14 view .LVU721
 2343 0016 FFF7FEFF 		bl	strchr
 2344              	.LVL206:
 724:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         *pair = '\0';
 2345              		.loc 1 724 7 is_stmt 1 view .LVU722
 724:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         *pair = '\0';
 2346              		.loc 1 724 10 is_stmt 0 view .LVU723
 2347 001a 10B1     		cbz	r0, .L199
 725:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 2348              		.loc 1 725 9 is_stmt 1 view .LVU724
 725:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 2349              		.loc 1 725 15 is_stmt 0 view .LVU725
 2350 001c 0022     		movs	r2, #0
 2351 001e 0270     		strb	r2, [r0]
 2352 0020 1CE0     		b	.L192
 2353              	.L199:
 729:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2354              		.loc 1 729 12 view .LVU726
 2355 0022 0646     		mov	r6, r0
 2356 0024 1AE0     		b	.L192
 2357              	.LVL207:
 2358              	.L193:
 739:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2359              		.loc 1 739 7 is_stmt 1 view .LVU727
 739:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2360              		.loc 1 739 33 is_stmt 0 view .LVU728
 2361 0026 05F11C03 		add	r3, r5, #28
 2362 002a 0022     		movs	r2, #0
 2363 002c 47F82320 		str	r2, [r7, r3, lsl #2]
 2364              	.L194:
 706:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2365              		.loc 1 706 70 is_stmt 1 discriminator 2 view .LVU729
 2366 0030 0135     		adds	r5, r5, #1
 2367              	.LVL208:
 706:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2368              		.loc 1 706 70 is_stmt 0 discriminator 2 view .LVU730
 2369 0032 3446     		mov	r4, r6
 2370              	.LVL209:
 2371              	.L190:
 706:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2372              		.loc 1 706 57 is_stmt 1 discriminator 1 view .LVU731
 706:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2373              		.loc 1 706 24 is_stmt 0 discriminator 1 view .LVU732
 2374 0034 0F2D     		cmp	r5, #15
 2375 0036 CCBF     		ite	gt
 2376 0038 0023     		movgt	r3, #0
 2377 003a 0123     		movle	r3, #1
 706:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2378              		.loc 1 706 57 discriminator 1 view .LVU733
 2379 003c 04B3     		cbz	r4, .L188
 2380 003e FBB1     		cbz	r3, .L188
 709:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2381              		.loc 1 709 5 is_stmt 1 view .LVU734
 709:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
ARM GAS  C:\usertemp\ccrQXns0.s 			page 102


 2382              		.loc 1 709 27 is_stmt 0 view .LVU735
 2383 0040 05F10C03 		add	r3, r5, #12
 2384 0044 47F82340 		str	r4, [r7, r3, lsl #2]
 712:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2385              		.loc 1 712 5 is_stmt 1 view .LVU736
 2386              	.LVL210:
 716:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (pair) {
 2387              		.loc 1 716 5 view .LVU737
 716:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (pair) {
 2388              		.loc 1 716 12 is_stmt 0 view .LVU738
 2389 0048 2621     		movs	r1, #38
 2390 004a 2046     		mov	r0, r4
 2391 004c FFF7FEFF 		bl	strchr
 2392              	.LVL211:
 717:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       *pair = '\0';
 2393              		.loc 1 717 5 is_stmt 1 view .LVU739
 717:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       *pair = '\0';
 2394              		.loc 1 717 8 is_stmt 0 view .LVU740
 2395 0050 0646     		mov	r6, r0
 2396 0052 0028     		cmp	r0, #0
 2397 0054 DDD0     		beq	.L191
 718:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       pair++;
 2398              		.loc 1 718 7 is_stmt 1 view .LVU741
 718:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       pair++;
 2399              		.loc 1 718 13 is_stmt 0 view .LVU742
 2400 0056 0023     		movs	r3, #0
 2401 0058 06F8013B 		strb	r3, [r6], #1
 719:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else {
 2402              		.loc 1 719 7 is_stmt 1 view .LVU743
 2403              	.LVL212:
 2404              	.L192:
 734:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (equals) {
 2405              		.loc 1 734 5 view .LVU744
 734:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (equals) {
 2406              		.loc 1 734 14 is_stmt 0 view .LVU745
 2407 005c 3D21     		movs	r1, #61
 2408 005e 2046     		mov	r0, r4
 2409 0060 FFF7FEFF 		bl	strchr
 2410              	.LVL213:
 735:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       *equals = '\0';
 2411              		.loc 1 735 5 is_stmt 1 view .LVU746
 735:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       *equals = '\0';
 2412              		.loc 1 735 8 is_stmt 0 view .LVU747
 2413 0064 0346     		mov	r3, r0
 2414 0066 0028     		cmp	r0, #0
 2415 0068 DDD0     		beq	.L193
 736:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       http_cgi_param_vals[loop] = equals + 1;
 2416              		.loc 1 736 7 is_stmt 1 view .LVU748
 736:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       http_cgi_param_vals[loop] = equals + 1;
 2417              		.loc 1 736 15 is_stmt 0 view .LVU749
 2418 006a 0022     		movs	r2, #0
 2419 006c 03F8012B 		strb	r2, [r3], #1
 737:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else {
 2420              		.loc 1 737 7 is_stmt 1 view .LVU750
 737:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     } else {
 2421              		.loc 1 737 33 is_stmt 0 view .LVU751
 2422 0070 05F11C02 		add	r2, r5, #28
ARM GAS  C:\usertemp\ccrQXns0.s 			page 103


 2423 0074 47F82230 		str	r3, [r7, r2, lsl #2]
 2424 0078 DAE7     		b	.L194
 2425              	.LVL214:
 2426              	.L197:
 698:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 2427              		.loc 1 698 12 view .LVU752
 2428 007a 0025     		movs	r5, #0
 2429 007c 00E0     		b	.L188
 2430              	.L198:
 698:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 2431              		.loc 1 698 12 view .LVU753
 2432 007e 0025     		movs	r5, #0
 2433              	.LVL215:
 2434              	.L188:
 744:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_CGI || LWIP_HTTPD_CGI_SSI */
 2435              		.loc 1 744 1 view .LVU754
 2436 0080 2846     		mov	r0, r5
 2437 0082 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2438              		.cfi_endproc
 2439              	.LFE369:
 2441              		.section	.text.http_uri_is_ssi,"ax",%progbits
 2442              		.align	1
 2443              		.syntax unified
 2444              		.thumb
 2445              		.thumb_func
 2447              	http_uri_is_ssi:
 2448              	.LVL216:
 2449              	.LFB377:
2134:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   size_t loop;
 2450              		.loc 1 2134 1 is_stmt 1 view -0
 2451              		.cfi_startproc
 2452              		@ args = 0, pretend = 0, frame = 0
 2453              		@ frame_needed = 0, uses_anonymous_args = 0
2135:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u8_t tag_check = 0;
 2454              		.loc 1 2135 3 view .LVU756
2136:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (file != NULL) {
 2455              		.loc 1 2136 3 view .LVU757
2137:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* See if we have been asked for an shtml file and, if so,
 2456              		.loc 1 2137 3 view .LVU758
2137:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* See if we have been asked for an shtml file and, if so,
 2457              		.loc 1 2137 6 is_stmt 0 view .LVU759
 2458 0000 50B3     		cbz	r0, .L209
2134:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   size_t loop;
 2459              		.loc 1 2134 1 view .LVU760
 2460 0002 70B5     		push	{r4, r5, r6, lr}
 2461              	.LCFI29:
 2462              		.cfi_def_cfa_offset 16
 2463              		.cfi_offset 4, -16
 2464              		.cfi_offset 5, -12
 2465              		.cfi_offset 6, -8
 2466              		.cfi_offset 14, -4
 2467 0004 0D46     		mov	r5, r1
 2468              	.LBB3:
2140:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     char *param = (char *)strstr(uri, "?");
 2469              		.loc 1 2140 5 is_stmt 1 view .LVU761
 2470              	.LVL217:
2141:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (param != NULL) {
ARM GAS  C:\usertemp\ccrQXns0.s 			page 104


 2471              		.loc 1 2141 5 view .LVU762
2141:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (param != NULL) {
 2472              		.loc 1 2141 19 is_stmt 0 view .LVU763
 2473 0006 3F21     		movs	r1, #63
 2474              	.LVL218:
2141:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (param != NULL) {
 2475              		.loc 1 2141 19 view .LVU764
 2476 0008 2846     		mov	r0, r5
 2477              	.LVL219:
2141:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (param != NULL) {
 2478              		.loc 1 2141 19 view .LVU765
 2479 000a FFF7FEFF 		bl	strchr
 2480              	.LVL220:
2142:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* separate uri from parameters for now, set back later */
 2481              		.loc 1 2142 5 is_stmt 1 view .LVU766
2142:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* separate uri from parameters for now, set back later */
 2482              		.loc 1 2142 8 is_stmt 0 view .LVU767
 2483 000e 0646     		mov	r6, r0
 2484 0010 08B1     		cbz	r0, .L203
2144:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2485              		.loc 1 2144 7 is_stmt 1 view .LVU768
2144:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2486              		.loc 1 2144 14 is_stmt 0 view .LVU769
 2487 0012 0023     		movs	r3, #0
 2488 0014 0370     		strb	r3, [r0]
 2489              	.L203:
2146:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     ext = uri;
 2490              		.loc 1 2146 5 is_stmt 1 view .LVU770
 2491              	.LVL221:
2147:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     for (sub = strstr(sub, "."); sub != NULL; sub = strstr(sub, ".")) {
 2492              		.loc 1 2147 5 view .LVU771
2148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ext = sub;
 2493              		.loc 1 2148 5 view .LVU772
2148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ext = sub;
 2494              		.loc 1 2148 16 is_stmt 0 view .LVU773
 2495 0016 2E21     		movs	r1, #46
 2496 0018 2846     		mov	r0, r5
 2497              	.LVL222:
2148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ext = sub;
 2498              		.loc 1 2148 16 view .LVU774
 2499 001a FFF7FEFF 		bl	strchr
 2500              	.LVL223:
 2501 001e 0446     		mov	r4, r0
 2502              	.LVL224:
2148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ext = sub;
 2503              		.loc 1 2148 5 view .LVU775
 2504 0020 05E0     		b	.L204
 2505              	.LVL225:
 2506              	.L205:
2149:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       sub++;
 2507              		.loc 1 2149 7 is_stmt 1 view .LVU776
2150:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2508              		.loc 1 2150 7 view .LVU777
2148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ext = sub;
 2509              		.loc 1 2148 51 discriminator 3 view .LVU778
2148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ext = sub;
 2510              		.loc 1 2148 53 is_stmt 0 discriminator 3 view .LVU779
ARM GAS  C:\usertemp\ccrQXns0.s 			page 105


 2511 0022 2E21     		movs	r1, #46
 2512 0024 601C     		adds	r0, r4, #1
 2513              	.LVL226:
2148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ext = sub;
 2514              		.loc 1 2148 53 discriminator 3 view .LVU780
 2515 0026 FFF7FEFF 		bl	strchr
 2516              	.LVL227:
2149:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       sub++;
 2517              		.loc 1 2149 11 view .LVU781
 2518 002a 2546     		mov	r5, r4
2148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ext = sub;
 2519              		.loc 1 2148 53 discriminator 3 view .LVU782
 2520 002c 0446     		mov	r4, r0
 2521              	.LVL228:
 2522              	.L204:
2148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ext = sub;
 2523              		.loc 1 2148 38 is_stmt 1 discriminator 1 view .LVU783
 2524 002e 002C     		cmp	r4, #0
 2525 0030 F7D1     		bne	.L205
2148:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ext = sub;
 2526              		.loc 1 2148 38 is_stmt 0 discriminator 1 view .LVU784
 2527 0032 00E0     		b	.L206
 2528              	.LVL229:
 2529              	.L216:
2152:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (!lwip_stricmp(ext, g_pcSSIExtensions[loop])) {
 2530              		.loc 1 2152 53 is_stmt 1 discriminator 2 view .LVU785
 2531 0034 0134     		adds	r4, r4, #1
 2532              	.LVL230:
 2533              	.L206:
2152:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (!lwip_stricmp(ext, g_pcSSIExtensions[loop])) {
 2534              		.loc 1 2152 25 discriminator 1 view .LVU786
 2535 0036 042C     		cmp	r4, #4
 2536 0038 09D8     		bhi	.L215
2153:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         tag_check = 1;
 2537              		.loc 1 2153 7 view .LVU787
2153:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         tag_check = 1;
 2538              		.loc 1 2153 12 is_stmt 0 view .LVU788
 2539 003a 084B     		ldr	r3, .L217
 2540 003c 53F82410 		ldr	r1, [r3, r4, lsl #2]
 2541 0040 2846     		mov	r0, r5
 2542 0042 FFF7FEFF 		bl	lwip_stricmp
 2543              	.LVL231:
2153:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         tag_check = 1;
 2544              		.loc 1 2153 10 discriminator 1 view .LVU789
 2545 0046 0028     		cmp	r0, #0
 2546 0048 F4D1     		bne	.L216
2154:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
 2547              		.loc 1 2154 19 view .LVU790
 2548 004a 0120     		movs	r0, #1
 2549 004c 00E0     		b	.L207
 2550              	.L215:
2154:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         break;
 2551              		.loc 1 2154 19 view .LVU791
 2552              	.LBE3:
2136:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (file != NULL) {
 2553              		.loc 1 2136 8 view .LVU792
 2554 004e 0020     		movs	r0, #0
ARM GAS  C:\usertemp\ccrQXns0.s 			page 106


 2555              	.L207:
 2556              	.LVL232:
 2557              	.LBB4:
2158:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       *param = '?';
 2558              		.loc 1 2158 5 is_stmt 1 view .LVU793
2158:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       *param = '?';
 2559              		.loc 1 2158 8 is_stmt 0 view .LVU794
 2560 0050 0EB1     		cbz	r6, .L202
2159:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2561              		.loc 1 2159 7 is_stmt 1 view .LVU795
2159:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2562              		.loc 1 2159 14 is_stmt 0 view .LVU796
 2563 0052 3F23     		movs	r3, #63
 2564 0054 3370     		strb	r3, [r6]
 2565              	.L202:
2159:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2566              		.loc 1 2159 14 view .LVU797
 2567              	.LBE4:
2162:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 2568              		.loc 1 2162 3 is_stmt 1 view .LVU798
2163:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 2569              		.loc 1 2163 1 is_stmt 0 view .LVU799
 2570 0056 70BD     		pop	{r4, r5, r6, pc}
 2571              	.LVL233:
 2572              	.L209:
 2573              	.LCFI30:
 2574              		.cfi_def_cfa_offset 0
 2575              		.cfi_restore 4
 2576              		.cfi_restore 5
 2577              		.cfi_restore 6
 2578              		.cfi_restore 14
2136:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (file != NULL) {
 2579              		.loc 1 2136 8 view .LVU800
 2580 0058 0020     		movs	r0, #0
 2581              	.LVL234:
2162:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 2582              		.loc 1 2162 3 is_stmt 1 view .LVU801
2163:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 2583              		.loc 1 2163 1 is_stmt 0 view .LVU802
 2584 005a 7047     		bx	lr
 2585              	.L218:
 2586              		.align	2
 2587              	.L217:
 2588 005c 00000000 		.word	g_pcSSIExtensions
 2589              		.cfi_endproc
 2590              	.LFE377:
 2592              		.section	.text.http_ssi_state_alloc,"ax",%progbits
 2593              		.align	1
 2594              		.syntax unified
 2595              		.thumb
 2596              		.thumb_func
 2598              	http_ssi_state_alloc:
 2599              	.LFB359:
 419:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_ssi_state *ret = HTTP_ALLOC_SSI_STATE();
 2600              		.loc 1 419 1 is_stmt 1 view -0
 2601              		.cfi_startproc
 2602              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\usertemp\ccrQXns0.s 			page 107


 2603              		@ frame_needed = 0, uses_anonymous_args = 0
 2604 0000 10B5     		push	{r4, lr}
 2605              	.LCFI31:
 2606              		.cfi_def_cfa_offset 8
 2607              		.cfi_offset 4, -8
 2608              		.cfi_offset 14, -4
 420:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED
 2609              		.loc 1 420 3 view .LVU804
 420:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED
 2610              		.loc 1 420 32 is_stmt 0 view .LVU805
 2611 0002 E020     		movs	r0, #224
 2612 0004 FFF7FEFF 		bl	mem_malloc
 2613              	.LVL235:
 427:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     memset(ret, 0, sizeof(struct http_ssi_state));
 2614              		.loc 1 427 3 is_stmt 1 view .LVU806
 427:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     memset(ret, 0, sizeof(struct http_ssi_state));
 2615              		.loc 1 427 6 is_stmt 0 view .LVU807
 2616 0008 0446     		mov	r4, r0
 2617 000a 18B1     		cbz	r0, .L219
 428:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 2618              		.loc 1 428 5 is_stmt 1 view .LVU808
 2619 000c E022     		movs	r2, #224
 2620 000e 0021     		movs	r1, #0
 2621 0010 FFF7FEFF 		bl	memset
 2622              	.LVL236:
 430:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 2623              		.loc 1 430 3 view .LVU809
 2624              	.L219:
 431:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2625              		.loc 1 431 1 is_stmt 0 view .LVU810
 2626 0014 2046     		mov	r0, r4
 2627 0016 10BD     		pop	{r4, pc}
 431:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2628              		.loc 1 431 1 view .LVU811
 2629              		.cfi_endproc
 2630              	.LFE359:
 2632              		.section	.rodata.http_init_file.str1.4,"aMS",%progbits,1
 2633              		.align	2
 2634              	.LC15:
 2635 0000 66696C65 		.ascii	"file->data != NULL\000"
 2635      2D3E6461 
 2635      74612021 
 2635      3D204E55 
 2635      4C4C00
 2636 0013 00       		.align	2
 2637              	.LC16:
 2638 0014 46696C65 		.ascii	"File length must be positive!\000"
 2638      206C656E 
 2638      67746820 
 2638      6D757374 
 2638      20626520 
 2639 0032 0000     		.align	2
 2640              	.LC17:
 2641 0034 48545450 		.ascii	"HTTP headers not included in file system\000"
 2641      20686561 
 2641      64657273 
 2641      206E6F74 
ARM GAS  C:\usertemp\ccrQXns0.s 			page 108


 2641      20696E63 
 2642 005d 000000   		.align	2
 2643              	.LC18:
 2644 0060 0D0A0D0A 		.ascii	"\015\012\015\012\000"
 2644      00
 2645              		.section	.text.http_init_file,"ax",%progbits
 2646              		.align	1
 2647              		.syntax unified
 2648              		.thumb
 2649              		.thumb_func
 2651              	http_init_file:
 2652              	.LVL237:
 2653              	.LFB379:
2307:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SUPPORT_V09
 2654              		.loc 1 2307 1 is_stmt 1 view -0
 2655              		.cfi_startproc
 2656              		@ args = 8, pretend = 0, frame = 0
 2657              		@ frame_needed = 0, uses_anonymous_args = 0
2307:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if !LWIP_HTTPD_SUPPORT_V09
 2658              		.loc 1 2307 1 is_stmt 0 view .LVU813
 2659 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2660              	.LCFI32:
 2661              		.cfi_def_cfa_offset 24
 2662              		.cfi_offset 3, -24
 2663              		.cfi_offset 4, -20
 2664              		.cfi_offset 5, -16
 2665              		.cfi_offset 6, -12
 2666              		.cfi_offset 7, -8
 2667              		.cfi_offset 14, -4
 2668 0002 0446     		mov	r4, r0
 2669 0004 9DF81870 		ldrb	r7, [sp, #24]	@ zero_extendqisi2
2311:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* file opened, initialise struct http_state */
 2670              		.loc 1 2311 3 is_stmt 1 view .LVU814
2311:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* file opened, initialise struct http_state */
 2671              		.loc 1 2311 6 is_stmt 0 view .LVU815
 2672 0008 0029     		cmp	r1, #0
 2673 000a 54D0     		beq	.L223
 2674 000c 1646     		mov	r6, r2
 2675 000e 0D46     		mov	r5, r1
2315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 2676              		.loc 1 2315 5 is_stmt 1 view .LVU816
2315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 2677              		.loc 1 2315 5 view .LVU817
 2678 0010 0B68     		ldr	r3, [r1]
 2679              	.LVL238:
2315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 2680              		.loc 1 2315 5 is_stmt 0 view .LVU818
 2681 0012 43B3     		cbz	r3, .L230
 2682              	.LVL239:
 2683              	.L224:
2315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 2684              		.loc 1 2315 5 is_stmt 1 discriminator 3 view .LVU819
2315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 2685              		.loc 1 2315 5 discriminator 3 view .LVU820
2319:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       struct http_ssi_state *ssi = http_ssi_state_alloc();
 2686              		.loc 1 2319 5 view .LVU821
2319:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       struct http_ssi_state *ssi = http_ssi_state_alloc();
ARM GAS  C:\usertemp\ccrQXns0.s 			page 109


 2687              		.loc 1 2319 8 is_stmt 0 view .LVU822
 2688 0014 002F     		cmp	r7, #0
 2689 0016 2ED1     		bne	.L231
 2690              	.L225:
2333:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CGI_SSI
 2691              		.loc 1 2333 5 is_stmt 1 view .LVU823
2333:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CGI_SSI
 2692              		.loc 1 2333 16 is_stmt 0 view .LVU824
 2693 0018 6561     		str	r5, [r4, #20]
2353:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_CGI_SSI */
 2694              		.loc 1 2353 5 is_stmt 1 view .LVU825
2355:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_ASSERT("File length must be positive!", (file->len >= 0));
 2695              		.loc 1 2355 5 view .LVU826
2355:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_ASSERT("File length must be positive!", (file->len >= 0));
 2696              		.loc 1 2355 20 is_stmt 0 view .LVU827
 2697 001a 2B68     		ldr	r3, [r5]
2355:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_ASSERT("File length must be positive!", (file->len >= 0));
 2698              		.loc 1 2355 14 view .LVU828
 2699 001c A361     		str	r3, [r4, #24]
2356:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CUSTOM_FILES
 2700              		.loc 1 2356 5 is_stmt 1 view .LVU829
2356:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CUSTOM_FILES
 2701              		.loc 1 2356 5 view .LVU830
 2702 001e 6B68     		ldr	r3, [r5, #4]
 2703 0020 002B     		cmp	r3, #0
 2704 0022 38DB     		blt	.L232
 2705              	.L226:
2356:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CUSTOM_FILES
 2706              		.loc 1 2356 5 discriminator 3 view .LVU831
2356:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CUSTOM_FILES
 2707              		.loc 1 2356 5 discriminator 3 view .LVU832
2364:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2708              		.loc 1 2364 7 view .LVU833
2364:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2709              		.loc 1 2364 29 is_stmt 0 view .LVU834
 2710 0024 6B68     		ldr	r3, [r5, #4]
2364:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2711              		.loc 1 2364 16 view .LVU835
 2712 0026 6362     		str	r3, [r4, #36]
2366:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_TIMING
 2713              		.loc 1 2366 5 is_stmt 1 view .LVU836
2366:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_TIMING
 2714              		.loc 1 2366 17 is_stmt 0 view .LVU837
 2715 0028 0023     		movs	r3, #0
 2716 002a 84F82830 		strb	r3, [r4, #40]
2371:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 (hs->handle->flags & FS_FILE_FLAGS_HEADER_INCLUDED) != 0);
 2717              		.loc 1 2371 5 is_stmt 1 view .LVU838
2371:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 (hs->handle->flags & FS_FILE_FLAGS_HEADER_INCLUDED) != 0);
 2718              		.loc 1 2371 5 view .LVU839
 2719 002e 6369     		ldr	r3, [r4, #20]
 2720 0030 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 2721 0032 13F0010F 		tst	r3, #1
 2722 0036 36D0     		beq	.L233
 2723              	.L227:
2371:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 (hs->handle->flags & FS_FILE_FLAGS_HEADER_INCLUDED) != 0);
 2724              		.loc 1 2371 5 discriminator 3 view .LVU840
2371:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 (hs->handle->flags & FS_FILE_FLAGS_HEADER_INCLUDED) != 0);
ARM GAS  C:\usertemp\ccrQXns0.s 			page 110


 2725              		.loc 1 2371 5 discriminator 3 view .LVU841
2375:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* HTTP/0.9 responses are sent without HTTP header,
 2726              		.loc 1 2375 5 view .LVU842
2375:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* HTTP/0.9 responses are sent without HTTP header,
 2727              		.loc 1 2375 8 is_stmt 0 view .LVU843
 2728 0038 002E     		cmp	r6, #0
 2729 003a 42D0     		beq	.L228
2375:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* HTTP/0.9 responses are sent without HTTP header,
 2730              		.loc 1 2375 22 discriminator 1 view .LVU844
 2731 003c 6369     		ldr	r3, [r4, #20]
2375:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* HTTP/0.9 responses are sent without HTTP header,
 2732              		.loc 1 2375 30 discriminator 1 view .LVU845
 2733 003e 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
2375:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* HTTP/0.9 responses are sent without HTTP header,
 2734              		.loc 1 2375 15 discriminator 1 view .LVU846
 2735 0040 13F0010F 		tst	r3, #1
 2736 0044 3DD0     		beq	.L228
 2737              	.LBB5:
2378:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (file_start != NULL) {
 2738              		.loc 1 2378 7 is_stmt 1 view .LVU847
2378:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (file_start != NULL) {
 2739              		.loc 1 2378 26 is_stmt 0 view .LVU848
 2740 0046 626A     		ldr	r2, [r4, #36]
 2741 0048 1F49     		ldr	r1, .L234
 2742 004a A069     		ldr	r0, [r4, #24]
 2743 004c FFF7FEFF 		bl	lwip_strnstr
 2744              	.LVL240:
2379:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         int diff = file_start + 4 - hs->file;
 2745              		.loc 1 2379 7 is_stmt 1 view .LVU849
2379:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         int diff = file_start + 4 - hs->file;
 2746              		.loc 1 2379 10 is_stmt 0 view .LVU850
 2747 0050 0346     		mov	r3, r0
 2748 0052 0028     		cmp	r0, #0
 2749 0054 35D0     		beq	.L228
 2750              	.LBB6:
2380:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->file += diff;
 2751              		.loc 1 2380 9 is_stmt 1 view .LVU851
2380:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->file += diff;
 2752              		.loc 1 2380 31 is_stmt 0 view .LVU852
 2753 0056 0433     		adds	r3, r3, #4
2380:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->file += diff;
 2754              		.loc 1 2380 39 view .LVU853
 2755 0058 A269     		ldr	r2, [r4, #24]
2380:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->file += diff;
 2756              		.loc 1 2380 13 view .LVU854
 2757 005a 9A1A     		subs	r2, r3, r2
 2758              	.LVL241:
2381:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->left -= (u32_t)diff;
 2759              		.loc 1 2381 9 is_stmt 1 view .LVU855
2381:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->left -= (u32_t)diff;
 2760              		.loc 1 2381 18 is_stmt 0 view .LVU856
 2761 005c A361     		str	r3, [r4, #24]
2382:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 2762              		.loc 1 2382 9 is_stmt 1 view .LVU857
2382:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 2763              		.loc 1 2382 11 is_stmt 0 view .LVU858
 2764 005e 636A     		ldr	r3, [r4, #36]
ARM GAS  C:\usertemp\ccrQXns0.s 			page 111


2382:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 2765              		.loc 1 2382 18 view .LVU859
 2766 0060 9B1A     		subs	r3, r3, r2
 2767 0062 6362     		str	r3, [r4, #36]
 2768 0064 2DE0     		b	.L228
 2769              	.LVL242:
 2770              	.L230:
2382:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 2771              		.loc 1 2382 18 view .LVU860
 2772              	.LBE6:
 2773              	.LBE5:
2315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 2774              		.loc 1 2315 5 is_stmt 1 discriminator 1 view .LVU861
2315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 2775              		.loc 1 2315 5 discriminator 1 view .LVU862
 2776 0066 194B     		ldr	r3, .L234+4
 2777 0068 40F60B12 		movw	r2, #2315
 2778              	.LVL243:
2315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 2779              		.loc 1 2315 5 is_stmt 0 discriminator 1 view .LVU863
 2780 006c 1849     		ldr	r1, .L234+8
 2781              	.LVL244:
2315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 2782              		.loc 1 2315 5 discriminator 1 view .LVU864
 2783 006e 1948     		ldr	r0, .L234+12
 2784              	.LVL245:
2315:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
 2785              		.loc 1 2315 5 discriminator 1 view .LVU865
 2786 0070 FFF7FEFF 		bl	printf
 2787              	.LVL246:
 2788 0074 CEE7     		b	.L224
 2789              	.L231:
 2790              	.LBB7:
2320:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (ssi != NULL) {
 2791              		.loc 1 2320 7 is_stmt 1 view .LVU866
2320:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (ssi != NULL) {
 2792              		.loc 1 2320 36 is_stmt 0 view .LVU867
 2793 0076 FFF7FEFF 		bl	http_ssi_state_alloc
 2794              	.LVL247:
2321:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->tag_index = 0;
 2795              		.loc 1 2321 7 is_stmt 1 view .LVU868
2321:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->tag_index = 0;
 2796              		.loc 1 2321 10 is_stmt 0 view .LVU869
 2797 007a 0028     		cmp	r0, #0
 2798 007c CCD0     		beq	.L225
2322:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->tag_state = TAG_NONE;
 2799              		.loc 1 2322 9 is_stmt 1 view .LVU870
2322:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->tag_state = TAG_NONE;
 2800              		.loc 1 2322 24 is_stmt 0 view .LVU871
 2801 007e 0022     		movs	r2, #0
 2802 0080 8281     		strh	r2, [r0, #12]	@ movhi
2323:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parsed = file->data;
 2803              		.loc 1 2323 9 is_stmt 1 view .LVU872
2323:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parsed = file->data;
 2804              		.loc 1 2323 24 is_stmt 0 view .LVU873
 2805 0082 80F8DC20 		strb	r2, [r0, #220]
2324:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parse_left = file->len;
ARM GAS  C:\usertemp\ccrQXns0.s 			page 112


 2806              		.loc 1 2324 9 is_stmt 1 view .LVU874
2324:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parse_left = file->len;
 2807              		.loc 1 2324 27 is_stmt 0 view .LVU875
 2808 0086 2A68     		ldr	r2, [r5]
2324:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->parse_left = file->len;
 2809              		.loc 1 2324 21 view .LVU876
 2810 0088 0260     		str	r2, [r0]
2325:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->tag_end = file->data;
 2811              		.loc 1 2325 9 is_stmt 1 view .LVU877
2325:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->tag_end = file->data;
 2812              		.loc 1 2325 31 is_stmt 0 view .LVU878
 2813 008a 6A68     		ldr	r2, [r5, #4]
2325:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         ssi->tag_end = file->data;
 2814              		.loc 1 2325 25 view .LVU879
 2815 008c 8260     		str	r2, [r0, #8]
2326:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->ssi = ssi;
 2816              		.loc 1 2326 9 is_stmt 1 view .LVU880
2326:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->ssi = ssi;
 2817              		.loc 1 2326 28 is_stmt 0 view .LVU881
 2818 008e 2A68     		ldr	r2, [r5]
2326:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         hs->ssi = ssi;
 2819              		.loc 1 2326 22 view .LVU882
 2820 0090 4260     		str	r2, [r0, #4]
2327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 2821              		.loc 1 2327 9 is_stmt 1 view .LVU883
2327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 2822              		.loc 1 2327 17 is_stmt 0 view .LVU884
 2823 0092 E062     		str	r0, [r4, #44]
 2824 0094 C0E7     		b	.L225
 2825              	.LVL248:
 2826              	.L232:
2327:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 2827              		.loc 1 2327 17 view .LVU885
 2828              	.LBE7:
2356:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CUSTOM_FILES
 2829              		.loc 1 2356 5 is_stmt 1 discriminator 1 view .LVU886
2356:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CUSTOM_FILES
 2830              		.loc 1 2356 5 discriminator 1 view .LVU887
 2831 0096 0D4B     		ldr	r3, .L234+4
 2832 0098 40F63412 		movw	r2, #2356
 2833 009c 0E49     		ldr	r1, .L234+16
 2834 009e 0D48     		ldr	r0, .L234+12
 2835 00a0 FFF7FEFF 		bl	printf
 2836              	.LVL249:
 2837 00a4 BEE7     		b	.L226
 2838              	.L233:
2371:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 (hs->handle->flags & FS_FILE_FLAGS_HEADER_INCLUDED) != 0);
 2839              		.loc 1 2371 5 discriminator 1 view .LVU888
2371:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                 (hs->handle->flags & FS_FILE_FLAGS_HEADER_INCLUDED) != 0);
 2840              		.loc 1 2371 5 discriminator 1 view .LVU889
 2841 00a6 094B     		ldr	r3, .L234+4
 2842 00a8 40F64312 		movw	r2, #2371
 2843 00ac 0B49     		ldr	r1, .L234+20
 2844 00ae 0948     		ldr	r0, .L234+12
 2845 00b0 FFF7FEFF 		bl	printf
 2846              	.LVL250:
 2847 00b4 C0E7     		b	.L227
ARM GAS  C:\usertemp\ccrQXns0.s 			page 113


 2848              	.LVL251:
 2849              	.L223:
2387:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->file = NULL;
 2850              		.loc 1 2387 5 view .LVU890
2387:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->file = NULL;
 2851              		.loc 1 2387 16 is_stmt 0 view .LVU891
 2852 00b6 0023     		movs	r3, #0
 2853              	.LVL252:
2387:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->file = NULL;
 2854              		.loc 1 2387 16 view .LVU892
 2855 00b8 4361     		str	r3, [r0, #20]
2388:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->left = 0;
 2856              		.loc 1 2388 5 is_stmt 1 view .LVU893
2388:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->left = 0;
 2857              		.loc 1 2388 14 is_stmt 0 view .LVU894
 2858 00ba 8361     		str	r3, [r0, #24]
2389:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->retries = 0;
 2859              		.loc 1 2389 5 is_stmt 1 view .LVU895
2389:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->retries = 0;
 2860              		.loc 1 2389 14 is_stmt 0 view .LVU896
 2861 00bc 4362     		str	r3, [r0, #36]
2390:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 2862              		.loc 1 2390 5 is_stmt 1 view .LVU897
2390:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 2863              		.loc 1 2390 17 is_stmt 0 view .LVU898
 2864 00be 80F82830 		strb	r3, [r0, #40]
 2865              	.LVL253:
 2866              	.L228:
2399:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_DYNAMIC_HEADERS */
 2867              		.loc 1 2399 3 is_stmt 1 view .LVU899
2416:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 2868              		.loc 1 2416 3 view .LVU900
2417:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2869              		.loc 1 2417 1 is_stmt 0 view .LVU901
 2870 00c2 0020     		movs	r0, #0
 2871 00c4 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2872              	.LVL254:
 2873              	.L235:
2417:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2874              		.loc 1 2417 1 view .LVU902
 2875 00c6 00BF     		.align	2
 2876              	.L234:
 2877 00c8 60000000 		.word	.LC18
 2878 00cc 00000000 		.word	.LC0
 2879 00d0 00000000 		.word	.LC15
 2880 00d4 50000000 		.word	.LC2
 2881 00d8 14000000 		.word	.LC16
 2882 00dc 34000000 		.word	.LC17
 2883              		.cfi_endproc
 2884              	.LFE379:
 2886              		.section	.text.http_find_file,"ax",%progbits
 2887              		.align	1
 2888              		.syntax unified
 2889              		.thumb
 2890              		.thumb_func
 2892              	http_find_file:
 2893              	.LVL255:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 114


 2894              	.LFB378:
2177:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   size_t loop;
 2895              		.loc 1 2177 1 is_stmt 1 view -0
 2896              		.cfi_startproc
 2897              		@ args = 0, pretend = 0, frame = 8
 2898              		@ frame_needed = 0, uses_anonymous_args = 0
2177:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   size_t loop;
 2899              		.loc 1 2177 1 is_stmt 0 view .LVU904
 2900 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2901              	.LCFI33:
 2902              		.cfi_def_cfa_offset 36
 2903              		.cfi_offset 4, -36
 2904              		.cfi_offset 5, -32
 2905              		.cfi_offset 6, -28
 2906              		.cfi_offset 7, -24
 2907              		.cfi_offset 8, -20
 2908              		.cfi_offset 9, -16
 2909              		.cfi_offset 10, -12
 2910              		.cfi_offset 11, -8
 2911              		.cfi_offset 14, -4
 2912 0004 85B0     		sub	sp, sp, #20
 2913              	.LCFI34:
 2914              		.cfi_def_cfa_offset 56
 2915 0006 0546     		mov	r5, r0
 2916 0008 0391     		str	r1, [sp, #12]
 2917 000a 1746     		mov	r7, r2
2178:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct fs_file *file = NULL;
 2918              		.loc 1 2178 3 is_stmt 1 view .LVU905
2179:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *params = NULL;
 2919              		.loc 1 2179 3 view .LVU906
 2920              	.LVL256:
2180:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
 2921              		.loc 1 2180 3 view .LVU907
2181:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CGI
 2922              		.loc 1 2181 3 view .LVU908
2183:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_CGI */
 2923              		.loc 1 2183 3 view .LVU909
2189:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2924              		.loc 1 2189 3 view .LVU910
2193:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((uri_len > 0) && (uri[uri_len - 1] == '/') &&
 2925              		.loc 1 2193 3 view .LVU911
2193:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((uri_len > 0) && (uri[uri_len - 1] == '/') &&
 2926              		.loc 1 2193 20 is_stmt 0 view .LVU912
 2927 000c 0C46     		mov	r4, r1
 2928 000e 0846     		mov	r0, r1
 2929              	.LVL257:
2193:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((uri_len > 0) && (uri[uri_len - 1] == '/') &&
 2930              		.loc 1 2193 20 view .LVU913
 2931 0010 FFF7FEFF 		bl	strlen
 2932              	.LVL258:
2194:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ((uri != http_uri_buf) || (uri_len == 1))) {
 2933              		.loc 1 2194 3 is_stmt 1 view .LVU914
2194:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ((uri != http_uri_buf) || (uri_len == 1))) {
 2934              		.loc 1 2194 6 is_stmt 0 view .LVU915
 2935 0014 0028     		cmp	r0, #0
 2936 0016 5ED0     		beq	.L254
 2937 0018 8046     		mov	r8, r0
ARM GAS  C:\usertemp\ccrQXns0.s 			page 115


2194:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ((uri != http_uri_buf) || (uri_len == 1))) {
 2938              		.loc 1 2194 28 discriminator 1 view .LVU916
 2939 001a 461E     		subs	r6, r0, #1
 2940 001c A35D     		ldrb	r3, [r4, r6]	@ zero_extendqisi2
2194:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ((uri != http_uri_buf) || (uri_len == 1))) {
 2941              		.loc 1 2194 21 discriminator 1 view .LVU917
 2942 001e 2F2B     		cmp	r3, #47
 2943 0020 02D0     		beq	.L262
2189:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2944              		.loc 1 2189 8 view .LVU918
 2945 0022 4FF0000A 		mov	r10, #0
 2946 0026 58E0     		b	.L237
 2947              	.L262:
2194:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       ((uri != http_uri_buf) || (uri_len == 1))) {
 2948              		.loc 1 2194 50 discriminator 2 view .LVU919
 2949 0028 5D4B     		ldr	r3, .L272
 2950 002a 9C42     		cmp	r4, r3
 2951 002c 08D0     		beq	.L263
 2952              	.L238:
 2953              	.LBB8:
2196:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (copy_len > 0) {
 2954              		.loc 1 2196 5 is_stmt 1 view .LVU920
2196:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (copy_len > 0) {
 2955              		.loc 1 2196 12 is_stmt 0 view .LVU921
 2956 002e 3F2E     		cmp	r6, #63
 2957 0030 28BF     		it	cs
 2958 0032 3F26     		movcs	r6, #63
 2959              	.LVL259:
2197:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       MEMCPY(http_uri_buf, uri, copy_len);
 2960              		.loc 1 2197 5 is_stmt 1 view .LVU922
2197:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       MEMCPY(http_uri_buf, uri, copy_len);
 2961              		.loc 1 2197 8 is_stmt 0 view .LVU923
 2962 0034 B8F1010F 		cmp	r8, #1
 2963 0038 07D1     		bne	.L264
 2964              	.LVL260:
 2965              	.L239:
 2966              	.LBB9:
 2967              	.LBB10:
2217:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else
 2968              		.loc 1 2217 19 view .LVU924
 2969 003a 4FF00009 		mov	r9, #0
 2970 003e 2FE0     		b	.L244
 2971              	.LVL261:
 2972              	.L263:
2217:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else
 2973              		.loc 1 2217 19 view .LVU925
 2974              	.LBE10:
 2975              	.LBE9:
 2976              	.LBE8:
2195:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     size_t copy_len = LWIP_MIN(sizeof(http_uri_buf) - 1, uri_len - 1);
 2977              		.loc 1 2195 30 view .LVU926
 2978 0040 0128     		cmp	r0, #1
 2979 0042 F4D0     		beq	.L238
2189:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 2980              		.loc 1 2189 8 view .LVU927
 2981 0044 4FF0000A 		mov	r10, #0
 2982 0048 47E0     		b	.L237
ARM GAS  C:\usertemp\ccrQXns0.s 			page 116


 2983              	.LVL262:
 2984              	.L264:
 2985              	.LBB16:
2198:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       http_uri_buf[copy_len] = 0;
 2986              		.loc 1 2198 7 is_stmt 1 view .LVU928
 2987 004a DFF85491 		ldr	r9, .L272
 2988 004e 3246     		mov	r2, r6
 2989 0050 2146     		mov	r1, r4
 2990 0052 4846     		mov	r0, r9
 2991              	.LVL263:
2198:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       http_uri_buf[copy_len] = 0;
 2992              		.loc 1 2198 7 is_stmt 0 view .LVU929
 2993 0054 FFF7FEFF 		bl	memcpy
 2994              	.LVL264:
2199:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2995              		.loc 1 2199 7 is_stmt 1 view .LVU930
2199:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 2996              		.loc 1 2199 30 is_stmt 0 view .LVU931
 2997 0058 0023     		movs	r3, #0
 2998 005a 09F80630 		strb	r3, [r9, r6]
 2999 005e ECE7     		b	.L239
 3000              	.LVL265:
 3001              	.L267:
 3002              	.LBB14:
 3003              	.LBB12:
 3004              	.LBB11:
2212:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           size_t name_copy_len = LWIP_MIN(len_left, name_len);
 3005              		.loc 1 2212 11 is_stmt 1 view .LVU932
2212:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           size_t name_copy_len = LWIP_MIN(len_left, name_len);
 3006              		.loc 1 2212 65 is_stmt 0 view .LVU933
 3007 0060 504B     		ldr	r3, .L272+4
 3008 0062 53F839A0 		ldr	r10, [r3, r9, lsl #3]
2212:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           size_t name_copy_len = LWIP_MIN(len_left, name_len);
 3009              		.loc 1 2212 29 view .LVU934
 3010 0066 5046     		mov	r0, r10
 3011 0068 FFF7FEFF 		bl	strlen
 3012              	.LVL266:
2213:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           MEMCPY(&http_uri_buf[copy_len], httpd_default_filenames[loop].name, name_copy_len);
 3013              		.loc 1 2213 11 is_stmt 1 view .LVU935
2213:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           MEMCPY(&http_uri_buf[copy_len], httpd_default_filenames[loop].name, name_copy_len);
 3014              		.loc 1 2213 18 is_stmt 0 view .LVU936
 3015 006c 8345     		cmp	fp, r0
 3016 006e 28BF     		it	cs
 3017 0070 8346     		movcs	fp, r0
 3018              	.LVL267:
2214:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           http_uri_buf[copy_len + name_copy_len] = 0;
 3019              		.loc 1 2214 11 is_stmt 1 view .LVU937
 3020 0072 4B4C     		ldr	r4, .L272
 3021 0074 5A46     		mov	r2, fp
 3022 0076 5146     		mov	r1, r10
 3023 0078 A019     		adds	r0, r4, r6
 3024              	.LVL268:
2214:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           http_uri_buf[copy_len + name_copy_len] = 0;
 3025              		.loc 1 2214 11 is_stmt 0 view .LVU938
 3026 007a FFF7FEFF 		bl	memcpy
 3027              	.LVL269:
2215:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
ARM GAS  C:\usertemp\ccrQXns0.s 			page 117


 3028              		.loc 1 2215 11 is_stmt 1 view .LVU939
2215:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 3029              		.loc 1 2215 33 is_stmt 0 view .LVU940
 3030 007e B344     		add	fp, fp, r6
 3031              	.LVL270:
2215:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 3032              		.loc 1 2215 50 view .LVU941
 3033 0080 0023     		movs	r3, #0
 3034 0082 04F80B30 		strb	r3, [r4, fp]
 3035              	.LBE11:
2217:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else
 3036              		.loc 1 2217 19 view .LVU942
 3037 0086 A246     		mov	r10, r4
 3038 0088 02E0     		b	.L241
 3039              	.LVL271:
 3040              	.L240:
2217:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else
 3041              		.loc 1 2217 19 view .LVU943
 3042              	.LBE12:
2221:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 3043              		.loc 1 2221 9 is_stmt 1 view .LVU944
2221:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 3044              		.loc 1 2221 19 is_stmt 0 view .LVU945
 3045 008a 464B     		ldr	r3, .L272+4
 3046 008c 53F839A0 		ldr	r10, [r3, r9, lsl #3]
 3047              	.LVL272:
 3048              	.L241:
2223:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       err = fs_open(&hs->file_handle, file_name);
 3049              		.loc 1 2223 84 is_stmt 1 view .LVU946
2224:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (err == ERR_OK) {
 3050              		.loc 1 2224 7 view .LVU947
2224:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (err == ERR_OK) {
 3051              		.loc 1 2224 13 is_stmt 0 view .LVU948
 3052 0090 2C46     		mov	r4, r5
 3053 0092 5146     		mov	r1, r10
 3054 0094 2846     		mov	r0, r5
 3055 0096 FFF7FEFF 		bl	fs_open
 3056              	.LVL273:
2225:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         uri = file_name;
 3057              		.loc 1 2225 7 is_stmt 1 view .LVU949
2225:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         uri = file_name;
 3058              		.loc 1 2225 10 is_stmt 0 view .LVU950
 3059 009a 68B1     		cbz	r0, .L265
 3060              	.LVL274:
2225:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         uri = file_name;
 3061              		.loc 1 2225 10 view .LVU951
 3062              	.LBE14:
2206:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       const char *file_name;
 3063              		.loc 1 2206 54 is_stmt 1 discriminator 2 view .LVU952
 3064 009c 09F10109 		add	r9, r9, #1
 3065              	.LVL275:
 3066              	.L244:
2206:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       const char *file_name;
 3067              		.loc 1 2206 25 discriminator 1 view .LVU953
 3068 00a0 B9F1040F 		cmp	r9, #4
 3069 00a4 10D8     		bhi	.L266
 3070              	.LBB15:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 118


2207:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_MAX_REQUEST_URI_LEN
 3071              		.loc 1 2207 7 view .LVU954
2209:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         size_t len_left = sizeof(http_uri_buf) - copy_len - 1;
 3072              		.loc 1 2209 7 view .LVU955
2209:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         size_t len_left = sizeof(http_uri_buf) - copy_len - 1;
 3073              		.loc 1 2209 10 is_stmt 0 view .LVU956
 3074 00a6 B8F1010F 		cmp	r8, #1
 3075 00aa EED0     		beq	.L240
 3076              	.LBB13:
2210:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (len_left > 0) {
 3077              		.loc 1 2210 9 is_stmt 1 view .LVU957
 3078              	.LVL276:
2211:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           size_t name_len = strlen(httpd_default_filenames[loop].name);
 3079              		.loc 1 2211 9 view .LVU958
2211:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           size_t name_len = strlen(httpd_default_filenames[loop].name);
 3080              		.loc 1 2211 12 is_stmt 0 view .LVU959
 3081 00ac D6F13F0B 		rsbs	fp, r6, #63
 3082              	.LVL277:
2211:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           size_t name_len = strlen(httpd_default_filenames[loop].name);
 3083              		.loc 1 2211 12 view .LVU960
 3084 00b0 D6D1     		bne	.L267
2217:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else
 3085              		.loc 1 2217 19 view .LVU961
 3086 00b2 DFF8ECA0 		ldr	r10, .L272
 3087 00b6 EBE7     		b	.L241
 3088              	.LVL278:
 3089              	.L265:
2217:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else
 3090              		.loc 1 2217 19 view .LVU962
 3091              	.LBE13:
2226:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         file = &hs->file_handle;
 3092              		.loc 1 2226 9 is_stmt 1 view .LVU963
2226:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         file = &hs->file_handle;
 3093              		.loc 1 2226 13 is_stmt 0 view .LVU964
 3094 00b8 CDF80CA0 		str	r10, [sp, #12]
2227:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("Opened.\n"));
 3095              		.loc 1 2227 9 is_stmt 1 view .LVU965
 3096              	.LVL279:
2228:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
 3097              		.loc 1 2228 65 view .LVU966
2230:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 3098              		.loc 1 2230 9 view .LVU967
2230:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
 3099              		.loc 1 2230 19 is_stmt 0 view .LVU968
 3100 00bc 394B     		ldr	r3, .L272+4
 3101 00be 03EBC903 		add	r3, r3, r9, lsl #3
 3102 00c2 93F804A0 		ldrb	r10, [r3, #4]	@ zero_extendqisi2
 3103              	.LVL280:
2232:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 3104              		.loc 1 2232 9 is_stmt 1 view .LVU969
 3105 00c6 02E0     		b	.L243
 3106              	.LVL281:
 3107              	.L266:
2232:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 3108              		.loc 1 2232 9 is_stmt 0 view .LVU970
 3109              	.LBE15:
 3110              	.LBE16:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 119


2189:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3111              		.loc 1 2189 8 view .LVU971
 3112 00c8 4FF0000A 		mov	r10, #0
2179:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *params = NULL;
 3113              		.loc 1 2179 19 view .LVU972
 3114 00cc 5446     		mov	r4, r10
 3115              	.LVL282:
 3116              	.L243:
2236:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* No - we've been asked for a specific file. */
 3117              		.loc 1 2236 3 is_stmt 1 view .LVU973
2236:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* No - we've been asked for a specific file. */
 3118              		.loc 1 2236 6 is_stmt 0 view .LVU974
 3119 00ce 24B1     		cbz	r4, .L237
2180:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
 3120              		.loc 1 2180 9 view .LVU975
 3121 00d0 4FF00009 		mov	r9, #0
 3122              	.LVL283:
2180:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   err_t err;
 3123              		.loc 1 2180 9 view .LVU976
 3124 00d4 43E0     		b	.L246
 3125              	.LVL284:
 3126              	.L254:
2189:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3127              		.loc 1 2189 8 view .LVU977
 3128 00d6 4FF0000A 		mov	r10, #0
 3129              	.LVL285:
 3130              	.L237:
2239:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (params != NULL) {
 3131              		.loc 1 2239 5 is_stmt 1 view .LVU978
2239:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (params != NULL) {
 3132              		.loc 1 2239 14 is_stmt 0 view .LVU979
 3133 00da 3F21     		movs	r1, #63
 3134 00dc 0398     		ldr	r0, [sp, #12]
 3135 00de FFF7FEFF 		bl	strchr
 3136              	.LVL286:
2240:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* URI contains parameters. NULL-terminate the base URI */
 3137              		.loc 1 2240 5 is_stmt 1 view .LVU980
2240:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* URI contains parameters. NULL-terminate the base URI */
 3138              		.loc 1 2240 8 is_stmt 0 view .LVU981
 3139 00e2 8146     		mov	r9, r0
 3140 00e4 10B1     		cbz	r0, .L247
2242:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       params++;
 3141              		.loc 1 2242 7 is_stmt 1 view .LVU982
2242:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       params++;
 3142              		.loc 1 2242 15 is_stmt 0 view .LVU983
 3143 00e6 0023     		movs	r3, #0
 3144 00e8 09F8013B 		strb	r3, [r9], #1
2243:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 3145              		.loc 1 2243 7 is_stmt 1 view .LVU984
 3146              	.LVL287:
 3147              	.L247:
2247:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Does the base URI we have isolated correspond to a CGI handler? */
 3148              		.loc 1 2247 5 view .LVU985
2247:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* Does the base URI we have isolated correspond to a CGI handler? */
 3149              		.loc 1 2247 25 is_stmt 0 view .LVU986
 3150 00ec 2E4B     		ldr	r3, .L272+8
 3151 00ee 4FF0FF32 		mov	r2, #-1
ARM GAS  C:\usertemp\ccrQXns0.s 			page 120


 3152 00f2 1A60     		str	r2, [r3]
2249:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       for (i = 0; i < httpd_num_cgis; i++) {
 3153              		.loc 1 2249 5 is_stmt 1 view .LVU987
2249:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       for (i = 0; i < httpd_num_cgis; i++) {
 3154              		.loc 1 2249 9 is_stmt 0 view .LVU988
 3155 00f4 2D4B     		ldr	r3, .L272+12
 3156 00f6 1E68     		ldr	r6, [r3]
2249:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       for (i = 0; i < httpd_num_cgis; i++) {
 3157              		.loc 1 2249 8 view .LVU989
 3158 00f8 26B3     		cbz	r6, .L248
2249:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       for (i = 0; i < httpd_num_cgis; i++) {
 3159              		.loc 1 2249 24 discriminator 1 view .LVU990
 3160 00fa 2D4B     		ldr	r3, .L272+16
 3161 00fc D3F80080 		ldr	r8, [r3]
 3162 0100 B8F1000F 		cmp	r8, #0
 3163 0104 1ED0     		beq	.L248
2250:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (strcmp(uri, httpd_cgis[i].pcCGIName) == 0) {
 3164              		.loc 1 2250 14 view .LVU991
 3165 0106 0024     		movs	r4, #0
 3166              	.L249:
 3167              	.LVL288:
2250:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (strcmp(uri, httpd_cgis[i].pcCGIName) == 0) {
 3168              		.loc 1 2250 21 is_stmt 1 discriminator 1 view .LVU992
 3169 0108 A642     		cmp	r6, r4
 3170 010a 1BDD     		ble	.L248
2251:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /*
 3171              		.loc 1 2251 9 view .LVU993
2251:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /*
 3172              		.loc 1 2251 35 is_stmt 0 view .LVU994
 3173 010c 4FEAC40B 		lsl	fp, r4, #3
2251:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /*
 3174              		.loc 1 2251 13 view .LVU995
 3175 0110 58F83410 		ldr	r1, [r8, r4, lsl #3]
 3176 0114 0398     		ldr	r0, [sp, #12]
 3177 0116 FFF7FEFF 		bl	strcmp
 3178              	.LVL289:
2251:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           /*
 3179              		.loc 1 2251 12 discriminator 1 view .LVU996
 3180 011a 08B1     		cbz	r0, .L268
2250:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (strcmp(uri, httpd_cgis[i].pcCGIName) == 0) {
 3181              		.loc 1 2250 40 is_stmt 1 discriminator 2 view .LVU997
 3182 011c 0134     		adds	r4, r4, #1
 3183              	.LVL290:
2250:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         if (strcmp(uri, httpd_cgis[i].pcCGIName) == 0) {
 3184              		.loc 1 2250 40 is_stmt 0 discriminator 2 view .LVU998
 3185 011e F3E7     		b	.L249
 3186              	.L268:
2256:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           uri = httpd_cgis[i].pfnCGIHandler(i, http_cgi_paramcount, hs->params,
 3187              		.loc 1 2256 11 is_stmt 1 view .LVU999
2256:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           uri = httpd_cgis[i].pfnCGIHandler(i, http_cgi_paramcount, hs->params,
 3188              		.loc 1 2256 33 is_stmt 0 view .LVU1000
 3189 0120 4946     		mov	r1, r9
 3190 0122 2846     		mov	r0, r5
 3191 0124 FFF7FEFF 		bl	extract_uri_parameters
 3192              	.LVL291:
 3193 0128 0146     		mov	r1, r0
2256:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           uri = httpd_cgis[i].pfnCGIHandler(i, http_cgi_paramcount, hs->params,
ARM GAS  C:\usertemp\ccrQXns0.s 			page 121


 3194              		.loc 1 2256 31 discriminator 1 view .LVU1001
 3195 012a 1F4B     		ldr	r3, .L272+8
 3196 012c 1860     		str	r0, [r3]
2257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                          hs->param_vals);
 3197              		.loc 1 2257 11 is_stmt 1 view .LVU1002
2257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                          hs->param_vals);
 3198              		.loc 1 2257 27 is_stmt 0 view .LVU1003
 3199 012e 204B     		ldr	r3, .L272+16
 3200 0130 1B68     		ldr	r3, [r3]
 3201 0132 5B44     		add	r3, r3, fp
2257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                          hs->param_vals);
 3202              		.loc 1 2257 30 view .LVU1004
 3203 0134 5E68     		ldr	r6, [r3, #4]
2257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                          hs->param_vals);
 3204              		.loc 1 2257 17 view .LVU1005
 3205 0136 05F17003 		add	r3, r5, #112
 3206 013a 05F13002 		add	r2, r5, #48
 3207 013e 2046     		mov	r0, r4
 3208 0140 B047     		blx	r6
 3209              	.LVL292:
2257:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                                          hs->param_vals);
 3210              		.loc 1 2257 15 discriminator 1 view .LVU1006
 3211 0142 0390     		str	r0, [sp, #12]
2259:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 3212              		.loc 1 2259 11 is_stmt 1 view .LVU1007
 3213              	.LVL293:
 3214              	.L248:
2265:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3215              		.loc 1 2265 69 view .LVU1008
2267:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err == ERR_OK) {
 3216              		.loc 1 2267 5 view .LVU1009
2267:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (err == ERR_OK) {
 3217              		.loc 1 2267 11 is_stmt 0 view .LVU1010
 3218 0144 2C46     		mov	r4, r5
 3219 0146 0399     		ldr	r1, [sp, #12]
 3220 0148 2846     		mov	r0, r5
 3221 014a FFF7FEFF 		bl	fs_open
 3222              	.LVL294:
2268:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       file = &hs->file_handle;
 3223              		.loc 1 2268 5 is_stmt 1 view .LVU1011
2268:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       file = &hs->file_handle;
 3224              		.loc 1 2268 8 is_stmt 0 view .LVU1012
 3225 014e A0B9     		cbnz	r0, .L269
 3226              	.LVL295:
 3227              	.L252:
2274:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (file->flags & FS_FILE_FLAGS_SSI) {
 3228              		.loc 1 2274 5 is_stmt 1 view .LVU1013
2274:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (file->flags & FS_FILE_FLAGS_SSI) {
 3229              		.loc 1 2274 8 is_stmt 0 view .LVU1014
 3230 0150 2CB1     		cbz	r4, .L246
2275:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         tag_check = 1;
 3231              		.loc 1 2275 7 is_stmt 1 view .LVU1015
2275:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         tag_check = 1;
 3232              		.loc 1 2275 15 is_stmt 0 view .LVU1016
 3233 0152 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
2275:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         tag_check = 1;
 3234              		.loc 1 2275 10 view .LVU1017
ARM GAS  C:\usertemp\ccrQXns0.s 			page 122


 3235 0154 13F0080F 		tst	r3, #8
 3236 0158 15D0     		beq	.L270
2276:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       } else {
 3237              		.loc 1 2276 19 view .LVU1018
 3238 015a 4FF0010A 		mov	r10, #1
 3239              	.LVL296:
 3240              	.L246:
2285:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* None of the default filenames exist so send back a 404 page */
 3241              		.loc 1 2285 3 is_stmt 1 view .LVU1019
2285:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* None of the default filenames exist so send back a 404 page */
 3242              		.loc 1 2285 6 is_stmt 0 view .LVU1020
 3243 015e C4B1     		cbz	r4, .L271
 3244              	.L253:
2289:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 3245              		.loc 1 2289 3 is_stmt 1 view .LVU1021
2289:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 3246              		.loc 1 2289 10 is_stmt 0 view .LVU1022
 3247 0160 CDF80490 		str	r9, [sp, #4]
 3248 0164 CDF800A0 		str	r10, [sp]
 3249 0168 039B     		ldr	r3, [sp, #12]
 3250 016a 3A46     		mov	r2, r7
 3251 016c 2146     		mov	r1, r4
 3252 016e 2846     		mov	r0, r5
 3253 0170 FFF7FEFF 		bl	http_init_file
 3254              	.LVL297:
2290:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3255              		.loc 1 2290 1 view .LVU1023
 3256 0174 05B0     		add	sp, sp, #20
 3257              	.LCFI35:
 3258              		.cfi_remember_state
 3259              		.cfi_def_cfa_offset 36
 3260              		@ sp needed
 3261 0176 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3262              	.LVL298:
 3263              	.L269:
 3264              	.LCFI36:
 3265              		.cfi_restore_state
2271:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 3266              		.loc 1 2271 7 is_stmt 1 view .LVU1024
2271:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 3267              		.loc 1 2271 14 is_stmt 0 view .LVU1025
 3268 017a 03A9     		add	r1, sp, #12
 3269 017c 2846     		mov	r0, r5
 3270              	.LVL299:
2271:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 3271              		.loc 1 2271 14 view .LVU1026
 3272 017e FFF7FEFF 		bl	http_get_404_file
 3273              	.LVL300:
 3274 0182 0446     		mov	r4, r0
 3275              	.LVL301:
2271:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 3276              		.loc 1 2271 14 view .LVU1027
 3277 0184 E4E7     		b	.L252
 3278              	.LVL302:
 3279              	.L270:
2279:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_BY_FILE_EXTENSION */
 3280              		.loc 1 2279 9 is_stmt 1 view .LVU1028
ARM GAS  C:\usertemp\ccrQXns0.s 			page 123


2279:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_BY_FILE_EXTENSION */
 3281              		.loc 1 2279 21 is_stmt 0 view .LVU1029
 3282 0186 0399     		ldr	r1, [sp, #12]
 3283 0188 2046     		mov	r0, r4
 3284 018a FFF7FEFF 		bl	http_uri_is_ssi
 3285              	.LVL303:
 3286 018e 8246     		mov	r10, r0
 3287              	.LVL304:
2279:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI_BY_FILE_EXTENSION */
 3288              		.loc 1 2279 21 view .LVU1030
 3289 0190 E5E7     		b	.L246
 3290              	.LVL305:
 3291              	.L271:
2287:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3292              		.loc 1 2287 5 is_stmt 1 view .LVU1031
2287:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3293              		.loc 1 2287 12 is_stmt 0 view .LVU1032
 3294 0192 03A9     		add	r1, sp, #12
 3295 0194 2846     		mov	r0, r5
 3296 0196 FFF7FEFF 		bl	http_get_404_file
 3297              	.LVL306:
 3298 019a 0446     		mov	r4, r0
 3299              	.LVL307:
2287:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3300              		.loc 1 2287 12 view .LVU1033
 3301 019c E0E7     		b	.L253
 3302              	.L273:
 3303 019e 00BF     		.align	2
 3304              	.L272:
 3305 01a0 00000000 		.word	http_uri_buf
 3306 01a4 00000000 		.word	httpd_default_filenames
 3307 01a8 00000000 		.word	http_cgi_paramcount
 3308 01ac 00000000 		.word	httpd_num_cgis
 3309 01b0 00000000 		.word	httpd_cgis
 3310              		.cfi_endproc
 3311              	.LFE378:
 3313              		.section	.rodata.http_parse_request.str1.4,"aMS",%progbits,1
 3314              		.align	2
 3315              	.LC19:
 3316 0000 7020213D 		.ascii	"p != NULL\000"
 3316      204E554C 
 3316      4C00
 3317 000a 0000     		.align	2
 3318              	.LC20:
 3319 000c 0D0A00   		.ascii	"\015\012\000"
 3320 000f 00       		.align	2
 3321              	.LC21:
 3322 0010 47455420 		.ascii	"GET \000"
 3322      00
 3323 0015 000000   		.align	2
 3324              	.LC22:
 3325 0018 2000     		.ascii	" \000"
 3326              		.section	.text.http_parse_request,"ax",%progbits
 3327              		.align	1
 3328              		.syntax unified
 3329              		.thumb
 3330              		.thumb_func
ARM GAS  C:\usertemp\ccrQXns0.s 			page 124


 3332              	http_parse_request:
 3333              	.LVL308:
 3334              	.LFB376:
1953:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *data;
 3335              		.loc 1 1953 1 is_stmt 1 view -0
 3336              		.cfi_startproc
 3337              		@ args = 0, pretend = 0, frame = 0
 3338              		@ frame_needed = 0, uses_anonymous_args = 0
1953:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *data;
 3339              		.loc 1 1953 1 is_stmt 0 view .LVU1035
 3340 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3341              	.LCFI37:
 3342              		.cfi_def_cfa_offset 32
 3343              		.cfi_offset 4, -32
 3344              		.cfi_offset 5, -28
 3345              		.cfi_offset 6, -24
 3346              		.cfi_offset 7, -20
 3347              		.cfi_offset 8, -16
 3348              		.cfi_offset 9, -12
 3349              		.cfi_offset 10, -8
 3350              		.cfi_offset 14, -4
 3351 0004 0C46     		mov	r4, r1
1954:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   char *crlf;
 3352              		.loc 1 1954 3 is_stmt 1 view .LVU1036
1955:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   u16_t data_len;
 3353              		.loc 1 1955 3 view .LVU1037
1956:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct pbuf *p = inp;
 3354              		.loc 1 1956 3 view .LVU1038
1957:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_REQUESTLIST
 3355              		.loc 1 1957 3 view .LVU1039
 3356              	.LVL309:
1959:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SUPPORT_REQUESTLIST */
 3357              		.loc 1 1959 3 view .LVU1040
1965:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 3358              		.loc 1 1965 3 view .LVU1041
1966:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("hs != NULL", hs != NULL);
 3359              		.loc 1 1966 3 view .LVU1042
1966:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("hs != NULL", hs != NULL);
 3360              		.loc 1 1966 3 view .LVU1043
 3361 0006 0546     		mov	r5, r0
 3362 0008 0028     		cmp	r0, #0
 3363 000a 53D0     		beq	.L291
 3364              	.LVL310:
 3365              	.L275:
1966:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("hs != NULL", hs != NULL);
 3366              		.loc 1 1966 3 discriminator 3 view .LVU1044
1966:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("hs != NULL", hs != NULL);
 3367              		.loc 1 1966 3 discriminator 3 view .LVU1045
1967:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3368              		.loc 1 1967 3 view .LVU1046
1967:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3369              		.loc 1 1967 3 view .LVU1047
 3370 000c 002C     		cmp	r4, #0
 3371 000e 59D0     		beq	.L292
 3372              	.L276:
1967:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3373              		.loc 1 1967 3 discriminator 3 view .LVU1048
ARM GAS  C:\usertemp\ccrQXns0.s 			page 125


1967:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3374              		.loc 1 1967 3 discriminator 3 view .LVU1049
1969:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("Received data while sending a file\n"));
 3375              		.loc 1 1969 3 view .LVU1050
1969:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("Received data while sending a file\n"));
 3376              		.loc 1 1969 10 is_stmt 0 view .LVU1051
 3377 0010 6369     		ldr	r3, [r4, #20]
1969:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("Received data while sending a file\n"));
 3378              		.loc 1 1969 6 view .LVU1052
 3379 0012 002B     		cmp	r3, #0
 3380 0014 40F08380 		bne	.L286
1969:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("Received data while sending a file\n"));
 3381              		.loc 1 1969 34 discriminator 1 view .LVU1053
 3382 0018 A369     		ldr	r3, [r4, #24]
1969:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("Received data while sending a file\n"));
 3383              		.loc 1 1969 28 discriminator 1 view .LVU1054
 3384 001a 002B     		cmp	r3, #0
 3385 001c 40F08280 		bne	.L287
1978:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3386              		.loc 1 1978 70 is_stmt 1 view .LVU1055
1983:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("First pbuf\n"));
 3387              		.loc 1 1983 3 view .LVU1056
1983:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("First pbuf\n"));
 3388              		.loc 1 1983 9 is_stmt 0 view .LVU1057
 3389 0020 206A     		ldr	r0, [r4, #32]
1983:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("First pbuf\n"));
 3390              		.loc 1 1983 6 view .LVU1058
 3391 0022 0028     		cmp	r0, #0
 3392 0024 56D0     		beq	.L293
1987:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pbuf_cat(hs->req, p);
 3393              		.loc 1 1987 50 is_stmt 1 view .LVU1059
1988:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3394              		.loc 1 1988 5 view .LVU1060
 3395 0026 2946     		mov	r1, r5
 3396 0028 FFF7FEFF 		bl	pbuf_cat
 3397              	.LVL311:
 3398              	.L279:
1992:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3399              		.loc 1 1992 3 view .LVU1061
 3400 002c 2846     		mov	r0, r5
 3401 002e FFF7FEFF 		bl	pbuf_ref
 3402              	.LVL312:
1994:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_len = LWIP_MIN(hs->req->tot_len, LWIP_HTTPD_MAX_REQ_LENGTH);
 3403              		.loc 1 1994 3 view .LVU1062
1994:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_len = LWIP_MIN(hs->req->tot_len, LWIP_HTTPD_MAX_REQ_LENGTH);
 3404              		.loc 1 1994 9 is_stmt 0 view .LVU1063
 3405 0032 206A     		ldr	r0, [r4, #32]
1994:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_len = LWIP_MIN(hs->req->tot_len, LWIP_HTTPD_MAX_REQ_LENGTH);
 3406              		.loc 1 1994 14 view .LVU1064
 3407 0034 0368     		ldr	r3, [r0]
1994:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_len = LWIP_MIN(hs->req->tot_len, LWIP_HTTPD_MAX_REQ_LENGTH);
 3408              		.loc 1 1994 6 view .LVU1065
 3409 0036 002B     		cmp	r3, #0
 3410 0038 4ED0     		beq	.L280
1995:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pbuf_copy_partial(hs->req, httpd_req_buf, data_len, 0);
 3411              		.loc 1 1995 5 is_stmt 1 view .LVU1066
1995:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pbuf_copy_partial(hs->req, httpd_req_buf, data_len, 0);
ARM GAS  C:\usertemp\ccrQXns0.s 			page 126


 3412              		.loc 1 1995 16 is_stmt 0 view .LVU1067
 3413 003a 0589     		ldrh	r5, [r0, #8]
 3414              	.LVL313:
1995:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     pbuf_copy_partial(hs->req, httpd_req_buf, data_len, 0);
 3415              		.loc 1 1995 14 view .LVU1068
 3416 003c 40F2FF33 		movw	r3, #1023
 3417 0040 9D42     		cmp	r5, r3
 3418 0042 28BF     		it	cs
 3419 0044 1D46     		movcs	r5, r3
 3420              	.LVL314:
1996:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data = httpd_req_buf;
 3421              		.loc 1 1996 5 is_stmt 1 view .LVU1069
 3422 0046 3C4E     		ldr	r6, .L296
 3423 0048 0023     		movs	r3, #0
 3424 004a 2A46     		mov	r2, r5
 3425 004c 3146     		mov	r1, r6
 3426 004e FFF7FEFF 		bl	pbuf_copy_partial
 3427              	.LVL315:
1997:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else
 3428              		.loc 1 1997 5 view .LVU1070
 3429              	.L281:
2004:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 3430              		.loc 1 2004 86 view .LVU1071
2009:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* wait for CRLF before parsing anything */
 3431              		.loc 1 2009 3 view .LVU1072
2009:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* wait for CRLF before parsing anything */
 3432              		.loc 1 2009 6 is_stmt 0 view .LVU1073
 3433 0052 062D     		cmp	r5, #6
 3434 0054 20D9     		bls	.L282
2011:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (crlf != NULL) {
 3435              		.loc 1 2011 5 is_stmt 1 view .LVU1074
2011:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (crlf != NULL) {
 3436              		.loc 1 2011 12 is_stmt 0 view .LVU1075
 3437 0056 A846     		mov	r8, r5
 3438 0058 2A46     		mov	r2, r5
 3439 005a 3849     		ldr	r1, .L296+4
 3440 005c 3046     		mov	r0, r6
 3441 005e FFF7FEFF 		bl	lwip_strnstr
 3442              	.LVL316:
2012:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
 3443              		.loc 1 2012 5 is_stmt 1 view .LVU1076
2012:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
 3444              		.loc 1 2012 8 is_stmt 0 view .LVU1077
 3445 0062 C8B1     		cbz	r0, .L282
 3446              	.LBB17:
2016:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       char *sp1, *sp2;
 3447              		.loc 1 2016 7 is_stmt 1 view .LVU1078
 3448              	.LVL317:
2017:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       u16_t left_len, uri_len;
 3449              		.loc 1 2017 7 view .LVU1079
2018:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("CRLF received, parsing request\n"));
 3450              		.loc 1 2018 7 view .LVU1080
2019:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* parse method */
 3451              		.loc 1 2019 86 view .LVU1081
2021:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         sp1 = data + 3;
 3452              		.loc 1 2021 7 view .LVU1082
2021:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         sp1 = data + 3;
ARM GAS  C:\usertemp\ccrQXns0.s 			page 127


 3453              		.loc 1 2021 12 is_stmt 0 view .LVU1083
 3454 0064 0422     		movs	r2, #4
 3455 0066 3649     		ldr	r1, .L296+8
 3456 0068 3046     		mov	r0, r6
 3457              	.LVL318:
2021:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         sp1 = data + 3;
 3458              		.loc 1 2021 12 view .LVU1084
 3459 006a FFF7FEFF 		bl	strncmp
 3460              	.LVL319:
2021:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         sp1 = data + 3;
 3461              		.loc 1 2021 10 discriminator 1 view .LVU1085
 3462 006e 8146     		mov	r9, r0
 3463 0070 0028     		cmp	r0, #0
 3464 0072 34D1     		bne	.L283
2022:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* received GET request */
 3465              		.loc 1 2022 9 is_stmt 1 view .LVU1086
2022:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* received GET request */
 3466              		.loc 1 2022 13 is_stmt 0 view .LVU1087
 3467 0074 F71C     		adds	r7, r6, #3
 3468              	.LVL320:
2024:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
 3469              		.loc 1 2024 80 is_stmt 1 view .LVU1088
2042:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       sp2 = lwip_strnstr(sp1 + 1, " ", left_len);
 3470              		.loc 1 2042 7 view .LVU1089
2042:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       sp2 = lwip_strnstr(sp1 + 1, " ", left_len);
 3471              		.loc 1 2042 16 is_stmt 0 view .LVU1090
 3472 0076 043D     		subs	r5, r5, #4
 3473              	.LVL321:
2042:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       sp2 = lwip_strnstr(sp1 + 1, " ", left_len);
 3474              		.loc 1 2042 16 view .LVU1091
 3475 0078 ADB2     		uxth	r5, r5
 3476              	.LVL322:
2043:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_V09
 3477              		.loc 1 2043 7 is_stmt 1 view .LVU1092
2043:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_V09
 3478              		.loc 1 2043 30 is_stmt 0 view .LVU1093
 3479 007a 06F1040A 		add	r10, r6, #4
2043:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_V09
 3480              		.loc 1 2043 13 view .LVU1094
 3481 007e 2A46     		mov	r2, r5
 3482 0080 3049     		ldr	r1, .L296+12
 3483 0082 5046     		mov	r0, r10
 3484 0084 FFF7FEFF 		bl	lwip_strnstr
 3485              	.LVL323:
2045:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* HTTP 0.9: respond with correct protocol version */
 3486              		.loc 1 2045 7 is_stmt 1 view .LVU1095
2045:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* HTTP 0.9: respond with correct protocol version */
 3487              		.loc 1 2045 10 is_stmt 0 view .LVU1096
 3488 0088 0346     		mov	r3, r0
 3489 008a 68B3     		cbz	r0, .L294
 3490              	.LVL324:
 3491              	.L285:
2057:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if ((sp2 != 0) && (sp2 > sp1)) {
 3492              		.loc 1 2057 7 is_stmt 1 view .LVU1097
2057:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if ((sp2 != 0) && (sp2 > sp1)) {
 3493              		.loc 1 2057 29 is_stmt 0 view .LVU1098
 3494 008c A3EB0A05 		sub	r5, r3, r10
ARM GAS  C:\usertemp\ccrQXns0.s 			page 128


 3495              	.LVL325:
2058:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* wait for CRLFCRLF (indicating end of HTTP headers) before parsing anything */
 3496              		.loc 1 2058 7 is_stmt 1 view .LVU1099
2058:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* wait for CRLFCRLF (indicating end of HTTP headers) before parsing anything */
 3497              		.loc 1 2058 10 is_stmt 0 view .LVU1100
 3498 0090 002B     		cmp	r3, #0
 3499 0092 18BF     		it	ne
 3500 0094 BB42     		cmpne	r3, r7
 3501 0096 30D8     		bhi	.L295
 3502              	.LVL326:
 3503              	.L282:
2102:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 3504              		.loc 1 2102 52 is_stmt 1 view .LVU1101
 3505              	.LBE17:
2108:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((hs->req->tot_len <= LWIP_HTTPD_REQ_BUFSIZE) &&
 3506              		.loc 1 2108 3 view .LVU1102
2108:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if ((hs->req->tot_len <= LWIP_HTTPD_REQ_BUFSIZE) &&
 3507              		.loc 1 2108 10 is_stmt 0 view .LVU1103
 3508 0098 206A     		ldr	r0, [r4, #32]
 3509 009a FFF7FEFF 		bl	pbuf_clen
 3510              	.LVL327:
2109:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       (clen <= LWIP_HTTPD_REQ_QUEUELEN)) {
 3511              		.loc 1 2109 3 is_stmt 1 view .LVU1104
2109:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       (clen <= LWIP_HTTPD_REQ_QUEUELEN)) {
 3512              		.loc 1 2109 10 is_stmt 0 view .LVU1105
 3513 009e 236A     		ldr	r3, [r4, #32]
2109:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       (clen <= LWIP_HTTPD_REQ_QUEUELEN)) {
 3514              		.loc 1 2109 15 view .LVU1106
 3515 00a0 1B89     		ldrh	r3, [r3, #8]
2109:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       (clen <= LWIP_HTTPD_REQ_QUEUELEN)) {
 3516              		.loc 1 2109 6 view .LVU1107
 3517 00a2 B3F5806F 		cmp	r3, #1024
 3518 00a6 40D2     		bcs	.L288
2109:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       (clen <= LWIP_HTTPD_REQ_QUEUELEN)) {
 3519              		.loc 1 2109 52 discriminator 1 view .LVU1108
 3520 00a8 0528     		cmp	r0, #5
 3521 00aa 41D9     		bls	.L289
2121:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3522              		.loc 1 2121 12 view .LVU1109
 3523 00ac 6FF00F00 		mvn	r0, #15
 3524              	.LVL328:
 3525              	.L277:
2123:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3526              		.loc 1 2123 1 view .LVU1110
 3527 00b0 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3528              	.LVL329:
 3529              	.L291:
1966:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("hs != NULL", hs != NULL);
 3530              		.loc 1 1966 3 is_stmt 1 discriminator 1 view .LVU1111
1966:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("hs != NULL", hs != NULL);
 3531              		.loc 1 1966 3 discriminator 1 view .LVU1112
 3532 00b4 244B     		ldr	r3, .L296+16
 3533 00b6 40F2AE72 		movw	r2, #1966
 3534              	.LVL330:
1966:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("hs != NULL", hs != NULL);
 3535              		.loc 1 1966 3 is_stmt 0 discriminator 1 view .LVU1113
 3536 00ba 2449     		ldr	r1, .L296+20
ARM GAS  C:\usertemp\ccrQXns0.s 			page 129


 3537              	.LVL331:
1966:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("hs != NULL", hs != NULL);
 3538              		.loc 1 1966 3 discriminator 1 view .LVU1114
 3539 00bc 2448     		ldr	r0, .L296+24
 3540              	.LVL332:
1966:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("hs != NULL", hs != NULL);
 3541              		.loc 1 1966 3 discriminator 1 view .LVU1115
 3542 00be FFF7FEFF 		bl	printf
 3543              	.LVL333:
 3544 00c2 A3E7     		b	.L275
 3545              	.L292:
1967:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3546              		.loc 1 1967 3 is_stmt 1 discriminator 1 view .LVU1116
1967:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3547              		.loc 1 1967 3 discriminator 1 view .LVU1117
 3548 00c4 204B     		ldr	r3, .L296+16
 3549 00c6 40F2AF72 		movw	r2, #1967
 3550 00ca 2249     		ldr	r1, .L296+28
 3551 00cc 2048     		ldr	r0, .L296+24
 3552 00ce FFF7FEFF 		bl	printf
 3553              	.LVL334:
 3554 00d2 9DE7     		b	.L276
 3555              	.L293:
1984:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     hs->req = p;
 3556              		.loc 1 1984 47 view .LVU1118
1985:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
 3557              		.loc 1 1985 5 view .LVU1119
1985:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else {
 3558              		.loc 1 1985 13 is_stmt 0 view .LVU1120
 3559 00d4 2562     		str	r5, [r4, #32]
 3560 00d6 A9E7     		b	.L279
 3561              	.L280:
2001:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_len = p->len;
 3562              		.loc 1 2001 5 is_stmt 1 view .LVU1121
2001:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     data_len = p->len;
 3563              		.loc 1 2001 10 is_stmt 0 view .LVU1122
 3564 00d8 6E68     		ldr	r6, [r5, #4]
 3565              	.LVL335:
2002:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (p->len != p->tot_len) {
 3566              		.loc 1 2002 5 is_stmt 1 view .LVU1123
2002:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     if (p->len != p->tot_len) {
 3567              		.loc 1 2002 14 is_stmt 0 view .LVU1124
 3568 00da 6D89     		ldrh	r5, [r5, #10]
 3569              	.LVL336:
2003:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_DEBUGF(HTTPD_DEBUG, ("Warning: incomplete header due to chained pbufs\n"));
 3570              		.loc 1 2003 5 is_stmt 1 view .LVU1125
 3571 00dc B9E7     		b	.L281
 3572              	.LVL337:
 3573              	.L283:
 3574              	.LBB19:
2035:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* unsupported method! */
 3575              		.loc 1 2035 9 view .LVU1126
2035:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* unsupported method! */
 3576              		.loc 1 2035 17 is_stmt 0 view .LVU1127
 3577 00de 0023     		movs	r3, #0
 3578 00e0 3371     		strb	r3, [r6, #4]
2038:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         return http_find_error_file(hs, 501);
ARM GAS  C:\usertemp\ccrQXns0.s 			page 130


 3579              		.loc 1 2038 41 is_stmt 1 view .LVU1128
2039:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 3580              		.loc 1 2039 9 view .LVU1129
2039:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 3581              		.loc 1 2039 16 is_stmt 0 view .LVU1130
 3582 00e2 6FF00F00 		mvn	r0, #15
 3583 00e6 E3E7     		b	.L277
 3584              	.LVL338:
 3585              	.L294:
2047:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         is_09 = 1;
 3586              		.loc 1 2047 9 is_stmt 1 view .LVU1131
2047:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         is_09 = 1;
 3587              		.loc 1 2047 15 is_stmt 0 view .LVU1132
 3588 00e8 2A46     		mov	r2, r5
 3589 00ea 1449     		ldr	r1, .L296+4
 3590 00ec 5046     		mov	r0, r10
 3591              	.LVL339:
2047:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         is_09 = 1;
 3592              		.loc 1 2047 15 view .LVU1133
 3593 00ee FFF7FEFF 		bl	lwip_strnstr
 3594              	.LVL340:
2047:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         is_09 = 1;
 3595              		.loc 1 2047 15 view .LVU1134
 3596 00f2 0346     		mov	r3, r0
 3597              	.LVL341:
2048:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
 3598              		.loc 1 2048 9 is_stmt 1 view .LVU1135
2048:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
 3599              		.loc 1 2048 15 is_stmt 0 view .LVU1136
 3600 00f4 4FF00109 		mov	r9, #1
 3601 00f8 C8E7     		b	.L285
 3602              	.LVL342:
 3603              	.L295:
2060:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           char *uri = sp1 + 1;
 3604              		.loc 1 2060 9 is_stmt 1 view .LVU1137
2060:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           char *uri = sp1 + 1;
 3605              		.loc 1 2060 13 is_stmt 0 view .LVU1138
 3606 00fa 4246     		mov	r2, r8
 3607 00fc 1649     		ldr	r1, .L296+32
 3608 00fe 3046     		mov	r0, r6
 3609              	.LVL343:
2060:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           char *uri = sp1 + 1;
 3610              		.loc 1 2060 13 view .LVU1139
 3611 0100 FFF7FEFF 		bl	lwip_strnstr
 3612              	.LVL344:
2060:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           char *uri = sp1 + 1;
 3613              		.loc 1 2060 12 discriminator 1 view .LVU1140
 3614 0104 0028     		cmp	r0, #0
 3615 0106 C7D0     		beq	.L282
 3616              	.LBB18:
2061:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_11_KEEPALIVE
 3617              		.loc 1 2061 11 is_stmt 1 view .LVU1141
 3618              	.LVL345:
2073:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           uri[uri_len] = 0;
 3619              		.loc 1 2073 11 view .LVU1142
2073:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           uri[uri_len] = 0;
 3620              		.loc 1 2073 16 is_stmt 0 view .LVU1143
ARM GAS  C:\usertemp\ccrQXns0.s 			page 131


 3621 0108 0023     		movs	r3, #0
 3622 010a F370     		strb	r3, [r6, #3]
2074:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           LWIP_DEBUGF(HTTPD_DEBUG, ("Received \"%s\" request for URI: \"%s\"\n",
 3623              		.loc 1 2074 11 is_stmt 1 view .LVU1144
2074:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           LWIP_DEBUGF(HTTPD_DEBUG, ("Received \"%s\" request for URI: \"%s\"\n",
 3624              		.loc 1 2074 14 is_stmt 0 view .LVU1145
 3625 010c ADB2     		uxth	r5, r5
2074:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           LWIP_DEBUGF(HTTPD_DEBUG, ("Received \"%s\" request for URI: \"%s\"\n",
 3626              		.loc 1 2074 24 view .LVU1146
 3627 010e 0AF80530 		strb	r3, [r10, r5]
2076:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
 3628              		.loc 1 2076 48 is_stmt 1 view .LVU1147
2098:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
 3629              		.loc 1 2098 13 view .LVU1148
2098:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
 3630              		.loc 1 2098 20 is_stmt 0 view .LVU1149
 3631 0112 4A46     		mov	r2, r9
 3632 0114 5146     		mov	r1, r10
 3633 0116 2046     		mov	r0, r4
 3634 0118 FFF7FEFF 		bl	http_find_file
 3635              	.LVL346:
 3636 011c C8E7     		b	.L277
 3637              	.LVL347:
 3638              	.L286:
2098:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           }
 3639              		.loc 1 2098 20 view .LVU1150
 3640              	.LBE18:
 3641              	.LBE19:
1973:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3642              		.loc 1 1973 12 view .LVU1151
 3643 011e 6FF00700 		mvn	r0, #7
 3644 0122 C5E7     		b	.L277
 3645              	.L287:
 3646 0124 6FF00700 		mvn	r0, #7
 3647 0128 C2E7     		b	.L277
 3648              	.LVL348:
 3649              	.L288:
2121:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3650              		.loc 1 2121 12 view .LVU1152
 3651 012a 6FF00F00 		mvn	r0, #15
 3652              	.LVL349:
2121:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3653              		.loc 1 2121 12 view .LVU1153
 3654 012e BFE7     		b	.L277
 3655              	.LVL350:
 3656              	.L289:
2112:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else
 3657              		.loc 1 2112 12 view .LVU1154
 3658 0130 6FF00400 		mvn	r0, #4
 3659              	.LVL351:
2112:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   } else
 3660              		.loc 1 2112 12 view .LVU1155
 3661 0134 BCE7     		b	.L277
 3662              	.L297:
 3663 0136 00BF     		.align	2
 3664              	.L296:
 3665 0138 00000000 		.word	httpd_req_buf
ARM GAS  C:\usertemp\ccrQXns0.s 			page 132


 3666 013c 0C000000 		.word	.LC20
 3667 0140 10000000 		.word	.LC21
 3668 0144 18000000 		.word	.LC22
 3669 0148 00000000 		.word	.LC0
 3670 014c 00000000 		.word	.LC19
 3671 0150 50000000 		.word	.LC2
 3672 0154 00000000 		.word	.LC4
 3673 0158 60000000 		.word	.LC18
 3674              		.cfi_endproc
 3675              	.LFE376:
 3677              		.section	.rodata.http_recv.str1.4,"aMS",%progbits,1
 3678              		.align	2
 3679              	.LC23:
 3680 0000 68747470 		.ascii	"http_parse_request: unexpected return value\000"
 3680      5F706172 
 3680      73655F72 
 3680      65717565 
 3680      73743A20 
 3681              		.section	.text.http_recv,"ax",%progbits
 3682              		.align	1
 3683              		.syntax unified
 3684              		.thumb
 3685              		.thumb_func
 3687              	http_recv:
 3688              	.LVL352:
 3689              	.LFB383:
2517:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)arg;
 3690              		.loc 1 2517 1 is_stmt 1 view -0
 3691              		.cfi_startproc
 3692              		@ args = 0, pretend = 0, frame = 0
 3693              		@ frame_needed = 0, uses_anonymous_args = 0
2517:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs = (struct http_state *)arg;
 3694              		.loc 1 2517 1 is_stmt 0 view .LVU1157
 3695 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3696              	.LCFI38:
 3697              		.cfi_def_cfa_offset 24
 3698              		.cfi_offset 3, -24
 3699              		.cfi_offset 4, -20
 3700              		.cfi_offset 5, -16
 3701              		.cfi_offset 6, -12
 3702              		.cfi_offset 7, -8
 3703              		.cfi_offset 14, -4
 3704 0002 0446     		mov	r4, r0
 3705 0004 0D46     		mov	r5, r1
2518:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG | LWIP_DBG_TRACE, ("http_recv: pcb=%p pbuf=%p err=%s\n", (void *)pcb,
 3706              		.loc 1 2518 3 is_stmt 1 view .LVU1158
 3707              	.LVL353:
2520:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3708              		.loc 1 2520 44 view .LVU1159
2522:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* error or closed by other side? */
 3709              		.loc 1 2522 3 view .LVU1160
2522:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* error or closed by other side? */
 3710              		.loc 1 2522 29 is_stmt 0 view .LVU1161
 3711 0006 1646     		mov	r6, r2
 3712 0008 B2FA82F2 		clz	r2, r2
 3713              	.LVL354:
2522:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* error or closed by other side? */
ARM GAS  C:\usertemp\ccrQXns0.s 			page 133


 3714              		.loc 1 2522 29 view .LVU1162
 3715 000c 5209     		lsrs	r2, r2, #5
2522:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* error or closed by other side? */
 3716              		.loc 1 2522 23 view .LVU1163
 3717 000e 002B     		cmp	r3, #0
 3718 0010 18BF     		it	ne
 3719 0012 42F00102 		orrne	r2, r2, #1
2522:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* error or closed by other side? */
 3720              		.loc 1 2522 6 view .LVU1164
 3721 0016 52B9     		cbnz	r2, .L299
2522:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     /* error or closed by other side? */
 3722              		.loc 1 2522 38 discriminator 1 view .LVU1165
 3723 0018 48B1     		cbz	r0, .L299
2544:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3724              		.loc 1 2544 5 is_stmt 1 view .LVU1166
 3725 001a 3189     		ldrh	r1, [r6, #8]
 3726              	.LVL355:
2544:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3727              		.loc 1 2544 5 is_stmt 0 view .LVU1167
 3728 001c 2846     		mov	r0, r5
 3729              	.LVL356:
2544:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3730              		.loc 1 2544 5 view .LVU1168
 3731 001e FFF7FEFF 		bl	tcp_recved
 3732              	.LVL357:
2562:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       err_t parsed = http_parse_request(p, hs, pcb);
 3733              		.loc 1 2562 5 is_stmt 1 view .LVU1169
2562:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       err_t parsed = http_parse_request(p, hs, pcb);
 3734              		.loc 1 2562 11 is_stmt 0 view .LVU1170
 3735 0022 6369     		ldr	r3, [r4, #20]
2562:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       err_t parsed = http_parse_request(p, hs, pcb);
 3736              		.loc 1 2562 8 view .LVU1171
 3737 0024 8BB1     		cbz	r3, .L309
2589:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* already sending but still receiving data, we might want to RST here? */
 3738              		.loc 1 2589 70 is_stmt 1 view .LVU1172
2591:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 3739              		.loc 1 2591 7 view .LVU1173
 3740 0026 3046     		mov	r0, r6
 3741 0028 FFF7FEFF 		bl	pbuf_free
 3742              	.LVL358:
 3743 002c 0BE0     		b	.L302
 3744              	.LVL359:
 3745              	.L299:
2524:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* Inform TCP that we have taken the data. */
 3746              		.loc 1 2524 5 view .LVU1174
2524:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* Inform TCP that we have taken the data. */
 3747              		.loc 1 2524 8 is_stmt 0 view .LVU1175
 3748 002e 36B1     		cbz	r6, .L301
2526:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       pbuf_free(p);
 3749              		.loc 1 2526 7 is_stmt 1 view .LVU1176
 3750 0030 3189     		ldrh	r1, [r6, #8]
 3751              	.LVL360:
2526:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       pbuf_free(p);
 3752              		.loc 1 2526 7 is_stmt 0 view .LVU1177
 3753 0032 2846     		mov	r0, r5
 3754              	.LVL361:
2526:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       pbuf_free(p);
ARM GAS  C:\usertemp\ccrQXns0.s 			page 134


 3755              		.loc 1 2526 7 view .LVU1178
 3756 0034 FFF7FEFF 		bl	tcp_recved
 3757              	.LVL362:
2527:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 3758              		.loc 1 2527 7 is_stmt 1 view .LVU1179
 3759 0038 3046     		mov	r0, r6
 3760 003a FFF7FEFF 		bl	pbuf_free
 3761              	.LVL363:
 3762              	.L301:
2529:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       /* this should not happen, only to be robust */
 3763              		.loc 1 2529 5 view .LVU1180
2531:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     }
 3764              		.loc 1 2531 74 view .LVU1181
2533:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_OK;
 3765              		.loc 1 2533 5 view .LVU1182
 3766 003e 2146     		mov	r1, r4
 3767 0040 2846     		mov	r0, r5
 3768 0042 FFF7FEFF 		bl	http_close_conn
 3769              	.LVL364:
2534:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3770              		.loc 1 2534 5 view .LVU1183
 3771              	.L302:
2595:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3772              		.loc 1 2595 1 is_stmt 0 view .LVU1184
 3773 0046 0020     		movs	r0, #0
 3774 0048 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3775              	.LVL365:
 3776              	.L309:
 3777              	.LBB20:
2563:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_ASSERT("http_parse_request: unexpected return value", parsed == ERR_OK
 3778              		.loc 1 2563 7 is_stmt 1 view .LVU1185
2563:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       LWIP_ASSERT("http_parse_request: unexpected return value", parsed == ERR_OK
 3779              		.loc 1 2563 22 is_stmt 0 view .LVU1186
 3780 004a 2A46     		mov	r2, r5
 3781 004c 2146     		mov	r1, r4
 3782 004e 3046     		mov	r0, r6
 3783 0050 FFF7FEFF 		bl	http_parse_request
 3784              	.LVL366:
2564:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   || parsed == ERR_INPROGRESS || parsed == ERR_ARG || parsed == ERR_USE);
 3785              		.loc 1 2564 7 is_stmt 1 view .LVU1187
2564:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   || parsed == ERR_INPROGRESS || parsed == ERR_ARG || parsed == ERR_USE);
 3786              		.loc 1 2564 7 view .LVU1188
 3787 0054 0746     		mov	r7, r0
 3788 0056 0028     		cmp	r0, #0
 3789 0058 18BF     		it	ne
 3790 005a 10F1050F 		cmnne	r0, #5
 3791 005e 0ED0     		beq	.L304
2564:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   || parsed == ERR_INPROGRESS || parsed == ERR_ARG || parsed == ERR_USE);
 3792              		.loc 1 2564 7 is_stmt 0 discriminator 1 view .LVU1189
 3793 0060 10F10803 		adds	r3, r0, #8
 3794 0064 18BF     		it	ne
 3795 0066 0123     		movne	r3, #1
 3796 0068 10F1100F 		cmn	r0, #16
 3797 006c 0AD0     		beq	.L305
 3798 006e 4BB1     		cbz	r3, .L305
2564:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   || parsed == ERR_INPROGRESS || parsed == ERR_ARG || parsed == ERR_USE);
 3799              		.loc 1 2564 7 is_stmt 1 discriminator 3 view .LVU1190
ARM GAS  C:\usertemp\ccrQXns0.s 			page 135


2564:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   || parsed == ERR_INPROGRESS || parsed == ERR_ARG || parsed == ERR_USE);
 3800              		.loc 1 2564 7 discriminator 3 view .LVU1191
 3801 0070 104B     		ldr	r3, .L311
 3802 0072 40F60422 		movw	r2, #2564
 3803 0076 1049     		ldr	r1, .L311+4
 3804 0078 1048     		ldr	r0, .L311+8
 3805              	.LVL367:
2564:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   || parsed == ERR_INPROGRESS || parsed == ERR_ARG || parsed == ERR_USE);
 3806              		.loc 1 2564 7 is_stmt 0 discriminator 3 view .LVU1192
 3807 007a FFF7FEFF 		bl	printf
 3808              	.LVL368:
 3809              	.L304:
2564:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   || parsed == ERR_INPROGRESS || parsed == ERR_ARG || parsed == ERR_USE);
 3810              		.loc 1 2564 7 is_stmt 1 discriminator 5 view .LVU1193
2564:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****                   || parsed == ERR_INPROGRESS || parsed == ERR_ARG || parsed == ERR_USE);
 3811              		.loc 1 2564 7 discriminator 5 view .LVU1194
2567:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* request fully parsed or error */
 3812              		.loc 1 2567 7 view .LVU1195
2567:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* request fully parsed or error */
 3813              		.loc 1 2567 10 is_stmt 0 view .LVU1196
 3814 007e 17F1050F 		cmn	r7, #5
 3815 0082 05D0     		beq	.L306
 3816              	.L305:
2569:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           pbuf_free(hs->req);
 3817              		.loc 1 2569 9 is_stmt 1 view .LVU1197
2569:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           pbuf_free(hs->req);
 3818              		.loc 1 2569 15 is_stmt 0 view .LVU1198
 3819 0084 206A     		ldr	r0, [r4, #32]
2569:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           pbuf_free(hs->req);
 3820              		.loc 1 2569 12 view .LVU1199
 3821 0086 18B1     		cbz	r0, .L306
2570:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           hs->req = NULL;
 3822              		.loc 1 2570 11 is_stmt 1 view .LVU1200
 3823 0088 FFF7FEFF 		bl	pbuf_free
 3824              	.LVL369:
2571:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 3825              		.loc 1 2571 11 view .LVU1201
2571:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 3826              		.loc 1 2571 19 is_stmt 0 view .LVU1202
 3827 008c 0023     		movs	r3, #0
 3828 008e 2362     		str	r3, [r4, #32]
 3829              	.L306:
2575:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       if (parsed == ERR_OK) {
 3830              		.loc 1 2575 7 is_stmt 1 view .LVU1203
 3831 0090 3046     		mov	r0, r6
 3832 0092 FFF7FEFF 		bl	pbuf_free
 3833              	.LVL370:
2576:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
 3834              		.loc 1 2576 7 view .LVU1204
2576:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SUPPORT_POST
 3835              		.loc 1 2576 10 is_stmt 0 view .LVU1205
 3836 0096 3FB1     		cbz	r7, .L310
2584:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* @todo: close on ERR_USE? */
 3837              		.loc 1 2584 14 is_stmt 1 view .LVU1206
2584:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         /* @todo: close on ERR_USE? */
 3838              		.loc 1 2584 17 is_stmt 0 view .LVU1207
 3839 0098 17F1100F 		cmn	r7, #16
ARM GAS  C:\usertemp\ccrQXns0.s 			page 136


 3840 009c D3D1     		bne	.L302
2586:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****       }
 3841              		.loc 1 2586 9 is_stmt 1 view .LVU1208
 3842 009e 2146     		mov	r1, r4
 3843 00a0 2846     		mov	r0, r5
 3844 00a2 FFF7FEFF 		bl	http_close_conn
 3845              	.LVL371:
 3846 00a6 CEE7     		b	.L302
 3847              	.L310:
2581:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****           http_send(pcb, hs);
 3848              		.loc 1 2581 125 view .LVU1209
2582:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****         }
 3849              		.loc 1 2582 11 view .LVU1210
 3850 00a8 2146     		mov	r1, r4
 3851 00aa 2846     		mov	r0, r5
 3852 00ac FFF7FEFF 		bl	http_send
 3853              	.LVL372:
 3854 00b0 C9E7     		b	.L302
 3855              	.L312:
 3856 00b2 00BF     		.align	2
 3857              	.L311:
 3858 00b4 00000000 		.word	.LC0
 3859 00b8 00000000 		.word	.LC23
 3860 00bc 50000000 		.word	.LC2
 3861              	.LBE20:
 3862              		.cfi_endproc
 3863              	.LFE383:
 3865              		.section	.text.http_state_init,"ax",%progbits
 3866              		.align	1
 3867              		.syntax unified
 3868              		.thumb
 3869              		.thumb_func
 3871              	http_state_init:
 3872              	.LVL373:
 3873              	.LFB361:
 447:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Initialize the structure. */
 3874              		.loc 1 447 1 view -0
 3875              		.cfi_startproc
 3876              		@ args = 0, pretend = 0, frame = 0
 3877              		@ frame_needed = 0, uses_anonymous_args = 0
 447:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* Initialize the structure. */
 3878              		.loc 1 447 1 is_stmt 0 view .LVU1212
 3879 0000 08B5     		push	{r3, lr}
 3880              	.LCFI39:
 3881              		.cfi_def_cfa_offset 8
 3882              		.cfi_offset 3, -8
 3883              		.cfi_offset 14, -4
 449:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_DYNAMIC_HEADERS
 3884              		.loc 1 449 3 is_stmt 1 view .LVU1213
 3885 0002 B022     		movs	r2, #176
 3886 0004 0021     		movs	r1, #0
 3887 0006 FFF7FEFF 		bl	memset
 3888              	.LVL374:
 454:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3889              		.loc 1 454 1 is_stmt 0 view .LVU1214
 3890 000a 08BD     		pop	{r3, pc}
 3891              		.cfi_endproc
ARM GAS  C:\usertemp\ccrQXns0.s 			page 137


 3892              	.LFE361:
 3894              		.section	.text.http_state_alloc,"ax",%progbits
 3895              		.align	1
 3896              		.syntax unified
 3897              		.thumb
 3898              		.thumb_func
 3900              	http_state_alloc:
 3901              	.LFB362:
 459:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *ret = HTTP_ALLOC_HTTP_STATE();
 3902              		.loc 1 459 1 is_stmt 1 view -0
 3903              		.cfi_startproc
 3904              		@ args = 0, pretend = 0, frame = 0
 3905              		@ frame_needed = 0, uses_anonymous_args = 0
 3906 0000 10B5     		push	{r4, lr}
 3907              	.LCFI40:
 3908              		.cfi_def_cfa_offset 8
 3909              		.cfi_offset 4, -8
 3910              		.cfi_offset 14, -4
 460:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED
 3911              		.loc 1 460 3 view .LVU1216
 460:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_KILL_OLD_ON_CONNECTIONS_EXCEEDED
 3912              		.loc 1 460 28 is_stmt 0 view .LVU1217
 3913 0002 B020     		movs	r0, #176
 3914 0004 FFF7FEFF 		bl	mem_malloc
 3915              	.LVL375:
 467:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_init(ret);
 3916              		.loc 1 467 3 is_stmt 1 view .LVU1218
 467:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_state_init(ret);
 3917              		.loc 1 467 6 is_stmt 0 view .LVU1219
 3918 0008 0446     		mov	r4, r0
 3919 000a 08B1     		cbz	r0, .L315
 468:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     http_add_connection(ret);
 3920              		.loc 1 468 5 is_stmt 1 view .LVU1220
 3921 000c FFF7FEFF 		bl	http_state_init
 3922              	.LVL376:
 469:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 3923              		.loc 1 469 29 view .LVU1221
 471:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 3924              		.loc 1 471 3 view .LVU1222
 3925              	.L315:
 472:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3926              		.loc 1 472 1 is_stmt 0 view .LVU1223
 3927 0010 2046     		mov	r0, r4
 3928 0012 10BD     		pop	{r4, pc}
 472:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3929              		.loc 1 472 1 view .LVU1224
 3930              		.cfi_endproc
 3931              	.LFE362:
 3933              		.section	.text.http_accept,"ax",%progbits
 3934              		.align	1
 3935              		.syntax unified
 3936              		.thumb
 3937              		.thumb_func
 3939              	http_accept:
 3940              	.LVL377:
 3941              	.LFB384:
2602:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs;
ARM GAS  C:\usertemp\ccrQXns0.s 			page 138


 3942              		.loc 1 2602 1 is_stmt 1 view -0
 3943              		.cfi_startproc
 3944              		@ args = 0, pretend = 0, frame = 0
 3945              		@ frame_needed = 0, uses_anonymous_args = 0
2602:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct http_state *hs;
 3946              		.loc 1 2602 1 is_stmt 0 view .LVU1226
 3947 0000 10B5     		push	{r4, lr}
 3948              	.LCFI41:
 3949              		.cfi_def_cfa_offset 8
 3950              		.cfi_offset 4, -8
 3951              		.cfi_offset 14, -4
2603:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(err);
 3952              		.loc 1 2603 3 is_stmt 1 view .LVU1227
2604:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(arg);
 3953              		.loc 1 2604 3 view .LVU1228
2605:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG, ("http_accept %p / %p\n", (void *)pcb, arg));
 3954              		.loc 1 2605 3 view .LVU1229
2606:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3955              		.loc 1 2606 72 view .LVU1230
2608:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_VAL;
 3956              		.loc 1 2608 3 view .LVU1231
2608:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_VAL;
 3957              		.loc 1 2608 31 is_stmt 0 view .LVU1232
 3958 0002 0C46     		mov	r4, r1
 3959 0004 B1FA81F1 		clz	r1, r1
 3960              	.LVL378:
2608:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_VAL;
 3961              		.loc 1 2608 31 view .LVU1233
 3962 0008 4909     		lsrs	r1, r1, #5
2608:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_VAL;
 3963              		.loc 1 2608 23 view .LVU1234
 3964 000a 002A     		cmp	r2, #0
 3965 000c 18BF     		it	ne
 3966 000e 41F00101 		orrne	r1, r1, #1
2608:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     return ERR_VAL;
 3967              		.loc 1 2608 6 view .LVU1235
 3968 0012 F1B9     		cbnz	r1, .L320
2613:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3969              		.loc 1 2613 3 is_stmt 1 view .LVU1236
 3970 0014 0121     		movs	r1, #1
 3971 0016 2046     		mov	r0, r4
 3972              	.LVL379:
2613:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3973              		.loc 1 2613 3 is_stmt 0 view .LVU1237
 3974 0018 FFF7FEFF 		bl	tcp_setprio
 3975              	.LVL380:
2617:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs == NULL) {
 3976              		.loc 1 2617 3 is_stmt 1 view .LVU1238
2617:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   if (hs == NULL) {
 3977              		.loc 1 2617 8 is_stmt 0 view .LVU1239
 3978 001c FFF7FEFF 		bl	http_state_alloc
 3979              	.LVL381:
2618:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("http_accept: Out of memory, RST\n"));
 3980              		.loc 1 2618 3 is_stmt 1 view .LVU1240
2618:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****     LWIP_DEBUGF(HTTPD_DEBUG, ("http_accept: Out of memory, RST\n"));
 3981              		.loc 1 2618 6 is_stmt 0 view .LVU1241
 3982 0020 0146     		mov	r1, r0
ARM GAS  C:\usertemp\ccrQXns0.s 			page 139


 3983 0022 C8B1     		cbz	r0, .L321
2622:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3984              		.loc 1 2622 3 is_stmt 1 view .LVU1242
2622:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3985              		.loc 1 2622 11 is_stmt 0 view .LVU1243
 3986 0024 C461     		str	r4, [r0, #28]
2626:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3987              		.loc 1 2626 3 is_stmt 1 view .LVU1244
 3988 0026 2046     		mov	r0, r4
 3989              	.LVL382:
2626:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 3990              		.loc 1 2626 3 is_stmt 0 view .LVU1245
 3991 0028 FFF7FEFF 		bl	tcp_arg
 3992              	.LVL383:
2629:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_err(pcb, http_err);
 3993              		.loc 1 2629 3 is_stmt 1 view .LVU1246
 3994 002c 0C49     		ldr	r1, .L323
 3995 002e 2046     		mov	r0, r4
 3996 0030 FFF7FEFF 		bl	tcp_recv
 3997              	.LVL384:
2630:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_poll(pcb, http_poll, HTTPD_POLL_INTERVAL);
 3998              		.loc 1 2630 3 view .LVU1247
 3999 0034 0B49     		ldr	r1, .L323+4
 4000 0036 2046     		mov	r0, r4
 4001 0038 FFF7FEFF 		bl	tcp_err
 4002              	.LVL385:
2631:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   altcp_sent(pcb, http_sent);
 4003              		.loc 1 2631 3 view .LVU1248
 4004 003c 0422     		movs	r2, #4
 4005 003e 0A49     		ldr	r1, .L323+8
 4006 0040 2046     		mov	r0, r4
 4007 0042 FFF7FEFF 		bl	tcp_poll
 4008              	.LVL386:
2632:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 4009              		.loc 1 2632 3 view .LVU1249
 4010 0046 0949     		ldr	r1, .L323+12
 4011 0048 2046     		mov	r0, r4
 4012 004a FFF7FEFF 		bl	tcp_sent
 4013              	.LVL387:
2634:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 4014              		.loc 1 2634 3 view .LVU1250
2634:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 4015              		.loc 1 2634 10 is_stmt 0 view .LVU1251
 4016 004e 0020     		movs	r0, #0
 4017              	.LVL388:
 4018              	.L319:
2635:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 4019              		.loc 1 2635 1 view .LVU1252
 4020 0050 10BD     		pop	{r4, pc}
 4021              	.LVL389:
 4022              	.L320:
2609:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 4023              		.loc 1 2609 12 view .LVU1253
 4024 0052 6FF00500 		mvn	r0, #5
 4025              	.LVL390:
2609:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 4026              		.loc 1 2609 12 view .LVU1254
ARM GAS  C:\usertemp\ccrQXns0.s 			page 140


 4027 0056 FBE7     		b	.L319
 4028              	.LVL391:
 4029              	.L321:
2620:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 4030              		.loc 1 2620 12 view .LVU1255
 4031 0058 4FF0FF30 		mov	r0, #-1
 4032              	.LVL392:
2620:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   }
 4033              		.loc 1 2620 12 view .LVU1256
 4034 005c F8E7     		b	.L319
 4035              	.L324:
 4036 005e 00BF     		.align	2
 4037              	.L323:
 4038 0060 00000000 		.word	http_recv
 4039 0064 00000000 		.word	http_err
 4040 0068 00000000 		.word	http_poll
 4041 006c 00000000 		.word	http_sent
 4042              		.cfi_endproc
 4043              	.LFE384:
 4045              		.section	.rodata.httpd_init.str1.4,"aMS",%progbits,1
 4046              		.align	2
 4047              	.LC24:
 4048 0000 68747470 		.ascii	"httpd_init: tcp_new failed\000"
 4048      645F696E 
 4048      69743A20 
 4048      7463705F 
 4048      6E657720 
 4049              		.section	.text.httpd_init,"ax",%progbits
 4050              		.align	1
 4051              		.global	httpd_init
 4052              		.syntax unified
 4053              		.thumb
 4054              		.thumb_func
 4056              	httpd_init:
 4057              	.LFB386:
2653:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2654:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
2655:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @ingroup httpd
2656:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Initialize the httpd: set up a listening PCB and bind it to the defined port
2657:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
2658:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** void
2659:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** httpd_init(void)
2660:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 4058              		.loc 1 2660 1 is_stmt 1 view -0
 4059              		.cfi_startproc
 4060              		@ args = 0, pretend = 0, frame = 0
 4061              		@ frame_needed = 0, uses_anonymous_args = 0
 4062 0000 10B5     		push	{r4, lr}
 4063              	.LCFI42:
 4064              		.cfi_def_cfa_offset 8
 4065              		.cfi_offset 4, -8
 4066              		.cfi_offset 14, -4
2661:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct altcp_pcb *pcb;
 4067              		.loc 1 2661 3 view .LVU1258
2662:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2663:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if HTTPD_USE_MEM_POOL
2664:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_MEMPOOL_INIT(HTTPD_STATE);
ARM GAS  C:\usertemp\ccrQXns0.s 			page 141


2665:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
2666:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_MEMPOOL_INIT(HTTPD_SSI_STATE);
2667:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
2668:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif
2669:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG, ("httpd_init\n"));
 4068              		.loc 1 2669 45 view .LVU1259
2670:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2671:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   /* LWIP_ASSERT_CORE_LOCKED(); is checked by tcp_new() */
2672:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2673:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   pcb = altcp_tcp_new_ip_type(IPADDR_TYPE_ANY);
 4069              		.loc 1 2673 3 view .LVU1260
 4070              		.loc 1 2673 9 is_stmt 0 view .LVU1261
 4071 0002 2E20     		movs	r0, #46
 4072 0004 FFF7FEFF 		bl	tcp_new_ip_type
 4073              	.LVL393:
2674:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("httpd_init: tcp_new failed", pcb != NULL);
 4074              		.loc 1 2674 3 is_stmt 1 view .LVU1262
 4075              		.loc 1 2674 3 view .LVU1263
 4076 0008 0446     		mov	r4, r0
 4077 000a 20B1     		cbz	r0, .L328
 4078              	.LVL394:
 4079              	.L326:
 4080              		.loc 1 2674 3 discriminator 3 view .LVU1264
 4081              		.loc 1 2674 3 discriminator 3 view .LVU1265
2675:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_init_pcb(pcb, HTTPD_SERVER_PORT);
 4082              		.loc 1 2675 3 view .LVU1266
 4083 000c 5021     		movs	r1, #80
 4084 000e 2046     		mov	r0, r4
 4085 0010 FFF7FEFF 		bl	httpd_init_pcb
 4086              	.LVL395:
2676:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 4087              		.loc 1 2676 1 is_stmt 0 view .LVU1267
 4088 0014 10BD     		pop	{r4, pc}
 4089              	.LVL396:
 4090              	.L328:
2674:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("httpd_init: tcp_new failed", pcb != NULL);
 4091              		.loc 1 2674 3 is_stmt 1 discriminator 1 view .LVU1268
2674:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("httpd_init: tcp_new failed", pcb != NULL);
 4092              		.loc 1 2674 3 discriminator 1 view .LVU1269
 4093 0016 044B     		ldr	r3, .L329
 4094 0018 40F67222 		movw	r2, #2674
 4095 001c 0349     		ldr	r1, .L329+4
 4096 001e 0448     		ldr	r0, .L329+8
 4097              	.LVL397:
2674:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("httpd_init: tcp_new failed", pcb != NULL);
 4098              		.loc 1 2674 3 is_stmt 0 discriminator 1 view .LVU1270
 4099 0020 FFF7FEFF 		bl	printf
 4100              	.LVL398:
 4101 0024 F2E7     		b	.L326
 4102              	.L330:
 4103 0026 00BF     		.align	2
 4104              	.L329:
 4105 0028 00000000 		.word	.LC0
 4106 002c 00000000 		.word	.LC24
 4107 0030 50000000 		.word	.LC2
 4108              		.cfi_endproc
 4109              	.LFE386:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 142


 4111              		.section	.rodata.http_set_ssi_handler.str1.4,"aMS",%progbits,1
 4112              		.align	2
 4113              	.LC25:
 4114 0000 6E6F2073 		.ascii	"no ssi_handler given\000"
 4114      73695F68 
 4114      616E646C 
 4114      65722067 
 4114      6976656E 
 4115 0015 000000   		.align	2
 4116              	.LC26:
 4117 0018 6E6F2074 		.ascii	"no tags given\000"
 4117      61677320 
 4117      67697665 
 4117      6E00
 4118 0026 0000     		.align	2
 4119              	.LC27:
 4120 0028 696E7661 		.ascii	"invalid number of tags\000"
 4120      6C696420 
 4120      6E756D62 
 4120      6572206F 
 4120      66207461 
 4121              		.section	.text.http_set_ssi_handler,"ax",%progbits
 4122              		.align	1
 4123              		.global	http_set_ssi_handler
 4124              		.syntax unified
 4125              		.thumb
 4126              		.thumb_func
 4128              	http_set_ssi_handler:
 4129              	.LVL399:
 4130              	.LFB387:
2677:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2678:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if HTTPD_ENABLE_HTTPS
2679:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
2680:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @ingroup httpd
2681:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Initialize the httpd: set up a listening PCB and bind it to the defined port.
2682:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Also set up TLS connection handling (HTTPS).
2683:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
2684:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** void
2685:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** httpd_inits(struct altcp_tls_config *conf)
2686:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
2687:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_ALTCP_TLS
2688:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   struct altcp_pcb *pcb_tls = altcp_tls_new(conf, IPADDR_TYPE_ANY);
2689:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("httpd_init: altcp_tls_new failed", pcb_tls != NULL);
2690:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_init_pcb(pcb_tls, HTTPD_SERVER_PORT_HTTPS);
2691:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_ALTCP_TLS */
2692:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(conf);
2693:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_ALTCP_TLS */
2694:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
2695:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* HTTPD_ENABLE_HTTPS */
2696:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2697:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI
2698:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
2699:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @ingroup httpd
2700:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Set the SSI handler function.
2701:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
2702:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param ssi_handler the SSI handler function
2703:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param tags an array of SSI tag strings to search for in SSI-enabled files
ARM GAS  C:\usertemp\ccrQXns0.s 			page 143


2704:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param num_tags number of tags in the 'tags' array
2705:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
2706:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** void
2707:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_set_ssi_handler(tSSIHandler ssi_handler, const char **tags, int num_tags)
2708:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 4131              		.loc 1 2708 1 is_stmt 1 view -0
 4132              		.cfi_startproc
 4133              		@ args = 0, pretend = 0, frame = 0
 4134              		@ frame_needed = 0, uses_anonymous_args = 0
 4135              		.loc 1 2708 1 is_stmt 0 view .LVU1272
 4136 0000 70B5     		push	{r4, r5, r6, lr}
 4137              	.LCFI43:
 4138              		.cfi_def_cfa_offset 16
 4139              		.cfi_offset 4, -16
 4140              		.cfi_offset 5, -12
 4141              		.cfi_offset 6, -8
 4142              		.cfi_offset 14, -4
 4143 0002 0D46     		mov	r5, r1
 4144 0004 1446     		mov	r4, r2
2709:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_DEBUGF(HTTPD_DEBUG, ("http_set_ssi_handler\n"));
 4145              		.loc 1 2709 55 is_stmt 1 view .LVU1273
2710:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2711:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("no ssi_handler given", ssi_handler != NULL);
 4146              		.loc 1 2711 3 view .LVU1274
 4147              		.loc 1 2711 3 view .LVU1275
 4148 0006 0646     		mov	r6, r0
 4149 0008 48B1     		cbz	r0, .L336
 4150              	.LVL400:
 4151              	.L332:
 4152              		.loc 1 2711 3 discriminator 3 view .LVU1276
 4153              		.loc 1 2711 3 discriminator 3 view .LVU1277
2712:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_ssi_handler = ssi_handler;
 4154              		.loc 1 2712 3 view .LVU1278
 4155              		.loc 1 2712 21 is_stmt 0 view .LVU1279
 4156 000a 114B     		ldr	r3, .L339
 4157 000c 1E60     		str	r6, [r3]
2713:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2714:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_SSI_RAW
2715:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(tags);
2716:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_UNUSED_ARG(num_tags);
2717:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #else /* LWIP_HTTPD_SSI_RAW */
2718:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("no tags given", tags != NULL);
 4158              		.loc 1 2718 3 is_stmt 1 view .LVU1280
 4159              		.loc 1 2718 3 view .LVU1281
 4160 000e 75B1     		cbz	r5, .L337
 4161              	.L333:
 4162              		.loc 1 2718 3 discriminator 3 view .LVU1282
 4163              		.loc 1 2718 3 discriminator 3 view .LVU1283
2719:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("invalid number of tags", num_tags > 0);
 4164              		.loc 1 2719 3 view .LVU1284
 4165              		.loc 1 2719 3 view .LVU1285
 4166 0010 002C     		cmp	r4, #0
 4167 0012 14DD     		ble	.L338
 4168              	.L334:
 4169              		.loc 1 2719 3 discriminator 3 view .LVU1286
 4170              		.loc 1 2719 3 discriminator 3 view .LVU1287
2720:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
ARM GAS  C:\usertemp\ccrQXns0.s 			page 144


2721:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_tags = tags;
 4171              		.loc 1 2721 3 view .LVU1288
 4172              		.loc 1 2721 14 is_stmt 0 view .LVU1289
 4173 0014 0F4B     		ldr	r3, .L339+4
 4174 0016 1D60     		str	r5, [r3]
2722:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_num_tags = num_tags;
 4175              		.loc 1 2722 3 is_stmt 1 view .LVU1290
 4176              		.loc 1 2722 18 is_stmt 0 view .LVU1291
 4177 0018 0F4B     		ldr	r3, .L339+8
 4178 001a 1C60     		str	r4, [r3]
2723:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* !LWIP_HTTPD_SSI_RAW */
2724:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 4179              		.loc 1 2724 1 view .LVU1292
 4180 001c 70BD     		pop	{r4, r5, r6, pc}
 4181              	.LVL401:
 4182              	.L336:
2711:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_ssi_handler = ssi_handler;
 4183              		.loc 1 2711 3 is_stmt 1 discriminator 1 view .LVU1293
2711:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_ssi_handler = ssi_handler;
 4184              		.loc 1 2711 3 discriminator 1 view .LVU1294
 4185 001e 0F4B     		ldr	r3, .L339+12
 4186 0020 40F69722 		movw	r2, #2711
 4187              	.LVL402:
2711:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_ssi_handler = ssi_handler;
 4188              		.loc 1 2711 3 is_stmt 0 discriminator 1 view .LVU1295
 4189 0024 0E49     		ldr	r1, .L339+16
 4190              	.LVL403:
2711:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_ssi_handler = ssi_handler;
 4191              		.loc 1 2711 3 discriminator 1 view .LVU1296
 4192 0026 0F48     		ldr	r0, .L339+20
 4193              	.LVL404:
2711:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_ssi_handler = ssi_handler;
 4194              		.loc 1 2711 3 discriminator 1 view .LVU1297
 4195 0028 FFF7FEFF 		bl	printf
 4196              	.LVL405:
 4197 002c EDE7     		b	.L332
 4198              	.L337:
2718:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("invalid number of tags", num_tags > 0);
 4199              		.loc 1 2718 3 is_stmt 1 discriminator 1 view .LVU1298
2718:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("invalid number of tags", num_tags > 0);
 4200              		.loc 1 2718 3 discriminator 1 view .LVU1299
 4201 002e 0B4B     		ldr	r3, .L339+12
 4202 0030 40F69E22 		movw	r2, #2718
 4203 0034 0C49     		ldr	r1, .L339+24
 4204 0036 0B48     		ldr	r0, .L339+20
 4205 0038 FFF7FEFF 		bl	printf
 4206              	.LVL406:
 4207 003c E8E7     		b	.L333
 4208              	.L338:
2719:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 4209              		.loc 1 2719 3 discriminator 1 view .LVU1300
2719:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 4210              		.loc 1 2719 3 discriminator 1 view .LVU1301
 4211 003e 074B     		ldr	r3, .L339+12
 4212 0040 40F69F22 		movw	r2, #2719
 4213 0044 0949     		ldr	r1, .L339+28
 4214 0046 0748     		ldr	r0, .L339+20
ARM GAS  C:\usertemp\ccrQXns0.s 			page 145


 4215 0048 FFF7FEFF 		bl	printf
 4216              	.LVL407:
 4217 004c E2E7     		b	.L334
 4218              	.L340:
 4219 004e 00BF     		.align	2
 4220              	.L339:
 4221 0050 00000000 		.word	httpd_ssi_handler
 4222 0054 00000000 		.word	httpd_tags
 4223 0058 00000000 		.word	httpd_num_tags
 4224 005c 00000000 		.word	.LC0
 4225 0060 00000000 		.word	.LC25
 4226 0064 50000000 		.word	.LC2
 4227 0068 18000000 		.word	.LC26
 4228 006c 28000000 		.word	.LC27
 4229              		.cfi_endproc
 4230              	.LFE387:
 4232              		.section	.rodata.http_set_cgi_handlers.str1.4,"aMS",%progbits,1
 4233              		.align	2
 4234              	.LC28:
 4235 0000 6E6F2063 		.ascii	"no cgis given\000"
 4235      67697320 
 4235      67697665 
 4235      6E00
 4236 000e 0000     		.align	2
 4237              	.LC29:
 4238 0010 696E7661 		.ascii	"invalid number of handlers\000"
 4238      6C696420 
 4238      6E756D62 
 4238      6572206F 
 4238      66206861 
 4239              		.section	.text.http_set_cgi_handlers,"ax",%progbits
 4240              		.align	1
 4241              		.global	http_set_cgi_handlers
 4242              		.syntax unified
 4243              		.thumb
 4244              		.thumb_func
 4246              	http_set_cgi_handlers:
 4247              	.LVL408:
 4248              	.LFB388:
2725:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #endif /* LWIP_HTTPD_SSI */
2726:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2727:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** #if LWIP_HTTPD_CGI
2728:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** /**
2729:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @ingroup httpd
2730:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * Set an array of CGI filenames/handler functions
2731:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  *
2732:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param cgis an array of CGI filenames/handler functions
2733:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  * @param num_handlers number of elements in the 'cgis' array
2734:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****  */
2735:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** void
2736:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** http_set_cgi_handlers(const tCGI *cgis, int num_handlers)
2737:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** {
 4249              		.loc 1 2737 1 view -0
 4250              		.cfi_startproc
 4251              		@ args = 0, pretend = 0, frame = 0
 4252              		@ frame_needed = 0, uses_anonymous_args = 0
 4253              		.loc 1 2737 1 is_stmt 0 view .LVU1303
ARM GAS  C:\usertemp\ccrQXns0.s 			page 146


 4254 0000 38B5     		push	{r3, r4, r5, lr}
 4255              	.LCFI44:
 4256              		.cfi_def_cfa_offset 16
 4257              		.cfi_offset 3, -16
 4258              		.cfi_offset 4, -12
 4259              		.cfi_offset 5, -8
 4260              		.cfi_offset 14, -4
 4261 0002 0C46     		mov	r4, r1
2738:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("no cgis given", cgis != NULL);
 4262              		.loc 1 2738 3 is_stmt 1 view .LVU1304
 4263              		.loc 1 2738 3 view .LVU1305
 4264 0004 0546     		mov	r5, r0
 4265 0006 30B1     		cbz	r0, .L345
 4266              	.LVL409:
 4267              	.L342:
 4268              		.loc 1 2738 3 discriminator 3 view .LVU1306
 4269              		.loc 1 2738 3 discriminator 3 view .LVU1307
2739:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("invalid number of handlers", num_handlers > 0);
 4270              		.loc 1 2739 3 view .LVU1308
 4271              		.loc 1 2739 3 view .LVU1309
 4272 0008 002C     		cmp	r4, #0
 4273 000a 0CDD     		ble	.L346
 4274              	.L343:
 4275              		.loc 1 2739 3 discriminator 3 view .LVU1310
 4276              		.loc 1 2739 3 discriminator 3 view .LVU1311
2740:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
2741:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_cgis = cgis;
 4277              		.loc 1 2741 3 view .LVU1312
 4278              		.loc 1 2741 14 is_stmt 0 view .LVU1313
 4279 000c 0A4B     		ldr	r3, .L347
 4280 000e 1D60     		str	r5, [r3]
2742:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   httpd_num_cgis = num_handlers;
 4281              		.loc 1 2742 3 is_stmt 1 view .LVU1314
 4282              		.loc 1 2742 18 is_stmt 0 view .LVU1315
 4283 0010 0A4B     		ldr	r3, .L347+4
 4284 0012 1C60     		str	r4, [r3]
2743:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** }
 4285              		.loc 1 2743 1 view .LVU1316
 4286 0014 38BD     		pop	{r3, r4, r5, pc}
 4287              	.LVL410:
 4288              	.L345:
2738:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("invalid number of handlers", num_handlers > 0);
 4289              		.loc 1 2738 3 is_stmt 1 discriminator 1 view .LVU1317
2738:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("invalid number of handlers", num_handlers > 0);
 4290              		.loc 1 2738 3 discriminator 1 view .LVU1318
 4291 0016 0A4B     		ldr	r3, .L347+8
 4292 0018 40F6B222 		movw	r2, #2738
 4293 001c 0949     		ldr	r1, .L347+12
 4294              	.LVL411:
2738:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("invalid number of handlers", num_handlers > 0);
 4295              		.loc 1 2738 3 is_stmt 0 discriminator 1 view .LVU1319
 4296 001e 0A48     		ldr	r0, .L347+16
 4297              	.LVL412:
2738:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c ****   LWIP_ASSERT("invalid number of handlers", num_handlers > 0);
 4298              		.loc 1 2738 3 discriminator 1 view .LVU1320
 4299 0020 FFF7FEFF 		bl	printf
 4300              	.LVL413:
ARM GAS  C:\usertemp\ccrQXns0.s 			page 147


 4301 0024 F0E7     		b	.L342
 4302              	.L346:
2739:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 4303              		.loc 1 2739 3 is_stmt 1 discriminator 1 view .LVU1321
2739:Middlewares/Third_Party/LwIP/src/apps/http/httpd.c **** 
 4304              		.loc 1 2739 3 discriminator 1 view .LVU1322
 4305 0026 064B     		ldr	r3, .L347+8
 4306 0028 40F6B322 		movw	r2, #2739
 4307 002c 0749     		ldr	r1, .L347+20
 4308 002e 0648     		ldr	r0, .L347+16
 4309 0030 FFF7FEFF 		bl	printf
 4310              	.LVL414:
 4311 0034 EAE7     		b	.L343
 4312              	.L348:
 4313 0036 00BF     		.align	2
 4314              	.L347:
 4315 0038 00000000 		.word	httpd_cgis
 4316 003c 00000000 		.word	httpd_num_cgis
 4317 0040 00000000 		.word	.LC0
 4318 0044 00000000 		.word	.LC28
 4319 0048 50000000 		.word	.LC2
 4320 004c 10000000 		.word	.LC29
 4321              		.cfi_endproc
 4322              	.LFE388:
 4324              		.section	.bss.http_cgi_paramcount,"aw",%nobits
 4325              		.align	2
 4328              	http_cgi_paramcount:
 4329 0000 00000000 		.space	4
 4330              		.section	.bss.httpd_num_cgis,"aw",%nobits
 4331              		.align	2
 4334              	httpd_num_cgis:
 4335 0000 00000000 		.space	4
 4336              		.section	.bss.httpd_cgis,"aw",%nobits
 4337              		.align	2
 4340              	httpd_cgis:
 4341 0000 00000000 		.space	4
 4342              		.global	http_ssi_tag_desc
 4343              		.section	.rodata.str1.4,"aMS",%progbits,1
 4344              		.align	2
 4345              	.LC30:
 4346 0000 3C212D2D 		.ascii	"<!--#\000"
 4346      2300
 4347 0006 0000     		.align	2
 4348              	.LC31:
 4349 0008 2D2D3E00 		.ascii	"-->\000"
 4350              		.align	2
 4351              	.LC32:
 4352 000c 2F2A2300 		.ascii	"/*#\000"
 4353              		.align	2
 4354              	.LC33:
 4355 0010 2A2F00   		.ascii	"*/\000"
 4356              		.section	.rodata.http_ssi_tag_desc,"a"
 4357              		.align	2
 4360              	http_ssi_tag_desc:
 4361 0000 00000000 		.word	.LC30
 4362 0004 08000000 		.word	.LC31
 4363 0008 0C000000 		.word	.LC32
ARM GAS  C:\usertemp\ccrQXns0.s 			page 148


 4364 000c 10000000 		.word	.LC33
 4365              		.section	.bss.httpd_tags,"aw",%nobits
 4366              		.align	2
 4369              	httpd_tags:
 4370 0000 00000000 		.space	4
 4371              		.section	.bss.httpd_num_tags,"aw",%nobits
 4372              		.align	2
 4375              	httpd_num_tags:
 4376 0000 00000000 		.space	4
 4377              		.section	.bss.httpd_ssi_handler,"aw",%nobits
 4378              		.align	2
 4381              	httpd_ssi_handler:
 4382 0000 00000000 		.space	4
 4383              		.section	.bss.http_uri_buf,"aw",%nobits
 4384              		.align	2
 4387              	http_uri_buf:
 4388 0000 00000000 		.space	64
 4388      00000000 
 4388      00000000 
 4388      00000000 
 4388      00000000 
 4389              		.section	.bss.httpd_req_buf,"aw",%nobits
 4390              		.align	2
 4393              	httpd_req_buf:
 4394 0000 00000000 		.space	1024
 4394      00000000 
 4394      00000000 
 4394      00000000 
 4394      00000000 
 4395              		.section	.rodata.str1.4
 4396 0013 00       		.align	2
 4397              	.LC34:
 4398 0014 2F696E64 		.ascii	"/index.shtml\000"
 4398      65782E73 
 4398      68746D6C 
 4398      00
 4399 0021 000000   		.align	2
 4400              	.LC35:
 4401 0024 2F696E64 		.ascii	"/index.ssi\000"
 4401      65782E73 
 4401      736900
 4402 002f 00       		.align	2
 4403              	.LC36:
 4404 0030 2F696E64 		.ascii	"/index.shtm\000"
 4404      65782E73 
 4404      68746D00 
 4405              		.align	2
 4406              	.LC37:
 4407 003c 2F696E64 		.ascii	"/index.html\000"
 4407      65782E68 
 4407      746D6C00 
 4408              		.align	2
 4409              	.LC38:
 4410 0048 2F696E64 		.ascii	"/index.htm\000"
 4410      65782E68 
 4410      746D00
 4411              		.section	.rodata.httpd_default_filenames,"a"
ARM GAS  C:\usertemp\ccrQXns0.s 			page 149


 4412              		.align	2
 4415              	httpd_default_filenames:
 4416 0000 14000000 		.word	.LC34
 4417 0004 01       		.byte	1
 4418 0005 000000   		.space	3
 4419 0008 24000000 		.word	.LC35
 4420 000c 01       		.byte	1
 4421 000d 000000   		.space	3
 4422 0010 30000000 		.word	.LC36
 4423 0014 01       		.byte	1
 4424 0015 000000   		.space	3
 4425 0018 3C000000 		.word	.LC37
 4426 001c 00       		.byte	0
 4427 001d 000000   		.space	3
 4428 0020 48000000 		.word	.LC38
 4429 0024 00       		.byte	0
 4430 0025 000000   		.space	3
 4431              		.section	.rodata.str1.4
 4432 0053 00       		.align	2
 4433              	.LC39:
 4434 0054 2E736874 		.ascii	".shtml\000"
 4434      6D6C00
 4435 005b 00       		.align	2
 4436              	.LC40:
 4437 005c 2E736874 		.ascii	".shtm\000"
 4437      6D00
 4438 0062 0000     		.align	2
 4439              	.LC41:
 4440 0064 2E737369 		.ascii	".ssi\000"
 4440      00
 4441 0069 000000   		.align	2
 4442              	.LC42:
 4443 006c 2E786D6C 		.ascii	".xml\000"
 4443      00
 4444 0071 000000   		.align	2
 4445              	.LC43:
 4446 0074 2E6A736F 		.ascii	".json\000"
 4446      6E00
 4447              		.section	.rodata.g_pcSSIExtensions,"a"
 4448              		.align	2
 4451              	g_pcSSIExtensions:
 4452 0000 54000000 		.word	.LC39
 4453 0004 5C000000 		.word	.LC40
 4454 0008 64000000 		.word	.LC41
 4455 000c 6C000000 		.word	.LC42
 4456 0010 74000000 		.word	.LC43
 4457              		.text
 4458              	.Letext0:
 4459              		.file 2 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 4460              		.file 3 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 4461              		.file 4 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/lib/gcc/arm-none
 4462              		.file 5 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 4463              		.file 6 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 4464              		.file 7 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 4465              		.file 8 "Middlewares/Third_Party/LwIP/src/include/lwip/apps/httpd.h"
 4466              		.file 9 "Middlewares/Third_Party/LwIP/src/include/lwip/mem.h"
 4467              		.file 10 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
ARM GAS  C:\usertemp\ccrQXns0.s 			page 150


 4468              		.file 11 "Middlewares/Third_Party/LwIP/src/include/lwip/apps/fs.h"
 4469              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpbase.h"
 4470              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/iana.h"
 4471              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 4472              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 4473              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 4474              		.file 17 "Middlewares/Third_Party/LwIP/src/apps/http/httpd_structs.h"
 4475              		.file 18 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/i
 4476              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 4477              		.file 20 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/i
 4478              		.file 21 "<built-in>"
ARM GAS  C:\usertemp\ccrQXns0.s 			page 151


DEFINED SYMBOLS
                            *ABS*:00000000 httpd.c
C:\usertemp\ccrQXns0.s:20     .rodata.httpd_init_pcb.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:33     .text.httpd_init_pcb:00000000 $t
C:\usertemp\ccrQXns0.s:38     .text.httpd_init_pcb:00000000 httpd_init_pcb
C:\usertemp\ccrQXns0.s:142    .text.httpd_init_pcb:00000054 $d
C:\usertemp\ccrQXns0.s:3939   .text.http_accept:00000000 http_accept
C:\usertemp\ccrQXns0.s:152    .rodata.get_tag_insert.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:168    .text.get_tag_insert:00000000 $t
C:\usertemp\ccrQXns0.s:173    .text.get_tag_insert:00000000 get_tag_insert
C:\usertemp\ccrQXns0.s:382    .text.get_tag_insert:000000f4 $d
C:\usertemp\ccrQXns0.s:4381   .bss.httpd_ssi_handler:00000000 httpd_ssi_handler
C:\usertemp\ccrQXns0.s:4369   .bss.httpd_tags:00000000 httpd_tags
C:\usertemp\ccrQXns0.s:4375   .bss.httpd_num_tags:00000000 httpd_num_tags
C:\usertemp\ccrQXns0.s:396    .rodata.http_write.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:400    .text.http_write:00000000 $t
C:\usertemp\ccrQXns0.s:405    .text.http_write:00000000 http_write
C:\usertemp\ccrQXns0.s:575    .text.http_write:00000094 $d
C:\usertemp\ccrQXns0.s:582    .rodata.http_send_data_ssi.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:586    .text.http_send_data_ssi:00000000 $t
C:\usertemp\ccrQXns0.s:591    .text.http_send_data_ssi:00000000 http_send_data_ssi
C:\usertemp\ccrQXns0.s:783    .text.http_send_data_ssi:000000ba $d
C:\usertemp\ccrQXns0.s:788    .text.http_send_data_ssi:000000c4 $t
C:\usertemp\ccrQXns0.s:1183   .text.http_send_data_ssi:000002a0 $d
C:\usertemp\ccrQXns0.s:4360   .rodata.http_ssi_tag_desc:00000000 http_ssi_tag_desc
C:\usertemp\ccrQXns0.s:1193   .text.http_send_data_ssi:000002b8 $t
C:\usertemp\ccrQXns0.s:1374   .text.http_send_data_nonssi:00000000 $t
C:\usertemp\ccrQXns0.s:1379   .text.http_send_data_nonssi:00000000 http_send_data_nonssi
C:\usertemp\ccrQXns0.s:1469   .text.http_ssi_state_free:00000000 $t
C:\usertemp\ccrQXns0.s:1474   .text.http_ssi_state_free:00000000 http_ssi_state_free
C:\usertemp\ccrQXns0.s:1507   .text.http_state_eof:00000000 $t
C:\usertemp\ccrQXns0.s:1512   .text.http_state_eof:00000000 http_state_eof
C:\usertemp\ccrQXns0.s:1573   .text.http_state_free:00000000 $t
C:\usertemp\ccrQXns0.s:1578   .text.http_state_free:00000000 http_state_free
C:\usertemp\ccrQXns0.s:1617   .text.http_close_or_abort_conn:00000000 $t
C:\usertemp\ccrQXns0.s:1622   .text.http_close_or_abort_conn:00000000 http_close_or_abort_conn
C:\usertemp\ccrQXns0.s:1723   .text.http_close_or_abort_conn:00000060 $d
C:\usertemp\ccrQXns0.s:2095   .text.http_poll:00000000 http_poll
C:\usertemp\ccrQXns0.s:1728   .text.http_close_conn:00000000 $t
C:\usertemp\ccrQXns0.s:1733   .text.http_close_conn:00000000 http_close_conn
C:\usertemp\ccrQXns0.s:1757   .text.http_eof:00000000 $t
C:\usertemp\ccrQXns0.s:1762   .text.http_eof:00000000 http_eof
C:\usertemp\ccrQXns0.s:1784   .rodata.http_check_eof.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:1789   .text.http_check_eof:00000000 $t
C:\usertemp\ccrQXns0.s:1794   .text.http_check_eof:00000000 http_check_eof
C:\usertemp\ccrQXns0.s:1874   .text.http_check_eof:0000003c $d
C:\usertemp\ccrQXns0.s:1881   .text.http_send:00000000 $t
C:\usertemp\ccrQXns0.s:1886   .text.http_send:00000000 http_send
C:\usertemp\ccrQXns0.s:1991   .text.http_sent:00000000 $t
C:\usertemp\ccrQXns0.s:1996   .text.http_sent:00000000 http_sent
C:\usertemp\ccrQXns0.s:2049   .text.http_err:00000000 $t
C:\usertemp\ccrQXns0.s:2054   .text.http_err:00000000 http_err
C:\usertemp\ccrQXns0.s:2090   .text.http_poll:00000000 $t
C:\usertemp\ccrQXns0.s:2191   .rodata.http_get_404_file.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:2201   .text.http_get_404_file:00000000 $t
C:\usertemp\ccrQXns0.s:2206   .text.http_get_404_file:00000000 http_get_404_file
C:\usertemp\ccrQXns0.s:2289   .text.http_get_404_file:00000038 $d
ARM GAS  C:\usertemp\ccrQXns0.s 			page 152


C:\usertemp\ccrQXns0.s:2296   .text.extract_uri_parameters:00000000 $t
C:\usertemp\ccrQXns0.s:2301   .text.extract_uri_parameters:00000000 extract_uri_parameters
C:\usertemp\ccrQXns0.s:2442   .text.http_uri_is_ssi:00000000 $t
C:\usertemp\ccrQXns0.s:2447   .text.http_uri_is_ssi:00000000 http_uri_is_ssi
C:\usertemp\ccrQXns0.s:2588   .text.http_uri_is_ssi:0000005c $d
C:\usertemp\ccrQXns0.s:4451   .rodata.g_pcSSIExtensions:00000000 g_pcSSIExtensions
C:\usertemp\ccrQXns0.s:2593   .text.http_ssi_state_alloc:00000000 $t
C:\usertemp\ccrQXns0.s:2598   .text.http_ssi_state_alloc:00000000 http_ssi_state_alloc
C:\usertemp\ccrQXns0.s:2633   .rodata.http_init_file.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:2646   .text.http_init_file:00000000 $t
C:\usertemp\ccrQXns0.s:2651   .text.http_init_file:00000000 http_init_file
C:\usertemp\ccrQXns0.s:2877   .text.http_init_file:000000c8 $d
C:\usertemp\ccrQXns0.s:2887   .text.http_find_file:00000000 $t
C:\usertemp\ccrQXns0.s:2892   .text.http_find_file:00000000 http_find_file
C:\usertemp\ccrQXns0.s:3305   .text.http_find_file:000001a0 $d
C:\usertemp\ccrQXns0.s:4387   .bss.http_uri_buf:00000000 http_uri_buf
C:\usertemp\ccrQXns0.s:4415   .rodata.httpd_default_filenames:00000000 httpd_default_filenames
C:\usertemp\ccrQXns0.s:4328   .bss.http_cgi_paramcount:00000000 http_cgi_paramcount
C:\usertemp\ccrQXns0.s:4334   .bss.httpd_num_cgis:00000000 httpd_num_cgis
C:\usertemp\ccrQXns0.s:4340   .bss.httpd_cgis:00000000 httpd_cgis
C:\usertemp\ccrQXns0.s:3314   .rodata.http_parse_request.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:3327   .text.http_parse_request:00000000 $t
C:\usertemp\ccrQXns0.s:3332   .text.http_parse_request:00000000 http_parse_request
C:\usertemp\ccrQXns0.s:3665   .text.http_parse_request:00000138 $d
C:\usertemp\ccrQXns0.s:4393   .bss.httpd_req_buf:00000000 httpd_req_buf
C:\usertemp\ccrQXns0.s:3678   .rodata.http_recv.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:3682   .text.http_recv:00000000 $t
C:\usertemp\ccrQXns0.s:3687   .text.http_recv:00000000 http_recv
C:\usertemp\ccrQXns0.s:3858   .text.http_recv:000000b4 $d
C:\usertemp\ccrQXns0.s:3866   .text.http_state_init:00000000 $t
C:\usertemp\ccrQXns0.s:3871   .text.http_state_init:00000000 http_state_init
C:\usertemp\ccrQXns0.s:3895   .text.http_state_alloc:00000000 $t
C:\usertemp\ccrQXns0.s:3900   .text.http_state_alloc:00000000 http_state_alloc
C:\usertemp\ccrQXns0.s:3934   .text.http_accept:00000000 $t
C:\usertemp\ccrQXns0.s:4038   .text.http_accept:00000060 $d
C:\usertemp\ccrQXns0.s:4046   .rodata.httpd_init.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:4050   .text.httpd_init:00000000 $t
C:\usertemp\ccrQXns0.s:4056   .text.httpd_init:00000000 httpd_init
C:\usertemp\ccrQXns0.s:4105   .text.httpd_init:00000028 $d
C:\usertemp\ccrQXns0.s:4112   .rodata.http_set_ssi_handler.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:4122   .text.http_set_ssi_handler:00000000 $t
C:\usertemp\ccrQXns0.s:4128   .text.http_set_ssi_handler:00000000 http_set_ssi_handler
C:\usertemp\ccrQXns0.s:4221   .text.http_set_ssi_handler:00000050 $d
C:\usertemp\ccrQXns0.s:4233   .rodata.http_set_cgi_handlers.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:4240   .text.http_set_cgi_handlers:00000000 $t
C:\usertemp\ccrQXns0.s:4246   .text.http_set_cgi_handlers:00000000 http_set_cgi_handlers
C:\usertemp\ccrQXns0.s:4315   .text.http_set_cgi_handlers:00000038 $d
C:\usertemp\ccrQXns0.s:4325   .bss.http_cgi_paramcount:00000000 $d
C:\usertemp\ccrQXns0.s:4331   .bss.httpd_num_cgis:00000000 $d
C:\usertemp\ccrQXns0.s:4337   .bss.httpd_cgis:00000000 $d
C:\usertemp\ccrQXns0.s:4344   .rodata.str1.4:00000000 $d
C:\usertemp\ccrQXns0.s:4357   .rodata.http_ssi_tag_desc:00000000 $d
C:\usertemp\ccrQXns0.s:4366   .bss.httpd_tags:00000000 $d
C:\usertemp\ccrQXns0.s:4372   .bss.httpd_num_tags:00000000 $d
C:\usertemp\ccrQXns0.s:4378   .bss.httpd_ssi_handler:00000000 $d
C:\usertemp\ccrQXns0.s:4384   .bss.http_uri_buf:00000000 $d
C:\usertemp\ccrQXns0.s:4390   .bss.httpd_req_buf:00000000 $d
ARM GAS  C:\usertemp\ccrQXns0.s 			page 153


C:\usertemp\ccrQXns0.s:4412   .rodata.httpd_default_filenames:00000000 $d
C:\usertemp\ccrQXns0.s:4448   .rodata.g_pcSSIExtensions:00000000 $d

UNDEFINED SYMBOLS
tcp_setprio
tcp_bind
tcp_listen_with_backlog
tcp_accept
printf
ip_addr_any
strlen
strcmp
memcpy
tcp_write
mem_free
fs_close
pbuf_free
tcp_arg
tcp_recv
tcp_err
tcp_poll
tcp_sent
tcp_close
tcp_abort
fs_bytes_left
tcp_output
fs_open
strchr
lwip_stricmp
mem_malloc
memset
lwip_strnstr
pbuf_cat
pbuf_ref
pbuf_copy_partial
strncmp
pbuf_clen
tcp_recved
tcp_new_ip_type
