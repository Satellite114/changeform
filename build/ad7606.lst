ARM GAS  C:\usertemp\cckjoTjm.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"ad7606.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "Core/Src/ad7606.c"
  19              		.section	.text.ini7606Paras,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	ini7606Paras:
  26              	.LVL0:
  27              	.LFB336:
   1:Core/Src/ad7606.c **** #include "ad7606.h"
   2:Core/Src/ad7606.c **** #include "usart.h"
   3:Core/Src/ad7606.c **** 
   4:Core/Src/ad7606.c **** 
   5:Core/Src/ad7606.c **** /*******************************************************
   6:Core/Src/ad7606.c ****  * 
   7:Core/Src/ad7606.c ****  * Declare a struct variable in ur app_code.c as bellow
   8:Core/Src/ad7606.c ****  * AD7606Dev ad7606dev;
   9:Core/Src/ad7606.c ****  * and initialize it.
  10:Core/Src/ad7606.c ****  * 
  11:Core/Src/ad7606.c **** ********************************************************/
  12:Core/Src/ad7606.c **** 
  13:Core/Src/ad7606.c **** short testAdc[testCHs];   // just for test .
  14:Core/Src/ad7606.c **** 
  15:Core/Src/ad7606.c **** 
  16:Core/Src/ad7606.c **** static void ini7606Paras(AD7606Dev * dev)
  17:Core/Src/ad7606.c **** { 
  28              		.loc 1 17 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  18:Core/Src/ad7606.c ****     dev->baseaddr=0x60000000;
  33              		.loc 1 18 5 view .LVU1
  34              		.loc 1 18 18 is_stmt 0 view .LVU2
  35 0000 4FF0C043 		mov	r3, #1610612736
  36 0004 0360     		str	r3, [r0]
  19:Core/Src/ad7606.c ****     dev->interface=AD7606_PARALLEL;
  37              		.loc 1 19 5 is_stmt 1 view .LVU3
  38              		.loc 1 19 19 is_stmt 0 view .LVU4
  39 0006 0123     		movs	r3, #1
ARM GAS  C:\usertemp\cckjoTjm.s 			page 2


  40 0008 80F80438 		strb	r3, [r0, #2052]
  20:Core/Src/ad7606.c ****     dev->range=AD7606_10V;
  41              		.loc 1 20 5 is_stmt 1 view .LVU5
  42              		.loc 1 20 15 is_stmt 0 view .LVU6
  43 000c 0223     		movs	r3, #2
  44 000e 80F80538 		strb	r3, [r0, #2053]
  21:Core/Src/ad7606.c ****     dev->osr=AD7606_OSR_64;
  45              		.loc 1 21 5 is_stmt 1 view .LVU7
  46              		.loc 1 21 13 is_stmt 0 view .LVU8
  47 0012 0623     		movs	r3, #6
  48 0014 80F80638 		strb	r3, [r0, #2054]
  22:Core/Src/ad7606.c **** 
  23:Core/Src/ad7606.c **** }
  49              		.loc 1 23 1 view .LVU9
  50 0018 7047     		bx	lr
  51              		.cfi_endproc
  52              	.LFE336:
  54              		.section	.text.ad7606ini,"ax",%progbits
  55              		.align	1
  56              		.global	ad7606ini
  57              		.syntax unified
  58              		.thumb
  59              		.thumb_func
  61              	ad7606ini:
  62              	.LVL1:
  63              	.LFB337:
  24:Core/Src/ad7606.c **** 
  25:Core/Src/ad7606.c **** void ad7606ini(AD7606Dev * dev)
  26:Core/Src/ad7606.c **** {
  64              		.loc 1 26 1 is_stmt 1 view -0
  65              		.cfi_startproc
  66              		@ args = 0, pretend = 0, frame = 0
  67              		@ frame_needed = 0, uses_anonymous_args = 0
  68              		.loc 1 26 1 is_stmt 0 view .LVU11
  69 0000 10B5     		push	{r4, lr}
  70              	.LCFI0:
  71              		.cfi_def_cfa_offset 8
  72              		.cfi_offset 4, -8
  73              		.cfi_offset 14, -4
  74 0002 0446     		mov	r4, r0
  27:Core/Src/ad7606.c **** 
  28:Core/Src/ad7606.c ****     int i;
  75              		.loc 1 28 5 is_stmt 1 view .LVU12
  29:Core/Src/ad7606.c **** 
  30:Core/Src/ad7606.c ****     ini7606Paras(dev);
  76              		.loc 1 30 5 view .LVU13
  77 0004 FFF7FEFF 		bl	ini7606Paras
  78              	.LVL2:
  31:Core/Src/ad7606.c ****     
  32:Core/Src/ad7606.c ****     /// set rang 
  33:Core/Src/ad7606.c **** 
  34:Core/Src/ad7606.c ****     /// clear bufs.
  35:Core/Src/ad7606.c ****     for(i=0;i<DataBufLen;i++)
  79              		.loc 1 35 5 view .LVU14
  80              		.loc 1 35 10 is_stmt 0 view .LVU15
  81 0008 0023     		movs	r3, #0
  82              		.loc 1 35 5 view .LVU16
ARM GAS  C:\usertemp\cckjoTjm.s 			page 3


  83 000a 04E0     		b	.L3
  84              	.LVL3:
  85              	.L4:
  36:Core/Src/ad7606.c ****     {
  37:Core/Src/ad7606.c ****         dev->dataBuf[i]=0;
  86              		.loc 1 37 9 is_stmt 1 view .LVU17
  87              		.loc 1 37 24 is_stmt 0 view .LVU18
  88 000c 04EB4302 		add	r2, r4, r3, lsl #1
  89 0010 0021     		movs	r1, #0
  90 0012 9180     		strh	r1, [r2, #4]	@ movhi
  35:Core/Src/ad7606.c ****     {
  91              		.loc 1 35 27 is_stmt 1 discriminator 3 view .LVU19
  92 0014 0133     		adds	r3, r3, #1
  93              	.LVL4:
  94              	.L3:
  35:Core/Src/ad7606.c ****     {
  95              		.loc 1 35 14 discriminator 1 view .LVU20
  96 0016 B3F5806F 		cmp	r3, #1024
  97 001a F7DB     		blt	.L4
  38:Core/Src/ad7606.c ****     }
  39:Core/Src/ad7606.c **** 
  40:Core/Src/ad7606.c **** 	HAL_GPIO_WritePin(ADC_STBY_GPIO_Port,ADC_STBY_Pin,GPIO_PIN_SET);
  98              		.loc 1 40 2 view .LVU21
  99 001c 0C4C     		ldr	r4, .L6
 100              	.LVL5:
 101              		.loc 1 40 2 is_stmt 0 view .LVU22
 102 001e 0122     		movs	r2, #1
 103 0020 8021     		movs	r1, #128
 104 0022 2046     		mov	r0, r4
 105 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
 106              	.LVL6:
  41:Core/Src/ad7606.c **** 	HAL_Delay(2);
 107              		.loc 1 41 2 is_stmt 1 view .LVU23
 108 0028 0220     		movs	r0, #2
 109 002a FFF7FEFF 		bl	HAL_Delay
 110              	.LVL7:
  42:Core/Src/ad7606.c **** 	HAL_GPIO_WritePin(ADC_RST_GPIO_Port,ADC_RST_Pin,GPIO_PIN_SET);
 111              		.loc 1 42 2 view .LVU24
 112 002e 0122     		movs	r2, #1
 113 0030 4FF48061 		mov	r1, #1024
 114 0034 2046     		mov	r0, r4
 115 0036 FFF7FEFF 		bl	HAL_GPIO_WritePin
 116              	.LVL8:
  43:Core/Src/ad7606.c **** 	HAL_Delay(20);
 117              		.loc 1 43 2 view .LVU25
 118 003a 1420     		movs	r0, #20
 119 003c FFF7FEFF 		bl	HAL_Delay
 120              	.LVL9:
  44:Core/Src/ad7606.c **** 	HAL_GPIO_WritePin(ADC_RST_GPIO_Port,ADC_RST_Pin,GPIO_PIN_RESET);
 121              		.loc 1 44 2 view .LVU26
 122 0040 0022     		movs	r2, #0
 123 0042 4FF48061 		mov	r1, #1024
 124 0046 2046     		mov	r0, r4
 125 0048 FFF7FEFF 		bl	HAL_GPIO_WritePin
 126              	.LVL10:
  45:Core/Src/ad7606.c **** 	
  46:Core/Src/ad7606.c **** }
ARM GAS  C:\usertemp\cckjoTjm.s 			page 4


 127              		.loc 1 46 1 is_stmt 0 view .LVU27
 128 004c 10BD     		pop	{r4, pc}
 129              	.L7:
 130 004e 00BF     		.align	2
 131              	.L6:
 132 0050 00180258 		.word	1476532224
 133              		.cfi_endproc
 134              	.LFE337:
 136              		.section	.text.get_AD7606,"ax",%progbits
 137              		.align	1
 138              		.global	get_AD7606
 139              		.syntax unified
 140              		.thumb
 141              		.thumb_func
 143              	get_AD7606:
 144              	.LFB338:
  47:Core/Src/ad7606.c **** 
  48:Core/Src/ad7606.c **** 
  49:Core/Src/ad7606.c **** void get_AD7606(void)
  50:Core/Src/ad7606.c **** {
 145              		.loc 1 50 1 is_stmt 1 view -0
 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 0
 148              		@ frame_needed = 0, uses_anonymous_args = 0
 149              		@ link register save eliminated.
  51:Core/Src/ad7606.c **** 		// for(i=0;i<8;i++)
  52:Core/Src/ad7606.c **** 		// {
  53:Core/Src/ad7606.c **** 		// 	testAdc[i]=AD7606Addr;
  54:Core/Src/ad7606.c **** 		// }
  55:Core/Src/ad7606.c **** }
 150              		.loc 1 55 1 view .LVU29
 151 0000 7047     		bx	lr
 152              		.cfi_endproc
 153              	.LFE338:
 155              		.section	.text.test_AD7606,"ax",%progbits
 156              		.align	1
 157              		.global	test_AD7606
 158              		.syntax unified
 159              		.thumb
 160              		.thumb_func
 162              	test_AD7606:
 163              	.LFB339:
  56:Core/Src/ad7606.c **** 
  57:Core/Src/ad7606.c **** void test_AD7606(void)
  58:Core/Src/ad7606.c **** {
 164              		.loc 1 58 1 view -0
 165              		.cfi_startproc
 166              		@ args = 0, pretend = 0, frame = 0
 167              		@ frame_needed = 0, uses_anonymous_args = 0
 168              		@ link register save eliminated.
  59:Core/Src/ad7606.c ****     int i;
 169              		.loc 1 59 5 view .LVU31
  60:Core/Src/ad7606.c **** 
  61:Core/Src/ad7606.c ****     for(i=0;i<testCHs;i++)
 170              		.loc 1 61 5 view .LVU32
 171              	.LVL11:
 172              		.loc 1 61 10 is_stmt 0 view .LVU33
ARM GAS  C:\usertemp\cckjoTjm.s 			page 5


 173 0000 0023     		movs	r3, #0
 174              		.loc 1 61 5 view .LVU34
 175 0002 06E0     		b	.L10
 176              	.LVL12:
 177              	.L11:
  62:Core/Src/ad7606.c ****     {
  63:Core/Src/ad7606.c ****     	testAdc[i]=AD7606Addr;
 178              		.loc 1 63 6 is_stmt 1 view .LVU35
 179              		.loc 1 63 17 is_stmt 0 view .LVU36
 180 0004 4FF0C042 		mov	r2, #1610612736
 181 0008 1188     		ldrh	r1, [r2]
 182              		.loc 1 63 16 view .LVU37
 183 000a 034A     		ldr	r2, .L12
 184 000c 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 185              		.loc 1 63 27 is_stmt 1 view .LVU38
  61:Core/Src/ad7606.c ****     {
 186              		.loc 1 61 24 discriminator 3 view .LVU39
 187 0010 0133     		adds	r3, r3, #1
 188              	.LVL13:
 189              	.L10:
  61:Core/Src/ad7606.c ****     {
 190              		.loc 1 61 14 discriminator 1 view .LVU40
 191 0012 072B     		cmp	r3, #7
 192 0014 F6DD     		ble	.L11
  64:Core/Src/ad7606.c ****     }
  65:Core/Src/ad7606.c **** }
 193              		.loc 1 65 1 is_stmt 0 view .LVU41
 194 0016 7047     		bx	lr
 195              	.L13:
 196              		.align	2
 197              	.L12:
 198 0018 00000000 		.word	testAdc
 199              		.cfi_endproc
 200              	.LFE339:
 202              		.section	.rodata.print_AD7606.str1.4,"aMS",%progbits,1
 203              		.align	2
 204              	.LC0:
 205 0000 0D0A2041 		.ascii	"\015\012 AD7606 DATAs:\015\000"
 205      44373630 
 205      36204441 
 205      5441733A 
 205      0D00
 206 0012 0000     		.align	2
 207              	.LC1:
 208 0014 0D0A2044 		.ascii	"\015\012 DATA at CH%d:\011%.3f\015\012\000"
 208      41544120 
 208      61742043 
 208      4825643A 
 208      09252E33 
 209              		.section	.text.print_AD7606,"ax",%progbits
 210              		.align	1
 211              		.global	print_AD7606
 212              		.syntax unified
 213              		.thumb
 214              		.thumb_func
 216              	print_AD7606:
 217              	.LFB340:
ARM GAS  C:\usertemp\cckjoTjm.s 			page 6


  66:Core/Src/ad7606.c **** 
  67:Core/Src/ad7606.c **** 
  68:Core/Src/ad7606.c **** void print_AD7606(void)
  69:Core/Src/ad7606.c **** {
 218              		.loc 1 69 1 is_stmt 1 view -0
 219              		.cfi_startproc
 220              		@ args = 0, pretend = 0, frame = 0
 221              		@ frame_needed = 0, uses_anonymous_args = 0
 222 0000 10B5     		push	{r4, lr}
 223              	.LCFI1:
 224              		.cfi_def_cfa_offset 8
 225              		.cfi_offset 4, -8
 226              		.cfi_offset 14, -4
  70:Core/Src/ad7606.c ****     int i;
 227              		.loc 1 70 5 view .LVU43
  71:Core/Src/ad7606.c ****     printf("\r\n AD7606 DATAs:\r\n");
 228              		.loc 1 71 5 view .LVU44
 229 0002 1148     		ldr	r0, .L18+8
 230 0004 FFF7FEFF 		bl	puts
 231              	.LVL14:
  72:Core/Src/ad7606.c ****     for(i=0;i<testCHs;i++)
 232              		.loc 1 72 5 view .LVU45
 233              		.loc 1 72 10 is_stmt 0 view .LVU46
 234 0008 0024     		movs	r4, #0
 235              		.loc 1 72 5 view .LVU47
 236 000a 15E0     		b	.L15
 237              	.LVL15:
 238              	.L16:
  73:Core/Src/ad7606.c ****     {
  74:Core/Src/ad7606.c ****         printf("\r\n DATA at CH%d:\t%.3f\r\n",i,testAdc[i]/32768.0*10);
 239              		.loc 1 74 9 is_stmt 1 view .LVU48
 240              		.loc 1 74 56 is_stmt 0 view .LVU49
 241 000c 0F4B     		ldr	r3, .L18+12
 242 000e 33F91430 		ldrsh	r3, [r3, r4, lsl #1]
 243 0012 07EE103A 		vmov	s14, r3	@ int
 244              		.loc 1 74 59 view .LVU50
 245 0016 B8EEC77B 		vcvt.f64.s32	d7, s14
 246 001a 9FED096B 		vldr.64	d6, .L18
 247 001e 27EE067B 		vmul.f64	d7, d7, d6
 248              		.loc 1 74 9 view .LVU51
 249 0022 B2EE046B 		vmov.f64	d6, #1.0e+1
 250 0026 27EE067B 		vmul.f64	d7, d7, d6
 251 002a 53EC172B 		vmov	r2, r3, d7
 252 002e 2146     		mov	r1, r4
 253 0030 0748     		ldr	r0, .L18+16
 254 0032 FFF7FEFF 		bl	printf
 255              	.LVL16:
  72:Core/Src/ad7606.c ****     for(i=0;i<testCHs;i++)
 256              		.loc 1 72 24 is_stmt 1 discriminator 3 view .LVU52
 257 0036 0134     		adds	r4, r4, #1
 258              	.LVL17:
 259              	.L15:
  72:Core/Src/ad7606.c ****     for(i=0;i<testCHs;i++)
 260              		.loc 1 72 14 discriminator 1 view .LVU53
 261 0038 072C     		cmp	r4, #7
 262 003a E7DD     		ble	.L16
  75:Core/Src/ad7606.c ****     }
ARM GAS  C:\usertemp\cckjoTjm.s 			page 7


  76:Core/Src/ad7606.c **** }...
 263              		.loc 1 76 1 is_stmt 0 view .LVU54
 264 003c 10BD     		pop	{r4, pc}
 265              	.LVL18:
 266              	.L19:
 267              		.loc 1 76 1 view .LVU55
 268 003e 00BF     		.align	3
 269              	.L18:
 270 0040 00000000 		.word	0
 271 0044 0000003F 		.word	1056964608
 272 0048 00000000 		.word	.LC0
 273 004c 00000000 		.word	testAdc
 274 0050 14000000 		.word	.LC1
 275              		.cfi_endproc
 276              	.LFE340:
 278              		.global	testAdc
 279              		.section	.bss.testAdc,"aw",%nobits
 280              		.align	2
 283              	testAdc:
 284 0000 00000000 		.space	16
 284      00000000 
 284      00000000 
 284      00000000 
 285              		.text
 286              	.Letext0:
 287              		.file 2 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 288              		.file 3 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 289              		.file 4 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 290              		.file 5 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_gpio.h"
 291              		.file 6 "Core/Inc/ad7606.h"
 292              		.file 7 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 293              		.file 8 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 294              		.file 9 "<built-in>"
ARM GAS  C:\usertemp\cckjoTjm.s 			page 8


DEFINED SYMBOLS
                            *ABS*:00000000 ad7606.c
C:\usertemp\cckjoTjm.s:20     .text.ini7606Paras:00000000 $t
C:\usertemp\cckjoTjm.s:25     .text.ini7606Paras:00000000 ini7606Paras
C:\usertemp\cckjoTjm.s:55     .text.ad7606ini:00000000 $t
C:\usertemp\cckjoTjm.s:61     .text.ad7606ini:00000000 ad7606ini
C:\usertemp\cckjoTjm.s:132    .text.ad7606ini:00000050 $d
C:\usertemp\cckjoTjm.s:137    .text.get_AD7606:00000000 $t
C:\usertemp\cckjoTjm.s:143    .text.get_AD7606:00000000 get_AD7606
C:\usertemp\cckjoTjm.s:156    .text.test_AD7606:00000000 $t
C:\usertemp\cckjoTjm.s:162    .text.test_AD7606:00000000 test_AD7606
C:\usertemp\cckjoTjm.s:198    .text.test_AD7606:00000018 $d
C:\usertemp\cckjoTjm.s:283    .bss.testAdc:00000000 testAdc
C:\usertemp\cckjoTjm.s:203    .rodata.print_AD7606.str1.4:00000000 $d
C:\usertemp\cckjoTjm.s:210    .text.print_AD7606:00000000 $t
C:\usertemp\cckjoTjm.s:216    .text.print_AD7606:00000000 print_AD7606
C:\usertemp\cckjoTjm.s:270    .text.print_AD7606:00000040 $d
C:\usertemp\cckjoTjm.s:280    .bss.testAdc:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_Delay
puts
printf
