ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"mem.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.ptr_to_mem,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	ptr_to_mem:
  25              	.LVL0:
  26              	.LFB364:
  27              		.file 1 "Middlewares/Third_Party/LwIP/src/core/mem.c"
   1:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Dynamic memory manager
   4:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This is a lightweight replacement for the standard C library malloc().
   6:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * If you want to use the standard C library malloc() instead, define
   8:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MEM_LIBC_MALLOC to 1 in your lwipopts.h
   9:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  10:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * To let mem_malloc() use pools (prevents fragmentation and is much faster than
  11:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * a heap but might waste some memory), define MEM_USE_POOLS to 1, define
  12:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MEMP_USE_CUSTOM_POOLS to 1 and create a file "lwippools.h" that includes a list
  13:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * of pools like this (more pools can be added between _START and _END):
  14:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  15:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Define three pools with sizes 256, 512, and 1512 bytes
  16:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL_START
  17:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL(20, 256)
  18:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL(10, 512)
  19:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL(5, 1512)
  20:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL_END
  21:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  22:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  23:Middlewares/Third_Party/LwIP/src/core/mem.c **** /*
  24:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  25:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * All rights reserved.
  26:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  27:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Redistribution and use in source and binary forms, with or without modification,
  28:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * are permitted provided that the following conditions are met:
  29:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  30:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  31:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    this list of conditions and the following disclaimer.
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 2


  32:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  33:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    this list of conditions and the following disclaimer in the documentation
  34:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    and/or other materials provided with the distribution.
  35:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * 3. The name of the author may not be used to endorse or promote products
  36:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    derived from this software without specific prior written permission.
  37:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  38:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  39:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  40:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  41:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  42:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  43:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  44:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  45:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  46:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  47:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * OF SUCH DAMAGE.
  48:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  49:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This file is part of the lwIP TCP/IP stack.
  50:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  51:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Author: Adam Dunkels <adam@sics.se>
  52:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *         Simon Goldschmidt
  53:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  54:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  55:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  56:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/opt.h"
  57:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/mem.h"
  58:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/def.h"
  59:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/sys.h"
  60:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/stats.h"
  61:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/err.h"
  62:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  63:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include <string.h>
  64:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  65:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC
  66:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include <stdlib.h> /* for malloc()/free() */
  67:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
  68:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  69:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* This is overridable for tests only... */
  70:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef LWIP_MEM_ILLEGAL_FREE
  71:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ILLEGAL_FREE(msg)         LWIP_ASSERT(msg, 0)
  72:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
  73:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  74:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_STATS_INC_LOCKED(x)         SYS_ARCH_LOCKED(MEM_STATS_INC(x))
  75:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_STATS_INC_USED_LOCKED(x, y) SYS_ARCH_LOCKED(MEM_STATS_INC_USED(x, y))
  76:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_STATS_DEC_USED_LOCKED(x, y) SYS_ARCH_LOCKED(MEM_STATS_DEC_USED(x, y))
  77:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  78:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
  79:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY_OFFSET   MEM_SANITY_REGION_BEFORE_ALIGNED
  80:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY_OVERHEAD (MEM_SANITY_REGION_BEFORE_ALIGNED + MEM_SANITY_REGION_AFTER_ALIGNED)
  81:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
  82:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY_OFFSET   0
  83:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY_OVERHEAD 0
  84:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
  85:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  86:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK || MEMP_OVERFLOW_CHECK
  87:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
  88:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Check if a mep element was victim of an overflow or underflow
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 3


  89:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * (e.g. the restricted area after/before it has been altered)
  90:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  91:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param p the mem element to check
  92:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size allocated size of the element
  93:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param descr1 description of the element source shown on error
  94:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param descr2 description of the element source shown on error
  95:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  96:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
  97:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_overflow_check_raw(void *p, size_t size, const char *descr1, const char *descr2)
  98:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  99:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_AFTER_ALIGNED || MEM_SANITY_REGION_BEFORE_ALIGNED
 100:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u16_t k;
 101:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t *m;
 102:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 103:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_AFTER_ALIGNED > 0
 104:Middlewares/Third_Party/LwIP/src/core/mem.c ****   m = (u8_t *)p + size;
 105:Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (k = 0; k < MEM_SANITY_REGION_AFTER_ALIGNED; k++) {
 106:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (m[k] != 0xcd) {
 107:Middlewares/Third_Party/LwIP/src/core/mem.c ****       char errstr[128];
 108:Middlewares/Third_Party/LwIP/src/core/mem.c ****       snprintf(errstr, sizeof(errstr), "detected mem overflow in %s%s", descr1, descr2);
 109:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT(errstr, 0);
 110:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 111:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 112:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_SANITY_REGION_AFTER_ALIGNED > 0 */
 113:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 114:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_BEFORE_ALIGNED > 0
 115:Middlewares/Third_Party/LwIP/src/core/mem.c ****   m = (u8_t *)p - MEM_SANITY_REGION_BEFORE_ALIGNED;
 116:Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (k = 0; k < MEM_SANITY_REGION_BEFORE_ALIGNED; k++) {
 117:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (m[k] != 0xcd) {
 118:Middlewares/Third_Party/LwIP/src/core/mem.c ****       char errstr[128];
 119:Middlewares/Third_Party/LwIP/src/core/mem.c ****       snprintf(errstr, sizeof(errstr), "detected mem underflow in %s%s", descr1, descr2);
 120:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT(errstr, 0);
 121:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 122:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 123:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_SANITY_REGION_BEFORE_ALIGNED > 0 */
 124:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
 125:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(p);
 126:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(desc);
 127:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(descr);
 128:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 129:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 130:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 131:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 132:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Initialize the restricted area of a mem element.
 133:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 134:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 135:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_overflow_init_raw(void *p, size_t size)
 136:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 137:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_BEFORE_ALIGNED > 0 || MEM_SANITY_REGION_AFTER_ALIGNED > 0
 138:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t *m;
 139:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_BEFORE_ALIGNED > 0
 140:Middlewares/Third_Party/LwIP/src/core/mem.c ****   m = (u8_t *)p - MEM_SANITY_REGION_BEFORE_ALIGNED;
 141:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memset(m, 0xcd, MEM_SANITY_REGION_BEFORE_ALIGNED);
 142:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 143:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_AFTER_ALIGNED > 0
 144:Middlewares/Third_Party/LwIP/src/core/mem.c ****   m = (u8_t *)p + size;
 145:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memset(m, 0xcd, MEM_SANITY_REGION_AFTER_ALIGNED);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 4


 146:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 147:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_SANITY_REGION_BEFORE_ALIGNED > 0 || MEM_SANITY_REGION_AFTER_ALIGNED > 0 */
 148:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(p);
 149:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(desc);
 150:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_SANITY_REGION_BEFORE_ALIGNED > 0 || MEM_SANITY_REGION_AFTER_ALIGNED > 0 */
 151:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 152:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_OVERFLOW_CHECK || MEMP_OVERFLOW_CHECK */
 153:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 154:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC || MEM_USE_POOLS
 155:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 156:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** mem_init is not used when using pools instead of a heap or using
 157:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * C library malloc().
 158:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 159:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 160:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_init(void)
 161:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 162:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 163:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 164:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** mem_trim is not used when using pools instead of a heap or using
 165:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * C library malloc(): we can't free part of a pool element and the stack
 166:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * support mem_trim() to return a different pointer
 167:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 168:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 169:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_trim(void *mem, mem_size_t size)
 170:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 171:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(size);
 172:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return mem;
 173:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 174:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_LIBC_MALLOC || MEM_USE_POOLS */
 175:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 176:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC
 177:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* lwIP heap implemented using C library malloc() */
 178:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 179:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* in case C library malloc() needs extra protection,
 180:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * allow these defines to be overridden.
 181:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 182:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef mem_clib_free
 183:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_clib_free free
 184:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 185:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef mem_clib_malloc
 186:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_clib_malloc malloc
 187:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 188:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef mem_clib_calloc
 189:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_clib_calloc calloc
 190:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 191:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 192:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_STATS && MEM_STATS
 193:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_LIBC_STATSHELPER_SIZE LWIP_MEM_ALIGN_SIZE(sizeof(mem_size_t))
 194:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
 195:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_LIBC_STATSHELPER_SIZE 0
 196:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 197:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 198:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 199:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Allocate a block of memory with a minimum of 'size' bytes.
 200:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 201:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size is the minimum size of the requested block in bytes.
 202:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return pointer to allocated memory or NULL if no free memory was found.
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 5


 203:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 204:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Note that the returned value must always be aligned (as defined by MEM_ALIGNMENT).
 205:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 206:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 207:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc(mem_size_t size)
 208:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 209:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *ret = mem_clib_malloc(size + MEM_LIBC_STATSHELPER_SIZE);
 210:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (ret == NULL) {
 211:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(err);
 212:Middlewares/Third_Party/LwIP/src/core/mem.c ****   } else {
 213:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("malloc() must return aligned memory", LWIP_MEM_ALIGN(ret) == ret);
 214:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_STATS && MEM_STATS
 215:Middlewares/Third_Party/LwIP/src/core/mem.c ****     *(mem_size_t *)ret = size;
 216:Middlewares/Third_Party/LwIP/src/core/mem.c ****     ret = (u8_t *)ret + MEM_LIBC_STATSHELPER_SIZE;
 217:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_USED_LOCKED(used, size);
 218:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 219:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 220:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return ret;
 221:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 222:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 223:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** Put memory back on the heap
 224:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 225:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem is the pointer as returned by a previous call to mem_malloc()
 226:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 227:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 228:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_free(void *rmem)
 229:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 230:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem != NULL", (rmem != NULL));
 231:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem == MEM_ALIGN(rmem)", (rmem == LWIP_MEM_ALIGN(rmem)));
 232:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_STATS && MEM_STATS
 233:Middlewares/Third_Party/LwIP/src/core/mem.c ****   rmem = (u8_t *)rmem - MEM_LIBC_STATSHELPER_SIZE;
 234:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_DEC_USED_LOCKED(used, *(mem_size_t *)rmem);
 235:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 236:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_clib_free(rmem);
 237:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 238:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 239:Middlewares/Third_Party/LwIP/src/core/mem.c **** #elif MEM_USE_POOLS
 240:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 241:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* lwIP heap implemented with different sized pools */
 242:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 243:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 244:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Allocate memory: determine the smallest pool that is big enough
 245:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * to contain an element of 'size' and get an element from that pool.
 246:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 247:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size the size in bytes of the memory needed
 248:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return a pointer to the allocated memory or NULL if the pool is empty
 249:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 250:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 251:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc(mem_size_t size)
 252:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 253:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *ret;
 254:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct memp_malloc_helper *element = NULL;
 255:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memp_t poolnr;
 256:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t required_size = size + LWIP_MEM_ALIGN_SIZE(sizeof(struct memp_malloc_helper));
 257:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 258:Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (poolnr = MEMP_POOL_FIRST; poolnr <= MEMP_POOL_LAST; poolnr = (memp_t)(poolnr + 1)) {
 259:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* is this pool big enough to hold an element of the required size
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 6


 260:Middlewares/Third_Party/LwIP/src/core/mem.c ****        plus a struct memp_malloc_helper that saves the pool this element came from? */
 261:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (required_size <= memp_pools[poolnr]->size) {
 262:Middlewares/Third_Party/LwIP/src/core/mem.c ****       element = (struct memp_malloc_helper *)memp_malloc(poolnr);
 263:Middlewares/Third_Party/LwIP/src/core/mem.c ****       if (element == NULL) {
 264:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* No need to DEBUGF or ASSERT: This error is already taken care of in memp.c */
 265:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_USE_POOLS_TRY_BIGGER_POOL
 266:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /** Try a bigger pool if this one is empty! */
 267:Middlewares/Third_Party/LwIP/src/core/mem.c ****         if (poolnr < MEMP_POOL_LAST) {
 268:Middlewares/Third_Party/LwIP/src/core/mem.c ****           continue;
 269:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 270:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_USE_POOLS_TRY_BIGGER_POOL */
 271:Middlewares/Third_Party/LwIP/src/core/mem.c ****         MEM_STATS_INC_LOCKED(err);
 272:Middlewares/Third_Party/LwIP/src/core/mem.c ****         return NULL;
 273:Middlewares/Third_Party/LwIP/src/core/mem.c ****       }
 274:Middlewares/Third_Party/LwIP/src/core/mem.c ****       break;
 275:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 276:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 277:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (poolnr > MEMP_POOL_LAST) {
 278:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("mem_malloc(): no pool is that big!", 0);
 279:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(err);
 280:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 281:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 282:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 283:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* save the pool number this element came from */
 284:Middlewares/Third_Party/LwIP/src/core/mem.c ****   element->poolnr = poolnr;
 285:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* and return a pointer to the memory directly after the struct memp_malloc_helper */
 286:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ret = (u8_t *)element + LWIP_MEM_ALIGN_SIZE(sizeof(struct memp_malloc_helper));
 287:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 288:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEMP_OVERFLOW_CHECK || (LWIP_STATS && MEM_STATS)
 289:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* truncating to u16_t is safe because struct memp_desc::size is u16_t */
 290:Middlewares/Third_Party/LwIP/src/core/mem.c ****   element->size = (u16_t)size;
 291:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_INC_USED_LOCKED(used, element->size);
 292:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEMP_OVERFLOW_CHECK || (LWIP_STATS && MEM_STATS) */
 293:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEMP_OVERFLOW_CHECK
 294:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize unused memory (diff between requested size and selected pool's size) */
 295:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memset((u8_t *)ret + size, 0xcd, memp_pools[poolnr]->size - size);
 296:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEMP_OVERFLOW_CHECK */
 297:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return ret;
 298:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 299:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 300:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 301:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Free memory previously allocated by mem_malloc. Loads the pool number
 302:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * and calls memp_free with that pool number to put the element back into
 303:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * its pool
 304:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 305:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem the memory element to free
 306:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 307:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 308:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_free(void *rmem)
 309:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 310:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct memp_malloc_helper *hmem;
 311:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 312:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem != NULL", (rmem != NULL));
 313:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem == MEM_ALIGN(rmem)", (rmem == LWIP_MEM_ALIGN(rmem)));
 314:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 315:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* get the original struct memp_malloc_helper */
 316:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* cast through void* to get rid of alignment warnings */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 7


 317:Middlewares/Third_Party/LwIP/src/core/mem.c ****   hmem = (struct memp_malloc_helper *)(void *)((u8_t *)rmem - LWIP_MEM_ALIGN_SIZE(sizeof(struct mem
 318:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 319:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("hmem != NULL", (hmem != NULL));
 320:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("hmem == MEM_ALIGN(hmem)", (hmem == LWIP_MEM_ALIGN(hmem)));
 321:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("hmem->poolnr < MEMP_MAX", (hmem->poolnr < MEMP_MAX));
 322:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 323:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_DEC_USED_LOCKED(used, hmem->size);
 324:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEMP_OVERFLOW_CHECK
 325:Middlewares/Third_Party/LwIP/src/core/mem.c ****   {
 326:Middlewares/Third_Party/LwIP/src/core/mem.c ****     u16_t i;
 327:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("MEM_USE_POOLS: invalid chunk size",
 328:Middlewares/Third_Party/LwIP/src/core/mem.c ****                 hmem->size <= memp_pools[hmem->poolnr]->size);
 329:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* check that unused memory remained untouched (diff between requested size and selected pool's
 330:Middlewares/Third_Party/LwIP/src/core/mem.c ****     for (i = hmem->size; i < memp_pools[hmem->poolnr]->size; i++) {
 331:Middlewares/Third_Party/LwIP/src/core/mem.c ****       u8_t data = *((u8_t *)rmem + i);
 332:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT("MEM_USE_POOLS: mem overflow detected", data == 0xcd);
 333:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 334:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 335:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEMP_OVERFLOW_CHECK */
 336:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 337:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* and put it in the pool we saved earlier */
 338:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memp_free(hmem->poolnr, hmem);
 339:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 340:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 341:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_USE_POOLS */
 342:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* lwIP replacement for your libc malloc() */
 343:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 344:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 345:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * The heap is made up as a list of structs of this type.
 346:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This does not have to be aligned since for getting its size,
 347:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * we only use the macro SIZEOF_STRUCT_MEM, which automatically aligns.
 348:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 349:Middlewares/Third_Party/LwIP/src/core/mem.c **** struct mem {
 350:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** index (-> ram[next]) of the next struct */
 351:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t next;
 352:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** index (-> ram[prev]) of the previous struct */
 353:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t prev;
 354:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** 1: this area is used; 0: this area is unused */
 355:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t used;
 356:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 357:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** this keeps track of the user allocation size for guard checks */
 358:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t user_size;
 359:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 360:Middlewares/Third_Party/LwIP/src/core/mem.c **** };
 361:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 362:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** All allocated blocks will be MIN_SIZE bytes big, at least!
 363:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MIN_SIZE can be overridden to suit your needs. Smaller values save space,
 364:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * larger values could prevent too small blocks to fragment the RAM too much. */
 365:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef MIN_SIZE
 366:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MIN_SIZE             12
 367:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MIN_SIZE */
 368:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* some alignment macros: we define them here for better source code layout */
 369:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MIN_SIZE_ALIGNED     LWIP_MEM_ALIGN_SIZE(MIN_SIZE)
 370:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define SIZEOF_STRUCT_MEM    LWIP_MEM_ALIGN_SIZE(sizeof(struct mem))
 371:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SIZE_ALIGNED     LWIP_MEM_ALIGN_SIZE(MEM_SIZE)
 372:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 373:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** If you want to relocate the heap to external memory, simply define
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 8


 374:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_RAM_HEAP_POINTER as a void-pointer to that location.
 375:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * If so, make sure the memory at that location is big enough (see below on
 376:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * how that space is calculated). */
 377:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef LWIP_RAM_HEAP_POINTER
 378:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** the heap. we need one struct mem at the end and some room for alignment */
 379:Middlewares/Third_Party/LwIP/src/core/mem.c **** LWIP_DECLARE_MEMORY_ALIGNED(ram_heap, MEM_SIZE_ALIGNED + (2U * SIZEOF_STRUCT_MEM));
 380:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_RAM_HEAP_POINTER ram_heap
 381:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_RAM_HEAP_POINTER */
 382:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 383:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** pointer to the heap (ram_heap): for alignment, ram is now a pointer instead of an array */
 384:Middlewares/Third_Party/LwIP/src/core/mem.c **** static u8_t *ram;
 385:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** the last entry, always unused! */
 386:Middlewares/Third_Party/LwIP/src/core/mem.c **** static struct mem *ram_end;
 387:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 388:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** concurrent access protection */
 389:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if !NO_SYS
 390:Middlewares/Third_Party/LwIP/src/core/mem.c **** static sys_mutex_t mem_mutex;
 391:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 392:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 393:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 394:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 395:Middlewares/Third_Party/LwIP/src/core/mem.c **** static volatile u8_t mem_free_count;
 396:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 397:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* Allow mem_free from other (e.g. interrupt) context */
 398:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_DECL_PROTECT()  SYS_ARCH_DECL_PROTECT(lev_free)
 399:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_PROTECT()       SYS_ARCH_PROTECT(lev_free)
 400:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_UNPROTECT()     SYS_ARCH_UNPROTECT(lev_free)
 401:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_DECL_PROTECT() SYS_ARCH_DECL_PROTECT(lev_alloc)
 402:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_PROTECT()      SYS_ARCH_PROTECT(lev_alloc)
 403:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_UNPROTECT()    SYS_ARCH_UNPROTECT(lev_alloc)
 404:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_LFREE_VOLATILE       volatile
 405:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 406:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 407:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 408:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* Protect the heap only by using a mutex */
 409:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_DECL_PROTECT()
 410:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_PROTECT()    sys_mutex_lock(&mem_mutex)
 411:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_UNPROTECT()  sys_mutex_unlock(&mem_mutex)
 412:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* mem_malloc is protected using mutex AND LWIP_MEM_ALLOC_PROTECT */
 413:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_DECL_PROTECT()
 414:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_PROTECT()
 415:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_UNPROTECT()
 416:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_LFREE_VOLATILE
 417:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 418:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 419:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 420:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** pointer to the lowest free block, this is used for faster search */
 421:Middlewares/Third_Party/LwIP/src/core/mem.c **** static struct mem * LWIP_MEM_LFREE_VOLATILE lfree;
 422:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 423:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_CHECK
 424:Middlewares/Third_Party/LwIP/src/core/mem.c **** static void mem_sanity(void);
 425:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY() mem_sanity()
 426:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
 427:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY()
 428:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 429:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 430:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 9


 431:Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 432:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_overflow_init_element(struct mem *mem, mem_size_t user_size)
 433:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 434:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *p = (u8_t *)mem + SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET;
 435:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->user_size = user_size;
 436:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_init_raw(p, user_size);
 437:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 438:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 439:Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 440:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_overflow_check_element(struct mem *mem)
 441:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 442:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *p = (u8_t *)mem + SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET;
 443:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_check_raw(p, mem->user_size, "heap", "");
 444:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 445:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_OVERFLOW_CHECK */
 446:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_overflow_init_element(mem, size)
 447:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_overflow_check_element(mem)
 448:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_OVERFLOW_CHECK */
 449:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 450:Middlewares/Third_Party/LwIP/src/core/mem.c **** static struct mem *
 451:Middlewares/Third_Party/LwIP/src/core/mem.c **** ptr_to_mem(mem_size_t ptr)
 452:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  28              		.loc 1 452 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 453:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return (struct mem *)(void *)&ram[ptr];
  33              		.loc 1 453 3 view .LVU1
  34              		.loc 1 453 32 is_stmt 0 view .LVU2
  35 0000 014B     		ldr	r3, .L2
  36 0002 1B68     		ldr	r3, [r3]
 454:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
  37              		.loc 1 454 1 view .LVU3
  38 0004 1844     		add	r0, r0, r3
  39              	.LVL1:
  40              		.loc 1 454 1 view .LVU4
  41 0006 7047     		bx	lr
  42              	.L3:
  43              		.align	2
  44              	.L2:
  45 0008 00000000 		.word	.LANCHOR0
  46              		.cfi_endproc
  47              	.LFE364:
  49              		.section	.text.mem_to_ptr,"ax",%progbits
  50              		.align	1
  51              		.syntax unified
  52              		.thumb
  53              		.thumb_func
  55              	mem_to_ptr:
  56              	.LVL2:
  57              	.LFB365:
 455:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 456:Middlewares/Third_Party/LwIP/src/core/mem.c **** static mem_size_t
 457:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_to_ptr(void *mem)
 458:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  58              		.loc 1 458 1 is_stmt 1 view -0
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 10


  59              		.cfi_startproc
  60              		@ args = 0, pretend = 0, frame = 0
  61              		@ frame_needed = 0, uses_anonymous_args = 0
  62              		@ link register save eliminated.
 459:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return (mem_size_t)((u8_t *)mem - ram);
  63              		.loc 1 459 3 view .LVU6
  64              		.loc 1 459 35 is_stmt 0 view .LVU7
  65 0000 024B     		ldr	r3, .L5
  66 0002 1B68     		ldr	r3, [r3]
  67 0004 C01A     		subs	r0, r0, r3
  68              	.LVL3:
 460:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
  69              		.loc 1 460 1 view .LVU8
  70 0006 80B2     		uxth	r0, r0
  71 0008 7047     		bx	lr
  72              	.L6:
  73 000a 00BF     		.align	2
  74              	.L5:
  75 000c 00000000 		.word	.LANCHOR0
  76              		.cfi_endproc
  77              	.LFE365:
  79              		.section	.text.mem_link_valid,"ax",%progbits
  80              		.align	1
  81              		.syntax unified
  82              		.thumb
  83              		.thumb_func
  85              	mem_link_valid:
  86              	.LVL4:
  87              	.LFB368:
 461:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 462:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 463:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * "Plug holes" by combining adjacent empty struct mems.
 464:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * After this function is through, there should not exist
 465:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * one empty struct mem pointing to another empty struct mem.
 466:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 467:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param mem this points to a struct mem which just has been freed
 468:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @internal this function is only called by mem_free() and mem_trim()
 469:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 470:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This assumes access to the heap is protected by the calling function
 471:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * already.
 472:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 473:Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 474:Middlewares/Third_Party/LwIP/src/core/mem.c **** plug_holes(struct mem *mem)
 475:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 476:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem;
 477:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *pmem;
 478:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem >= ram", (u8_t *)mem >= ram);
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 481:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 482:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 483:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* plug hole forward */
 484:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->next <= MEM_SIZE_ALIGNED", mem->next <= MEM_SIZE_ALIGNED);
 485:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 486:Middlewares/Third_Party/LwIP/src/core/mem.c ****   nmem = ptr_to_mem(mem->next);
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem != nmem && nmem->used == 0 && (u8_t *)nmem != (u8_t *)ram_end) {
 488:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 11


 489:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == nmem) {
 490:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 491:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 492:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = nmem->next;
 493:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (nmem->next != MEM_SIZE_ALIGNED) {
 494:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(nmem->next)->prev = mem_to_ptr(mem);
 495:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 496:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 497:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 498:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* plug hole backward */
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****   pmem = ptr_to_mem(mem->prev);
 500:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (pmem != mem && pmem->used == 0) {
 501:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == mem) {
 503:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 504:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 505:Middlewares/Third_Party/LwIP/src/core/mem.c ****     pmem->next = mem->next;
 506:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem->next != MEM_SIZE_ALIGNED) {
 507:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem->next)->prev = mem_to_ptr(pmem);
 508:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 509:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 510:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 511:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 512:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 513:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Zero the heap and initialize start, end and lowest-free
 514:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 515:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 516:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_init(void)
 517:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 518:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 519:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 520:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("Sanity check alignment",
 521:Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 522:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 523:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* align the heap */
 524:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram = (u8_t *)LWIP_MEM_ALIGN(LWIP_RAM_HEAP_POINTER);
 525:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the start of the heap */
 526:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)(void *)ram;
 527:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->next = MEM_SIZE_ALIGNED;
 528:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->prev = 0;
 529:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 530:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the end of the heap */
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end = ptr_to_mem(MEM_SIZE_ALIGNED);
 532:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 533:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->next = MEM_SIZE_ALIGNED;
 534:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->prev = MEM_SIZE_ALIGNED;
 535:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 536:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 537:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the lowest-free pointer to the start of the heap */
 538:Middlewares/Third_Party/LwIP/src/core/mem.c ****   lfree = (struct mem *)(void *)ram;
 539:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 540:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_AVAIL(avail, MEM_SIZE_ALIGNED);
 541:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 542:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (sys_mutex_new(&mem_mutex) != ERR_OK) {
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("failed to create mem_mutex", 0);
 544:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 545:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 12


 546:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 547:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* Check if a struct mem is correctly linked.
 548:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * If not, double-free is a possible reason.
 549:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 550:Middlewares/Third_Party/LwIP/src/core/mem.c **** static int
 551:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_link_valid(struct mem *mem)
 552:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  88              		.loc 1 552 1 is_stmt 1 view -0
  89              		.cfi_startproc
  90              		@ args = 0, pretend = 0, frame = 0
  91              		@ frame_needed = 0, uses_anonymous_args = 0
  92              		.loc 1 552 1 is_stmt 0 view .LVU10
  93 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  94              	.LCFI0:
  95              		.cfi_def_cfa_offset 24
  96              		.cfi_offset 3, -24
  97              		.cfi_offset 4, -20
  98              		.cfi_offset 5, -16
  99              		.cfi_offset 6, -12
 100              		.cfi_offset 7, -8
 101              		.cfi_offset 14, -4
 102 0002 0446     		mov	r4, r0
 553:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem, *pmem;
 103              		.loc 1 553 3 is_stmt 1 view .LVU11
 554:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t rmem_idx;
 104              		.loc 1 554 3 view .LVU12
 555:Middlewares/Third_Party/LwIP/src/core/mem.c ****   rmem_idx = mem_to_ptr(mem);
 105              		.loc 1 555 3 view .LVU13
 106              		.loc 1 555 14 is_stmt 0 view .LVU14
 107 0004 FFF7FEFF 		bl	mem_to_ptr
 108              	.LVL5:
 109              		.loc 1 555 14 view .LVU15
 110 0008 0746     		mov	r7, r0
 111              	.LVL6:
 556:Middlewares/Third_Party/LwIP/src/core/mem.c ****   nmem = ptr_to_mem(mem->next);
 112              		.loc 1 556 3 is_stmt 1 view .LVU16
 113              		.loc 1 556 10 is_stmt 0 view .LVU17
 114 000a 2588     		ldrh	r5, [r4]
 115 000c 2846     		mov	r0, r5
 116 000e FFF7FEFF 		bl	ptr_to_mem
 117              	.LVL7:
 118 0012 0646     		mov	r6, r0
 119              	.LVL8:
 557:Middlewares/Third_Party/LwIP/src/core/mem.c ****   pmem = ptr_to_mem(mem->prev);
 120              		.loc 1 557 3 is_stmt 1 view .LVU18
 121              		.loc 1 557 10 is_stmt 0 view .LVU19
 122 0014 6488     		ldrh	r4, [r4, #2]
 123              	.LVL9:
 124              		.loc 1 557 10 view .LVU20
 125 0016 2046     		mov	r0, r4
 126              	.LVL10:
 127              		.loc 1 557 10 view .LVU21
 128 0018 FFF7FEFF 		bl	ptr_to_mem
 129              	.LVL11:
 558:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((mem->next > MEM_SIZE_ALIGNED) || (mem->prev > MEM_SIZE_ALIGNED) ||
 130              		.loc 1 558 3 is_stmt 1 view .LVU22
 131              		.loc 1 558 6 is_stmt 0 view .LVU23
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 13


 132 001c B5F5605F 		cmp	r5, #14336
 133 0020 10D8     		bhi	.L10
 134              		.loc 1 558 38 discriminator 1 view .LVU24
 135 0022 B4F5605F 		cmp	r4, #14336
 136 0026 0FD8     		bhi	.L11
 137              		.loc 1 558 72 discriminator 2 view .LVU25
 138 0028 BC42     		cmp	r4, r7
 139 002a 02D0     		beq	.L9
 559:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((mem->prev != rmem_idx) && (pmem->next != rmem_idx)) ||
 140              		.loc 1 559 40 view .LVU26
 141 002c 0388     		ldrh	r3, [r0]
 142              		.loc 1 559 32 view .LVU27
 143 002e BB42     		cmp	r3, r7
 144 0030 0CD1     		bne	.L12
 145              	.L9:
 560:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((nmem != ram_end) && (nmem->prev != rmem_idx))) {
 146              		.loc 1 560 14 discriminator 1 view .LVU28
 147 0032 094B     		ldr	r3, .L16
 148 0034 1B68     		ldr	r3, [r3]
 559:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((mem->prev != rmem_idx) && (pmem->next != rmem_idx)) ||
 149              		.loc 1 559 61 discriminator 1 view .LVU29
 150 0036 B342     		cmp	r3, r6
 151 0038 0AD0     		beq	.L13
 152              		.loc 1 560 34 view .LVU30
 153 003a 7388     		ldrh	r3, [r6, #2]
 154              		.loc 1 560 26 view .LVU31
 155 003c BB42     		cmp	r3, r7
 156 003e 09D1     		bne	.L14
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 562:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 563:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return 1;
 157              		.loc 1 563 10 view .LVU32
 158 0040 0120     		movs	r0, #1
 159              	.LVL12:
 160              		.loc 1 563 10 view .LVU33
 161 0042 00E0     		b	.L7
 162              	.LVL13:
 163              	.L10:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 164              		.loc 1 561 12 view .LVU34
 165 0044 0020     		movs	r0, #0
 166              	.LVL14:
 167              	.L7:
 564:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 168              		.loc 1 564 1 view .LVU35
 169 0046 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 170              	.LVL15:
 171              	.L11:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 172              		.loc 1 561 12 view .LVU36
 173 0048 0020     		movs	r0, #0
 174              	.LVL16:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 175              		.loc 1 561 12 view .LVU37
 176 004a FCE7     		b	.L7
 177              	.LVL17:
 178              	.L12:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 14


 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 179              		.loc 1 561 12 view .LVU38
 180 004c 0020     		movs	r0, #0
 181              	.LVL18:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 182              		.loc 1 561 12 view .LVU39
 183 004e FAE7     		b	.L7
 184              	.LVL19:
 185              	.L13:
 563:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 186              		.loc 1 563 10 view .LVU40
 187 0050 0120     		movs	r0, #1
 188              	.LVL20:
 563:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 189              		.loc 1 563 10 view .LVU41
 190 0052 F8E7     		b	.L7
 191              	.LVL21:
 192              	.L14:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 193              		.loc 1 561 12 view .LVU42
 194 0054 0020     		movs	r0, #0
 195              	.LVL22:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 196              		.loc 1 561 12 view .LVU43
 197 0056 F6E7     		b	.L7
 198              	.L17:
 199              		.align	2
 200              	.L16:
 201 0058 00000000 		.word	.LANCHOR1
 202              		.cfi_endproc
 203              	.LFE368:
 205              		.section	.rodata.plug_holes.str1.4,"aMS",%progbits,1
 206              		.align	2
 207              	.LC0:
 208 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/mem.c\000"
 208      6C657761 
 208      7265732F 
 208      54686972 
 208      645F5061 
 209              		.align	2
 210              	.LC1:
 211 002c 706C7567 		.ascii	"plug_holes: mem >= ram\000"
 211      5F686F6C 
 211      65733A20 
 211      6D656D20 
 211      3E3D2072 
 212 0043 00       		.align	2
 213              	.LC2:
 214 0044 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 214      7274696F 
 214      6E202225 
 214      73222066 
 214      61696C65 
 215              		.align	2
 216              	.LC3:
 217 006c 706C7567 		.ascii	"plug_holes: mem < ram_end\000"
 217      5F686F6C 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 15


 217      65733A20 
 217      6D656D20 
 217      3C207261 
 218 0086 0000     		.align	2
 219              	.LC4:
 220 0088 706C7567 		.ascii	"plug_holes: mem->used == 0\000"
 220      5F686F6C 
 220      65733A20 
 220      6D656D2D 
 220      3E757365 
 221 00a3 00       		.align	2
 222              	.LC5:
 223 00a4 706C7567 		.ascii	"plug_holes: mem->next <= MEM_SIZE_ALIGNED\000"
 223      5F686F6C 
 223      65733A20 
 223      6D656D2D 
 223      3E6E6578 
 224              		.section	.text.plug_holes,"ax",%progbits
 225              		.align	1
 226              		.syntax unified
 227              		.thumb
 228              		.thumb_func
 230              	plug_holes:
 231              	.LVL23:
 232              	.LFB366:
 475:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem;
 233              		.loc 1 475 1 is_stmt 1 view -0
 234              		.cfi_startproc
 235              		@ args = 0, pretend = 0, frame = 0
 236              		@ frame_needed = 0, uses_anonymous_args = 0
 475:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem;
 237              		.loc 1 475 1 is_stmt 0 view .LVU45
 238 0000 38B5     		push	{r3, r4, r5, lr}
 239              	.LCFI1:
 240              		.cfi_def_cfa_offset 16
 241              		.cfi_offset 3, -16
 242              		.cfi_offset 4, -12
 243              		.cfi_offset 5, -8
 244              		.cfi_offset 14, -4
 245 0002 0446     		mov	r4, r0
 476:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *pmem;
 246              		.loc 1 476 3 is_stmt 1 view .LVU46
 477:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 247              		.loc 1 477 3 view .LVU47
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 248              		.loc 1 479 3 view .LVU48
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 249              		.loc 1 479 3 view .LVU49
 250 0004 354B     		ldr	r3, .L34
 251 0006 1B68     		ldr	r3, [r3]
 252 0008 8342     		cmp	r3, r0
 253 000a 40D8     		bhi	.L28
 254              	.LVL24:
 255              	.L19:
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 256              		.loc 1 479 3 discriminator 3 view .LVU50
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 16


 257              		.loc 1 479 3 discriminator 3 view .LVU51
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 258              		.loc 1 480 3 discriminator 3 view .LVU52
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 259              		.loc 1 480 3 discriminator 3 view .LVU53
 260 000c 344B     		ldr	r3, .L34+4
 261 000e 1B68     		ldr	r3, [r3]
 262 0010 A342     		cmp	r3, r4
 263 0012 44D9     		bls	.L29
 264              	.L20:
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 265              		.loc 1 480 3 discriminator 3 view .LVU54
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 266              		.loc 1 480 3 discriminator 3 view .LVU55
 481:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 267              		.loc 1 481 3 discriminator 3 view .LVU56
 481:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 268              		.loc 1 481 3 discriminator 3 view .LVU57
 269 0014 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 270 0016 002B     		cmp	r3, #0
 271 0018 49D1     		bne	.L30
 272              	.L21:
 481:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 273              		.loc 1 481 3 discriminator 3 view .LVU58
 481:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 274              		.loc 1 481 3 discriminator 3 view .LVU59
 484:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 275              		.loc 1 484 3 discriminator 3 view .LVU60
 484:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 276              		.loc 1 484 3 discriminator 3 view .LVU61
 277 001a 2388     		ldrh	r3, [r4]
 278 001c B3F5605F 		cmp	r3, #14336
 279 0020 4DD8     		bhi	.L31
 280              	.L22:
 484:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 281              		.loc 1 484 3 discriminator 3 view .LVU62
 484:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 282              		.loc 1 484 3 discriminator 3 view .LVU63
 486:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem != nmem && nmem->used == 0 && (u8_t *)nmem != (u8_t *)ram_end) {
 283              		.loc 1 486 3 discriminator 3 view .LVU64
 486:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem != nmem && nmem->used == 0 && (u8_t *)nmem != (u8_t *)ram_end) {
 284              		.loc 1 486 10 is_stmt 0 discriminator 3 view .LVU65
 285 0022 2088     		ldrh	r0, [r4]
 286 0024 FFF7FEFF 		bl	ptr_to_mem
 287              	.LVL25:
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 288              		.loc 1 487 3 is_stmt 1 discriminator 3 view .LVU66
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 289              		.loc 1 487 6 is_stmt 0 discriminator 3 view .LVU67
 290 0028 8442     		cmp	r4, r0
 291 002a 16D0     		beq	.L23
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 292              		.loc 1 487 26 discriminator 1 view .LVU68
 293 002c 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 294              		.loc 1 487 19 discriminator 1 view .LVU69
 295 002e A3B9     		cbnz	r3, .L23
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 17


 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 296              		.loc 1 487 57 discriminator 2 view .LVU70
 297 0030 2B4B     		ldr	r3, .L34+4
 298 0032 1B68     		ldr	r3, [r3]
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 299              		.loc 1 487 38 discriminator 2 view .LVU71
 300 0034 8342     		cmp	r3, r0
 301 0036 10D0     		beq	.L23
 489:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 302              		.loc 1 489 5 is_stmt 1 view .LVU72
 489:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 303              		.loc 1 489 15 is_stmt 0 view .LVU73
 304 0038 2A4B     		ldr	r3, .L34+8
 305 003a 1B68     		ldr	r3, [r3]
 489:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 306              		.loc 1 489 8 view .LVU74
 307 003c 8342     		cmp	r3, r0
 308 003e 46D0     		beq	.L32
 309              	.L24:
 492:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (nmem->next != MEM_SIZE_ALIGNED) {
 310              		.loc 1 492 5 is_stmt 1 view .LVU75
 492:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (nmem->next != MEM_SIZE_ALIGNED) {
 311              		.loc 1 492 21 is_stmt 0 view .LVU76
 312 0040 0388     		ldrh	r3, [r0]
 492:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (nmem->next != MEM_SIZE_ALIGNED) {
 313              		.loc 1 492 15 view .LVU77
 314 0042 2380     		strh	r3, [r4]	@ movhi
 493:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(nmem->next)->prev = mem_to_ptr(mem);
 315              		.loc 1 493 5 is_stmt 1 view .LVU78
 493:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(nmem->next)->prev = mem_to_ptr(mem);
 316              		.loc 1 493 13 is_stmt 0 view .LVU79
 317 0044 0088     		ldrh	r0, [r0]
 318              	.LVL26:
 493:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(nmem->next)->prev = mem_to_ptr(mem);
 319              		.loc 1 493 8 view .LVU80
 320 0046 B0F5605F 		cmp	r0, #14336
 321 004a 06D0     		beq	.L23
 494:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 322              		.loc 1 494 7 is_stmt 1 view .LVU81
 323 004c FFF7FEFF 		bl	ptr_to_mem
 324              	.LVL27:
 325 0050 0546     		mov	r5, r0
 494:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 326              		.loc 1 494 38 is_stmt 0 view .LVU82
 327 0052 2046     		mov	r0, r4
 328 0054 FFF7FEFF 		bl	mem_to_ptr
 329              	.LVL28:
 494:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 330              		.loc 1 494 36 view .LVU83
 331 0058 6880     		strh	r0, [r5, #2]	@ movhi
 332              	.L23:
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (pmem != mem && pmem->used == 0) {
 333              		.loc 1 499 3 is_stmt 1 view .LVU84
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (pmem != mem && pmem->used == 0) {
 334              		.loc 1 499 10 is_stmt 0 view .LVU85
 335 005a 6088     		ldrh	r0, [r4, #2]
 336 005c FFF7FEFF 		bl	ptr_to_mem
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 18


 337              	.LVL29:
 338 0060 0546     		mov	r5, r0
 339              	.LVL30:
 500:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 340              		.loc 1 500 3 is_stmt 1 view .LVU86
 500:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 341              		.loc 1 500 6 is_stmt 0 view .LVU87
 342 0062 8442     		cmp	r4, r0
 343 0064 12D0     		beq	.L18
 500:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 344              		.loc 1 500 26 discriminator 1 view .LVU88
 345 0066 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 500:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 346              		.loc 1 500 19 discriminator 1 view .LVU89
 347 0068 83B9     		cbnz	r3, .L18
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 348              		.loc 1 502 5 is_stmt 1 view .LVU90
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 349              		.loc 1 502 15 is_stmt 0 view .LVU91
 350 006a 1E4B     		ldr	r3, .L34+8
 351 006c 1B68     		ldr	r3, [r3]
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 352              		.loc 1 502 8 view .LVU92
 353 006e A342     		cmp	r3, r4
 354 0070 30D0     		beq	.L33
 355              	.L26:
 505:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem->next != MEM_SIZE_ALIGNED) {
 356              		.loc 1 505 5 is_stmt 1 view .LVU93
 505:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem->next != MEM_SIZE_ALIGNED) {
 357              		.loc 1 505 21 is_stmt 0 view .LVU94
 358 0072 2388     		ldrh	r3, [r4]
 505:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem->next != MEM_SIZE_ALIGNED) {
 359              		.loc 1 505 16 view .LVU95
 360 0074 2B80     		strh	r3, [r5]	@ movhi
 506:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem->next)->prev = mem_to_ptr(pmem);
 361              		.loc 1 506 5 is_stmt 1 view .LVU96
 506:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem->next)->prev = mem_to_ptr(pmem);
 362              		.loc 1 506 12 is_stmt 0 view .LVU97
 363 0076 2088     		ldrh	r0, [r4]
 364              	.LVL31:
 506:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem->next)->prev = mem_to_ptr(pmem);
 365              		.loc 1 506 8 view .LVU98
 366 0078 B0F5605F 		cmp	r0, #14336
 367 007c 06D0     		beq	.L18
 507:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 368              		.loc 1 507 7 is_stmt 1 view .LVU99
 369 007e FFF7FEFF 		bl	ptr_to_mem
 370              	.LVL32:
 371 0082 0446     		mov	r4, r0
 372              	.LVL33:
 507:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 373              		.loc 1 507 37 is_stmt 0 view .LVU100
 374 0084 2846     		mov	r0, r5
 375 0086 FFF7FEFF 		bl	mem_to_ptr
 376              	.LVL34:
 507:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 377              		.loc 1 507 35 view .LVU101
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 19


 378 008a 6080     		strh	r0, [r4, #2]	@ movhi
 379              	.L18:
 510:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 380              		.loc 1 510 1 view .LVU102
 381 008c 38BD     		pop	{r3, r4, r5, pc}
 382              	.LVL35:
 383              	.L28:
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 384              		.loc 1 479 3 is_stmt 1 discriminator 1 view .LVU103
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 385              		.loc 1 479 3 discriminator 1 view .LVU104
 386 008e 164B     		ldr	r3, .L34+12
 387 0090 40F2DF12 		movw	r2, #479
 388 0094 1549     		ldr	r1, .L34+16
 389 0096 1648     		ldr	r0, .L34+20
 390              	.LVL36:
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 391              		.loc 1 479 3 is_stmt 0 discriminator 1 view .LVU105
 392 0098 FFF7FEFF 		bl	printf
 393              	.LVL37:
 394 009c B6E7     		b	.L19
 395              	.L29:
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 396              		.loc 1 480 3 is_stmt 1 discriminator 1 view .LVU106
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 397              		.loc 1 480 3 discriminator 1 view .LVU107
 398 009e 124B     		ldr	r3, .L34+12
 399 00a0 4FF4F072 		mov	r2, #480
 400 00a4 1349     		ldr	r1, .L34+24
 401 00a6 1248     		ldr	r0, .L34+20
 402 00a8 FFF7FEFF 		bl	printf
 403              	.LVL38:
 404 00ac B2E7     		b	.L20
 405              	.L30:
 481:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 406              		.loc 1 481 3 discriminator 1 view .LVU108
 481:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 407              		.loc 1 481 3 discriminator 1 view .LVU109
 408 00ae 0E4B     		ldr	r3, .L34+12
 409 00b0 40F2E112 		movw	r2, #481
 410 00b4 1049     		ldr	r1, .L34+28
 411 00b6 0E48     		ldr	r0, .L34+20
 412 00b8 FFF7FEFF 		bl	printf
 413              	.LVL39:
 414 00bc ADE7     		b	.L21
 415              	.L31:
 484:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 416              		.loc 1 484 3 discriminator 1 view .LVU110
 484:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 417              		.loc 1 484 3 discriminator 1 view .LVU111
 418 00be 0A4B     		ldr	r3, .L34+12
 419 00c0 4FF4F272 		mov	r2, #484
 420 00c4 0D49     		ldr	r1, .L34+32
 421 00c6 0A48     		ldr	r0, .L34+20
 422 00c8 FFF7FEFF 		bl	printf
 423              	.LVL40:
 424 00cc A9E7     		b	.L22
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 20


 425              	.LVL41:
 426              	.L32:
 490:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 427              		.loc 1 490 7 view .LVU112
 490:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 428              		.loc 1 490 13 is_stmt 0 view .LVU113
 429 00ce 054B     		ldr	r3, .L34+8
 430 00d0 1C60     		str	r4, [r3]
 431 00d2 B5E7     		b	.L24
 432              	.LVL42:
 433              	.L33:
 503:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 434              		.loc 1 503 7 is_stmt 1 view .LVU114
 503:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 435              		.loc 1 503 13 is_stmt 0 view .LVU115
 436 00d4 034B     		ldr	r3, .L34+8
 437 00d6 1860     		str	r0, [r3]
 438 00d8 CBE7     		b	.L26
 439              	.L35:
 440 00da 00BF     		.align	2
 441              	.L34:
 442 00dc 00000000 		.word	.LANCHOR0
 443 00e0 00000000 		.word	.LANCHOR1
 444 00e4 00000000 		.word	.LANCHOR2
 445 00e8 00000000 		.word	.LC0
 446 00ec 2C000000 		.word	.LC1
 447 00f0 44000000 		.word	.LC2
 448 00f4 6C000000 		.word	.LC3
 449 00f8 88000000 		.word	.LC4
 450 00fc A4000000 		.word	.LC5
 451              		.cfi_endproc
 452              	.LFE366:
 454              		.section	.rodata.mem_init.str1.4,"aMS",%progbits,1
 455              		.align	2
 456              	.LC6:
 457 0000 6661696C 		.ascii	"failed to create mem_mutex\000"
 457      65642074 
 457      6F206372 
 457      65617465 
 457      206D656D 
 458              		.section	.text.mem_init,"ax",%progbits
 459              		.align	1
 460              		.global	mem_init
 461              		.syntax unified
 462              		.thumb
 463              		.thumb_func
 465              	mem_init:
 466              	.LFB367:
 517:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 467              		.loc 1 517 1 is_stmt 1 view -0
 468              		.cfi_startproc
 469              		@ args = 0, pretend = 0, frame = 0
 470              		@ frame_needed = 0, uses_anonymous_args = 0
 471 0000 38B5     		push	{r3, r4, r5, lr}
 472              	.LCFI2:
 473              		.cfi_def_cfa_offset 16
 474              		.cfi_offset 3, -16
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 21


 475              		.cfi_offset 4, -12
 476              		.cfi_offset 5, -8
 477              		.cfi_offset 14, -4
 518:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 478              		.loc 1 518 3 view .LVU117
 520:Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 479              		.loc 1 520 3 view .LVU118
 520:Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 480              		.loc 1 520 3 view .LVU119
 520:Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 481              		.loc 1 520 3 view .LVU120
 520:Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 482              		.loc 1 520 3 view .LVU121
 524:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the start of the heap */
 483              		.loc 1 524 3 view .LVU122
 524:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the start of the heap */
 484              		.loc 1 524 7 is_stmt 0 view .LVU123
 485 0002 114D     		ldr	r5, .L40
 486 0004 114B     		ldr	r3, .L40+4
 487 0006 2B60     		str	r3, [r5]
 526:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->next = MEM_SIZE_ALIGNED;
 488              		.loc 1 526 3 is_stmt 1 view .LVU124
 489              	.LVL43:
 527:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->prev = 0;
 490              		.loc 1 527 3 view .LVU125
 527:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->prev = 0;
 491              		.loc 1 527 13 is_stmt 0 view .LVU126
 492 0008 4FF46054 		mov	r4, #14336
 493 000c 1C80     		strh	r4, [r3]	@ movhi
 528:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 494              		.loc 1 528 3 is_stmt 1 view .LVU127
 528:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 495              		.loc 1 528 13 is_stmt 0 view .LVU128
 496 000e 0022     		movs	r2, #0
 497 0010 5A80     		strh	r2, [r3, #2]	@ movhi
 529:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the end of the heap */
 498              		.loc 1 529 3 is_stmt 1 view .LVU129
 529:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the end of the heap */
 499              		.loc 1 529 13 is_stmt 0 view .LVU130
 500 0012 1A71     		strb	r2, [r3, #4]
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 501              		.loc 1 531 3 is_stmt 1 view .LVU131
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 502              		.loc 1 531 13 is_stmt 0 view .LVU132
 503 0014 2046     		mov	r0, r4
 504 0016 FFF7FEFF 		bl	ptr_to_mem
 505              	.LVL44:
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 506              		.loc 1 531 11 view .LVU133
 507 001a 0D4B     		ldr	r3, .L40+8
 508 001c 1860     		str	r0, [r3]
 532:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->next = MEM_SIZE_ALIGNED;
 509              		.loc 1 532 3 is_stmt 1 view .LVU134
 532:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->next = MEM_SIZE_ALIGNED;
 510              		.loc 1 532 17 is_stmt 0 view .LVU135
 511 001e 0123     		movs	r3, #1
 512 0020 0371     		strb	r3, [r0, #4]
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 22


 533:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->prev = MEM_SIZE_ALIGNED;
 513              		.loc 1 533 3 is_stmt 1 view .LVU136
 533:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->prev = MEM_SIZE_ALIGNED;
 514              		.loc 1 533 17 is_stmt 0 view .LVU137
 515 0022 0480     		strh	r4, [r0]	@ movhi
 534:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 516              		.loc 1 534 3 is_stmt 1 view .LVU138
 534:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 517              		.loc 1 534 17 is_stmt 0 view .LVU139
 518 0024 4480     		strh	r4, [r0, #2]	@ movhi
 535:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 519              		.loc 1 535 15 is_stmt 1 view .LVU140
 538:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 520              		.loc 1 538 3 view .LVU141
 538:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 521              		.loc 1 538 9 is_stmt 0 view .LVU142
 522 0026 2A68     		ldr	r2, [r5]
 523 0028 0A4B     		ldr	r3, .L40+12
 524 002a 1A60     		str	r2, [r3]
 540:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 525              		.loc 1 540 43 is_stmt 1 view .LVU143
 542:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("failed to create mem_mutex", 0);
 526              		.loc 1 542 3 view .LVU144
 542:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("failed to create mem_mutex", 0);
 527              		.loc 1 542 7 is_stmt 0 view .LVU145
 528 002c 0A48     		ldr	r0, .L40+16
 529 002e FFF7FEFF 		bl	sys_mutex_new
 530              	.LVL45:
 542:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("failed to create mem_mutex", 0);
 531              		.loc 1 542 6 view .LVU146
 532 0032 00B9     		cbnz	r0, .L39
 533              	.L36:
 545:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 534              		.loc 1 545 1 view .LVU147
 535 0034 38BD     		pop	{r3, r4, r5, pc}
 536              	.L39:
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 537              		.loc 1 543 5 is_stmt 1 discriminator 1 view .LVU148
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 538              		.loc 1 543 5 discriminator 1 view .LVU149
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 539              		.loc 1 543 5 discriminator 1 view .LVU150
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 540              		.loc 1 543 5 discriminator 1 view .LVU151
 541 0036 094B     		ldr	r3, .L40+20
 542 0038 40F21F22 		movw	r2, #543
 543 003c 0849     		ldr	r1, .L40+24
 544 003e 0948     		ldr	r0, .L40+28
 545 0040 FFF7FEFF 		bl	printf
 546              	.LVL46:
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 547              		.loc 1 543 5 discriminator 1 view .LVU152
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 548              		.loc 1 543 5 discriminator 1 view .LVU153
 545:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 549              		.loc 1 545 1 is_stmt 0 discriminator 1 view .LVU154
 550 0044 F6E7     		b	.L36
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 23


 551              	.L41:
 552 0046 00BF     		.align	2
 553              	.L40:
 554 0048 00000000 		.word	.LANCHOR0
 555 004c 00400430 		.word	805584896
 556 0050 00000000 		.word	.LANCHOR1
 557 0054 00000000 		.word	.LANCHOR2
 558 0058 00000000 		.word	.LANCHOR3
 559 005c 00000000 		.word	.LC0
 560 0060 00000000 		.word	.LC6
 561 0064 44000000 		.word	.LC2
 562              		.cfi_endproc
 563              	.LFE367:
 565              		.section	.rodata.mem_free.str1.4,"aMS",%progbits,1
 566              		.align	2
 567              	.LC7:
 568 0000 6D656D5F 		.ascii	"mem_free: sanity check alignment\000"
 568      66726565 
 568      3A207361 
 568      6E697479 
 568      20636865 
 569 0021 000000   		.align	2
 570              	.LC8:
 571 0024 6D656D5F 		.ascii	"mem_free: illegal memory\000"
 571      66726565 
 571      3A20696C 
 571      6C656761 
 571      6C206D65 
 572 003d 000000   		.align	2
 573              	.LC9:
 574 0040 6D656D5F 		.ascii	"mem_free: illegal memory: double free\000"
 574      66726565 
 574      3A20696C 
 574      6C656761 
 574      6C206D65 
 575 0066 0000     		.align	2
 576              	.LC10:
 577 0068 6D656D5F 		.ascii	"mem_free: illegal memory: non-linked: double free\000"
 577      66726565 
 577      3A20696C 
 577      6C656761 
 577      6C206D65 
 578              		.section	.text.mem_free,"ax",%progbits
 579              		.align	1
 580              		.global	mem_free
 581              		.syntax unified
 582              		.thumb
 583              		.thumb_func
 585              	mem_free:
 586              	.LVL47:
 587              	.LFB369:
 565:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 566:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_CHECK
 567:Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 568:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_sanity(void)
 569:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 570:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 24


 571:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t last_used;
 572:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 573:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* begin with first element here */
 574:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)ram;
 575:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element used valid", (mem->used == 0) || (mem->used == 1));
 576:Middlewares/Third_Party/LwIP/src/core/mem.c ****   last_used = mem->used;
 577:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element prev ptr valid", mem->prev == 0);
 578:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element next ptr valid", mem->next <= MEM_SIZE_ALIGNED);
 579:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element next ptr aligned", LWIP_MEM_ALIGN(ptr_to_mem(mem->next) == ptr_to_mem(m
 580:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 581:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* check all elements before the end of the heap */
 582:Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (mem = ptr_to_mem(mem->next);
 583:Middlewares/Third_Party/LwIP/src/core/mem.c ****        ((u8_t *)mem > ram) && (mem < ram_end);
 584:Middlewares/Third_Party/LwIP/src/core/mem.c ****        mem = ptr_to_mem(mem->next)) {
 585:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element aligned", LWIP_MEM_ALIGN(mem) == mem);
 586:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element prev ptr valid", mem->prev <= MEM_SIZE_ALIGNED);
 587:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element next ptr valid", mem->next <= MEM_SIZE_ALIGNED);
 588:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element prev ptr aligned", LWIP_MEM_ALIGN(ptr_to_mem(mem->prev) == ptr_to_mem
 589:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element next ptr aligned", LWIP_MEM_ALIGN(ptr_to_mem(mem->next) == ptr_to_mem
 590:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 591:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (last_used == 0) {
 592:Middlewares/Third_Party/LwIP/src/core/mem.c ****       /* 2 unused elements in a row? */
 593:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT("heap element unused?", mem->used == 1);
 594:Middlewares/Third_Party/LwIP/src/core/mem.c ****     } else {
 595:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT("heap element unused member", (mem->used == 0) || (mem->used == 1));
 596:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 597:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 598:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element link valid", mem_link_valid(mem));
 599:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 600:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* used/unused altering */
 601:Middlewares/Third_Party/LwIP/src/core/mem.c ****     last_used = mem->used;
 602:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 603:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap end ptr sanity", mem == ptr_to_mem(MEM_SIZE_ALIGNED));
 604:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element used valid", mem->used == 1);
 605:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element prev ptr valid", mem->prev == MEM_SIZE_ALIGNED);
 606:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element next ptr valid", mem->next == MEM_SIZE_ALIGNED);
 607:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 608:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_SANITY_CHECK */
 609:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 610:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 611:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Put a struct mem back on the heap
 612:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 613:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem is the data portion of a struct mem as returned by a previous
 614:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *             call to mem_malloc()
 615:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 616:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 617:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_free(void *rmem)
 618:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 588              		.loc 1 618 1 is_stmt 1 view -0
 589              		.cfi_startproc
 590              		@ args = 0, pretend = 0, frame = 0
 591              		@ frame_needed = 0, uses_anonymous_args = 0
 619:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 592              		.loc 1 619 3 view .LVU156
 620:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_DECL_PROTECT();
 593              		.loc 1 620 31 view .LVU157
 621:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 25


 622:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (rmem == NULL) {
 594              		.loc 1 622 3 view .LVU158
 595              		.loc 1 622 6 is_stmt 0 view .LVU159
 596 0000 0028     		cmp	r0, #0
 597 0002 60D0     		beq	.L51
 618:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 598              		.loc 1 618 1 view .LVU160
 599 0004 38B5     		push	{r3, r4, r5, lr}
 600              	.LCFI3:
 601              		.cfi_def_cfa_offset 16
 602              		.cfi_offset 3, -16
 603              		.cfi_offset 4, -12
 604              		.cfi_offset 5, -8
 605              		.cfi_offset 14, -4
 606 0006 0446     		mov	r4, r0
 623:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_SERIOUS, ("mem_free(p == NULL) was call
 624:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 625:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 626:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((((mem_ptr_t)rmem) & (MEM_ALIGNMENT - 1)) != 0) {
 607              		.loc 1 626 3 is_stmt 1 view .LVU161
 608              		.loc 1 626 6 is_stmt 0 view .LVU162
 609 0008 10F0030F 		tst	r0, #3
 610 000c 17D1     		bne	.L54
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: sanity check alignment");
 628:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 629:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 631:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 632:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 633:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 634:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Get the corresponding struct mem: */
 635:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* cast through void* to get rid of alignment warnings */
 636:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)(void *)((u8_t *)rmem - (SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET));
 611              		.loc 1 636 3 is_stmt 1 view .LVU163
 612              		.loc 1 636 7 is_stmt 0 view .LVU164
 613 000e A0F10805 		sub	r5, r0, #8
 614              	.LVL48:
 637:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 638:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((u8_t *)mem < ram || (u8_t *)rmem + MIN_SIZE_ALIGNED > (u8_t *)ram_end) {
 615              		.loc 1 638 3 is_stmt 1 view .LVU165
 616              		.loc 1 638 19 is_stmt 0 view .LVU166
 617 0012 2D4B     		ldr	r3, .L57
 618 0014 1B68     		ldr	r3, [r3]
 619              		.loc 1 638 6 view .LVU167
 620 0016 AB42     		cmp	r3, r5
 621 0018 05D8     		bhi	.L45
 622              		.loc 1 638 41 discriminator 1 view .LVU168
 623 001a 00F10C03 		add	r3, r0, #12
 624              		.loc 1 638 62 discriminator 1 view .LVU169
 625 001e 2B4A     		ldr	r2, .L57+4
 626 0020 1268     		ldr	r2, [r2]
 627              		.loc 1 638 25 discriminator 1 view .LVU170
 628 0022 9342     		cmp	r3, r2
 629 0024 17D9     		bls	.L46
 630              	.L45:
 639:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory");
 631              		.loc 1 639 5 is_stmt 1 discriminator 1 view .LVU171
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 26


 632              		.loc 1 639 5 discriminator 1 view .LVU172
 633              		.loc 1 639 5 discriminator 1 view .LVU173
 634              		.loc 1 639 5 discriminator 1 view .LVU174
 635 0026 2A4B     		ldr	r3, .L57+8
 636 0028 40F27F22 		movw	r2, #639
 637 002c 2949     		ldr	r1, .L57+12
 638 002e 2A48     		ldr	r0, .L57+16
 639              	.LVL49:
 640              		.loc 1 639 5 is_stmt 0 discriminator 1 view .LVU175
 641 0030 FFF7FEFF 		bl	printf
 642              	.LVL50:
 643              		.loc 1 639 5 is_stmt 1 discriminator 1 view .LVU176
 644              		.loc 1 639 5 discriminator 1 view .LVU177
 640:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory\n"));
 645              		.loc 1 640 83 discriminator 1 view .LVU178
 641:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 642:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 646              		.loc 1 642 5 discriminator 1 view .LVU179
 647              	.LBB2:
 648              		.loc 1 642 5 discriminator 1 view .LVU180
 649              		.loc 1 642 5 discriminator 1 view .LVU181
 650 0034 FFF7FEFF 		bl	sys_arch_protect
 651              	.LVL51:
 652              		.loc 1 642 5 discriminator 1 view .LVU182
 653              		.loc 1 642 5 discriminator 1 view .LVU183
 654 0038 FFF7FEFF 		bl	sys_arch_unprotect
 655              	.LVL52:
 656              		.loc 1 642 5 is_stmt 0 discriminator 1 view .LVU184
 657              	.LBE2:
 658              		.loc 1 642 5 is_stmt 1 discriminator 1 view .LVU185
 643:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 659              		.loc 1 643 5 discriminator 1 view .LVU186
 660              	.L42:
 644:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 645:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 646:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_check_element(mem);
 647:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 648:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* protect the heap from concurrent access */
 649:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_PROTECT();
 650:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* mem has to be in a used state */
 651:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (!mem->used) {
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: double free");
 653:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 654:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory: double free?\n"));
 655:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 657:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 658:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 659:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 660:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (!mem_link_valid(mem)) {
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: non-linked: double free");
 662:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 663:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory: non-linked: double f
 664:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 666:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 667:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 27


 668:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 669:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* mem is now unused. */
 670:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 671:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 672:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem < lfree) {
 673:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the newly freed struct is now the lowest */
 674:Middlewares/Third_Party/LwIP/src/core/mem.c ****     lfree = mem;
 675:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 676:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 677:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_DEC_USED(used, mem->next - (mem_size_t)(((u8_t *)mem - ram)));
 678:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 679:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* finally, see if prev or next are free also */
 680:Middlewares/Third_Party/LwIP/src/core/mem.c ****   plug_holes(mem);
 681:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 682:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 683:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_free_count = 1;
 684:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 685:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_UNPROTECT();
 686:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 661              		.loc 1 686 1 is_stmt 0 view .LVU187
 662 003c 38BD     		pop	{r3, r4, r5, pc}
 663              	.LVL53:
 664              	.L54:
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 665              		.loc 1 627 5 is_stmt 1 discriminator 1 view .LVU188
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 666              		.loc 1 627 5 discriminator 1 view .LVU189
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 667              		.loc 1 627 5 discriminator 1 view .LVU190
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 668              		.loc 1 627 5 discriminator 1 view .LVU191
 669 003e 244B     		ldr	r3, .L57+8
 670 0040 40F27322 		movw	r2, #627
 671 0044 2549     		ldr	r1, .L57+20
 672 0046 2448     		ldr	r0, .L57+16
 673              	.LVL54:
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 674              		.loc 1 627 5 is_stmt 0 discriminator 1 view .LVU192
 675 0048 FFF7FEFF 		bl	printf
 676              	.LVL55:
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 677              		.loc 1 627 5 is_stmt 1 discriminator 1 view .LVU193
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 678              		.loc 1 627 5 discriminator 1 view .LVU194
 628:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 679              		.loc 1 628 91 discriminator 1 view .LVU195
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 680              		.loc 1 630 5 discriminator 1 view .LVU196
 681              	.LBB3:
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 682              		.loc 1 630 5 discriminator 1 view .LVU197
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 683              		.loc 1 630 5 discriminator 1 view .LVU198
 684 004c FFF7FEFF 		bl	sys_arch_protect
 685              	.LVL56:
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 686              		.loc 1 630 5 discriminator 1 view .LVU199
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 28


 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 687              		.loc 1 630 5 discriminator 1 view .LVU200
 688 0050 FFF7FEFF 		bl	sys_arch_unprotect
 689              	.LVL57:
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 690              		.loc 1 630 5 is_stmt 0 discriminator 1 view .LVU201
 691              	.LBE3:
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 692              		.loc 1 630 5 is_stmt 1 discriminator 1 view .LVU202
 631:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 693              		.loc 1 631 5 discriminator 1 view .LVU203
 694 0054 F2E7     		b	.L42
 695              	.LVL58:
 696              	.L46:
 649:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* mem has to be in a used state */
 697              		.loc 1 649 3 view .LVU204
 698 0056 2248     		ldr	r0, .L57+24
 699              	.LVL59:
 649:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* mem has to be in a used state */
 700              		.loc 1 649 3 is_stmt 0 view .LVU205
 701 0058 FFF7FEFF 		bl	sys_mutex_lock
 702              	.LVL60:
 651:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: double free");
 703              		.loc 1 651 3 is_stmt 1 view .LVU206
 651:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: double free");
 704              		.loc 1 651 11 is_stmt 0 view .LVU207
 705 005c 14F8043C 		ldrb	r3, [r4, #-4]	@ zero_extendqisi2
 651:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: double free");
 706              		.loc 1 651 6 view .LVU208
 707 0060 9BB1     		cbz	r3, .L55
 660:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: non-linked: double free");
 708              		.loc 1 660 3 is_stmt 1 view .LVU209
 660:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: non-linked: double free");
 709              		.loc 1 660 8 is_stmt 0 view .LVU210
 710 0062 2846     		mov	r0, r5
 711 0064 FFF7FEFF 		bl	mem_link_valid
 712              	.LVL61:
 660:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: non-linked: double free");
 713              		.loc 1 660 6 view .LVU211
 714 0068 F0B1     		cbz	r0, .L56
 670:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 715              		.loc 1 670 3 is_stmt 1 view .LVU212
 670:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 716              		.loc 1 670 13 is_stmt 0 view .LVU213
 717 006a 0023     		movs	r3, #0
 718 006c 04F8043C 		strb	r3, [r4, #-4]
 672:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the newly freed struct is now the lowest */
 719              		.loc 1 672 3 is_stmt 1 view .LVU214
 672:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the newly freed struct is now the lowest */
 720              		.loc 1 672 11 is_stmt 0 view .LVU215
 721 0070 1C4B     		ldr	r3, .L57+28
 722 0072 1B68     		ldr	r3, [r3]
 672:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the newly freed struct is now the lowest */
 723              		.loc 1 672 6 view .LVU216
 724 0074 AB42     		cmp	r3, r5
 725 0076 01D9     		bls	.L49
 674:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 29


 726              		.loc 1 674 5 is_stmt 1 view .LVU217
 674:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 727              		.loc 1 674 11 is_stmt 0 view .LVU218
 728 0078 1A4B     		ldr	r3, .L57+28
 729 007a 1D60     		str	r5, [r3]
 730              	.L49:
 677:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 731              		.loc 1 677 74 is_stmt 1 view .LVU219
 680:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 732              		.loc 1 680 3 view .LVU220
 733 007c 2846     		mov	r0, r5
 734 007e FFF7FEFF 		bl	plug_holes
 735              	.LVL62:
 681:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 736              		.loc 1 681 15 view .LVU221
 685:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 737              		.loc 1 685 3 view .LVU222
 738 0082 1748     		ldr	r0, .L57+24
 739 0084 FFF7FEFF 		bl	sys_mutex_unlock
 740              	.LVL63:
 741 0088 D8E7     		b	.L42
 742              	.L55:
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 743              		.loc 1 652 5 discriminator 1 view .LVU223
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 744              		.loc 1 652 5 discriminator 1 view .LVU224
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 745              		.loc 1 652 5 discriminator 1 view .LVU225
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 746              		.loc 1 652 5 discriminator 1 view .LVU226
 747 008a 114B     		ldr	r3, .L57+8
 748 008c 4FF42372 		mov	r2, #652
 749 0090 1549     		ldr	r1, .L57+32
 750 0092 1148     		ldr	r0, .L57+16
 751 0094 FFF7FEFF 		bl	printf
 752              	.LVL64:
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 753              		.loc 1 652 5 discriminator 1 view .LVU227
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 754              		.loc 1 652 5 discriminator 1 view .LVU228
 653:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory: double free?\n"));
 755              		.loc 1 653 5 discriminator 1 view .LVU229
 756 0098 1148     		ldr	r0, .L57+24
 757 009a FFF7FEFF 		bl	sys_mutex_unlock
 758              	.LVL65:
 654:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 759              		.loc 1 654 97 discriminator 1 view .LVU230
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 760              		.loc 1 656 5 discriminator 1 view .LVU231
 761              	.LBB4:
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 762              		.loc 1 656 5 discriminator 1 view .LVU232
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 763              		.loc 1 656 5 discriminator 1 view .LVU233
 764 009e FFF7FEFF 		bl	sys_arch_protect
 765              	.LVL66:
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 30


 766              		.loc 1 656 5 discriminator 1 view .LVU234
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 767              		.loc 1 656 5 discriminator 1 view .LVU235
 768 00a2 FFF7FEFF 		bl	sys_arch_unprotect
 769              	.LVL67:
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 770              		.loc 1 656 5 is_stmt 0 discriminator 1 view .LVU236
 771              	.LBE4:
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 772              		.loc 1 656 5 is_stmt 1 discriminator 1 view .LVU237
 657:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 773              		.loc 1 657 5 discriminator 1 view .LVU238
 774 00a6 C9E7     		b	.L42
 775              	.L56:
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 776              		.loc 1 661 5 discriminator 1 view .LVU239
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 777              		.loc 1 661 5 discriminator 1 view .LVU240
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 778              		.loc 1 661 5 discriminator 1 view .LVU241
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 779              		.loc 1 661 5 discriminator 1 view .LVU242
 780 00a8 094B     		ldr	r3, .L57+8
 781 00aa 40F29522 		movw	r2, #661
 782 00ae 0F49     		ldr	r1, .L57+36
 783 00b0 0948     		ldr	r0, .L57+16
 784 00b2 FFF7FEFF 		bl	printf
 785              	.LVL68:
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 786              		.loc 1 661 5 discriminator 1 view .LVU243
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 787              		.loc 1 661 5 discriminator 1 view .LVU244
 662:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory: non-linked: double f
 788              		.loc 1 662 5 discriminator 1 view .LVU245
 789 00b6 0A48     		ldr	r0, .L57+24
 790 00b8 FFF7FEFF 		bl	sys_mutex_unlock
 791              	.LVL69:
 663:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 792              		.loc 1 663 109 discriminator 1 view .LVU246
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 793              		.loc 1 665 5 discriminator 1 view .LVU247
 794              	.LBB5:
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 795              		.loc 1 665 5 discriminator 1 view .LVU248
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 796              		.loc 1 665 5 discriminator 1 view .LVU249
 797 00bc FFF7FEFF 		bl	sys_arch_protect
 798              	.LVL70:
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 799              		.loc 1 665 5 discriminator 1 view .LVU250
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 800              		.loc 1 665 5 discriminator 1 view .LVU251
 801 00c0 FFF7FEFF 		bl	sys_arch_unprotect
 802              	.LVL71:
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 803              		.loc 1 665 5 is_stmt 0 discriminator 1 view .LVU252
 804              	.LBE5:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 31


 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 805              		.loc 1 665 5 is_stmt 1 discriminator 1 view .LVU253
 666:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 806              		.loc 1 666 5 discriminator 1 view .LVU254
 807 00c4 BAE7     		b	.L42
 808              	.LVL72:
 809              	.L51:
 810              	.LCFI4:
 811              		.cfi_def_cfa_offset 0
 812              		.cfi_restore 3
 813              		.cfi_restore 4
 814              		.cfi_restore 5
 815              		.cfi_restore 14
 666:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 816              		.loc 1 666 5 is_stmt 0 discriminator 1 view .LVU255
 817 00c6 7047     		bx	lr
 818              	.L58:
 819              		.align	2
 820              	.L57:
 821 00c8 00000000 		.word	.LANCHOR0
 822 00cc 00000000 		.word	.LANCHOR1
 823 00d0 00000000 		.word	.LC0
 824 00d4 24000000 		.word	.LC8
 825 00d8 44000000 		.word	.LC2
 826 00dc 00000000 		.word	.LC7
 827 00e0 00000000 		.word	.LANCHOR3
 828 00e4 00000000 		.word	.LANCHOR2
 829 00e8 40000000 		.word	.LC9
 830 00ec 68000000 		.word	.LC10
 831              		.cfi_endproc
 832              	.LFE369:
 834              		.section	.rodata.mem_trim.str1.4,"aMS",%progbits,1
 835              		.align	2
 836              	.LC11:
 837 0000 6D656D5F 		.ascii	"mem_trim: legal memory\000"
 837      7472696D 
 837      3A206C65 
 837      67616C20 
 837      6D656D6F 
 838 0017 00       		.align	2
 839              	.LC12:
 840 0018 6D656D5F 		.ascii	"mem_trim can only shrink memory\000"
 840      7472696D 
 840      2063616E 
 840      206F6E6C 
 840      79207368 
 841              		.align	2
 842              	.LC13:
 843 0038 696E7661 		.ascii	"invalid next ptr\000"
 843      6C696420 
 843      6E657874 
 843      20707472 
 843      00
 844              		.section	.text.mem_trim,"ax",%progbits
 845              		.align	1
 846              		.global	mem_trim
 847              		.syntax unified
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 32


 848              		.thumb
 849              		.thumb_func
 851              	mem_trim:
 852              	.LVL73:
 853              	.LFB370:
 687:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 688:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 689:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Shrink memory returned by mem_malloc().
 690:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 691:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem pointer to memory allocated by mem_malloc the is to be shrinked
 692:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param new_size required size after shrinking (needs to be smaller than or
 693:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *                equal to the previous size)
 694:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return for compatibility reasons: is always == rmem, at the moment
 695:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *         or NULL if newsize is > old size, in which case rmem is NOT touched
 696:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *         or freed!
 697:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 698:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 699:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_trim(void *rmem, mem_size_t new_size)
 700:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 854              		.loc 1 700 1 is_stmt 1 view -0
 855              		.cfi_startproc
 856              		@ args = 0, pretend = 0, frame = 0
 857              		@ frame_needed = 0, uses_anonymous_args = 0
 858              		.loc 1 700 1 is_stmt 0 view .LVU257
 859 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 860              	.LCFI5:
 861              		.cfi_def_cfa_offset 32
 862              		.cfi_offset 3, -32
 863              		.cfi_offset 4, -28
 864              		.cfi_offset 5, -24
 865              		.cfi_offset 6, -20
 866              		.cfi_offset 7, -16
 867              		.cfi_offset 8, -12
 868              		.cfi_offset 9, -8
 869              		.cfi_offset 14, -4
 870 0004 0546     		mov	r5, r0
 701:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t size, newsize;
 871              		.loc 1 701 3 is_stmt 1 view .LVU258
 702:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t ptr, ptr2;
 872              		.loc 1 702 3 view .LVU259
 703:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem, *mem2;
 873              		.loc 1 703 3 view .LVU260
 704:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* use the FREE_PROTECT here: it protects with sem OR SYS_ARCH_PROTECT */
 705:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_DECL_PROTECT();
 874              		.loc 1 705 31 view .LVU261
 706:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 707:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Expand the size of the allocated memory region so that we can
 708:Middlewares/Third_Party/LwIP/src/core/mem.c ****      adjust for alignment. */
 709:Middlewares/Third_Party/LwIP/src/core/mem.c ****   newsize = (mem_size_t)LWIP_MEM_ALIGN_SIZE(new_size);
 875              		.loc 1 709 3 view .LVU262
 876              		.loc 1 709 25 is_stmt 0 view .LVU263
 877 0006 CC1C     		adds	r4, r1, #3
 878 0008 A4B2     		uxth	r4, r4
 879              		.loc 1 709 11 view .LVU264
 880 000a 24F00304 		bic	r4, r4, #3
 881 000e A4B2     		uxth	r4, r4
 882              	.LVL74:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 33


 710:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize < MIN_SIZE_ALIGNED) {
 883              		.loc 1 710 3 is_stmt 1 view .LVU265
 884              		.loc 1 710 6 is_stmt 0 view .LVU266
 885 0010 0B2C     		cmp	r4, #11
 886 0012 00D8     		bhi	.L60
 711:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* every data block must be at least MIN_SIZE_ALIGNED long */
 712:Middlewares/Third_Party/LwIP/src/core/mem.c ****     newsize = MIN_SIZE_ALIGNED;
 887              		.loc 1 712 13 view .LVU267
 888 0014 0C24     		movs	r4, #12
 889              	.LVL75:
 890              	.L60:
 713:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 714:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 715:Middlewares/Third_Party/LwIP/src/core/mem.c ****   newsize += MEM_SANITY_REGION_BEFORE_ALIGNED + MEM_SANITY_REGION_AFTER_ALIGNED;
 716:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 717:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((newsize > MEM_SIZE_ALIGNED) || (newsize < new_size)) {
 891              		.loc 1 717 3 is_stmt 1 view .LVU268
 892              		.loc 1 717 48 is_stmt 0 view .LVU269
 893 0016 8C42     		cmp	r4, r1
 894 0018 2CBF     		ite	cs
 895 001a 0021     		movcs	r1, #0
 896              	.LVL76:
 897              		.loc 1 717 48 view .LVU270
 898 001c 0121     		movcc	r1, #1
 899              		.loc 1 717 36 view .LVU271
 900 001e B4F5605F 		cmp	r4, #14336
 901 0022 88BF     		it	hi
 902 0024 41F00101 		orrhi	r1, r1, #1
 903              		.loc 1 717 6 view .LVU272
 904 0028 0029     		cmp	r1, #0
 905 002a 40F0A280 		bne	.L74
 718:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 719:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 720:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 721:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_trim: legal memory", (u8_t *)rmem >= (u8_t *)ram &&
 906              		.loc 1 721 3 is_stmt 1 view .LVU273
 907              		.loc 1 721 3 view .LVU274
 908 002e 544B     		ldr	r3, .L82
 909 0030 1B68     		ldr	r3, [r3]
 910 0032 AB42     		cmp	r3, r5
 911 0034 03D8     		bhi	.L62
 912              		.loc 1 721 3 is_stmt 0 discriminator 2 view .LVU275
 913 0036 534B     		ldr	r3, .L82+4
 914 0038 1B68     		ldr	r3, [r3]
 915 003a AB42     		cmp	r3, r5
 916 003c 06D8     		bhi	.L63
 917              	.L62:
 918              		.loc 1 721 3 is_stmt 1 discriminator 3 view .LVU276
 919              		.loc 1 721 3 discriminator 3 view .LVU277
 920 003e 524B     		ldr	r3, .L82+8
 921 0040 40F2D122 		movw	r2, #721
 922 0044 5149     		ldr	r1, .L82+12
 923 0046 5248     		ldr	r0, .L82+16
 924              	.LVL77:
 925              		.loc 1 721 3 is_stmt 0 discriminator 3 view .LVU278
 926 0048 FFF7FEFF 		bl	printf
 927              	.LVL78:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 34


 928              	.L63:
 929              		.loc 1 721 3 is_stmt 1 discriminator 5 view .LVU279
 930              		.loc 1 721 3 discriminator 5 view .LVU280
 722:Middlewares/Third_Party/LwIP/src/core/mem.c ****               (u8_t *)rmem < (u8_t *)ram_end);
 723:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 724:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((u8_t *)rmem < (u8_t *)ram || (u8_t *)rmem >= (u8_t *)ram_end) {
 931              		.loc 1 724 3 discriminator 5 view .LVU281
 932              		.loc 1 724 20 is_stmt 0 discriminator 5 view .LVU282
 933 004c 4C4B     		ldr	r3, .L82
 934 004e 1B68     		ldr	r3, [r3]
 935              		.loc 1 724 6 discriminator 5 view .LVU283
 936 0050 AB42     		cmp	r3, r5
 937 0052 45D8     		bhi	.L64
 938              		.loc 1 724 53 discriminator 1 view .LVU284
 939 0054 4B4B     		ldr	r3, .L82+4
 940 0056 1B68     		ldr	r3, [r3]
 941              		.loc 1 724 34 discriminator 1 view .LVU285
 942 0058 AB42     		cmp	r3, r5
 943 005a 41D9     		bls	.L64
 725:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_trim: illegal memory\n"));
 726:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 728:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 729:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 730:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Get the corresponding struct mem ... */
 731:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* cast through void* to get rid of alignment warnings */
 732:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)(void *)((u8_t *)rmem - (SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET));
 944              		.loc 1 732 3 is_stmt 1 view .LVU286
 945              	.LVL79:
 733:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 734:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_check_element(mem);
 735:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 736:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* ... and its offset pointer */
 737:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ptr = mem_to_ptr(mem);
 946              		.loc 1 737 3 view .LVU287
 947              		.loc 1 737 9 is_stmt 0 view .LVU288
 948 005c A5F10800 		sub	r0, r5, #8
 949              	.LVL80:
 950              		.loc 1 737 9 view .LVU289
 951 0060 FFF7FEFF 		bl	mem_to_ptr
 952              	.LVL81:
 953              		.loc 1 737 9 view .LVU290
 954 0064 0646     		mov	r6, r0
 955              	.LVL82:
 738:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 739:Middlewares/Third_Party/LwIP/src/core/mem.c ****   size = (mem_size_t)((mem_size_t)(mem->next - ptr) - (SIZEOF_STRUCT_MEM + MEM_SANITY_OVERHEAD));
 956              		.loc 1 739 3 is_stmt 1 view .LVU291
 957              		.loc 1 739 39 is_stmt 0 view .LVU292
 958 0066 35F8088C 		ldrh	r8, [r5, #-8]
 959              		.loc 1 739 23 view .LVU293
 960 006a A8EB0008 		sub	r8, r8, r0
 961 006e 1FFA88F8 		uxth	r8, r8
 962              		.loc 1 739 8 view .LVU294
 963 0072 A8F10808 		sub	r8, r8, #8
 964 0076 1FFA88F8 		uxth	r8, r8
 965              	.LVL83:
 740:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_trim can only shrink memory", newsize <= size);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 35


 966              		.loc 1 740 3 is_stmt 1 view .LVU295
 967              		.loc 1 740 3 view .LVU296
 968 007a 4445     		cmp	r4, r8
 969 007c 37D8     		bhi	.L78
 970              	.LVL84:
 971              	.L66:
 972              		.loc 1 740 3 discriminator 3 view .LVU297
 973              		.loc 1 740 3 discriminator 3 view .LVU298
 741:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 974              		.loc 1 741 3 discriminator 3 view .LVU299
 975              		.loc 1 741 6 is_stmt 0 discriminator 3 view .LVU300
 976 007e 4445     		cmp	r4, r8
 977 0080 79D8     		bhi	.L75
 742:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* not supported */
 743:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 744:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 745:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize == size) {
 978              		.loc 1 745 3 is_stmt 1 view .LVU301
 979              		.loc 1 745 6 is_stmt 0 view .LVU302
 980 0082 7AD0     		beq	.L76
 746:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* No change in size, simply return */
 747:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 748:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 749:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 750:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* protect the heap from concurrent access */
 751:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_PROTECT();
 981              		.loc 1 751 3 is_stmt 1 view .LVU303
 982 0084 4348     		ldr	r0, .L82+20
 983 0086 FFF7FEFF 		bl	sys_mutex_lock
 984              	.LVL85:
 752:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 753:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem2 = ptr_to_mem(mem->next);
 985              		.loc 1 753 3 view .LVU304
 986              		.loc 1 753 10 is_stmt 0 view .LVU305
 987 008a 35F8087C 		ldrh	r7, [r5, #-8]
 988 008e 3846     		mov	r0, r7
 989 0090 FFF7FEFF 		bl	ptr_to_mem
 990              	.LVL86:
 991 0094 8146     		mov	r9, r0
 992              	.LVL87:
 754:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem2->used == 0) {
 993              		.loc 1 754 3 is_stmt 1 view .LVU306
 994              		.loc 1 754 11 is_stmt 0 view .LVU307
 995 0096 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 996              		.loc 1 754 6 view .LVU308
 997 0098 002B     		cmp	r3, #0
 998 009a 3ED1     		bne	.L67
 999              	.LBB6:
 755:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* The next struct is unused, we can simply move it at little */
 756:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem_size_t next;
 1000              		.loc 1 756 5 is_stmt 1 view .LVU309
 757:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 1001              		.loc 1 757 5 view .LVU310
 1002              		.loc 1 757 5 view .LVU311
 1003 009c B7F5605F 		cmp	r7, #14336
 1004 00a0 2DD0     		beq	.L79
 1005              	.LVL88:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 36


 1006              	.L68:
 1007              		.loc 1 757 5 discriminator 3 view .LVU312
 1008              		.loc 1 757 5 discriminator 3 view .LVU313
 758:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 759:Middlewares/Third_Party/LwIP/src/core/mem.c ****     next = mem2->next;
 1009              		.loc 1 759 5 discriminator 3 view .LVU314
 1010              		.loc 1 759 10 is_stmt 0 discriminator 3 view .LVU315
 1011 00a2 B9F80070 		ldrh	r7, [r9]
 1012              	.LVL89:
 760:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* create new struct mem which is moved directly after the shrinked mem */
 761:Middlewares/Third_Party/LwIP/src/core/mem.c ****     ptr2 = (mem_size_t)(ptr + SIZEOF_STRUCT_MEM + newsize);
 1013              		.loc 1 761 5 is_stmt 1 discriminator 3 view .LVU316
 1014              		.loc 1 761 49 is_stmt 0 discriminator 3 view .LVU317
 1015 00a6 3444     		add	r4, r4, r6
 1016              	.LVL90:
 1017              		.loc 1 761 49 discriminator 3 view .LVU318
 1018 00a8 A4B2     		uxth	r4, r4
 1019              		.loc 1 761 10 discriminator 3 view .LVU319
 1020 00aa 0834     		adds	r4, r4, #8
 1021 00ac A4B2     		uxth	r4, r4
 1022              	.LVL91:
 762:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == mem2) {
 1023              		.loc 1 762 5 is_stmt 1 discriminator 3 view .LVU320
 1024              		.loc 1 762 15 is_stmt 0 discriminator 3 view .LVU321
 1025 00ae 3A4B     		ldr	r3, .L82+24
 1026 00b0 1B68     		ldr	r3, [r3]
 1027              		.loc 1 762 8 discriminator 3 view .LVU322
 1028 00b2 4B45     		cmp	r3, r9
 1029 00b4 2BD0     		beq	.L80
 1030              	.L69:
 763:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = ptr_to_mem(ptr2);
 764:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 765:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1031              		.loc 1 765 5 is_stmt 1 view .LVU323
 1032              		.loc 1 765 12 is_stmt 0 view .LVU324
 1033 00b6 2046     		mov	r0, r4
 1034 00b8 FFF7FEFF 		bl	ptr_to_mem
 1035              	.LVL92:
 766:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->used = 0;
 1036              		.loc 1 766 5 is_stmt 1 view .LVU325
 1037              		.loc 1 766 16 is_stmt 0 view .LVU326
 1038 00bc 0023     		movs	r3, #0
 1039 00be 0371     		strb	r3, [r0, #4]
 767:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* restore the next pointer */
 768:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = next;
 1040              		.loc 1 768 5 is_stmt 1 view .LVU327
 1041              		.loc 1 768 16 is_stmt 0 view .LVU328
 1042 00c0 0780     		strh	r7, [r0]	@ movhi
 769:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* link it back to mem */
 770:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 1043              		.loc 1 770 5 is_stmt 1 view .LVU329
 1044              		.loc 1 770 16 is_stmt 0 view .LVU330
 1045 00c2 4680     		strh	r6, [r0, #2]	@ movhi
 771:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* link mem to it */
 772:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 1046              		.loc 1 772 5 is_stmt 1 view .LVU331
 1047              		.loc 1 772 15 is_stmt 0 view .LVU332
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 37


 1048 00c4 25F8084C 		strh	r4, [r5, #-8]	@ movhi
 773:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* last thing to restore linked list: as we have moved mem2,
 774:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * let 'mem2->next->prev' point to mem2 again. but only if mem2->next is not
 775:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * the end of the heap */
 776:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 1049              		.loc 1 776 5 is_stmt 1 view .LVU333
 1050              		.loc 1 776 13 is_stmt 0 view .LVU334
 1051 00c8 0088     		ldrh	r0, [r0]
 1052              	.LVL93:
 1053              		.loc 1 776 8 view .LVU335
 1054 00ca B0F5605F 		cmp	r0, #14336
 1055 00ce 02D0     		beq	.L70
 777:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem2->next)->prev = ptr2;
 1056              		.loc 1 777 7 is_stmt 1 view .LVU336
 1057 00d0 FFF7FEFF 		bl	ptr_to_mem
 1058              	.LVL94:
 1059              		.loc 1 777 36 is_stmt 0 view .LVU337
 1060 00d4 4480     		strh	r4, [r0, #2]	@ movhi
 1061              	.LVL95:
 1062              	.L70:
 1063              		.loc 1 777 36 view .LVU338
 1064              	.LBE6:
 778:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 779:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_DEC_USED(used, (size - newsize));
 780:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* no need to plug holes, we've already done that */
 781:Middlewares/Third_Party/LwIP/src/core/mem.c ****   } else if (newsize + SIZEOF_STRUCT_MEM + MIN_SIZE_ALIGNED <= size) {
 782:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
 783:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * at least MIN_SIZE_ALIGNED of data.
 784:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * Old size ('size') must be big enough to contain at least 'newsize' plus a struct mem
 785:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * ('SIZEOF_STRUCT_MEM') with some data ('MIN_SIZE_ALIGNED').
 786:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * @todo we could leave out MIN_SIZE_ALIGNED. We would create an empty
 787:Middlewares/Third_Party/LwIP/src/core/mem.c ****      *       region that couldn't hold data, but when mem->next gets freed,
 788:Middlewares/Third_Party/LwIP/src/core/mem.c ****      *       the 2 regions would be combined, resulting in more free memory */
 789:Middlewares/Third_Party/LwIP/src/core/mem.c ****     ptr2 = (mem_size_t)(ptr + SIZEOF_STRUCT_MEM + newsize);
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 791:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 792:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2 < lfree) {
 793:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
 794:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 795:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->used = 0;
 796:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = mem->next;
 797:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 798:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 799:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 800:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem2->next)->prev = ptr2;
 801:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 802:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_DEC_USED(used, (size - newsize));
 1065              		.loc 1 802 47 is_stmt 1 view .LVU339
 803:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the original mem->next is used, so no need to plug holes! */
 804:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 805:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* else {
 806:Middlewares/Third_Party/LwIP/src/core/mem.c ****     next struct mem is used but size between mem and mem2 is not big enough
 807:Middlewares/Third_Party/LwIP/src/core/mem.c ****     to create another struct mem
 808:Middlewares/Third_Party/LwIP/src/core/mem.c ****     -> don't do anyhting.
 809:Middlewares/Third_Party/LwIP/src/core/mem.c ****     -> the remaining space stays unused since it is too small
 810:Middlewares/Third_Party/LwIP/src/core/mem.c ****   } */
 811:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 38


 812:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_init_element(mem, new_size);
 813:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 814:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 1066              		.loc 1 814 15 view .LVU340
 815:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 816:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_free_count = 1;
 817:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 818:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_UNPROTECT();
 1067              		.loc 1 818 3 view .LVU341
 1068 00d6 2F48     		ldr	r0, .L82+20
 1069 00d8 FFF7FEFF 		bl	sys_mutex_unlock
 1070              	.LVL96:
 819:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return rmem;
 1071              		.loc 1 819 3 view .LVU342
 1072              		.loc 1 819 10 is_stmt 0 view .LVU343
 1073 00dc 2846     		mov	r0, r5
 1074 00de 04E0     		b	.L59
 1075              	.LVL97:
 1076              	.L64:
 725:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 1077              		.loc 1 725 83 is_stmt 1 view .LVU344
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1078              		.loc 1 727 5 view .LVU345
 1079              	.LBB7:
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1080              		.loc 1 727 5 view .LVU346
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1081              		.loc 1 727 5 view .LVU347
 1082 00e0 FFF7FEFF 		bl	sys_arch_protect
 1083              	.LVL98:
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1084              		.loc 1 727 5 view .LVU348
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1085              		.loc 1 727 5 view .LVU349
 1086 00e4 FFF7FEFF 		bl	sys_arch_unprotect
 1087              	.LVL99:
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1088              		.loc 1 727 5 is_stmt 0 view .LVU350
 1089              	.LBE7:
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1090              		.loc 1 727 5 is_stmt 1 view .LVU351
 728:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1091              		.loc 1 728 5 view .LVU352
 728:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1092              		.loc 1 728 12 is_stmt 0 view .LVU353
 1093 00e8 2846     		mov	r0, r5
 1094              	.LVL100:
 1095              	.L59:
 820:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 1096              		.loc 1 820 1 view .LVU354
 1097 00ea BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1098              	.LVL101:
 1099              	.L78:
 740:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 1100              		.loc 1 740 3 is_stmt 1 discriminator 1 view .LVU355
 740:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 1101              		.loc 1 740 3 discriminator 1 view .LVU356
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 39


 1102 00ee 264B     		ldr	r3, .L82+8
 1103 00f0 4FF43972 		mov	r2, #740
 1104 00f4 2949     		ldr	r1, .L82+28
 1105 00f6 2648     		ldr	r0, .L82+16
 1106              	.LVL102:
 740:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 1107              		.loc 1 740 3 is_stmt 0 discriminator 1 view .LVU357
 1108 00f8 FFF7FEFF 		bl	printf
 1109              	.LVL103:
 1110 00fc BFE7     		b	.L66
 1111              	.LVL104:
 1112              	.L79:
 1113              	.LBB8:
 757:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 1114              		.loc 1 757 5 is_stmt 1 discriminator 1 view .LVU358
 757:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 1115              		.loc 1 757 5 discriminator 1 view .LVU359
 1116 00fe 224B     		ldr	r3, .L82+8
 1117 0100 40F2F522 		movw	r2, #757
 1118 0104 2649     		ldr	r1, .L82+32
 1119 0106 2248     		ldr	r0, .L82+16
 1120              	.LVL105:
 757:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 1121              		.loc 1 757 5 is_stmt 0 discriminator 1 view .LVU360
 1122 0108 FFF7FEFF 		bl	printf
 1123              	.LVL106:
 1124 010c C9E7     		b	.L68
 1125              	.LVL107:
 1126              	.L80:
 763:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1127              		.loc 1 763 7 is_stmt 1 view .LVU361
 763:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1128              		.loc 1 763 15 is_stmt 0 view .LVU362
 1129 010e 2046     		mov	r0, r4
 1130 0110 FFF7FEFF 		bl	ptr_to_mem
 1131              	.LVL108:
 763:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1132              		.loc 1 763 13 view .LVU363
 1133 0114 204B     		ldr	r3, .L82+24
 1134 0116 1860     		str	r0, [r3]
 1135 0118 CDE7     		b	.L69
 1136              	.LVL109:
 1137              	.L67:
 763:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1138              		.loc 1 763 13 view .LVU364
 1139              	.LBE8:
 781:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
 1140              		.loc 1 781 10 is_stmt 1 view .LVU365
 781:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
 1141              		.loc 1 781 42 is_stmt 0 view .LVU366
 1142 011a 04F11403 		add	r3, r4, #20
 781:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
 1143              		.loc 1 781 13 view .LVU367
 1144 011e 4345     		cmp	r3, r8
 1145 0120 D9D8     		bhi	.L70
 789:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 1146              		.loc 1 789 5 is_stmt 1 view .LVU368
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 40


 789:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 1147              		.loc 1 789 49 is_stmt 0 view .LVU369
 1148 0122 3444     		add	r4, r4, r6
 1149              	.LVL110:
 789:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 1150              		.loc 1 789 49 view .LVU370
 1151 0124 A4B2     		uxth	r4, r4
 789:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 1152              		.loc 1 789 10 view .LVU371
 1153 0126 0834     		adds	r4, r4, #8
 1154 0128 A4B2     		uxth	r4, r4
 1155              	.LVL111:
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1156              		.loc 1 790 5 is_stmt 1 view .LVU372
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1157              		.loc 1 790 5 view .LVU373
 1158 012a B7F5605F 		cmp	r7, #14336
 1159 012e 18D0     		beq	.L81
 1160              	.LVL112:
 1161              	.L71:
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1162              		.loc 1 790 5 discriminator 3 view .LVU374
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1163              		.loc 1 790 5 discriminator 3 view .LVU375
 791:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2 < lfree) {
 1164              		.loc 1 791 5 discriminator 3 view .LVU376
 791:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2 < lfree) {
 1165              		.loc 1 791 12 is_stmt 0 discriminator 3 view .LVU377
 1166 0130 2046     		mov	r0, r4
 1167 0132 FFF7FEFF 		bl	ptr_to_mem
 1168              	.LVL113:
 792:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
 1169              		.loc 1 792 5 is_stmt 1 discriminator 3 view .LVU378
 792:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
 1170              		.loc 1 792 14 is_stmt 0 discriminator 3 view .LVU379
 1171 0136 184B     		ldr	r3, .L82+24
 1172 0138 1B68     		ldr	r3, [r3]
 792:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
 1173              		.loc 1 792 8 discriminator 3 view .LVU380
 1174 013a 8342     		cmp	r3, r0
 1175 013c 01D9     		bls	.L72
 793:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1176              		.loc 1 793 7 is_stmt 1 view .LVU381
 793:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1177              		.loc 1 793 13 is_stmt 0 view .LVU382
 1178 013e 164B     		ldr	r3, .L82+24
 1179 0140 1860     		str	r0, [r3]
 1180              	.L72:
 795:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = mem->next;
 1181              		.loc 1 795 5 is_stmt 1 view .LVU383
 795:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = mem->next;
 1182              		.loc 1 795 16 is_stmt 0 view .LVU384
 1183 0142 0023     		movs	r3, #0
 1184 0144 0371     		strb	r3, [r0, #4]
 796:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 1185              		.loc 1 796 5 is_stmt 1 view .LVU385
 796:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 41


 1186              		.loc 1 796 21 is_stmt 0 view .LVU386
 1187 0146 35F8083C 		ldrh	r3, [r5, #-8]
 796:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 1188              		.loc 1 796 16 view .LVU387
 1189 014a 0380     		strh	r3, [r0]	@ movhi
 797:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 1190              		.loc 1 797 5 is_stmt 1 view .LVU388
 797:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 1191              		.loc 1 797 16 is_stmt 0 view .LVU389
 1192 014c 4680     		strh	r6, [r0, #2]	@ movhi
 798:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 1193              		.loc 1 798 5 is_stmt 1 view .LVU390
 798:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 1194              		.loc 1 798 15 is_stmt 0 view .LVU391
 1195 014e 25F8084C 		strh	r4, [r5, #-8]	@ movhi
 799:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem2->next)->prev = ptr2;
 1196              		.loc 1 799 5 is_stmt 1 view .LVU392
 799:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem2->next)->prev = ptr2;
 1197              		.loc 1 799 13 is_stmt 0 view .LVU393
 1198 0152 0088     		ldrh	r0, [r0]
 1199              	.LVL114:
 799:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem2->next)->prev = ptr2;
 1200              		.loc 1 799 8 view .LVU394
 1201 0154 B0F5605F 		cmp	r0, #14336
 1202 0158 BDD0     		beq	.L70
 800:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1203              		.loc 1 800 7 is_stmt 1 view .LVU395
 1204 015a FFF7FEFF 		bl	ptr_to_mem
 1205              	.LVL115:
 800:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1206              		.loc 1 800 36 is_stmt 0 view .LVU396
 1207 015e 4480     		strh	r4, [r0, #2]	@ movhi
 1208 0160 B9E7     		b	.L70
 1209              	.LVL116:
 1210              	.L81:
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1211              		.loc 1 790 5 is_stmt 1 discriminator 1 view .LVU397
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1212              		.loc 1 790 5 discriminator 1 view .LVU398
 1213 0162 094B     		ldr	r3, .L82+8
 1214 0164 40F21632 		movw	r2, #790
 1215 0168 0D49     		ldr	r1, .L82+32
 1216 016a 0948     		ldr	r0, .L82+16
 1217              	.LVL117:
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1218              		.loc 1 790 5 is_stmt 0 discriminator 1 view .LVU399
 1219 016c FFF7FEFF 		bl	printf
 1220              	.LVL118:
 1221 0170 DEE7     		b	.L71
 1222              	.LVL119:
 1223              	.L74:
 718:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1224              		.loc 1 718 12 view .LVU400
 1225 0172 0020     		movs	r0, #0
 1226              	.LVL120:
 718:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1227              		.loc 1 718 12 view .LVU401
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 42


 1228 0174 B9E7     		b	.L59
 1229              	.LVL121:
 1230              	.L75:
 743:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1231              		.loc 1 743 12 view .LVU402
 1232 0176 0020     		movs	r0, #0
 1233 0178 B7E7     		b	.L59
 1234              	.L76:
 747:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1235              		.loc 1 747 12 view .LVU403
 1236 017a 2846     		mov	r0, r5
 1237 017c B5E7     		b	.L59
 1238              	.L83:
 1239 017e 00BF     		.align	2
 1240              	.L82:
 1241 0180 00000000 		.word	.LANCHOR0
 1242 0184 00000000 		.word	.LANCHOR1
 1243 0188 00000000 		.word	.LC0
 1244 018c 00000000 		.word	.LC11
 1245 0190 44000000 		.word	.LC2
 1246 0194 00000000 		.word	.LANCHOR3
 1247 0198 00000000 		.word	.LANCHOR2
 1248 019c 18000000 		.word	.LC12
 1249 01a0 38000000 		.word	.LC13
 1250              		.cfi_endproc
 1251              	.LFE370:
 1253              		.section	.rodata.mem_malloc.str1.4,"aMS",%progbits,1
 1254              		.align	2
 1255              	.LC14:
 1256 0000 6D656D5F 		.ascii	"mem_malloc: !lfree->used\000"
 1256      6D616C6C 
 1256      6F633A20 
 1256      216C6672 
 1256      65652D3E 
 1257 0019 000000   		.align	2
 1258              	.LC15:
 1259 001c 6D656D5F 		.ascii	"mem_malloc: allocated memory not above ram_end.\000"
 1259      6D616C6C 
 1259      6F633A20 
 1259      616C6C6F 
 1259      63617465 
 1260              		.align	2
 1261              	.LC16:
 1262 004c 6D656D5F 		.ascii	"mem_malloc: allocated memory properly aligned.\000"
 1262      6D616C6C 
 1262      6F633A20 
 1262      616C6C6F 
 1262      63617465 
 1263 007b 00       		.align	2
 1264              	.LC17:
 1265 007c 6D656D5F 		.ascii	"mem_malloc: sanity check alignment\000"
 1265      6D616C6C 
 1265      6F633A20 
 1265      73616E69 
 1265      74792063 
 1266              		.section	.text.mem_malloc,"ax",%progbits
 1267              		.align	1
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 43


 1268              		.global	mem_malloc
 1269              		.syntax unified
 1270              		.thumb
 1271              		.thumb_func
 1273              	mem_malloc:
 1274              	.LVL122:
 1275              	.LFB371:
 821:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 822:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 823:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Allocate a block of memory with a minimum of 'size' bytes.
 824:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 825:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size_in is the minimum size of the requested block in bytes.
 826:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return pointer to allocated memory or NULL if no free memory was found.
 827:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 828:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Note that the returned value will always be aligned (as defined by MEM_ALIGNMENT).
 829:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 830:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 831:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc(mem_size_t size_in)
 832:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 1276              		.loc 1 832 1 is_stmt 1 view -0
 1277              		.cfi_startproc
 1278              		@ args = 0, pretend = 0, frame = 0
 1279              		@ frame_needed = 0, uses_anonymous_args = 0
 833:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t ptr, ptr2, size;
 1280              		.loc 1 833 3 view .LVU405
 834:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem, *mem2;
 1281              		.loc 1 834 3 view .LVU406
 835:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 836:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t local_mem_free_count = 0;
 837:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 838:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_ALLOC_DECL_PROTECT();
 1282              		.loc 1 838 32 view .LVU407
 839:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 840:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (size_in == 0) {
 1283              		.loc 1 840 3 view .LVU408
 1284              		.loc 1 840 6 is_stmt 0 view .LVU409
 1285 0000 0028     		cmp	r0, #0
 1286 0002 00F0A780 		beq	.L100
 832:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t ptr, ptr2, size;
 1287              		.loc 1 832 1 view .LVU410
 1288 0006 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1289              	.LCFI6:
 1290              		.cfi_def_cfa_offset 24
 1291              		.cfi_offset 4, -24
 1292              		.cfi_offset 5, -20
 1293              		.cfi_offset 6, -16
 1294              		.cfi_offset 7, -12
 1295              		.cfi_offset 8, -8
 1296              		.cfi_offset 14, -4
 1297 000a 0346     		mov	r3, r0
 841:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 842:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 843:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 844:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Expand the size of the allocated memory region so that we can
 845:Middlewares/Third_Party/LwIP/src/core/mem.c ****      adjust for alignment. */
 846:Middlewares/Third_Party/LwIP/src/core/mem.c ****   size = (mem_size_t)LWIP_MEM_ALIGN_SIZE(size_in);
 1298              		.loc 1 846 3 is_stmt 1 view .LVU411
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 44


 1299              		.loc 1 846 22 is_stmt 0 view .LVU412
 1300 000c C61C     		adds	r6, r0, #3
 1301 000e B6B2     		uxth	r6, r6
 1302              		.loc 1 846 8 view .LVU413
 1303 0010 26F00306 		bic	r6, r6, #3
 1304 0014 B6B2     		uxth	r6, r6
 1305              	.LVL123:
 847:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (size < MIN_SIZE_ALIGNED) {
 1306              		.loc 1 847 3 is_stmt 1 view .LVU414
 1307              		.loc 1 847 6 is_stmt 0 view .LVU415
 1308 0016 0B2E     		cmp	r6, #11
 1309 0018 00D8     		bhi	.L86
 848:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* every data block must be at least MIN_SIZE_ALIGNED long */
 849:Middlewares/Third_Party/LwIP/src/core/mem.c ****     size = MIN_SIZE_ALIGNED;
 1310              		.loc 1 849 10 view .LVU416
 1311 001a 0C26     		movs	r6, #12
 1312              	.LVL124:
 1313              	.L86:
 850:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 851:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 852:Middlewares/Third_Party/LwIP/src/core/mem.c ****   size += MEM_SANITY_REGION_BEFORE_ALIGNED + MEM_SANITY_REGION_AFTER_ALIGNED;
 853:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 854:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((size > MEM_SIZE_ALIGNED) || (size < size_in)) {
 1314              		.loc 1 854 3 is_stmt 1 view .LVU417
 1315              		.loc 1 854 42 is_stmt 0 view .LVU418
 1316 001c 9E42     		cmp	r6, r3
 1317 001e 2CBF     		ite	cs
 1318 0020 0023     		movcs	r3, #0
 1319 0022 0123     		movcc	r3, #1
 1320              		.loc 1 854 33 view .LVU419
 1321 0024 B6F5605F 		cmp	r6, #14336
 1322 0028 88BF     		it	hi
 1323 002a 43F00103 		orrhi	r3, r3, #1
 1324              		.loc 1 854 6 view .LVU420
 1325 002e 002B     		cmp	r3, #0
 1326 0030 40F09280 		bne	.L102
 855:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 856:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 857:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 858:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* protect the heap from concurrent access */
 859:Middlewares/Third_Party/LwIP/src/core/mem.c ****   sys_mutex_lock(&mem_mutex);
 1327              		.loc 1 859 3 is_stmt 1 view .LVU421
 1328 0034 4948     		ldr	r0, .L112
 1329              	.LVL125:
 1330              		.loc 1 859 3 is_stmt 0 view .LVU422
 1331 0036 FFF7FEFF 		bl	sys_mutex_lock
 1332              	.LVL126:
 860:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_ALLOC_PROTECT();
 1333              		.loc 1 860 27 is_stmt 1 view .LVU423
 861:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 862:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* run as long as a mem_free disturbed mem_malloc or mem_trim */
 863:Middlewares/Third_Party/LwIP/src/core/mem.c ****   do {
 864:Middlewares/Third_Party/LwIP/src/core/mem.c ****     local_mem_free_count = 0;
 865:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 866:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 867:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Scan through the heap searching for a free block that is big enough,
 868:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * beginning with the lowest free block.
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 45


 869:Middlewares/Third_Party/LwIP/src/core/mem.c ****      */
 870:Middlewares/Third_Party/LwIP/src/core/mem.c ****     for (ptr = mem_to_ptr(lfree); ptr < MEM_SIZE_ALIGNED - size;
 1334              		.loc 1 870 5 view .LVU424
 1335              		.loc 1 870 16 is_stmt 0 view .LVU425
 1336 003a 494B     		ldr	r3, .L112+4
 1337 003c 1868     		ldr	r0, [r3]
 1338 003e FFF7FEFF 		bl	mem_to_ptr
 1339              	.LVL127:
 1340 0042 0546     		mov	r5, r0
 1341              	.LVL128:
 1342              		.loc 1 870 5 view .LVU426
 1343 0044 4FE0     		b	.L87
 1344              	.LVL129:
 1345              	.L111:
 871:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 872:Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem = ptr_to_mem(ptr);
 873:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 874:Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem_free_count = 0;
 875:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_MEM_ALLOC_UNPROTECT();
 876:Middlewares/Third_Party/LwIP/src/core/mem.c ****       /* allow mem_free or mem_trim to run */
 877:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_MEM_ALLOC_PROTECT();
 878:Middlewares/Third_Party/LwIP/src/core/mem.c ****       if (mem_free_count != 0) {
 879:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* If mem_free or mem_trim have run, we have to restart since they
 880:Middlewares/Third_Party/LwIP/src/core/mem.c ****            could have altered our current struct mem. */
 881:Middlewares/Third_Party/LwIP/src/core/mem.c ****         local_mem_free_count = 1;
 882:Middlewares/Third_Party/LwIP/src/core/mem.c ****         break;
 883:Middlewares/Third_Party/LwIP/src/core/mem.c ****       }
 884:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 885:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 886:Middlewares/Third_Party/LwIP/src/core/mem.c ****       if ((!mem->used) &&
 887:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 888:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* mem is not used and at least perfect fit is possible:
 889:Middlewares/Third_Party/LwIP/src/core/mem.c ****          * mem->next - (ptr + SIZEOF_STRUCT_MEM) gives us the 'user data size' of mem */
 890:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 891:Middlewares/Third_Party/LwIP/src/core/mem.c ****         if (mem->next - (ptr + SIZEOF_STRUCT_MEM) >= (size + SIZEOF_STRUCT_MEM + MIN_SIZE_ALIGNED))
 892:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 893:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * at least MIN_SIZE_ALIGNED of data also fits in the 'user data space' of 'mem')
 894:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * -> split large block, create empty remainder,
 895:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * remainder must be large enough to contain MIN_SIZE_ALIGNED data: if
 896:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * mem->next - (ptr + (2*SIZEOF_STRUCT_MEM)) == size,
 897:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * struct mem would fit in but no data between mem2 and mem2->next
 898:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * @todo we could leave out MIN_SIZE_ALIGNED. We would create an empty
 899:Middlewares/Third_Party/LwIP/src/core/mem.c ****            *       region that couldn't hold data, but when mem->next gets freed,
 900:Middlewares/Third_Party/LwIP/src/core/mem.c ****            *       the 2 regions would be combined, resulting in more free memory
 901:Middlewares/Third_Party/LwIP/src/core/mem.c ****            */
 902:Middlewares/Third_Party/LwIP/src/core/mem.c ****           ptr2 = (mem_size_t)(ptr + SIZEOF_STRUCT_MEM + size);
 903:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1346              		.loc 1 903 11 is_stmt 1 discriminator 1 view .LVU427
 1347              		.loc 1 903 11 discriminator 1 view .LVU428
 1348 0046 474B     		ldr	r3, .L112+8
 1349 0048 40F28732 		movw	r2, #903
 1350 004c 4649     		ldr	r1, .L112+12
 1351 004e 4748     		ldr	r0, .L112+16
 1352              	.LVL130:
 1353              		.loc 1 903 11 is_stmt 0 discriminator 1 view .LVU429
 1354 0050 FFF7FEFF 		bl	printf
 1355              	.LVL131:
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 46


 1356 0054 65E0     		b	.L90
 1357              	.LVL132:
 1358              	.L89:
 904:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 905:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2 = ptr_to_mem(ptr2);
 906:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->used = 0;
 907:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->next = mem->next;
 908:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 909:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* and insert it between mem and mem->next */
 910:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->next = ptr2;
 911:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 912:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 913:Middlewares/Third_Party/LwIP/src/core/mem.c ****           if (mem2->next != MEM_SIZE_ALIGNED) {
 914:Middlewares/Third_Party/LwIP/src/core/mem.c ****             ptr_to_mem(mem2->next)->prev = ptr2;
 915:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 916:Middlewares/Third_Party/LwIP/src/core/mem.c ****           MEM_STATS_INC_USED(used, (size + SIZEOF_STRUCT_MEM));
 917:Middlewares/Third_Party/LwIP/src/core/mem.c ****         } else {
 918:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (a mem2 struct does no fit into the user data space of mem and mem->next will always
 919:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * be used at this point: if not we have 2 unused structs in a row, plug_holes should hav
 920:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * take care of this).
 921:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * -> near fit or exact fit: do not split, no mem2 creation
 922:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * also can't move mem->next directly behind mem, since mem->next
 923:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * will always be used at this point!
 924:Middlewares/Third_Party/LwIP/src/core/mem.c ****            */
 925:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 1359              		.loc 1 925 11 is_stmt 1 view .LVU430
 1360              		.loc 1 925 21 is_stmt 0 view .LVU431
 1361 0056 0123     		movs	r3, #1
 1362 0058 0371     		strb	r3, [r0, #4]
 1363              	.LVL133:
 1364              	.L91:
 926:Middlewares/Third_Party/LwIP/src/core/mem.c ****           MEM_STATS_INC_USED(used, mem->next - mem_to_ptr(mem));
 1365              		.loc 1 926 64 is_stmt 1 view .LVU432
 927:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 928:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 929:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc_adjust_lfree:
 930:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 931:Middlewares/Third_Party/LwIP/src/core/mem.c ****         if (mem == lfree) {
 1366              		.loc 1 931 9 view .LVU433
 1367              		.loc 1 931 17 is_stmt 0 view .LVU434
 1368 005a 414B     		ldr	r3, .L112+4
 1369 005c 1868     		ldr	r0, [r3]
 1370              		.loc 1 931 12 view .LVU435
 1371 005e A042     		cmp	r0, r4
 1372 0060 12D0     		beq	.L92
 1373              	.L93:
 1374              	.LBB9:
 932:Middlewares/Third_Party/LwIP/src/core/mem.c ****           struct mem *cur = lfree;
 933:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* Find next free block after mem and update lowest free pointer */
 934:Middlewares/Third_Party/LwIP/src/core/mem.c ****           while (cur->used && cur != ram_end) {
 935:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 936:Middlewares/Third_Party/LwIP/src/core/mem.c ****             mem_free_count = 0;
 937:Middlewares/Third_Party/LwIP/src/core/mem.c ****             LWIP_MEM_ALLOC_UNPROTECT();
 938:Middlewares/Third_Party/LwIP/src/core/mem.c ****             /* prevent high interrupt latency... */
 939:Middlewares/Third_Party/LwIP/src/core/mem.c ****             LWIP_MEM_ALLOC_PROTECT();
 940:Middlewares/Third_Party/LwIP/src/core/mem.c ****             if (mem_free_count != 0) {
 941:Middlewares/Third_Party/LwIP/src/core/mem.c ****               /* If mem_free or mem_trim have run, we have to restart since they
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 47


 942:Middlewares/Third_Party/LwIP/src/core/mem.c ****                  could have altered our current struct mem or lfree. */
 943:Middlewares/Third_Party/LwIP/src/core/mem.c ****               goto mem_malloc_adjust_lfree;
 944:Middlewares/Third_Party/LwIP/src/core/mem.c ****             }
 945:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 946:Middlewares/Third_Party/LwIP/src/core/mem.c ****             cur = ptr_to_mem(cur->next);
 947:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 948:Middlewares/Third_Party/LwIP/src/core/mem.c ****           lfree = cur;
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("mem_malloc: !lfree->used", ((lfree == ram_end) || (!lfree->used)));
 1375              		.loc 1 949 11 is_stmt 1 discriminator 5 view .LVU436
 1376              		.loc 1 949 11 discriminator 5 view .LVU437
 1377              	.LBE9:
 950:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 951:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_MEM_ALLOC_UNPROTECT();
 1378              		.loc 1 951 35 discriminator 5 view .LVU438
 952:Middlewares/Third_Party/LwIP/src/core/mem.c ****         sys_mutex_unlock(&mem_mutex);
 1379              		.loc 1 952 9 discriminator 5 view .LVU439
 1380 0062 3E48     		ldr	r0, .L112
 1381 0064 FFF7FEFF 		bl	sys_mutex_unlock
 1382              	.LVL134:
 953:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("mem_malloc: allocated memory not above ram_end.",
 1383              		.loc 1 953 9 discriminator 5 view .LVU440
 1384              		.loc 1 953 9 discriminator 5 view .LVU441
 1385 0068 2744     		add	r7, r7, r4
 1386 006a 0837     		adds	r7, r7, #8
 1387 006c 404B     		ldr	r3, .L112+20
 1388 006e 1B68     		ldr	r3, [r3]
 1389 0070 9F42     		cmp	r7, r3
 1390 0072 1FD8     		bhi	.L107
 1391              	.L96:
 1392              		.loc 1 953 9 discriminator 3 view .LVU442
 1393              		.loc 1 953 9 discriminator 3 view .LVU443
 954:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (mem_ptr_t)mem + SIZEOF_STRUCT_MEM + size <= (mem_ptr_t)ram_end);
 955:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("mem_malloc: allocated memory properly aligned.",
 1394              		.loc 1 955 9 discriminator 3 view .LVU444
 1395              		.loc 1 955 9 discriminator 3 view .LVU445
 1396 0074 14F00305 		ands	r5, r4, #3
 1397              	.LVL135:
 1398              		.loc 1 955 9 is_stmt 0 discriminator 3 view .LVU446
 1399 0078 24D1     		bne	.L108
 1400              	.L97:
 1401              		.loc 1 955 9 is_stmt 1 discriminator 3 view .LVU447
 1402              		.loc 1 955 9 discriminator 3 view .LVU448
 956:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     ((mem_ptr_t)mem + SIZEOF_STRUCT_MEM) % MEM_ALIGNMENT == 0);
 957:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("mem_malloc: sanity check alignment",
 1403              		.loc 1 957 9 discriminator 3 view .LVU449
 1404              		.loc 1 957 9 discriminator 3 view .LVU450
 1405 007a 5DBB     		cbnz	r5, .L109
 1406              	.L98:
 1407              		.loc 1 957 9 discriminator 3 view .LVU451
 1408              		.loc 1 957 9 discriminator 3 view .LVU452
 958:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (((mem_ptr_t)mem) & (MEM_ALIGNMENT - 1)) == 0);
 959:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 960:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 961:Middlewares/Third_Party/LwIP/src/core/mem.c ****         mem_overflow_init_element(mem, size_in);
 962:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 963:Middlewares/Third_Party/LwIP/src/core/mem.c ****         MEM_SANITY();
 1409              		.loc 1 963 21 discriminator 3 view .LVU453
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 48


 964:Middlewares/Third_Party/LwIP/src/core/mem.c ****         return (u8_t *)mem + SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET;
 1410              		.loc 1 964 9 discriminator 3 view .LVU454
 1411              		.loc 1 964 48 is_stmt 0 discriminator 3 view .LVU455
 1412 007c 04F10800 		add	r0, r4, #8
 1413 0080 66E0     		b	.L84
 1414              	.LVL136:
 1415              	.L95:
 1416              	.LBB10:
 946:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1417              		.loc 1 946 13 is_stmt 1 view .LVU456
 946:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1418              		.loc 1 946 19 is_stmt 0 view .LVU457
 1419 0082 0088     		ldrh	r0, [r0]
 1420              	.LVL137:
 946:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1421              		.loc 1 946 19 view .LVU458
 1422 0084 FFF7FEFF 		bl	ptr_to_mem
 1423              	.LVL138:
 1424              	.L92:
 934:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1425              		.loc 1 934 17 is_stmt 1 view .LVU459
 934:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1426              		.loc 1 934 21 is_stmt 0 view .LVU460
 1427 0088 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 934:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1428              		.loc 1 934 17 view .LVU461
 1429 008a 1BB1     		cbz	r3, .L94
 934:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1430              		.loc 1 934 35 discriminator 1 view .LVU462
 1431 008c 384A     		ldr	r2, .L112+20
 1432 008e 1268     		ldr	r2, [r2]
 934:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1433              		.loc 1 934 28 discriminator 1 view .LVU463
 1434 0090 8242     		cmp	r2, r0
 1435 0092 F6D1     		bne	.L95
 1436              	.L94:
 948:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("mem_malloc: !lfree->used", ((lfree == ram_end) || (!lfree->used)));
 1437              		.loc 1 948 11 is_stmt 1 view .LVU464
 948:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("mem_malloc: !lfree->used", ((lfree == ram_end) || (!lfree->used)));
 1438              		.loc 1 948 17 is_stmt 0 view .LVU465
 1439 0094 324A     		ldr	r2, .L112+4
 1440 0096 1060     		str	r0, [r2]
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1441              		.loc 1 949 11 is_stmt 1 view .LVU466
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1442              		.loc 1 949 11 view .LVU467
 1443 0098 354A     		ldr	r2, .L112+20
 1444 009a 1268     		ldr	r2, [r2]
 1445 009c 8242     		cmp	r2, r0
 1446 009e E0D0     		beq	.L93
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1447              		.loc 1 949 11 is_stmt 0 discriminator 1 view .LVU468
 1448 00a0 002B     		cmp	r3, #0
 1449 00a2 DED0     		beq	.L93
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1450              		.loc 1 949 11 is_stmt 1 discriminator 3 view .LVU469
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 49


 1451              		.loc 1 949 11 discriminator 3 view .LVU470
 1452 00a4 2F4B     		ldr	r3, .L112+8
 1453 00a6 40F2B532 		movw	r2, #949
 1454 00aa 3249     		ldr	r1, .L112+24
 1455 00ac 2F48     		ldr	r0, .L112+16
 1456              	.LVL139:
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1457              		.loc 1 949 11 is_stmt 0 discriminator 3 view .LVU471
 1458 00ae FFF7FEFF 		bl	printf
 1459              	.LVL140:
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1460              		.loc 1 949 11 discriminator 3 view .LVU472
 1461 00b2 D6E7     		b	.L93
 1462              	.L107:
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1463              		.loc 1 949 11 discriminator 3 view .LVU473
 1464              	.LBE10:
 953:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (mem_ptr_t)mem + SIZEOF_STRUCT_MEM + size <= (mem_ptr_t)ram_end);
 1465              		.loc 1 953 9 is_stmt 1 discriminator 1 view .LVU474
 953:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (mem_ptr_t)mem + SIZEOF_STRUCT_MEM + size <= (mem_ptr_t)ram_end);
 1466              		.loc 1 953 9 discriminator 1 view .LVU475
 1467 00b4 2B4B     		ldr	r3, .L112+8
 1468 00b6 40F2B932 		movw	r2, #953
 1469 00ba 2F49     		ldr	r1, .L112+28
 1470 00bc 2B48     		ldr	r0, .L112+16
 1471 00be FFF7FEFF 		bl	printf
 1472              	.LVL141:
 1473 00c2 D7E7     		b	.L96
 1474              	.LVL142:
 1475              	.L108:
 955:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     ((mem_ptr_t)mem + SIZEOF_STRUCT_MEM) % MEM_ALIGNMENT == 0);
 1476              		.loc 1 955 9 discriminator 1 view .LVU476
 955:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     ((mem_ptr_t)mem + SIZEOF_STRUCT_MEM) % MEM_ALIGNMENT == 0);
 1477              		.loc 1 955 9 discriminator 1 view .LVU477
 1478 00c4 274B     		ldr	r3, .L112+8
 1479 00c6 40F2BB32 		movw	r2, #955
 1480 00ca 2C49     		ldr	r1, .L112+32
 1481 00cc 2748     		ldr	r0, .L112+16
 1482 00ce FFF7FEFF 		bl	printf
 1483              	.LVL143:
 1484 00d2 D2E7     		b	.L97
 1485              	.L109:
 957:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (((mem_ptr_t)mem) & (MEM_ALIGNMENT - 1)) == 0);
 1486              		.loc 1 957 9 discriminator 1 view .LVU478
 957:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (((mem_ptr_t)mem) & (MEM_ALIGNMENT - 1)) == 0);
 1487              		.loc 1 957 9 discriminator 1 view .LVU479
 1488 00d4 234B     		ldr	r3, .L112+8
 1489 00d6 40F2BD32 		movw	r2, #957
 1490 00da 2949     		ldr	r1, .L112+36
 1491 00dc 2348     		ldr	r0, .L112+16
 1492 00de FFF7FEFF 		bl	printf
 1493              	.LVL144:
 1494 00e2 CBE7     		b	.L98
 1495              	.LVL145:
 1496              	.L88:
 871:Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem = ptr_to_mem(ptr);
 1497              		.loc 1 871 10 view .LVU480
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 50


 871:Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem = ptr_to_mem(ptr);
 1498              		.loc 1 871 14 is_stmt 0 view .LVU481
 1499 00e4 2588     		ldrh	r5, [r4]
 1500              	.LVL146:
 1501              	.L87:
 870:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 1502              		.loc 1 870 35 is_stmt 1 discriminator 1 view .LVU482
 870:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 1503              		.loc 1 870 39 is_stmt 0 discriminator 1 view .LVU483
 1504 00e6 A846     		mov	r8, r5
 870:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 1505              		.loc 1 870 58 discriminator 1 view .LVU484
 1506 00e8 3746     		mov	r7, r6
 1507 00ea C6F56053 		rsb	r3, r6, #14336
 870:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 1508              		.loc 1 870 5 discriminator 1 view .LVU485
 1509 00ee 9D42     		cmp	r5, r3
 1510 00f0 2AD2     		bcs	.L110
 872:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1511              		.loc 1 872 7 is_stmt 1 view .LVU486
 872:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1512              		.loc 1 872 13 is_stmt 0 view .LVU487
 1513 00f2 2846     		mov	r0, r5
 1514 00f4 FFF7FEFF 		bl	ptr_to_mem
 1515              	.LVL147:
 1516 00f8 0446     		mov	r4, r0
 1517              	.LVL148:
 886:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1518              		.loc 1 886 7 is_stmt 1 view .LVU488
 886:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1519              		.loc 1 886 16 is_stmt 0 view .LVU489
 1520 00fa 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 886:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1521              		.loc 1 886 10 view .LVU490
 1522 00fc 002B     		cmp	r3, #0
 1523 00fe F1D1     		bne	.L88
 887:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* mem is not used and at least perfect fit is possible:
 1524              		.loc 1 887 15 discriminator 1 view .LVU491
 1525 0100 0388     		ldrh	r3, [r0]
 887:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* mem is not used and at least perfect fit is possible:
 1526              		.loc 1 887 22 discriminator 1 view .LVU492
 1527 0102 A3EB0803 		sub	r3, r3, r8
 1528 0106 083B     		subs	r3, r3, #8
 886:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1529              		.loc 1 886 24 discriminator 1 view .LVU493
 1530 0108 BB42     		cmp	r3, r7
 1531 010a EBD3     		bcc	.L88
 891:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 1532              		.loc 1 891 9 is_stmt 1 view .LVU494
 891:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 1533              		.loc 1 891 80 is_stmt 0 view .LVU495
 1534 010c 07F11402 		add	r2, r7, #20
 891:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 1535              		.loc 1 891 12 view .LVU496
 1536 0110 9342     		cmp	r3, r2
 1537 0112 A0D3     		bcc	.L89
 902:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 51


 1538              		.loc 1 902 11 is_stmt 1 view .LVU497
 902:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1539              		.loc 1 902 55 is_stmt 0 view .LVU498
 1540 0114 2E44     		add	r6, r6, r5
 1541              	.LVL149:
 902:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1542              		.loc 1 902 55 view .LVU499
 1543 0116 B6B2     		uxth	r6, r6
 902:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1544              		.loc 1 902 16 view .LVU500
 1545 0118 0836     		adds	r6, r6, #8
 1546 011a B6B2     		uxth	r6, r6
 1547              	.LVL150:
 903:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1548              		.loc 1 903 11 is_stmt 1 view .LVU501
 903:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1549              		.loc 1 903 11 view .LVU502
 1550 011c B6F5605F 		cmp	r6, #14336
 1551 0120 91D0     		beq	.L111
 1552              	.LVL151:
 1553              	.L90:
 903:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1554              		.loc 1 903 11 discriminator 3 view .LVU503
 903:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1555              		.loc 1 903 11 discriminator 3 view .LVU504
 905:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->used = 0;
 1556              		.loc 1 905 11 discriminator 3 view .LVU505
 905:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->used = 0;
 1557              		.loc 1 905 18 is_stmt 0 discriminator 3 view .LVU506
 1558 0122 3046     		mov	r0, r6
 1559 0124 FFF7FEFF 		bl	ptr_to_mem
 1560              	.LVL152:
 906:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->next = mem->next;
 1561              		.loc 1 906 11 is_stmt 1 discriminator 3 view .LVU507
 906:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->next = mem->next;
 1562              		.loc 1 906 22 is_stmt 0 discriminator 3 view .LVU508
 1563 0128 0023     		movs	r3, #0
 1564 012a 0371     		strb	r3, [r0, #4]
 907:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 1565              		.loc 1 907 11 is_stmt 1 discriminator 3 view .LVU509
 907:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 1566              		.loc 1 907 27 is_stmt 0 discriminator 3 view .LVU510
 1567 012c 2388     		ldrh	r3, [r4]
 907:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 1568              		.loc 1 907 22 discriminator 3 view .LVU511
 1569 012e 0380     		strh	r3, [r0]	@ movhi
 908:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* and insert it between mem and mem->next */
 1570              		.loc 1 908 11 is_stmt 1 discriminator 3 view .LVU512
 908:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* and insert it between mem and mem->next */
 1571              		.loc 1 908 22 is_stmt 0 discriminator 3 view .LVU513
 1572 0130 4580     		strh	r5, [r0, #2]	@ movhi
 910:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 1573              		.loc 1 910 11 is_stmt 1 discriminator 3 view .LVU514
 910:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 1574              		.loc 1 910 21 is_stmt 0 discriminator 3 view .LVU515
 1575 0132 2680     		strh	r6, [r4]	@ movhi
 911:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 52


 1576              		.loc 1 911 11 is_stmt 1 discriminator 3 view .LVU516
 911:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 1577              		.loc 1 911 21 is_stmt 0 discriminator 3 view .LVU517
 1578 0134 0123     		movs	r3, #1
 1579 0136 2371     		strb	r3, [r4, #4]
 913:Middlewares/Third_Party/LwIP/src/core/mem.c ****             ptr_to_mem(mem2->next)->prev = ptr2;
 1580              		.loc 1 913 11 is_stmt 1 discriminator 3 view .LVU518
 913:Middlewares/Third_Party/LwIP/src/core/mem.c ****             ptr_to_mem(mem2->next)->prev = ptr2;
 1581              		.loc 1 913 19 is_stmt 0 discriminator 3 view .LVU519
 1582 0138 0088     		ldrh	r0, [r0]
 1583              	.LVL153:
 913:Middlewares/Third_Party/LwIP/src/core/mem.c ****             ptr_to_mem(mem2->next)->prev = ptr2;
 1584              		.loc 1 913 14 discriminator 3 view .LVU520
 1585 013a B0F5605F 		cmp	r0, #14336
 1586 013e 8CD0     		beq	.L91
 914:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1587              		.loc 1 914 13 is_stmt 1 view .LVU521
 1588 0140 FFF7FEFF 		bl	ptr_to_mem
 1589              	.LVL154:
 914:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1590              		.loc 1 914 42 is_stmt 0 view .LVU522
 1591 0144 4680     		strh	r6, [r0, #2]	@ movhi
 1592 0146 88E7     		b	.L91
 1593              	.LVL155:
 1594              	.L110:
 965:Middlewares/Third_Party/LwIP/src/core/mem.c ****       }
 966:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 967:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 968:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if we got interrupted by a mem_free, try again */
 969:Middlewares/Third_Party/LwIP/src/core/mem.c ****   } while (local_mem_free_count != 0);
 970:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 971:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_INC(err);
 1595              		.loc 1 971 21 is_stmt 1 view .LVU523
 972:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_ALLOC_UNPROTECT();
 1596              		.loc 1 972 29 view .LVU524
 973:Middlewares/Third_Party/LwIP/src/core/mem.c ****   sys_mutex_unlock(&mem_mutex);
 1597              		.loc 1 973 3 view .LVU525
 1598 0148 0448     		ldr	r0, .L112
 1599 014a FFF7FEFF 		bl	sys_mutex_unlock
 1600              	.LVL156:
 974:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("mem_malloc: could not allocate %"S16_F" bytes\n
 1601              		.loc 1 974 116 view .LVU526
 975:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return NULL;
 1602              		.loc 1 975 3 view .LVU527
 1603              		.loc 1 975 10 is_stmt 0 view .LVU528
 1604 014e 0020     		movs	r0, #0
 1605              	.LVL157:
 1606              	.L84:
 976:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 1607              		.loc 1 976 1 view .LVU529
 1608 0150 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1609              	.LVL158:
 1610              	.L100:
 1611              	.LCFI7:
 1612              		.cfi_def_cfa_offset 0
 1613              		.cfi_restore 4
 1614              		.cfi_restore 5
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 53


 1615              		.cfi_restore 6
 1616              		.cfi_restore 7
 1617              		.cfi_restore 8
 1618              		.cfi_restore 14
 841:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1619              		.loc 1 841 12 view .LVU530
 1620 0154 0020     		movs	r0, #0
 1621              	.LVL159:
 1622              		.loc 1 976 1 view .LVU531
 1623 0156 7047     		bx	lr
 1624              	.LVL160:
 1625              	.L102:
 1626              	.LCFI8:
 1627              		.cfi_def_cfa_offset 24
 1628              		.cfi_offset 4, -24
 1629              		.cfi_offset 5, -20
 1630              		.cfi_offset 6, -16
 1631              		.cfi_offset 7, -12
 1632              		.cfi_offset 8, -8
 1633              		.cfi_offset 14, -4
 855:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1634              		.loc 1 855 12 view .LVU532
 1635 0158 0020     		movs	r0, #0
 1636              	.LVL161:
 855:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1637              		.loc 1 855 12 view .LVU533
 1638 015a F9E7     		b	.L84
 1639              	.L113:
 1640              		.align	2
 1641              	.L112:
 1642 015c 00000000 		.word	.LANCHOR3
 1643 0160 00000000 		.word	.LANCHOR2
 1644 0164 00000000 		.word	.LC0
 1645 0168 38000000 		.word	.LC13
 1646 016c 44000000 		.word	.LC2
 1647 0170 00000000 		.word	.LANCHOR1
 1648 0174 00000000 		.word	.LC14
 1649 0178 1C000000 		.word	.LC15
 1650 017c 4C000000 		.word	.LC16
 1651 0180 7C000000 		.word	.LC17
 1652              		.cfi_endproc
 1653              	.LFE371:
 1655              		.section	.text.mem_calloc,"ax",%progbits
 1656              		.align	1
 1657              		.global	mem_calloc
 1658              		.syntax unified
 1659              		.thumb
 1660              		.thumb_func
 1662              	mem_calloc:
 1663              	.LVL162:
 1664              	.LFB372:
 977:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 978:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_USE_POOLS */
 979:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 980:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC && (!LWIP_STATS || !MEM_STATS)
 981:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 982:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_calloc(mem_size_t count, mem_size_t size)
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 54


 983:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 984:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return mem_clib_calloc(count, size);
 985:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 986:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 987:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_LIBC_MALLOC && (!LWIP_STATS || !MEM_STATS) */
 988:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 989:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Contiguously allocates enough space for count objects that are size bytes
 990:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * of memory each and returns a pointer to the allocated memory.
 991:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 992:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * The allocated memory is filled with bytes of value zero.
 993:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 994:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param count number of objects to allocate
 995:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size size of the objects to allocate
 996:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return pointer to allocated memory / NULL pointer if there is an error
 997:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 998:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 999:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_calloc(mem_size_t count, mem_size_t size)
1000:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 1665              		.loc 1 1000 1 is_stmt 1 view -0
 1666              		.cfi_startproc
 1667              		@ args = 0, pretend = 0, frame = 0
 1668              		@ frame_needed = 0, uses_anonymous_args = 0
 1669              		.loc 1 1000 1 is_stmt 0 view .LVU535
 1670 0000 38B5     		push	{r3, r4, r5, lr}
 1671              	.LCFI9:
 1672              		.cfi_def_cfa_offset 16
 1673              		.cfi_offset 3, -16
 1674              		.cfi_offset 4, -12
 1675              		.cfi_offset 5, -8
 1676              		.cfi_offset 14, -4
1001:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *p;
 1677              		.loc 1 1001 3 is_stmt 1 view .LVU536
1002:Middlewares/Third_Party/LwIP/src/core/mem.c ****   size_t alloc_size = (size_t)count * (size_t)size;
 1678              		.loc 1 1002 3 view .LVU537
 1679              		.loc 1 1002 10 is_stmt 0 view .LVU538
 1680 0002 01FB00F4 		mul	r4, r1, r0
 1681              	.LVL163:
1003:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
1004:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((size_t)(mem_size_t)alloc_size != alloc_size) {
 1682              		.loc 1 1004 3 is_stmt 1 view .LVU539
 1683              		.loc 1 1004 15 is_stmt 0 view .LVU540
 1684 0006 A0B2     		uxth	r0, r4
 1685              	.LVL164:
 1686              		.loc 1 1004 6 view .LVU541
 1687 0008 8442     		cmp	r4, r0
 1688 000a 08D1     		bne	.L116
1005:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("mem_calloc: could not allocate %"SZT_F" bytes
1006:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
1007:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
1008:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
1009:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* allocate 'count' objects of size 'size' */
1010:Middlewares/Third_Party/LwIP/src/core/mem.c ****   p = mem_malloc((mem_size_t)alloc_size);
 1689              		.loc 1 1010 3 is_stmt 1 view .LVU542
 1690              		.loc 1 1010 7 is_stmt 0 view .LVU543
 1691 000c FFF7FEFF 		bl	mem_malloc
 1692              	.LVL165:
1011:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (p) {
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 55


 1693              		.loc 1 1011 3 is_stmt 1 view .LVU544
 1694              		.loc 1 1011 6 is_stmt 0 view .LVU545
 1695 0010 0546     		mov	r5, r0
 1696 0012 28B1     		cbz	r0, .L114
1012:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* zero the memory */
1013:Middlewares/Third_Party/LwIP/src/core/mem.c ****     memset(p, 0, alloc_size);
 1697              		.loc 1 1013 5 is_stmt 1 view .LVU546
 1698 0014 2246     		mov	r2, r4
 1699 0016 0021     		movs	r1, #0
 1700 0018 FFF7FEFF 		bl	memset
 1701              	.LVL166:
 1702              		.loc 1 1013 5 is_stmt 0 view .LVU547
 1703 001c 00E0     		b	.L114
 1704              	.LVL167:
 1705              	.L116:
1006:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1706              		.loc 1 1006 12 view .LVU548
 1707 001e 0025     		movs	r5, #0
 1708              	.LVL168:
 1709              	.L114:
1014:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
1015:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return p;
1016:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 1710              		.loc 1 1016 1 view .LVU549
 1711 0020 2846     		mov	r0, r5
 1712 0022 38BD     		pop	{r3, r4, r5, pc}
 1713              		.loc 1 1016 1 view .LVU550
 1714              		.cfi_endproc
 1715              	.LFE372:
 1717              		.section	.bss.lfree,"aw",%nobits
 1718              		.align	2
 1719              		.set	.LANCHOR2,. + 0
 1722              	lfree:
 1723 0000 00000000 		.space	4
 1724              		.section	.bss.mem_mutex,"aw",%nobits
 1725              		.align	2
 1726              		.set	.LANCHOR3,. + 0
 1729              	mem_mutex:
 1730 0000 00000000 		.space	4
 1731              		.section	.bss.ram,"aw",%nobits
 1732              		.align	2
 1733              		.set	.LANCHOR0,. + 0
 1736              	ram:
 1737 0000 00000000 		.space	4
 1738              		.section	.bss.ram_end,"aw",%nobits
 1739              		.align	2
 1740              		.set	.LANCHOR1,. + 0
 1743              	ram_end:
 1744 0000 00000000 		.space	4
 1745              		.text
 1746              	.Letext0:
 1747              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1748              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1749              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\lib\\gcc\\arm-none-eabi\
 1750              		.file 5 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 1751              		.file 6 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 1752              		.file 7 "Middlewares/Third_Party/LwIP/src/include/lwip/mem.h"
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 56


 1753              		.file 8 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 1754              		.file 9 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 1755              		.file 10 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 1756              		.file 11 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 1757              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 1758              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 1759              		.file 14 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
 1760              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
 1761              		.file 16 "<built-in>"
ARM GAS  C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s 			page 57


DEFINED SYMBOLS
                            *ABS*:00000000 mem.c
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:19     .text.ptr_to_mem:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:24     .text.ptr_to_mem:00000000 ptr_to_mem
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:45     .text.ptr_to_mem:00000008 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:50     .text.mem_to_ptr:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:55     .text.mem_to_ptr:00000000 mem_to_ptr
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:75     .text.mem_to_ptr:0000000c $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:80     .text.mem_link_valid:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:85     .text.mem_link_valid:00000000 mem_link_valid
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:201    .text.mem_link_valid:00000058 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:206    .rodata.plug_holes.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:225    .text.plug_holes:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:230    .text.plug_holes:00000000 plug_holes
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:442    .text.plug_holes:000000dc $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:455    .rodata.mem_init.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:459    .text.mem_init:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:465    .text.mem_init:00000000 mem_init
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:554    .text.mem_init:00000048 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:566    .rodata.mem_free.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:579    .text.mem_free:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:585    .text.mem_free:00000000 mem_free
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:821    .text.mem_free:000000c8 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:835    .rodata.mem_trim.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:845    .text.mem_trim:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:851    .text.mem_trim:00000000 mem_trim
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1241   .text.mem_trim:00000180 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1254   .rodata.mem_malloc.str1.4:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1267   .text.mem_malloc:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1273   .text.mem_malloc:00000000 mem_malloc
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1642   .text.mem_malloc:0000015c $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1656   .text.mem_calloc:00000000 $t
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1662   .text.mem_calloc:00000000 mem_calloc
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1718   .bss.lfree:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1722   .bss.lfree:00000000 lfree
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1725   .bss.mem_mutex:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1729   .bss.mem_mutex:00000000 mem_mutex
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1732   .bss.ram:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1736   .bss.ram:00000000 ram
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1739   .bss.ram_end:00000000 $d
C:\Users\zdy\AppData\Local\Temp\ccEuBdQn.s:1743   .bss.ram_end:00000000 ram_end

UNDEFINED SYMBOLS
printf
sys_mutex_new
sys_arch_protect
sys_arch_unprotect
sys_mutex_lock
sys_mutex_unlock
memset
