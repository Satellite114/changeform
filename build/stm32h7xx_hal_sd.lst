ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"stm32h7xx_hal_sd.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c"
  19              		.section	.text.SD_PowerON,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	SD_PowerON:
  26              	.LVL0:
  27              	.LFB362:
   1:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
   2:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
   3:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @file    stm32h7xx_hal_sd.c
   4:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @author  MCD Application Team
   5:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief   SD card HAL module driver.
   6:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          functionalities of the Secure Digital (SD) peripheral:
   8:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + IO operation functions
  10:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + Peripheral Control functions
  11:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + Peripheral State functions
  12:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  13:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
  14:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @attention
  15:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  16:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * Copyright (c) 2017 STMicroelectronics.
  17:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * All rights reserved.
  18:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  19:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * This software is licensed under terms that can be found in the LICENSE file
  20:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * in the root directory of this software component.
  21:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  22:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  23:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
  24:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   @verbatim
  25:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
  26:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         ##### How to use this driver #####
  27:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
  28:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  29:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This driver implements a high level communication layer for read and write from/to
  30:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     this memory. The needed STM32 hardware resources (SDMMC and GPIO) are performed by
  31:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     the user in HAL_SD_MspInit() function (MSP layer).
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 2


  32:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Basically, the MSP layer configuration should be the same as we provide in the
  33:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     examples.
  34:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     You can easily tailor this configuration according to hardware resources.
  35:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  36:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  37:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This driver is a generic layered driver for SDMMC memories which uses the HAL
  38:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SDMMC driver functions to interface with SD and uSD cards devices.
  39:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     It is used as follows:
  40:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  41:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#)Initialize the SDMMC low level resources by implementing the HAL_SD_MspInit() API:
  42:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) Enable the SDMMC interface clock using __HAL_RCC_SDMMC_CLK_ENABLE();
  43:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) SDMMC pins configuration for SD card
  44:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Enable the clock for the SDMMC GPIOs using the functions __HAL_RCC_GPIOx_CLK_ENAB
  45:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Configure these SDMMC pins as alternate function pull-up using HAL_GPIO_Init()
  46:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                   and according to your pin assignment;
  47:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process (HAL_SD_ReadBlocks_IT()
  48:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****              and HAL_SD_WriteBlocks_IT() APIs).
  49:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Configure the SDMMC interrupt priorities using function HAL_NVIC_SetPriority();
  50:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Enable the NVIC SDMMC IRQs using function HAL_NVIC_EnableIRQ()
  51:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) SDMMC interrupts are managed using the macros __HAL_SD_ENABLE_IT()
  52:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                   and __HAL_SD_DISABLE_IT() inside the communication process.
  53:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) SDMMC interrupts pending bits are managed using the macros __HAL_SD_GET_IT()
  54:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                   and __HAL_SD_CLEAR_IT()
  55:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) No general propose DMA Configuration is needed, an Internal DMA for SDMMC Peripheral a
  56:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  57:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) At this stage, you can perform SD read/write/erase operations after SD card initialization
  58:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  59:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  60:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD Card Initialization and configuration ***
  61:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ================================================
  62:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  63:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     To initialize the SD Card, use the HAL_SD_Init() function. It Initializes
  64:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SDMMC Peripheral(STM32 side) and the SD Card, and put it into StandBy State (Ready for data tra
  65:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This function provide the following operations:
  66:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  67:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Apply the SD Card initialization process at 400KHz and check the SD Card
  68:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         type (Standard Capacity or High Capacity). You can change or adapt this
  69:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
  70:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         The SD Card frequency (SDMMC_CK) is computed as follows:
  71:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  72:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            SDMMC_CK = SDMMCCLK / (2 * ClockDiv)
  73:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  74:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         In initialization mode and according to the SD Card standard,
  75:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         make sure that the SDMMC_CK frequency doesn't exceed 400KHz.
  76:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  77:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This phase of initialization is done through SDMMC_Init() and
  78:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         SDMMC_PowerState_ON() SDMMC low level APIs.
  79:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  80:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Initialize the SD card. The API used is HAL_SD_InitCard().
  81:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This phase allows the card initialization and identification
  82:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         and check the SD Card type (Standard Capacity or High Capacity)
  83:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         The initialization flow is compatible with SD standard.
  84:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  85:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This API (HAL_SD_InitCard()) could be used also to reinitialize the card in case
  86:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         of plug-off plug-in.
  87:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  88:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Configure the SD Card Data transfer frequency. You can change or adapt this
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 3


  89:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
  90:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         In transfer mode and according to the SD Card standard, make sure that the
  91:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         SDMMC_CK frequency doesn't exceed 25MHz and 100MHz in High-speed mode switch.
  92:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  93:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Select the corresponding SD Card according to the address read with the step 2.
  94:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  95:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Configure the SD Card in wide bus mode: 4-bits data.
  96:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  97:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD Card Read operation ***
  98:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================
  99:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can read from SD card in polling mode by using function HAL_SD_ReadBlocks().
 101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can read from SD card in DMA mode by using function HAL_SD_ReadBlocks_DMA().
 109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Rx interrupt event.
 116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can read from SD card in Interrupt mode by using function HAL_SD_ReadBlocks_IT().
 118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the IT transfer process through the SD Rx interrupt event.
 125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD Card Write operation ***
 127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ===============================
 128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can write to SD card in polling mode by using function HAL_SD_WriteBlocks().
 130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can write to SD card in DMA mode by using function HAL_SD_WriteBlocks_DMA().
 138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Tx interrupt event.
 145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 4


 146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can write to SD card in Interrupt mode by using function HAL_SD_WriteBlocks_IT().
 147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the IT transfer process through the SD Tx interrupt event.
 154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card status ***
 156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ======================
 157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) The SD Status contains status bits that are related to the SD Memory
 159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Card proprietary features. To get SD card status use the HAL_SD_GetCardStatus().
 160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card information ***
 162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ===========================
 163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) To get SD card information, you can use the function HAL_SD_GetCardInfo().
 165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         It returns useful information about the SD card such as block size, card type,
 166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         block number ...
 167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card CSD register ***
 169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ============================
 170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) The HAL_SD_GetCardCSD() API allows to get the parameters of the CSD register.
 171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card CID register ***
 174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ============================
 175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) The HAL_SD_GetCardCID() API allows to get the parameters of the CID register.
 176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD HAL driver macros list ***
 179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==================================
 180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Below the list of most used macros in SD HAL driver.
 182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_ENABLE_IT: Enable the SD device interrupt
 184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_DISABLE_IT: Disable the SD device interrupt
 185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_GET_FLAG:Check whether the specified SD flag is set or not
 186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_CLEAR_FLAG: Clear the SD's pending flags
 187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (@) You can refer to the SD HAL driver header file for more useful macros
 189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** Callback registration ***
 191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   =============================================
 192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     The compilation define USE_HAL_SD_REGISTER_CALLBACKS when set to 1
 194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     allows the user to configure dynamically the driver callbacks.
 195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Use Functions HAL_SD_RegisterCallback() to register a user callback,
 197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     it allows to register following callbacks:
 198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is complete
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 5


 203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This function takes as parameters the HAL peripheral handle, the Callback ID
 209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     and a pointer to the user callback function.
 210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     For specific callbacks TransceiverCallback use dedicated register callbacks:
 211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     respectively HAL_SD_RegisterTransceiverCallback().
 212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Use function HAL_SD_UnRegisterCallback() to reset a callback to the default
 214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     weak (surcharged) function. It allows to reset following callbacks:
 215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is complete
 220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This function) takes as parameters the HAL peripheral handle and the Callback ID.
 226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     For specific callbacks TransceiverCallback use dedicated unregister callbacks:
 227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     respectively HAL_SD_UnRegisterTransceiverCallback().
 228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     By default, after the HAL_SD_Init and if the state is HAL_SD_STATE_RESET
 230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     all callbacks are reset to the corresponding legacy weak (surcharged) functions.
 231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Exception done for MspInit and MspDeInit callbacks that are respectively
 232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     reset to the legacy weak (surcharged) functions in the HAL_SD_Init
 233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     and HAL_SD_DeInit only when these callbacks are null (not registered beforehand).
 234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     If not, MspInit or MspDeInit are not null, the HAL_SD_Init and HAL_SD_DeInit
 235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     keep and use the user MspInit/MspDeInit callbacks (registered beforehand)
 236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Callbacks can be registered/unregistered in READY state only.
 238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Exception done for MspInit/MspDeInit callbacks that can be registered/unregistered
 239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     in READY or RESET state, thus registered (user) MspInit/DeInit callbacks can be used
 240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     during the Init/DeInit.
 241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     In that case first register the MspInit/MspDeInit user callbacks
 242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     using HAL_SD_RegisterCallback before calling HAL_SD_DeInit
 243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     or HAL_SD_Init function.
 244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     When The compilation define USE_HAL_SD_REGISTER_CALLBACKS is set to 0 or
 246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     not defined, the callback registering feature is not available
 247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     and weak (surcharged) callbacks are used.
 248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   @endverbatim
 250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
 251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Includes ------------------------------------------------------------------*/
 254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #include "stm32h7xx_hal.h"
 255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup STM32H7xx_HAL_Driver
 257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 6


 260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD
 261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #ifdef HAL_SD_MODULE_ENABLED
 265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private typedef -----------------------------------------------------------*/
 267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private define ------------------------------------------------------------*/
 268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Private_Defines
 269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Frequencies used in the driver for clock divider calculation */
 272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_INIT_FREQ                   400000U   /* Initialization phase : 400 kHz max */
 273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_NORMAL_SPEED_FREQ           25000000U /* Normal speed phase : 25 MHz max */
 274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_HIGH_SPEED_FREQ             50000000U /* High speed phase : 50 MHz max */
 275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private macro -------------------------------------------------------------*/
 276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (DLYB_SDMMC1) && defined (DLYB_SDMMC2)
 277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_GET_DLYB_INSTANCE(SDMMC_INSTANCE) (((SDMMC_INSTANCE) == SDMMC1)?  \
 278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                               DLYB_SDMMC1 : DLYB_SDMMC2 )
 279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #elif defined (DLYB_SDMMC1)
 280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_GET_DLYB_INSTANCE(SDMMC_INSTANCE) ( DLYB_SDMMC1 )
 281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) && defined (DLYB_SDMMC2) */
 282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
 285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private variables ---------------------------------------------------------*/
 288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private function prototypes -----------------------------------------------*/
 289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private functions ---------------------------------------------------------*/
 290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @defgroup SD_Private_Functions SD Private Functions
 291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd);
 294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd);
 295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus);
 296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus);
 297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd);
 298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd);
 299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR);
 300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void     SD_PowerOFF(SD_HandleTypeDef *hsd);
 301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void     SD_Write_IT(SD_HandleTypeDef *hsd);
 302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void     SD_Read_IT(SD_HandleTypeDef *hsd);
 303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_HighSpeed(SD_HandleTypeDef *hsd);
 304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_UltraHighSpeed(SD_HandleTypeDef *hsd);
 306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_DDR_Mode(SD_HandleTypeDef *hsd);
 307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
 308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
 310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Exported functions --------------------------------------------------------*/
 313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions
 314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 7


 317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group1
 318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *  @brief   Initialization and de-initialization functions
 319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
 320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @verbatim
 321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           ##### Initialization and de-initialization functions #####
 323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This section provides functions allowing to initialize/de-initialize the SD
 326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     card device to be ready for use.
 327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @endverbatim
 329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the SD according to the specified parameters in the
 334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             SD_HandleTypeDef and create the associated handle.
 335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to the SD handle
 336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Init(SD_HandleTypeDef *hsd)
 339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStatusTypeDef CardStatus;
 341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t speedgrade;
 342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t unitsize;
 343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd == NULL)
 347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
 352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hsd->Instance));
 353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_EDGE(hsd->Init.ClockEdge));
 354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(hsd->Init.BusWide));
 356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLKDIV(hsd->Init.ClockDiv));
 358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_RESET)
 360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Allocate lock resource and initialize it */
 362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Lock = HAL_UNLOCKED;
 363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Force  SDMMC_TRANSCEIVER_PRESENT for Legacy usage */
 366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_UNKNOWN)
 367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Init.TranceiverPresent = SDMMC_TRANSCEIVER_PRESENT;
 369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /*USE_SD_TRANSCEIVER */
 371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Reset Callback pointers in HAL_SD_STATE_RESET only */
 373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxCpltCallback    = HAL_SD_TxCpltCallback;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 8


 374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxCpltCallback    = HAL_SD_RxCpltCallback;
 375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCallback     = HAL_SD_ErrorCallback;
 376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->AbortCpltCallback = HAL_SD_AbortCallback;
 377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Read_DMADblBuf0CpltCallback = HAL_SDEx_Read_DMADoubleBuf0CpltCallback;
 378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Read_DMADblBuf1CpltCallback = HAL_SDEx_Read_DMADoubleBuf1CpltCallback;
 379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Write_DMADblBuf0CpltCallback = HAL_SDEx_Write_DMADoubleBuf0CpltCallback;
 380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Write_DMADblBuf1CpltCallback = HAL_SDEx_Write_DMADoubleBuf1CpltCallback;
 381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback = HAL_SD_DriveTransceiver_1_8V_Callback;
 385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
 387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->MspInitCallback == NULL)
 389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
 391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Init the low level hardware */
 394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->MspInitCallback(hsd);
 395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
 396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Init the low level hardware : GPIO, CLOCK, CORTEX...etc */
 397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_SD_MspInit(hsd);
 398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_PROGRAMMING;
 402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the Card parameters */
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_InitCard(hsd) != HAL_OK)
 405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_GetCardStatus(hsd, &CardStatus) != HAL_OK)
 410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get Initial Card Speed from Card Status*/
 414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   speedgrade = CardStatus.UhsSpeedGrade;
 415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   unitsize = CardStatus.UhsAllocationUnitSize;
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((hsd->SdCard.CardType == CARD_SDHC_SDXC) && ((speedgrade != 0U) || (unitsize != 0U)))
 417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardSpeed = CARD_ULTRA_HIGH_SPEED;
 419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
 421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType == CARD_SDHC_SDXC)
 423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->SdCard.CardSpeed  = CARD_HIGH_SPEED;
 425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->SdCard.CardSpeed  = CARD_NORMAL_SPEED;
 429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 9


 431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Configure the bus wide */
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_ConfigWideBusOperation(hsd, hsd->Init.BusWide) != HAL_OK)
 434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Verify that SD card is ready to use after Initialization */
 439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tickstart = HAL_GetTick();
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the error code */
 451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the SD operation */
 454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the SD state */
 457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the SD Card.
 464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This function initializes the SD card. It could be used when a card
 466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             re-initialization is needed.
 467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_InitCard(SD_HandleTypeDef *hsd)
 470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SD_InitTypeDef Init;
 473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk = 0U;
 474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Default SDMMC peripheral configuration for SD card initialization */
 476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockEdge           = SDMMC_CLOCK_EDGE_RISING;
 477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Init Clock should be less or equal to 400Khz*/
 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   sdmmc_clk     = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC);
 483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 10


 488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockDiv = sdmmc_clk / (2U * SD_INIT_FREQ);
 490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.TranceiverPresent = hsd->Init.TranceiverPresent;
 493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Set Transceiver polarity */
 497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->POWER |= SDMMC_POWER_DIRPOL;
 498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #elif defined (USE_SD_DIRPOL)
 500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Transceiver polarity */
 501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Instance->POWER |= SDMMC_POWER_DIRPOL;
 502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
 503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize SDMMC peripheral interface with default configuration */
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_Init(hsd->Instance, Init);
 506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Power State to ON */
 508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_PowerState_ON(hsd->Instance);
 509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* wait 74 Cycles: required power up waiting time before starting
 511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****      the SD initialization sequence */
 512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   sdmmc_clk = sdmmc_clk / (2U * Init.ClockDiv);
 513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_Delay(1U + (74U * 1000U / (sdmmc_clk)));
 514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Identify card operating voltage */
 516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_PowerON(hsd);
 517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Card initialization */
 525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_InitCard(hsd);
 526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
 534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
 538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 11


 545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  De-Initializes the SD card.
 549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_DeInit(SD_HandleTypeDef *hsd)
 553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd == NULL)
 556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
 561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hsd->Instance));
 562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Deactivate the 1.8V Mode */
 567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->DriveTransceiver_1_8V_Callback == NULL)
 571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback = HAL_SD_DriveTransceiver_1_8V_Callback;
 573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback(RESET);
 575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
 576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_SD_DriveTransceiver_1_8V_Callback(RESET);
 577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER   */
 580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set SD power state to off */
 582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SD_PowerOFF(hsd);
 583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->MspDeInitCallback == NULL)
 586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->MspDeInitCallback = HAL_SD_MspDeInit;
 588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* DeInit the low level hardware */
 591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->MspDeInitCallback(hsd);
 592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
 593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* De-Initialize the MSP layer */
 594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_MspDeInit(hsd);
 595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 12


 602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the SD MSP.
 606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
 608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_MspInit(SD_HandleTypeDef *hsd)
 610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_MspInit could be implemented in the user file
 616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
 617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  De-Initialize SD MSP.
 621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
 623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_MspDeInit(SD_HandleTypeDef *hsd)
 625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_MspDeInit could be implemented in the user file
 631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
 632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
 636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group2
 639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *  @brief   Data transfer functions
 640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
 641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @verbatim
 642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         ##### IO operation functions #####
 644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This subsection provides a set of functions allowing to manage the data
 647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     transfer from/to SD card.
 648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @endverbatim
 650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
 655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed by polling mode.
 656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 13


 659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: pointer to the buffer that will contain the received data
 660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
 661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to read
 662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  Timeout: Specify timeout value
 663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint3
 666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                     uint32_t Timeout)
 667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
 678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
 696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
 701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read block(s) in polling mode */
 714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
 715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 14


 716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_MULTIPLE_BLOCK;
 717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Multi Block command */
 719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_SINGLE_BLOCK;
 724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Single Block command */
 726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
 727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Poll on SDMMC flags */
 739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     dataremaining = config.DataLength;
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF) && (dataremaining >= 32U))
 743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Read data from SDMMC Rx FIFO */
 745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data = SDMMC_ReadFIFO(hsd->Instance);
 748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         dataremaining -= 32U;
 758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
 763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
 771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock read */
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 15


 773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->SdCard.CardType != CARD_SECURED)
 776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Send stop transmission command */
 778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clear all the static flags */
 782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get error state */
 792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
 822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
 825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 16


 830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
 832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
 834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Allows to write block(s) to a specified address in a card. The Data
 840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         transfer is managed by polling mode.
 841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: pointer to the buffer that will contain the data to transmit
 845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
 846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to write
 847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  Timeout: Specify timeout value
 848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint
 851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                      uint32_t Timeout)
 852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
 863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
 881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
 886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 17


 887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write Blocks in Polling mode */
 899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
 900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_MULTIPLE_BLOCK;
 902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Multi Block command */
 904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_SINGLE_BLOCK;
 909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Single Block command */
 911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
 912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write block(s) in polling mode */
 924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     dataremaining = config.DataLength;
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT 
 926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXFIFOHE) && (dataremaining >= 32U))
 929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Write data to SDMMC Tx FIFO */
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data = (uint32_t)(*tempbuff);
 934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         dataremaining -= 32U;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 18


 944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
 949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
 957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock write */
 959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->SdCard.CardType != CARD_SECURED)
 962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Send stop transmission command */
 964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clear all the static flags */
 968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get error state */
 978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR))
 997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 19


1001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
1008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
1011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
1014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
1020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed in interrupt mode.
1027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Rx
1030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the received data
1033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
1034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
1035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd,
1038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                        uint32_t NumberOfBlocks)
1039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
1043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
1045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 20


1058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pRxBuffPtr = pData;
1066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
1067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
1071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
1078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
1082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read Blocks in IT mode */
1084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
1085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_IT);
1087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Multi Block command */
1089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
1090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_IT);
1094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Single Block command */
1096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
1097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DA
1109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_RXFIFOHF));
1110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 21


1115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed in interrupt mode.
1122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Tx
1125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
1129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd,
1133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                         uint32_t NumberOfBlocks)
1134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
1138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
1140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
1161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
1162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
1166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 22


1172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
1178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
1181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_IT);
1183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Multi Block command */
1185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
1186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_IT);
1190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Single Block command */
1192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
1193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Enable transfer interrupts */
1205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT_D
1206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXFIFOHE));
1207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed by DMA mode.
1219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Rx
1222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer SD handle
1224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the received data
1225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
1226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
1227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 23


1229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd,
1230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                         uint32_t NumberOfBlocks)
1231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
1235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
1237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pRxBuffPtr = pData;
1258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
1259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
1263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
1270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
1275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
1276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
1277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read Blocks in DMA mode */
1279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
1280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
1282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Multi Block command */
1284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
1285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 24


1286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_DMA);
1289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Single Block command */
1291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
1292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Enable transfer interrupts */
1304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DA
1305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed by DMA mode.
1318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Tx
1321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
1325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd,
1329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          uint32_t NumberOfBlocks)
1330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
1334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
1336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 25


1343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
1357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
1358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
1362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
1375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
1377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
1378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
1381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
1383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Multi Block command */
1385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
1386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_DMA);
1390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Single Block command */
1392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
1393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 26


1400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Enable transfer interrupts */
1405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT_D
1406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Erases the specified memory area of the given SD card.
1417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockStartAdd: Start Block address
1421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockEndAdd: End Block address
1422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Erase(SD_HandleTypeDef *hsd, uint32_t BlockStartAdd, uint32_t BlockEndAdd)
1425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
1428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
1429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (end_add < start_add)
1435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (end_add > (hsd->SdCard.LogBlockNbr))
1441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Check if the card command class supports erase command */
1449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (((hsd->SdCard.Class) & SDMMC_CCCC_ERASE) == 0U)
1450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
1454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 27


1457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
1459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
1463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get start and end block for high capacity cards */
1468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       start_add *= 512U;
1471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       end_add   *= 512U;
1472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SECURED)
1476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseStartAdd(hsd->Instance, start_add);
1479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
1480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
1482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
1486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseEndAdd(hsd->Instance, end_add);
1490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
1491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
1493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
1497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD38 ERASE */
1501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdErase(hsd->Instance, 0UL);
1502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
1512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 28


1514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  This function handles SD card interrupt request.
1523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** void HAL_SD_IRQHandler(SD_HandleTypeDef *hsd)
1527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t context = hsd->Context;
1530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check for SDMMC interrupt flags */
1532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF) != RESET) && ((context & SD_CONTEXT_IT) != 0U))
1533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SD_Read_IT(hsd);
1535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) != RESET)
1538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DATAEND);
1540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND  | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
1542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR  | SDMMC_IT_TXFIFOHE | \
1543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_RXFIFOHF);
1544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_IDMABTC);
1546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
1547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((context & SD_CONTEXT_IT) != 0U)
1549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIP
1551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
1554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
1555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
1562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
1570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 29


1571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
1575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
1578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if ((context & SD_CONTEXT_DMA) != 0U)
1587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DLEN = 0;
1589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
1590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Stop Transfer for Write Multi blocks or Read Multi blocks */
1593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIP
1594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
1597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
1598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
1605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
1610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
1618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
1623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 30


1628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
1629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXFIFOHE) != RESET) && ((context & SD_CONTEXT_IT) != 
1633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SD_Write_IT(hsd);
1635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDMMC_FLAG_RXOVERR |
1638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
1639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Set Error code */
1641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_DCRCFAIL) != RESET)
1642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
1644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_DTIMEOUT) != RESET)
1646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
1648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_RXOVERR) != RESET)
1650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
1652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_TXUNDERR) != RESET)
1654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
1656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear All flags */
1659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Disable all interrupts */
1662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
1663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
1664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
1666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
1667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
1668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
1669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
1670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
1671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((context & SD_CONTEXT_IT) != 0U)
1673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Set the SD state to ready to be able to start again the process */
1675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCallback(hsd);
1679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       HAL_SD_ErrorCallback(hsd);
1681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if ((context & SD_CONTEXT_DMA) != 0U)
1684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 31


1685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
1686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Disable Internal DMA */
1688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_IDMABTC);
1689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Set the SD state to ready to be able to start again the process */
1692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCallback(hsd);
1695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_ErrorCallback(hsd);
1697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
1703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_IDMABTC) != RESET)
1707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_IDMABTC);
1709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (READ_BIT(hsd->Instance->IDMACTRL, SDMMC_IDMA_IDMABACT) == 0U)
1710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Current buffer is buffer0, Transfer complete for buffer1 */
1712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback(hsd);
1716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Write_DMADoubleBuf1CpltCallback(hsd);
1718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else /* SD_CONTEXT_READ_MULTIPLE_BLOCK */
1721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback(hsd);
1724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Read_DMADoubleBuf1CpltCallback(hsd);
1726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else /* SD_DMA_BUFFER1 */
1730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Current buffer is buffer1, Transfer complete for buffer0 */
1732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback(hsd);
1736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Write_DMADoubleBuf0CpltCallback(hsd);
1738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else /* SD_CONTEXT_READ_MULTIPLE_BLOCK */
1741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 32


1742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback(hsd);
1744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Read_DMADoubleBuf0CpltCallback(hsd);
1746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Nothing to do */
1753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief return the SD state
1758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer to sd handle
1759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL state
1760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_SD_StateTypeDef HAL_SD_GetState(SD_HandleTypeDef *hsd)
1762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->State;
1764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Return the SD error code
1768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd : Pointer to a SD_HandleTypeDef structure that contains
1769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *              the configuration information.
1770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Error Code
1771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** uint32_t HAL_SD_GetError(SD_HandleTypeDef *hsd)
1773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->ErrorCode;
1775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Tx Transfer completed callbacks
1779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer to SD handle
1780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_TxCpltCallback(SD_HandleTypeDef *hsd)
1783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_TxCpltCallback can be implemented in the user file
1789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Rx Transfer completed callbacks
1794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_RxCpltCallback(SD_HandleTypeDef *hsd)
1798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 33


1799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_RxCpltCallback can be implemented in the user file
1804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief SD error callbacks
1809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_ErrorCallback(SD_HandleTypeDef *hsd)
1813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_ErrorCallback can be implemented in the user file
1819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief SD Abort callbacks
1824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_AbortCallback(SD_HandleTypeDef *hsd)
1828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_AbortCallback can be implemented in the user file
1834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
1838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enable/Disable the SD Transceiver 1.8V Mode Callback.
1840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  status: Voltage Switch State
1841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak  void HAL_SD_DriveTransceiver_1_8V_Callback(FlagStatus status)
1844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(status);
1847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_EnableTransceiver could be implemented in the user file
1849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
1852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Register a User SD Callback
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 34


1856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         To be used instead of the weak (surcharged) predefined callback
1857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
1858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be registered
1859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *        This parameter can be one of the following values:
1860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID                 SD Tx Complete Callback ID
1861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID                 SD Rx Complete Callback ID
1862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID                   SD Error Callback ID
1863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID                   SD Abort Callback ID
1864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID  SD DMA Rx Double buffer 0 Callback ID
1865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID  SD DMA Rx Double buffer 1 Callback ID
1866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID SD DMA Tx Double buffer 0 Callback ID
1867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID SD DMA Tx Double buffer 1 Callback ID
1868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID                SD MspInit Callback ID
1869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID              SD MspDeInit Callback ID
1870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
1871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
1872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef CallbackI
1874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                           pSD_CallbackTypeDef pCallback)
1875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
1877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (pCallback == NULL)
1879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
1881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Process locked */
1886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_LOCK(hsd);
1887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
1891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_TX_CPLT_CB_ID :
1893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback = pCallback;
1894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_RX_CPLT_CB_ID :
1896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback = pCallback;
1897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ERROR_CB_ID :
1899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCallback = pCallback;
1900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ABORT_CB_ID :
1902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->AbortCpltCallback = pCallback;
1903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID :
1905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback = pCallback;
1906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID :
1908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback = pCallback;
1909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
1911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback = pCallback;
1912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 35


1913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
1914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback = pCallback;
1915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
1917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = pCallback;
1918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
1920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = pCallback;
1921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
1923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
1924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
1926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
1927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
1931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
1933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
1935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = pCallback;
1936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
1938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = pCallback;
1939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
1941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
1942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
1944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
1945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
1951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
1953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
1954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Release Lock */
1957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
1958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
1959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Unregister a User SD Callback
1963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         SD Callback is redirected to the weak (surcharged) predefined callback
1964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
1965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be unregistered
1966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *        This parameter can be one of the following values:
1967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID                 SD Tx Complete Callback ID
1968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID                 SD Rx Complete Callback ID
1969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID                   SD Error Callback ID
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 36


1970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID                   SD Abort Callback ID
1971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID  SD DMA Rx Double buffer 0 Callback ID
1972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID  SD DMA Rx Double buffer 1 Callback ID
1973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID SD DMA Tx Double buffer 0 Callback ID
1974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID SD DMA Tx Double buffer 1 Callback ID
1975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID                SD MspInit Callback ID
1976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID              SD MspDeInit Callback ID
1977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
1978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef Callbac
1980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
1982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Process locked */
1984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_LOCK(hsd);
1985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
1989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_TX_CPLT_CB_ID :
1991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback = HAL_SD_TxCpltCallback;
1992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_RX_CPLT_CB_ID :
1994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback = HAL_SD_RxCpltCallback;
1995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ERROR_CB_ID :
1997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCallback = HAL_SD_ErrorCallback;
1998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ABORT_CB_ID :
2000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->AbortCpltCallback = HAL_SD_AbortCallback;
2001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID :
2003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback = HAL_SDEx_Read_DMADoubleBuf0CpltCallback;
2004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID :
2006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback = HAL_SDEx_Read_DMADoubleBuf1CpltCallback;
2007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
2009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback = HAL_SDEx_Write_DMADoubleBuf0CpltCallback;
2010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
2012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback = HAL_SDEx_Write_DMADoubleBuf1CpltCallback;
2013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
2015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = HAL_SD_MspInit;
2016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
2018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = HAL_SD_MspDeInit;
2019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
2021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
2022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
2024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
2025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 37


2027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
2029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
2031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
2033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = HAL_SD_MspInit;
2034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
2036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = HAL_SD_MspDeInit;
2037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
2039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
2040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
2042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
2043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
2051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
2052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Release Lock */
2055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
2060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Register a User SD Transceiver Callback
2062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         To be used instead of the weak (surcharged) predefined callback
2063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
2064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
2065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
2066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterTransceiverCallback(SD_HandleTypeDef *hsd, pSD_TransceiverCallback
2068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (pCallback == NULL)
2072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
2076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Process locked */
2079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_LOCK(hsd);
2080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
2082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = pCallback;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 38


2084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
2090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
2091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Release Lock */
2094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Unregister a User SD Transceiver Callback
2100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         SD Callback is redirected to the weak (surcharged) predefined callback
2101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
2102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
2103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterTransceiverCallback(SD_HandleTypeDef *hsd)
2105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Process locked */
2109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_LOCK(hsd);
2110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
2112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = HAL_SD_DriveTransceiver_1_8V_Callback;
2114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
2120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
2121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Release Lock */
2124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
2128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
2129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
2132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group3
2135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *  @brief   management functions
2136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
2137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @verbatim
2138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
2139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       ##### Peripheral Control functions #####
2140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 39


2141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
2142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This subsection provides a set of functions allowing to control the SD card
2143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     operations and get the related information
2144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @endverbatim
2146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
2147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         the CID register.
2152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCID: Pointer to a HAL_SD_CardCIDTypeDef structure that
2154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         contains all CID register parameters
2155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCID(SD_HandleTypeDef *hsd, HAL_SD_CardCIDTypeDef *pCID)
2158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
2160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->OEM_AppliID = (uint16_t)((hsd->CID[0] & 0x00FFFF00U) >> 8U);
2162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdName1 = (((hsd->CID[0] & 0x000000FFU) << 24U) | ((hsd->CID[1] & 0xFFFFFF00U) >> 8U));
2164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdName2 = (uint8_t)(hsd->CID[1] & 0x000000FFU);
2166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdRev = (uint8_t)((hsd->CID[2] & 0xFF000000U) >> 24U);
2168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdSN = (((hsd->CID[2] & 0x00FFFFFFU) << 8U) | ((hsd->CID[3] & 0xFF000000U) >> 24U));
2170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->Reserved1 = (uint8_t)((hsd->CID[3] & 0x00F00000U) >> 20U);
2172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ManufactDate = (uint16_t)((hsd->CID[3] & 0x000FFF00U) >> 8U);
2174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->CID_CRC = (uint8_t)((hsd->CID[3] & 0x000000FEU) >> 1U);
2176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->Reserved2 = 1U;
2178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         the CSD register.
2185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCSD: Pointer to a HAL_SD_CardCSDTypeDef structure that
2187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         contains all CSD register parameters
2188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCSD(SD_HandleTypeDef *hsd, HAL_SD_CardCSDTypeDef *pCSD)
2191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
2193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->SysSpecVersion = (uint8_t)((hsd->CSD[0] & 0x3C000000U) >> 26U);
2195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved1 = (uint8_t)((hsd->CSD[0] & 0x03000000U) >> 24U);
2197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 40


2198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->TAAC = (uint8_t)((hsd->CSD[0] & 0x00FF0000U) >> 16U);
2199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->NSAC = (uint8_t)((hsd->CSD[0] & 0x0000FF00U) >> 8U);
2201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->MaxBusClkFrec = (uint8_t)(hsd->CSD[0] & 0x000000FFU);
2203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CardComdClasses = (uint16_t)((hsd->CSD[1] & 0xFFF00000U) >> 20U);
2205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->RdBlockLen = (uint8_t)((hsd->CSD[1] & 0x000F0000U) >> 16U);
2207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->PartBlockRead   = (uint8_t)((hsd->CSD[1] & 0x00008000U) >> 15U);
2209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00004000U) >> 14U);
2211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->RdBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00002000U) >> 13U);
2213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->DSRImpl = (uint8_t)((hsd->CSD[1] & 0x00001000U) >> 12U);
2215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved2 = 0U; /*!< Reserved */
2217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType == CARD_SDSC)
2219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x000003FFU) << 2U) | ((hsd->CSD[2] & 0xC0000000U) >> 30U))
2221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x38000000U) >> 27U);
2223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x07000000U) >> 24U);
2225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x00E00000U) >> 21U);
2227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x001C0000U) >> 18U);
2229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->DeviceSizeMul = (uint8_t)((hsd->CSD[2] & 0x00038000U) >> 15U);
2231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr  = (pCSD->DeviceSize + 1U) ;
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
2235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = (hsd->SdCard.BlockNbr) * ((hsd->SdCard.BlockSize) / 512U);
2237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
2238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (hsd->SdCard.CardType == CARD_SDHC_SDXC)
2240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Byte 7 */
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x0000003FU) << 16U) | ((hsd->CSD[2] & 0xFFFF0000U) >> 16U)
2243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr = ((pCSD->DeviceSize + 1U) * 1024U);
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
2246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
2247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
2248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 41


2255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
2256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->EraseGrSize = (uint8_t)((hsd->CSD[2] & 0x00004000U) >> 14U);
2259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->EraseGrMul = (uint8_t)((hsd->CSD[2] & 0x00003F80U) >> 7U);
2261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrProtectGrSize = (uint8_t)(hsd->CSD[2] & 0x0000007FU);
2263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrProtectGrEnable = (uint8_t)((hsd->CSD[3] & 0x80000000U) >> 31U);
2265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->ManDeflECC = (uint8_t)((hsd->CSD[3] & 0x60000000U) >> 29U);
2267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrSpeedFact = (uint8_t)((hsd->CSD[3] & 0x1C000000U) >> 26U);
2269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->MaxWrBlockLen = (uint8_t)((hsd->CSD[3] & 0x03C00000U) >> 22U);
2271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WriteBlockPaPartial = (uint8_t)((hsd->CSD[3] & 0x00200000U) >> 21U);
2273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved3 = 0;
2275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->ContentProtectAppli = (uint8_t)((hsd->CSD[3] & 0x00010000U) >> 16U);
2277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->FileFormatGroup = (uint8_t)((hsd->CSD[3] & 0x00008000U) >> 15U);
2279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CopyFlag = (uint8_t)((hsd->CSD[3] & 0x00004000U) >> 14U);
2281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->PermWrProtect = (uint8_t)((hsd->CSD[3] & 0x00002000U) >> 13U);
2283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->TempWrProtect = (uint8_t)((hsd->CSD[3] & 0x00001000U) >> 12U);
2285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->FileFormat = (uint8_t)((hsd->CSD[3] & 0x00000C00U) >> 10U);
2287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->ECC = (uint8_t)((hsd->CSD[3] & 0x00000300U) >> 8U);
2289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSD_CRC = (uint8_t)((hsd->CSD[3] & 0x000000FEU) >> 1U);
2291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved4 = 1;
2293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Gets the SD status info.( shall be called if there is no SD transaction ongoing )
2299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pStatus: Pointer to the HAL_SD_CardStatusTypeDef structure that
2301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         will contain the SD card status information
2302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardStatus(SD_HandleTypeDef *hsd, HAL_SD_CardStatusTypeDef *pStatus)
2305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sd_status[16];
2307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_BUSY)
2311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 42


2312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
2313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_SendSDStatus(hsd, sd_status);
2316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->DataBusWidth = (uint8_t)((sd_status[0] & 0xC0U) >> 6U);
2327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->SecuredMode = (uint8_t)((sd_status[0] & 0x20U) >> 5U);
2329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->CardType = (uint16_t)(((sd_status[0] & 0x00FF0000U) >> 8U) | ((sd_status[0] & 0xFF0000
2331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->ProtectedAreaSize = (((sd_status[1] & 0xFFU) << 24U)    | ((sd_status[1] & 0xFF00U) <<
2333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
2334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->SpeedClass = (uint8_t)(sd_status[2] & 0xFFU);
2336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->PerformanceMove = (uint8_t)((sd_status[2] & 0xFF00U) >> 8U);
2338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->AllocationUnitSize = (uint8_t)((sd_status[2] & 0xF00000U) >> 20U);
2340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->EraseSize = (uint16_t)(((sd_status[2] & 0xFF000000U) >> 16U) | (sd_status[3] & 0xFFU))
2342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->EraseTimeout = (uint8_t)((sd_status[3] & 0xFC00U) >> 10U);
2344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->EraseOffset = (uint8_t)((sd_status[3] & 0x0300U) >> 8U);
2346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsSpeedGrade = (uint8_t)((sd_status[3] & 0x00F0U) >> 4U);
2348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
2349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
2350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
2353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = errorstate;
2359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Gets the SD card info.
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 43


2369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCardInfo: Pointer to the HAL_SD_CardInfoTypeDef structure that
2371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         will contain the SD card status information
2372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardInfo(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypeDef *pCardInfo)
2375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
2377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
2378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
2379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
2380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
2381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
2382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
2383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
2384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enables wide bus operation for the requested card if supported by
2390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         card.
2391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  WideMode: Specifies the SD card wide bus mode
2393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          This parameter can be one of the following values:
2394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_8B: 8-bit data transfer
2395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_4B: 4-bit data transfer
2396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_1B: 1-bit data transfer
2397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigWideBusOperation(SD_HandleTypeDef *hsd, uint32_t WideMode)
2400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
2402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk = 0U;
2404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
2407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(WideMode));
2408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
2411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
2413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (WideMode == SDMMC_BUS_WIDE_8B)
2415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (WideMode == SDMMC_BUS_WIDE_4B)
2419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SD_WideBus_Enable(hsd);
2421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (WideMode == SDMMC_BUS_WIDE_1B)
2425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 44


2426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SD_WideBus_Disable(hsd);
2427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* WideMode is not a valid argument*/
2433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* MMC Card does not support this feature */
2439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
2443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_clk     = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC);
2451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (sdmmc_clk != 0U)
2452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Configure the SDMMC peripheral */
2454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockEdge           = hsd->Init.ClockEdge;
2455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
2456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
2457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
2458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Check if user Clock div < Normal speed 25Mhz, no change in Clockdiv */
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->Init.ClockDiv >= (sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ)))
2461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
2463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
2465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* UltraHigh speed SD card,user Clock div */
2467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
2468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else if (hsd->SdCard.CardSpeed == CARD_HIGH_SPEED)
2470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* High speed SD card, Max Frequency = 50Mhz */
2472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (hsd->Init.ClockDiv == 0U)
2473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (sdmmc_clk > SD_HIGH_SPEED_FREQ)
2475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_HIGH_SPEED_FREQ);
2477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 45


2483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((sdmmc_clk / (2U * hsd->Init.ClockDiv)) > SD_HIGH_SPEED_FREQ)
2486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_HIGH_SPEED_FREQ);
2488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
2496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* No High speed SD card, Max Frequency = 25Mhz */
2498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (hsd->Init.ClockDiv == 0U)
2499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (sdmmc_clk > SD_NORMAL_SPEED_FREQ)
2501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ);
2503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((sdmmc_clk / (2U * hsd->Init.ClockDiv)) > SD_NORMAL_SPEED_FREQ)
2512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ);
2514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
2523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.TranceiverPresent = hsd->Init.TranceiverPresent;
2524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
2525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (void)SDMMC_Init(hsd->Instance, Init);
2527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= SDMMC_ERROR_INVALID_PARAMETER;
2531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
2532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
2536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 46


2540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Configure the speed bus mode
2553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to the SD handle
2554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  SpeedMode: Specifies the SD card speed bus mode
2555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          This parameter can be one of the following values:
2556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_AUTO: Max speed mode supported by the card
2557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_DEFAULT: Default Speed/SDR12 mode
2558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_HIGH: High Speed/SDR25 mode
2559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_ULTRA: Ultra high speed mode
2560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigSpeedBusOperation(SD_HandleTypeDef *hsd, uint32_t SpeedMode)
2564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
2566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
2570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_SPEED_MODE(SpeedMode));
2571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
2573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
2575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
2576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (SpeedMode)
2578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_AUTO:
2580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |= SDMMC_CLKCR_BUSSPEED;
2585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable Ultra High Speed */
2586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd) != HAL_SD_ERROR_NONE)
2587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             {
2590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               status = HAL_ERROR;
2592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             }
2593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else if (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED)
2596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 47


2597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /*Nothing to do, Use defaultSpeed */
2607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA:
2611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable UltraHigh Speed */
2616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd) != HAL_SD_ERROR_NONE)
2617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |= SDMMC_CLKCR_BUSSPEED;
2622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DDR:
2631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable DDR Mode*/
2636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_DDR_Mode(hsd) != HAL_SD_ERROR_NONE)
2637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |=  SDMMC_CLKCR_BUSSPEED | SDMMC_CLKCR_DDR;
2642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_HIGH:
2651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 48


2654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DEFAULT:
2671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default:
2673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
2675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (SpeedMode)
2681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_AUTO:
2683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /*Nothing to do, Use defaultSpeed */
2698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_HIGH:
2702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 49


2711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DEFAULT:
2722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA: /*not valid without transceiver*/
2724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default:
2725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
2727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
2731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   switch (SpeedMode)
2732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_AUTO:
2734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Enable High Speed */
2740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
2747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /*Nothing to do, Use defaultSpeed */
2749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_HIGH:
2753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Enable High Speed */
2759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
2766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 50


2768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
2769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_DEFAULT:
2773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_ULTRA: /*not valid without transceiver*/
2775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     default:
2776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
2778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
2781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Verify that SD card is ready to use after Speed mode switch*/
2783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tickstart = HAL_GetTick();
2784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
2785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
2787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
2789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
2790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
2791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
2795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Gets the current sd card data state.
2811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
2812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval Card state
2813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_SD_CardStateTypeDef HAL_SD_GetCardState(SD_HandleTypeDef *hsd)
2815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t cardstate;
2817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t resp1 = 0;
2819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_SendStatus(hsd, &resp1);
2821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 51


2825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   cardstate = ((resp1 >> 9U) & 0x0FU);
2827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return (HAL_SD_CardStateTypeDef)cardstate;
2829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD.
2833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
2834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *                the configuration information for SD module.
2835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort(SD_HandleTypeDef *hsd)
2838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* DIsable All interrupts */
2842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
2843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
2844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Clear All flags */
2846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
2847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If IDMA Context, disable Internal DMA */
2849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
2850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the SD operation */
2854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
2855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
2857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
2860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
2862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
2864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD (IT mode).
2870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
2871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *                the configuration information for SD module.
2872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort_IT(SD_HandleTypeDef *hsd)
2875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Disable All interrupts */
2879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
2880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
2881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 52


2882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If IDMA Context, disable Internal DMA */
2883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
2884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Clear All flags */
2886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
2887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
2889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
2894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
2897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
2899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
2903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
2904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
2905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
2906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
2907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
2914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
2918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private function ----------------------------------------------------------*/
2921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Private_Functions
2922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
2923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the sd card.
2928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
2930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd)
2932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
2934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint16_t sd_rca = 0U;
2936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
2937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the power State */
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 53


2939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (SDMMC_GetPowerState(hsd->Instance) == 0U)
2940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Power off */
2942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
2943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
2946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD2 ALL_SEND_CID */
2948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCID(hsd->Instance);
2949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
2950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
2952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Get Card identification number data */
2956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[0U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
2957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
2958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
2959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
2960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
2964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD3 SET_REL_ADDR with argument 0 */
2966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SD Card publishes its RCA. */
2967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (sd_rca == 0U)
2968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdSetRelAdd(hsd->Instance, &sd_rca);
2970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
2971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return errorstate;
2973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - tickstart) >=  SDMMC_CMDTIMEOUT)
2975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
2977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
2981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get the SD card RCA */
2983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.RelCardAdd = sd_rca;
2984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD9 SEND_CSD with argument as card's RCA */
2986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCSD(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
2987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
2988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
2990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Get Card Specific Data */
2994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[0U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
2995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 54


2996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
2997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
2998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get the Card Class */
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->SdCard.Class = (SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2) >> 20U);
3003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get CSD parameters */
3005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_GetCardCSD(hsd, &CSD) != HAL_OK)
3006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
3008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Select the Card */
3011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdSelDesel(hsd->Instance, (uint32_t)(((uint32_t)hsd->SdCard.RelCardAdd) << 16
3012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* All cards are initialized */
3018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enquires cards about their operating voltage and configures clock
3023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         controls and stores SD information that will be needed in future
3024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         in the SD handle.
3025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd)
3029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
  28              		.loc 1 3029 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 3029 1 is_stmt 0 view .LVU1
  33 0000 70B5     		push	{r4, r5, r6, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 4, -16
  37              		.cfi_offset 5, -12
  38              		.cfi_offset 6, -8
  39              		.cfi_offset 14, -4
  40 0002 82B0     		sub	sp, sp, #8
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 24
  43 0004 0446     		mov	r4, r0
3030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __IO uint32_t count = 0U;
  44              		.loc 1 3030 3 is_stmt 1 view .LVU2
  45              		.loc 1 3030 17 is_stmt 0 view .LVU3
  46 0006 0023     		movs	r3, #0
  47 0008 0193     		str	r3, [sp, #4]
3031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t response = 0U;
  48              		.loc 1 3031 3 is_stmt 1 view .LVU4
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 55


  49              	.LVL1:
3032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t validvoltage = 0U;
  50              		.loc 1 3032 3 view .LVU5
3033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
  51              		.loc 1 3033 3 view .LVU6
3034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
3035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
3037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* CMD0: GO_IDLE_STATE */
3039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
  52              		.loc 1 3039 3 view .LVU7
  53              		.loc 1 3039 16 is_stmt 0 view .LVU8
  54 000a 0068     		ldr	r0, [r0]
  55              	.LVL2:
  56              		.loc 1 3039 16 view .LVU9
  57 000c FFF7FEFF 		bl	SDMMC_CmdGoIdleState
  58              	.LVL3:
3040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
  59              		.loc 1 3040 3 is_stmt 1 view .LVU10
  60              		.loc 1 3040 6 is_stmt 0 view .LVU11
  61 0010 0546     		mov	r5, r0
  62 0012 10B1     		cbz	r0, .L18
  63              	.LVL4:
  64              	.L1:
3041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* CMD8: SEND_IF_COND: Command available only on V2.0 cards */
3046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdOperCond(hsd->Instance);
3047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate == SDMMC_ERROR_TIMEOUT) /* No response to CMD8 */
3048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V1_X;
3050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
3051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
3052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V2_X;
3061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardVersion == CARD_V2_X)
3064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
3066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
3067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
3070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* SD CARD */
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 56


3073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
3074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((count < SDMMC_MAX_VOLT_TRIAL) && (validvoltage == 0U))
3075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
3077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
3078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD41 */
3084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppOperCommand(hsd->Instance, SDMMC_VOLTAGE_WINDOW_SD | SDMMC_HIGH_CAPACI
3085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
3086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
3089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get command response */
3092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     response = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get operating voltage*/
3095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     validvoltage = (((response >> 31U) == 1U) ? 1U : 0U);
3096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     count++;
3098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (count >= SDMMC_MAX_VOLT_TRIAL)
3101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_INVALID_VOLTRANGE;
3103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set default card type */
3106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->SdCard.CardType = CARD_SDSC;
3107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((response & SDMMC_HIGH_CAPACITY) == SDMMC_HIGH_CAPACITY)
3109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardType = CARD_SDHC_SDXC;
3111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
3112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
3113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((response & SD_SWITCH_1_8V_CAPACITY) == SD_SWITCH_1_8V_CAPACITY)
3115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->SdCard.CardSpeed = CARD_ULTRA_HIGH_SPEED;
3117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Start switching procedue */
3119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->POWER |= SDMMC_POWER_VSWITCHEN;
3120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Send CMD11 to switch 1.8V mode */
3122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdVoltageSwitch(hsd->Instance);
3123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
3124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return errorstate;
3126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Check to CKSTOP */
3129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         while ((hsd->Instance->STA & SDMMC_FLAG_CKSTOP) != SDMMC_FLAG_CKSTOP)
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 57


3130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
3133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_SD_ERROR_TIMEOUT;
3134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
3135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear CKSTOP Flag */
3138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->ICR = SDMMC_FLAG_CKSTOP;
3139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Check to BusyD0 */
3141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->Instance->STA & SDMMC_FLAG_BUSYD0) != SDMMC_FLAG_BUSYD0)
3142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Error when activate Voltage Switch in SDMMC Peripheral */
3144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return SDMMC_ERROR_UNSUPPORTED_FEATURE;
3145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
3147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable Transceiver Switch PIN */
3149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->DriveTransceiver_1_8V_Callback(SET);
3151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
3152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           HAL_SD_DriveTransceiver_1_8V_Callback(SET);
3153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Switch ready */
3156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->POWER |= SDMMC_POWER_VSWITCH;
3157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Check VSWEND Flag */
3159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           while ((hsd->Instance->STA & SDMMC_FLAG_VSWEND) != SDMMC_FLAG_VSWEND)
3160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
3161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             {
3163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_SD_ERROR_TIMEOUT;
3164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             }
3165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
3166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clear VSWEND Flag */
3168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->ICR = SDMMC_FLAG_VSWEND;
3169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Check BusyD0 status */
3171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((hsd->Instance->STA & SDMMC_FLAG_BUSYD0) == SDMMC_FLAG_BUSYD0)
3172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
3173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             /* Error when enabling 1.8V mode */
3174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_SD_ERROR_INVALID_VOLTRANGE;
3175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
3176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Switch to 1.8V OK */
3177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Disable VSWITCH FLAG from SDMMC Peripheral */
3179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->POWER = 0x13U;
3180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clean Status flags */
3182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->ICR = 0xFFFFFFFFU;
3183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 58


3187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
  65              		.loc 1 3190 1 view .LVU12
  66 0014 2846     		mov	r0, r5
  67 0016 02B0     		add	sp, sp, #8
  68              	.LCFI2:
  69              		.cfi_remember_state
  70              		.cfi_def_cfa_offset 16
  71              		@ sp needed
  72 0018 70BD     		pop	{r4, r5, r6, pc}
  73              	.LVL5:
  74              	.L18:
  75              	.LCFI3:
  76              		.cfi_restore_state
3046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate == SDMMC_ERROR_TIMEOUT) /* No response to CMD8 */
  77              		.loc 1 3046 3 is_stmt 1 view .LVU13
3046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate == SDMMC_ERROR_TIMEOUT) /* No response to CMD8 */
  78              		.loc 1 3046 16 is_stmt 0 view .LVU14
  79 001a 2068     		ldr	r0, [r4]
  80              	.LVL6:
3046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate == SDMMC_ERROR_TIMEOUT) /* No response to CMD8 */
  81              		.loc 1 3046 16 view .LVU15
  82 001c FFF7FEFF 		bl	SDMMC_CmdOperCond
  83              	.LVL7:
3047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  84              		.loc 1 3047 3 is_stmt 1 view .LVU16
3047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  85              		.loc 1 3047 6 is_stmt 0 view .LVU17
  86 0020 B0F1004F 		cmp	r0, #-2147483648
  87 0024 07D0     		beq	.L19
3060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
  88              		.loc 1 3060 5 is_stmt 1 view .LVU18
3060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
  89              		.loc 1 3060 29 is_stmt 0 view .LVU19
  90 0026 0123     		movs	r3, #1
  91 0028 E363     		str	r3, [r4, #60]
  92              	.L4:
3063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  93              		.loc 1 3063 3 is_stmt 1 view .LVU20
3063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  94              		.loc 1 3063 18 is_stmt 0 view .LVU21
  95 002a E36B     		ldr	r3, [r4, #60]
3063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  96              		.loc 1 3063 6 view .LVU22
  97 002c 012B     		cmp	r3, #1
  98 002e 0BD0     		beq	.L5
  99              	.L7:
3095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 100              		.loc 1 3095 52 discriminator 1 view .LVU23
 101 0030 2E46     		mov	r6, r5
 102 0032 2846     		mov	r0, r5
 103              	.LVL8:
3095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 104              		.loc 1 3095 52 discriminator 1 view .LVU24
 105 0034 14E0     		b	.L6
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 59


 106              	.LVL9:
 107              	.L19:
3049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
 108              		.loc 1 3049 5 is_stmt 1 view .LVU25
3049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
 109              		.loc 1 3049 29 is_stmt 0 view .LVU26
 110 0036 0023     		movs	r3, #0
 111 0038 E363     		str	r3, [r4, #60]
3051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 112              		.loc 1 3051 5 is_stmt 1 view .LVU27
3051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 113              		.loc 1 3051 18 is_stmt 0 view .LVU28
 114 003a 2068     		ldr	r0, [r4]
 115              	.LVL10:
3051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 116              		.loc 1 3051 18 view .LVU29
 117 003c FFF7FEFF 		bl	SDMMC_CmdGoIdleState
 118              	.LVL11:
3052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 119              		.loc 1 3052 5 is_stmt 1 view .LVU30
3052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 120              		.loc 1 3052 8 is_stmt 0 view .LVU31
 121 0040 0028     		cmp	r0, #0
 122 0042 F2D0     		beq	.L4
3054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 123              		.loc 1 3054 14 view .LVU32
 124 0044 0546     		mov	r5, r0
 125 0046 E5E7     		b	.L1
 126              	.L5:
3066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 127              		.loc 1 3066 5 is_stmt 1 view .LVU33
3066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 128              		.loc 1 3066 18 is_stmt 0 view .LVU34
 129 0048 0021     		movs	r1, #0
 130 004a 2068     		ldr	r0, [r4]
 131              	.LVL12:
3066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 132              		.loc 1 3066 18 view .LVU35
 133 004c FFF7FEFF 		bl	SDMMC_CmdAppCommand
 134              	.LVL13:
3067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 135              		.loc 1 3067 5 is_stmt 1 view .LVU36
3067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 136              		.loc 1 3067 8 is_stmt 0 view .LVU37
 137 0050 0028     		cmp	r0, #0
 138 0052 EDD0     		beq	.L7
3069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 139              		.loc 1 3069 14 view .LVU38
 140 0054 4FF08055 		mov	r5, #268435456
 141 0058 DCE7     		b	.L1
 142              	.LVL14:
 143              	.L8:
3097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 144              		.loc 1 3097 5 is_stmt 1 view .LVU39
3097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 145              		.loc 1 3097 10 is_stmt 0 view .LVU40
 146 005a 019B     		ldr	r3, [sp, #4]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 60


 147 005c 0133     		adds	r3, r3, #1
 148 005e 0193     		str	r3, [sp, #4]
 149              	.LVL15:
 150              	.L6:
3074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 151              		.loc 1 3074 41 is_stmt 1 view .LVU41
3074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 152              		.loc 1 3074 17 is_stmt 0 view .LVU42
 153 0060 019A     		ldr	r2, [sp, #4]
3074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 154              		.loc 1 3074 41 view .LVU43
 155 0062 4FF6FE73 		movw	r3, #65534
 156 0066 9A42     		cmp	r2, r3
 157 0068 13D8     		bhi	.L9
3074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 158              		.loc 1 3074 41 discriminator 1 view .LVU44
 159 006a 96B9     		cbnz	r6, .L9
3077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 160              		.loc 1 3077 5 is_stmt 1 view .LVU45
3077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 161              		.loc 1 3077 18 is_stmt 0 view .LVU46
 162 006c 0021     		movs	r1, #0
 163 006e 2068     		ldr	r0, [r4]
 164              	.LVL16:
3077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 165              		.loc 1 3077 18 view .LVU47
 166 0070 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 167              	.LVL17:
3078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 168              		.loc 1 3078 5 is_stmt 1 view .LVU48
3078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 169              		.loc 1 3078 8 is_stmt 0 view .LVU49
 170 0074 D0B9     		cbnz	r0, .L13
3084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
 171              		.loc 1 3084 5 is_stmt 1 view .LVU50
3084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
 172              		.loc 1 3084 18 is_stmt 0 view .LVU51
 173 0076 1249     		ldr	r1, .L20
 174 0078 2068     		ldr	r0, [r4]
 175              	.LVL18:
3084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
 176              		.loc 1 3084 18 view .LVU52
 177 007a FFF7FEFF 		bl	SDMMC_CmdAppOperCommand
 178              	.LVL19:
3086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 179              		.loc 1 3086 5 is_stmt 1 view .LVU53
3086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 180              		.loc 1 3086 8 is_stmt 0 view .LVU54
 181 007e 0646     		mov	r6, r0
 182              	.LVL20:
3086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 183              		.loc 1 3086 8 view .LVU55
 184 0080 B0B9     		cbnz	r0, .L14
3092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 185              		.loc 1 3092 5 is_stmt 1 view .LVU56
3092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 186              		.loc 1 3092 16 is_stmt 0 view .LVU57
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 61


 187 0082 0021     		movs	r1, #0
 188 0084 2068     		ldr	r0, [r4]
 189              	.LVL21:
3092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 190              		.loc 1 3092 16 view .LVU58
 191 0086 FFF7FEFF 		bl	SDMMC_GetResponse
 192              	.LVL22:
3095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 193              		.loc 1 3095 5 is_stmt 1 view .LVU59
3095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 194              		.loc 1 3095 52 is_stmt 0 view .LVU60
 195 008a C30F     		lsrs	r3, r0, #31
 196 008c E5D0     		beq	.L8
3095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 197              		.loc 1 3095 52 discriminator 1 view .LVU61
 198 008e 1E46     		mov	r6, r3
 199              	.LVL23:
3095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 200              		.loc 1 3095 52 discriminator 1 view .LVU62
 201 0090 E3E7     		b	.L8
 202              	.LVL24:
 203              	.L9:
3100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 204              		.loc 1 3100 3 is_stmt 1 view .LVU63
3100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 205              		.loc 1 3100 13 is_stmt 0 view .LVU64
 206 0092 019A     		ldr	r2, [sp, #4]
3100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 207              		.loc 1 3100 6 view .LVU65
 208 0094 4FF6FE73 		movw	r3, #65534
 209 0098 9A42     		cmp	r2, r3
 210 009a 0CD8     		bhi	.L15
3106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 211              		.loc 1 3106 3 is_stmt 1 view .LVU66
3106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 212              		.loc 1 3106 24 is_stmt 0 view .LVU67
 213 009c 0023     		movs	r3, #0
 214 009e A363     		str	r3, [r4, #56]
3108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 215              		.loc 1 3108 3 is_stmt 1 view .LVU68
3108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 216              		.loc 1 3108 6 is_stmt 0 view .LVU69
 217 00a0 10F08043 		ands	r3, r0, #1073741824
 218 00a4 0AD0     		beq	.L16
3110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 219              		.loc 1 3110 5 is_stmt 1 view .LVU70
3110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 220              		.loc 1 3110 26 is_stmt 0 view .LVU71
 221 00a6 0123     		movs	r3, #1
 222 00a8 A363     		str	r3, [r4, #56]
 223 00aa B3E7     		b	.L1
 224              	.LVL25:
 225              	.L13:
3080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 226              		.loc 1 3080 14 view .LVU72
 227 00ac 0546     		mov	r5, r0
 228 00ae B1E7     		b	.L1
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 62


 229              	.LVL26:
 230              	.L14:
3088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 231              		.loc 1 3088 14 view .LVU73
 232 00b0 4FF08055 		mov	r5, #268435456
 233 00b4 AEE7     		b	.L1
 234              	.LVL27:
 235              	.L15:
3102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 236              		.loc 1 3102 12 view .LVU74
 237 00b6 4FF08075 		mov	r5, #16777216
 238 00ba ABE7     		b	.L1
 239              	.L16:
3189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 240              		.loc 1 3189 10 view .LVU75
 241 00bc 1D46     		mov	r5, r3
 242 00be A9E7     		b	.L1
 243              	.L21:
 244              		.align	2
 245              	.L20:
 246 00c0 000010C1 		.word	-1055916032
 247              		.cfi_endproc
 248              	.LFE362:
 250              		.section	.text.SD_PowerOFF,"ax",%progbits
 251              		.align	1
 252              		.syntax unified
 253              		.thumb
 254              		.thumb_func
 256              	SD_PowerOFF:
 257              	.LVL28:
 258              	.LFB363:
3191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Turns the SDMMC output signals off.
3194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void SD_PowerOFF(SD_HandleTypeDef *hsd)
3198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 259              		.loc 1 3198 1 is_stmt 1 view -0
 260              		.cfi_startproc
 261              		@ args = 0, pretend = 0, frame = 0
 262              		@ frame_needed = 0, uses_anonymous_args = 0
 263              		.loc 1 3198 1 is_stmt 0 view .LVU77
 264 0000 08B5     		push	{r3, lr}
 265              	.LCFI4:
 266              		.cfi_def_cfa_offset 8
 267              		.cfi_offset 3, -8
 268              		.cfi_offset 14, -4
3199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Power State to OFF */
3200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_PowerState_OFF(hsd->Instance);
 269              		.loc 1 3200 3 is_stmt 1 view .LVU78
 270              		.loc 1 3200 9 is_stmt 0 view .LVU79
 271 0002 0068     		ldr	r0, [r0]
 272              	.LVL29:
 273              		.loc 1 3200 9 view .LVU80
 274 0004 FFF7FEFF 		bl	SDMMC_PowerState_OFF
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 63


 275              	.LVL30:
3201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 276              		.loc 1 3201 1 view .LVU81
 277 0008 08BD     		pop	{r3, pc}
 278              		.cfi_endproc
 279              	.LFE363:
 281              		.section	.text.SD_Read_IT,"ax",%progbits
 282              		.align	1
 283              		.syntax unified
 284              		.thumb
 285              		.thumb_func
 287              	SD_Read_IT:
 288              	.LVL31:
 289              	.LFB369:
3202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Send Status info command.
3205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
3206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pSDstatus: Pointer to the buffer that will contain the SD card status
3207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         SD Status register)
3208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus)
3211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
3213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
3217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check SD response */
3219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set block size for card if it is not equal to current block size for card */
3225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
3229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send CMD55 */
3233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
3237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */
3241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
3242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 64U;
3243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
3244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 64


3245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
3247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
3248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send ACMD13 (SD_APP_STAUS)  with argument as card's RCA */
3250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdStatusRegister(hsd->Instance);
3251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
3254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get status data */
3258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | S
3259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
3261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       for (count = 0U; count < 8U; count++)
3263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         *pData = SDMMC_ReadFIFO(hsd->Instance);
3265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
3266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
3278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
3282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
3286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Nothing to do */
3290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DPSMACT)))
3293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *pData = SDMMC_ReadFIFO(hsd->Instance);
3295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
3296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 65


3302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Clear all the static status flags*/
3304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Returns the current card's status.
3311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCardStatus: pointer to the buffer that will contain the SD card
3313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         status (Card Status register)
3314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus)
3317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (pCardStatus == NULL)
3321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_PARAM;
3323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send Status command */
3326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdSendStatus(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get SD card status */
3333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *pCardStatus = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enables the SDMMC wide bus mode.
3340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
3341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd)
3344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
3346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get SCR Register */
3354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 66


3359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If requested card supports wide bus operation */
3361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((scr[1U] & SDMMC_WIDE_BUS_SUPPORT) != SDMMC_ALLZERO)
3362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA.*/
3364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
3371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 2U);
3372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
3378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Disables the SDMMC wide bus mode.
3387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd)
3391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
3393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get SCR Register */
3401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If requested card supports 1 bit mode operation */
3408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((scr[1U] & SDMMC_SINGLE_BUS_SUPPORT) != SDMMC_ALLZERO)
3409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA */
3411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 67


3416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 0 for single bus mode */
3418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 0U);
3419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
3425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Finds the SD card SCR register value.
3435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pSCR: pointer to the buffer that will contain the SCR value
3437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR)
3440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
3442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
3445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tempscr[2U] = {0UL, 0UL};
3446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *scr = pSCR;
3447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size To 8 Bytes */
3449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 8U);
3450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)((hsd->SdCard.RelCardAdd) << 16U));
3457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
3463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 8U;
3464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
3465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
3468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
3469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
3471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdSendSCR(hsd->Instance);
3472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 68


3473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | S
3478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
3479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOE)) && (index == 0U))
3481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[0] = SDMMC_ReadFIFO(hsd->Instance);
3483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
3484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
3485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
3497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
3499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
3503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
3505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
3509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
3511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* No error flag set */
3515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[1] & SDMMC_0TO7BITS) << 24)  | ((tempscr[1] & SDMMC_8TO15BITS) << 8) | \
3519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
3520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     scr++;
3521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) | \
3522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
3523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 69


3530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Wrap up reading in non-blocking mode.
3531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
3532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *              the configuration information.
3533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void SD_Read_IT(SD_HandleTypeDef *hsd)
3536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 290              		.loc 1 3536 1 is_stmt 1 view -0
 291              		.cfi_startproc
 292              		@ args = 0, pretend = 0, frame = 0
 293              		@ frame_needed = 0, uses_anonymous_args = 0
 294              		.loc 1 3536 1 is_stmt 0 view .LVU83
 295 0000 70B5     		push	{r4, r5, r6, lr}
 296              	.LCFI5:
 297              		.cfi_def_cfa_offset 16
 298              		.cfi_offset 4, -16
 299              		.cfi_offset 5, -12
 300              		.cfi_offset 6, -8
 301              		.cfi_offset 14, -4
3537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 302              		.loc 1 3537 3 is_stmt 1 view .LVU84
3538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 303              		.loc 1 3538 3 view .LVU85
3539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tmp;
 304              		.loc 1 3539 3 view .LVU86
3540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tmp = hsd->pRxBuffPtr;
 305              		.loc 1 3541 3 view .LVU87
 306              		.loc 1 3541 7 is_stmt 0 view .LVU88
 307 0002 446A     		ldr	r4, [r0, #36]
 308              	.LVL32:
3542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->RxXferSize >= 32U)
 309              		.loc 1 3543 3 is_stmt 1 view .LVU89
 310              		.loc 1 3543 10 is_stmt 0 view .LVU90
 311 0004 836A     		ldr	r3, [r0, #40]
 312              		.loc 1 3543 6 view .LVU91
 313 0006 1F2B     		cmp	r3, #31
 314 0008 15D8     		bhi	.L28
 315              	.LVL33:
 316              	.L24:
3544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read data from SDMMC Rx FIFO */
3546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     for (count = 0U; count < 8U; count++)
3547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data = SDMMC_ReadFIFO(hsd->Instance);
3549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
3550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
3552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
3554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
3556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pRxBuffPtr = tmp;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 70


3560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize -= 32U;
3561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 317              		.loc 1 3562 1 view .LVU92
 318 000a 70BD     		pop	{r4, r5, r6, pc}
 319              	.LVL34:
 320              	.L27:
3548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
 321              		.loc 1 3548 7 is_stmt 1 view .LVU93
3548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
 322              		.loc 1 3548 14 is_stmt 0 view .LVU94
 323 000c 3068     		ldr	r0, [r6]
 324 000e FFF7FEFF 		bl	SDMMC_ReadFIFO
 325              	.LVL35:
3549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 326              		.loc 1 3549 7 is_stmt 1 view .LVU95
3549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 327              		.loc 1 3549 12 is_stmt 0 view .LVU96
 328 0012 2070     		strb	r0, [r4]
3550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
 329              		.loc 1 3550 7 is_stmt 1 view .LVU97
 330              	.LVL36:
3551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 331              		.loc 1 3551 7 view .LVU98
3551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 332              		.loc 1 3551 14 is_stmt 0 view .LVU99
 333 0014 C0F30723 		ubfx	r3, r0, #8, #8
3551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 334              		.loc 1 3551 12 view .LVU100
 335 0018 6370     		strb	r3, [r4, #1]
3552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
 336              		.loc 1 3552 7 is_stmt 1 view .LVU101
 337              	.LVL37:
3553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 338              		.loc 1 3553 7 view .LVU102
3553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 339              		.loc 1 3553 14 is_stmt 0 view .LVU103
 340 001a C0F30743 		ubfx	r3, r0, #16, #8
3553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 341              		.loc 1 3553 12 view .LVU104
 342 001e A370     		strb	r3, [r4, #2]
3554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
 343              		.loc 1 3554 7 is_stmt 1 view .LVU105
 344              	.LVL38:
3555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 345              		.loc 1 3555 7 view .LVU106
3555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 346              		.loc 1 3555 14 is_stmt 0 view .LVU107
 347 0020 000E     		lsrs	r0, r0, #24
 348              	.LVL39:
3555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 349              		.loc 1 3555 12 view .LVU108
 350 0022 E070     		strb	r0, [r4, #3]
3556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 351              		.loc 1 3556 7 is_stmt 1 view .LVU109
3556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 352              		.loc 1 3556 10 is_stmt 0 view .LVU110
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 71


 353 0024 0434     		adds	r4, r4, #4
 354              	.LVL40:
3546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 355              		.loc 1 3546 39 is_stmt 1 discriminator 3 view .LVU111
 356 0026 0135     		adds	r5, r5, #1
 357              	.LVL41:
 358              	.L25:
3546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 359              		.loc 1 3546 28 discriminator 1 view .LVU112
 360 0028 072D     		cmp	r5, #7
 361 002a EFD9     		bls	.L27
3559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize -= 32U;
 362              		.loc 1 3559 5 view .LVU113
3559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize -= 32U;
 363              		.loc 1 3559 21 is_stmt 0 view .LVU114
 364 002c 7462     		str	r4, [r6, #36]
3560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 365              		.loc 1 3560 5 is_stmt 1 view .LVU115
3560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 366              		.loc 1 3560 8 is_stmt 0 view .LVU116
 367 002e B36A     		ldr	r3, [r6, #40]
3560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 368              		.loc 1 3560 21 view .LVU117
 369 0030 203B     		subs	r3, r3, #32
 370 0032 B362     		str	r3, [r6, #40]
 371              		.loc 1 3562 1 view .LVU118
 372 0034 E9E7     		b	.L24
 373              	.LVL42:
 374              	.L28:
 375              		.loc 1 3562 1 view .LVU119
 376 0036 0646     		mov	r6, r0
3546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 377              		.loc 1 3546 16 view .LVU120
 378 0038 0025     		movs	r5, #0
 379 003a F5E7     		b	.L25
 380              		.cfi_endproc
 381              	.LFE369:
 383              		.section	.text.SD_Write_IT,"ax",%progbits
 384              		.align	1
 385              		.syntax unified
 386              		.thumb
 387              		.thumb_func
 389              	SD_Write_IT:
 390              	.LVL43:
 391              	.LFB370:
3563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Wrap up writing in non-blocking mode.
3566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
3567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *              the configuration information.
3568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void SD_Write_IT(SD_HandleTypeDef *hsd)
3571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 392              		.loc 1 3571 1 is_stmt 1 view -0
 393              		.cfi_startproc
 394              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 72


 395              		@ frame_needed = 0, uses_anonymous_args = 0
 396              		.loc 1 3571 1 is_stmt 0 view .LVU122
 397 0000 70B5     		push	{r4, r5, r6, lr}
 398              	.LCFI6:
 399              		.cfi_def_cfa_offset 16
 400              		.cfi_offset 4, -16
 401              		.cfi_offset 5, -12
 402              		.cfi_offset 6, -8
 403              		.cfi_offset 14, -4
 404 0002 82B0     		sub	sp, sp, #8
 405              	.LCFI7:
 406              		.cfi_def_cfa_offset 24
3572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 407              		.loc 1 3572 3 is_stmt 1 view .LVU123
3573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 408              		.loc 1 3573 3 view .LVU124
3574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tmp;
 409              		.loc 1 3574 3 view .LVU125
3575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tmp = hsd->pTxBuffPtr;
 410              		.loc 1 3576 3 view .LVU126
 411              		.loc 1 3576 7 is_stmt 0 view .LVU127
 412 0004 C469     		ldr	r4, [r0, #28]
 413              	.LVL44:
3577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->TxXferSize >= 32U)
 414              		.loc 1 3578 3 is_stmt 1 view .LVU128
 415              		.loc 1 3578 10 is_stmt 0 view .LVU129
 416 0006 036A     		ldr	r3, [r0, #32]
 417              		.loc 1 3578 6 view .LVU130
 418 0008 1F2B     		cmp	r3, #31
 419 000a 1CD8     		bhi	.L34
 420              	.LVL45:
 421              	.L30:
3579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write data to SDMMC Tx FIFO */
3581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     for (count = 0U; count < 8U; count++)
3582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data = (uint32_t)(*tmp);
3584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
3586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
3588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
3590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
3591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (void)SDMMC_WriteFIFO(hsd->Instance, &data);
3592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pTxBuffPtr = tmp;
3595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize -= 32U;
3596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 422              		.loc 1 3597 1 view .LVU131
 423 000c 02B0     		add	sp, sp, #8
 424              	.LCFI8:
 425              		.cfi_remember_state
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 73


 426              		.cfi_def_cfa_offset 16
 427              		@ sp needed
 428 000e 70BD     		pop	{r4, r5, r6, pc}
 429              	.LVL46:
 430              	.L33:
 431              	.LCFI9:
 432              		.cfi_restore_state
3583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 433              		.loc 1 3583 7 is_stmt 1 view .LVU132
3583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 434              		.loc 1 3583 25 is_stmt 0 view .LVU133
 435 0010 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
3583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 436              		.loc 1 3583 12 view .LVU134
 437 0012 0193     		str	r3, [sp, #4]
3584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
 438              		.loc 1 3584 7 is_stmt 1 view .LVU135
 439              	.LVL47:
3585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 440              		.loc 1 3585 7 view .LVU136
3585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 441              		.loc 1 3585 27 is_stmt 0 view .LVU137
 442 0014 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
3585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 443              		.loc 1 3585 12 view .LVU138
 444 0016 43EA0223 		orr	r3, r3, r2, lsl #8
 445 001a 0193     		str	r3, [sp, #4]
3586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
 446              		.loc 1 3586 7 is_stmt 1 view .LVU139
 447              	.LVL48:
3587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 448              		.loc 1 3587 7 view .LVU140
3587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 449              		.loc 1 3587 27 is_stmt 0 view .LVU141
 450 001c A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
3587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 451              		.loc 1 3587 12 view .LVU142
 452 001e 43EA0243 		orr	r3, r3, r2, lsl #16
 453 0022 0193     		str	r3, [sp, #4]
3588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
 454              		.loc 1 3588 7 is_stmt 1 view .LVU143
 455              	.LVL49:
3589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 456              		.loc 1 3589 7 view .LVU144
3589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 457              		.loc 1 3589 27 is_stmt 0 view .LVU145
 458 0024 E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
3589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 459              		.loc 1 3589 12 view .LVU146
 460 0026 43EA0263 		orr	r3, r3, r2, lsl #24
 461 002a 0193     		str	r3, [sp, #4]
3590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 462              		.loc 1 3590 7 is_stmt 1 view .LVU147
3590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 463              		.loc 1 3590 10 is_stmt 0 view .LVU148
 464 002c 0434     		adds	r4, r4, #4
 465              	.LVL50:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 74


3591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 466              		.loc 1 3591 7 is_stmt 1 view .LVU149
3591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 467              		.loc 1 3591 13 is_stmt 0 view .LVU150
 468 002e 01A9     		add	r1, sp, #4
 469 0030 3068     		ldr	r0, [r6]
 470 0032 FFF7FEFF 		bl	SDMMC_WriteFIFO
 471              	.LVL51:
3581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 472              		.loc 1 3581 39 is_stmt 1 discriminator 3 view .LVU151
 473 0036 0135     		adds	r5, r5, #1
 474              	.LVL52:
 475              	.L31:
3581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 476              		.loc 1 3581 28 discriminator 1 view .LVU152
 477 0038 072D     		cmp	r5, #7
 478 003a E9D9     		bls	.L33
3594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize -= 32U;
 479              		.loc 1 3594 5 view .LVU153
3594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize -= 32U;
 480              		.loc 1 3594 21 is_stmt 0 view .LVU154
 481 003c F461     		str	r4, [r6, #28]
3595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 482              		.loc 1 3595 5 is_stmt 1 view .LVU155
3595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 483              		.loc 1 3595 8 is_stmt 0 view .LVU156
 484 003e 336A     		ldr	r3, [r6, #32]
3595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 485              		.loc 1 3595 21 view .LVU157
 486 0040 203B     		subs	r3, r3, #32
 487 0042 3362     		str	r3, [r6, #32]
 488              		.loc 1 3597 1 view .LVU158
 489 0044 E2E7     		b	.L30
 490              	.LVL53:
 491              	.L34:
 492              		.loc 1 3597 1 view .LVU159
 493 0046 0646     		mov	r6, r0
3581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 494              		.loc 1 3581 16 view .LVU160
 495 0048 0025     		movs	r5, #0
 496 004a F5E7     		b	.L31
 497              		.cfi_endproc
 498              	.LFE370:
 500              		.section	.text.SD_SendSDStatus,"ax",%progbits
 501              		.align	1
 502              		.syntax unified
 503              		.thumb
 504              		.thumb_func
 506              	SD_SendSDStatus:
 507              	.LVL54:
 508              	.LFB364:
3211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 509              		.loc 1 3211 1 is_stmt 1 view -0
 510              		.cfi_startproc
 511              		@ args = 0, pretend = 0, frame = 24
 512              		@ frame_needed = 0, uses_anonymous_args = 0
3211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 75


 513              		.loc 1 3211 1 is_stmt 0 view .LVU162
 514 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 515              	.LCFI10:
 516              		.cfi_def_cfa_offset 20
 517              		.cfi_offset 4, -20
 518              		.cfi_offset 5, -16
 519              		.cfi_offset 6, -12
 520              		.cfi_offset 7, -8
 521              		.cfi_offset 14, -4
 522 0002 87B0     		sub	sp, sp, #28
 523              	.LCFI11:
 524              		.cfi_def_cfa_offset 48
 525 0004 0546     		mov	r5, r0
 526 0006 0E46     		mov	r6, r1
3212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 527              		.loc 1 3212 3 is_stmt 1 view .LVU163
3213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 528              		.loc 1 3213 3 view .LVU164
3214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 529              		.loc 1 3214 3 view .LVU165
3214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 530              		.loc 1 3214 24 is_stmt 0 view .LVU166
 531 0008 FFF7FEFF 		bl	HAL_GetTick
 532              	.LVL55:
3214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 533              		.loc 1 3214 24 view .LVU167
 534 000c 0746     		mov	r7, r0
 535              	.LVL56:
3215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
 536              		.loc 1 3215 3 is_stmt 1 view .LVU168
3216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 537              		.loc 1 3216 3 view .LVU169
3219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 538              		.loc 1 3219 3 view .LVU170
3219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 539              		.loc 1 3219 8 is_stmt 0 view .LVU171
 540 000e 0021     		movs	r1, #0
 541 0010 2868     		ldr	r0, [r5]
 542              	.LVL57:
3219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 543              		.loc 1 3219 8 view .LVU172
 544 0012 FFF7FEFF 		bl	SDMMC_GetResponse
 545              	.LVL58:
3219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 546              		.loc 1 3219 6 discriminator 1 view .LVU173
 547 0016 10F0007F 		tst	r0, #33554432
 548 001a 64D1     		bne	.L47
3225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 549              		.loc 1 3225 3 is_stmt 1 view .LVU174
3225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 550              		.loc 1 3225 16 is_stmt 0 view .LVU175
 551 001c 4021     		movs	r1, #64
 552 001e 2868     		ldr	r0, [r5]
 553 0020 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 554              	.LVL59:
3226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 555              		.loc 1 3226 3 is_stmt 1 view .LVU176
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 76


3226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 556              		.loc 1 3226 6 is_stmt 0 view .LVU177
 557 0024 0346     		mov	r3, r0
 558 0026 10B1     		cbz	r0, .L38
3228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 559              		.loc 1 3228 5 is_stmt 1 view .LVU178
3228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 560              		.loc 1 3228 8 is_stmt 0 view .LVU179
 561 0028 6A6B     		ldr	r2, [r5, #52]
3228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 562              		.loc 1 3228 20 view .LVU180
 563 002a 6A63     		str	r2, [r5, #52]
3229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 564              		.loc 1 3229 5 is_stmt 1 view .LVU181
3229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 565              		.loc 1 3229 12 is_stmt 0 view .LVU182
 566 002c 5DE0     		b	.L36
 567              	.L38:
3233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 568              		.loc 1 3233 3 is_stmt 1 view .LVU183
3233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 569              		.loc 1 3233 73 is_stmt 0 view .LVU184
 570 002e 696C     		ldr	r1, [r5, #68]
3233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 571              		.loc 1 3233 16 view .LVU185
 572 0030 0904     		lsls	r1, r1, #16
 573 0032 2868     		ldr	r0, [r5]
 574              	.LVL60:
3233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 575              		.loc 1 3233 16 view .LVU186
 576 0034 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 577              	.LVL61:
3234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 578              		.loc 1 3234 3 is_stmt 1 view .LVU187
3234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 579              		.loc 1 3234 6 is_stmt 0 view .LVU188
 580 0038 0346     		mov	r3, r0
 581 003a 10B1     		cbz	r0, .L39
3236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 582              		.loc 1 3236 5 is_stmt 1 view .LVU189
3236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 583              		.loc 1 3236 8 is_stmt 0 view .LVU190
 584 003c 6A6B     		ldr	r2, [r5, #52]
3236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 585              		.loc 1 3236 20 view .LVU191
 586 003e 6A63     		str	r2, [r5, #52]
3237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 587              		.loc 1 3237 5 is_stmt 1 view .LVU192
3237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 588              		.loc 1 3237 12 is_stmt 0 view .LVU193
 589 0040 53E0     		b	.L36
 590              	.L39:
3241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 64U;
 591              		.loc 1 3241 3 is_stmt 1 view .LVU194
3241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 64U;
 592              		.loc 1 3241 24 is_stmt 0 view .LVU195
 593 0042 4FF0FF33 		mov	r3, #-1
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 77


 594 0046 0093     		str	r3, [sp]
3242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
 595              		.loc 1 3242 3 is_stmt 1 view .LVU196
3242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
 596              		.loc 1 3242 24 is_stmt 0 view .LVU197
 597 0048 4023     		movs	r3, #64
 598 004a 0193     		str	r3, [sp, #4]
3243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 599              		.loc 1 3243 3 is_stmt 1 view .LVU198
3243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 600              		.loc 1 3243 24 is_stmt 0 view .LVU199
 601 004c 6023     		movs	r3, #96
 602 004e 0293     		str	r3, [sp, #8]
3244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 603              		.loc 1 3244 3 is_stmt 1 view .LVU200
3244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 604              		.loc 1 3244 24 is_stmt 0 view .LVU201
 605 0050 0223     		movs	r3, #2
 606 0052 0393     		str	r3, [sp, #12]
3245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 607              		.loc 1 3245 3 is_stmt 1 view .LVU202
3245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 608              		.loc 1 3245 24 is_stmt 0 view .LVU203
 609 0054 0023     		movs	r3, #0
 610 0056 0493     		str	r3, [sp, #16]
3246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 611              		.loc 1 3246 3 is_stmt 1 view .LVU204
3246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 612              		.loc 1 3246 24 is_stmt 0 view .LVU205
 613 0058 0123     		movs	r3, #1
 614 005a 0593     		str	r3, [sp, #20]
3247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 615              		.loc 1 3247 3 is_stmt 1 view .LVU206
3247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 616              		.loc 1 3247 9 is_stmt 0 view .LVU207
 617 005c 6946     		mov	r1, sp
 618 005e 2868     		ldr	r0, [r5]
 619              	.LVL62:
3247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 620              		.loc 1 3247 9 view .LVU208
 621 0060 FFF7FEFF 		bl	SDMMC_ConfigData
 622              	.LVL63:
3250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 623              		.loc 1 3250 3 is_stmt 1 view .LVU209
3250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 624              		.loc 1 3250 16 is_stmt 0 view .LVU210
 625 0064 2868     		ldr	r0, [r5]
 626 0066 FFF7FEFF 		bl	SDMMC_CmdStatusRegister
 627              	.LVL64:
3251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 628              		.loc 1 3251 3 is_stmt 1 view .LVU211
3251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 629              		.loc 1 3251 6 is_stmt 0 view .LVU212
 630 006a 0346     		mov	r3, r0
 631 006c 80B1     		cbz	r0, .L40
3253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 632              		.loc 1 3253 5 is_stmt 1 view .LVU213
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 78


3253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 633              		.loc 1 3253 8 is_stmt 0 view .LVU214
 634 006e 6A6B     		ldr	r2, [r5, #52]
3253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 635              		.loc 1 3253 20 view .LVU215
 636 0070 6A63     		str	r2, [r5, #52]
3254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 637              		.loc 1 3254 5 is_stmt 1 view .LVU216
3254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 638              		.loc 1 3254 12 is_stmt 0 view .LVU217
 639 0072 3AE0     		b	.L36
 640              	.LVL65:
 641              	.L43:
3264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
 642              		.loc 1 3264 9 is_stmt 1 view .LVU218
3264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
 643              		.loc 1 3264 18 is_stmt 0 view .LVU219
 644 0074 2868     		ldr	r0, [r5]
 645 0076 FFF7FEFF 		bl	SDMMC_ReadFIFO
 646              	.LVL66:
3264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
 647              		.loc 1 3264 16 discriminator 1 view .LVU220
 648 007a 46F8040B 		str	r0, [r6], #4
 649              	.LVL67:
3265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 650              		.loc 1 3265 9 is_stmt 1 view .LVU221
3262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 651              		.loc 1 3262 41 discriminator 3 view .LVU222
 652 007e 0134     		adds	r4, r4, #1
 653              	.LVL68:
 654              	.L41:
3262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 655              		.loc 1 3262 30 discriminator 1 view .LVU223
 656 0080 072C     		cmp	r4, #7
 657 0082 F7D9     		bls	.L43
 658              	.LVL69:
 659              	.L42:
3269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 660              		.loc 1 3269 5 view .LVU224
3269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 661              		.loc 1 3269 10 is_stmt 0 view .LVU225
 662 0084 FFF7FEFF 		bl	HAL_GetTick
 663              	.LVL70:
3269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 664              		.loc 1 3269 24 discriminator 1 view .LVU226
 665 0088 C01B     		subs	r0, r0, r7
3269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 666              		.loc 1 3269 8 discriminator 1 view .LVU227
 667 008a B0F1FF3F 		cmp	r0, #-1
 668 008e 2FD0     		beq	.L48
 669              	.L40:
3258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 670              		.loc 1 3258 10 is_stmt 1 view .LVU228
3258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 671              		.loc 1 3258 11 is_stmt 0 view .LVU229
 672 0090 2B68     		ldr	r3, [r5]
 673 0092 5C6B     		ldr	r4, [r3, #52]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 79


3258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 674              		.loc 1 3258 10 view .LVU230
 675 0094 14F49574 		ands	r4, r4, #298
 676 0098 04D1     		bne	.L54
3260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 677              		.loc 1 3260 5 is_stmt 1 view .LVU231
3260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 678              		.loc 1 3260 9 is_stmt 0 view .LVU232
 679 009a 5B6B     		ldr	r3, [r3, #52]
3260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 680              		.loc 1 3260 8 view .LVU233
 681 009c 13F4004F 		tst	r3, #32768
 682 00a0 F0D0     		beq	.L42
 683 00a2 EDE7     		b	.L41
 684              	.L54:
3275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 685              		.loc 1 3275 3 is_stmt 1 view .LVU234
3275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 686              		.loc 1 3275 7 is_stmt 0 view .LVU235
 687 00a4 5A6B     		ldr	r2, [r3, #52]
3275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 688              		.loc 1 3275 6 view .LVU236
 689 00a6 12F0080F 		tst	r2, #8
 690 00aa 24D1     		bne	.L49
3279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 691              		.loc 1 3279 8 is_stmt 1 view .LVU237
3279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 692              		.loc 1 3279 12 is_stmt 0 view .LVU238
 693 00ac 5A6B     		ldr	r2, [r3, #52]
3279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 694              		.loc 1 3279 11 view .LVU239
 695 00ae 12F0020F 		tst	r2, #2
 696 00b2 22D1     		bne	.L50
3283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 697              		.loc 1 3283 8 is_stmt 1 view .LVU240
3283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 698              		.loc 1 3283 12 is_stmt 0 view .LVU241
 699 00b4 5B6B     		ldr	r3, [r3, #52]
3283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 700              		.loc 1 3283 11 view .LVU242
 701 00b6 13F0200F 		tst	r3, #32
 702 00ba 20D1     		bne	.L55
 703              	.L45:
3292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 704              		.loc 1 3292 11 is_stmt 1 view .LVU243
 705 00bc 2868     		ldr	r0, [r5]
 706 00be 436B     		ldr	r3, [r0, #52]
 707 00c0 13F48053 		ands	r3, r3, #4096
 708 00c4 0CD0     		beq	.L56
3294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
 709              		.loc 1 3294 5 view .LVU244
3294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
 710              		.loc 1 3294 14 is_stmt 0 view .LVU245
 711 00c6 FFF7FEFF 		bl	SDMMC_ReadFIFO
 712              	.LVL71:
3294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
 713              		.loc 1 3294 12 discriminator 1 view .LVU246
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 80


 714 00ca 46F8040B 		str	r0, [r6], #4
 715              	.LVL72:
3295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 716              		.loc 1 3295 5 is_stmt 1 view .LVU247
3297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 717              		.loc 1 3297 5 view .LVU248
3297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 718              		.loc 1 3297 10 is_stmt 0 view .LVU249
 719 00ce FFF7FEFF 		bl	HAL_GetTick
 720              	.LVL73:
3297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 721              		.loc 1 3297 24 discriminator 1 view .LVU250
 722 00d2 C01B     		subs	r0, r0, r7
3297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 723              		.loc 1 3297 8 discriminator 1 view .LVU251
 724 00d4 B0F1FF3F 		cmp	r0, #-1
 725 00d8 F0D1     		bne	.L45
3299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 726              		.loc 1 3299 14 view .LVU252
 727 00da 4FF00043 		mov	r3, #-2147483648
 728 00de 04E0     		b	.L36
 729              	.L56:
3304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 730              		.loc 1 3304 3 is_stmt 1 view .LVU253
 731 00e0 084A     		ldr	r2, .L57
 732 00e2 8263     		str	r2, [r0, #56]
3306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 733              		.loc 1 3306 3 view .LVU254
3306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 734              		.loc 1 3306 10 is_stmt 0 view .LVU255
 735 00e4 01E0     		b	.L36
 736              	.LVL74:
 737              	.L47:
3221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 738              		.loc 1 3221 12 view .LVU256
 739 00e6 4FF40063 		mov	r3, #2048
 740              	.LVL75:
 741              	.L36:
3307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 742              		.loc 1 3307 1 view .LVU257
 743 00ea 1846     		mov	r0, r3
 744 00ec 07B0     		add	sp, sp, #28
 745              	.LCFI12:
 746              		.cfi_remember_state
 747              		.cfi_def_cfa_offset 20
 748              		@ sp needed
 749 00ee F0BD     		pop	{r4, r5, r6, r7, pc}
 750              	.LVL76:
 751              	.L48:
 752              	.LCFI13:
 753              		.cfi_restore_state
3271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 754              		.loc 1 3271 14 view .LVU258
 755 00f0 4FF00043 		mov	r3, #-2147483648
 756 00f4 F9E7     		b	.L36
 757              	.L49:
3277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 81


 758              		.loc 1 3277 12 view .LVU259
 759 00f6 0823     		movs	r3, #8
 760 00f8 F7E7     		b	.L36
 761              	.L50:
3281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 762              		.loc 1 3281 12 view .LVU260
 763 00fa 0223     		movs	r3, #2
 764 00fc F5E7     		b	.L36
 765              	.L55:
3285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 766              		.loc 1 3285 12 view .LVU261
 767 00fe 2023     		movs	r3, #32
 768 0100 F3E7     		b	.L36
 769              	.L58:
 770 0102 00BF     		.align	2
 771              	.L57:
 772 0104 3A0F0018 		.word	402657082
 773              		.cfi_endproc
 774              	.LFE364:
 776              		.section	.text.SD_FindSCR,"ax",%progbits
 777              		.align	1
 778              		.syntax unified
 779              		.thumb
 780              		.thumb_func
 782              	SD_FindSCR:
 783              	.LVL77:
 784              	.LFB368:
3440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 785              		.loc 1 3440 1 is_stmt 1 view -0
 786              		.cfi_startproc
 787              		@ args = 0, pretend = 0, frame = 32
 788              		@ frame_needed = 0, uses_anonymous_args = 0
3440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 789              		.loc 1 3440 1 is_stmt 0 view .LVU263
 790 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 791              	.LCFI14:
 792              		.cfi_def_cfa_offset 20
 793              		.cfi_offset 4, -20
 794              		.cfi_offset 5, -16
 795              		.cfi_offset 6, -12
 796              		.cfi_offset 7, -8
 797              		.cfi_offset 14, -4
 798 0002 89B0     		sub	sp, sp, #36
 799              	.LCFI15:
 800              		.cfi_def_cfa_offset 56
 801 0004 0446     		mov	r4, r0
 802 0006 0F46     		mov	r7, r1
3441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 803              		.loc 1 3441 3 is_stmt 1 view .LVU264
3442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 804              		.loc 1 3442 3 view .LVU265
3443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
 805              		.loc 1 3443 3 view .LVU266
3443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
 806              		.loc 1 3443 24 is_stmt 0 view .LVU267
 807 0008 FFF7FEFF 		bl	HAL_GetTick
 808              	.LVL78:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 82


3443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
 809              		.loc 1 3443 24 view .LVU268
 810 000c 0546     		mov	r5, r0
 811              	.LVL79:
3444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tempscr[2U] = {0UL, 0UL};
 812              		.loc 1 3444 3 is_stmt 1 view .LVU269
3445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *scr = pSCR;
 813              		.loc 1 3445 3 view .LVU270
3445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *scr = pSCR;
 814              		.loc 1 3445 12 is_stmt 0 view .LVU271
 815 000e 0023     		movs	r3, #0
 816 0010 0093     		str	r3, [sp]
 817 0012 0193     		str	r3, [sp, #4]
3446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 818              		.loc 1 3446 3 is_stmt 1 view .LVU272
 819              	.LVL80:
3449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 820              		.loc 1 3449 3 view .LVU273
3449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 821              		.loc 1 3449 16 is_stmt 0 view .LVU274
 822 0014 0821     		movs	r1, #8
 823 0016 2068     		ldr	r0, [r4]
 824              	.LVL81:
3449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 825              		.loc 1 3449 16 view .LVU275
 826 0018 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 827              	.LVL82:
3450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 828              		.loc 1 3450 3 is_stmt 1 view .LVU276
3450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 829              		.loc 1 3450 6 is_stmt 0 view .LVU277
 830 001c 0646     		mov	r6, r0
 831 001e 10B1     		cbz	r0, .L69
 832              	.LVL83:
 833              	.L59:
3527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 834              		.loc 1 3527 1 view .LVU278
 835 0020 3046     		mov	r0, r6
 836 0022 09B0     		add	sp, sp, #36
 837              	.LCFI16:
 838              		.cfi_remember_state
 839              		.cfi_def_cfa_offset 20
 840              		@ sp needed
 841 0024 F0BD     		pop	{r4, r5, r6, r7, pc}
 842              	.LVL84:
 843              	.L69:
 844              	.LCFI17:
 845              		.cfi_restore_state
3456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 846              		.loc 1 3456 3 is_stmt 1 view .LVU279
3456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 847              		.loc 1 3456 74 is_stmt 0 view .LVU280
 848 0026 616C     		ldr	r1, [r4, #68]
3456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 849              		.loc 1 3456 16 view .LVU281
 850 0028 0904     		lsls	r1, r1, #16
 851 002a 2068     		ldr	r0, [r4]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 83


 852              	.LVL85:
3456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 853              		.loc 1 3456 16 view .LVU282
 854 002c FFF7FEFF 		bl	SDMMC_CmdAppCommand
 855              	.LVL86:
3457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 856              		.loc 1 3457 3 is_stmt 1 view .LVU283
3457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 857              		.loc 1 3457 6 is_stmt 0 view .LVU284
 858 0030 0646     		mov	r6, r0
 859 0032 0028     		cmp	r0, #0
 860 0034 F4D1     		bne	.L59
3462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 8U;
 861              		.loc 1 3462 3 is_stmt 1 view .LVU285
3462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 8U;
 862              		.loc 1 3462 24 is_stmt 0 view .LVU286
 863 0036 4FF0FF33 		mov	r3, #-1
 864 003a 0293     		str	r3, [sp, #8]
3463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
 865              		.loc 1 3463 3 is_stmt 1 view .LVU287
3463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
 866              		.loc 1 3463 24 is_stmt 0 view .LVU288
 867 003c 0823     		movs	r3, #8
 868 003e 0393     		str	r3, [sp, #12]
3464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 869              		.loc 1 3464 3 is_stmt 1 view .LVU289
3464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 870              		.loc 1 3464 24 is_stmt 0 view .LVU290
 871 0040 3023     		movs	r3, #48
 872 0042 0493     		str	r3, [sp, #16]
3465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 873              		.loc 1 3465 3 is_stmt 1 view .LVU291
3465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 874              		.loc 1 3465 24 is_stmt 0 view .LVU292
 875 0044 0223     		movs	r3, #2
 876 0046 0593     		str	r3, [sp, #20]
3466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 877              		.loc 1 3466 3 is_stmt 1 view .LVU293
3466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 878              		.loc 1 3466 24 is_stmt 0 view .LVU294
 879 0048 0023     		movs	r3, #0
 880 004a 0693     		str	r3, [sp, #24]
3467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 881              		.loc 1 3467 3 is_stmt 1 view .LVU295
3467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 882              		.loc 1 3467 24 is_stmt 0 view .LVU296
 883 004c 0123     		movs	r3, #1
 884 004e 0793     		str	r3, [sp, #28]
3468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 885              		.loc 1 3468 3 is_stmt 1 view .LVU297
3468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 886              		.loc 1 3468 9 is_stmt 0 view .LVU298
 887 0050 02A9     		add	r1, sp, #8
 888 0052 2068     		ldr	r0, [r4]
 889              	.LVL87:
3468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 890              		.loc 1 3468 9 view .LVU299
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 84


 891 0054 FFF7FEFF 		bl	SDMMC_ConfigData
 892              	.LVL88:
3471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 893              		.loc 1 3471 3 is_stmt 1 view .LVU300
3471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 894              		.loc 1 3471 16 is_stmt 0 view .LVU301
 895 0058 2068     		ldr	r0, [r4]
 896 005a FFF7FEFF 		bl	SDMMC_CmdSendSCR
 897              	.LVL89:
3472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 898              		.loc 1 3472 3 is_stmt 1 view .LVU302
3472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 899              		.loc 1 3472 6 is_stmt 0 view .LVU303
 900 005e 0646     		mov	r6, r0
 901 0060 30B1     		cbz	r0, .L61
 902 0062 DDE7     		b	.L59
 903              	.LVL90:
 904              	.L62:
3488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 905              		.loc 1 3488 5 is_stmt 1 view .LVU304
3488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 906              		.loc 1 3488 10 is_stmt 0 view .LVU305
 907 0064 FFF7FEFF 		bl	HAL_GetTick
 908              	.LVL91:
3488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 909              		.loc 1 3488 24 discriminator 1 view .LVU306
 910 0068 431B     		subs	r3, r0, r5
3488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 911              		.loc 1 3488 8 discriminator 1 view .LVU307
 912 006a B3F1FF3F 		cmp	r3, #-1
 913 006e 46D0     		beq	.L67
 914              	.LVL92:
 915              	.L61:
3477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
 916              		.loc 1 3477 10 is_stmt 1 view .LVU308
3477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
 917              		.loc 1 3477 11 is_stmt 0 view .LVU309
 918 0070 2068     		ldr	r0, [r4]
 919 0072 426B     		ldr	r2, [r0, #52]
3477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
 920              		.loc 1 3477 10 view .LVU310
 921 0074 40F22A53 		movw	r3, #1322
 922 0078 1A42     		tst	r2, r3
 923 007a 0ED1     		bne	.L70
3480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 924              		.loc 1 3480 5 is_stmt 1 view .LVU311
3480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 925              		.loc 1 3480 11 is_stmt 0 view .LVU312
 926 007c 436B     		ldr	r3, [r0, #52]
3480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 927              		.loc 1 3480 8 view .LVU313
 928 007e 13F4002F 		tst	r3, #524288
 929 0082 EFD1     		bne	.L62
3480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 930              		.loc 1 3480 55 discriminator 1 view .LVU314
 931 0084 002E     		cmp	r6, #0
 932 0086 EDD1     		bne	.L62
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 85


3482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
 933              		.loc 1 3482 7 is_stmt 1 view .LVU315
3482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
 934              		.loc 1 3482 20 is_stmt 0 view .LVU316
 935 0088 FFF7FEFF 		bl	SDMMC_ReadFIFO
 936              	.LVL93:
3482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
 937              		.loc 1 3482 18 discriminator 1 view .LVU317
 938 008c 0090     		str	r0, [sp]
3483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
 939              		.loc 1 3483 7 is_stmt 1 view .LVU318
3483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
 940              		.loc 1 3483 20 is_stmt 0 view .LVU319
 941 008e 2068     		ldr	r0, [r4]
 942 0090 FFF7FEFF 		bl	SDMMC_ReadFIFO
 943              	.LVL94:
3483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
 944              		.loc 1 3483 18 discriminator 1 view .LVU320
 945 0094 0190     		str	r0, [sp, #4]
3484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 946              		.loc 1 3484 7 is_stmt 1 view .LVU321
3484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 947              		.loc 1 3484 12 is_stmt 0 view .LVU322
 948 0096 0136     		adds	r6, r6, #1
 949              	.LVL95:
3484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 950              		.loc 1 3484 12 view .LVU323
 951 0098 E4E7     		b	.L62
 952              	.L70:
3494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 953              		.loc 1 3494 3 is_stmt 1 view .LVU324
3494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 954              		.loc 1 3494 7 is_stmt 0 view .LVU325
 955 009a 436B     		ldr	r3, [r0, #52]
3494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 956              		.loc 1 3494 6 view .LVU326
 957 009c 13F0080F 		tst	r3, #8
 958 00a0 24D1     		bne	.L71
3500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 959              		.loc 1 3500 8 is_stmt 1 view .LVU327
3500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 960              		.loc 1 3500 12 is_stmt 0 view .LVU328
 961 00a2 436B     		ldr	r3, [r0, #52]
3500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 962              		.loc 1 3500 11 view .LVU329
 963 00a4 13F0020F 		tst	r3, #2
 964 00a8 23D1     		bne	.L72
3506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 965              		.loc 1 3506 8 is_stmt 1 view .LVU330
3506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 966              		.loc 1 3506 12 is_stmt 0 view .LVU331
 967 00aa 466B     		ldr	r6, [r0, #52]
 968              	.LVL96:
3506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 969              		.loc 1 3506 11 view .LVU332
 970 00ac 16F02006 		ands	r6, r6, #32
 971 00b0 22D1     		bne	.L73
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 86


3516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 972              		.loc 1 3516 5 is_stmt 1 view .LVU333
 973 00b2 144B     		ldr	r3, .L74
 974 00b4 8363     		str	r3, [r0, #56]
3518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 975              		.loc 1 3518 5 view .LVU334
3518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 976              		.loc 1 3518 22 is_stmt 0 view .LVU335
 977 00b6 019A     		ldr	r2, [sp, #4]
3518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 978              		.loc 1 3518 86 view .LVU336
 979 00b8 1302     		lsls	r3, r2, #8
 980 00ba 03F47F03 		and	r3, r3, #16711680
3518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 981              		.loc 1 3518 52 view .LVU337
 982 00be 43EA0263 		orr	r3, r3, r2, lsl #24
3519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     scr++;
 983              		.loc 1 3519 46 view .LVU338
 984 00c2 110A     		lsrs	r1, r2, #8
 985 00c4 01F47F41 		and	r1, r1, #65280
3518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 986              		.loc 1 3518 92 view .LVU339
 987 00c8 0B43     		orrs	r3, r3, r1
3519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     scr++;
 988              		.loc 1 3519 52 view .LVU340
 989 00ca 43EA1263 		orr	r3, r3, r2, lsr #24
3518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 990              		.loc 1 3518 10 view .LVU341
 991 00ce 3B60     		str	r3, [r7]
3520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) | \
 992              		.loc 1 3520 5 is_stmt 1 view .LVU342
 993              	.LVL97:
3521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 994              		.loc 1 3521 5 view .LVU343
3521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 995              		.loc 1 3521 22 is_stmt 0 view .LVU344
 996 00d0 009A     		ldr	r2, [sp]
3521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 997              		.loc 1 3521 86 view .LVU345
 998 00d2 1302     		lsls	r3, r2, #8
 999 00d4 03F47F03 		and	r3, r3, #16711680
3521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1000              		.loc 1 3521 52 view .LVU346
 1001 00d8 43EA0263 		orr	r3, r3, r2, lsl #24
3522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1002              		.loc 1 3522 46 view .LVU347
 1003 00dc 110A     		lsrs	r1, r2, #8
 1004 00de 01F47F41 		and	r1, r1, #65280
3521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1005              		.loc 1 3521 92 view .LVU348
 1006 00e2 0B43     		orrs	r3, r3, r1
3522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1007              		.loc 1 3522 52 view .LVU349
 1008 00e4 43EA1263 		orr	r3, r3, r2, lsr #24
3521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1009              		.loc 1 3521 10 view .LVU350
 1010 00e8 7B60     		str	r3, [r7, #4]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 87


3526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1011              		.loc 1 3526 3 is_stmt 1 view .LVU351
3526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1012              		.loc 1 3526 10 is_stmt 0 view .LVU352
 1013 00ea 99E7     		b	.L59
 1014              	.LVL98:
 1015              	.L71:
3496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1016              		.loc 1 3496 5 is_stmt 1 view .LVU353
 1017 00ec 0826     		movs	r6, #8
 1018              	.LVL99:
3496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1019              		.loc 1 3496 5 is_stmt 0 view .LVU354
 1020 00ee 8663     		str	r6, [r0, #56]
3498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1021              		.loc 1 3498 5 is_stmt 1 view .LVU355
3498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1022              		.loc 1 3498 12 is_stmt 0 view .LVU356
 1023 00f0 96E7     		b	.L59
 1024              	.LVL100:
 1025              	.L72:
3502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1026              		.loc 1 3502 5 is_stmt 1 view .LVU357
 1027 00f2 0226     		movs	r6, #2
 1028              	.LVL101:
3502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1029              		.loc 1 3502 5 is_stmt 0 view .LVU358
 1030 00f4 8663     		str	r6, [r0, #56]
3504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1031              		.loc 1 3504 5 is_stmt 1 view .LVU359
3504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1032              		.loc 1 3504 12 is_stmt 0 view .LVU360
 1033 00f6 93E7     		b	.L59
 1034              	.L73:
3508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1035              		.loc 1 3508 5 is_stmt 1 view .LVU361
 1036 00f8 2026     		movs	r6, #32
 1037 00fa 8663     		str	r6, [r0, #56]
3510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1038              		.loc 1 3510 5 view .LVU362
3510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1039              		.loc 1 3510 12 is_stmt 0 view .LVU363
 1040 00fc 90E7     		b	.L59
 1041              	.LVL102:
 1042              	.L67:
3490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1043              		.loc 1 3490 14 view .LVU364
 1044 00fe 4FF00046 		mov	r6, #-2147483648
 1045              	.LVL103:
3490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1046              		.loc 1 3490 14 view .LVU365
 1047 0102 8DE7     		b	.L59
 1048              	.L75:
 1049              		.align	2
 1050              	.L74:
 1051 0104 3A0F0018 		.word	402657082
 1052              		.cfi_endproc
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 88


 1053              	.LFE368:
 1055              		.section	.text.SD_WideBus_Enable,"ax",%progbits
 1056              		.align	1
 1057              		.syntax unified
 1058              		.thumb
 1059              		.thumb_func
 1061              	SD_WideBus_Enable:
 1062              	.LVL104:
 1063              	.LFB366:
3344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1064              		.loc 1 3344 1 is_stmt 1 view -0
 1065              		.cfi_startproc
 1066              		@ args = 0, pretend = 0, frame = 8
 1067              		@ frame_needed = 0, uses_anonymous_args = 0
3344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1068              		.loc 1 3344 1 is_stmt 0 view .LVU367
 1069 0000 10B5     		push	{r4, lr}
 1070              	.LCFI18:
 1071              		.cfi_def_cfa_offset 8
 1072              		.cfi_offset 4, -8
 1073              		.cfi_offset 14, -4
 1074 0002 82B0     		sub	sp, sp, #8
 1075              	.LCFI19:
 1076              		.cfi_def_cfa_offset 16
 1077 0004 0446     		mov	r4, r0
3345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1078              		.loc 1 3345 3 is_stmt 1 view .LVU368
3345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1079              		.loc 1 3345 12 is_stmt 0 view .LVU369
 1080 0006 0021     		movs	r1, #0
 1081 0008 0091     		str	r1, [sp]
 1082 000a 0191     		str	r1, [sp, #4]
3346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1083              		.loc 1 3346 3 is_stmt 1 view .LVU370
3348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1084              		.loc 1 3348 3 view .LVU371
3348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1085              		.loc 1 3348 8 is_stmt 0 view .LVU372
 1086 000c 0068     		ldr	r0, [r0]
 1087              	.LVL105:
3348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1088              		.loc 1 3348 8 view .LVU373
 1089 000e FFF7FEFF 		bl	SDMMC_GetResponse
 1090              	.LVL106:
3348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1091              		.loc 1 3348 6 discriminator 1 view .LVU374
 1092 0012 10F0007F 		tst	r0, #33554432
 1093 0016 13D1     		bne	.L78
3354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1094              		.loc 1 3354 3 is_stmt 1 view .LVU375
3354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1095              		.loc 1 3354 16 is_stmt 0 view .LVU376
 1096 0018 6946     		mov	r1, sp
 1097 001a 2046     		mov	r0, r4
 1098 001c FFF7FEFF 		bl	SD_FindSCR
 1099              	.LVL107:
3355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 89


 1100              		.loc 1 3355 3 is_stmt 1 view .LVU377
3355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1101              		.loc 1 3355 6 is_stmt 0 view .LVU378
 1102 0020 80B9     		cbnz	r0, .L76
3361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1103              		.loc 1 3361 3 is_stmt 1 view .LVU379
3361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1104              		.loc 1 3361 6 is_stmt 0 view .LVU380
 1105 0022 019B     		ldr	r3, [sp, #4]
 1106 0024 13F4802F 		tst	r3, #262144
 1107 0028 0ED0     		beq	.L79
3364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1108              		.loc 1 3364 5 is_stmt 1 view .LVU381
3364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1109              		.loc 1 3364 75 is_stmt 0 view .LVU382
 1110 002a 616C     		ldr	r1, [r4, #68]
3364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1111              		.loc 1 3364 18 view .LVU383
 1112 002c 0904     		lsls	r1, r1, #16
 1113 002e 2068     		ldr	r0, [r4]
 1114              	.LVL108:
3364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1115              		.loc 1 3364 18 view .LVU384
 1116 0030 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 1117              	.LVL109:
3365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1118              		.loc 1 3365 5 is_stmt 1 view .LVU385
3365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1119              		.loc 1 3365 8 is_stmt 0 view .LVU386
 1120 0034 30B9     		cbnz	r0, .L76
3371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1121              		.loc 1 3371 5 is_stmt 1 view .LVU387
3371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1122              		.loc 1 3371 18 is_stmt 0 view .LVU388
 1123 0036 0221     		movs	r1, #2
 1124 0038 2068     		ldr	r0, [r4]
 1125              	.LVL110:
3371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1126              		.loc 1 3371 18 view .LVU389
 1127 003a FFF7FEFF 		bl	SDMMC_CmdBusWidth
 1128              	.LVL111:
3372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1129              		.loc 1 3372 5 is_stmt 1 view .LVU390
 1130 003e 01E0     		b	.L76
 1131              	.LVL112:
 1132              	.L78:
3350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1133              		.loc 1 3350 12 is_stmt 0 view .LVU391
 1134 0040 4FF40060 		mov	r0, #2048
 1135              	.L76:
3383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1136              		.loc 1 3383 1 view .LVU392
 1137 0044 02B0     		add	sp, sp, #8
 1138              	.LCFI20:
 1139              		.cfi_remember_state
 1140              		.cfi_def_cfa_offset 8
 1141              		@ sp needed
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 90


 1142 0046 10BD     		pop	{r4, pc}
 1143              	.LVL113:
 1144              	.L79:
 1145              	.LCFI21:
 1146              		.cfi_restore_state
3381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1147              		.loc 1 3381 12 view .LVU393
 1148 0048 4FF08060 		mov	r0, #67108864
 1149              	.LVL114:
3381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1150              		.loc 1 3381 12 view .LVU394
 1151 004c FAE7     		b	.L76
 1152              		.cfi_endproc
 1153              	.LFE366:
 1155              		.section	.text.SD_WideBus_Disable,"ax",%progbits
 1156              		.align	1
 1157              		.syntax unified
 1158              		.thumb
 1159              		.thumb_func
 1161              	SD_WideBus_Disable:
 1162              	.LVL115:
 1163              	.LFB367:
3391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1164              		.loc 1 3391 1 is_stmt 1 view -0
 1165              		.cfi_startproc
 1166              		@ args = 0, pretend = 0, frame = 8
 1167              		@ frame_needed = 0, uses_anonymous_args = 0
3391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1168              		.loc 1 3391 1 is_stmt 0 view .LVU396
 1169 0000 10B5     		push	{r4, lr}
 1170              	.LCFI22:
 1171              		.cfi_def_cfa_offset 8
 1172              		.cfi_offset 4, -8
 1173              		.cfi_offset 14, -4
 1174 0002 82B0     		sub	sp, sp, #8
 1175              	.LCFI23:
 1176              		.cfi_def_cfa_offset 16
 1177 0004 0446     		mov	r4, r0
3392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1178              		.loc 1 3392 3 is_stmt 1 view .LVU397
3392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1179              		.loc 1 3392 12 is_stmt 0 view .LVU398
 1180 0006 0021     		movs	r1, #0
 1181 0008 0091     		str	r1, [sp]
 1182 000a 0191     		str	r1, [sp, #4]
3393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1183              		.loc 1 3393 3 is_stmt 1 view .LVU399
3395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1184              		.loc 1 3395 3 view .LVU400
3395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1185              		.loc 1 3395 8 is_stmt 0 view .LVU401
 1186 000c 0068     		ldr	r0, [r0]
 1187              	.LVL116:
3395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1188              		.loc 1 3395 8 view .LVU402
 1189 000e FFF7FEFF 		bl	SDMMC_GetResponse
 1190              	.LVL117:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 91


3395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1191              		.loc 1 3395 6 discriminator 1 view .LVU403
 1192 0012 10F0007F 		tst	r0, #33554432
 1193 0016 13D1     		bne	.L83
3401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1194              		.loc 1 3401 3 is_stmt 1 view .LVU404
3401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1195              		.loc 1 3401 16 is_stmt 0 view .LVU405
 1196 0018 6946     		mov	r1, sp
 1197 001a 2046     		mov	r0, r4
 1198 001c FFF7FEFF 		bl	SD_FindSCR
 1199              	.LVL118:
3402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1200              		.loc 1 3402 3 is_stmt 1 view .LVU406
3402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1201              		.loc 1 3402 6 is_stmt 0 view .LVU407
 1202 0020 80B9     		cbnz	r0, .L81
3408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1203              		.loc 1 3408 3 is_stmt 1 view .LVU408
3408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1204              		.loc 1 3408 6 is_stmt 0 view .LVU409
 1205 0022 019B     		ldr	r3, [sp, #4]
 1206 0024 13F4803F 		tst	r3, #65536
 1207 0028 0ED0     		beq	.L84
3411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1208              		.loc 1 3411 5 is_stmt 1 view .LVU410
3411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1209              		.loc 1 3411 75 is_stmt 0 view .LVU411
 1210 002a 616C     		ldr	r1, [r4, #68]
3411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1211              		.loc 1 3411 18 view .LVU412
 1212 002c 0904     		lsls	r1, r1, #16
 1213 002e 2068     		ldr	r0, [r4]
 1214              	.LVL119:
3411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1215              		.loc 1 3411 18 view .LVU413
 1216 0030 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 1217              	.LVL120:
3412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1218              		.loc 1 3412 5 is_stmt 1 view .LVU414
3412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1219              		.loc 1 3412 8 is_stmt 0 view .LVU415
 1220 0034 30B9     		cbnz	r0, .L81
3418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1221              		.loc 1 3418 5 is_stmt 1 view .LVU416
3418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1222              		.loc 1 3418 18 is_stmt 0 view .LVU417
 1223 0036 0021     		movs	r1, #0
 1224 0038 2068     		ldr	r0, [r4]
 1225              	.LVL121:
3418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1226              		.loc 1 3418 18 view .LVU418
 1227 003a FFF7FEFF 		bl	SDMMC_CmdBusWidth
 1228              	.LVL122:
3419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1229              		.loc 1 3419 5 is_stmt 1 view .LVU419
 1230 003e 01E0     		b	.L81
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 92


 1231              	.LVL123:
 1232              	.L83:
3397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1233              		.loc 1 3397 12 is_stmt 0 view .LVU420
 1234 0040 4FF40060 		mov	r0, #2048
 1235              	.L81:
3430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1236              		.loc 1 3430 1 view .LVU421
 1237 0044 02B0     		add	sp, sp, #8
 1238              	.LCFI24:
 1239              		.cfi_remember_state
 1240              		.cfi_def_cfa_offset 8
 1241              		@ sp needed
 1242 0046 10BD     		pop	{r4, pc}
 1243              	.LVL124:
 1244              	.L84:
 1245              	.LCFI25:
 1246              		.cfi_restore_state
3428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1247              		.loc 1 3428 12 view .LVU422
 1248 0048 4FF08060 		mov	r0, #67108864
 1249              	.LVL125:
3428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1250              		.loc 1 3428 12 view .LVU423
 1251 004c FAE7     		b	.L81
 1252              		.cfi_endproc
 1253              	.LFE367:
 1255              		.section	.text.SD_HighSpeed,"ax",%progbits
 1256              		.align	1
 1257              		.syntax unified
 1258              		.thumb
 1259              		.thumb_func
 1261              	SD_HighSpeed:
 1262              	.LVL126:
 1263              	.LFB371:
3598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Switches the SD card to High Speed mode.
3601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         This API must be used after "Transfer State"
3602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
3603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock between 50 and 120 MHz
3604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: SD handle
3605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** uint32_t SD_HighSpeed(SD_HandleTypeDef *hsd)
3608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 1264              		.loc 1 3608 1 is_stmt 1 view -0
 1265              		.cfi_startproc
 1266              		@ args = 0, pretend = 0, frame = 88
 1267              		@ frame_needed = 0, uses_anonymous_args = 0
 1268              		.loc 1 3608 1 is_stmt 0 view .LVU425
 1269 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1270              	.LCFI26:
 1271              		.cfi_def_cfa_offset 28
 1272              		.cfi_offset 4, -28
 1273              		.cfi_offset 5, -24
 1274              		.cfi_offset 6, -20
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 93


 1275              		.cfi_offset 7, -16
 1276              		.cfi_offset 8, -12
 1277              		.cfi_offset 9, -8
 1278              		.cfi_offset 14, -4
 1279 0004 97B0     		sub	sp, sp, #92
 1280              	.LCFI27:
 1281              		.cfi_def_cfa_offset 120
 1282 0006 0446     		mov	r4, r0
3609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
 1283              		.loc 1 3609 3 is_stmt 1 view .LVU426
 1284              	.LVL127:
3610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
 1285              		.loc 1 3610 3 view .LVU427
3611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
 1286              		.loc 1 3611 3 view .LVU428
 1287              		.loc 1 3611 12 is_stmt 0 view .LVU429
 1288 0008 4022     		movs	r2, #64
 1289 000a 0021     		movs	r1, #0
 1290 000c 6846     		mov	r0, sp
 1291              	.LVL128:
 1292              		.loc 1 3611 12 view .LVU430
 1293 000e FFF7FEFF 		bl	memset
 1294              	.LVL129:
3612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 1295              		.loc 1 3612 3 is_stmt 1 view .LVU431
3613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t loop = 0 ;
 1296              		.loc 1 3613 3 view .LVU432
3614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
 1297              		.loc 1 3614 3 view .LVU433
 1298              		.loc 1 3614 22 is_stmt 0 view .LVU434
 1299 0012 FFF7FEFF 		bl	HAL_GetTick
 1300              	.LVL130:
3615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
 1301              		.loc 1 3616 3 is_stmt 1 view .LVU435
 1302              		.loc 1 3616 18 is_stmt 0 view .LVU436
 1303 0016 A36D     		ldr	r3, [r4, #88]
 1304              		.loc 1 3616 6 view .LVU437
 1305 0018 002B     		cmp	r3, #0
 1306 001a 73D0     		beq	.L96
 1307 001c 8046     		mov	r8, r0
3617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Standard Speed Card <= 12.5Mhz  */
3619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_HIGH_SPEED)
 1308              		.loc 1 3622 3 is_stmt 1 view .LVU438
 1309              		.loc 1 3622 6 is_stmt 0 view .LVU439
 1310 001e B3F5807F 		cmp	r3, #256
 1311 0022 04D0     		beq	.L100
3609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
 1312              		.loc 1 3609 12 view .LVU440
 1313 0024 0027     		movs	r7, #0
 1314              	.LVL131:
 1315              	.L86:
3623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 94


3624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the Data control register */
3625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
3626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
3634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
3635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
3636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
3637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
3640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure);
3642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, SDMMC_SDR25_SWITCH_PATTERN);
3645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
3651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
3652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
3654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
3656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           SD_hs[(8U * loop) + count]  = SDMMC_ReadFIFO(hsd->Instance);
3658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         loop ++;
3660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - Timeout) >=  SDMMC_DATATIMEOUT)
3663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
3665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
3666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
3667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
3673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
3679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 95


3681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
3687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
3689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* No error flag set */
3695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
3701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((((uint8_t *)SD_hs)[13] & 2U) != 2U)
3702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
3704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return errorstate;
3709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1316              		.loc 1 3709 1 view .LVU441
 1317 0026 3846     		mov	r0, r7
 1318 0028 17B0     		add	sp, sp, #92
 1319              	.LCFI28:
 1320              		.cfi_remember_state
 1321              		.cfi_def_cfa_offset 28
 1322              		@ sp needed
 1323 002a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1324              	.LVL132:
 1325              	.L100:
 1326              	.LCFI29:
 1327              		.cfi_restore_state
3625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 1328              		.loc 1 3625 5 is_stmt 1 view .LVU442
3625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 1329              		.loc 1 3625 8 is_stmt 0 view .LVU443
 1330 002e 2368     		ldr	r3, [r4]
3625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 1331              		.loc 1 3625 26 view .LVU444
 1332 0030 0022     		movs	r2, #0
 1333 0032 DA62     		str	r2, [r3, #44]
3626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1334              		.loc 1 3626 5 is_stmt 1 view .LVU445
3626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1335              		.loc 1 3626 18 is_stmt 0 view .LVU446
 1336 0034 4021     		movs	r1, #64
 1337 0036 2068     		ldr	r0, [r4]
 1338              	.LVL133:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 96


3626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1339              		.loc 1 3626 18 view .LVU447
 1340 0038 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 1341              	.LVL134:
3628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1342              		.loc 1 3628 5 is_stmt 1 view .LVU448
3628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1343              		.loc 1 3628 8 is_stmt 0 view .LVU449
 1344 003c 0746     		mov	r7, r0
 1345 003e 0028     		cmp	r0, #0
 1346 0040 F1D1     		bne	.L86
3634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
 1347              		.loc 1 3634 5 is_stmt 1 view .LVU450
3634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
 1348              		.loc 1 3634 43 is_stmt 0 view .LVU451
 1349 0042 4FF0FF33 		mov	r3, #-1
 1350 0046 1093     		str	r3, [sp, #64]
3635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
 1351              		.loc 1 3635 5 is_stmt 1 view .LVU452
3635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
 1352              		.loc 1 3635 43 is_stmt 0 view .LVU453
 1353 0048 4023     		movs	r3, #64
 1354 004a 1193     		str	r3, [sp, #68]
3636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1355              		.loc 1 3636 5 is_stmt 1 view .LVU454
3636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1356              		.loc 1 3636 43 is_stmt 0 view .LVU455
 1357 004c 6023     		movs	r3, #96
 1358 004e 1293     		str	r3, [sp, #72]
3637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1359              		.loc 1 3637 5 is_stmt 1 view .LVU456
3637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1360              		.loc 1 3637 43 is_stmt 0 view .LVU457
 1361 0050 0223     		movs	r3, #2
 1362 0052 1393     		str	r3, [sp, #76]
3638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
 1363              		.loc 1 3638 5 is_stmt 1 view .LVU458
3638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
 1364              		.loc 1 3638 43 is_stmt 0 view .LVU459
 1365 0054 0023     		movs	r3, #0
 1366 0056 1493     		str	r3, [sp, #80]
3639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1367              		.loc 1 3639 5 is_stmt 1 view .LVU460
3639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1368              		.loc 1 3639 43 is_stmt 0 view .LVU461
 1369 0058 0123     		movs	r3, #1
 1370 005a 1593     		str	r3, [sp, #84]
3641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1371              		.loc 1 3641 5 is_stmt 1 view .LVU462
3641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1372              		.loc 1 3641 11 is_stmt 0 view .LVU463
 1373 005c 10A9     		add	r1, sp, #64
 1374 005e 2068     		ldr	r0, [r4]
 1375              	.LVL135:
3641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1376              		.loc 1 3641 11 view .LVU464
 1377 0060 FFF7FEFF 		bl	SDMMC_ConfigData
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 97


 1378              	.LVL136:
3644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1379              		.loc 1 3644 5 is_stmt 1 view .LVU465
3644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1380              		.loc 1 3644 18 is_stmt 0 view .LVU466
 1381 0064 2949     		ldr	r1, .L106
 1382 0066 2068     		ldr	r0, [r4]
 1383 0068 FFF7FEFF 		bl	SDMMC_CmdSwitch
 1384              	.LVL137:
3645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1385              		.loc 1 3645 5 is_stmt 1 view .LVU467
3645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1386              		.loc 1 3645 8 is_stmt 0 view .LVU468
 1387 006c 0746     		mov	r7, r0
 1388 006e 0028     		cmp	r0, #0
 1389 0070 D9D1     		bne	.L86
3613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
 1390              		.loc 1 3613 12 view .LVU469
 1391 0072 8146     		mov	r9, r0
 1392 0074 15E0     		b	.L88
 1393              	.LVL138:
 1394              	.L91:
3657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1395              		.loc 1 3657 11 is_stmt 1 view .LVU470
3657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1396              		.loc 1 3657 29 is_stmt 0 view .LVU471
 1397 0076 05EBC906 		add	r6, r5, r9, lsl #3
3657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1398              		.loc 1 3657 41 view .LVU472
 1399 007a 2068     		ldr	r0, [r4]
 1400 007c FFF7FEFF 		bl	SDMMC_ReadFIFO
 1401              	.LVL139:
3657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1402              		.loc 1 3657 39 discriminator 1 view .LVU473
 1403 0080 16AB     		add	r3, sp, #88
 1404 0082 03EB8606 		add	r6, r3, r6, lsl #2
 1405 0086 46F8580C 		str	r0, [r6, #-88]
3655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1406              		.loc 1 3655 43 is_stmt 1 discriminator 3 view .LVU474
 1407 008a 0135     		adds	r5, r5, #1
 1408              	.LVL140:
 1409              	.L89:
3655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1410              		.loc 1 3655 32 discriminator 1 view .LVU475
 1411 008c 072D     		cmp	r5, #7
 1412 008e F2D9     		bls	.L91
3659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1413              		.loc 1 3659 9 view .LVU476
3659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1414              		.loc 1 3659 14 is_stmt 0 view .LVU477
 1415 0090 09F10109 		add	r9, r9, #1
 1416              	.LVL141:
 1417              	.L90:
3662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1418              		.loc 1 3662 7 is_stmt 1 view .LVU478
3662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1419              		.loc 1 3662 12 is_stmt 0 view .LVU479
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 98


 1420 0094 FFF7FEFF 		bl	HAL_GetTick
 1421              	.LVL142:
3662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1422              		.loc 1 3662 26 discriminator 1 view .LVU480
 1423 0098 A0EB0800 		sub	r0, r0, r8
3662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1424              		.loc 1 3662 10 discriminator 1 view .LVU481
 1425 009c B0F1FF3F 		cmp	r0, #-1
 1426 00a0 0AD0     		beq	.L101
 1427              	.LVL143:
 1428              	.L88:
3650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 1429              		.loc 1 3650 12 is_stmt 1 view .LVU482
3650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 1430              		.loc 1 3650 13 is_stmt 0 view .LVU483
 1431 00a2 2368     		ldr	r3, [r4]
 1432 00a4 5D6B     		ldr	r5, [r3, #52]
 1433 00a6 40F22A52 		movw	r2, #1322
3650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 1434              		.loc 1 3650 12 view .LVU484
 1435 00aa 1540     		ands	r5, r5, r2
 1436 00ac 0BD1     		bne	.L102
3653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1437              		.loc 1 3653 7 is_stmt 1 view .LVU485
3653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1438              		.loc 1 3653 11 is_stmt 0 view .LVU486
 1439 00ae 5B6B     		ldr	r3, [r3, #52]
3653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1440              		.loc 1 3653 10 view .LVU487
 1441 00b0 13F4004F 		tst	r3, #32768
 1442 00b4 EED0     		beq	.L90
 1443 00b6 E9E7     		b	.L89
 1444              	.L101:
3664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 1445              		.loc 1 3664 9 is_stmt 1 view .LVU488
3664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 1446              		.loc 1 3664 24 is_stmt 0 view .LVU489
 1447 00b8 4FF00047 		mov	r7, #-2147483648
 1448              	.LVL144:
3664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 1449              		.loc 1 3664 24 view .LVU490
 1450 00bc 6763     		str	r7, [r4, #52]
3665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
 1451              		.loc 1 3665 9 is_stmt 1 view .LVU491
3665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
 1452              		.loc 1 3665 20 is_stmt 0 view .LVU492
 1453 00be 0123     		movs	r3, #1
 1454 00c0 84F83030 		strb	r3, [r4, #48]
3666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1455              		.loc 1 3666 9 is_stmt 1 view .LVU493
3666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1456              		.loc 1 3666 16 is_stmt 0 view .LVU494
 1457 00c4 AFE7     		b	.L86
 1458              	.LVL145:
 1459              	.L102:
3670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1460              		.loc 1 3670 5 is_stmt 1 view .LVU495
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 99


3670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1461              		.loc 1 3670 9 is_stmt 0 view .LVU496
 1462 00c6 5A6B     		ldr	r2, [r3, #52]
3670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1463              		.loc 1 3670 8 view .LVU497
 1464 00c8 12F0080F 		tst	r2, #8
 1465 00cc 11D1     		bne	.L103
3676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1466              		.loc 1 3676 10 is_stmt 1 view .LVU498
3676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1467              		.loc 1 3676 14 is_stmt 0 view .LVU499
 1468 00ce 5A6B     		ldr	r2, [r3, #52]
3676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1469              		.loc 1 3676 13 view .LVU500
 1470 00d0 12F0020F 		tst	r2, #2
 1471 00d4 10D1     		bne	.L104
3684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1472              		.loc 1 3684 10 is_stmt 1 view .LVU501
3684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1473              		.loc 1 3684 14 is_stmt 0 view .LVU502
 1474 00d6 5A6B     		ldr	r2, [r3, #52]
3684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1475              		.loc 1 3684 13 view .LVU503
 1476 00d8 12F0200F 		tst	r2, #32
 1477 00dc 0FD1     		bne	.L105
3695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1478              		.loc 1 3695 5 is_stmt 1 view .LVU504
3698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1479              		.loc 1 3698 5 view .LVU505
 1480 00de 0C4A     		ldr	r2, .L106+4
 1481 00e0 9A63     		str	r2, [r3, #56]
3701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1482              		.loc 1 3701 5 view .LVU506
3701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1483              		.loc 1 3701 28 is_stmt 0 view .LVU507
 1484 00e2 9DF80D30 		ldrb	r3, [sp, #13]	@ zero_extendqisi2
3701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1485              		.loc 1 3701 8 view .LVU508
 1486 00e6 13F0020F 		tst	r3, #2
 1487 00ea 9CD1     		bne	.L86
3703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1488              		.loc 1 3703 18 view .LVU509
 1489 00ec 4FF08057 		mov	r7, #268435456
 1490              	.LVL146:
3703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1491              		.loc 1 3703 18 view .LVU510
 1492 00f0 99E7     		b	.L86
 1493              	.LVL147:
 1494              	.L103:
3672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1495              		.loc 1 3672 7 is_stmt 1 view .LVU511
 1496 00f2 0822     		movs	r2, #8
 1497 00f4 9A63     		str	r2, [r3, #56]
3674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1498              		.loc 1 3674 7 view .LVU512
3674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1499              		.loc 1 3674 14 is_stmt 0 view .LVU513
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 100


 1500 00f6 96E7     		b	.L86
 1501              	.L104:
3678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1502              		.loc 1 3678 7 is_stmt 1 view .LVU514
 1503 00f8 0227     		movs	r7, #2
 1504              	.LVL148:
3678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1505              		.loc 1 3678 7 is_stmt 0 view .LVU515
 1506 00fa 9F63     		str	r7, [r3, #56]
3680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1507              		.loc 1 3680 7 is_stmt 1 view .LVU516
 1508              	.LVL149:
3682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1509              		.loc 1 3682 7 view .LVU517
3682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1510              		.loc 1 3682 14 is_stmt 0 view .LVU518
 1511 00fc 93E7     		b	.L86
 1512              	.LVL150:
 1513              	.L105:
3686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1514              		.loc 1 3686 7 is_stmt 1 view .LVU519
 1515 00fe 2027     		movs	r7, #32
 1516              	.LVL151:
3686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1517              		.loc 1 3686 7 is_stmt 0 view .LVU520
 1518 0100 9F63     		str	r7, [r3, #56]
3688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1519              		.loc 1 3688 7 is_stmt 1 view .LVU521
 1520              	.LVL152:
3690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1521              		.loc 1 3690 7 view .LVU522
3690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1522              		.loc 1 3690 14 is_stmt 0 view .LVU523
 1523 0102 90E7     		b	.L86
 1524              	.LVL153:
 1525              	.L96:
3619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1526              		.loc 1 3619 12 view .LVU524
 1527 0104 4FF08067 		mov	r7, #67108864
 1528 0108 8DE7     		b	.L86
 1529              	.L107:
 1530 010a 00BF     		.align	2
 1531              	.L106:
 1532 010c 01FFFF80 		.word	-2130706687
 1533 0110 3A0F0018 		.word	402657082
 1534              		.cfi_endproc
 1535              	.LFE371:
 1537              		.section	.text.SD_SendStatus,"ax",%progbits
 1538              		.align	1
 1539              		.syntax unified
 1540              		.thumb
 1541              		.thumb_func
 1543              	SD_SendStatus:
 1544              	.LVL154:
 1545              	.LFB365:
3317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1546              		.loc 1 3317 1 is_stmt 1 view -0
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 101


 1547              		.cfi_startproc
 1548              		@ args = 0, pretend = 0, frame = 0
 1549              		@ frame_needed = 0, uses_anonymous_args = 0
3317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1550              		.loc 1 3317 1 is_stmt 0 view .LVU526
 1551 0000 70B5     		push	{r4, r5, r6, lr}
 1552              	.LCFI30:
 1553              		.cfi_def_cfa_offset 16
 1554              		.cfi_offset 4, -16
 1555              		.cfi_offset 5, -12
 1556              		.cfi_offset 6, -8
 1557              		.cfi_offset 14, -4
3318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1558              		.loc 1 3318 3 is_stmt 1 view .LVU527
3320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1559              		.loc 1 3320 3 view .LVU528
3320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1560              		.loc 1 3320 6 is_stmt 0 view .LVU529
 1561 0002 81B1     		cbz	r1, .L110
 1562 0004 0446     		mov	r4, r0
 1563 0006 0E46     		mov	r6, r1
3326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1564              		.loc 1 3326 3 is_stmt 1 view .LVU530
3326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1565              		.loc 1 3326 73 is_stmt 0 view .LVU531
 1566 0008 416C     		ldr	r1, [r0, #68]
 1567              	.LVL155:
3326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1568              		.loc 1 3326 16 view .LVU532
 1569 000a 0904     		lsls	r1, r1, #16
 1570 000c 0068     		ldr	r0, [r0]
 1571              	.LVL156:
3326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1572              		.loc 1 3326 16 view .LVU533
 1573 000e FFF7FEFF 		bl	SDMMC_CmdSendStatus
 1574              	.LVL157:
3327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1575              		.loc 1 3327 3 is_stmt 1 view .LVU534
3327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1576              		.loc 1 3327 6 is_stmt 0 view .LVU535
 1577 0012 0546     		mov	r5, r0
 1578 0014 08B1     		cbz	r0, .L112
 1579              	.LVL158:
 1580              	.L108:
3336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1581              		.loc 1 3336 1 view .LVU536
 1582 0016 2846     		mov	r0, r5
 1583 0018 70BD     		pop	{r4, r5, r6, pc}
 1584              	.LVL159:
 1585              	.L112:
3333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1586              		.loc 1 3333 3 is_stmt 1 view .LVU537
3333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1587              		.loc 1 3333 18 is_stmt 0 view .LVU538
 1588 001a 0021     		movs	r1, #0
 1589 001c 2068     		ldr	r0, [r4]
 1590              	.LVL160:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 102


3333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1591              		.loc 1 3333 18 view .LVU539
 1592 001e FFF7FEFF 		bl	SDMMC_GetResponse
 1593              	.LVL161:
3333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1594              		.loc 1 3333 16 discriminator 1 view .LVU540
 1595 0022 3060     		str	r0, [r6]
3335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1596              		.loc 1 3335 3 is_stmt 1 view .LVU541
3335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1597              		.loc 1 3335 10 is_stmt 0 view .LVU542
 1598 0024 F7E7     		b	.L108
 1599              	.LVL162:
 1600              	.L110:
3322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1601              		.loc 1 3322 12 view .LVU543
 1602 0026 4FF00065 		mov	r5, #134217728
 1603 002a F4E7     		b	.L108
 1604              		.cfi_endproc
 1605              	.LFE365:
 1607              		.section	.text.HAL_SD_MspInit,"ax",%progbits
 1608              		.align	1
 1609              		.weak	HAL_SD_MspInit
 1610              		.syntax unified
 1611              		.thumb
 1612              		.thumb_func
 1614              	HAL_SD_MspInit:
 1615              	.LVL163:
 1616              	.LFB336:
 610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 1617              		.loc 1 610 1 is_stmt 1 view -0
 1618              		.cfi_startproc
 1619              		@ args = 0, pretend = 0, frame = 0
 1620              		@ frame_needed = 0, uses_anonymous_args = 0
 1621              		@ link register save eliminated.
 612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1622              		.loc 1 612 3 view .LVU545
 617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1623              		.loc 1 617 1 is_stmt 0 view .LVU546
 1624 0000 7047     		bx	lr
 1625              		.cfi_endproc
 1626              	.LFE336:
 1628              		.section	.text.HAL_SD_MspDeInit,"ax",%progbits
 1629              		.align	1
 1630              		.weak	HAL_SD_MspDeInit
 1631              		.syntax unified
 1632              		.thumb
 1633              		.thumb_func
 1635              	HAL_SD_MspDeInit:
 1636              	.LVL164:
 1637              	.LFB337:
 625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 1638              		.loc 1 625 1 is_stmt 1 view -0
 1639              		.cfi_startproc
 1640              		@ args = 0, pretend = 0, frame = 0
 1641              		@ frame_needed = 0, uses_anonymous_args = 0
 1642              		@ link register save eliminated.
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 103


 627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1643              		.loc 1 627 3 view .LVU548
 632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1644              		.loc 1 632 1 is_stmt 0 view .LVU549
 1645 0000 7047     		bx	lr
 1646              		.cfi_endproc
 1647              	.LFE337:
 1649              		.section	.text.HAL_SD_DeInit,"ax",%progbits
 1650              		.align	1
 1651              		.global	HAL_SD_DeInit
 1652              		.syntax unified
 1653              		.thumb
 1654              		.thumb_func
 1656              	HAL_SD_DeInit:
 1657              	.LVL165:
 1658              	.LFB335:
 553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 1659              		.loc 1 553 1 is_stmt 1 view -0
 1660              		.cfi_startproc
 1661              		@ args = 0, pretend = 0, frame = 0
 1662              		@ frame_needed = 0, uses_anonymous_args = 0
 555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1663              		.loc 1 555 3 view .LVU551
 555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1664              		.loc 1 555 6 is_stmt 0 view .LVU552
 1665 0000 70B1     		cbz	r0, .L117
 553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 1666              		.loc 1 553 1 view .LVU553
 1667 0002 10B5     		push	{r4, lr}
 1668              	.LCFI31:
 1669              		.cfi_def_cfa_offset 8
 1670              		.cfi_offset 4, -8
 1671              		.cfi_offset 14, -4
 1672 0004 0446     		mov	r4, r0
 561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1673              		.loc 1 561 3 is_stmt 1 view .LVU554
 563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1674              		.loc 1 563 3 view .LVU555
 563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1675              		.loc 1 563 14 is_stmt 0 view .LVU556
 1676 0006 0323     		movs	r3, #3
 1677 0008 80F83030 		strb	r3, [r0, #48]
 582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1678              		.loc 1 582 3 is_stmt 1 view .LVU557
 1679 000c FFF7FEFF 		bl	SD_PowerOFF
 1680              	.LVL166:
 594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 1681              		.loc 1 594 3 view .LVU558
 1682 0010 2046     		mov	r0, r4
 1683 0012 FFF7FEFF 		bl	HAL_SD_MspDeInit
 1684              	.LVL167:
 597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 1685              		.loc 1 597 3 view .LVU559
 597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 1686              		.loc 1 597 18 is_stmt 0 view .LVU560
 1687 0016 0020     		movs	r0, #0
 1688 0018 6063     		str	r0, [r4, #52]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 104


 598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1689              		.loc 1 598 3 is_stmt 1 view .LVU561
 598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1690              		.loc 1 598 14 is_stmt 0 view .LVU562
 1691 001a 84F83000 		strb	r0, [r4, #48]
 600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1692              		.loc 1 600 3 is_stmt 1 view .LVU563
 601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1693              		.loc 1 601 1 is_stmt 0 view .LVU564
 1694 001e 10BD     		pop	{r4, pc}
 1695              	.LVL168:
 1696              	.L117:
 1697              	.LCFI32:
 1698              		.cfi_def_cfa_offset 0
 1699              		.cfi_restore 4
 1700              		.cfi_restore 14
 557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1701              		.loc 1 557 12 view .LVU565
 1702 0020 0120     		movs	r0, #1
 1703              	.LVL169:
 601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1704              		.loc 1 601 1 view .LVU566
 1705 0022 7047     		bx	lr
 1706              		.cfi_endproc
 1707              	.LFE335:
 1709              		.section	.text.HAL_SD_ReadBlocks,"ax",%progbits
 1710              		.align	1
 1711              		.global	HAL_SD_ReadBlocks
 1712              		.syntax unified
 1713              		.thumb
 1714              		.thumb_func
 1716              	HAL_SD_ReadBlocks:
 1717              	.LVL170:
 1718              	.LFB338:
 667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 1719              		.loc 1 667 1 is_stmt 1 view -0
 1720              		.cfi_startproc
 1721              		@ args = 4, pretend = 0, frame = 24
 1722              		@ frame_needed = 0, uses_anonymous_args = 0
 667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 1723              		.loc 1 667 1 is_stmt 0 view .LVU568
 1724 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1725              	.LCFI33:
 1726              		.cfi_def_cfa_offset 36
 1727              		.cfi_offset 4, -36
 1728              		.cfi_offset 5, -32
 1729              		.cfi_offset 6, -28
 1730              		.cfi_offset 7, -24
 1731              		.cfi_offset 8, -20
 1732              		.cfi_offset 9, -16
 1733              		.cfi_offset 10, -12
 1734              		.cfi_offset 11, -8
 1735              		.cfi_offset 14, -4
 1736 0004 87B0     		sub	sp, sp, #28
 1737              	.LCFI34:
 1738              		.cfi_def_cfa_offset 64
 1739 0006 0546     		mov	r5, r0
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 105


 1740 0008 0C46     		mov	r4, r1
 1741 000a 1646     		mov	r6, r2
 1742 000c 9A46     		mov	r10, r3
 1743 000e DDF84090 		ldr	r9, [sp, #64]
 668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1744              		.loc 1 668 3 is_stmt 1 view .LVU569
 669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 1745              		.loc 1 669 3 view .LVU570
 670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 1746              		.loc 1 670 3 view .LVU571
 670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 1747              		.loc 1 670 24 is_stmt 0 view .LVU572
 1748 0012 FFF7FEFF 		bl	HAL_GetTick
 1749              	.LVL171:
 671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 1750              		.loc 1 671 3 is_stmt 1 view .LVU573
 672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 1751              		.loc 1 672 3 view .LVU574
 673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 1752              		.loc 1 673 3 view .LVU575
 674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 1753              		.loc 1 674 3 view .LVU576
 675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1754              		.loc 1 675 3 view .LVU577
 677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1755              		.loc 1 677 3 view .LVU578
 677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1756              		.loc 1 677 6 is_stmt 0 view .LVU579
 1757 0016 002C     		cmp	r4, #0
 1758 0018 3AD0     		beq	.L142
 1759 001a 8046     		mov	r8, r0
 683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1760              		.loc 1 683 3 is_stmt 1 view .LVU580
 683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1761              		.loc 1 683 10 is_stmt 0 view .LVU581
 1762 001c 95F83070 		ldrb	r7, [r5, #48]	@ zero_extendqisi2
 1763 0020 FFB2     		uxtb	r7, r7
 683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1764              		.loc 1 683 6 view .LVU582
 1765 0022 012F     		cmp	r7, #1
 1766 0024 40F0E080 		bne	.L125
 685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1767              		.loc 1 685 5 is_stmt 1 view .LVU583
 685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1768              		.loc 1 685 20 is_stmt 0 view .LVU584
 1769 0028 0023     		movs	r3, #0
 1770 002a 6B63     		str	r3, [r5, #52]
 687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1771              		.loc 1 687 5 is_stmt 1 view .LVU585
 687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1772              		.loc 1 687 14 is_stmt 0 view .LVU586
 1773 002c 06EB0A03 		add	r3, r6, r10
 687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1774              		.loc 1 687 46 view .LVU587
 1775 0030 2A6D     		ldr	r2, [r5, #80]
 687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1776              		.loc 1 687 8 view .LVU588
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 106


 1777 0032 9342     		cmp	r3, r2
 1778 0034 32D8     		bhi	.L143
 693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1779              		.loc 1 693 5 is_stmt 1 view .LVU589
 693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1780              		.loc 1 693 16 is_stmt 0 view .LVU590
 1781 0036 0323     		movs	r3, #3
 1782 0038 85F83030 		strb	r3, [r5, #48]
 696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1783              		.loc 1 696 5 is_stmt 1 view .LVU591
 696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1784              		.loc 1 696 8 is_stmt 0 view .LVU592
 1785 003c 2B68     		ldr	r3, [r5]
 696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1786              		.loc 1 696 26 view .LVU593
 1787 003e 0022     		movs	r2, #0
 1788 0040 DA62     		str	r2, [r3, #44]
 698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1789              		.loc 1 698 5 is_stmt 1 view .LVU594
 698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1790              		.loc 1 698 20 is_stmt 0 view .LVU595
 1791 0042 AB6B     		ldr	r3, [r5, #56]
 698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1792              		.loc 1 698 8 view .LVU596
 1793 0044 012B     		cmp	r3, #1
 1794 0046 00D0     		beq	.L127
 700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1795              		.loc 1 700 7 is_stmt 1 view .LVU597
 700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1796              		.loc 1 700 11 is_stmt 0 view .LVU598
 1797 0048 7602     		lsls	r6, r6, #9
 1798              	.LVL172:
 1799              	.L127:
 704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1800              		.loc 1 704 5 is_stmt 1 view .LVU599
 704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1801              		.loc 1 704 26 is_stmt 0 view .LVU600
 1802 004a 4FF0FF33 		mov	r3, #-1
 1803 004e 0093     		str	r3, [sp]
 705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1804              		.loc 1 705 5 is_stmt 1 view .LVU601
 705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1805              		.loc 1 705 43 is_stmt 0 view .LVU602
 1806 0050 4FEA4A23 		lsl	r3, r10, #9
 705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1807              		.loc 1 705 26 view .LVU603
 1808 0054 0193     		str	r3, [sp, #4]
 706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1809              		.loc 1 706 5 is_stmt 1 view .LVU604
 706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1810              		.loc 1 706 26 is_stmt 0 view .LVU605
 1811 0056 9023     		movs	r3, #144
 1812 0058 0293     		str	r3, [sp, #8]
 707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1813              		.loc 1 707 5 is_stmt 1 view .LVU606
 707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1814              		.loc 1 707 26 is_stmt 0 view .LVU607
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 107


 1815 005a 0223     		movs	r3, #2
 1816 005c 0393     		str	r3, [sp, #12]
 708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 1817              		.loc 1 708 5 is_stmt 1 view .LVU608
 708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 1818              		.loc 1 708 26 is_stmt 0 view .LVU609
 1819 005e 0023     		movs	r3, #0
 1820 0060 0493     		str	r3, [sp, #16]
 709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 1821              		.loc 1 709 5 is_stmt 1 view .LVU610
 709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 1822              		.loc 1 709 26 is_stmt 0 view .LVU611
 1823 0062 0593     		str	r3, [sp, #20]
 710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 1824              		.loc 1 710 5 is_stmt 1 view .LVU612
 710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 1825              		.loc 1 710 11 is_stmt 0 view .LVU613
 1826 0064 6946     		mov	r1, sp
 1827 0066 2868     		ldr	r0, [r5]
 1828              	.LVL173:
 710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 1829              		.loc 1 710 11 view .LVU614
 1830 0068 FFF7FEFF 		bl	SDMMC_ConfigData
 1831              	.LVL174:
 711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1832              		.loc 1 711 5 is_stmt 1 view .LVU615
 1833 006c 2A68     		ldr	r2, [r5]
 1834 006e D368     		ldr	r3, [r2, #12]
 1835 0070 43F04003 		orr	r3, r3, #64
 1836 0074 D360     		str	r3, [r2, #12]
 714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1837              		.loc 1 714 5 view .LVU616
 714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1838              		.loc 1 714 8 is_stmt 0 view .LVU617
 1839 0076 BAF1010F 		cmp	r10, #1
 1840 007a 14D9     		bls	.L128
 716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1841              		.loc 1 716 7 is_stmt 1 view .LVU618
 716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1842              		.loc 1 716 20 is_stmt 0 view .LVU619
 1843 007c 0223     		movs	r3, #2
 1844 007e EB62     		str	r3, [r5, #44]
 719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1845              		.loc 1 719 7 is_stmt 1 view .LVU620
 719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1846              		.loc 1 719 20 is_stmt 0 view .LVU621
 1847 0080 3146     		mov	r1, r6
 1848 0082 2868     		ldr	r0, [r5]
 1849 0084 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 1850              	.LVL175:
 1851              	.L129:
 728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1852              		.loc 1 728 5 is_stmt 1 view .LVU622
 728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1853              		.loc 1 728 8 is_stmt 0 view .LVU623
 1854 0088 A0B9     		cbnz	r0, .L144
 739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 108


 1855              		.loc 1 739 5 is_stmt 1 view .LVU624
 739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 1856              		.loc 1 739 19 is_stmt 0 view .LVU625
 1857 008a DDF804B0 		ldr	fp, [sp, #4]
 1858              	.LVL176:
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1859              		.loc 1 740 5 is_stmt 1 view .LVU626
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1860              		.loc 1 740 11 is_stmt 0 view .LVU627
 1861 008e 38E0     		b	.L131
 1862              	.LVL177:
 1863              	.L142:
 679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 1864              		.loc 1 679 5 is_stmt 1 view .LVU628
 679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 1865              		.loc 1 679 8 is_stmt 0 view .LVU629
 1866 0090 6B6B     		ldr	r3, [r5, #52]
 679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 1867              		.loc 1 679 20 view .LVU630
 1868 0092 43F00063 		orr	r3, r3, #134217728
 1869 0096 6B63     		str	r3, [r5, #52]
 680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1870              		.loc 1 680 5 is_stmt 1 view .LVU631
 680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1871              		.loc 1 680 12 is_stmt 0 view .LVU632
 1872 0098 0127     		movs	r7, #1
 1873 009a AAE0     		b	.L124
 1874              	.L143:
 689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1875              		.loc 1 689 7 is_stmt 1 view .LVU633
 689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1876              		.loc 1 689 10 is_stmt 0 view .LVU634
 1877 009c 6B6B     		ldr	r3, [r5, #52]
 689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1878              		.loc 1 689 22 view .LVU635
 1879 009e 43F00073 		orr	r3, r3, #33554432
 1880 00a2 6B63     		str	r3, [r5, #52]
 690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1881              		.loc 1 690 7 is_stmt 1 view .LVU636
 690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1882              		.loc 1 690 14 is_stmt 0 view .LVU637
 1883 00a4 A5E0     		b	.L124
 1884              	.LVL178:
 1885              	.L128:
 723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1886              		.loc 1 723 7 is_stmt 1 view .LVU638
 723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1887              		.loc 1 723 20 is_stmt 0 view .LVU639
 1888 00a6 0123     		movs	r3, #1
 1889 00a8 EB62     		str	r3, [r5, #44]
 726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1890              		.loc 1 726 7 is_stmt 1 view .LVU640
 726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1891              		.loc 1 726 20 is_stmt 0 view .LVU641
 1892 00aa 3146     		mov	r1, r6
 1893 00ac 2868     		ldr	r0, [r5]
 1894 00ae FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 109


 1895              	.LVL179:
 726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1896              		.loc 1 726 20 view .LVU642
 1897 00b2 E9E7     		b	.L129
 1898              	.L144:
 731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 1899              		.loc 1 731 7 is_stmt 1 view .LVU643
 1900 00b4 2B68     		ldr	r3, [r5]
 1901 00b6 514A     		ldr	r2, .L149
 1902 00b8 9A63     		str	r2, [r3, #56]
 732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1903              		.loc 1 732 7 view .LVU644
 732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1904              		.loc 1 732 10 is_stmt 0 view .LVU645
 1905 00ba 6B6B     		ldr	r3, [r5, #52]
 732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1906              		.loc 1 732 22 view .LVU646
 1907 00bc 0343     		orrs	r3, r3, r0
 1908 00be 6B63     		str	r3, [r5, #52]
 733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1909              		.loc 1 733 7 is_stmt 1 view .LVU647
 733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1910              		.loc 1 733 18 is_stmt 0 view .LVU648
 1911 00c0 0123     		movs	r3, #1
 1912 00c2 85F83030 		strb	r3, [r5, #48]
 734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1913              		.loc 1 734 7 is_stmt 1 view .LVU649
 734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1914              		.loc 1 734 20 is_stmt 0 view .LVU650
 1915 00c6 0023     		movs	r3, #0
 1916 00c8 EB62     		str	r3, [r5, #44]
 735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1917              		.loc 1 735 7 is_stmt 1 view .LVU651
 735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1918              		.loc 1 735 14 is_stmt 0 view .LVU652
 1919 00ca 92E0     		b	.L124
 1920              	.LVL180:
 1921              	.L134:
 747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 1922              		.loc 1 747 11 is_stmt 1 view .LVU653
 747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 1923              		.loc 1 747 18 is_stmt 0 view .LVU654
 1924 00cc 2868     		ldr	r0, [r5]
 1925 00ce FFF7FEFF 		bl	SDMMC_ReadFIFO
 1926              	.LVL181:
 748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1927              		.loc 1 748 11 is_stmt 1 view .LVU655
 748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1928              		.loc 1 748 21 is_stmt 0 view .LVU656
 1929 00d2 2070     		strb	r0, [r4]
 749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 1930              		.loc 1 749 11 is_stmt 1 view .LVU657
 1931              	.LVL182:
 750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1932              		.loc 1 750 11 view .LVU658
 750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1933              		.loc 1 750 23 is_stmt 0 view .LVU659
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 110


 1934 00d4 C0F30723 		ubfx	r3, r0, #8, #8
 750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1935              		.loc 1 750 21 view .LVU660
 1936 00d8 6370     		strb	r3, [r4, #1]
 751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 1937              		.loc 1 751 11 is_stmt 1 view .LVU661
 1938              	.LVL183:
 752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1939              		.loc 1 752 11 view .LVU662
 752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1940              		.loc 1 752 23 is_stmt 0 view .LVU663
 1941 00da C0F30743 		ubfx	r3, r0, #16, #8
 752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1942              		.loc 1 752 21 view .LVU664
 1943 00de A370     		strb	r3, [r4, #2]
 753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 1944              		.loc 1 753 11 is_stmt 1 view .LVU665
 1945              	.LVL184:
 754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1946              		.loc 1 754 11 view .LVU666
 754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1947              		.loc 1 754 23 is_stmt 0 view .LVU667
 1948 00e0 000E     		lsrs	r0, r0, #24
 1949              	.LVL185:
 754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1950              		.loc 1 754 21 view .LVU668
 1951 00e2 E070     		strb	r0, [r4, #3]
 755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1952              		.loc 1 755 11 is_stmt 1 view .LVU669
 755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1953              		.loc 1 755 19 is_stmt 0 view .LVU670
 1954 00e4 0434     		adds	r4, r4, #4
 1955              	.LVL186:
 745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1956              		.loc 1 745 43 is_stmt 1 discriminator 3 view .LVU671
 1957 00e6 0136     		adds	r6, r6, #1
 1958              	.LVL187:
 1959              	.L133:
 745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1960              		.loc 1 745 32 discriminator 1 view .LVU672
 1961 00e8 072E     		cmp	r6, #7
 1962 00ea EFD9     		bls	.L134
 757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1963              		.loc 1 757 9 view .LVU673
 757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1964              		.loc 1 757 23 is_stmt 0 view .LVU674
 1965 00ec ABF1200B 		sub	fp, fp, #32
 1966              	.LVL188:
 1967              	.L132:
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1968              		.loc 1 760 7 is_stmt 1 view .LVU675
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1969              		.loc 1 760 13 is_stmt 0 view .LVU676
 1970 00f0 FFF7FEFF 		bl	HAL_GetTick
 1971              	.LVL189:
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1972              		.loc 1 760 27 discriminator 1 view .LVU677
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 111


 1973 00f4 A0EB0800 		sub	r0, r0, r8
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1974              		.loc 1 760 10 discriminator 1 view .LVU678
 1975 00f8 4845     		cmp	r0, r9
 1976 00fa 0FD2     		bcs	.L135
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1977              		.loc 1 760 53 discriminator 1 view .LVU679
 1978 00fc B9F1000F 		cmp	r9, #0
 1979 0100 0CD0     		beq	.L135
 1980              	.L131:
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1981              		.loc 1 740 12 is_stmt 1 view .LVU680
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1982              		.loc 1 740 13 is_stmt 0 view .LVU681
 1983 0102 2B68     		ldr	r3, [r5]
 1984 0104 5E6B     		ldr	r6, [r3, #52]
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1985              		.loc 1 740 12 view .LVU682
 1986 0106 16F49576 		ands	r6, r6, #298
 1987 010a 15D1     		bne	.L145
 742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1988              		.loc 1 742 7 is_stmt 1 view .LVU683
 742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1989              		.loc 1 742 11 is_stmt 0 view .LVU684
 1990 010c 5B6B     		ldr	r3, [r3, #52]
 742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1991              		.loc 1 742 10 view .LVU685
 1992 010e 13F4004F 		tst	r3, #32768
 1993 0112 EDD0     		beq	.L132
 742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1994              		.loc 1 742 55 discriminator 1 view .LVU686
 1995 0114 BBF11F0F 		cmp	fp, #31
 1996 0118 EAD9     		bls	.L132
 1997 011a E5E7     		b	.L133
 1998              	.L135:
 763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 1999              		.loc 1 763 9 is_stmt 1 view .LVU687
 2000 011c 2B68     		ldr	r3, [r5]
 2001 011e 374A     		ldr	r2, .L149
 2002 0120 9A63     		str	r2, [r3, #56]
 764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2003              		.loc 1 764 9 view .LVU688
 764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2004              		.loc 1 764 12 is_stmt 0 view .LVU689
 2005 0122 6B6B     		ldr	r3, [r5, #52]
 764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2006              		.loc 1 764 24 view .LVU690
 2007 0124 43F00043 		orr	r3, r3, #-2147483648
 2008 0128 6B63     		str	r3, [r5, #52]
 765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2009              		.loc 1 765 9 is_stmt 1 view .LVU691
 765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2010              		.loc 1 765 20 is_stmt 0 view .LVU692
 2011 012a 0123     		movs	r3, #1
 2012 012c 85F83030 		strb	r3, [r5, #48]
 766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 2013              		.loc 1 766 9 is_stmt 1 view .LVU693
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 112


 766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 2014              		.loc 1 766 22 is_stmt 0 view .LVU694
 2015 0130 0023     		movs	r3, #0
 2016 0132 EB62     		str	r3, [r5, #44]
 767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2017              		.loc 1 767 9 is_stmt 1 view .LVU695
 767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2018              		.loc 1 767 16 is_stmt 0 view .LVU696
 2019 0134 0327     		movs	r7, #3
 2020 0136 5CE0     		b	.L124
 2021              	.L145:
 770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2022              		.loc 1 770 5 is_stmt 1 view .LVU697
 2023 0138 DA68     		ldr	r2, [r3, #12]
 2024 013a 22F04002 		bic	r2, r2, #64
 2025 013e DA60     		str	r2, [r3, #12]
 773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2026              		.loc 1 773 5 view .LVU698
 773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2027              		.loc 1 773 9 is_stmt 0 view .LVU699
 2028 0140 2868     		ldr	r0, [r5]
 2029 0142 436B     		ldr	r3, [r0, #52]
 773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2030              		.loc 1 773 8 view .LVU700
 2031 0144 13F4807F 		tst	r3, #256
 2032 0148 05D0     		beq	.L137
 773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2033              		.loc 1 773 52 discriminator 1 view .LVU701
 2034 014a BAF1010F 		cmp	r10, #1
 2035 014e 02D9     		bls	.L137
 775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2036              		.loc 1 775 7 is_stmt 1 view .LVU702
 775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2037              		.loc 1 775 22 is_stmt 0 view .LVU703
 2038 0150 AB6B     		ldr	r3, [r5, #56]
 775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2039              		.loc 1 775 10 view .LVU704
 2040 0152 032B     		cmp	r3, #3
 2041 0154 18D1     		bne	.L146
 2042              	.LVL190:
 2043              	.L137:
 792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2044              		.loc 1 792 5 is_stmt 1 view .LVU705
 792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2045              		.loc 1 792 9 is_stmt 0 view .LVU706
 2046 0156 2B68     		ldr	r3, [r5]
 2047 0158 5A6B     		ldr	r2, [r3, #52]
 792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2048              		.loc 1 792 8 view .LVU707
 2049 015a 12F0080F 		tst	r2, #8
 2050 015e 24D1     		bne	.L147
 801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2051              		.loc 1 801 10 is_stmt 1 view .LVU708
 801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2052              		.loc 1 801 14 is_stmt 0 view .LVU709
 2053 0160 5A6B     		ldr	r2, [r3, #52]
 801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 113


 2054              		.loc 1 801 13 view .LVU710
 2055 0162 12F0020F 		tst	r2, #2
 2056 0166 2CD1     		bne	.L148
 810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2057              		.loc 1 810 10 is_stmt 1 view .LVU711
 810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2058              		.loc 1 810 14 is_stmt 0 view .LVU712
 2059 0168 5A6B     		ldr	r2, [r3, #52]
 810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2060              		.loc 1 810 13 view .LVU713
 2061 016a 12F0200F 		tst	r2, #32
 2062 016e 34D0     		beq	.L140
 813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 2063              		.loc 1 813 7 is_stmt 1 view .LVU714
 2064 0170 224A     		ldr	r2, .L149
 2065 0172 9A63     		str	r2, [r3, #56]
 814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2066              		.loc 1 814 7 view .LVU715
 814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2067              		.loc 1 814 10 is_stmt 0 view .LVU716
 2068 0174 6B6B     		ldr	r3, [r5, #52]
 814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2069              		.loc 1 814 22 view .LVU717
 2070 0176 43F02003 		orr	r3, r3, #32
 2071 017a 6B63     		str	r3, [r5, #52]
 815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2072              		.loc 1 815 7 is_stmt 1 view .LVU718
 815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2073              		.loc 1 815 18 is_stmt 0 view .LVU719
 2074 017c 0123     		movs	r3, #1
 2075 017e 85F83030 		strb	r3, [r5, #48]
 816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2076              		.loc 1 816 7 is_stmt 1 view .LVU720
 816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2077              		.loc 1 816 20 is_stmt 0 view .LVU721
 2078 0182 0023     		movs	r3, #0
 2079 0184 EB62     		str	r3, [r5, #44]
 817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2080              		.loc 1 817 7 is_stmt 1 view .LVU722
 817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2081              		.loc 1 817 14 is_stmt 0 view .LVU723
 2082 0186 34E0     		b	.L124
 2083              	.LVL191:
 2084              	.L146:
 778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 2085              		.loc 1 778 9 is_stmt 1 view .LVU724
 778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 2086              		.loc 1 778 22 is_stmt 0 view .LVU725
 2087 0188 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 2088              	.LVL192:
 779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2089              		.loc 1 779 9 is_stmt 1 view .LVU726
 779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2090              		.loc 1 779 12 is_stmt 0 view .LVU727
 2091 018c 0346     		mov	r3, r0
 2092 018e 0028     		cmp	r0, #0
 2093 0190 E1D0     		beq	.L137
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 114


 782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 2094              		.loc 1 782 11 is_stmt 1 view .LVU728
 2095 0192 2A68     		ldr	r2, [r5]
 2096 0194 1949     		ldr	r1, .L149
 2097 0196 9163     		str	r1, [r2, #56]
 783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2098              		.loc 1 783 11 view .LVU729
 783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2099              		.loc 1 783 14 is_stmt 0 view .LVU730
 2100 0198 6A6B     		ldr	r2, [r5, #52]
 783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2101              		.loc 1 783 26 view .LVU731
 2102 019a 1343     		orrs	r3, r3, r2
 2103 019c 6B63     		str	r3, [r5, #52]
 784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2104              		.loc 1 784 11 is_stmt 1 view .LVU732
 784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2105              		.loc 1 784 22 is_stmt 0 view .LVU733
 2106 019e 0123     		movs	r3, #1
 2107 01a0 85F83030 		strb	r3, [r5, #48]
 785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 2108              		.loc 1 785 11 is_stmt 1 view .LVU734
 785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 2109              		.loc 1 785 24 is_stmt 0 view .LVU735
 2110 01a4 0023     		movs	r3, #0
 2111 01a6 EB62     		str	r3, [r5, #44]
 786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2112              		.loc 1 786 11 is_stmt 1 view .LVU736
 786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2113              		.loc 1 786 18 is_stmt 0 view .LVU737
 2114 01a8 23E0     		b	.L124
 2115              	.LVL193:
 2116              	.L147:
 795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 2117              		.loc 1 795 7 is_stmt 1 view .LVU738
 2118 01aa 144A     		ldr	r2, .L149
 2119 01ac 9A63     		str	r2, [r3, #56]
 796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2120              		.loc 1 796 7 view .LVU739
 796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2121              		.loc 1 796 10 is_stmt 0 view .LVU740
 2122 01ae 6B6B     		ldr	r3, [r5, #52]
 796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2123              		.loc 1 796 22 view .LVU741
 2124 01b0 43F00803 		orr	r3, r3, #8
 2125 01b4 6B63     		str	r3, [r5, #52]
 797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2126              		.loc 1 797 7 is_stmt 1 view .LVU742
 797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2127              		.loc 1 797 18 is_stmt 0 view .LVU743
 2128 01b6 0123     		movs	r3, #1
 2129 01b8 85F83030 		strb	r3, [r5, #48]
 798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2130              		.loc 1 798 7 is_stmt 1 view .LVU744
 798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2131              		.loc 1 798 20 is_stmt 0 view .LVU745
 2132 01bc 0023     		movs	r3, #0
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 115


 2133 01be EB62     		str	r3, [r5, #44]
 799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2134              		.loc 1 799 7 is_stmt 1 view .LVU746
 799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2135              		.loc 1 799 14 is_stmt 0 view .LVU747
 2136 01c0 17E0     		b	.L124
 2137              	.L148:
 804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 2138              		.loc 1 804 7 is_stmt 1 view .LVU748
 2139 01c2 0E4A     		ldr	r2, .L149
 2140 01c4 9A63     		str	r2, [r3, #56]
 805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2141              		.loc 1 805 7 view .LVU749
 805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2142              		.loc 1 805 10 is_stmt 0 view .LVU750
 2143 01c6 6B6B     		ldr	r3, [r5, #52]
 805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2144              		.loc 1 805 22 view .LVU751
 2145 01c8 43F00203 		orr	r3, r3, #2
 2146 01cc 6B63     		str	r3, [r5, #52]
 806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2147              		.loc 1 806 7 is_stmt 1 view .LVU752
 806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2148              		.loc 1 806 18 is_stmt 0 view .LVU753
 2149 01ce 0123     		movs	r3, #1
 2150 01d0 85F83030 		strb	r3, [r5, #48]
 807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2151              		.loc 1 807 7 is_stmt 1 view .LVU754
 807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2152              		.loc 1 807 20 is_stmt 0 view .LVU755
 2153 01d4 0023     		movs	r3, #0
 2154 01d6 EB62     		str	r3, [r5, #44]
 808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2155              		.loc 1 808 7 is_stmt 1 view .LVU756
 808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2156              		.loc 1 808 14 is_stmt 0 view .LVU757
 2157 01d8 0BE0     		b	.L124
 2158              	.L140:
 822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2159              		.loc 1 822 5 is_stmt 1 view .LVU758
 825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2160              		.loc 1 825 5 view .LVU759
 2161 01da 094A     		ldr	r2, .L149+4
 2162 01dc 9A63     		str	r2, [r3, #56]
 827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2163              		.loc 1 827 5 view .LVU760
 827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2164              		.loc 1 827 16 is_stmt 0 view .LVU761
 2165 01de 0123     		movs	r3, #1
 2166 01e0 85F83030 		strb	r3, [r5, #48]
 829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2167              		.loc 1 829 5 is_stmt 1 view .LVU762
 829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2168              		.loc 1 829 12 is_stmt 0 view .LVU763
 2169 01e4 0027     		movs	r7, #0
 2170 01e6 04E0     		b	.L124
 2171              	.LVL194:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 116


 2172              	.L125:
 833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2173              		.loc 1 833 5 is_stmt 1 view .LVU764
 833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2174              		.loc 1 833 8 is_stmt 0 view .LVU765
 2175 01e8 6B6B     		ldr	r3, [r5, #52]
 833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2176              		.loc 1 833 20 view .LVU766
 2177 01ea 43F00053 		orr	r3, r3, #536870912
 2178 01ee 6B63     		str	r3, [r5, #52]
 834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2179              		.loc 1 834 5 is_stmt 1 view .LVU767
 834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2180              		.loc 1 834 12 is_stmt 0 view .LVU768
 2181 01f0 0127     		movs	r7, #1
 2182              	.LVL195:
 2183              	.L124:
 836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2184              		.loc 1 836 1 view .LVU769
 2185 01f2 3846     		mov	r0, r7
 2186 01f4 07B0     		add	sp, sp, #28
 2187              	.LCFI35:
 2188              		.cfi_def_cfa_offset 36
 2189              		@ sp needed
 2190 01f6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2191              	.LVL196:
 2192              	.L150:
 836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2193              		.loc 1 836 1 view .LVU770
 2194 01fa 00BF     		.align	2
 2195              	.L149:
 2196 01fc FF0FE01F 		.word	534777855
 2197 0200 3A0F0018 		.word	402657082
 2198              		.cfi_endproc
 2199              	.LFE338:
 2201              		.section	.text.HAL_SD_WriteBlocks,"ax",%progbits
 2202              		.align	1
 2203              		.global	HAL_SD_WriteBlocks
 2204              		.syntax unified
 2205              		.thumb
 2206              		.thumb_func
 2208              	HAL_SD_WriteBlocks:
 2209              	.LVL197:
 2210              	.LFB339:
 852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2211              		.loc 1 852 1 is_stmt 1 view -0
 2212              		.cfi_startproc
 2213              		@ args = 4, pretend = 0, frame = 40
 2214              		@ frame_needed = 0, uses_anonymous_args = 0
 852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2215              		.loc 1 852 1 is_stmt 0 view .LVU772
 2216 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2217              	.LCFI36:
 2218              		.cfi_def_cfa_offset 36
 2219              		.cfi_offset 4, -36
 2220              		.cfi_offset 5, -32
 2221              		.cfi_offset 6, -28
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 117


 2222              		.cfi_offset 7, -24
 2223              		.cfi_offset 8, -20
 2224              		.cfi_offset 9, -16
 2225              		.cfi_offset 10, -12
 2226              		.cfi_offset 11, -8
 2227              		.cfi_offset 14, -4
 2228 0004 8BB0     		sub	sp, sp, #44
 2229              	.LCFI37:
 2230              		.cfi_def_cfa_offset 80
 2231 0006 0546     		mov	r5, r0
 2232 0008 0C46     		mov	r4, r1
 2233 000a 1646     		mov	r6, r2
 2234 000c 9A46     		mov	r10, r3
 2235 000e DDF85090 		ldr	r9, [sp, #80]
 853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 2236              		.loc 1 853 3 is_stmt 1 view .LVU773
 854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 2237              		.loc 1 854 3 view .LVU774
 855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 2238              		.loc 1 855 3 view .LVU775
 855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 2239              		.loc 1 855 24 is_stmt 0 view .LVU776
 2240 0012 FFF7FEFF 		bl	HAL_GetTick
 2241              	.LVL198:
 856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 2242              		.loc 1 856 3 is_stmt 1 view .LVU777
 857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 2243              		.loc 1 857 3 view .LVU778
 858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2244              		.loc 1 858 3 view .LVU779
 859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 2245              		.loc 1 859 3 view .LVU780
 860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2246              		.loc 1 860 3 view .LVU781
 862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2247              		.loc 1 862 3 view .LVU782
 862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2248              		.loc 1 862 6 is_stmt 0 view .LVU783
 2249 0016 002C     		cmp	r4, #0
 2250 0018 3BD0     		beq	.L171
 2251 001a 8046     		mov	r8, r0
 868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2252              		.loc 1 868 3 is_stmt 1 view .LVU784
 868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2253              		.loc 1 868 10 is_stmt 0 view .LVU785
 2254 001c 95F83070 		ldrb	r7, [r5, #48]	@ zero_extendqisi2
 2255 0020 FFB2     		uxtb	r7, r7
 868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2256              		.loc 1 868 6 view .LVU786
 2257 0022 012F     		cmp	r7, #1
 2258 0024 40F0E980 		bne	.L154
 870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2259              		.loc 1 870 5 is_stmt 1 view .LVU787
 870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2260              		.loc 1 870 20 is_stmt 0 view .LVU788
 2261 0028 0023     		movs	r3, #0
 2262 002a 6B63     		str	r3, [r5, #52]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 118


 872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2263              		.loc 1 872 5 is_stmt 1 view .LVU789
 872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2264              		.loc 1 872 14 is_stmt 0 view .LVU790
 2265 002c 06EB0A03 		add	r3, r6, r10
 872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2266              		.loc 1 872 46 view .LVU791
 2267 0030 2A6D     		ldr	r2, [r5, #80]
 872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2268              		.loc 1 872 8 view .LVU792
 2269 0032 9342     		cmp	r3, r2
 2270 0034 33D8     		bhi	.L172
 878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2271              		.loc 1 878 5 is_stmt 1 view .LVU793
 878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2272              		.loc 1 878 16 is_stmt 0 view .LVU794
 2273 0036 0323     		movs	r3, #3
 2274 0038 85F83030 		strb	r3, [r5, #48]
 881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2275              		.loc 1 881 5 is_stmt 1 view .LVU795
 881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2276              		.loc 1 881 8 is_stmt 0 view .LVU796
 2277 003c 2B68     		ldr	r3, [r5]
 881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2278              		.loc 1 881 26 view .LVU797
 2279 003e 0022     		movs	r2, #0
 2280 0040 DA62     		str	r2, [r3, #44]
 883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2281              		.loc 1 883 5 is_stmt 1 view .LVU798
 883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2282              		.loc 1 883 20 is_stmt 0 view .LVU799
 2283 0042 AB6B     		ldr	r3, [r5, #56]
 883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2284              		.loc 1 883 8 view .LVU800
 2285 0044 012B     		cmp	r3, #1
 2286 0046 00D0     		beq	.L156
 885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2287              		.loc 1 885 7 is_stmt 1 view .LVU801
 885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2288              		.loc 1 885 11 is_stmt 0 view .LVU802
 2289 0048 7602     		lsls	r6, r6, #9
 2290              	.LVL199:
 2291              	.L156:
 889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 2292              		.loc 1 889 5 is_stmt 1 view .LVU803
 889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 2293              		.loc 1 889 26 is_stmt 0 view .LVU804
 2294 004a 4FF0FF33 		mov	r3, #-1
 2295 004e 0493     		str	r3, [sp, #16]
 890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2296              		.loc 1 890 5 is_stmt 1 view .LVU805
 890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2297              		.loc 1 890 43 is_stmt 0 view .LVU806
 2298 0050 4FEA4A23 		lsl	r3, r10, #9
 890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2299              		.loc 1 890 26 view .LVU807
 2300 0054 0593     		str	r3, [sp, #20]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 119


 891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2301              		.loc 1 891 5 is_stmt 1 view .LVU808
 891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2302              		.loc 1 891 26 is_stmt 0 view .LVU809
 2303 0056 9023     		movs	r3, #144
 2304 0058 0693     		str	r3, [sp, #24]
 892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2305              		.loc 1 892 5 is_stmt 1 view .LVU810
 892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2306              		.loc 1 892 26 is_stmt 0 view .LVU811
 2307 005a 0023     		movs	r3, #0
 2308 005c 0793     		str	r3, [sp, #28]
 893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2309              		.loc 1 893 5 is_stmt 1 view .LVU812
 893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2310              		.loc 1 893 26 is_stmt 0 view .LVU813
 2311 005e 0893     		str	r3, [sp, #32]
 894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2312              		.loc 1 894 5 is_stmt 1 view .LVU814
 894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2313              		.loc 1 894 26 is_stmt 0 view .LVU815
 2314 0060 0993     		str	r3, [sp, #36]
 895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2315              		.loc 1 895 5 is_stmt 1 view .LVU816
 895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2316              		.loc 1 895 11 is_stmt 0 view .LVU817
 2317 0062 04A9     		add	r1, sp, #16
 2318 0064 2868     		ldr	r0, [r5]
 2319              	.LVL200:
 895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2320              		.loc 1 895 11 view .LVU818
 2321 0066 FFF7FEFF 		bl	SDMMC_ConfigData
 2322              	.LVL201:
 896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2323              		.loc 1 896 5 is_stmt 1 view .LVU819
 2324 006a 2A68     		ldr	r2, [r5]
 2325 006c D368     		ldr	r3, [r2, #12]
 2326 006e 43F04003 		orr	r3, r3, #64
 2327 0072 D360     		str	r3, [r2, #12]
 899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2328              		.loc 1 899 5 view .LVU820
 899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2329              		.loc 1 899 8 is_stmt 0 view .LVU821
 2330 0074 BAF1010F 		cmp	r10, #1
 2331 0078 16D9     		bls	.L157
 901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2332              		.loc 1 901 7 is_stmt 1 view .LVU822
 901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2333              		.loc 1 901 20 is_stmt 0 view .LVU823
 2334 007a 2023     		movs	r3, #32
 2335 007c EB62     		str	r3, [r5, #44]
 904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2336              		.loc 1 904 7 is_stmt 1 view .LVU824
 904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2337              		.loc 1 904 20 is_stmt 0 view .LVU825
 2338 007e 3146     		mov	r1, r6
 2339 0080 2868     		ldr	r0, [r5]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 120


 2340 0082 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2341              	.LVL202:
 2342 0086 0190     		str	r0, [sp, #4]
 2343              	.LVL203:
 2344              	.L158:
 913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2345              		.loc 1 913 5 is_stmt 1 view .LVU826
 913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2346              		.loc 1 913 8 is_stmt 0 view .LVU827
 2347 0088 019B     		ldr	r3, [sp, #4]
 2348 008a ABB9     		cbnz	r3, .L173
 924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT 
 2349              		.loc 1 924 5 is_stmt 1 view .LVU828
 924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT 
 2350              		.loc 1 924 19 is_stmt 0 view .LVU829
 2351 008c DDF814B0 		ldr	fp, [sp, #20]
 2352              	.LVL204:
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2353              		.loc 1 925 5 is_stmt 1 view .LVU830
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2354              		.loc 1 925 11 is_stmt 0 view .LVU831
 2355 0090 40E0     		b	.L160
 2356              	.LVL205:
 2357              	.L171:
 864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2358              		.loc 1 864 5 is_stmt 1 view .LVU832
 864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2359              		.loc 1 864 8 is_stmt 0 view .LVU833
 2360 0092 6B6B     		ldr	r3, [r5, #52]
 864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2361              		.loc 1 864 20 view .LVU834
 2362 0094 43F00063 		orr	r3, r3, #134217728
 2363 0098 6B63     		str	r3, [r5, #52]
 865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2364              		.loc 1 865 5 is_stmt 1 view .LVU835
 865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2365              		.loc 1 865 12 is_stmt 0 view .LVU836
 2366 009a 0127     		movs	r7, #1
 2367 009c B2E0     		b	.L153
 2368              	.L172:
 874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2369              		.loc 1 874 7 is_stmt 1 view .LVU837
 874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2370              		.loc 1 874 10 is_stmt 0 view .LVU838
 2371 009e 6B6B     		ldr	r3, [r5, #52]
 874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2372              		.loc 1 874 22 view .LVU839
 2373 00a0 43F00073 		orr	r3, r3, #33554432
 2374 00a4 6B63     		str	r3, [r5, #52]
 875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2375              		.loc 1 875 7 is_stmt 1 view .LVU840
 875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2376              		.loc 1 875 14 is_stmt 0 view .LVU841
 2377 00a6 ADE0     		b	.L153
 2378              	.LVL206:
 2379              	.L157:
 908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 121


 2380              		.loc 1 908 7 is_stmt 1 view .LVU842
 908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2381              		.loc 1 908 20 is_stmt 0 view .LVU843
 2382 00a8 1023     		movs	r3, #16
 2383 00aa EB62     		str	r3, [r5, #44]
 911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2384              		.loc 1 911 7 is_stmt 1 view .LVU844
 911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2385              		.loc 1 911 20 is_stmt 0 view .LVU845
 2386 00ac 3146     		mov	r1, r6
 2387 00ae 2868     		ldr	r0, [r5]
 2388 00b0 FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2389              	.LVL207:
 2390 00b4 0190     		str	r0, [sp, #4]
 2391              	.LVL208:
 911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2392              		.loc 1 911 20 view .LVU846
 2393 00b6 E7E7     		b	.L158
 2394              	.LVL209:
 2395              	.L173:
 916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2396              		.loc 1 916 7 is_stmt 1 view .LVU847
 2397 00b8 2B68     		ldr	r3, [r5]
 2398              	.LVL210:
 916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2399              		.loc 1 916 7 is_stmt 0 view .LVU848
 2400 00ba 544A     		ldr	r2, .L178
 2401 00bc 9A63     		str	r2, [r3, #56]
 917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2402              		.loc 1 917 7 is_stmt 1 view .LVU849
 917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2403              		.loc 1 917 10 is_stmt 0 view .LVU850
 2404 00be 6B6B     		ldr	r3, [r5, #52]
 917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2405              		.loc 1 917 22 view .LVU851
 2406 00c0 019A     		ldr	r2, [sp, #4]
 2407 00c2 1343     		orrs	r3, r3, r2
 2408 00c4 6B63     		str	r3, [r5, #52]
 918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2409              		.loc 1 918 7 is_stmt 1 view .LVU852
 918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2410              		.loc 1 918 18 is_stmt 0 view .LVU853
 2411 00c6 0123     		movs	r3, #1
 2412 00c8 85F83030 		strb	r3, [r5, #48]
 919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2413              		.loc 1 919 7 is_stmt 1 view .LVU854
 919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2414              		.loc 1 919 20 is_stmt 0 view .LVU855
 2415 00cc 0023     		movs	r3, #0
 2416 00ce EB62     		str	r3, [r5, #44]
 920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2417              		.loc 1 920 7 is_stmt 1 view .LVU856
 920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2418              		.loc 1 920 14 is_stmt 0 view .LVU857
 2419 00d0 98E0     		b	.L153
 2420              	.LVL211:
 2421              	.L163:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 122


 933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2422              		.loc 1 933 11 is_stmt 1 view .LVU858
 933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2423              		.loc 1 933 29 is_stmt 0 view .LVU859
 2424 00d2 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2425              		.loc 1 933 16 view .LVU860
 2426 00d4 0393     		str	r3, [sp, #12]
 934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 2427              		.loc 1 934 11 is_stmt 1 view .LVU861
 2428              	.LVL212:
 935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2429              		.loc 1 935 11 view .LVU862
 935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2430              		.loc 1 935 31 is_stmt 0 view .LVU863
 2431 00d6 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2432              		.loc 1 935 16 view .LVU864
 2433 00d8 43EA0223 		orr	r3, r3, r2, lsl #8
 2434 00dc 0393     		str	r3, [sp, #12]
 936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 2435              		.loc 1 936 11 is_stmt 1 view .LVU865
 2436              	.LVL213:
 937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2437              		.loc 1 937 11 view .LVU866
 937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2438              		.loc 1 937 31 is_stmt 0 view .LVU867
 2439 00de A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2440              		.loc 1 937 16 view .LVU868
 2441 00e0 43EA0243 		orr	r3, r3, r2, lsl #16
 2442 00e4 0393     		str	r3, [sp, #12]
 938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 2443              		.loc 1 938 11 is_stmt 1 view .LVU869
 2444              	.LVL214:
 939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2445              		.loc 1 939 11 view .LVU870
 939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2446              		.loc 1 939 31 is_stmt 0 view .LVU871
 2447 00e6 E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
 939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2448              		.loc 1 939 16 view .LVU872
 2449 00e8 43EA0263 		orr	r3, r3, r2, lsl #24
 2450 00ec 0393     		str	r3, [sp, #12]
 940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 2451              		.loc 1 940 11 is_stmt 1 view .LVU873
 940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 2452              		.loc 1 940 19 is_stmt 0 view .LVU874
 2453 00ee 0434     		adds	r4, r4, #4
 2454              	.LVL215:
 941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2455              		.loc 1 941 11 is_stmt 1 view .LVU875
 941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2456              		.loc 1 941 17 is_stmt 0 view .LVU876
 2457 00f0 03A9     		add	r1, sp, #12
 2458 00f2 2868     		ldr	r0, [r5]
 2459 00f4 FFF7FEFF 		bl	SDMMC_WriteFIFO
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 123


 2460              	.LVL216:
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2461              		.loc 1 931 43 is_stmt 1 discriminator 3 view .LVU877
 2462 00f8 0136     		adds	r6, r6, #1
 2463              	.LVL217:
 2464              	.L162:
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2465              		.loc 1 931 32 discriminator 1 view .LVU878
 2466 00fa 072E     		cmp	r6, #7
 2467 00fc E9D9     		bls	.L163
 943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2468              		.loc 1 943 9 view .LVU879
 943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2469              		.loc 1 943 23 is_stmt 0 view .LVU880
 2470 00fe ABF1200B 		sub	fp, fp, #32
 2471              	.LVL218:
 2472              	.L161:
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2473              		.loc 1 946 7 is_stmt 1 view .LVU881
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2474              		.loc 1 946 13 is_stmt 0 view .LVU882
 2475 0102 FFF7FEFF 		bl	HAL_GetTick
 2476              	.LVL219:
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2477              		.loc 1 946 27 discriminator 1 view .LVU883
 2478 0106 A0EB0800 		sub	r0, r0, r8
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2479              		.loc 1 946 10 discriminator 1 view .LVU884
 2480 010a 4845     		cmp	r0, r9
 2481 010c 0FD2     		bcs	.L164
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2482              		.loc 1 946 53 discriminator 1 view .LVU885
 2483 010e B9F1000F 		cmp	r9, #0
 2484 0112 0CD0     		beq	.L164
 2485              	.L160:
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2486              		.loc 1 925 12 is_stmt 1 view .LVU886
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2487              		.loc 1 925 13 is_stmt 0 view .LVU887
 2488 0114 2B68     		ldr	r3, [r5]
 2489 0116 5E6B     		ldr	r6, [r3, #52]
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2490              		.loc 1 925 12 view .LVU888
 2491 0118 16F48D76 		ands	r6, r6, #282
 2492 011c 15D1     		bne	.L174
 928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2493              		.loc 1 928 7 is_stmt 1 view .LVU889
 928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2494              		.loc 1 928 11 is_stmt 0 view .LVU890
 2495 011e 5B6B     		ldr	r3, [r3, #52]
 928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2496              		.loc 1 928 10 view .LVU891
 2497 0120 13F4804F 		tst	r3, #16384
 2498 0124 EDD0     		beq	.L161
 928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2499              		.loc 1 928 55 discriminator 1 view .LVU892
 2500 0126 BBF11F0F 		cmp	fp, #31
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 124


 2501 012a EAD9     		bls	.L161
 2502 012c E5E7     		b	.L162
 2503              	.L164:
 949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 2504              		.loc 1 949 9 is_stmt 1 view .LVU893
 2505 012e 2B68     		ldr	r3, [r5]
 2506 0130 364A     		ldr	r2, .L178
 2507 0132 9A63     		str	r2, [r3, #56]
 950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2508              		.loc 1 950 9 view .LVU894
 950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2509              		.loc 1 950 12 is_stmt 0 view .LVU895
 2510 0134 6B6B     		ldr	r3, [r5, #52]
 950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2511              		.loc 1 950 24 view .LVU896
 2512 0136 019A     		ldr	r2, [sp, #4]
 2513 0138 1343     		orrs	r3, r3, r2
 2514 013a 6B63     		str	r3, [r5, #52]
 951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2515              		.loc 1 951 9 is_stmt 1 view .LVU897
 951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2516              		.loc 1 951 20 is_stmt 0 view .LVU898
 2517 013c 0123     		movs	r3, #1
 2518 013e 85F83030 		strb	r3, [r5, #48]
 952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 2519              		.loc 1 952 9 is_stmt 1 view .LVU899
 952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 2520              		.loc 1 952 22 is_stmt 0 view .LVU900
 2521 0142 0023     		movs	r3, #0
 2522 0144 EB62     		str	r3, [r5, #44]
 953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2523              		.loc 1 953 9 is_stmt 1 view .LVU901
 953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2524              		.loc 1 953 16 is_stmt 0 view .LVU902
 2525 0146 0327     		movs	r7, #3
 2526 0148 5CE0     		b	.L153
 2527              	.L174:
 956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2528              		.loc 1 956 5 is_stmt 1 view .LVU903
 2529 014a DA68     		ldr	r2, [r3, #12]
 2530 014c 22F04002 		bic	r2, r2, #64
 2531 0150 DA60     		str	r2, [r3, #12]
 959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2532              		.loc 1 959 5 view .LVU904
 959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2533              		.loc 1 959 9 is_stmt 0 view .LVU905
 2534 0152 2868     		ldr	r0, [r5]
 2535 0154 436B     		ldr	r3, [r0, #52]
 959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2536              		.loc 1 959 8 view .LVU906
 2537 0156 13F4807F 		tst	r3, #256
 2538 015a 05D0     		beq	.L166
 959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2539              		.loc 1 959 52 discriminator 1 view .LVU907
 2540 015c BAF1010F 		cmp	r10, #1
 2541 0160 02D9     		bls	.L166
 961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 125


 2542              		.loc 1 961 7 is_stmt 1 view .LVU908
 961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2543              		.loc 1 961 22 is_stmt 0 view .LVU909
 2544 0162 AB6B     		ldr	r3, [r5, #56]
 961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2545              		.loc 1 961 10 view .LVU910
 2546 0164 032B     		cmp	r3, #3
 2547 0166 18D1     		bne	.L175
 2548              	.LVL220:
 2549              	.L166:
 978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2550              		.loc 1 978 5 is_stmt 1 view .LVU911
 978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2551              		.loc 1 978 9 is_stmt 0 view .LVU912
 2552 0168 2B68     		ldr	r3, [r5]
 2553 016a 5A6B     		ldr	r2, [r3, #52]
 978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2554              		.loc 1 978 8 view .LVU913
 2555 016c 12F0080F 		tst	r2, #8
 2556 0170 24D1     		bne	.L176
 987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2557              		.loc 1 987 10 is_stmt 1 view .LVU914
 987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2558              		.loc 1 987 14 is_stmt 0 view .LVU915
 2559 0172 5A6B     		ldr	r2, [r3, #52]
 987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2560              		.loc 1 987 13 view .LVU916
 2561 0174 12F0020F 		tst	r2, #2
 2562 0178 2CD1     		bne	.L177
 996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2563              		.loc 1 996 10 is_stmt 1 view .LVU917
 996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2564              		.loc 1 996 14 is_stmt 0 view .LVU918
 2565 017a 5A6B     		ldr	r2, [r3, #52]
 996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2566              		.loc 1 996 13 view .LVU919
 2567 017c 12F0100F 		tst	r2, #16
 2568 0180 34D0     		beq	.L169
 999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
 2569              		.loc 1 999 7 is_stmt 1 view .LVU920
 2570 0182 224A     		ldr	r2, .L178
 2571 0184 9A63     		str	r2, [r3, #56]
1000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2572              		.loc 1 1000 7 view .LVU921
1000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2573              		.loc 1 1000 10 is_stmt 0 view .LVU922
 2574 0186 6B6B     		ldr	r3, [r5, #52]
1000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2575              		.loc 1 1000 22 view .LVU923
 2576 0188 43F01003 		orr	r3, r3, #16
 2577 018c 6B63     		str	r3, [r5, #52]
1001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2578              		.loc 1 1001 7 is_stmt 1 view .LVU924
1001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2579              		.loc 1 1001 18 is_stmt 0 view .LVU925
 2580 018e 0123     		movs	r3, #1
 2581 0190 85F83030 		strb	r3, [r5, #48]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 126


1002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2582              		.loc 1 1002 7 is_stmt 1 view .LVU926
1002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2583              		.loc 1 1002 20 is_stmt 0 view .LVU927
 2584 0194 0023     		movs	r3, #0
 2585 0196 EB62     		str	r3, [r5, #44]
1003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2586              		.loc 1 1003 7 is_stmt 1 view .LVU928
1003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2587              		.loc 1 1003 14 is_stmt 0 view .LVU929
 2588 0198 34E0     		b	.L153
 2589              	.LVL221:
 2590              	.L175:
 964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 2591              		.loc 1 964 9 is_stmt 1 view .LVU930
 964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 2592              		.loc 1 964 22 is_stmt 0 view .LVU931
 2593 019a FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 2594              	.LVL222:
 965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2595              		.loc 1 965 9 is_stmt 1 view .LVU932
 965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2596              		.loc 1 965 12 is_stmt 0 view .LVU933
 2597 019e 0346     		mov	r3, r0
 2598 01a0 0028     		cmp	r0, #0
 2599 01a2 E1D0     		beq	.L166
 968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 2600              		.loc 1 968 11 is_stmt 1 view .LVU934
 2601 01a4 2A68     		ldr	r2, [r5]
 2602 01a6 1949     		ldr	r1, .L178
 2603 01a8 9163     		str	r1, [r2, #56]
 969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2604              		.loc 1 969 11 view .LVU935
 969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2605              		.loc 1 969 14 is_stmt 0 view .LVU936
 2606 01aa 6A6B     		ldr	r2, [r5, #52]
 969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2607              		.loc 1 969 26 view .LVU937
 2608 01ac 1343     		orrs	r3, r3, r2
 2609 01ae 6B63     		str	r3, [r5, #52]
 970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2610              		.loc 1 970 11 is_stmt 1 view .LVU938
 970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2611              		.loc 1 970 22 is_stmt 0 view .LVU939
 2612 01b0 0123     		movs	r3, #1
 2613 01b2 85F83030 		strb	r3, [r5, #48]
 971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 2614              		.loc 1 971 11 is_stmt 1 view .LVU940
 971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 2615              		.loc 1 971 24 is_stmt 0 view .LVU941
 2616 01b6 0023     		movs	r3, #0
 2617 01b8 EB62     		str	r3, [r5, #44]
 972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2618              		.loc 1 972 11 is_stmt 1 view .LVU942
 972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2619              		.loc 1 972 18 is_stmt 0 view .LVU943
 2620 01ba 23E0     		b	.L153
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 127


 2621              	.LVL223:
 2622              	.L176:
 981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 2623              		.loc 1 981 7 is_stmt 1 view .LVU944
 2624 01bc 134A     		ldr	r2, .L178
 2625 01be 9A63     		str	r2, [r3, #56]
 982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2626              		.loc 1 982 7 view .LVU945
 982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2627              		.loc 1 982 10 is_stmt 0 view .LVU946
 2628 01c0 6B6B     		ldr	r3, [r5, #52]
 982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2629              		.loc 1 982 22 view .LVU947
 2630 01c2 43F00803 		orr	r3, r3, #8
 2631 01c6 6B63     		str	r3, [r5, #52]
 983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2632              		.loc 1 983 7 is_stmt 1 view .LVU948
 983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2633              		.loc 1 983 18 is_stmt 0 view .LVU949
 2634 01c8 0123     		movs	r3, #1
 2635 01ca 85F83030 		strb	r3, [r5, #48]
 984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2636              		.loc 1 984 7 is_stmt 1 view .LVU950
 984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2637              		.loc 1 984 20 is_stmt 0 view .LVU951
 2638 01ce 0023     		movs	r3, #0
 2639 01d0 EB62     		str	r3, [r5, #44]
 985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2640              		.loc 1 985 7 is_stmt 1 view .LVU952
 985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2641              		.loc 1 985 14 is_stmt 0 view .LVU953
 2642 01d2 17E0     		b	.L153
 2643              	.L177:
 990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 2644              		.loc 1 990 7 is_stmt 1 view .LVU954
 2645 01d4 0D4A     		ldr	r2, .L178
 2646 01d6 9A63     		str	r2, [r3, #56]
 991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2647              		.loc 1 991 7 view .LVU955
 991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2648              		.loc 1 991 10 is_stmt 0 view .LVU956
 2649 01d8 6B6B     		ldr	r3, [r5, #52]
 991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2650              		.loc 1 991 22 view .LVU957
 2651 01da 43F00203 		orr	r3, r3, #2
 2652 01de 6B63     		str	r3, [r5, #52]
 992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2653              		.loc 1 992 7 is_stmt 1 view .LVU958
 992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2654              		.loc 1 992 18 is_stmt 0 view .LVU959
 2655 01e0 0123     		movs	r3, #1
 2656 01e2 85F83030 		strb	r3, [r5, #48]
 993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2657              		.loc 1 993 7 is_stmt 1 view .LVU960
 993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2658              		.loc 1 993 20 is_stmt 0 view .LVU961
 2659 01e6 0023     		movs	r3, #0
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 128


 2660 01e8 EB62     		str	r3, [r5, #44]
 994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2661              		.loc 1 994 7 is_stmt 1 view .LVU962
 994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2662              		.loc 1 994 14 is_stmt 0 view .LVU963
 2663 01ea 0BE0     		b	.L153
 2664              	.L169:
1008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2665              		.loc 1 1008 5 is_stmt 1 view .LVU964
1011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2666              		.loc 1 1011 5 view .LVU965
 2667 01ec 084A     		ldr	r2, .L178+4
 2668 01ee 9A63     		str	r2, [r3, #56]
1013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2669              		.loc 1 1013 5 view .LVU966
1013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2670              		.loc 1 1013 16 is_stmt 0 view .LVU967
 2671 01f0 0123     		movs	r3, #1
 2672 01f2 85F83030 		strb	r3, [r5, #48]
1015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2673              		.loc 1 1015 5 is_stmt 1 view .LVU968
1015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2674              		.loc 1 1015 12 is_stmt 0 view .LVU969
 2675 01f6 0027     		movs	r7, #0
 2676 01f8 04E0     		b	.L153
 2677              	.LVL224:
 2678              	.L154:
1019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2679              		.loc 1 1019 5 is_stmt 1 view .LVU970
1019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2680              		.loc 1 1019 8 is_stmt 0 view .LVU971
 2681 01fa 6B6B     		ldr	r3, [r5, #52]
1019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2682              		.loc 1 1019 20 view .LVU972
 2683 01fc 43F00053 		orr	r3, r3, #536870912
 2684 0200 6B63     		str	r3, [r5, #52]
1020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2685              		.loc 1 1020 5 is_stmt 1 view .LVU973
1020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2686              		.loc 1 1020 12 is_stmt 0 view .LVU974
 2687 0202 0127     		movs	r7, #1
 2688              	.LVL225:
 2689              	.L153:
1022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2690              		.loc 1 1022 1 view .LVU975
 2691 0204 3846     		mov	r0, r7
 2692 0206 0BB0     		add	sp, sp, #44
 2693              	.LCFI38:
 2694              		.cfi_def_cfa_offset 36
 2695              		@ sp needed
 2696 0208 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2697              	.LVL226:
 2698              	.L179:
1022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2699              		.loc 1 1022 1 view .LVU976
 2700              		.align	2
 2701              	.L178:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 129


 2702 020c FF0FE01F 		.word	534777855
 2703 0210 3A0F0018 		.word	402657082
 2704              		.cfi_endproc
 2705              	.LFE339:
 2707              		.section	.text.HAL_SD_ReadBlocks_IT,"ax",%progbits
 2708              		.align	1
 2709              		.global	HAL_SD_ReadBlocks_IT
 2710              		.syntax unified
 2711              		.thumb
 2712              		.thumb_func
 2714              	HAL_SD_ReadBlocks_IT:
 2715              	.LVL227:
 2716              	.LFB340:
1039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2717              		.loc 1 1039 1 is_stmt 1 view -0
 2718              		.cfi_startproc
 2719              		@ args = 0, pretend = 0, frame = 24
 2720              		@ frame_needed = 0, uses_anonymous_args = 0
1039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2721              		.loc 1 1039 1 is_stmt 0 view .LVU978
 2722 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2723              	.LCFI39:
 2724              		.cfi_def_cfa_offset 20
 2725              		.cfi_offset 4, -20
 2726              		.cfi_offset 5, -16
 2727              		.cfi_offset 6, -12
 2728              		.cfi_offset 7, -8
 2729              		.cfi_offset 14, -4
 2730 0002 87B0     		sub	sp, sp, #28
 2731              	.LCFI40:
 2732              		.cfi_def_cfa_offset 48
 2733 0004 0446     		mov	r4, r0
1040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 2734              		.loc 1 1040 3 is_stmt 1 view .LVU979
1041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2735              		.loc 1 1041 3 view .LVU980
1042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2736              		.loc 1 1042 3 view .LVU981
 2737              	.LVL228:
1044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2738              		.loc 1 1044 3 view .LVU982
1044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2739              		.loc 1 1044 6 is_stmt 0 view .LVU983
 2740 0006 0029     		cmp	r1, #0
 2741 0008 43D0     		beq	.L190
 2742 000a 1646     		mov	r6, r2
 2743 000c 1F46     		mov	r7, r3
 2744 000e 0A46     		mov	r2, r1
 2745              	.LVL229:
1050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2746              		.loc 1 1050 3 is_stmt 1 view .LVU984
1050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2747              		.loc 1 1050 10 is_stmt 0 view .LVU985
 2748 0010 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 2749 0014 EDB2     		uxtb	r5, r5
1050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2750              		.loc 1 1050 6 view .LVU986
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 130


 2751 0016 012D     		cmp	r5, #1
 2752 0018 55D1     		bne	.L188
1052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2753              		.loc 1 1052 5 is_stmt 1 view .LVU987
1052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2754              		.loc 1 1052 20 is_stmt 0 view .LVU988
 2755 001a 0023     		movs	r3, #0
 2756              	.LVL230:
1052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2757              		.loc 1 1052 20 view .LVU989
 2758 001c 4363     		str	r3, [r0, #52]
1054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2759              		.loc 1 1054 5 is_stmt 1 view .LVU990
1054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2760              		.loc 1 1054 14 is_stmt 0 view .LVU991
 2761 001e F319     		adds	r3, r6, r7
1054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2762              		.loc 1 1054 46 view .LVU992
 2763 0020 016D     		ldr	r1, [r0, #80]
 2764              	.LVL231:
1054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2765              		.loc 1 1054 8 view .LVU993
 2766 0022 8B42     		cmp	r3, r1
 2767 0024 3BD8     		bhi	.L191
1060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2768              		.loc 1 1060 5 is_stmt 1 view .LVU994
1060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2769              		.loc 1 1060 16 is_stmt 0 view .LVU995
 2770 0026 0323     		movs	r3, #3
 2771 0028 80F83030 		strb	r3, [r0, #48]
1063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2772              		.loc 1 1063 5 is_stmt 1 view .LVU996
1063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2773              		.loc 1 1063 8 is_stmt 0 view .LVU997
 2774 002c 0368     		ldr	r3, [r0]
1063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2775              		.loc 1 1063 26 view .LVU998
 2776 002e 0021     		movs	r1, #0
 2777 0030 D962     		str	r1, [r3, #44]
1065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2778              		.loc 1 1065 5 is_stmt 1 view .LVU999
1065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2779              		.loc 1 1065 21 is_stmt 0 view .LVU1000
 2780 0032 4262     		str	r2, [r0, #36]
1066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2781              		.loc 1 1066 5 is_stmt 1 view .LVU1001
1066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2782              		.loc 1 1066 33 is_stmt 0 view .LVU1002
 2783 0034 7B02     		lsls	r3, r7, #9
1066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2784              		.loc 1 1066 21 view .LVU1003
 2785 0036 8362     		str	r3, [r0, #40]
1068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2786              		.loc 1 1068 5 is_stmt 1 view .LVU1004
1068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2787              		.loc 1 1068 20 is_stmt 0 view .LVU1005
 2788 0038 826B     		ldr	r2, [r0, #56]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 131


 2789              	.LVL232:
1068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2790              		.loc 1 1068 8 view .LVU1006
 2791 003a 012A     		cmp	r2, #1
 2792 003c 00D0     		beq	.L184
1070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2793              		.loc 1 1070 7 is_stmt 1 view .LVU1007
1070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2794              		.loc 1 1070 11 is_stmt 0 view .LVU1008
 2795 003e 7602     		lsls	r6, r6, #9
 2796              	.LVL233:
 2797              	.L184:
1074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2798              		.loc 1 1074 5 is_stmt 1 view .LVU1009
1074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2799              		.loc 1 1074 26 is_stmt 0 view .LVU1010
 2800 0040 4FF0FF32 		mov	r2, #-1
 2801 0044 0092     		str	r2, [sp]
1075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2802              		.loc 1 1075 5 is_stmt 1 view .LVU1011
1075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2803              		.loc 1 1075 26 is_stmt 0 view .LVU1012
 2804 0046 0193     		str	r3, [sp, #4]
1076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 2805              		.loc 1 1076 5 is_stmt 1 view .LVU1013
1076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 2806              		.loc 1 1076 26 is_stmt 0 view .LVU1014
 2807 0048 9023     		movs	r3, #144
 2808 004a 0293     		str	r3, [sp, #8]
1077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2809              		.loc 1 1077 5 is_stmt 1 view .LVU1015
1077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2810              		.loc 1 1077 26 is_stmt 0 view .LVU1016
 2811 004c 0223     		movs	r3, #2
 2812 004e 0393     		str	r3, [sp, #12]
1078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2813              		.loc 1 1078 5 is_stmt 1 view .LVU1017
1078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2814              		.loc 1 1078 26 is_stmt 0 view .LVU1018
 2815 0050 0023     		movs	r3, #0
 2816 0052 0493     		str	r3, [sp, #16]
1079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2817              		.loc 1 1079 5 is_stmt 1 view .LVU1019
1079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2818              		.loc 1 1079 26 is_stmt 0 view .LVU1020
 2819 0054 0593     		str	r3, [sp, #20]
1080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2820              		.loc 1 1080 5 is_stmt 1 view .LVU1021
1080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2821              		.loc 1 1080 11 is_stmt 0 view .LVU1022
 2822 0056 6946     		mov	r1, sp
 2823 0058 2068     		ldr	r0, [r4]
 2824              	.LVL234:
1080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2825              		.loc 1 1080 11 view .LVU1023
 2826 005a FFF7FEFF 		bl	SDMMC_ConfigData
 2827              	.LVL235:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 132


1081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2828              		.loc 1 1081 5 is_stmt 1 view .LVU1024
 2829 005e 2268     		ldr	r2, [r4]
 2830 0060 D368     		ldr	r3, [r2, #12]
 2831 0062 43F04003 		orr	r3, r3, #64
 2832 0066 D360     		str	r3, [r2, #12]
1084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2833              		.loc 1 1084 5 view .LVU1025
1084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2834              		.loc 1 1084 8 is_stmt 0 view .LVU1026
 2835 0068 012F     		cmp	r7, #1
 2836 006a 1DD9     		bls	.L185
1086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2837              		.loc 1 1086 7 is_stmt 1 view .LVU1027
1086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2838              		.loc 1 1086 20 is_stmt 0 view .LVU1028
 2839 006c 0A23     		movs	r3, #10
 2840 006e E362     		str	r3, [r4, #44]
1089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2841              		.loc 1 1089 7 is_stmt 1 view .LVU1029
1089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2842              		.loc 1 1089 20 is_stmt 0 view .LVU1030
 2843 0070 3146     		mov	r1, r6
 2844 0072 2068     		ldr	r0, [r4]
 2845 0074 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 2846              	.LVL236:
 2847              	.L186:
1098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2848              		.loc 1 1098 5 is_stmt 1 view .LVU1031
1098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2849              		.loc 1 1098 8 is_stmt 0 view .LVU1032
 2850 0078 E8B1     		cbz	r0, .L187
1101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2851              		.loc 1 1101 7 is_stmt 1 view .LVU1033
 2852 007a 2368     		ldr	r3, [r4]
 2853 007c 144A     		ldr	r2, .L192
 2854 007e 9A63     		str	r2, [r3, #56]
1102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2855              		.loc 1 1102 7 view .LVU1034
1102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2856              		.loc 1 1102 10 is_stmt 0 view .LVU1035
 2857 0080 636B     		ldr	r3, [r4, #52]
1102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2858              		.loc 1 1102 22 view .LVU1036
 2859 0082 0343     		orrs	r3, r3, r0
 2860 0084 6363     		str	r3, [r4, #52]
1103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2861              		.loc 1 1103 7 is_stmt 1 view .LVU1037
1103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2862              		.loc 1 1103 18 is_stmt 0 view .LVU1038
 2863 0086 0123     		movs	r3, #1
 2864 0088 84F83030 		strb	r3, [r4, #48]
1104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2865              		.loc 1 1104 7 is_stmt 1 view .LVU1039
1104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2866              		.loc 1 1104 20 is_stmt 0 view .LVU1040
 2867 008c 0023     		movs	r3, #0
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 133


 2868 008e E362     		str	r3, [r4, #44]
1105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2869              		.loc 1 1105 7 is_stmt 1 view .LVU1041
1105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2870              		.loc 1 1105 14 is_stmt 0 view .LVU1042
 2871 0090 1AE0     		b	.L182
 2872              	.LVL237:
 2873              	.L190:
1046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2874              		.loc 1 1046 5 is_stmt 1 view .LVU1043
1046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2875              		.loc 1 1046 8 is_stmt 0 view .LVU1044
 2876 0092 436B     		ldr	r3, [r0, #52]
 2877              	.LVL238:
1046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2878              		.loc 1 1046 20 view .LVU1045
 2879 0094 43F00063 		orr	r3, r3, #134217728
 2880 0098 4363     		str	r3, [r0, #52]
1047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2881              		.loc 1 1047 5 is_stmt 1 view .LVU1046
1047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2882              		.loc 1 1047 12 is_stmt 0 view .LVU1047
 2883 009a 0125     		movs	r5, #1
 2884 009c 14E0     		b	.L182
 2885              	.LVL239:
 2886              	.L191:
1056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2887              		.loc 1 1056 7 is_stmt 1 view .LVU1048
1056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2888              		.loc 1 1056 10 is_stmt 0 view .LVU1049
 2889 009e 436B     		ldr	r3, [r0, #52]
1056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2890              		.loc 1 1056 22 view .LVU1050
 2891 00a0 43F00073 		orr	r3, r3, #33554432
 2892 00a4 4363     		str	r3, [r0, #52]
1057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2893              		.loc 1 1057 7 is_stmt 1 view .LVU1051
1057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2894              		.loc 1 1057 14 is_stmt 0 view .LVU1052
 2895 00a6 0FE0     		b	.L182
 2896              	.LVL240:
 2897              	.L185:
1093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2898              		.loc 1 1093 7 is_stmt 1 view .LVU1053
1093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2899              		.loc 1 1093 20 is_stmt 0 view .LVU1054
 2900 00a8 0923     		movs	r3, #9
 2901 00aa E362     		str	r3, [r4, #44]
1096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2902              		.loc 1 1096 7 is_stmt 1 view .LVU1055
1096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2903              		.loc 1 1096 20 is_stmt 0 view .LVU1056
 2904 00ac 3146     		mov	r1, r6
 2905 00ae 2068     		ldr	r0, [r4]
 2906 00b0 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 2907              	.LVL241:
1096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 134


 2908              		.loc 1 1096 20 view .LVU1057
 2909 00b4 E0E7     		b	.L186
 2910              	.L187:
1108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_RXFIFOHF));
 2911              		.loc 1 1108 5 is_stmt 1 view .LVU1058
 2912 00b6 2268     		ldr	r2, [r4]
 2913 00b8 D16B     		ldr	r1, [r2, #60]
 2914 00ba 48F22A13 		movw	r3, #33066
 2915 00be 0B43     		orrs	r3, r3, r1
 2916 00c0 D363     		str	r3, [r2, #60]
1111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2917              		.loc 1 1111 5 view .LVU1059
1111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2918              		.loc 1 1111 12 is_stmt 0 view .LVU1060
 2919 00c2 0025     		movs	r5, #0
 2920 00c4 00E0     		b	.L182
 2921              	.LVL242:
 2922              	.L188:
1115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2923              		.loc 1 1115 12 view .LVU1061
 2924 00c6 0225     		movs	r5, #2
 2925              	.LVL243:
 2926              	.L182:
1117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2927              		.loc 1 1117 1 view .LVU1062
 2928 00c8 2846     		mov	r0, r5
 2929 00ca 07B0     		add	sp, sp, #28
 2930              	.LCFI41:
 2931              		.cfi_def_cfa_offset 20
 2932              		@ sp needed
 2933 00cc F0BD     		pop	{r4, r5, r6, r7, pc}
 2934              	.LVL244:
 2935              	.L193:
1117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2936              		.loc 1 1117 1 view .LVU1063
 2937 00ce 00BF     		.align	2
 2938              	.L192:
 2939 00d0 FF0FE01F 		.word	534777855
 2940              		.cfi_endproc
 2941              	.LFE340:
 2943              		.section	.text.HAL_SD_WriteBlocks_IT,"ax",%progbits
 2944              		.align	1
 2945              		.global	HAL_SD_WriteBlocks_IT
 2946              		.syntax unified
 2947              		.thumb
 2948              		.thumb_func
 2950              	HAL_SD_WriteBlocks_IT:
 2951              	.LVL245:
 2952              	.LFB341:
1134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2953              		.loc 1 1134 1 is_stmt 1 view -0
 2954              		.cfi_startproc
 2955              		@ args = 0, pretend = 0, frame = 24
 2956              		@ frame_needed = 0, uses_anonymous_args = 0
1134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2957              		.loc 1 1134 1 is_stmt 0 view .LVU1065
 2958 0000 F0B5     		push	{r4, r5, r6, r7, lr}
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 135


 2959              	.LCFI42:
 2960              		.cfi_def_cfa_offset 20
 2961              		.cfi_offset 4, -20
 2962              		.cfi_offset 5, -16
 2963              		.cfi_offset 6, -12
 2964              		.cfi_offset 7, -8
 2965              		.cfi_offset 14, -4
 2966 0002 87B0     		sub	sp, sp, #28
 2967              	.LCFI43:
 2968              		.cfi_def_cfa_offset 48
 2969 0004 0446     		mov	r4, r0
1135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 2970              		.loc 1 1135 3 is_stmt 1 view .LVU1066
1136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2971              		.loc 1 1136 3 view .LVU1067
1137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2972              		.loc 1 1137 3 view .LVU1068
 2973              	.LVL246:
1139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2974              		.loc 1 1139 3 view .LVU1069
1139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2975              		.loc 1 1139 6 is_stmt 0 view .LVU1070
 2976 0006 0029     		cmp	r1, #0
 2977 0008 42D0     		beq	.L204
 2978 000a 1646     		mov	r6, r2
 2979 000c 1F46     		mov	r7, r3
 2980 000e 0A46     		mov	r2, r1
 2981              	.LVL247:
1145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2982              		.loc 1 1145 3 is_stmt 1 view .LVU1071
1145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2983              		.loc 1 1145 10 is_stmt 0 view .LVU1072
 2984 0010 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 2985 0014 EDB2     		uxtb	r5, r5
1145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2986              		.loc 1 1145 6 view .LVU1073
 2987 0016 012D     		cmp	r5, #1
 2988 0018 54D1     		bne	.L202
1147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2989              		.loc 1 1147 5 is_stmt 1 view .LVU1074
1147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2990              		.loc 1 1147 20 is_stmt 0 view .LVU1075
 2991 001a 0023     		movs	r3, #0
 2992              	.LVL248:
1147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2993              		.loc 1 1147 20 view .LVU1076
 2994 001c 4363     		str	r3, [r0, #52]
1149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2995              		.loc 1 1149 5 is_stmt 1 view .LVU1077
1149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2996              		.loc 1 1149 14 is_stmt 0 view .LVU1078
 2997 001e F319     		adds	r3, r6, r7
1149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2998              		.loc 1 1149 46 view .LVU1079
 2999 0020 016D     		ldr	r1, [r0, #80]
 3000              	.LVL249:
1149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 136


 3001              		.loc 1 1149 8 view .LVU1080
 3002 0022 8B42     		cmp	r3, r1
 3003 0024 3AD8     		bhi	.L205
1155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3004              		.loc 1 1155 5 is_stmt 1 view .LVU1081
1155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3005              		.loc 1 1155 16 is_stmt 0 view .LVU1082
 3006 0026 0323     		movs	r3, #3
 3007 0028 80F83030 		strb	r3, [r0, #48]
1158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3008              		.loc 1 1158 5 is_stmt 1 view .LVU1083
1158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3009              		.loc 1 1158 8 is_stmt 0 view .LVU1084
 3010 002c 0368     		ldr	r3, [r0]
1158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3011              		.loc 1 1158 26 view .LVU1085
 3012 002e 0021     		movs	r1, #0
 3013 0030 D962     		str	r1, [r3, #44]
1160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 3014              		.loc 1 1160 5 is_stmt 1 view .LVU1086
1160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 3015              		.loc 1 1160 21 is_stmt 0 view .LVU1087
 3016 0032 C261     		str	r2, [r0, #28]
1161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3017              		.loc 1 1161 5 is_stmt 1 view .LVU1088
1161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3018              		.loc 1 1161 33 is_stmt 0 view .LVU1089
 3019 0034 7B02     		lsls	r3, r7, #9
1161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3020              		.loc 1 1161 21 view .LVU1090
 3021 0036 0362     		str	r3, [r0, #32]
1163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3022              		.loc 1 1163 5 is_stmt 1 view .LVU1091
1163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3023              		.loc 1 1163 20 is_stmt 0 view .LVU1092
 3024 0038 826B     		ldr	r2, [r0, #56]
 3025              	.LVL250:
1163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3026              		.loc 1 1163 8 view .LVU1093
 3027 003a 012A     		cmp	r2, #1
 3028 003c 00D0     		beq	.L198
1165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3029              		.loc 1 1165 7 is_stmt 1 view .LVU1094
1165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3030              		.loc 1 1165 11 is_stmt 0 view .LVU1095
 3031 003e 7602     		lsls	r6, r6, #9
 3032              	.LVL251:
 3033              	.L198:
1169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3034              		.loc 1 1169 5 is_stmt 1 view .LVU1096
1169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3035              		.loc 1 1169 26 is_stmt 0 view .LVU1097
 3036 0040 4FF0FF32 		mov	r2, #-1
 3037 0044 0092     		str	r2, [sp]
1170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3038              		.loc 1 1170 5 is_stmt 1 view .LVU1098
1170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 137


 3039              		.loc 1 1170 26 is_stmt 0 view .LVU1099
 3040 0046 0193     		str	r3, [sp, #4]
1171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3041              		.loc 1 1171 5 is_stmt 1 view .LVU1100
1171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3042              		.loc 1 1171 26 is_stmt 0 view .LVU1101
 3043 0048 9023     		movs	r3, #144
 3044 004a 0293     		str	r3, [sp, #8]
1172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3045              		.loc 1 1172 5 is_stmt 1 view .LVU1102
1172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3046              		.loc 1 1172 26 is_stmt 0 view .LVU1103
 3047 004c 0023     		movs	r3, #0
 3048 004e 0393     		str	r3, [sp, #12]
1173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3049              		.loc 1 1173 5 is_stmt 1 view .LVU1104
1173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3050              		.loc 1 1173 26 is_stmt 0 view .LVU1105
 3051 0050 0493     		str	r3, [sp, #16]
1174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3052              		.loc 1 1174 5 is_stmt 1 view .LVU1106
1174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3053              		.loc 1 1174 26 is_stmt 0 view .LVU1107
 3054 0052 0593     		str	r3, [sp, #20]
1175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3055              		.loc 1 1175 5 is_stmt 1 view .LVU1108
1175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3056              		.loc 1 1175 11 is_stmt 0 view .LVU1109
 3057 0054 6946     		mov	r1, sp
 3058 0056 2068     		ldr	r0, [r4]
 3059              	.LVL252:
1175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3060              		.loc 1 1175 11 view .LVU1110
 3061 0058 FFF7FEFF 		bl	SDMMC_ConfigData
 3062              	.LVL253:
1177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3063              		.loc 1 1177 5 is_stmt 1 view .LVU1111
 3064 005c 2268     		ldr	r2, [r4]
 3065 005e D368     		ldr	r3, [r2, #12]
 3066 0060 43F04003 		orr	r3, r3, #64
 3067 0064 D360     		str	r3, [r2, #12]
1180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3068              		.loc 1 1180 5 view .LVU1112
1180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3069              		.loc 1 1180 8 is_stmt 0 view .LVU1113
 3070 0066 012F     		cmp	r7, #1
 3071 0068 1DD9     		bls	.L199
1182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3072              		.loc 1 1182 7 is_stmt 1 view .LVU1114
1182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3073              		.loc 1 1182 20 is_stmt 0 view .LVU1115
 3074 006a 2823     		movs	r3, #40
 3075 006c E362     		str	r3, [r4, #44]
1185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3076              		.loc 1 1185 7 is_stmt 1 view .LVU1116
1185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3077              		.loc 1 1185 20 is_stmt 0 view .LVU1117
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 138


 3078 006e 3146     		mov	r1, r6
 3079 0070 2068     		ldr	r0, [r4]
 3080 0072 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 3081              	.LVL254:
 3082              	.L200:
1194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3083              		.loc 1 1194 5 is_stmt 1 view .LVU1118
1194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3084              		.loc 1 1194 8 is_stmt 0 view .LVU1119
 3085 0076 E8B1     		cbz	r0, .L201
1197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3086              		.loc 1 1197 7 is_stmt 1 view .LVU1120
 3087 0078 2368     		ldr	r3, [r4]
 3088 007a 144A     		ldr	r2, .L206
 3089 007c 9A63     		str	r2, [r3, #56]
1198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3090              		.loc 1 1198 7 view .LVU1121
1198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3091              		.loc 1 1198 10 is_stmt 0 view .LVU1122
 3092 007e 636B     		ldr	r3, [r4, #52]
1198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3093              		.loc 1 1198 22 view .LVU1123
 3094 0080 0343     		orrs	r3, r3, r0
 3095 0082 6363     		str	r3, [r4, #52]
1199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3096              		.loc 1 1199 7 is_stmt 1 view .LVU1124
1199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3097              		.loc 1 1199 18 is_stmt 0 view .LVU1125
 3098 0084 0123     		movs	r3, #1
 3099 0086 84F83030 		strb	r3, [r4, #48]
1200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3100              		.loc 1 1200 7 is_stmt 1 view .LVU1126
1200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3101              		.loc 1 1200 20 is_stmt 0 view .LVU1127
 3102 008a 0023     		movs	r3, #0
 3103 008c E362     		str	r3, [r4, #44]
1201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3104              		.loc 1 1201 7 is_stmt 1 view .LVU1128
1201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3105              		.loc 1 1201 14 is_stmt 0 view .LVU1129
 3106 008e 1AE0     		b	.L196
 3107              	.LVL255:
 3108              	.L204:
1141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3109              		.loc 1 1141 5 is_stmt 1 view .LVU1130
1141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3110              		.loc 1 1141 8 is_stmt 0 view .LVU1131
 3111 0090 436B     		ldr	r3, [r0, #52]
 3112              	.LVL256:
1141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3113              		.loc 1 1141 20 view .LVU1132
 3114 0092 43F00063 		orr	r3, r3, #134217728
 3115 0096 4363     		str	r3, [r0, #52]
1142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3116              		.loc 1 1142 5 is_stmt 1 view .LVU1133
1142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3117              		.loc 1 1142 12 is_stmt 0 view .LVU1134
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 139


 3118 0098 0125     		movs	r5, #1
 3119 009a 14E0     		b	.L196
 3120              	.LVL257:
 3121              	.L205:
1151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3122              		.loc 1 1151 7 is_stmt 1 view .LVU1135
1151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3123              		.loc 1 1151 10 is_stmt 0 view .LVU1136
 3124 009c 436B     		ldr	r3, [r0, #52]
1151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3125              		.loc 1 1151 22 view .LVU1137
 3126 009e 43F00073 		orr	r3, r3, #33554432
 3127 00a2 4363     		str	r3, [r0, #52]
1152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3128              		.loc 1 1152 7 is_stmt 1 view .LVU1138
1152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3129              		.loc 1 1152 14 is_stmt 0 view .LVU1139
 3130 00a4 0FE0     		b	.L196
 3131              	.LVL258:
 3132              	.L199:
1189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3133              		.loc 1 1189 7 is_stmt 1 view .LVU1140
1189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3134              		.loc 1 1189 20 is_stmt 0 view .LVU1141
 3135 00a6 1823     		movs	r3, #24
 3136 00a8 E362     		str	r3, [r4, #44]
1192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3137              		.loc 1 1192 7 is_stmt 1 view .LVU1142
1192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3138              		.loc 1 1192 20 is_stmt 0 view .LVU1143
 3139 00aa 3146     		mov	r1, r6
 3140 00ac 2068     		ldr	r0, [r4]
 3141 00ae FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 3142              	.LVL259:
1192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3143              		.loc 1 1192 20 view .LVU1144
 3144 00b2 E0E7     		b	.L200
 3145              	.L201:
1205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXFIFOHE));
 3146              		.loc 1 1205 5 is_stmt 1 view .LVU1145
 3147 00b4 2268     		ldr	r2, [r4]
 3148 00b6 D16B     		ldr	r1, [r2, #60]
 3149 00b8 44F21A13 		movw	r3, #16666
 3150 00bc 0B43     		orrs	r3, r3, r1
 3151 00be D363     		str	r3, [r2, #60]
1208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3152              		.loc 1 1208 5 view .LVU1146
1208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3153              		.loc 1 1208 12 is_stmt 0 view .LVU1147
 3154 00c0 0025     		movs	r5, #0
 3155 00c2 00E0     		b	.L196
 3156              	.LVL260:
 3157              	.L202:
1212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3158              		.loc 1 1212 12 view .LVU1148
 3159 00c4 0225     		movs	r5, #2
 3160              	.LVL261:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 140


 3161              	.L196:
1214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3162              		.loc 1 1214 1 view .LVU1149
 3163 00c6 2846     		mov	r0, r5
 3164 00c8 07B0     		add	sp, sp, #28
 3165              	.LCFI44:
 3166              		.cfi_def_cfa_offset 20
 3167              		@ sp needed
 3168 00ca F0BD     		pop	{r4, r5, r6, r7, pc}
 3169              	.LVL262:
 3170              	.L207:
1214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3171              		.loc 1 1214 1 view .LVU1150
 3172              		.align	2
 3173              	.L206:
 3174 00cc FF0FE01F 		.word	534777855
 3175              		.cfi_endproc
 3176              	.LFE341:
 3178              		.section	.text.HAL_SD_ReadBlocks_DMA,"ax",%progbits
 3179              		.align	1
 3180              		.global	HAL_SD_ReadBlocks_DMA
 3181              		.syntax unified
 3182              		.thumb
 3183              		.thumb_func
 3185              	HAL_SD_ReadBlocks_DMA:
 3186              	.LVL263:
 3187              	.LFB342:
1231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3188              		.loc 1 1231 1 is_stmt 1 view -0
 3189              		.cfi_startproc
 3190              		@ args = 0, pretend = 0, frame = 24
 3191              		@ frame_needed = 0, uses_anonymous_args = 0
1231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3192              		.loc 1 1231 1 is_stmt 0 view .LVU1152
 3193 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3194              	.LCFI45:
 3195              		.cfi_def_cfa_offset 24
 3196              		.cfi_offset 4, -24
 3197              		.cfi_offset 5, -20
 3198              		.cfi_offset 6, -16
 3199              		.cfi_offset 7, -12
 3200              		.cfi_offset 8, -8
 3201              		.cfi_offset 14, -4
 3202 0004 86B0     		sub	sp, sp, #24
 3203              	.LCFI46:
 3204              		.cfi_def_cfa_offset 48
 3205 0006 0446     		mov	r4, r0
1232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 3206              		.loc 1 1232 3 is_stmt 1 view .LVU1153
1233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 3207              		.loc 1 1233 3 view .LVU1154
1234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3208              		.loc 1 1234 3 view .LVU1155
 3209              	.LVL264:
1236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3210              		.loc 1 1236 3 view .LVU1156
1236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 141


 3211              		.loc 1 1236 6 is_stmt 0 view .LVU1157
 3212 0008 0029     		cmp	r1, #0
 3213 000a 49D0     		beq	.L218
 3214 000c 1646     		mov	r6, r2
 3215 000e 1F46     		mov	r7, r3
 3216 0010 8846     		mov	r8, r1
1242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3217              		.loc 1 1242 3 is_stmt 1 view .LVU1158
1242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3218              		.loc 1 1242 10 is_stmt 0 view .LVU1159
 3219 0012 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 3220 0016 EDB2     		uxtb	r5, r5
1242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3221              		.loc 1 1242 6 view .LVU1160
 3222 0018 012D     		cmp	r5, #1
 3223 001a 5AD1     		bne	.L216
1244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3224              		.loc 1 1244 5 is_stmt 1 view .LVU1161
1244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3225              		.loc 1 1244 20 is_stmt 0 view .LVU1162
 3226 001c 0023     		movs	r3, #0
 3227              	.LVL265:
1244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3228              		.loc 1 1244 20 view .LVU1163
 3229 001e 4363     		str	r3, [r0, #52]
1246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3230              		.loc 1 1246 5 is_stmt 1 view .LVU1164
1246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3231              		.loc 1 1246 14 is_stmt 0 view .LVU1165
 3232 0020 D319     		adds	r3, r2, r7
1246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3233              		.loc 1 1246 46 view .LVU1166
 3234 0022 026D     		ldr	r2, [r0, #80]
 3235              	.LVL266:
1246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3236              		.loc 1 1246 8 view .LVU1167
 3237 0024 9342     		cmp	r3, r2
 3238 0026 41D8     		bhi	.L219
1252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3239              		.loc 1 1252 5 is_stmt 1 view .LVU1168
1252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3240              		.loc 1 1252 16 is_stmt 0 view .LVU1169
 3241 0028 0323     		movs	r3, #3
 3242 002a 80F83030 		strb	r3, [r0, #48]
1255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3243              		.loc 1 1255 5 is_stmt 1 view .LVU1170
1255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3244              		.loc 1 1255 8 is_stmt 0 view .LVU1171
 3245 002e 0368     		ldr	r3, [r0]
1255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3246              		.loc 1 1255 26 view .LVU1172
 3247 0030 0022     		movs	r2, #0
 3248 0032 DA62     		str	r2, [r3, #44]
1257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 3249              		.loc 1 1257 5 is_stmt 1 view .LVU1173
1257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 3250              		.loc 1 1257 21 is_stmt 0 view .LVU1174
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 142


 3251 0034 6162     		str	r1, [r4, #36]
1258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3252              		.loc 1 1258 5 is_stmt 1 view .LVU1175
1258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3253              		.loc 1 1258 33 is_stmt 0 view .LVU1176
 3254 0036 7B02     		lsls	r3, r7, #9
1258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3255              		.loc 1 1258 21 view .LVU1177
 3256 0038 8362     		str	r3, [r0, #40]
1260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3257              		.loc 1 1260 5 is_stmt 1 view .LVU1178
1260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3258              		.loc 1 1260 20 is_stmt 0 view .LVU1179
 3259 003a 826B     		ldr	r2, [r0, #56]
1260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3260              		.loc 1 1260 8 view .LVU1180
 3261 003c 012A     		cmp	r2, #1
 3262 003e 00D0     		beq	.L212
1262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3263              		.loc 1 1262 7 is_stmt 1 view .LVU1181
1262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3264              		.loc 1 1262 11 is_stmt 0 view .LVU1182
 3265 0040 7602     		lsls	r6, r6, #9
 3266              	.LVL267:
 3267              	.L212:
1266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3268              		.loc 1 1266 5 is_stmt 1 view .LVU1183
1266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3269              		.loc 1 1266 26 is_stmt 0 view .LVU1184
 3270 0042 4FF0FF32 		mov	r2, #-1
 3271 0046 0092     		str	r2, [sp]
1267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3272              		.loc 1 1267 5 is_stmt 1 view .LVU1185
1267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3273              		.loc 1 1267 26 is_stmt 0 view .LVU1186
 3274 0048 0193     		str	r3, [sp, #4]
1268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 3275              		.loc 1 1268 5 is_stmt 1 view .LVU1187
1268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 3276              		.loc 1 1268 26 is_stmt 0 view .LVU1188
 3277 004a 9023     		movs	r3, #144
 3278 004c 0293     		str	r3, [sp, #8]
1269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3279              		.loc 1 1269 5 is_stmt 1 view .LVU1189
1269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3280              		.loc 1 1269 26 is_stmt 0 view .LVU1190
 3281 004e 0223     		movs	r3, #2
 3282 0050 0393     		str	r3, [sp, #12]
1270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3283              		.loc 1 1270 5 is_stmt 1 view .LVU1191
1270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3284              		.loc 1 1270 26 is_stmt 0 view .LVU1192
 3285 0052 0023     		movs	r3, #0
 3286 0054 0493     		str	r3, [sp, #16]
1271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3287              		.loc 1 1271 5 is_stmt 1 view .LVU1193
1271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 143


 3288              		.loc 1 1271 26 is_stmt 0 view .LVU1194
 3289 0056 0593     		str	r3, [sp, #20]
1272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3290              		.loc 1 1272 5 is_stmt 1 view .LVU1195
1272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3291              		.loc 1 1272 11 is_stmt 0 view .LVU1196
 3292 0058 6946     		mov	r1, sp
 3293              	.LVL268:
1272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3294              		.loc 1 1272 11 view .LVU1197
 3295 005a 2068     		ldr	r0, [r4]
 3296              	.LVL269:
1272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3297              		.loc 1 1272 11 view .LVU1198
 3298 005c FFF7FEFF 		bl	SDMMC_ConfigData
 3299              	.LVL270:
1274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
 3300              		.loc 1 1274 5 is_stmt 1 view .LVU1199
 3301 0060 2268     		ldr	r2, [r4]
 3302 0062 D368     		ldr	r3, [r2, #12]
 3303 0064 43F04003 		orr	r3, r3, #64
 3304 0068 D360     		str	r3, [r2, #12]
1275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3305              		.loc 1 1275 5 view .LVU1200
1275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3306              		.loc 1 1275 8 is_stmt 0 view .LVU1201
 3307 006a 2368     		ldr	r3, [r4]
1275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3308              		.loc 1 1275 30 view .LVU1202
 3309 006c C3F85880 		str	r8, [r3, #88]
1276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3310              		.loc 1 1276 5 is_stmt 1 view .LVU1203
1276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3311              		.loc 1 1276 8 is_stmt 0 view .LVU1204
 3312 0070 2368     		ldr	r3, [r4]
1276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3313              		.loc 1 1276 30 view .LVU1205
 3314 0072 0122     		movs	r2, #1
 3315 0074 1A65     		str	r2, [r3, #80]
1279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3316              		.loc 1 1279 5 is_stmt 1 view .LVU1206
1279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3317              		.loc 1 1279 8 is_stmt 0 view .LVU1207
 3318 0076 9742     		cmp	r7, r2
 3319 0078 1DD9     		bls	.L213
1281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3320              		.loc 1 1281 7 is_stmt 1 view .LVU1208
1281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3321              		.loc 1 1281 20 is_stmt 0 view .LVU1209
 3322 007a 8223     		movs	r3, #130
 3323 007c E362     		str	r3, [r4, #44]
1284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3324              		.loc 1 1284 7 is_stmt 1 view .LVU1210
1284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3325              		.loc 1 1284 20 is_stmt 0 view .LVU1211
 3326 007e 3146     		mov	r1, r6
 3327 0080 2068     		ldr	r0, [r4]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 144


 3328 0082 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 3329              	.LVL271:
 3330              	.L214:
1293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3331              		.loc 1 1293 5 is_stmt 1 view .LVU1212
1293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3332              		.loc 1 1293 8 is_stmt 0 view .LVU1213
 3333 0086 E8B1     		cbz	r0, .L215
1296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3334              		.loc 1 1296 7 is_stmt 1 view .LVU1214
 3335 0088 2368     		ldr	r3, [r4]
 3336 008a 144A     		ldr	r2, .L220
 3337 008c 9A63     		str	r2, [r3, #56]
1297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3338              		.loc 1 1297 7 view .LVU1215
1297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3339              		.loc 1 1297 10 is_stmt 0 view .LVU1216
 3340 008e 636B     		ldr	r3, [r4, #52]
1297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3341              		.loc 1 1297 22 view .LVU1217
 3342 0090 0343     		orrs	r3, r3, r0
 3343 0092 6363     		str	r3, [r4, #52]
1298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3344              		.loc 1 1298 7 is_stmt 1 view .LVU1218
1298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3345              		.loc 1 1298 18 is_stmt 0 view .LVU1219
 3346 0094 0123     		movs	r3, #1
 3347 0096 84F83030 		strb	r3, [r4, #48]
1299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3348              		.loc 1 1299 7 is_stmt 1 view .LVU1220
1299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3349              		.loc 1 1299 20 is_stmt 0 view .LVU1221
 3350 009a 0023     		movs	r3, #0
 3351 009c E362     		str	r3, [r4, #44]
1300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3352              		.loc 1 1300 7 is_stmt 1 view .LVU1222
1300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3353              		.loc 1 1300 14 is_stmt 0 view .LVU1223
 3354 009e 19E0     		b	.L210
 3355              	.LVL272:
 3356              	.L218:
1238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3357              		.loc 1 1238 5 is_stmt 1 view .LVU1224
1238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3358              		.loc 1 1238 8 is_stmt 0 view .LVU1225
 3359 00a0 436B     		ldr	r3, [r0, #52]
 3360              	.LVL273:
1238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3361              		.loc 1 1238 20 view .LVU1226
 3362 00a2 43F00063 		orr	r3, r3, #134217728
 3363 00a6 4363     		str	r3, [r0, #52]
1239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3364              		.loc 1 1239 5 is_stmt 1 view .LVU1227
1239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3365              		.loc 1 1239 12 is_stmt 0 view .LVU1228
 3366 00a8 0125     		movs	r5, #1
 3367 00aa 13E0     		b	.L210
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 145


 3368              	.LVL274:
 3369              	.L219:
1248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3370              		.loc 1 1248 7 is_stmt 1 view .LVU1229
1248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3371              		.loc 1 1248 10 is_stmt 0 view .LVU1230
 3372 00ac 436B     		ldr	r3, [r0, #52]
1248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3373              		.loc 1 1248 22 view .LVU1231
 3374 00ae 43F00073 		orr	r3, r3, #33554432
 3375 00b2 4363     		str	r3, [r0, #52]
1249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3376              		.loc 1 1249 7 is_stmt 1 view .LVU1232
1249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3377              		.loc 1 1249 14 is_stmt 0 view .LVU1233
 3378 00b4 0EE0     		b	.L210
 3379              	.LVL275:
 3380              	.L213:
1288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3381              		.loc 1 1288 7 is_stmt 1 view .LVU1234
1288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3382              		.loc 1 1288 20 is_stmt 0 view .LVU1235
 3383 00b6 8123     		movs	r3, #129
 3384 00b8 E362     		str	r3, [r4, #44]
1291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3385              		.loc 1 1291 7 is_stmt 1 view .LVU1236
1291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3386              		.loc 1 1291 20 is_stmt 0 view .LVU1237
 3387 00ba 3146     		mov	r1, r6
 3388 00bc 2068     		ldr	r0, [r4]
 3389 00be FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 3390              	.LVL276:
1291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3391              		.loc 1 1291 20 view .LVU1238
 3392 00c2 E0E7     		b	.L214
 3393              	.L215:
1304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3394              		.loc 1 1304 5 is_stmt 1 view .LVU1239
 3395 00c4 2268     		ldr	r2, [r4]
 3396 00c6 D36B     		ldr	r3, [r2, #60]
 3397 00c8 43F49573 		orr	r3, r3, #298
 3398 00cc D363     		str	r3, [r2, #60]
1307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3399              		.loc 1 1307 5 view .LVU1240
1307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3400              		.loc 1 1307 12 is_stmt 0 view .LVU1241
 3401 00ce 0025     		movs	r5, #0
 3402 00d0 00E0     		b	.L210
 3403              	.LVL277:
 3404              	.L216:
1311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3405              		.loc 1 1311 12 view .LVU1242
 3406 00d2 0225     		movs	r5, #2
 3407              	.LVL278:
 3408              	.L210:
1313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3409              		.loc 1 1313 1 view .LVU1243
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 146


 3410 00d4 2846     		mov	r0, r5
 3411 00d6 06B0     		add	sp, sp, #24
 3412              	.LCFI47:
 3413              		.cfi_def_cfa_offset 24
 3414              		@ sp needed
 3415 00d8 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3416              	.LVL279:
 3417              	.L221:
1313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3418              		.loc 1 1313 1 view .LVU1244
 3419              		.align	2
 3420              	.L220:
 3421 00dc FF0FE01F 		.word	534777855
 3422              		.cfi_endproc
 3423              	.LFE342:
 3425              		.section	.text.HAL_SD_WriteBlocks_DMA,"ax",%progbits
 3426              		.align	1
 3427              		.global	HAL_SD_WriteBlocks_DMA
 3428              		.syntax unified
 3429              		.thumb
 3430              		.thumb_func
 3432              	HAL_SD_WriteBlocks_DMA:
 3433              	.LVL280:
 3434              	.LFB343:
1330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3435              		.loc 1 1330 1 is_stmt 1 view -0
 3436              		.cfi_startproc
 3437              		@ args = 0, pretend = 0, frame = 24
 3438              		@ frame_needed = 0, uses_anonymous_args = 0
1330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3439              		.loc 1 1330 1 is_stmt 0 view .LVU1246
 3440 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3441              	.LCFI48:
 3442              		.cfi_def_cfa_offset 24
 3443              		.cfi_offset 4, -24
 3444              		.cfi_offset 5, -20
 3445              		.cfi_offset 6, -16
 3446              		.cfi_offset 7, -12
 3447              		.cfi_offset 8, -8
 3448              		.cfi_offset 14, -4
 3449 0004 86B0     		sub	sp, sp, #24
 3450              	.LCFI49:
 3451              		.cfi_def_cfa_offset 48
 3452 0006 0446     		mov	r4, r0
1331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 3453              		.loc 1 1331 3 is_stmt 1 view .LVU1247
1332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 3454              		.loc 1 1332 3 view .LVU1248
1333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3455              		.loc 1 1333 3 view .LVU1249
 3456              	.LVL281:
1335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3457              		.loc 1 1335 3 view .LVU1250
1335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3458              		.loc 1 1335 6 is_stmt 0 view .LVU1251
 3459 0008 0029     		cmp	r1, #0
 3460 000a 48D0     		beq	.L232
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 147


 3461 000c 1646     		mov	r6, r2
 3462 000e 1F46     		mov	r7, r3
 3463 0010 8846     		mov	r8, r1
1341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3464              		.loc 1 1341 3 is_stmt 1 view .LVU1252
1341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3465              		.loc 1 1341 10 is_stmt 0 view .LVU1253
 3466 0012 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 3467 0016 EDB2     		uxtb	r5, r5
1341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3468              		.loc 1 1341 6 view .LVU1254
 3469 0018 012D     		cmp	r5, #1
 3470 001a 59D1     		bne	.L230
1343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3471              		.loc 1 1343 5 is_stmt 1 view .LVU1255
1343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3472              		.loc 1 1343 20 is_stmt 0 view .LVU1256
 3473 001c 0023     		movs	r3, #0
 3474              	.LVL282:
1343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3475              		.loc 1 1343 20 view .LVU1257
 3476 001e 4363     		str	r3, [r0, #52]
1345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3477              		.loc 1 1345 5 is_stmt 1 view .LVU1258
1345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3478              		.loc 1 1345 14 is_stmt 0 view .LVU1259
 3479 0020 D319     		adds	r3, r2, r7
1345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3480              		.loc 1 1345 46 view .LVU1260
 3481 0022 026D     		ldr	r2, [r0, #80]
 3482              	.LVL283:
1345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3483              		.loc 1 1345 8 view .LVU1261
 3484 0024 9342     		cmp	r3, r2
 3485 0026 40D8     		bhi	.L233
1351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3486              		.loc 1 1351 5 is_stmt 1 view .LVU1262
1351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3487              		.loc 1 1351 16 is_stmt 0 view .LVU1263
 3488 0028 0323     		movs	r3, #3
 3489 002a 80F83030 		strb	r3, [r0, #48]
1354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3490              		.loc 1 1354 5 is_stmt 1 view .LVU1264
1354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3491              		.loc 1 1354 8 is_stmt 0 view .LVU1265
 3492 002e 0368     		ldr	r3, [r0]
1354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3493              		.loc 1 1354 26 view .LVU1266
 3494 0030 0022     		movs	r2, #0
 3495 0032 DA62     		str	r2, [r3, #44]
1356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 3496              		.loc 1 1356 5 is_stmt 1 view .LVU1267
1356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 3497              		.loc 1 1356 21 is_stmt 0 view .LVU1268
 3498 0034 E161     		str	r1, [r4, #28]
1357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3499              		.loc 1 1357 5 is_stmt 1 view .LVU1269
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 148


1357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3500              		.loc 1 1357 33 is_stmt 0 view .LVU1270
 3501 0036 7B02     		lsls	r3, r7, #9
1357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3502              		.loc 1 1357 21 view .LVU1271
 3503 0038 0362     		str	r3, [r0, #32]
1359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3504              		.loc 1 1359 5 is_stmt 1 view .LVU1272
1359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3505              		.loc 1 1359 20 is_stmt 0 view .LVU1273
 3506 003a 826B     		ldr	r2, [r0, #56]
1359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3507              		.loc 1 1359 8 view .LVU1274
 3508 003c 012A     		cmp	r2, #1
 3509 003e 00D0     		beq	.L226
1361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3510              		.loc 1 1361 7 is_stmt 1 view .LVU1275
1361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3511              		.loc 1 1361 11 is_stmt 0 view .LVU1276
 3512 0040 7602     		lsls	r6, r6, #9
 3513              	.LVL284:
 3514              	.L226:
1365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3515              		.loc 1 1365 5 is_stmt 1 view .LVU1277
1365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3516              		.loc 1 1365 26 is_stmt 0 view .LVU1278
 3517 0042 4FF0FF32 		mov	r2, #-1
 3518 0046 0092     		str	r2, [sp]
1366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3519              		.loc 1 1366 5 is_stmt 1 view .LVU1279
1366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3520              		.loc 1 1366 26 is_stmt 0 view .LVU1280
 3521 0048 0193     		str	r3, [sp, #4]
1367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3522              		.loc 1 1367 5 is_stmt 1 view .LVU1281
1367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3523              		.loc 1 1367 26 is_stmt 0 view .LVU1282
 3524 004a 9023     		movs	r3, #144
 3525 004c 0293     		str	r3, [sp, #8]
1368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3526              		.loc 1 1368 5 is_stmt 1 view .LVU1283
1368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3527              		.loc 1 1368 26 is_stmt 0 view .LVU1284
 3528 004e 0023     		movs	r3, #0
 3529 0050 0393     		str	r3, [sp, #12]
1369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3530              		.loc 1 1369 5 is_stmt 1 view .LVU1285
1369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3531              		.loc 1 1369 26 is_stmt 0 view .LVU1286
 3532 0052 0493     		str	r3, [sp, #16]
1370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3533              		.loc 1 1370 5 is_stmt 1 view .LVU1287
1370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3534              		.loc 1 1370 26 is_stmt 0 view .LVU1288
 3535 0054 0593     		str	r3, [sp, #20]
1371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3536              		.loc 1 1371 5 is_stmt 1 view .LVU1289
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 149


1371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3537              		.loc 1 1371 11 is_stmt 0 view .LVU1290
 3538 0056 6946     		mov	r1, sp
 3539              	.LVL285:
1371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3540              		.loc 1 1371 11 view .LVU1291
 3541 0058 2068     		ldr	r0, [r4]
 3542              	.LVL286:
1371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3543              		.loc 1 1371 11 view .LVU1292
 3544 005a FFF7FEFF 		bl	SDMMC_ConfigData
 3545              	.LVL287:
1374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3546              		.loc 1 1374 5 is_stmt 1 view .LVU1293
 3547 005e 2268     		ldr	r2, [r4]
 3548 0060 D368     		ldr	r3, [r2, #12]
 3549 0062 43F04003 		orr	r3, r3, #64
 3550 0066 D360     		str	r3, [r2, #12]
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3551              		.loc 1 1376 5 view .LVU1294
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3552              		.loc 1 1376 8 is_stmt 0 view .LVU1295
 3553 0068 2368     		ldr	r3, [r4]
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3554              		.loc 1 1376 30 view .LVU1296
 3555 006a C3F85880 		str	r8, [r3, #88]
1377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3556              		.loc 1 1377 5 is_stmt 1 view .LVU1297
1377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3557              		.loc 1 1377 8 is_stmt 0 view .LVU1298
 3558 006e 2368     		ldr	r3, [r4]
1377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3559              		.loc 1 1377 30 view .LVU1299
 3560 0070 0122     		movs	r2, #1
 3561 0072 1A65     		str	r2, [r3, #80]
1380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3562              		.loc 1 1380 5 is_stmt 1 view .LVU1300
1380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3563              		.loc 1 1380 8 is_stmt 0 view .LVU1301
 3564 0074 9742     		cmp	r7, r2
 3565 0076 1DD9     		bls	.L227
1382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3566              		.loc 1 1382 7 is_stmt 1 view .LVU1302
1382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3567              		.loc 1 1382 20 is_stmt 0 view .LVU1303
 3568 0078 A023     		movs	r3, #160
 3569 007a E362     		str	r3, [r4, #44]
1385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3570              		.loc 1 1385 7 is_stmt 1 view .LVU1304
1385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3571              		.loc 1 1385 20 is_stmt 0 view .LVU1305
 3572 007c 3146     		mov	r1, r6
 3573 007e 2068     		ldr	r0, [r4]
 3574 0080 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 3575              	.LVL288:
 3576              	.L228:
1394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 150


 3577              		.loc 1 1394 5 is_stmt 1 view .LVU1306
1394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3578              		.loc 1 1394 8 is_stmt 0 view .LVU1307
 3579 0084 E8B1     		cbz	r0, .L229
1397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3580              		.loc 1 1397 7 is_stmt 1 view .LVU1308
 3581 0086 2368     		ldr	r3, [r4]
 3582 0088 144A     		ldr	r2, .L234
 3583 008a 9A63     		str	r2, [r3, #56]
1398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3584              		.loc 1 1398 7 view .LVU1309
1398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3585              		.loc 1 1398 10 is_stmt 0 view .LVU1310
 3586 008c 636B     		ldr	r3, [r4, #52]
1398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3587              		.loc 1 1398 22 view .LVU1311
 3588 008e 0343     		orrs	r3, r3, r0
 3589 0090 6363     		str	r3, [r4, #52]
1399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3590              		.loc 1 1399 7 is_stmt 1 view .LVU1312
1399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3591              		.loc 1 1399 18 is_stmt 0 view .LVU1313
 3592 0092 0123     		movs	r3, #1
 3593 0094 84F83030 		strb	r3, [r4, #48]
1400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3594              		.loc 1 1400 7 is_stmt 1 view .LVU1314
1400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3595              		.loc 1 1400 20 is_stmt 0 view .LVU1315
 3596 0098 0023     		movs	r3, #0
 3597 009a E362     		str	r3, [r4, #44]
1401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3598              		.loc 1 1401 7 is_stmt 1 view .LVU1316
1401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3599              		.loc 1 1401 14 is_stmt 0 view .LVU1317
 3600 009c 19E0     		b	.L224
 3601              	.LVL289:
 3602              	.L232:
1337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3603              		.loc 1 1337 5 is_stmt 1 view .LVU1318
1337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3604              		.loc 1 1337 8 is_stmt 0 view .LVU1319
 3605 009e 436B     		ldr	r3, [r0, #52]
 3606              	.LVL290:
1337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3607              		.loc 1 1337 20 view .LVU1320
 3608 00a0 43F00063 		orr	r3, r3, #134217728
 3609 00a4 4363     		str	r3, [r0, #52]
1338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3610              		.loc 1 1338 5 is_stmt 1 view .LVU1321
1338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3611              		.loc 1 1338 12 is_stmt 0 view .LVU1322
 3612 00a6 0125     		movs	r5, #1
 3613 00a8 13E0     		b	.L224
 3614              	.LVL291:
 3615              	.L233:
1347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3616              		.loc 1 1347 7 is_stmt 1 view .LVU1323
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 151


1347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3617              		.loc 1 1347 10 is_stmt 0 view .LVU1324
 3618 00aa 436B     		ldr	r3, [r0, #52]
1347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3619              		.loc 1 1347 22 view .LVU1325
 3620 00ac 43F00073 		orr	r3, r3, #33554432
 3621 00b0 4363     		str	r3, [r0, #52]
1348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3622              		.loc 1 1348 7 is_stmt 1 view .LVU1326
1348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3623              		.loc 1 1348 14 is_stmt 0 view .LVU1327
 3624 00b2 0EE0     		b	.L224
 3625              	.LVL292:
 3626              	.L227:
1389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3627              		.loc 1 1389 7 is_stmt 1 view .LVU1328
1389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3628              		.loc 1 1389 20 is_stmt 0 view .LVU1329
 3629 00b4 9023     		movs	r3, #144
 3630 00b6 E362     		str	r3, [r4, #44]
1392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3631              		.loc 1 1392 7 is_stmt 1 view .LVU1330
1392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3632              		.loc 1 1392 20 is_stmt 0 view .LVU1331
 3633 00b8 3146     		mov	r1, r6
 3634 00ba 2068     		ldr	r0, [r4]
 3635 00bc FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 3636              	.LVL293:
1392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3637              		.loc 1 1392 20 view .LVU1332
 3638 00c0 E0E7     		b	.L228
 3639              	.L229:
1405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3640              		.loc 1 1405 5 is_stmt 1 view .LVU1333
 3641 00c2 2268     		ldr	r2, [r4]
 3642 00c4 D36B     		ldr	r3, [r2, #60]
 3643 00c6 43F48D73 		orr	r3, r3, #282
 3644 00ca D363     		str	r3, [r2, #60]
1407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3645              		.loc 1 1407 5 view .LVU1334
1407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3646              		.loc 1 1407 12 is_stmt 0 view .LVU1335
 3647 00cc 0025     		movs	r5, #0
 3648 00ce 00E0     		b	.L224
 3649              	.LVL294:
 3650              	.L230:
1411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3651              		.loc 1 1411 12 view .LVU1336
 3652 00d0 0225     		movs	r5, #2
 3653              	.LVL295:
 3654              	.L224:
1413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3655              		.loc 1 1413 1 view .LVU1337
 3656 00d2 2846     		mov	r0, r5
 3657 00d4 06B0     		add	sp, sp, #24
 3658              	.LCFI50:
 3659              		.cfi_def_cfa_offset 24
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 152


 3660              		@ sp needed
 3661 00d6 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3662              	.LVL296:
 3663              	.L235:
1413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3664              		.loc 1 1413 1 view .LVU1338
 3665 00da 00BF     		.align	2
 3666              	.L234:
 3667 00dc FF0FE01F 		.word	534777855
 3668              		.cfi_endproc
 3669              	.LFE343:
 3671              		.section	.text.HAL_SD_Erase,"ax",%progbits
 3672              		.align	1
 3673              		.global	HAL_SD_Erase
 3674              		.syntax unified
 3675              		.thumb
 3676              		.thumb_func
 3678              	HAL_SD_Erase:
 3679              	.LVL297:
 3680              	.LFB344:
1425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 3681              		.loc 1 1425 1 is_stmt 1 view -0
 3682              		.cfi_startproc
 3683              		@ args = 0, pretend = 0, frame = 0
 3684              		@ frame_needed = 0, uses_anonymous_args = 0
1425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 3685              		.loc 1 1425 1 is_stmt 0 view .LVU1340
 3686 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3687              	.LCFI51:
 3688              		.cfi_def_cfa_offset 24
 3689              		.cfi_offset 3, -24
 3690              		.cfi_offset 4, -20
 3691              		.cfi_offset 5, -16
 3692              		.cfi_offset 6, -12
 3693              		.cfi_offset 7, -8
 3694              		.cfi_offset 14, -4
1426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
 3695              		.loc 1 1426 3 is_stmt 1 view .LVU1341
1427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
 3696              		.loc 1 1427 3 view .LVU1342
 3697              	.LVL298:
1428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3698              		.loc 1 1428 3 view .LVU1343
1430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3699              		.loc 1 1430 3 view .LVU1344
1430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3700              		.loc 1 1430 10 is_stmt 0 view .LVU1345
 3701 0002 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 3702 0006 EDB2     		uxtb	r5, r5
1430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3703              		.loc 1 1430 6 view .LVU1346
 3704 0008 012D     		cmp	r5, #1
 3705 000a 70D1     		bne	.L246
 3706 000c 0446     		mov	r4, r0
 3707 000e 0F46     		mov	r7, r1
 3708 0010 1646     		mov	r6, r2
1432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 153


 3709              		.loc 1 1432 5 is_stmt 1 view .LVU1347
1432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3710              		.loc 1 1432 20 is_stmt 0 view .LVU1348
 3711 0012 0023     		movs	r3, #0
 3712 0014 4363     		str	r3, [r0, #52]
1434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3713              		.loc 1 1434 5 is_stmt 1 view .LVU1349
1434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3714              		.loc 1 1434 8 is_stmt 0 view .LVU1350
 3715 0016 9142     		cmp	r1, r2
 3716 0018 14D8     		bhi	.L248
1440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3717              		.loc 1 1440 5 is_stmt 1 view .LVU1351
1440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3718              		.loc 1 1440 31 is_stmt 0 view .LVU1352
 3719 001a 036D     		ldr	r3, [r0, #80]
1440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3720              		.loc 1 1440 8 view .LVU1353
 3721 001c 9342     		cmp	r3, r2
 3722 001e 16D3     		bcc	.L249
1446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3723              		.loc 1 1446 5 is_stmt 1 view .LVU1354
1446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3724              		.loc 1 1446 16 is_stmt 0 view .LVU1355
 3725 0020 0323     		movs	r3, #3
 3726 0022 80F83030 		strb	r3, [r0, #48]
1449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3727              		.loc 1 1449 5 is_stmt 1 view .LVU1356
1449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3728              		.loc 1 1449 22 is_stmt 0 view .LVU1357
 3729 0026 036C     		ldr	r3, [r0, #64]
1449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3730              		.loc 1 1449 8 view .LVU1358
 3731 0028 13F0200F 		tst	r3, #32
 3732 002c 14D1     		bne	.L240
1452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 3733              		.loc 1 1452 7 is_stmt 1 view .LVU1359
 3734 002e 0368     		ldr	r3, [r0]
 3735 0030 304A     		ldr	r2, .L252
 3736              	.LVL299:
1452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 3737              		.loc 1 1452 7 is_stmt 0 view .LVU1360
 3738 0032 9A63     		str	r2, [r3, #56]
1453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3739              		.loc 1 1453 7 is_stmt 1 view .LVU1361
1453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3740              		.loc 1 1453 10 is_stmt 0 view .LVU1362
 3741 0034 436B     		ldr	r3, [r0, #52]
1453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3742              		.loc 1 1453 22 view .LVU1363
 3743 0036 43F08063 		orr	r3, r3, #67108864
 3744 003a 4363     		str	r3, [r0, #52]
1454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3745              		.loc 1 1454 7 is_stmt 1 view .LVU1364
1454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3746              		.loc 1 1454 18 is_stmt 0 view .LVU1365
 3747 003c 0123     		movs	r3, #1
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 154


 3748 003e 80F83030 		strb	r3, [r0, #48]
1455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3749              		.loc 1 1455 7 is_stmt 1 view .LVU1366
1455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3750              		.loc 1 1455 14 is_stmt 0 view .LVU1367
 3751 0042 55E0     		b	.L237
 3752              	.LVL300:
 3753              	.L248:
1436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3754              		.loc 1 1436 7 is_stmt 1 view .LVU1368
1436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3755              		.loc 1 1436 10 is_stmt 0 view .LVU1369
 3756 0044 436B     		ldr	r3, [r0, #52]
1436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3757              		.loc 1 1436 22 view .LVU1370
 3758 0046 43F00063 		orr	r3, r3, #134217728
 3759 004a 4363     		str	r3, [r0, #52]
1437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3760              		.loc 1 1437 7 is_stmt 1 view .LVU1371
1437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3761              		.loc 1 1437 14 is_stmt 0 view .LVU1372
 3762 004c 50E0     		b	.L237
 3763              	.L249:
1442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3764              		.loc 1 1442 7 is_stmt 1 view .LVU1373
1442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3765              		.loc 1 1442 10 is_stmt 0 view .LVU1374
 3766 004e 436B     		ldr	r3, [r0, #52]
1442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3767              		.loc 1 1442 22 view .LVU1375
 3768 0050 43F00073 		orr	r3, r3, #33554432
 3769 0054 4363     		str	r3, [r0, #52]
1443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3770              		.loc 1 1443 7 is_stmt 1 view .LVU1376
1443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3771              		.loc 1 1443 14 is_stmt 0 view .LVU1377
 3772 0056 4BE0     		b	.L237
 3773              	.L240:
1458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3774              		.loc 1 1458 5 is_stmt 1 view .LVU1378
1458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3775              		.loc 1 1458 10 is_stmt 0 view .LVU1379
 3776 0058 0021     		movs	r1, #0
 3777              	.LVL301:
1458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3778              		.loc 1 1458 10 view .LVU1380
 3779 005a 0068     		ldr	r0, [r0]
 3780              	.LVL302:
1458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3781              		.loc 1 1458 10 view .LVU1381
 3782 005c FFF7FEFF 		bl	SDMMC_GetResponse
 3783              	.LVL303:
1458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3784              		.loc 1 1458 8 discriminator 1 view .LVU1382
 3785 0060 10F0007F 		tst	r0, #33554432
 3786 0064 15D1     		bne	.L250
1468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 155


 3787              		.loc 1 1468 5 is_stmt 1 view .LVU1383
1468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3788              		.loc 1 1468 20 is_stmt 0 view .LVU1384
 3789 0066 A36B     		ldr	r3, [r4, #56]
1468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3790              		.loc 1 1468 8 view .LVU1385
 3791 0068 012B     		cmp	r3, #1
 3792 006a 01D0     		beq	.L242
1470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       end_add   *= 512U;
 3793              		.loc 1 1470 7 is_stmt 1 view .LVU1386
1470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       end_add   *= 512U;
 3794              		.loc 1 1470 17 is_stmt 0 view .LVU1387
 3795 006c 7F02     		lsls	r7, r7, #9
 3796              	.LVL304:
1471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3797              		.loc 1 1471 7 is_stmt 1 view .LVU1388
1471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3798              		.loc 1 1471 17 is_stmt 0 view .LVU1389
 3799 006e 7602     		lsls	r6, r6, #9
 3800              	.LVL305:
 3801              	.L242:
1475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3802              		.loc 1 1475 5 is_stmt 1 view .LVU1390
1475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3803              		.loc 1 1475 8 is_stmt 0 view .LVU1391
 3804 0070 032B     		cmp	r3, #3
 3805 0072 1ED0     		beq	.L243
1478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3806              		.loc 1 1478 7 is_stmt 1 view .LVU1392
1478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3807              		.loc 1 1478 20 is_stmt 0 view .LVU1393
 3808 0074 3946     		mov	r1, r7
 3809 0076 2068     		ldr	r0, [r4]
 3810 0078 FFF7FEFF 		bl	SDMMC_CmdSDEraseStartAdd
 3811              	.LVL306:
1479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3812              		.loc 1 1479 7 is_stmt 1 view .LVU1394
1479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3813              		.loc 1 1479 10 is_stmt 0 view .LVU1395
 3814 007c A0B1     		cbz	r0, .L244
1482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3815              		.loc 1 1482 9 is_stmt 1 view .LVU1396
 3816 007e 2368     		ldr	r3, [r4]
 3817 0080 1C49     		ldr	r1, .L252
 3818 0082 9963     		str	r1, [r3, #56]
1483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3819              		.loc 1 1483 9 view .LVU1397
1483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3820              		.loc 1 1483 12 is_stmt 0 view .LVU1398
 3821 0084 636B     		ldr	r3, [r4, #52]
1483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3822              		.loc 1 1483 24 view .LVU1399
 3823 0086 0343     		orrs	r3, r3, r0
 3824 0088 6363     		str	r3, [r4, #52]
1484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 3825              		.loc 1 1484 9 is_stmt 1 view .LVU1400
1484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 156


 3826              		.loc 1 1484 20 is_stmt 0 view .LVU1401
 3827 008a 0123     		movs	r3, #1
 3828 008c 84F83030 		strb	r3, [r4, #48]
1485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 3829              		.loc 1 1485 9 is_stmt 1 view .LVU1402
1485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 3830              		.loc 1 1485 16 is_stmt 0 view .LVU1403
 3831 0090 2EE0     		b	.L237
 3832              	.LVL307:
 3833              	.L250:
1461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 3834              		.loc 1 1461 7 is_stmt 1 view .LVU1404
 3835 0092 2368     		ldr	r3, [r4]
 3836 0094 174A     		ldr	r2, .L252
 3837 0096 9A63     		str	r2, [r3, #56]
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3838              		.loc 1 1462 7 view .LVU1405
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3839              		.loc 1 1462 10 is_stmt 0 view .LVU1406
 3840 0098 636B     		ldr	r3, [r4, #52]
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3841              		.loc 1 1462 22 view .LVU1407
 3842 009a 43F40063 		orr	r3, r3, #2048
 3843 009e 6363     		str	r3, [r4, #52]
1463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3844              		.loc 1 1463 7 is_stmt 1 view .LVU1408
1463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3845              		.loc 1 1463 18 is_stmt 0 view .LVU1409
 3846 00a0 0123     		movs	r3, #1
 3847 00a2 84F83030 		strb	r3, [r4, #48]
1464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3848              		.loc 1 1464 7 is_stmt 1 view .LVU1410
1464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3849              		.loc 1 1464 14 is_stmt 0 view .LVU1411
 3850 00a6 23E0     		b	.L237
 3851              	.LVL308:
 3852              	.L244:
1489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3853              		.loc 1 1489 7 is_stmt 1 view .LVU1412
1489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3854              		.loc 1 1489 20 is_stmt 0 view .LVU1413
 3855 00a8 3146     		mov	r1, r6
 3856 00aa 2068     		ldr	r0, [r4]
 3857              	.LVL309:
1489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3858              		.loc 1 1489 20 view .LVU1414
 3859 00ac FFF7FEFF 		bl	SDMMC_CmdSDEraseEndAdd
 3860              	.LVL310:
1490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3861              		.loc 1 1490 7 is_stmt 1 view .LVU1415
1490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3862              		.loc 1 1490 10 is_stmt 0 view .LVU1416
 3863 00b0 70B9     		cbnz	r0, .L251
 3864              	.LVL311:
 3865              	.L243:
1501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 3866              		.loc 1 1501 5 is_stmt 1 view .LVU1417
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 157


1501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 3867              		.loc 1 1501 18 is_stmt 0 view .LVU1418
 3868 00b2 0021     		movs	r1, #0
 3869 00b4 2068     		ldr	r0, [r4]
 3870 00b6 FFF7FEFF 		bl	SDMMC_CmdErase
 3871              	.LVL312:
1502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3872              		.loc 1 1502 5 is_stmt 1 view .LVU1419
1502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3873              		.loc 1 1502 8 is_stmt 0 view .LVU1420
 3874 00ba 98B1     		cbz	r0, .L245
1505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3875              		.loc 1 1505 7 is_stmt 1 view .LVU1421
 3876 00bc 2368     		ldr	r3, [r4]
 3877 00be 0D49     		ldr	r1, .L252
 3878 00c0 9963     		str	r1, [r3, #56]
1506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3879              		.loc 1 1506 7 view .LVU1422
1506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3880              		.loc 1 1506 10 is_stmt 0 view .LVU1423
 3881 00c2 636B     		ldr	r3, [r4, #52]
1506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3882              		.loc 1 1506 22 view .LVU1424
 3883 00c4 0343     		orrs	r3, r3, r0
 3884 00c6 6363     		str	r3, [r4, #52]
1507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3885              		.loc 1 1507 7 is_stmt 1 view .LVU1425
1507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3886              		.loc 1 1507 18 is_stmt 0 view .LVU1426
 3887 00c8 0123     		movs	r3, #1
 3888 00ca 84F83030 		strb	r3, [r4, #48]
1508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3889              		.loc 1 1508 7 is_stmt 1 view .LVU1427
1508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3890              		.loc 1 1508 14 is_stmt 0 view .LVU1428
 3891 00ce 0FE0     		b	.L237
 3892              	.L251:
1493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3893              		.loc 1 1493 9 is_stmt 1 view .LVU1429
 3894 00d0 2368     		ldr	r3, [r4]
 3895 00d2 0849     		ldr	r1, .L252
 3896 00d4 9963     		str	r1, [r3, #56]
1494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3897              		.loc 1 1494 9 view .LVU1430
1494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3898              		.loc 1 1494 12 is_stmt 0 view .LVU1431
 3899 00d6 636B     		ldr	r3, [r4, #52]
1494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3900              		.loc 1 1494 24 view .LVU1432
 3901 00d8 0343     		orrs	r3, r3, r0
 3902 00da 6363     		str	r3, [r4, #52]
1495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 3903              		.loc 1 1495 9 is_stmt 1 view .LVU1433
1495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 3904              		.loc 1 1495 20 is_stmt 0 view .LVU1434
 3905 00dc 0123     		movs	r3, #1
 3906 00de 84F83030 		strb	r3, [r4, #48]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 158


1496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 3907              		.loc 1 1496 9 is_stmt 1 view .LVU1435
1496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 3908              		.loc 1 1496 16 is_stmt 0 view .LVU1436
 3909 00e2 05E0     		b	.L237
 3910              	.L245:
1511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3911              		.loc 1 1511 5 is_stmt 1 view .LVU1437
1511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3912              		.loc 1 1511 16 is_stmt 0 view .LVU1438
 3913 00e4 0123     		movs	r3, #1
 3914 00e6 84F83030 		strb	r3, [r4, #48]
1513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3915              		.loc 1 1513 5 is_stmt 1 view .LVU1439
1513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3916              		.loc 1 1513 12 is_stmt 0 view .LVU1440
 3917 00ea 0025     		movs	r5, #0
 3918 00ec 00E0     		b	.L237
 3919              	.LVL313:
 3920              	.L246:
1517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3921              		.loc 1 1517 12 view .LVU1441
 3922 00ee 0225     		movs	r5, #2
 3923              	.LVL314:
 3924              	.L237:
1519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3925              		.loc 1 1519 1 view .LVU1442
 3926 00f0 2846     		mov	r0, r5
 3927 00f2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3928              	.L253:
 3929              		.align	2
 3930              	.L252:
 3931 00f4 FF0FE01F 		.word	534777855
 3932              		.cfi_endproc
 3933              	.LFE344:
 3935              		.section	.text.HAL_SD_GetState,"ax",%progbits
 3936              		.align	1
 3937              		.global	HAL_SD_GetState
 3938              		.syntax unified
 3939              		.thumb
 3940              		.thumb_func
 3942              	HAL_SD_GetState:
 3943              	.LVL315:
 3944              	.LFB346:
1762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->State;
 3945              		.loc 1 1762 1 is_stmt 1 view -0
 3946              		.cfi_startproc
 3947              		@ args = 0, pretend = 0, frame = 0
 3948              		@ frame_needed = 0, uses_anonymous_args = 0
 3949              		@ link register save eliminated.
1763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3950              		.loc 1 1763 3 view .LVU1444
1763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3951              		.loc 1 1763 13 is_stmt 0 view .LVU1445
 3952 0000 90F83000 		ldrb	r0, [r0, #48]	@ zero_extendqisi2
 3953              	.LVL316:
1764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 159


 3954              		.loc 1 1764 1 view .LVU1446
 3955 0004 7047     		bx	lr
 3956              		.cfi_endproc
 3957              	.LFE346:
 3959              		.section	.text.HAL_SD_GetError,"ax",%progbits
 3960              		.align	1
 3961              		.global	HAL_SD_GetError
 3962              		.syntax unified
 3963              		.thumb
 3964              		.thumb_func
 3966              	HAL_SD_GetError:
 3967              	.LVL317:
 3968              	.LFB347:
1773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->ErrorCode;
 3969              		.loc 1 1773 1 is_stmt 1 view -0
 3970              		.cfi_startproc
 3971              		@ args = 0, pretend = 0, frame = 0
 3972              		@ frame_needed = 0, uses_anonymous_args = 0
 3973              		@ link register save eliminated.
1774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3974              		.loc 1 1774 3 view .LVU1448
1774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3975              		.loc 1 1774 13 is_stmt 0 view .LVU1449
 3976 0000 406B     		ldr	r0, [r0, #52]
 3977              	.LVL318:
1775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3978              		.loc 1 1775 1 view .LVU1450
 3979 0002 7047     		bx	lr
 3980              		.cfi_endproc
 3981              	.LFE347:
 3983              		.section	.text.HAL_SD_TxCpltCallback,"ax",%progbits
 3984              		.align	1
 3985              		.weak	HAL_SD_TxCpltCallback
 3986              		.syntax unified
 3987              		.thumb
 3988              		.thumb_func
 3990              	HAL_SD_TxCpltCallback:
 3991              	.LVL319:
 3992              	.LFB348:
1783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 3993              		.loc 1 1783 1 is_stmt 1 view -0
 3994              		.cfi_startproc
 3995              		@ args = 0, pretend = 0, frame = 0
 3996              		@ frame_needed = 0, uses_anonymous_args = 0
 3997              		@ link register save eliminated.
1785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3998              		.loc 1 1785 3 view .LVU1452
1790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3999              		.loc 1 1790 1 is_stmt 0 view .LVU1453
 4000 0000 7047     		bx	lr
 4001              		.cfi_endproc
 4002              	.LFE348:
 4004              		.section	.text.HAL_SD_RxCpltCallback,"ax",%progbits
 4005              		.align	1
 4006              		.weak	HAL_SD_RxCpltCallback
 4007              		.syntax unified
 4008              		.thumb
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 160


 4009              		.thumb_func
 4011              	HAL_SD_RxCpltCallback:
 4012              	.LVL320:
 4013              	.LFB349:
1798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4014              		.loc 1 1798 1 is_stmt 1 view -0
 4015              		.cfi_startproc
 4016              		@ args = 0, pretend = 0, frame = 0
 4017              		@ frame_needed = 0, uses_anonymous_args = 0
 4018              		@ link register save eliminated.
1800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4019              		.loc 1 1800 3 view .LVU1455
1805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4020              		.loc 1 1805 1 is_stmt 0 view .LVU1456
 4021 0000 7047     		bx	lr
 4022              		.cfi_endproc
 4023              	.LFE349:
 4025              		.section	.text.HAL_SD_ErrorCallback,"ax",%progbits
 4026              		.align	1
 4027              		.weak	HAL_SD_ErrorCallback
 4028              		.syntax unified
 4029              		.thumb
 4030              		.thumb_func
 4032              	HAL_SD_ErrorCallback:
 4033              	.LVL321:
 4034              	.LFB350:
1813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4035              		.loc 1 1813 1 is_stmt 1 view -0
 4036              		.cfi_startproc
 4037              		@ args = 0, pretend = 0, frame = 0
 4038              		@ frame_needed = 0, uses_anonymous_args = 0
 4039              		@ link register save eliminated.
1815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4040              		.loc 1 1815 3 view .LVU1458
1820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4041              		.loc 1 1820 1 is_stmt 0 view .LVU1459
 4042 0000 7047     		bx	lr
 4043              		.cfi_endproc
 4044              	.LFE350:
 4046              		.section	.text.HAL_SD_AbortCallback,"ax",%progbits
 4047              		.align	1
 4048              		.weak	HAL_SD_AbortCallback
 4049              		.syntax unified
 4050              		.thumb
 4051              		.thumb_func
 4053              	HAL_SD_AbortCallback:
 4054              	.LVL322:
 4055              	.LFB351:
1828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4056              		.loc 1 1828 1 is_stmt 1 view -0
 4057              		.cfi_startproc
 4058              		@ args = 0, pretend = 0, frame = 0
 4059              		@ frame_needed = 0, uses_anonymous_args = 0
 4060              		@ link register save eliminated.
1830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4061              		.loc 1 1830 3 view .LVU1461
1835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 161


 4062              		.loc 1 1835 1 is_stmt 0 view .LVU1462
 4063 0000 7047     		bx	lr
 4064              		.cfi_endproc
 4065              	.LFE351:
 4067              		.section	.text.HAL_SD_GetCardCID,"ax",%progbits
 4068              		.align	1
 4069              		.global	HAL_SD_GetCardCID
 4070              		.syntax unified
 4071              		.thumb
 4072              		.thumb_func
 4074              	HAL_SD_GetCardCID:
 4075              	.LVL323:
 4076              	.LFB352:
2158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
 4077              		.loc 1 2158 1 is_stmt 1 view -0
 4078              		.cfi_startproc
 4079              		@ args = 0, pretend = 0, frame = 0
 4080              		@ frame_needed = 0, uses_anonymous_args = 0
 4081              		@ link register save eliminated.
2159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4082              		.loc 1 2159 3 view .LVU1464
2159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4083              		.loc 1 2159 26 is_stmt 0 view .LVU1465
 4084 0000 90F86F30 		ldrb	r3, [r0, #111]	@ zero_extendqisi2
2159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4085              		.loc 1 2159 24 view .LVU1466
 4086 0004 0B70     		strb	r3, [r1]
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4087              		.loc 1 2161 3 is_stmt 1 view .LVU1467
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4088              		.loc 1 2161 43 is_stmt 0 view .LVU1468
 4089 0006 C36E     		ldr	r3, [r0, #108]
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4090              		.loc 1 2161 23 view .LVU1469
 4091 0008 C3F30F23 		ubfx	r3, r3, #8, #16
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4092              		.loc 1 2161 21 view .LVU1470
 4093 000c 4B80     		strh	r3, [r1, #2]	@ movhi
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4094              		.loc 1 2163 3 is_stmt 1 view .LVU1471
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4095              		.loc 1 2163 32 is_stmt 0 view .LVU1472
 4096 000e C26E     		ldr	r2, [r0, #108]
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4097              		.loc 1 2163 71 view .LVU1473
 4098 0010 036F     		ldr	r3, [r0, #112]
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4099              		.loc 1 2163 90 view .LVU1474
 4100 0012 1B0A     		lsrs	r3, r3, #8
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4101              		.loc 1 2163 59 view .LVU1475
 4102 0014 43EA0263 		orr	r3, r3, r2, lsl #24
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4103              		.loc 1 2163 19 view .LVU1476
 4104 0018 4B60     		str	r3, [r1, #4]
2165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4105              		.loc 1 2165 3 is_stmt 1 view .LVU1477
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 162


2165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4106              		.loc 1 2165 21 is_stmt 0 view .LVU1478
 4107 001a 90F87030 		ldrb	r3, [r0, #112]	@ zero_extendqisi2
2165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4108              		.loc 1 2165 19 view .LVU1479
 4109 001e 0B72     		strb	r3, [r1, #8]
2167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4110              		.loc 1 2167 3 is_stmt 1 view .LVU1480
2167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4111              		.loc 1 2167 19 is_stmt 0 view .LVU1481
 4112 0020 90F87730 		ldrb	r3, [r0, #119]	@ zero_extendqisi2
2167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4113              		.loc 1 2167 17 view .LVU1482
 4114 0024 4B72     		strb	r3, [r1, #9]
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4115              		.loc 1 2169 3 is_stmt 1 view .LVU1483
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4116              		.loc 1 2169 29 is_stmt 0 view .LVU1484
 4117 0026 426F     		ldr	r2, [r0, #116]
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4118              		.loc 1 2169 86 view .LVU1485
 4119 0028 90F87B30 		ldrb	r3, [r0, #123]	@ zero_extendqisi2
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4120              		.loc 1 2169 55 view .LVU1486
 4121 002c 43EA0223 		orr	r3, r3, r2, lsl #8
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4122              		.loc 1 2169 16 view .LVU1487
 4123 0030 CB60     		str	r3, [r1, #12]
2171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4124              		.loc 1 2171 3 is_stmt 1 view .LVU1488
2171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4125              		.loc 1 2171 40 is_stmt 0 view .LVU1489
 4126 0032 836F     		ldr	r3, [r0, #120]
2171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4127              		.loc 1 2171 21 view .LVU1490
 4128 0034 C3F30353 		ubfx	r3, r3, #20, #4
2171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4129              		.loc 1 2171 19 view .LVU1491
 4130 0038 0B74     		strb	r3, [r1, #16]
2173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4131              		.loc 1 2173 3 is_stmt 1 view .LVU1492
2173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4132              		.loc 1 2173 44 is_stmt 0 view .LVU1493
 4133 003a 836F     		ldr	r3, [r0, #120]
2173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4134              		.loc 1 2173 24 view .LVU1494
 4135 003c C3F30B23 		ubfx	r3, r3, #8, #12
2173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4136              		.loc 1 2173 22 view .LVU1495
 4137 0040 4B82     		strh	r3, [r1, #18]	@ movhi
2175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4138              		.loc 1 2175 3 is_stmt 1 view .LVU1496
2175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4139              		.loc 1 2175 38 is_stmt 0 view .LVU1497
 4140 0042 836F     		ldr	r3, [r0, #120]
2175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4141              		.loc 1 2175 19 view .LVU1498
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 163


 4142 0044 C3F34603 		ubfx	r3, r3, #1, #7
2175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4143              		.loc 1 2175 17 view .LVU1499
 4144 0048 0B75     		strb	r3, [r1, #20]
2177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4145              		.loc 1 2177 3 is_stmt 1 view .LVU1500
2177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4146              		.loc 1 2177 19 is_stmt 0 view .LVU1501
 4147 004a 0123     		movs	r3, #1
 4148 004c 4B75     		strb	r3, [r1, #21]
2179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4149              		.loc 1 2179 3 is_stmt 1 view .LVU1502
2180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4150              		.loc 1 2180 1 is_stmt 0 view .LVU1503
 4151 004e 0020     		movs	r0, #0
 4152              	.LVL324:
2180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4153              		.loc 1 2180 1 view .LVU1504
 4154 0050 7047     		bx	lr
 4155              		.cfi_endproc
 4156              	.LFE352:
 4158              		.section	.text.HAL_SD_GetCardCSD,"ax",%progbits
 4159              		.align	1
 4160              		.global	HAL_SD_GetCardCSD
 4161              		.syntax unified
 4162              		.thumb
 4163              		.thumb_func
 4165              	HAL_SD_GetCardCSD:
 4166              	.LVL325:
 4167              	.LFB353:
2191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 4168              		.loc 1 2191 1 is_stmt 1 view -0
 4169              		.cfi_startproc
 4170              		@ args = 0, pretend = 0, frame = 0
 4171              		@ frame_needed = 0, uses_anonymous_args = 0
 4172              		@ link register save eliminated.
2191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 4173              		.loc 1 2191 1 is_stmt 0 view .LVU1506
 4174 0000 0346     		mov	r3, r0
2192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4175              		.loc 1 2192 3 is_stmt 1 view .LVU1507
2192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4176              		.loc 1 2192 40 is_stmt 0 view .LVU1508
 4177 0002 C26D     		ldr	r2, [r0, #92]
2192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4178              		.loc 1 2192 21 view .LVU1509
 4179 0004 920F     		lsrs	r2, r2, #30
2192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4180              		.loc 1 2192 19 view .LVU1510
 4181 0006 0A70     		strb	r2, [r1]
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4182              		.loc 1 2194 3 is_stmt 1 view .LVU1511
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4183              		.loc 1 2194 45 is_stmt 0 view .LVU1512
 4184 0008 C26D     		ldr	r2, [r0, #92]
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4185              		.loc 1 2194 26 view .LVU1513
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 164


 4186 000a C2F38362 		ubfx	r2, r2, #26, #4
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4187              		.loc 1 2194 24 view .LVU1514
 4188 000e 4A70     		strb	r2, [r1, #1]
2196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4189              		.loc 1 2196 3 is_stmt 1 view .LVU1515
2196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4190              		.loc 1 2196 59 is_stmt 0 view .LVU1516
 4191 0010 90F85F20 		ldrb	r2, [r0, #95]	@ zero_extendqisi2
2196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4192              		.loc 1 2196 21 view .LVU1517
 4193 0014 02F00302 		and	r2, r2, #3
2196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4194              		.loc 1 2196 19 view .LVU1518
 4195 0018 8A70     		strb	r2, [r1, #2]
2198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4196              		.loc 1 2198 3 is_stmt 1 view .LVU1519
2198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4197              		.loc 1 2198 16 is_stmt 0 view .LVU1520
 4198 001a 90F85E20 		ldrb	r2, [r0, #94]	@ zero_extendqisi2
2198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4199              		.loc 1 2198 14 view .LVU1521
 4200 001e CA70     		strb	r2, [r1, #3]
2200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4201              		.loc 1 2200 3 is_stmt 1 view .LVU1522
2200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4202              		.loc 1 2200 16 is_stmt 0 view .LVU1523
 4203 0020 90F85D20 		ldrb	r2, [r0, #93]	@ zero_extendqisi2
2200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4204              		.loc 1 2200 14 view .LVU1524
 4205 0024 0A71     		strb	r2, [r1, #4]
2202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4206              		.loc 1 2202 3 is_stmt 1 view .LVU1525
2202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4207              		.loc 1 2202 25 is_stmt 0 view .LVU1526
 4208 0026 90F85C20 		ldrb	r2, [r0, #92]	@ zero_extendqisi2
2202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4209              		.loc 1 2202 23 view .LVU1527
 4210 002a 4A71     		strb	r2, [r1, #5]
2204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4211              		.loc 1 2204 3 is_stmt 1 view .LVU1528
2204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4212              		.loc 1 2204 47 is_stmt 0 view .LVU1529
 4213 002c 026E     		ldr	r2, [r0, #96]
2204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4214              		.loc 1 2204 27 view .LVU1530
 4215 002e 120D     		lsrs	r2, r2, #20
2204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4216              		.loc 1 2204 25 view .LVU1531
 4217 0030 CA80     		strh	r2, [r1, #6]	@ movhi
2206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4218              		.loc 1 2206 3 is_stmt 1 view .LVU1532
2206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4219              		.loc 1 2206 60 is_stmt 0 view .LVU1533
 4220 0032 B0F86220 		ldrh	r2, [r0, #98]
2206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4221              		.loc 1 2206 22 view .LVU1534
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 165


 4222 0036 02F00F02 		and	r2, r2, #15
2206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4223              		.loc 1 2206 20 view .LVU1535
 4224 003a 0A72     		strb	r2, [r1, #8]
2208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4225              		.loc 1 2208 3 is_stmt 1 view .LVU1536
2208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4226              		.loc 1 2208 46 is_stmt 0 view .LVU1537
 4227 003c 026E     		ldr	r2, [r0, #96]
2208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4228              		.loc 1 2208 27 view .LVU1538
 4229 003e C2F3C032 		ubfx	r2, r2, #15, #1
2208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4230              		.loc 1 2208 25 view .LVU1539
 4231 0042 4A72     		strb	r2, [r1, #9]
2210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4232              		.loc 1 2210 3 is_stmt 1 view .LVU1540
2210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4233              		.loc 1 2210 46 is_stmt 0 view .LVU1541
 4234 0044 026E     		ldr	r2, [r0, #96]
2210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4235              		.loc 1 2210 27 view .LVU1542
 4236 0046 C2F38032 		ubfx	r2, r2, #14, #1
2210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4237              		.loc 1 2210 25 view .LVU1543
 4238 004a 8A72     		strb	r2, [r1, #10]
2212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4239              		.loc 1 2212 3 is_stmt 1 view .LVU1544
2212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4240              		.loc 1 2212 46 is_stmt 0 view .LVU1545
 4241 004c 026E     		ldr	r2, [r0, #96]
2212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4242              		.loc 1 2212 27 view .LVU1546
 4243 004e C2F34032 		ubfx	r2, r2, #13, #1
2212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4244              		.loc 1 2212 25 view .LVU1547
 4245 0052 CA72     		strb	r2, [r1, #11]
2214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4246              		.loc 1 2214 3 is_stmt 1 view .LVU1548
2214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4247              		.loc 1 2214 38 is_stmt 0 view .LVU1549
 4248 0054 026E     		ldr	r2, [r0, #96]
2214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4249              		.loc 1 2214 19 view .LVU1550
 4250 0056 C2F30032 		ubfx	r2, r2, #12, #1
2214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4251              		.loc 1 2214 17 view .LVU1551
 4252 005a 0A73     		strb	r2, [r1, #12]
2216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4253              		.loc 1 2216 3 is_stmt 1 view .LVU1552
2216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4254              		.loc 1 2216 19 is_stmt 0 view .LVU1553
 4255 005c 0022     		movs	r2, #0
 4256 005e 4A73     		strb	r2, [r1, #13]
2218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4257              		.loc 1 2218 3 is_stmt 1 view .LVU1554
2218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 166


 4258              		.loc 1 2218 18 is_stmt 0 view .LVU1555
 4259 0060 826B     		ldr	r2, [r0, #56]
2218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4260              		.loc 1 2218 6 view .LVU1556
 4261 0062 002A     		cmp	r2, #0
 4262 0064 40F08680 		bne	.L262
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4263              		.loc 1 2220 5 is_stmt 1 view .LVU1557
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4264              		.loc 1 2220 35 is_stmt 0 view .LVU1558
 4265 0068 006E     		ldr	r0, [r0, #96]
 4266              	.LVL326:
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4267              		.loc 1 2220 54 view .LVU1559
 4268 006a 40F6FC72 		movw	r2, #4092
 4269 006e 02EA8002 		and	r2, r2, r0, lsl #2
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4270              		.loc 1 2220 73 view .LVU1560
 4271 0072 586E     		ldr	r0, [r3, #100]
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4272              		.loc 1 2220 61 view .LVU1561
 4273 0074 42EA9072 		orr	r2, r2, r0, lsr #30
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4274              		.loc 1 2220 22 view .LVU1562
 4275 0078 0A61     		str	r2, [r1, #16]
2222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4276              		.loc 1 2222 5 is_stmt 1 view .LVU1563
2222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4277              		.loc 1 2222 51 is_stmt 0 view .LVU1564
 4278 007a 5A6E     		ldr	r2, [r3, #100]
2222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4279              		.loc 1 2222 32 view .LVU1565
 4280 007c C2F3C262 		ubfx	r2, r2, #27, #3
2222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4281              		.loc 1 2222 30 view .LVU1566
 4282 0080 0A75     		strb	r2, [r1, #20]
2224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4283              		.loc 1 2224 5 is_stmt 1 view .LVU1567
2224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4284              		.loc 1 2224 70 is_stmt 0 view .LVU1568
 4285 0082 93F86720 		ldrb	r2, [r3, #103]	@ zero_extendqisi2
2224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4286              		.loc 1 2224 32 view .LVU1569
 4287 0086 02F00702 		and	r2, r2, #7
2224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4288              		.loc 1 2224 30 view .LVU1570
 4289 008a 4A75     		strb	r2, [r1, #21]
2226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4290              		.loc 1 2226 5 is_stmt 1 view .LVU1571
2226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4291              		.loc 1 2226 51 is_stmt 0 view .LVU1572
 4292 008c 5A6E     		ldr	r2, [r3, #100]
2226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4293              		.loc 1 2226 32 view .LVU1573
 4294 008e C2F34252 		ubfx	r2, r2, #21, #3
2226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4295              		.loc 1 2226 30 view .LVU1574
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 167


 4296 0092 8A75     		strb	r2, [r1, #22]
2228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4297              		.loc 1 2228 5 is_stmt 1 view .LVU1575
2228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4298              		.loc 1 2228 51 is_stmt 0 view .LVU1576
 4299 0094 5A6E     		ldr	r2, [r3, #100]
2228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4300              		.loc 1 2228 32 view .LVU1577
 4301 0096 C2F38242 		ubfx	r2, r2, #18, #3
2228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4302              		.loc 1 2228 30 view .LVU1578
 4303 009a CA75     		strb	r2, [r1, #23]
2230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4304              		.loc 1 2230 5 is_stmt 1 view .LVU1579
2230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4305              		.loc 1 2230 46 is_stmt 0 view .LVU1580
 4306 009c 5A6E     		ldr	r2, [r3, #100]
2230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4307              		.loc 1 2230 27 view .LVU1581
 4308 009e C2F3C232 		ubfx	r2, r2, #15, #3
2230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4309              		.loc 1 2230 25 view .LVU1582
 4310 00a2 0A76     		strb	r2, [r1, #24]
2232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4311              		.loc 1 2232 5 is_stmt 1 view .LVU1583
2232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4312              		.loc 1 2232 34 is_stmt 0 view .LVU1584
 4313 00a4 0A69     		ldr	r2, [r1, #16]
2232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4314              		.loc 1 2232 47 view .LVU1585
 4315 00a6 0132     		adds	r2, r2, #1
2232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4316              		.loc 1 2232 27 view .LVU1586
 4317 00a8 9A64     		str	r2, [r3, #72]
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4318              		.loc 1 2233 5 is_stmt 1 view .LVU1587
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4319              		.loc 1 2233 43 is_stmt 0 view .LVU1588
 4320 00aa 087E     		ldrb	r0, [r1, #24]	@ zero_extendqisi2
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4321              		.loc 1 2233 59 view .LVU1589
 4322 00ac 00F00700 		and	r0, r0, #7
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4323              		.loc 1 2233 68 view .LVU1590
 4324 00b0 0230     		adds	r0, r0, #2
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4325              		.loc 1 2233 26 view .LVU1591
 4326 00b2 8240     		lsls	r2, r2, r0
 4327 00b4 9A64     		str	r2, [r3, #72]
2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4328              		.loc 1 2234 5 is_stmt 1 view .LVU1592
2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4329              		.loc 1 2234 42 is_stmt 0 view .LVU1593
 4330 00b6 91F808C0 		ldrb	ip, [r1, #8]	@ zero_extendqisi2
2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4331              		.loc 1 2234 55 view .LVU1594
 4332 00ba 0CF00F0C 		and	ip, ip, #15
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 168


2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4333              		.loc 1 2234 34 view .LVU1595
 4334 00be 0120     		movs	r0, #1
 4335 00c0 00FA0CF0 		lsl	r0, r0, ip
2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4336              		.loc 1 2234 27 view .LVU1596
 4337 00c4 D864     		str	r0, [r3, #76]
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4338              		.loc 1 2236 5 is_stmt 1 view .LVU1597
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4339              		.loc 1 2236 81 is_stmt 0 view .LVU1598
 4340 00c6 400A     		lsrs	r0, r0, #9
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4341              		.loc 1 2236 54 view .LVU1599
 4342 00c8 00FB02F2 		mul	r2, r0, r2
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4343              		.loc 1 2236 29 view .LVU1600
 4344 00cc 1A65     		str	r2, [r3, #80]
2237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4345              		.loc 1 2237 5 is_stmt 1 view .LVU1601
2237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4346              		.loc 1 2237 30 is_stmt 0 view .LVU1602
 4347 00ce 4FF40072 		mov	r2, #512
 4348 00d2 5A65     		str	r2, [r3, #84]
 4349              	.L263:
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4350              		.loc 1 2258 3 is_stmt 1 view .LVU1603
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4351              		.loc 1 2258 42 is_stmt 0 view .LVU1604
 4352 00d4 5A6E     		ldr	r2, [r3, #100]
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4353              		.loc 1 2258 23 view .LVU1605
 4354 00d6 C2F38032 		ubfx	r2, r2, #14, #1
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4355              		.loc 1 2258 21 view .LVU1606
 4356 00da 4A76     		strb	r2, [r1, #25]
2260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4357              		.loc 1 2260 3 is_stmt 1 view .LVU1607
2260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4358              		.loc 1 2260 41 is_stmt 0 view .LVU1608
 4359 00dc 5A6E     		ldr	r2, [r3, #100]
2260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4360              		.loc 1 2260 22 view .LVU1609
 4361 00de C2F3C612 		ubfx	r2, r2, #7, #7
2260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4362              		.loc 1 2260 20 view .LVU1610
 4363 00e2 8A76     		strb	r2, [r1, #26]
2262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4364              		.loc 1 2262 3 is_stmt 1 view .LVU1611
2262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4365              		.loc 1 2262 45 is_stmt 0 view .LVU1612
 4366 00e4 5A6E     		ldr	r2, [r3, #100]
2262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4367              		.loc 1 2262 27 view .LVU1613
 4368 00e6 02F07F02 		and	r2, r2, #127
2262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4369              		.loc 1 2262 25 view .LVU1614
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 169


 4370 00ea CA76     		strb	r2, [r1, #27]
2264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4371              		.loc 1 2264 3 is_stmt 1 view .LVU1615
2264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4372              		.loc 1 2264 48 is_stmt 0 view .LVU1616
 4373 00ec 9A6E     		ldr	r2, [r3, #104]
2264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4374              		.loc 1 2264 29 view .LVU1617
 4375 00ee D20F     		lsrs	r2, r2, #31
2264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4376              		.loc 1 2264 27 view .LVU1618
 4377 00f0 0A77     		strb	r2, [r1, #28]
2266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4378              		.loc 1 2266 3 is_stmt 1 view .LVU1619
2266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4379              		.loc 1 2266 41 is_stmt 0 view .LVU1620
 4380 00f2 9A6E     		ldr	r2, [r3, #104]
2266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4381              		.loc 1 2266 22 view .LVU1621
 4382 00f4 C2F34172 		ubfx	r2, r2, #29, #2
2266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4383              		.loc 1 2266 20 view .LVU1622
 4384 00f8 4A77     		strb	r2, [r1, #29]
2268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4385              		.loc 1 2268 3 is_stmt 1 view .LVU1623
2268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4386              		.loc 1 2268 42 is_stmt 0 view .LVU1624
 4387 00fa 9A6E     		ldr	r2, [r3, #104]
2268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4388              		.loc 1 2268 23 view .LVU1625
 4389 00fc C2F38262 		ubfx	r2, r2, #26, #3
2268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4390              		.loc 1 2268 21 view .LVU1626
 4391 0100 8A77     		strb	r2, [r1, #30]
2270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4392              		.loc 1 2270 3 is_stmt 1 view .LVU1627
2270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4393              		.loc 1 2270 44 is_stmt 0 view .LVU1628
 4394 0102 9A6E     		ldr	r2, [r3, #104]
2270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4395              		.loc 1 2270 25 view .LVU1629
 4396 0104 C2F38352 		ubfx	r2, r2, #22, #4
2270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4397              		.loc 1 2270 23 view .LVU1630
 4398 0108 CA77     		strb	r2, [r1, #31]
2272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4399              		.loc 1 2272 3 is_stmt 1 view .LVU1631
2272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4400              		.loc 1 2272 50 is_stmt 0 view .LVU1632
 4401 010a 9A6E     		ldr	r2, [r3, #104]
2272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4402              		.loc 1 2272 31 view .LVU1633
 4403 010c C2F34052 		ubfx	r2, r2, #21, #1
2272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4404              		.loc 1 2272 29 view .LVU1634
 4405 0110 81F82020 		strb	r2, [r1, #32]
2274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 170


 4406              		.loc 1 2274 3 is_stmt 1 view .LVU1635
2274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4407              		.loc 1 2274 19 is_stmt 0 view .LVU1636
 4408 0114 0020     		movs	r0, #0
 4409 0116 81F82100 		strb	r0, [r1, #33]
2276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4410              		.loc 1 2276 3 is_stmt 1 view .LVU1637
2276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4411              		.loc 1 2276 69 is_stmt 0 view .LVU1638
 4412 011a B3F86A20 		ldrh	r2, [r3, #106]
2276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4413              		.loc 1 2276 31 view .LVU1639
 4414 011e 02F00102 		and	r2, r2, #1
2276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4415              		.loc 1 2276 29 view .LVU1640
 4416 0122 81F82220 		strb	r2, [r1, #34]
2278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4417              		.loc 1 2278 3 is_stmt 1 view .LVU1641
2278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4418              		.loc 1 2278 46 is_stmt 0 view .LVU1642
 4419 0126 9A6E     		ldr	r2, [r3, #104]
2278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4420              		.loc 1 2278 27 view .LVU1643
 4421 0128 C2F3C032 		ubfx	r2, r2, #15, #1
2278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4422              		.loc 1 2278 25 view .LVU1644
 4423 012c 81F82320 		strb	r2, [r1, #35]
2280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4424              		.loc 1 2280 3 is_stmt 1 view .LVU1645
2280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4425              		.loc 1 2280 39 is_stmt 0 view .LVU1646
 4426 0130 9A6E     		ldr	r2, [r3, #104]
2280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4427              		.loc 1 2280 20 view .LVU1647
 4428 0132 C2F38032 		ubfx	r2, r2, #14, #1
2280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4429              		.loc 1 2280 18 view .LVU1648
 4430 0136 81F82420 		strb	r2, [r1, #36]
2282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4431              		.loc 1 2282 3 is_stmt 1 view .LVU1649
2282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4432              		.loc 1 2282 44 is_stmt 0 view .LVU1650
 4433 013a 9A6E     		ldr	r2, [r3, #104]
2282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4434              		.loc 1 2282 25 view .LVU1651
 4435 013c C2F34032 		ubfx	r2, r2, #13, #1
2282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4436              		.loc 1 2282 23 view .LVU1652
 4437 0140 81F82520 		strb	r2, [r1, #37]
2284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4438              		.loc 1 2284 3 is_stmt 1 view .LVU1653
2284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4439              		.loc 1 2284 44 is_stmt 0 view .LVU1654
 4440 0144 9A6E     		ldr	r2, [r3, #104]
2284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4441              		.loc 1 2284 25 view .LVU1655
 4442 0146 C2F30032 		ubfx	r2, r2, #12, #1
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 171


2284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4443              		.loc 1 2284 23 view .LVU1656
 4444 014a 81F82620 		strb	r2, [r1, #38]
2286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4445              		.loc 1 2286 3 is_stmt 1 view .LVU1657
2286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4446              		.loc 1 2286 41 is_stmt 0 view .LVU1658
 4447 014e 9A6E     		ldr	r2, [r3, #104]
2286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4448              		.loc 1 2286 22 view .LVU1659
 4449 0150 C2F38122 		ubfx	r2, r2, #10, #2
2286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4450              		.loc 1 2286 20 view .LVU1660
 4451 0154 81F82720 		strb	r2, [r1, #39]
2288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4452              		.loc 1 2288 3 is_stmt 1 view .LVU1661
2288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4453              		.loc 1 2288 34 is_stmt 0 view .LVU1662
 4454 0158 9A6E     		ldr	r2, [r3, #104]
2288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4455              		.loc 1 2288 15 view .LVU1663
 4456 015a C2F30122 		ubfx	r2, r2, #8, #2
2288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4457              		.loc 1 2288 13 view .LVU1664
 4458 015e 81F82820 		strb	r2, [r1, #40]
2290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4459              		.loc 1 2290 3 is_stmt 1 view .LVU1665
2290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4460              		.loc 1 2290 38 is_stmt 0 view .LVU1666
 4461 0162 9B6E     		ldr	r3, [r3, #104]
 4462              	.LVL327:
2290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4463              		.loc 1 2290 19 view .LVU1667
 4464 0164 C3F34603 		ubfx	r3, r3, #1, #7
2290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4465              		.loc 1 2290 17 view .LVU1668
 4466 0168 81F82930 		strb	r3, [r1, #41]
2292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4467              		.loc 1 2292 3 is_stmt 1 view .LVU1669
2292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4468              		.loc 1 2292 19 is_stmt 0 view .LVU1670
 4469 016c 0123     		movs	r3, #1
 4470 016e 81F82A30 		strb	r3, [r1, #42]
2294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4471              		.loc 1 2294 3 is_stmt 1 view .LVU1671
2295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4472              		.loc 1 2295 1 is_stmt 0 view .LVU1672
 4473 0172 7047     		bx	lr
 4474              	.LVL328:
 4475              	.L262:
2239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4476              		.loc 1 2239 8 is_stmt 1 view .LVU1673
2239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4477              		.loc 1 2239 11 is_stmt 0 view .LVU1674
 4478 0174 012A     		cmp	r2, #1
 4479 0176 11D1     		bne	.L264
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 172


 4480              		.loc 1 2242 5 is_stmt 1 view .LVU1675
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4481              		.loc 1 2242 35 is_stmt 0 view .LVU1676
 4482 0178 026E     		ldr	r2, [r0, #96]
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4483              		.loc 1 2242 54 view .LVU1677
 4484 017a 1204     		lsls	r2, r2, #16
 4485 017c 02F47C12 		and	r2, r2, #4128768
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4486              		.loc 1 2242 93 view .LVU1678
 4487 0180 B0F86600 		ldrh	r0, [r0, #102]
 4488              	.LVL329:
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4489              		.loc 1 2242 62 view .LVU1679
 4490 0184 0243     		orrs	r2, r2, r0
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4491              		.loc 1 2242 22 view .LVU1680
 4492 0186 0A61     		str	r2, [r1, #16]
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4493              		.loc 1 2244 5 is_stmt 1 view .LVU1681
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4494              		.loc 1 2244 34 is_stmt 0 view .LVU1682
 4495 0188 0A69     		ldr	r2, [r1, #16]
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4496              		.loc 1 2244 47 view .LVU1683
 4497 018a 0132     		adds	r2, r2, #1
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4498              		.loc 1 2244 53 view .LVU1684
 4499 018c 9202     		lsls	r2, r2, #10
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4500              		.loc 1 2244 26 view .LVU1685
 4501 018e 9A64     		str	r2, [r3, #72]
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
 4502              		.loc 1 2245 5 is_stmt 1 view .LVU1686
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
 4503              		.loc 1 2245 29 is_stmt 0 view .LVU1687
 4504 0190 1A65     		str	r2, [r3, #80]
2246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4505              		.loc 1 2246 5 is_stmt 1 view .LVU1688
2246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4506              		.loc 1 2246 27 is_stmt 0 view .LVU1689
 4507 0192 4FF40072 		mov	r2, #512
 4508 0196 DA64     		str	r2, [r3, #76]
2247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4509              		.loc 1 2247 5 is_stmt 1 view .LVU1690
2247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4510              		.loc 1 2247 30 is_stmt 0 view .LVU1691
 4511 0198 5A65     		str	r2, [r3, #84]
 4512 019a 9BE7     		b	.L263
 4513              	.LVL330:
 4514              	.L264:
2252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4515              		.loc 1 2252 5 is_stmt 1 view .LVU1692
 4516 019c 0268     		ldr	r2, [r0]
 4517 019e 0549     		ldr	r1, .L266
 4518              	.LVL331:
2252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 173


 4519              		.loc 1 2252 5 is_stmt 0 view .LVU1693
 4520 01a0 9163     		str	r1, [r2, #56]
2253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4521              		.loc 1 2253 5 is_stmt 1 view .LVU1694
2253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4522              		.loc 1 2253 8 is_stmt 0 view .LVU1695
 4523 01a2 426B     		ldr	r2, [r0, #52]
2253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4524              		.loc 1 2253 20 view .LVU1696
 4525 01a4 42F08052 		orr	r2, r2, #268435456
 4526 01a8 4263     		str	r2, [r0, #52]
2254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4527              		.loc 1 2254 5 is_stmt 1 view .LVU1697
2254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4528              		.loc 1 2254 16 is_stmt 0 view .LVU1698
 4529 01aa 0120     		movs	r0, #1
 4530              	.LVL332:
2254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4531              		.loc 1 2254 16 view .LVU1699
 4532 01ac 83F83000 		strb	r0, [r3, #48]
2255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4533              		.loc 1 2255 5 is_stmt 1 view .LVU1700
2255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4534              		.loc 1 2255 12 is_stmt 0 view .LVU1701
 4535 01b0 7047     		bx	lr
 4536              	.L267:
 4537 01b2 00BF     		.align	2
 4538              	.L266:
 4539 01b4 FF0FE01F 		.word	534777855
 4540              		.cfi_endproc
 4541              	.LFE353:
 4543              		.section	.text.SD_InitCard,"ax",%progbits
 4544              		.align	1
 4545              		.syntax unified
 4546              		.thumb
 4547              		.thumb_func
 4549              	SD_InitCard:
 4550              	.LVL333:
 4551              	.LFB361:
2932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
 4552              		.loc 1 2932 1 is_stmt 1 view -0
 4553              		.cfi_startproc
 4554              		@ args = 0, pretend = 0, frame = 48
 4555              		@ frame_needed = 0, uses_anonymous_args = 0
2932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
 4556              		.loc 1 2932 1 is_stmt 0 view .LVU1703
 4557 0000 30B5     		push	{r4, r5, lr}
 4558              	.LCFI52:
 4559              		.cfi_def_cfa_offset 12
 4560              		.cfi_offset 4, -12
 4561              		.cfi_offset 5, -8
 4562              		.cfi_offset 14, -4
 4563 0002 8DB0     		sub	sp, sp, #52
 4564              	.LCFI53:
 4565              		.cfi_def_cfa_offset 64
 4566 0004 0446     		mov	r4, r0
2933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 174


 4567              		.loc 1 2933 3 is_stmt 1 view .LVU1704
2934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint16_t sd_rca = 0U;
 4568              		.loc 1 2934 3 view .LVU1705
2935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 4569              		.loc 1 2935 3 view .LVU1706
2935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 4570              		.loc 1 2935 12 is_stmt 0 view .LVU1707
 4571 0006 0023     		movs	r3, #0
 4572 0008 ADF80230 		strh	r3, [sp, #2]	@ movhi
2936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4573              		.loc 1 2936 3 is_stmt 1 view .LVU1708
2936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4574              		.loc 1 2936 24 is_stmt 0 view .LVU1709
 4575 000c FFF7FEFF 		bl	HAL_GetTick
 4576              	.LVL334:
2936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4577              		.loc 1 2936 24 view .LVU1710
 4578 0010 0546     		mov	r5, r0
 4579              	.LVL335:
2939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4580              		.loc 1 2939 3 is_stmt 1 view .LVU1711
2939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4581              		.loc 1 2939 7 is_stmt 0 view .LVU1712
 4582 0012 2068     		ldr	r0, [r4]
 4583              	.LVL336:
2939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4584              		.loc 1 2939 7 view .LVU1713
 4585 0014 FFF7FEFF 		bl	SDMMC_GetPowerState
 4586              	.LVL337:
2939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4587              		.loc 1 2939 6 discriminator 1 view .LVU1714
 4588 0018 0028     		cmp	r0, #0
 4589 001a 67D0     		beq	.L275
2945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4590              		.loc 1 2945 3 is_stmt 1 view .LVU1715
2945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4591              		.loc 1 2945 18 is_stmt 0 view .LVU1716
 4592 001c A36B     		ldr	r3, [r4, #56]
2945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4593              		.loc 1 2945 6 view .LVU1717
 4594 001e 032B     		cmp	r3, #3
 4595 0020 17D1     		bne	.L279
 4596              	.L270:
2963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4597              		.loc 1 2963 3 is_stmt 1 view .LVU1718
2963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4598              		.loc 1 2963 18 is_stmt 0 view .LVU1719
 4599 0022 A36B     		ldr	r3, [r4, #56]
2963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4600              		.loc 1 2963 6 view .LVU1720
 4601 0024 032B     		cmp	r3, #3
 4602 0026 2FD0     		beq	.L272
 4603              	.L271:
2967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4604              		.loc 1 2967 19 is_stmt 1 view .LVU1721
 4605 0028 BDF80230 		ldrh	r3, [sp, #2]
 4606 002c 63BB     		cbnz	r3, .L272
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 175


2969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 4607              		.loc 1 2969 7 view .LVU1722
2969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 4608              		.loc 1 2969 20 is_stmt 0 view .LVU1723
 4609 002e 0DF10201 		add	r1, sp, #2
 4610 0032 2068     		ldr	r0, [r4]
 4611 0034 FFF7FEFF 		bl	SDMMC_CmdSetRelAdd
 4612              	.LVL338:
2970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4613              		.loc 1 2970 7 is_stmt 1 view .LVU1724
2970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4614              		.loc 1 2970 10 is_stmt 0 view .LVU1725
 4615 0038 0346     		mov	r3, r0
 4616 003a 0028     		cmp	r0, #0
 4617 003c 58D1     		bne	.L268
2974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4618              		.loc 1 2974 7 is_stmt 1 view .LVU1726
2974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4619              		.loc 1 2974 12 is_stmt 0 view .LVU1727
 4620 003e FFF7FEFF 		bl	HAL_GetTick
 4621              	.LVL339:
2974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4622              		.loc 1 2974 26 discriminator 1 view .LVU1728
 4623 0042 431B     		subs	r3, r0, r5
2974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4624              		.loc 1 2974 10 discriminator 1 view .LVU1729
 4625 0044 41F28732 		movw	r2, #4999
 4626 0048 9342     		cmp	r3, r2
 4627 004a EDD9     		bls	.L271
2976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 4628              		.loc 1 2976 16 view .LVU1730
 4629 004c 4FF00043 		mov	r3, #-2147483648
 4630 0050 4EE0     		b	.L268
 4631              	.LVL340:
 4632              	.L279:
2948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 4633              		.loc 1 2948 5 is_stmt 1 view .LVU1731
2948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 4634              		.loc 1 2948 18 is_stmt 0 view .LVU1732
 4635 0052 2068     		ldr	r0, [r4]
 4636 0054 FFF7FEFF 		bl	SDMMC_CmdSendCID
 4637              	.LVL341:
2949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4638              		.loc 1 2949 5 is_stmt 1 view .LVU1733
2949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4639              		.loc 1 2949 8 is_stmt 0 view .LVU1734
 4640 0058 0346     		mov	r3, r0
 4641 005a 0028     		cmp	r0, #0
 4642 005c 48D1     		bne	.L268
2956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4643              		.loc 1 2956 7 is_stmt 1 view .LVU1735
2956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4644              		.loc 1 2956 22 is_stmt 0 view .LVU1736
 4645 005e 0021     		movs	r1, #0
 4646 0060 2068     		ldr	r0, [r4]
 4647              	.LVL342:
2956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 176


 4648              		.loc 1 2956 22 view .LVU1737
 4649 0062 FFF7FEFF 		bl	SDMMC_GetResponse
 4650              	.LVL343:
2956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4651              		.loc 1 2956 20 discriminator 1 view .LVU1738
 4652 0066 E066     		str	r0, [r4, #108]
2957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4653              		.loc 1 2957 7 is_stmt 1 view .LVU1739
2957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4654              		.loc 1 2957 22 is_stmt 0 view .LVU1740
 4655 0068 0421     		movs	r1, #4
 4656 006a 2068     		ldr	r0, [r4]
 4657 006c FFF7FEFF 		bl	SDMMC_GetResponse
 4658              	.LVL344:
2957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4659              		.loc 1 2957 20 discriminator 1 view .LVU1741
 4660 0070 2067     		str	r0, [r4, #112]
2958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4661              		.loc 1 2958 7 is_stmt 1 view .LVU1742
2958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4662              		.loc 1 2958 22 is_stmt 0 view .LVU1743
 4663 0072 0821     		movs	r1, #8
 4664 0074 2068     		ldr	r0, [r4]
 4665 0076 FFF7FEFF 		bl	SDMMC_GetResponse
 4666              	.LVL345:
2958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4667              		.loc 1 2958 20 discriminator 1 view .LVU1744
 4668 007a 6067     		str	r0, [r4, #116]
2959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4669              		.loc 1 2959 7 is_stmt 1 view .LVU1745
2959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4670              		.loc 1 2959 22 is_stmt 0 view .LVU1746
 4671 007c 0C21     		movs	r1, #12
 4672 007e 2068     		ldr	r0, [r4]
 4673 0080 FFF7FEFF 		bl	SDMMC_GetResponse
 4674              	.LVL346:
2959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4675              		.loc 1 2959 20 discriminator 1 view .LVU1747
 4676 0084 A067     		str	r0, [r4, #120]
 4677 0086 CCE7     		b	.L270
 4678              	.LVL347:
 4679              	.L272:
2980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4680              		.loc 1 2980 3 is_stmt 1 view .LVU1748
2980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4681              		.loc 1 2980 18 is_stmt 0 view .LVU1749
 4682 0088 A36B     		ldr	r3, [r4, #56]
2980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4683              		.loc 1 2980 6 view .LVU1750
 4684 008a 032B     		cmp	r3, #3
 4685 008c 1CD0     		beq	.L274
2983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4686              		.loc 1 2983 5 is_stmt 1 view .LVU1751
2983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4687              		.loc 1 2983 28 is_stmt 0 view .LVU1752
 4688 008e BDF80210 		ldrh	r1, [sp, #2]
 4689 0092 6164     		str	r1, [r4, #68]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 177


2986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 4690              		.loc 1 2986 5 is_stmt 1 view .LVU1753
2986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 4691              		.loc 1 2986 18 is_stmt 0 view .LVU1754
 4692 0094 0904     		lsls	r1, r1, #16
 4693 0096 2068     		ldr	r0, [r4]
 4694 0098 FFF7FEFF 		bl	SDMMC_CmdSendCSD
 4695              	.LVL348:
2987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4696              		.loc 1 2987 5 is_stmt 1 view .LVU1755
2987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4697              		.loc 1 2987 8 is_stmt 0 view .LVU1756
 4698 009c 0346     		mov	r3, r0
 4699 009e 38BB     		cbnz	r0, .L268
2994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4700              		.loc 1 2994 7 is_stmt 1 view .LVU1757
2994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4701              		.loc 1 2994 22 is_stmt 0 view .LVU1758
 4702 00a0 0021     		movs	r1, #0
 4703 00a2 2068     		ldr	r0, [r4]
 4704              	.LVL349:
2994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4705              		.loc 1 2994 22 view .LVU1759
 4706 00a4 FFF7FEFF 		bl	SDMMC_GetResponse
 4707              	.LVL350:
2994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4708              		.loc 1 2994 20 discriminator 1 view .LVU1760
 4709 00a8 E065     		str	r0, [r4, #92]
2995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4710              		.loc 1 2995 7 is_stmt 1 view .LVU1761
2995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4711              		.loc 1 2995 22 is_stmt 0 view .LVU1762
 4712 00aa 0421     		movs	r1, #4
 4713 00ac 2068     		ldr	r0, [r4]
 4714 00ae FFF7FEFF 		bl	SDMMC_GetResponse
 4715              	.LVL351:
2995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4716              		.loc 1 2995 20 discriminator 1 view .LVU1763
 4717 00b2 2066     		str	r0, [r4, #96]
2996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4718              		.loc 1 2996 7 is_stmt 1 view .LVU1764
2996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4719              		.loc 1 2996 22 is_stmt 0 view .LVU1765
 4720 00b4 0821     		movs	r1, #8
 4721 00b6 2068     		ldr	r0, [r4]
 4722 00b8 FFF7FEFF 		bl	SDMMC_GetResponse
 4723              	.LVL352:
2996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4724              		.loc 1 2996 20 discriminator 1 view .LVU1766
 4725 00bc 6066     		str	r0, [r4, #100]
2997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4726              		.loc 1 2997 7 is_stmt 1 view .LVU1767
2997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4727              		.loc 1 2997 22 is_stmt 0 view .LVU1768
 4728 00be 0C21     		movs	r1, #12
 4729 00c0 2068     		ldr	r0, [r4]
 4730 00c2 FFF7FEFF 		bl	SDMMC_GetResponse
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 178


 4731              	.LVL353:
2997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4732              		.loc 1 2997 20 discriminator 1 view .LVU1769
 4733 00c6 A066     		str	r0, [r4, #104]
 4734              	.LVL354:
 4735              	.L274:
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4736              		.loc 1 3002 3 is_stmt 1 view .LVU1770
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4737              		.loc 1 3002 24 is_stmt 0 view .LVU1771
 4738 00c8 0421     		movs	r1, #4
 4739 00ca 2068     		ldr	r0, [r4]
 4740 00cc FFF7FEFF 		bl	SDMMC_GetResponse
 4741              	.LVL355:
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4742              		.loc 1 3002 70 discriminator 1 view .LVU1772
 4743 00d0 000D     		lsrs	r0, r0, #20
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4744              		.loc 1 3002 21 discriminator 1 view .LVU1773
 4745 00d2 2064     		str	r0, [r4, #64]
3005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4746              		.loc 1 3005 3 is_stmt 1 view .LVU1774
3005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4747              		.loc 1 3005 7 is_stmt 0 view .LVU1775
 4748 00d4 01A9     		add	r1, sp, #4
 4749 00d6 2046     		mov	r0, r4
 4750 00d8 FFF7FEFF 		bl	HAL_SD_GetCardCSD
 4751              	.LVL356:
3005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4752              		.loc 1 3005 6 discriminator 1 view .LVU1776
 4753 00dc 58B9     		cbnz	r0, .L277
3011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4754              		.loc 1 3011 3 is_stmt 1 view .LVU1777
3011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4755              		.loc 1 3011 82 is_stmt 0 view .LVU1778
 4756 00de 616C     		ldr	r1, [r4, #68]
3011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4757              		.loc 1 3011 16 view .LVU1779
 4758 00e0 0904     		lsls	r1, r1, #16
 4759 00e2 2068     		ldr	r0, [r4]
 4760 00e4 FFF7FEFF 		bl	SDMMC_CmdSelDesel
 4761              	.LVL357:
 4762 00e8 0346     		mov	r3, r0
 4763              	.LVL358:
3012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4764              		.loc 1 3012 3 is_stmt 1 view .LVU1780
 4765 00ea 01E0     		b	.L268
 4766              	.LVL359:
 4767              	.L275:
2942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4768              		.loc 1 2942 12 is_stmt 0 view .LVU1781
 4769 00ec 4FF08063 		mov	r3, #67108864
 4770              	.L268:
3019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4771              		.loc 1 3019 1 view .LVU1782
 4772 00f0 1846     		mov	r0, r3
 4773 00f2 0DB0     		add	sp, sp, #52
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 179


 4774              	.LCFI54:
 4775              		.cfi_remember_state
 4776              		.cfi_def_cfa_offset 12
 4777              		@ sp needed
 4778 00f4 30BD     		pop	{r4, r5, pc}
 4779              	.LVL360:
 4780              	.L277:
 4781              	.LCFI55:
 4782              		.cfi_restore_state
3007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4783              		.loc 1 3007 12 view .LVU1783
 4784 00f6 4FF08053 		mov	r3, #268435456
 4785 00fa F9E7     		b	.L268
 4786              		.cfi_endproc
 4787              	.LFE361:
 4789              		.section	.text.HAL_SD_InitCard,"ax",%progbits
 4790              		.align	1
 4791              		.global	HAL_SD_InitCard
 4792              		.syntax unified
 4793              		.thumb
 4794              		.thumb_func
 4796              	HAL_SD_InitCard:
 4797              	.LVL361:
 4798              	.LFB334:
 470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 4799              		.loc 1 470 1 is_stmt 1 view -0
 4800              		.cfi_startproc
 4801              		@ args = 0, pretend = 0, frame = 24
 4802              		@ frame_needed = 0, uses_anonymous_args = 0
 470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 4803              		.loc 1 470 1 is_stmt 0 view .LVU1785
 4804 0000 70B5     		push	{r4, r5, r6, lr}
 4805              	.LCFI56:
 4806              		.cfi_def_cfa_offset 16
 4807              		.cfi_offset 4, -16
 4808              		.cfi_offset 5, -12
 4809              		.cfi_offset 6, -8
 4810              		.cfi_offset 14, -4
 4811 0002 88B0     		sub	sp, sp, #32
 4812              	.LCFI57:
 4813              		.cfi_def_cfa_offset 48
 4814 0004 0446     		mov	r4, r0
 471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SD_InitTypeDef Init;
 4815              		.loc 1 471 3 is_stmt 1 view .LVU1786
 472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk = 0U;
 4816              		.loc 1 472 3 view .LVU1787
 473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4817              		.loc 1 473 3 view .LVU1788
 4818              	.LVL362:
 476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 4819              		.loc 1 476 3 view .LVU1789
 476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 4820              		.loc 1 476 28 is_stmt 0 view .LVU1790
 4821 0006 0023     		movs	r3, #0
 4822 0008 0393     		str	r3, [sp, #12]
 477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 4823              		.loc 1 477 3 is_stmt 1 view .LVU1791
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 180


 477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 4824              		.loc 1 477 28 is_stmt 0 view .LVU1792
 4825 000a 0493     		str	r3, [sp, #16]
 478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 4826              		.loc 1 478 3 is_stmt 1 view .LVU1793
 478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 4827              		.loc 1 478 28 is_stmt 0 view .LVU1794
 4828 000c 0593     		str	r3, [sp, #20]
 479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4829              		.loc 1 479 3 is_stmt 1 view .LVU1795
 479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4830              		.loc 1 479 28 is_stmt 0 view .LVU1796
 4831 000e 0693     		str	r3, [sp, #24]
 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 4832              		.loc 1 482 3 is_stmt 1 view .LVU1797
 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 4833              		.loc 1 482 19 is_stmt 0 view .LVU1798
 4834 0010 4FF48030 		mov	r0, #65536
 4835              	.LVL363:
 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 4836              		.loc 1 482 19 view .LVU1799
 4837 0014 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 4838              	.LVL364:
 483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4839              		.loc 1 483 3 is_stmt 1 view .LVU1800
 483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4840              		.loc 1 483 6 is_stmt 0 view .LVU1801
 4841 0018 38B9     		cbnz	r0, .L281
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 4842              		.loc 1 485 5 is_stmt 1 view .LVU1802
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 4843              		.loc 1 485 16 is_stmt 0 view .LVU1803
 4844 001a 0120     		movs	r0, #1
 4845              	.LVL365:
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 4846              		.loc 1 485 16 view .LVU1804
 4847 001c 84F83000 		strb	r0, [r4, #48]
 486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4848              		.loc 1 486 5 is_stmt 1 view .LVU1805
 486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4849              		.loc 1 486 20 is_stmt 0 view .LVU1806
 4850 0020 4FF00063 		mov	r3, #134217728
 4851 0024 6363     		str	r3, [r4, #52]
 487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4852              		.loc 1 487 5 is_stmt 1 view .LVU1807
 4853              	.LVL366:
 4854              	.L282:
 545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4855              		.loc 1 545 1 is_stmt 0 view .LVU1808
 4856 0026 08B0     		add	sp, sp, #32
 4857              	.LCFI58:
 4858              		.cfi_remember_state
 4859              		.cfi_def_cfa_offset 16
 4860              		@ sp needed
 4861 0028 70BD     		pop	{r4, r5, r6, pc}
 4862              	.LVL367:
 4863              	.L281:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 181


 4864              	.LCFI59:
 4865              		.cfi_restore_state
 545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4866              		.loc 1 545 1 view .LVU1809
 4867 002a 0646     		mov	r6, r0
 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4868              		.loc 1 489 3 is_stmt 1 view .LVU1810
 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4869              		.loc 1 489 29 is_stmt 0 view .LVU1811
 4870 002c 050A     		lsrs	r5, r0, #8
 4871 002e 224B     		ldr	r3, .L288
 4872 0030 A3FB0535 		umull	r3, r5, r3, r5
 4873 0034 2D09     		lsrs	r5, r5, #4
 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4874              		.loc 1 489 17 view .LVU1812
 4875 0036 0795     		str	r5, [sp, #28]
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4876              		.loc 1 505 3 is_stmt 1 view .LVU1813
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4877              		.loc 1 505 9 is_stmt 0 view .LVU1814
 4878 0038 08AB     		add	r3, sp, #32
 4879 003a 13E90300 		ldmdb	r3, {r0, r1}
 4880              	.LVL368:
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4881              		.loc 1 505 9 view .LVU1815
 4882 003e 8DE80300 		stm	sp, {r0, r1}
 4883 0042 03AB     		add	r3, sp, #12
 4884 0044 0ECB     		ldm	r3, {r1, r2, r3}
 4885 0046 2068     		ldr	r0, [r4]
 4886 0048 FFF7FEFF 		bl	SDMMC_Init
 4887              	.LVL369:
 508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4888              		.loc 1 508 3 is_stmt 1 view .LVU1816
 508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4889              		.loc 1 508 9 is_stmt 0 view .LVU1817
 4890 004c 2068     		ldr	r0, [r4]
 4891 004e FFF7FEFF 		bl	SDMMC_PowerState_ON
 4892              	.LVL370:
 512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_Delay(1U + (74U * 1000U / (sdmmc_clk)));
 4893              		.loc 1 512 3 is_stmt 1 view .LVU1818
 512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_Delay(1U + (74U * 1000U / (sdmmc_clk)));
 4894              		.loc 1 512 31 is_stmt 0 view .LVU1819
 4895 0052 6D00     		lsls	r5, r5, #1
 512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_Delay(1U + (74U * 1000U / (sdmmc_clk)));
 4896              		.loc 1 512 13 view .LVU1820
 4897 0054 B6FBF5F6 		udiv	r6, r6, r5
 4898              	.LVL371:
 513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4899              		.loc 1 513 3 is_stmt 1 view .LVU1821
 513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4900              		.loc 1 513 31 is_stmt 0 view .LVU1822
 4901 0058 1848     		ldr	r0, .L288+4
 4902 005a B0FBF6F0 		udiv	r0, r0, r6
 513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4903              		.loc 1 513 3 view .LVU1823
 4904 005e 0130     		adds	r0, r0, #1
 4905 0060 FFF7FEFF 		bl	HAL_Delay
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 182


 4906              	.LVL372:
 516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4907              		.loc 1 516 3 is_stmt 1 view .LVU1824
 516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4908              		.loc 1 516 16 is_stmt 0 view .LVU1825
 4909 0064 2046     		mov	r0, r4
 4910 0066 FFF7FEFF 		bl	SD_PowerON
 4911              	.LVL373:
 517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4912              		.loc 1 517 3 is_stmt 1 view .LVU1826
 517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4913              		.loc 1 517 6 is_stmt 0 view .LVU1827
 4914 006a 0246     		mov	r2, r0
 4915 006c 30B1     		cbz	r0, .L283
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4916              		.loc 1 519 5 is_stmt 1 view .LVU1828
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4917              		.loc 1 519 16 is_stmt 0 view .LVU1829
 4918 006e 0120     		movs	r0, #1
 4919              	.LVL374:
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4920              		.loc 1 519 16 view .LVU1830
 4921 0070 84F83000 		strb	r0, [r4, #48]
 520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4922              		.loc 1 520 5 is_stmt 1 view .LVU1831
 520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4923              		.loc 1 520 8 is_stmt 0 view .LVU1832
 4924 0074 636B     		ldr	r3, [r4, #52]
 520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4925              		.loc 1 520 20 view .LVU1833
 4926 0076 1343     		orrs	r3, r3, r2
 4927 0078 6363     		str	r3, [r4, #52]
 521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4928              		.loc 1 521 5 is_stmt 1 view .LVU1834
 521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4929              		.loc 1 521 12 is_stmt 0 view .LVU1835
 4930 007a D4E7     		b	.L282
 4931              	.LVL375:
 4932              	.L283:
 525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4933              		.loc 1 525 3 is_stmt 1 view .LVU1836
 525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4934              		.loc 1 525 16 is_stmt 0 view .LVU1837
 4935 007c 2046     		mov	r0, r4
 4936              	.LVL376:
 525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4937              		.loc 1 525 16 view .LVU1838
 4938 007e FFF7FEFF 		bl	SD_InitCard
 4939              	.LVL377:
 526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4940              		.loc 1 526 3 is_stmt 1 view .LVU1839
 526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4941              		.loc 1 526 6 is_stmt 0 view .LVU1840
 4942 0082 0246     		mov	r2, r0
 4943 0084 30B1     		cbz	r0, .L284
 528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4944              		.loc 1 528 5 is_stmt 1 view .LVU1841
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 183


 528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4945              		.loc 1 528 16 is_stmt 0 view .LVU1842
 4946 0086 0120     		movs	r0, #1
 4947              	.LVL378:
 528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4948              		.loc 1 528 16 view .LVU1843
 4949 0088 84F83000 		strb	r0, [r4, #48]
 529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4950              		.loc 1 529 5 is_stmt 1 view .LVU1844
 529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4951              		.loc 1 529 8 is_stmt 0 view .LVU1845
 4952 008c 636B     		ldr	r3, [r4, #52]
 529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4953              		.loc 1 529 20 view .LVU1846
 4954 008e 1343     		orrs	r3, r3, r2
 4955 0090 6363     		str	r3, [r4, #52]
 530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4956              		.loc 1 530 5 is_stmt 1 view .LVU1847
 530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4957              		.loc 1 530 12 is_stmt 0 view .LVU1848
 4958 0092 C8E7     		b	.L282
 4959              	.LVL379:
 4960              	.L284:
 534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4961              		.loc 1 534 3 is_stmt 1 view .LVU1849
 534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4962              		.loc 1 534 16 is_stmt 0 view .LVU1850
 4963 0094 4FF40071 		mov	r1, #512
 4964 0098 2068     		ldr	r0, [r4]
 4965              	.LVL380:
 534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4966              		.loc 1 534 16 view .LVU1851
 4967 009a FFF7FEFF 		bl	SDMMC_CmdBlockLength
 4968              	.LVL381:
 535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4969              		.loc 1 535 3 is_stmt 1 view .LVU1852
 535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4970              		.loc 1 535 6 is_stmt 0 view .LVU1853
 4971 009e 08B9     		cbnz	r0, .L287
 544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4972              		.loc 1 544 10 view .LVU1854
 4973 00a0 0020     		movs	r0, #0
 4974              	.LVL382:
 544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4975              		.loc 1 544 10 view .LVU1855
 4976 00a2 C0E7     		b	.L282
 4977              	.LVL383:
 4978              	.L287:
 538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4979              		.loc 1 538 5 is_stmt 1 view .LVU1856
 4980 00a4 2368     		ldr	r3, [r4]
 4981 00a6 0649     		ldr	r1, .L288+8
 4982 00a8 9963     		str	r1, [r3, #56]
 539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4983              		.loc 1 539 5 view .LVU1857
 539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4984              		.loc 1 539 8 is_stmt 0 view .LVU1858
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 184


 4985 00aa 636B     		ldr	r3, [r4, #52]
 539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4986              		.loc 1 539 20 view .LVU1859
 4987 00ac 0343     		orrs	r3, r3, r0
 4988 00ae 6363     		str	r3, [r4, #52]
 540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4989              		.loc 1 540 5 is_stmt 1 view .LVU1860
 540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4990              		.loc 1 540 16 is_stmt 0 view .LVU1861
 4991 00b0 0120     		movs	r0, #1
 4992              	.LVL384:
 540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4993              		.loc 1 540 16 view .LVU1862
 4994 00b2 84F83000 		strb	r0, [r4, #48]
 541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4995              		.loc 1 541 5 is_stmt 1 view .LVU1863
 541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4996              		.loc 1 541 12 is_stmt 0 view .LVU1864
 4997 00b6 B6E7     		b	.L282
 4998              	.L289:
 4999              		.align	2
 5000              	.L288:
 5001 00b8 598B4F01 		.word	21990233
 5002 00bc 10210100 		.word	74000
 5003 00c0 FF0FE01F 		.word	534777855
 5004              		.cfi_endproc
 5005              	.LFE334:
 5007              		.section	.text.HAL_SD_GetCardStatus,"ax",%progbits
 5008              		.align	1
 5009              		.global	HAL_SD_GetCardStatus
 5010              		.syntax unified
 5011              		.thumb
 5012              		.thumb_func
 5014              	HAL_SD_GetCardStatus:
 5015              	.LVL385:
 5016              	.LFB354:
2305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sd_status[16];
 5017              		.loc 1 2305 1 is_stmt 1 view -0
 5018              		.cfi_startproc
 5019              		@ args = 0, pretend = 0, frame = 64
 5020              		@ frame_needed = 0, uses_anonymous_args = 0
2305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sd_status[16];
 5021              		.loc 1 2305 1 is_stmt 0 view .LVU1866
 5022 0000 30B5     		push	{r4, r5, lr}
 5023              	.LCFI60:
 5024              		.cfi_def_cfa_offset 12
 5025              		.cfi_offset 4, -12
 5026              		.cfi_offset 5, -8
 5027              		.cfi_offset 14, -4
 5028 0002 91B0     		sub	sp, sp, #68
 5029              	.LCFI61:
 5030              		.cfi_def_cfa_offset 80
2306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 5031              		.loc 1 2306 3 is_stmt 1 view .LVU1867
2307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5032              		.loc 1 2307 3 view .LVU1868
2308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 185


 5033              		.loc 1 2308 3 view .LVU1869
 5034              	.LVL386:
2310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5035              		.loc 1 2310 3 view .LVU1870
2310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5036              		.loc 1 2310 10 is_stmt 0 view .LVU1871
 5037 0004 90F83030 		ldrb	r3, [r0, #48]	@ zero_extendqisi2
 5038 0008 DBB2     		uxtb	r3, r3
2310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5039              		.loc 1 2310 6 view .LVU1872
 5040 000a 032B     		cmp	r3, #3
 5041 000c 59D0     		beq	.L294
 5042 000e 0446     		mov	r4, r0
 5043 0010 0D46     		mov	r5, r1
2315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5044              		.loc 1 2315 3 is_stmt 1 view .LVU1873
2315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5045              		.loc 1 2315 16 is_stmt 0 view .LVU1874
 5046 0012 6946     		mov	r1, sp
 5047              	.LVL387:
2315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5048              		.loc 1 2315 16 view .LVU1875
 5049 0014 FFF7FEFF 		bl	SD_SendSDStatus
 5050              	.LVL388:
2316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5051              		.loc 1 2316 3 is_stmt 1 view .LVU1876
2316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5052              		.loc 1 2316 6 is_stmt 0 view .LVU1877
 5053 0018 B8B1     		cbz	r0, .L292
2319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5054              		.loc 1 2319 5 is_stmt 1 view .LVU1878
 5055 001a 2368     		ldr	r3, [r4]
 5056 001c 2B49     		ldr	r1, .L296
 5057 001e 9963     		str	r1, [r3, #56]
2320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5058              		.loc 1 2320 5 view .LVU1879
2320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5059              		.loc 1 2320 8 is_stmt 0 view .LVU1880
 5060 0020 636B     		ldr	r3, [r4, #52]
2320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5061              		.loc 1 2320 20 view .LVU1881
 5062 0022 0343     		orrs	r3, r3, r0
 5063 0024 6363     		str	r3, [r4, #52]
2321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5064              		.loc 1 2321 5 is_stmt 1 view .LVU1882
2321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5065              		.loc 1 2321 16 is_stmt 0 view .LVU1883
 5066 0026 0125     		movs	r5, #1
 5067              	.LVL389:
2321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5068              		.loc 1 2321 16 view .LVU1884
 5069 0028 84F83050 		strb	r5, [r4, #48]
2322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5070              		.loc 1 2322 5 is_stmt 1 view .LVU1885
 5071              	.LVL390:
 5072              	.L293:
2353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 186


 5073              		.loc 1 2353 3 view .LVU1886
2353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5074              		.loc 1 2353 16 is_stmt 0 view .LVU1887
 5075 002c 4FF40071 		mov	r1, #512
 5076 0030 2068     		ldr	r0, [r4]
 5077              	.LVL391:
2353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5078              		.loc 1 2353 16 view .LVU1888
 5079 0032 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5080              	.LVL392:
2354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5081              		.loc 1 2354 3 is_stmt 1 view .LVU1889
2354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5082              		.loc 1 2354 6 is_stmt 0 view .LVU1890
 5083 0036 0028     		cmp	r0, #0
 5084 0038 44D0     		beq	.L291
2357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = errorstate;
 5085              		.loc 1 2357 5 is_stmt 1 view .LVU1891
 5086 003a 2268     		ldr	r2, [r4]
 5087 003c 2349     		ldr	r1, .L296
 5088 003e 9163     		str	r1, [r2, #56]
2358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5089              		.loc 1 2358 5 view .LVU1892
2358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5090              		.loc 1 2358 20 is_stmt 0 view .LVU1893
 5091 0040 6063     		str	r0, [r4, #52]
2359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5092              		.loc 1 2359 5 is_stmt 1 view .LVU1894
2359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5093              		.loc 1 2359 16 is_stmt 0 view .LVU1895
 5094 0042 0125     		movs	r5, #1
 5095              	.LVL393:
2359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5096              		.loc 1 2359 16 view .LVU1896
 5097 0044 84F83050 		strb	r5, [r4, #48]
2360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5098              		.loc 1 2360 5 is_stmt 1 view .LVU1897
 5099              	.LVL394:
2360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5100              		.loc 1 2360 5 is_stmt 0 view .LVU1898
 5101 0048 3CE0     		b	.L291
 5102              	.LVL395:
 5103              	.L292:
2326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5104              		.loc 1 2326 5 is_stmt 1 view .LVU1899
2326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5105              		.loc 1 2326 49 is_stmt 0 view .LVU1900
 5106 004a 009A     		ldr	r2, [sp]
2326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5107              		.loc 1 2326 29 view .LVU1901
 5108 004c C2F38113 		ubfx	r3, r2, #6, #2
2326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5109              		.loc 1 2326 27 view .LVU1902
 5110 0050 2B70     		strb	r3, [r5]
2328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5111              		.loc 1 2328 5 is_stmt 1 view .LVU1903
2328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 187


 5112              		.loc 1 2328 28 is_stmt 0 view .LVU1904
 5113 0052 C2F34013 		ubfx	r3, r2, #5, #1
2328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5114              		.loc 1 2328 26 view .LVU1905
 5115 0056 6B70     		strb	r3, [r5, #1]
2330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5116              		.loc 1 2330 5 is_stmt 1 view .LVU1906
2330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5117              		.loc 1 2330 66 is_stmt 0 view .LVU1907
 5118 0058 130A     		lsrs	r3, r2, #8
2330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5119              		.loc 1 2330 25 view .LVU1908
 5120 005a 23F0FF03 		bic	r3, r3, #255
 5121 005e 43EA1263 		orr	r3, r3, r2, lsr #24
 5122 0062 9BB2     		uxth	r3, r3
2330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5123              		.loc 1 2330 23 view .LVU1909
 5124 0064 6B80     		strh	r3, [r5, #2]	@ movhi
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5125              		.loc 1 2332 5 is_stmt 1 view .LVU1910
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5126              		.loc 1 2332 46 is_stmt 0 view .LVU1911
 5127 0066 019A     		ldr	r2, [sp, #4]
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5128              		.loc 1 2332 98 view .LVU1912
 5129 0068 1302     		lsls	r3, r2, #8
 5130 006a 03F47F03 		and	r3, r3, #16711680
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5131              		.loc 1 2332 70 view .LVU1913
 5132 006e 43EA0263 		orr	r3, r3, r2, lsl #24
2333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5133              		.loc 1 2333 63 view .LVU1914
 5134 0072 110A     		lsrs	r1, r2, #8
 5135 0074 01F47F41 		and	r1, r1, #65280
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5136              		.loc 1 2332 105 view .LVU1915
 5137 0078 0B43     		orrs	r3, r3, r1
2333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5138              		.loc 1 2333 70 view .LVU1916
 5139 007a 43EA1263 		orr	r3, r3, r2, lsr #24
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5140              		.loc 1 2332 32 view .LVU1917
 5141 007e 6B60     		str	r3, [r5, #4]
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5142              		.loc 1 2335 5 is_stmt 1 view .LVU1918
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5143              		.loc 1 2335 46 is_stmt 0 view .LVU1919
 5144 0080 029B     		ldr	r3, [sp, #8]
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5145              		.loc 1 2335 27 view .LVU1920
 5146 0082 DAB2     		uxtb	r2, r3
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5147              		.loc 1 2335 25 view .LVU1921
 5148 0084 2A72     		strb	r2, [r5, #8]
2337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5149              		.loc 1 2337 5 is_stmt 1 view .LVU1922
2337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 188


 5150              		.loc 1 2337 32 is_stmt 0 view .LVU1923
 5151 0086 C3F30722 		ubfx	r2, r3, #8, #8
2337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5152              		.loc 1 2337 30 view .LVU1924
 5153 008a 6A72     		strb	r2, [r5, #9]
2339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5154              		.loc 1 2339 5 is_stmt 1 view .LVU1925
2339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5155              		.loc 1 2339 35 is_stmt 0 view .LVU1926
 5156 008c C3F30352 		ubfx	r2, r3, #20, #4
2339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5157              		.loc 1 2339 33 view .LVU1927
 5158 0090 AA72     		strb	r2, [r5, #10]
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5159              		.loc 1 2341 5 is_stmt 1 view .LVU1928
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5160              		.loc 1 2341 67 is_stmt 0 view .LVU1929
 5161 0092 1B0C     		lsrs	r3, r3, #16
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5162              		.loc 1 2341 87 view .LVU1930
 5163 0094 039A     		ldr	r2, [sp, #12]
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5164              		.loc 1 2341 91 view .LVU1931
 5165 0096 D1B2     		uxtb	r1, r2
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5166              		.loc 1 2341 26 view .LVU1932
 5167 0098 23F0FF03 		bic	r3, r3, #255
 5168 009c 0B43     		orrs	r3, r3, r1
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5169              		.loc 1 2341 24 view .LVU1933
 5170 009e AB81     		strh	r3, [r5, #12]	@ movhi
2343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5171              		.loc 1 2343 5 is_stmt 1 view .LVU1934
2343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5172              		.loc 1 2343 29 is_stmt 0 view .LVU1935
 5173 00a0 C2F38523 		ubfx	r3, r2, #10, #6
2343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5174              		.loc 1 2343 27 view .LVU1936
 5175 00a4 AB73     		strb	r3, [r5, #14]
2345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5176              		.loc 1 2345 5 is_stmt 1 view .LVU1937
2345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5177              		.loc 1 2345 28 is_stmt 0 view .LVU1938
 5178 00a6 C2F30123 		ubfx	r3, r2, #8, #2
2345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5179              		.loc 1 2345 26 view .LVU1939
 5180 00aa EB73     		strb	r3, [r5, #15]
2347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
 5181              		.loc 1 2347 5 is_stmt 1 view .LVU1940
2347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
 5182              		.loc 1 2347 30 is_stmt 0 view .LVU1941
 5183 00ac C2F30313 		ubfx	r3, r2, #4, #4
2347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
 5184              		.loc 1 2347 28 view .LVU1942
 5185 00b0 2B74     		strb	r3, [r5, #16]
2348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
 5186              		.loc 1 2348 5 is_stmt 1 view .LVU1943
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 189


2348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
 5187              		.loc 1 2348 38 is_stmt 0 view .LVU1944
 5188 00b2 02F00F02 		and	r2, r2, #15
2348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
 5189              		.loc 1 2348 36 view .LVU1945
 5190 00b6 6A74     		strb	r2, [r5, #17]
2349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5191              		.loc 1 2349 5 is_stmt 1 view .LVU1946
2349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5192              		.loc 1 2349 32 is_stmt 0 view .LVU1947
 5193 00b8 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
2349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5194              		.loc 1 2349 30 view .LVU1948
 5195 00bc AB74     		strb	r3, [r5, #18]
2308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5196              		.loc 1 2308 21 view .LVU1949
 5197 00be 0025     		movs	r5, #0
 5198              	.LVL396:
2308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5199              		.loc 1 2308 21 view .LVU1950
 5200 00c0 B4E7     		b	.L293
 5201              	.LVL397:
 5202              	.L294:
2312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5203              		.loc 1 2312 12 view .LVU1951
 5204 00c2 0125     		movs	r5, #1
 5205              	.LVL398:
 5206              	.L291:
2365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5207              		.loc 1 2365 1 view .LVU1952
 5208 00c4 2846     		mov	r0, r5
 5209 00c6 11B0     		add	sp, sp, #68
 5210              	.LCFI62:
 5211              		.cfi_def_cfa_offset 12
 5212              		@ sp needed
 5213 00c8 30BD     		pop	{r4, r5, pc}
 5214              	.L297:
 5215 00ca 00BF     		.align	2
 5216              	.L296:
 5217 00cc FF0FE01F 		.word	534777855
 5218              		.cfi_endproc
 5219              	.LFE354:
 5221              		.section	.text.HAL_SD_GetCardInfo,"ax",%progbits
 5222              		.align	1
 5223              		.global	HAL_SD_GetCardInfo
 5224              		.syntax unified
 5225              		.thumb
 5226              		.thumb_func
 5228              	HAL_SD_GetCardInfo:
 5229              	.LVL399:
 5230              	.LFB355:
2375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
 5231              		.loc 1 2375 1 is_stmt 1 view -0
 5232              		.cfi_startproc
 5233              		@ args = 0, pretend = 0, frame = 0
 5234              		@ frame_needed = 0, uses_anonymous_args = 0
 5235              		@ link register save eliminated.
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 190


2376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5236              		.loc 1 2376 3 view .LVU1954
2376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5237              		.loc 1 2376 51 is_stmt 0 view .LVU1955
 5238 0000 836B     		ldr	r3, [r0, #56]
2376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5239              		.loc 1 2376 27 view .LVU1956
 5240 0002 0B60     		str	r3, [r1]
2377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5241              		.loc 1 2377 3 is_stmt 1 view .LVU1957
2377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5242              		.loc 1 2377 51 is_stmt 0 view .LVU1958
 5243 0004 C36B     		ldr	r3, [r0, #60]
2377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5244              		.loc 1 2377 27 view .LVU1959
 5245 0006 4B60     		str	r3, [r1, #4]
2378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5246              		.loc 1 2378 3 is_stmt 1 view .LVU1960
2378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5247              		.loc 1 2378 51 is_stmt 0 view .LVU1961
 5248 0008 036C     		ldr	r3, [r0, #64]
2378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5249              		.loc 1 2378 27 view .LVU1962
 5250 000a 8B60     		str	r3, [r1, #8]
2379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5251              		.loc 1 2379 3 is_stmt 1 view .LVU1963
2379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5252              		.loc 1 2379 51 is_stmt 0 view .LVU1964
 5253 000c 436C     		ldr	r3, [r0, #68]
2379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5254              		.loc 1 2379 27 view .LVU1965
 5255 000e CB60     		str	r3, [r1, #12]
2380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5256              		.loc 1 2380 3 is_stmt 1 view .LVU1966
2380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5257              		.loc 1 2380 51 is_stmt 0 view .LVU1967
 5258 0010 836C     		ldr	r3, [r0, #72]
2380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5259              		.loc 1 2380 27 view .LVU1968
 5260 0012 0B61     		str	r3, [r1, #16]
2381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5261              		.loc 1 2381 3 is_stmt 1 view .LVU1969
2381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5262              		.loc 1 2381 51 is_stmt 0 view .LVU1970
 5263 0014 C36C     		ldr	r3, [r0, #76]
2381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5264              		.loc 1 2381 27 view .LVU1971
 5265 0016 4B61     		str	r3, [r1, #20]
2382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5266              		.loc 1 2382 3 is_stmt 1 view .LVU1972
2382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5267              		.loc 1 2382 51 is_stmt 0 view .LVU1973
 5268 0018 036D     		ldr	r3, [r0, #80]
2382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5269              		.loc 1 2382 27 view .LVU1974
 5270 001a 8B61     		str	r3, [r1, #24]
2383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 191


 5271              		.loc 1 2383 3 is_stmt 1 view .LVU1975
2383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5272              		.loc 1 2383 51 is_stmt 0 view .LVU1976
 5273 001c 436D     		ldr	r3, [r0, #84]
2383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5274              		.loc 1 2383 27 view .LVU1977
 5275 001e CB61     		str	r3, [r1, #28]
2385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5276              		.loc 1 2385 3 is_stmt 1 view .LVU1978
2386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5277              		.loc 1 2386 1 is_stmt 0 view .LVU1979
 5278 0020 0020     		movs	r0, #0
 5279              	.LVL400:
2386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5280              		.loc 1 2386 1 view .LVU1980
 5281 0022 7047     		bx	lr
 5282              		.cfi_endproc
 5283              	.LFE355:
 5285              		.section	.text.HAL_SD_ConfigWideBusOperation,"ax",%progbits
 5286              		.align	1
 5287              		.global	HAL_SD_ConfigWideBusOperation
 5288              		.syntax unified
 5289              		.thumb
 5290              		.thumb_func
 5292              	HAL_SD_ConfigWideBusOperation:
 5293              	.LVL401:
 5294              	.LFB356:
2400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
 5295              		.loc 1 2400 1 is_stmt 1 view -0
 5296              		.cfi_startproc
 5297              		@ args = 0, pretend = 0, frame = 24
 5298              		@ frame_needed = 0, uses_anonymous_args = 0
2400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
 5299              		.loc 1 2400 1 is_stmt 0 view .LVU1982
 5300 0000 30B5     		push	{r4, r5, lr}
 5301              	.LCFI63:
 5302              		.cfi_def_cfa_offset 12
 5303              		.cfi_offset 4, -12
 5304              		.cfi_offset 5, -8
 5305              		.cfi_offset 14, -4
 5306 0002 89B0     		sub	sp, sp, #36
 5307              	.LCFI64:
 5308              		.cfi_def_cfa_offset 48
 5309 0004 0446     		mov	r4, r0
 5310 0006 0D46     		mov	r5, r1
2401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 5311              		.loc 1 2401 3 is_stmt 1 view .LVU1983
2402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk = 0U;
 5312              		.loc 1 2402 3 view .LVU1984
2403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5313              		.loc 1 2403 3 view .LVU1985
 5314              	.LVL402:
2404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5315              		.loc 1 2404 3 view .LVU1986
2407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5316              		.loc 1 2407 3 view .LVU1987
2410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 192


 5317              		.loc 1 2410 3 view .LVU1988
2410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5318              		.loc 1 2410 14 is_stmt 0 view .LVU1989
 5319 0008 0323     		movs	r3, #3
 5320 000a 80F83030 		strb	r3, [r0, #48]
2412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5321              		.loc 1 2412 3 is_stmt 1 view .LVU1990
2412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5322              		.loc 1 2412 18 is_stmt 0 view .LVU1991
 5323 000e 836B     		ldr	r3, [r0, #56]
2412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5324              		.loc 1 2412 6 view .LVU1992
 5325 0010 032B     		cmp	r3, #3
 5326 0012 1CD0     		beq	.L300
2414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5327              		.loc 1 2414 5 is_stmt 1 view .LVU1993
2414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5328              		.loc 1 2414 8 is_stmt 0 view .LVU1994
 5329 0014 B1F5004F 		cmp	r1, #32768
 5330 0018 08D0     		beq	.L320
2418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5331              		.loc 1 2418 10 is_stmt 1 view .LVU1995
2418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5332              		.loc 1 2418 13 is_stmt 0 view .LVU1996
 5333 001a B1F5804F 		cmp	r1, #16384
 5334 001e 0AD0     		beq	.L321
2424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5335              		.loc 1 2424 10 is_stmt 1 view .LVU1997
2424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5336              		.loc 1 2424 13 is_stmt 0 view .LVU1998
 5337 0020 79B1     		cbz	r1, .L322
2433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5338              		.loc 1 2433 7 is_stmt 1 view .LVU1999
2433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5339              		.loc 1 2433 10 is_stmt 0 view .LVU2000
 5340 0022 436B     		ldr	r3, [r0, #52]
2433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5341              		.loc 1 2433 22 view .LVU2001
 5342 0024 43F00063 		orr	r3, r3, #134217728
 5343 0028 4363     		str	r3, [r0, #52]
 5344 002a 14E0     		b	.L302
 5345              	.L320:
2416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5346              		.loc 1 2416 7 is_stmt 1 view .LVU2002
2416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5347              		.loc 1 2416 10 is_stmt 0 view .LVU2003
 5348 002c 436B     		ldr	r3, [r0, #52]
2416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5349              		.loc 1 2416 22 view .LVU2004
 5350 002e 43F08053 		orr	r3, r3, #268435456
 5351 0032 4363     		str	r3, [r0, #52]
 5352 0034 0FE0     		b	.L302
 5353              	.L321:
2420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5354              		.loc 1 2420 7 is_stmt 1 view .LVU2005
2420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5355              		.loc 1 2420 20 is_stmt 0 view .LVU2006
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 193


 5356 0036 FFF7FEFF 		bl	SD_WideBus_Enable
 5357              	.LVL403:
2422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5358              		.loc 1 2422 7 is_stmt 1 view .LVU2007
2422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5359              		.loc 1 2422 10 is_stmt 0 view .LVU2008
 5360 003a 636B     		ldr	r3, [r4, #52]
2422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5361              		.loc 1 2422 22 view .LVU2009
 5362 003c 0343     		orrs	r3, r3, r0
 5363 003e 6363     		str	r3, [r4, #52]
 5364 0040 09E0     		b	.L302
 5365              	.LVL404:
 5366              	.L322:
2426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5367              		.loc 1 2426 7 is_stmt 1 view .LVU2010
2426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5368              		.loc 1 2426 20 is_stmt 0 view .LVU2011
 5369 0042 FFF7FEFF 		bl	SD_WideBus_Disable
 5370              	.LVL405:
2428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5371              		.loc 1 2428 7 is_stmt 1 view .LVU2012
2428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5372              		.loc 1 2428 10 is_stmt 0 view .LVU2013
 5373 0046 636B     		ldr	r3, [r4, #52]
2428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5374              		.loc 1 2428 22 view .LVU2014
 5375 0048 0343     		orrs	r3, r3, r0
 5376 004a 6363     		str	r3, [r4, #52]
 5377 004c 03E0     		b	.L302
 5378              	.LVL406:
 5379              	.L300:
2439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5380              		.loc 1 2439 5 is_stmt 1 view .LVU2015
2439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5381              		.loc 1 2439 8 is_stmt 0 view .LVU2016
 5382 004e 436B     		ldr	r3, [r0, #52]
2439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5383              		.loc 1 2439 20 view .LVU2017
 5384 0050 43F08053 		orr	r3, r3, #268435456
 5385 0054 4363     		str	r3, [r0, #52]
 5386              	.LVL407:
 5387              	.L302:
2442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5388              		.loc 1 2442 3 is_stmt 1 view .LVU2018
2442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5389              		.loc 1 2442 10 is_stmt 0 view .LVU2019
 5390 0056 636B     		ldr	r3, [r4, #52]
2442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5391              		.loc 1 2442 6 view .LVU2020
 5392 0058 B3B1     		cbz	r3, .L305
2445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5393              		.loc 1 2445 5 is_stmt 1 view .LVU2021
 5394 005a 2368     		ldr	r3, [r4]
 5395 005c 394A     		ldr	r2, .L325
 5396 005e 9A63     		str	r2, [r3, #56]
2446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 194


 5397              		.loc 1 2446 5 view .LVU2022
 5398              	.LVL408:
2446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5399              		.loc 1 2446 12 is_stmt 0 view .LVU2023
 5400 0060 0125     		movs	r5, #1
 5401              	.LVL409:
 5402              	.L306:
2536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5403              		.loc 1 2536 3 is_stmt 1 view .LVU2024
2536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5404              		.loc 1 2536 16 is_stmt 0 view .LVU2025
 5405 0062 4FF40071 		mov	r1, #512
 5406 0066 2068     		ldr	r0, [r4]
 5407 0068 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5408              	.LVL410:
2537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5409              		.loc 1 2537 3 is_stmt 1 view .LVU2026
2537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5410              		.loc 1 2537 6 is_stmt 0 view .LVU2027
 5411 006c 30B1     		cbz	r0, .L318
2540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5412              		.loc 1 2540 5 is_stmt 1 view .LVU2028
 5413 006e 2368     		ldr	r3, [r4]
 5414 0070 3449     		ldr	r1, .L325
 5415 0072 9963     		str	r1, [r3, #56]
2541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5416              		.loc 1 2541 5 view .LVU2029
2541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5417              		.loc 1 2541 8 is_stmt 0 view .LVU2030
 5418 0074 636B     		ldr	r3, [r4, #52]
2541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5419              		.loc 1 2541 20 view .LVU2031
 5420 0076 0343     		orrs	r3, r3, r0
 5421 0078 6363     		str	r3, [r4, #52]
2542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5422              		.loc 1 2542 5 is_stmt 1 view .LVU2032
 5423              	.LVL411:
2542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5424              		.loc 1 2542 12 is_stmt 0 view .LVU2033
 5425 007a 0125     		movs	r5, #1
 5426              	.LVL412:
 5427              	.L318:
2546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5428              		.loc 1 2546 3 is_stmt 1 view .LVU2034
2546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5429              		.loc 1 2546 14 is_stmt 0 view .LVU2035
 5430 007c 0123     		movs	r3, #1
 5431 007e 84F83030 		strb	r3, [r4, #48]
2548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5432              		.loc 1 2548 3 is_stmt 1 view .LVU2036
2549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5433              		.loc 1 2549 1 is_stmt 0 view .LVU2037
 5434 0082 2846     		mov	r0, r5
 5435              	.LVL413:
2549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5436              		.loc 1 2549 1 view .LVU2038
 5437 0084 09B0     		add	sp, sp, #36
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 195


 5438              	.LCFI65:
 5439              		.cfi_remember_state
 5440              		.cfi_def_cfa_offset 12
 5441              		@ sp needed
 5442 0086 30BD     		pop	{r4, r5, pc}
 5443              	.LVL414:
 5444              	.L305:
 5445              	.LCFI66:
 5446              		.cfi_restore_state
2450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (sdmmc_clk != 0U)
 5447              		.loc 1 2450 5 is_stmt 1 view .LVU2039
2450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (sdmmc_clk != 0U)
 5448              		.loc 1 2450 21 is_stmt 0 view .LVU2040
 5449 0088 4FF48030 		mov	r0, #65536
 5450 008c FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 5451              	.LVL415:
2451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5452              		.loc 1 2451 5 is_stmt 1 view .LVU2041
2451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5453              		.loc 1 2451 8 is_stmt 0 view .LVU2042
 5454 0090 0246     		mov	r2, r0
 5455 0092 0028     		cmp	r0, #0
 5456 0094 50D0     		beq	.L307
2454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5457              		.loc 1 2454 7 is_stmt 1 view .LVU2043
2454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5458              		.loc 1 2454 43 is_stmt 0 view .LVU2044
 5459 0096 6368     		ldr	r3, [r4, #4]
2454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5460              		.loc 1 2454 32 view .LVU2045
 5461 0098 0393     		str	r3, [sp, #12]
2455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5462              		.loc 1 2455 7 is_stmt 1 view .LVU2046
2455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5463              		.loc 1 2455 43 is_stmt 0 view .LVU2047
 5464 009a A368     		ldr	r3, [r4, #8]
2455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5465              		.loc 1 2455 32 view .LVU2048
 5466 009c 0493     		str	r3, [sp, #16]
2456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5467              		.loc 1 2456 7 is_stmt 1 view .LVU2049
2456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5468              		.loc 1 2456 32 is_stmt 0 view .LVU2050
 5469 009e 0595     		str	r5, [sp, #20]
2457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5470              		.loc 1 2457 7 is_stmt 1 view .LVU2051
2457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5471              		.loc 1 2457 43 is_stmt 0 view .LVU2052
 5472 00a0 2369     		ldr	r3, [r4, #16]
2457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5473              		.loc 1 2457 32 view .LVU2053
 5474 00a2 0693     		str	r3, [sp, #24]
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5475              		.loc 1 2460 7 is_stmt 1 view .LVU2054
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5476              		.loc 1 2460 20 is_stmt 0 view .LVU2055
 5477 00a4 6169     		ldr	r1, [r4, #20]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 196


2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5478              		.loc 1 2460 44 view .LVU2056
 5479 00a6 284B     		ldr	r3, .L325+4
 5480 00a8 A3FB0203 		umull	r0, r3, r3, r2
 5481              	.LVL416:
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5482              		.loc 1 2460 44 view .LVU2057
 5483 00ac 180E     		lsrs	r0, r3, #24
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5484              		.loc 1 2460 10 view .LVU2058
 5485 00ae B1EB136F 		cmp	r1, r3, lsr #24
 5486 00b2 0CD3     		bcc	.L308
2462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5487              		.loc 1 2462 9 is_stmt 1 view .LVU2059
2462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5488              		.loc 1 2462 23 is_stmt 0 view .LVU2060
 5489 00b4 0791     		str	r1, [sp, #28]
 5490              	.LVL417:
 5491              	.L309:
2526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5492              		.loc 1 2526 7 is_stmt 1 view .LVU2061
2526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5493              		.loc 1 2526 13 is_stmt 0 view .LVU2062
 5494 00b6 08AB     		add	r3, sp, #32
 5495 00b8 13E90300 		ldmdb	r3, {r0, r1}
 5496 00bc 8DE80300 		stm	sp, {r0, r1}
 5497 00c0 03AB     		add	r3, sp, #12
 5498 00c2 0ECB     		ldm	r3, {r1, r2, r3}
 5499 00c4 2068     		ldr	r0, [r4]
 5500 00c6 FFF7FEFF 		bl	SDMMC_Init
 5501              	.LVL418:
2404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5502              		.loc 1 2404 21 view .LVU2063
 5503 00ca 0025     		movs	r5, #0
 5504              	.LVL419:
2404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5505              		.loc 1 2404 21 view .LVU2064
 5506 00cc C9E7     		b	.L306
 5507              	.LVL420:
 5508              	.L308:
2464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5509              		.loc 1 2464 12 is_stmt 1 view .LVU2065
2464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5510              		.loc 1 2464 27 is_stmt 0 view .LVU2066
 5511 00ce A36D     		ldr	r3, [r4, #88]
2464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5512              		.loc 1 2464 15 view .LVU2067
 5513 00d0 B3F5007F 		cmp	r3, #512
 5514 00d4 08D0     		beq	.L323
2469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5515              		.loc 1 2469 12 is_stmt 1 view .LVU2068
2469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5516              		.loc 1 2469 15 is_stmt 0 view .LVU2069
 5517 00d6 B3F5807F 		cmp	r3, #256
 5518 00da 07D0     		beq	.L324
2498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5519              		.loc 1 2498 9 is_stmt 1 view .LVU2070
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 197


2498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5520              		.loc 1 2498 12 is_stmt 0 view .LVU2071
 5521 00dc 11BB     		cbnz	r1, .L315
2500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5522              		.loc 1 2500 11 is_stmt 1 view .LVU2072
2500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5523              		.loc 1 2500 14 is_stmt 0 view .LVU2073
 5524 00de 1B4B     		ldr	r3, .L325+8
 5525 00e0 9A42     		cmp	r2, r3
 5526 00e2 1DD9     		bls	.L316
2502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5527              		.loc 1 2502 13 is_stmt 1 view .LVU2074
2502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5528              		.loc 1 2502 27 is_stmt 0 view .LVU2075
 5529 00e4 0790     		str	r0, [sp, #28]
 5530 00e6 E6E7     		b	.L309
 5531              	.L323:
2467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5532              		.loc 1 2467 9 is_stmt 1 view .LVU2076
2467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5533              		.loc 1 2467 23 is_stmt 0 view .LVU2077
 5534 00e8 0791     		str	r1, [sp, #28]
 5535 00ea E4E7     		b	.L309
 5536              	.L324:
2472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5537              		.loc 1 2472 9 is_stmt 1 view .LVU2078
2472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5538              		.loc 1 2472 12 is_stmt 0 view .LVU2079
 5539 00ec 51B9     		cbnz	r1, .L312
2474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5540              		.loc 1 2474 11 is_stmt 1 view .LVU2080
2474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5541              		.loc 1 2474 14 is_stmt 0 view .LVU2081
 5542 00ee 184B     		ldr	r3, .L325+12
 5543 00f0 9A42     		cmp	r2, r3
 5544 00f2 05D9     		bls	.L313
2476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5545              		.loc 1 2476 13 is_stmt 1 view .LVU2082
2476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5546              		.loc 1 2476 39 is_stmt 0 view .LVU2083
 5547 00f4 144B     		ldr	r3, .L325+4
 5548 00f6 A3FB0223 		umull	r2, r3, r3, r2
 5549              	.LVL421:
2476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5550              		.loc 1 2476 39 view .LVU2084
 5551 00fa 5B0E     		lsrs	r3, r3, #25
2476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5552              		.loc 1 2476 27 view .LVU2085
 5553 00fc 0793     		str	r3, [sp, #28]
 5554 00fe DAE7     		b	.L309
 5555              	.LVL422:
 5556              	.L313:
2480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5557              		.loc 1 2480 13 is_stmt 1 view .LVU2086
2480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5558              		.loc 1 2480 27 is_stmt 0 view .LVU2087
 5559 0100 0791     		str	r1, [sp, #28]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 198


 5560 0102 D8E7     		b	.L309
 5561              	.L312:
2485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5562              		.loc 1 2485 11 is_stmt 1 view .LVU2088
2485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5563              		.loc 1 2485 32 is_stmt 0 view .LVU2089
 5564 0104 4B00     		lsls	r3, r1, #1
2485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5565              		.loc 1 2485 26 view .LVU2090
 5566 0106 B2FBF3F3 		udiv	r3, r2, r3
2485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5567              		.loc 1 2485 14 view .LVU2091
 5568 010a 1148     		ldr	r0, .L325+12
 5569 010c 8342     		cmp	r3, r0
 5570 010e 05D9     		bls	.L314
2487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5571              		.loc 1 2487 13 is_stmt 1 view .LVU2092
2487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5572              		.loc 1 2487 39 is_stmt 0 view .LVU2093
 5573 0110 0D4B     		ldr	r3, .L325+4
 5574 0112 A3FB0223 		umull	r2, r3, r3, r2
 5575              	.LVL423:
2487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5576              		.loc 1 2487 39 view .LVU2094
 5577 0116 5B0E     		lsrs	r3, r3, #25
2487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5578              		.loc 1 2487 27 view .LVU2095
 5579 0118 0793     		str	r3, [sp, #28]
 5580 011a CCE7     		b	.L309
 5581              	.LVL424:
 5582              	.L314:
2491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5583              		.loc 1 2491 13 is_stmt 1 view .LVU2096
2491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5584              		.loc 1 2491 27 is_stmt 0 view .LVU2097
 5585 011c 0791     		str	r1, [sp, #28]
 5586 011e CAE7     		b	.L309
 5587              	.L316:
2506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5588              		.loc 1 2506 13 is_stmt 1 view .LVU2098
2506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5589              		.loc 1 2506 27 is_stmt 0 view .LVU2099
 5590 0120 0791     		str	r1, [sp, #28]
 5591 0122 C8E7     		b	.L309
 5592              	.L315:
2511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5593              		.loc 1 2511 11 is_stmt 1 view .LVU2100
2511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5594              		.loc 1 2511 32 is_stmt 0 view .LVU2101
 5595 0124 4B00     		lsls	r3, r1, #1
2511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5596              		.loc 1 2511 26 view .LVU2102
 5597 0126 B2FBF3F2 		udiv	r2, r2, r3
 5598              	.LVL425:
2511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5599              		.loc 1 2511 14 view .LVU2103
 5600 012a 084B     		ldr	r3, .L325+8
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 199


 5601 012c 9A42     		cmp	r2, r3
 5602 012e 01D9     		bls	.L317
2513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5603              		.loc 1 2513 13 is_stmt 1 view .LVU2104
2513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5604              		.loc 1 2513 27 is_stmt 0 view .LVU2105
 5605 0130 0790     		str	r0, [sp, #28]
 5606 0132 C0E7     		b	.L309
 5607              	.L317:
2517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5608              		.loc 1 2517 13 is_stmt 1 view .LVU2106
2517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5609              		.loc 1 2517 27 is_stmt 0 view .LVU2107
 5610 0134 0791     		str	r1, [sp, #28]
 5611 0136 BEE7     		b	.L309
 5612              	.LVL426:
 5613              	.L307:
2530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 5614              		.loc 1 2530 7 is_stmt 1 view .LVU2108
2530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 5615              		.loc 1 2530 10 is_stmt 0 view .LVU2109
 5616 0138 636B     		ldr	r3, [r4, #52]
2530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 5617              		.loc 1 2530 22 view .LVU2110
 5618 013a 43F00063 		orr	r3, r3, #134217728
 5619 013e 6363     		str	r3, [r4, #52]
2531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5620              		.loc 1 2531 7 is_stmt 1 view .LVU2111
 5621              	.LVL427:
2531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5622              		.loc 1 2531 14 is_stmt 0 view .LVU2112
 5623 0140 0125     		movs	r5, #1
 5624              	.LVL428:
2531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5625              		.loc 1 2531 14 view .LVU2113
 5626 0142 8EE7     		b	.L306
 5627              	.L326:
 5628              		.align	2
 5629              	.L325:
 5630 0144 FF0FE01F 		.word	534777855
 5631 0148 893BE655 		.word	1441151881
 5632 014c 40787D01 		.word	25000000
 5633 0150 80F0FA02 		.word	50000000
 5634              		.cfi_endproc
 5635              	.LFE356:
 5637              		.section	.text.HAL_SD_GetCardState,"ax",%progbits
 5638              		.align	1
 5639              		.global	HAL_SD_GetCardState
 5640              		.syntax unified
 5641              		.thumb
 5642              		.thumb_func
 5644              	HAL_SD_GetCardState:
 5645              	.LVL429:
 5646              	.LFB358:
2815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t cardstate;
 5647              		.loc 1 2815 1 is_stmt 1 view -0
 5648              		.cfi_startproc
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 200


 5649              		@ args = 0, pretend = 0, frame = 8
 5650              		@ frame_needed = 0, uses_anonymous_args = 0
2815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t cardstate;
 5651              		.loc 1 2815 1 is_stmt 0 view .LVU2115
 5652 0000 10B5     		push	{r4, lr}
 5653              	.LCFI67:
 5654              		.cfi_def_cfa_offset 8
 5655              		.cfi_offset 4, -8
 5656              		.cfi_offset 14, -4
 5657 0002 82B0     		sub	sp, sp, #8
 5658              	.LCFI68:
 5659              		.cfi_def_cfa_offset 16
 5660 0004 0446     		mov	r4, r0
2816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 5661              		.loc 1 2816 3 is_stmt 1 view .LVU2116
2817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t resp1 = 0;
 5662              		.loc 1 2817 3 view .LVU2117
2818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5663              		.loc 1 2818 3 view .LVU2118
2818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5664              		.loc 1 2818 12 is_stmt 0 view .LVU2119
 5665 0006 0023     		movs	r3, #0
 5666 0008 0193     		str	r3, [sp, #4]
2820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5667              		.loc 1 2820 3 is_stmt 1 view .LVU2120
2820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5668              		.loc 1 2820 16 is_stmt 0 view .LVU2121
 5669 000a 01A9     		add	r1, sp, #4
 5670 000c FFF7FEFF 		bl	SD_SendStatus
 5671              	.LVL430:
2821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5672              		.loc 1 2821 3 is_stmt 1 view .LVU2122
2821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5673              		.loc 1 2821 6 is_stmt 0 view .LVU2123
 5674 0010 10B1     		cbz	r0, .L328
2823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5675              		.loc 1 2823 5 is_stmt 1 view .LVU2124
2823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5676              		.loc 1 2823 8 is_stmt 0 view .LVU2125
 5677 0012 636B     		ldr	r3, [r4, #52]
2823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5678              		.loc 1 2823 20 view .LVU2126
 5679 0014 0343     		orrs	r3, r3, r0
 5680 0016 6363     		str	r3, [r4, #52]
 5681              	.L328:
2826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5682              		.loc 1 2826 3 is_stmt 1 view .LVU2127
 5683              	.LVL431:
2828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5684              		.loc 1 2828 3 view .LVU2128
2829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5685              		.loc 1 2829 1 is_stmt 0 view .LVU2129
 5686 0018 0198     		ldr	r0, [sp, #4]
 5687              	.LVL432:
2829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5688              		.loc 1 2829 1 view .LVU2130
 5689 001a C0F34320 		ubfx	r0, r0, #9, #4
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 201


 5690              	.LVL433:
2829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5691              		.loc 1 2829 1 view .LVU2131
 5692 001e 02B0     		add	sp, sp, #8
 5693              	.LCFI69:
 5694              		.cfi_def_cfa_offset 8
 5695              		@ sp needed
 5696 0020 10BD     		pop	{r4, pc}
2829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5697              		.loc 1 2829 1 view .LVU2132
 5698              		.cfi_endproc
 5699              	.LFE358:
 5701              		.section	.text.HAL_SD_Init,"ax",%progbits
 5702              		.align	1
 5703              		.global	HAL_SD_Init
 5704              		.syntax unified
 5705              		.thumb
 5706              		.thumb_func
 5708              	HAL_SD_Init:
 5709              	.LVL434:
 5710              	.LFB333:
 339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStatusTypeDef CardStatus;
 5711              		.loc 1 339 1 is_stmt 1 view -0
 5712              		.cfi_startproc
 5713              		@ args = 0, pretend = 0, frame = 24
 5714              		@ frame_needed = 0, uses_anonymous_args = 0
 339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStatusTypeDef CardStatus;
 5715              		.loc 1 339 1 is_stmt 0 view .LVU2134
 5716 0000 70B5     		push	{r4, r5, r6, lr}
 5717              	.LCFI70:
 5718              		.cfi_def_cfa_offset 16
 5719              		.cfi_offset 4, -16
 5720              		.cfi_offset 5, -12
 5721              		.cfi_offset 6, -8
 5722              		.cfi_offset 14, -4
 5723 0002 86B0     		sub	sp, sp, #24
 5724              	.LCFI71:
 5725              		.cfi_def_cfa_offset 40
 340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t speedgrade;
 5726              		.loc 1 340 3 is_stmt 1 view .LVU2135
 341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t unitsize;
 5727              		.loc 1 341 3 view .LVU2136
 342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 5728              		.loc 1 342 3 view .LVU2137
 343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5729              		.loc 1 343 3 view .LVU2138
 346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5730              		.loc 1 346 3 view .LVU2139
 346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5731              		.loc 1 346 6 is_stmt 0 view .LVU2140
 5732 0004 0028     		cmp	r0, #0
 5733 0006 54D0     		beq	.L338
 5734 0008 0446     		mov	r4, r0
 352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_EDGE(hsd->Init.ClockEdge));
 5735              		.loc 1 352 3 is_stmt 1 view .LVU2141
 353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 5736              		.loc 1 353 3 view .LVU2142
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 202


 354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(hsd->Init.BusWide));
 5737              		.loc 1 354 3 view .LVU2143
 355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 5738              		.loc 1 355 3 view .LVU2144
 356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLKDIV(hsd->Init.ClockDiv));
 5739              		.loc 1 356 3 view .LVU2145
 357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5740              		.loc 1 357 3 view .LVU2146
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5741              		.loc 1 359 3 view .LVU2147
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5742              		.loc 1 359 10 is_stmt 0 view .LVU2148
 5743 000a 90F83030 		ldrb	r3, [r0, #48]	@ zero_extendqisi2
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5744              		.loc 1 359 6 view .LVU2149
 5745 000e 53B1     		cbz	r3, .L343
 5746              	.LVL435:
 5747              	.L332:
 401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5748              		.loc 1 401 3 is_stmt 1 view .LVU2150
 401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5749              		.loc 1 401 14 is_stmt 0 view .LVU2151
 5750 0010 0423     		movs	r3, #4
 5751 0012 84F83030 		strb	r3, [r4, #48]
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5752              		.loc 1 404 3 is_stmt 1 view .LVU2152
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5753              		.loc 1 404 7 is_stmt 0 view .LVU2153
 5754 0016 2046     		mov	r0, r4
 5755 0018 FFF7FEFF 		bl	HAL_SD_InitCard
 5756              	.LVL436:
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5757              		.loc 1 404 6 discriminator 1 view .LVU2154
 5758 001c 38B1     		cbz	r0, .L344
 406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5759              		.loc 1 406 12 view .LVU2155
 5760 001e 0125     		movs	r5, #1
 5761              	.LVL437:
 5762              	.L331:
 460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5763              		.loc 1 460 1 view .LVU2156
 5764 0020 2846     		mov	r0, r5
 5765 0022 06B0     		add	sp, sp, #24
 5766              	.LCFI72:
 5767              		.cfi_remember_state
 5768              		.cfi_def_cfa_offset 16
 5769              		@ sp needed
 5770 0024 70BD     		pop	{r4, r5, r6, pc}
 5771              	.LVL438:
 5772              	.L343:
 5773              	.LCFI73:
 5774              		.cfi_restore_state
 362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5775              		.loc 1 362 5 is_stmt 1 view .LVU2157
 362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5776              		.loc 1 362 15 is_stmt 0 view .LVU2158
 5777 0026 0376     		strb	r3, [r0, #24]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 203


 397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5778              		.loc 1 397 5 is_stmt 1 view .LVU2159
 5779 0028 FFF7FEFF 		bl	HAL_SD_MspInit
 5780              	.LVL439:
 397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5781              		.loc 1 397 5 is_stmt 0 view .LVU2160
 5782 002c F0E7     		b	.L332
 5783              	.L344:
 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5784              		.loc 1 409 3 is_stmt 1 view .LVU2161
 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5785              		.loc 1 409 7 is_stmt 0 view .LVU2162
 5786 002e 01A9     		add	r1, sp, #4
 5787 0030 2046     		mov	r0, r4
 5788 0032 FFF7FEFF 		bl	HAL_SD_GetCardStatus
 5789              	.LVL440:
 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5790              		.loc 1 409 6 discriminator 1 view .LVU2163
 5791 0036 0028     		cmp	r0, #0
 5792 0038 3DD1     		bne	.L340
 414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   unitsize = CardStatus.UhsAllocationUnitSize;
 5793              		.loc 1 414 3 is_stmt 1 view .LVU2164
 414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   unitsize = CardStatus.UhsAllocationUnitSize;
 5794              		.loc 1 414 26 is_stmt 0 view .LVU2165
 5795 003a 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 5796 003e DBB2     		uxtb	r3, r3
 5797              	.LVL441:
 415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((hsd->SdCard.CardType == CARD_SDHC_SDXC) && ((speedgrade != 0U) || (unitsize != 0U)))
 5798              		.loc 1 415 3 is_stmt 1 view .LVU2166
 415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((hsd->SdCard.CardType == CARD_SDHC_SDXC) && ((speedgrade != 0U) || (unitsize != 0U)))
 5799              		.loc 1 415 24 is_stmt 0 view .LVU2167
 5800 0040 9DF81520 		ldrb	r2, [sp, #21]	@ zero_extendqisi2
 5801 0044 D2B2     		uxtb	r2, r2
 5802              	.LVL442:
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5803              		.loc 1 416 3 is_stmt 1 view .LVU2168
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5804              		.loc 1 416 19 is_stmt 0 view .LVU2169
 5805 0046 A16B     		ldr	r1, [r4, #56]
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5806              		.loc 1 416 6 view .LVU2170
 5807 0048 0129     		cmp	r1, #1
 5808 004a 0BD0     		beq	.L345
 5809              	.LVL443:
 5810              	.L333:
 422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5811              		.loc 1 422 5 is_stmt 1 view .LVU2171
 422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5812              		.loc 1 422 8 is_stmt 0 view .LVU2172
 5813 004c 0129     		cmp	r1, #1
 5814 004e 0FD0     		beq	.L346
 428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5815              		.loc 1 428 7 is_stmt 1 view .LVU2173
 428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5816              		.loc 1 428 30 is_stmt 0 view .LVU2174
 5817 0050 0023     		movs	r3, #0
 5818 0052 A365     		str	r3, [r4, #88]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 204


 5819              	.L334:
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5820              		.loc 1 433 3 is_stmt 1 view .LVU2175
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5821              		.loc 1 433 7 is_stmt 0 view .LVU2176
 5822 0054 E168     		ldr	r1, [r4, #12]
 5823 0056 2046     		mov	r0, r4
 5824 0058 FFF7FEFF 		bl	HAL_SD_ConfigWideBusOperation
 5825              	.LVL444:
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5826              		.loc 1 433 6 discriminator 1 view .LVU2177
 5827 005c 0546     		mov	r5, r0
 5828 005e 58B1     		cbz	r0, .L347
 435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5829              		.loc 1 435 12 view .LVU2178
 5830 0060 0125     		movs	r5, #1
 5831 0062 DDE7     		b	.L331
 5832              	.LVL445:
 5833              	.L345:
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5834              		.loc 1 416 48 discriminator 1 view .LVU2179
 5835 0064 1343     		orrs	r3, r3, r2
 5836              	.LVL446:
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5837              		.loc 1 416 48 discriminator 1 view .LVU2180
 5838 0066 F1D0     		beq	.L333
 418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5839              		.loc 1 418 5 is_stmt 1 view .LVU2181
 418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5840              		.loc 1 418 27 is_stmt 0 view .LVU2182
 5841 0068 4FF40073 		mov	r3, #512
 5842 006c A365     		str	r3, [r4, #88]
 5843 006e F1E7     		b	.L334
 5844              	.L346:
 424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5845              		.loc 1 424 7 is_stmt 1 view .LVU2183
 424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5846              		.loc 1 424 30 is_stmt 0 view .LVU2184
 5847 0070 4FF48073 		mov	r3, #256
 5848 0074 A365     		str	r3, [r4, #88]
 5849 0076 EDE7     		b	.L334
 5850              	.LVL447:
 5851              	.L347:
 439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 5852              		.loc 1 439 3 is_stmt 1 view .LVU2185
 439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 5853              		.loc 1 439 15 is_stmt 0 view .LVU2186
 5854 0078 FFF7FEFF 		bl	HAL_GetTick
 5855              	.LVL448:
 5856 007c 0646     		mov	r6, r0
 5857              	.LVL449:
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5858              		.loc 1 440 3 is_stmt 1 view .LVU2187
 5859              	.L336:
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5860              		.loc 1 440 36 view .LVU2188
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 205


 5861              		.loc 1 440 11 is_stmt 0 view .LVU2189
 5862 007e 2046     		mov	r0, r4
 5863 0080 FFF7FEFF 		bl	HAL_SD_GetCardState
 5864              	.LVL450:
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5865              		.loc 1 440 36 discriminator 1 view .LVU2190
 5866 0084 0428     		cmp	r0, #4
 5867 0086 0DD0     		beq	.L348
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5868              		.loc 1 442 5 is_stmt 1 view .LVU2191
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5869              		.loc 1 442 10 is_stmt 0 view .LVU2192
 5870 0088 FFF7FEFF 		bl	HAL_GetTick
 5871              	.LVL451:
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5872              		.loc 1 442 24 discriminator 1 view .LVU2193
 5873 008c 801B     		subs	r0, r0, r6
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5874              		.loc 1 442 8 discriminator 1 view .LVU2194
 5875 008e B0F1FF3F 		cmp	r0, #-1
 5876 0092 F4D1     		bne	.L336
 444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 5877              		.loc 1 444 7 is_stmt 1 view .LVU2195
 444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 5878              		.loc 1 444 22 is_stmt 0 view .LVU2196
 5879 0094 4FF00043 		mov	r3, #-2147483648
 5880 0098 6363     		str	r3, [r4, #52]
 445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 5881              		.loc 1 445 7 is_stmt 1 view .LVU2197
 445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 5882              		.loc 1 445 18 is_stmt 0 view .LVU2198
 5883 009a 0123     		movs	r3, #1
 5884 009c 84F83030 		strb	r3, [r4, #48]
 446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5885              		.loc 1 446 7 is_stmt 1 view .LVU2199
 446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5886              		.loc 1 446 14 is_stmt 0 view .LVU2200
 5887 00a0 0325     		movs	r5, #3
 5888 00a2 BDE7     		b	.L331
 5889              	.L348:
 451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5890              		.loc 1 451 3 is_stmt 1 view .LVU2201
 451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5891              		.loc 1 451 18 is_stmt 0 view .LVU2202
 5892 00a4 0023     		movs	r3, #0
 5893 00a6 6363     		str	r3, [r4, #52]
 454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5894              		.loc 1 454 3 is_stmt 1 view .LVU2203
 454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5895              		.loc 1 454 16 is_stmt 0 view .LVU2204
 5896 00a8 E362     		str	r3, [r4, #44]
 457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5897              		.loc 1 457 3 is_stmt 1 view .LVU2205
 457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5898              		.loc 1 457 14 is_stmt 0 view .LVU2206
 5899 00aa 0123     		movs	r3, #1
 5900 00ac 84F83030 		strb	r3, [r4, #48]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 206


 459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5901              		.loc 1 459 3 is_stmt 1 view .LVU2207
 459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5902              		.loc 1 459 10 is_stmt 0 view .LVU2208
 5903 00b0 B6E7     		b	.L331
 5904              	.LVL452:
 5905              	.L338:
 348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5906              		.loc 1 348 12 view .LVU2209
 5907 00b2 0125     		movs	r5, #1
 5908 00b4 B4E7     		b	.L331
 5909              	.LVL453:
 5910              	.L340:
 411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5911              		.loc 1 411 12 view .LVU2210
 5912 00b6 0125     		movs	r5, #1
 5913 00b8 B2E7     		b	.L331
 5914              		.cfi_endproc
 5915              	.LFE333:
 5917              		.section	.text.HAL_SD_ConfigSpeedBusOperation,"ax",%progbits
 5918              		.align	1
 5919              		.global	HAL_SD_ConfigSpeedBusOperation
 5920              		.syntax unified
 5921              		.thumb
 5922              		.thumb_func
 5924              	HAL_SD_ConfigSpeedBusOperation:
 5925              	.LVL454:
 5926              	.LFB357:
2564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 5927              		.loc 1 2564 1 is_stmt 1 view -0
 5928              		.cfi_startproc
 5929              		@ args = 0, pretend = 0, frame = 0
 5930              		@ frame_needed = 0, uses_anonymous_args = 0
2564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 5931              		.loc 1 2564 1 is_stmt 0 view .LVU2212
 5932 0000 70B5     		push	{r4, r5, r6, lr}
 5933              	.LCFI74:
 5934              		.cfi_def_cfa_offset 16
 5935              		.cfi_offset 4, -16
 5936              		.cfi_offset 5, -12
 5937              		.cfi_offset 6, -8
 5938              		.cfi_offset 14, -4
 5939 0002 0446     		mov	r4, r0
2565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 5940              		.loc 1 2565 3 is_stmt 1 view .LVU2213
2566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5941              		.loc 1 2566 3 view .LVU2214
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5942              		.loc 1 2567 3 view .LVU2215
 5943              	.LVL455:
2570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
 5944              		.loc 1 2570 3 view .LVU2216
2572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5945              		.loc 1 2572 3 view .LVU2217
2572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5946              		.loc 1 2572 14 is_stmt 0 view .LVU2218
 5947 0004 0323     		movs	r3, #3
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 207


 5948 0006 80F83030 		strb	r3, [r0, #48]
2731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5949              		.loc 1 2731 3 is_stmt 1 view .LVU2219
 5950 000a 0129     		cmp	r1, #1
 5951 000c 39D0     		beq	.L360
 5952 000e 0229     		cmp	r1, #2
 5953 0010 17D0     		beq	.L351
 5954 0012 81BB     		cbnz	r1, .L352
2735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5955              		.loc 1 2735 7 view .LVU2220
2735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5956              		.loc 1 2735 23 is_stmt 0 view .LVU2221
 5957 0014 836D     		ldr	r3, [r0, #88]
2735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5958              		.loc 1 2735 10 view .LVU2222
 5959 0016 B3F5807F 		cmp	r3, #256
 5960 001a 18BF     		it	ne
 5961 001c B3F5007F 		cmpne	r3, #512
 5962 0020 04D0     		beq	.L353
2737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5963              		.loc 1 2737 23 view .LVU2223
 5964 0022 836B     		ldr	r3, [r0, #56]
2736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5965              		.loc 1 2736 55 view .LVU2224
 5966 0024 012B     		cmp	r3, #1
 5967 0026 01D0     		beq	.L353
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5968              		.loc 1 2567 21 view .LVU2225
 5969 0028 0026     		movs	r6, #0
 5970 002a 2BE0     		b	.L350
 5971              	.L353:
2740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5972              		.loc 1 2740 9 is_stmt 1 view .LVU2226
2740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5973              		.loc 1 2740 13 is_stmt 0 view .LVU2227
 5974 002c 2046     		mov	r0, r4
 5975              	.LVL456:
2740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5976              		.loc 1 2740 13 view .LVU2228
 5977 002e FFF7FEFF 		bl	SD_HighSpeed
 5978              	.LVL457:
2740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5979              		.loc 1 2740 12 discriminator 1 view .LVU2229
 5980 0032 0028     		cmp	r0, #0
 5981 0034 3CD0     		beq	.L362
2742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 5982              		.loc 1 2742 11 is_stmt 1 view .LVU2230
2742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 5983              		.loc 1 2742 14 is_stmt 0 view .LVU2231
 5984 0036 636B     		ldr	r3, [r4, #52]
2742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 5985              		.loc 1 2742 26 view .LVU2232
 5986 0038 43F08053 		orr	r3, r3, #268435456
 5987 003c 6363     		str	r3, [r4, #52]
2743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 5988              		.loc 1 2743 11 is_stmt 1 view .LVU2233
 5989              	.LVL458:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 208


2743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 5990              		.loc 1 2743 18 is_stmt 0 view .LVU2234
 5991 003e 0126     		movs	r6, #1
 5992 0040 20E0     		b	.L350
 5993              	.LVL459:
 5994              	.L351:
2754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5995              		.loc 1 2754 7 is_stmt 1 view .LVU2235
2754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5996              		.loc 1 2754 23 is_stmt 0 view .LVU2236
 5997 0042 836D     		ldr	r3, [r0, #88]
2754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5998              		.loc 1 2754 10 view .LVU2237
 5999 0044 B3F5807F 		cmp	r3, #256
 6000 0048 18BF     		it	ne
 6001 004a B3F5007F 		cmpne	r3, #512
 6002 004e 08D0     		beq	.L354
2756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6003              		.loc 1 2756 23 view .LVU2238
 6004 0050 836B     		ldr	r3, [r0, #56]
2755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 6005              		.loc 1 2755 55 view .LVU2239
 6006 0052 012B     		cmp	r3, #1
 6007 0054 05D0     		beq	.L354
2767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6008              		.loc 1 2767 9 is_stmt 1 view .LVU2240
2767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6009              		.loc 1 2767 12 is_stmt 0 view .LVU2241
 6010 0056 436B     		ldr	r3, [r0, #52]
2767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6011              		.loc 1 2767 24 view .LVU2242
 6012 0058 43F08053 		orr	r3, r3, #268435456
 6013 005c 4363     		str	r3, [r0, #52]
2768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 6014              		.loc 1 2768 9 is_stmt 1 view .LVU2243
 6015              	.LVL460:
2768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 6016              		.loc 1 2768 16 is_stmt 0 view .LVU2244
 6017 005e 0126     		movs	r6, #1
 6018 0060 10E0     		b	.L350
 6019              	.LVL461:
 6020              	.L354:
2759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6021              		.loc 1 2759 9 is_stmt 1 view .LVU2245
2759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6022              		.loc 1 2759 13 is_stmt 0 view .LVU2246
 6023 0062 2046     		mov	r0, r4
 6024              	.LVL462:
2759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6025              		.loc 1 2759 13 view .LVU2247
 6026 0064 FFF7FEFF 		bl	SD_HighSpeed
 6027              	.LVL463:
2759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6028              		.loc 1 2759 12 discriminator 1 view .LVU2248
 6029 0068 20B3     		cbz	r0, .L363
2761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 6030              		.loc 1 2761 11 is_stmt 1 view .LVU2249
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 209


2761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 6031              		.loc 1 2761 14 is_stmt 0 view .LVU2250
 6032 006a 636B     		ldr	r3, [r4, #52]
2761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 6033              		.loc 1 2761 26 view .LVU2251
 6034 006c 43F08053 		orr	r3, r3, #268435456
 6035 0070 6363     		str	r3, [r4, #52]
2762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 6036              		.loc 1 2762 11 is_stmt 1 view .LVU2252
 6037              	.LVL464:
2762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 6038              		.loc 1 2762 18 is_stmt 0 view .LVU2253
 6039 0072 0126     		movs	r6, #1
 6040 0074 06E0     		b	.L350
 6041              	.LVL465:
 6042              	.L352:
2776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 6043              		.loc 1 2776 7 is_stmt 1 view .LVU2254
2776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 6044              		.loc 1 2776 10 is_stmt 0 view .LVU2255
 6045 0076 436B     		ldr	r3, [r0, #52]
2776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 6046              		.loc 1 2776 22 view .LVU2256
 6047 0078 43F00063 		orr	r3, r3, #134217728
 6048 007c 4363     		str	r3, [r0, #52]
2777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
 6049              		.loc 1 2777 7 is_stmt 1 view .LVU2257
 6050              	.LVL466:
2778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6051              		.loc 1 2778 7 view .LVU2258
2777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
 6052              		.loc 1 2777 14 is_stmt 0 view .LVU2259
 6053 007e 0126     		movs	r6, #1
2778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6054              		.loc 1 2778 7 view .LVU2260
 6055 0080 00E0     		b	.L350
 6056              	.LVL467:
 6057              	.L360:
2731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6058              		.loc 1 2731 3 view .LVU2261
 6059 0082 0026     		movs	r6, #0
 6060              	.LVL468:
 6061              	.L350:
2783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 6062              		.loc 1 2783 3 is_stmt 1 view .LVU2262
2783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 6063              		.loc 1 2783 15 is_stmt 0 view .LVU2263
 6064 0084 FFF7FEFF 		bl	HAL_GetTick
 6065              	.LVL469:
 6066 0088 0546     		mov	r5, r0
 6067              	.LVL470:
2784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6068              		.loc 1 2784 3 is_stmt 1 view .LVU2264
 6069              	.L356:
2784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6070              		.loc 1 2784 36 view .LVU2265
2784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 210


 6071              		.loc 1 2784 11 is_stmt 0 view .LVU2266
 6072 008a 2046     		mov	r0, r4
 6073 008c FFF7FEFF 		bl	HAL_SD_GetCardState
 6074              	.LVL471:
2784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6075              		.loc 1 2784 36 discriminator 1 view .LVU2267
 6076 0090 0428     		cmp	r0, #4
 6077 0092 11D0     		beq	.L365
2786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6078              		.loc 1 2786 5 is_stmt 1 view .LVU2268
2786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6079              		.loc 1 2786 10 is_stmt 0 view .LVU2269
 6080 0094 FFF7FEFF 		bl	HAL_GetTick
 6081              	.LVL472:
2786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6082              		.loc 1 2786 24 discriminator 1 view .LVU2270
 6083 0098 401B     		subs	r0, r0, r5
2786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6084              		.loc 1 2786 8 discriminator 1 view .LVU2271
 6085 009a B0F1FF3F 		cmp	r0, #-1
 6086 009e F4D1     		bne	.L356
2788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 6087              		.loc 1 2788 7 is_stmt 1 view .LVU2272
2788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 6088              		.loc 1 2788 22 is_stmt 0 view .LVU2273
 6089 00a0 4FF00043 		mov	r3, #-2147483648
 6090 00a4 6363     		str	r3, [r4, #52]
2789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 6091              		.loc 1 2789 7 is_stmt 1 view .LVU2274
2789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 6092              		.loc 1 2789 18 is_stmt 0 view .LVU2275
 6093 00a6 0123     		movs	r3, #1
 6094 00a8 84F83030 		strb	r3, [r4, #48]
2790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6095              		.loc 1 2790 7 is_stmt 1 view .LVU2276
2790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6096              		.loc 1 2790 14 is_stmt 0 view .LVU2277
 6097 00ac 0326     		movs	r6, #3
 6098              	.LVL473:
2790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6099              		.loc 1 2790 14 view .LVU2278
 6100 00ae 13E0     		b	.L357
 6101              	.LVL474:
 6102              	.L362:
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6103              		.loc 1 2567 21 view .LVU2279
 6104 00b0 0026     		movs	r6, #0
 6105 00b2 E7E7     		b	.L350
 6106              	.L363:
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6107              		.loc 1 2567 21 view .LVU2280
 6108 00b4 0026     		movs	r6, #0
 6109 00b6 E5E7     		b	.L350
 6110              	.LVL475:
 6111              	.L365:
2795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 6112              		.loc 1 2795 3 is_stmt 1 view .LVU2281
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 211


2795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 6113              		.loc 1 2795 16 is_stmt 0 view .LVU2282
 6114 00b8 4FF40071 		mov	r1, #512
 6115 00bc 2068     		ldr	r0, [r4]
 6116 00be FFF7FEFF 		bl	SDMMC_CmdBlockLength
 6117              	.LVL476:
2796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6118              		.loc 1 2796 3 is_stmt 1 view .LVU2283
2796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6119              		.loc 1 2796 6 is_stmt 0 view .LVU2284
 6120 00c2 30B1     		cbz	r0, .L359
2799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 6121              		.loc 1 2799 5 is_stmt 1 view .LVU2285
 6122 00c4 2368     		ldr	r3, [r4]
 6123 00c6 0549     		ldr	r1, .L366
 6124 00c8 9963     		str	r1, [r3, #56]
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 6125              		.loc 1 2800 5 view .LVU2286
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 6126              		.loc 1 2800 8 is_stmt 0 view .LVU2287
 6127 00ca 636B     		ldr	r3, [r4, #52]
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 6128              		.loc 1 2800 20 view .LVU2288
 6129 00cc 0343     		orrs	r3, r3, r0
 6130 00ce 6363     		str	r3, [r4, #52]
2801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6131              		.loc 1 2801 5 is_stmt 1 view .LVU2289
 6132              	.LVL477:
2801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6133              		.loc 1 2801 12 is_stmt 0 view .LVU2290
 6134 00d0 0126     		movs	r6, #1
 6135              	.LVL478:
 6136              	.L359:
2805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
 6137              		.loc 1 2805 3 is_stmt 1 view .LVU2291
2805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
 6138              		.loc 1 2805 14 is_stmt 0 view .LVU2292
 6139 00d2 0123     		movs	r3, #1
 6140 00d4 84F83030 		strb	r3, [r4, #48]
2806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6141              		.loc 1 2806 3 is_stmt 1 view .LVU2293
 6142              	.LVL479:
 6143              	.L357:
2807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6144              		.loc 1 2807 1 is_stmt 0 view .LVU2294
 6145 00d8 3046     		mov	r0, r6
 6146 00da 70BD     		pop	{r4, r5, r6, pc}
 6147              	.LVL480:
 6148              	.L367:
2807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6149              		.loc 1 2807 1 view .LVU2295
 6150              		.align	2
 6151              	.L366:
 6152 00dc FF0FE01F 		.word	534777855
 6153              		.cfi_endproc
 6154              	.LFE357:
 6156              		.section	.text.HAL_SD_Abort,"ax",%progbits
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 212


 6157              		.align	1
 6158              		.global	HAL_SD_Abort
 6159              		.syntax unified
 6160              		.thumb
 6161              		.thumb_func
 6163              	HAL_SD_Abort:
 6164              	.LVL481:
 6165              	.LFB359:
2838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6166              		.loc 1 2838 1 is_stmt 1 view -0
 6167              		.cfi_startproc
 6168              		@ args = 0, pretend = 0, frame = 0
 6169              		@ frame_needed = 0, uses_anonymous_args = 0
2838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6170              		.loc 1 2838 1 is_stmt 0 view .LVU2297
 6171 0000 10B5     		push	{r4, lr}
 6172              	.LCFI75:
 6173              		.cfi_def_cfa_offset 8
 6174              		.cfi_offset 4, -8
 6175              		.cfi_offset 14, -4
 6176 0002 0446     		mov	r4, r0
2839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6177              		.loc 1 2839 3 is_stmt 1 view .LVU2298
2842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
 6178              		.loc 1 2842 3 view .LVU2299
 6179 0004 0268     		ldr	r2, [r0]
 6180 0006 D36B     		ldr	r3, [r2, #60]
 6181 0008 23F49D73 		bic	r3, r3, #314
 6182 000c D363     		str	r3, [r2, #60]
2846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6183              		.loc 1 2846 3 view .LVU2300
 6184 000e 0368     		ldr	r3, [r0]
 6185 0010 0C4A     		ldr	r2, .L374
 6186 0012 9A63     		str	r2, [r3, #56]
2849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6187              		.loc 1 2849 3 view .LVU2301
2849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6188              		.loc 1 2849 6 is_stmt 0 view .LVU2302
 6189 0014 0268     		ldr	r2, [r0]
2849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6190              		.loc 1 2849 27 view .LVU2303
 6191 0016 0023     		movs	r3, #0
 6192 0018 1365     		str	r3, [r2, #80]
2851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6193              		.loc 1 2851 3 is_stmt 1 view .LVU2304
2851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6194              		.loc 1 2851 14 is_stmt 0 view .LVU2305
 6195 001a 0122     		movs	r2, #1
 6196 001c 80F83020 		strb	r2, [r0, #48]
2854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6197              		.loc 1 2854 3 is_stmt 1 view .LVU2306
2854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6198              		.loc 1 2854 16 is_stmt 0 view .LVU2307
 6199 0020 C362     		str	r3, [r0, #44]
2856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6200              		.loc 1 2856 3 is_stmt 1 view .LVU2308
2856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 213


 6201              		.loc 1 2856 15 is_stmt 0 view .LVU2309
 6202 0022 FFF7FEFF 		bl	HAL_SD_GetCardState
 6203              	.LVL482:
2857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6204              		.loc 1 2857 3 is_stmt 1 view .LVU2310
2857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6205              		.loc 1 2857 44 is_stmt 0 view .LVU2311
 6206 0026 0538     		subs	r0, r0, #5
 6207              	.LVL483:
2857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6208              		.loc 1 2857 6 view .LVU2312
 6209 0028 0128     		cmp	r0, #1
 6210 002a 03D9     		bls	.L373
 6211              	.LVL484:
 6212              	.L369:
2861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6213              		.loc 1 2861 3 is_stmt 1 view .LVU2313
2861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6214              		.loc 1 2861 10 is_stmt 0 view .LVU2314
 6215 002c 636B     		ldr	r3, [r4, #52]
2861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6216              		.loc 1 2861 6 view .LVU2315
 6217 002e 33B9     		cbnz	r3, .L371
2865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6218              		.loc 1 2865 10 view .LVU2316
 6219 0030 0020     		movs	r0, #0
 6220              	.L370:
2866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6221              		.loc 1 2866 1 view .LVU2317
 6222 0032 10BD     		pop	{r4, pc}
 6223              	.LVL485:
 6224              	.L373:
2859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6225              		.loc 1 2859 5 is_stmt 1 view .LVU2318
2859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6226              		.loc 1 2859 22 is_stmt 0 view .LVU2319
 6227 0034 2068     		ldr	r0, [r4]
 6228              	.LVL486:
2859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6229              		.loc 1 2859 22 view .LVU2320
 6230 0036 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6231              	.LVL487:
2859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6232              		.loc 1 2859 20 discriminator 1 view .LVU2321
 6233 003a 6063     		str	r0, [r4, #52]
 6234 003c F6E7     		b	.L369
 6235              	.L371:
2863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6236              		.loc 1 2863 12 view .LVU2322
 6237 003e 0120     		movs	r0, #1
 6238 0040 F7E7     		b	.L370
 6239              	.L375:
 6240 0042 00BF     		.align	2
 6241              	.L374:
 6242 0044 3A0F0018 		.word	402657082
 6243              		.cfi_endproc
 6244              	.LFE359:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 214


 6246              		.section	.text.HAL_SD_Abort_IT,"ax",%progbits
 6247              		.align	1
 6248              		.global	HAL_SD_Abort_IT
 6249              		.syntax unified
 6250              		.thumb
 6251              		.thumb_func
 6253              	HAL_SD_Abort_IT:
 6254              	.LVL488:
 6255              	.LFB360:
2875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6256              		.loc 1 2875 1 is_stmt 1 view -0
 6257              		.cfi_startproc
 6258              		@ args = 0, pretend = 0, frame = 0
 6259              		@ frame_needed = 0, uses_anonymous_args = 0
2875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6260              		.loc 1 2875 1 is_stmt 0 view .LVU2324
 6261 0000 10B5     		push	{r4, lr}
 6262              	.LCFI76:
 6263              		.cfi_def_cfa_offset 8
 6264              		.cfi_offset 4, -8
 6265              		.cfi_offset 14, -4
 6266 0002 0446     		mov	r4, r0
2876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6267              		.loc 1 2876 3 is_stmt 1 view .LVU2325
2879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
 6268              		.loc 1 2879 3 view .LVU2326
 6269 0004 0268     		ldr	r2, [r0]
 6270 0006 D36B     		ldr	r3, [r2, #60]
 6271 0008 23F49D73 		bic	r3, r3, #314
 6272 000c D363     		str	r3, [r2, #60]
2883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6273              		.loc 1 2883 3 view .LVU2327
2883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6274              		.loc 1 2883 6 is_stmt 0 view .LVU2328
 6275 000e 0368     		ldr	r3, [r0]
2883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6276              		.loc 1 2883 27 view .LVU2329
 6277 0010 0022     		movs	r2, #0
 6278 0012 1A65     		str	r2, [r3, #80]
2886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6279              		.loc 1 2886 3 is_stmt 1 view .LVU2330
 6280 0014 0368     		ldr	r3, [r0]
 6281 0016 0C4A     		ldr	r2, .L383
 6282 0018 9A63     		str	r2, [r3, #56]
2888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 6283              		.loc 1 2888 3 view .LVU2331
2888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 6284              		.loc 1 2888 15 is_stmt 0 view .LVU2332
 6285 001a FFF7FEFF 		bl	HAL_SD_GetCardState
 6286              	.LVL489:
2889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6287              		.loc 1 2889 3 is_stmt 1 view .LVU2333
2889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6288              		.loc 1 2889 14 is_stmt 0 view .LVU2334
 6289 001e 0123     		movs	r3, #1
 6290 0020 84F83030 		strb	r3, [r4, #48]
2891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 215


 6291              		.loc 1 2891 3 is_stmt 1 view .LVU2335
2891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6292              		.loc 1 2891 44 is_stmt 0 view .LVU2336
 6293 0024 0538     		subs	r0, r0, #5
 6294              	.LVL490:
2891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6295              		.loc 1 2891 6 view .LVU2337
 6296 0026 9842     		cmp	r0, r3
 6297 0028 03D9     		bls	.L381
 6298              	.LVL491:
 6299              	.L377:
2896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6300              		.loc 1 2896 3 is_stmt 1 view .LVU2338
2896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6301              		.loc 1 2896 10 is_stmt 0 view .LVU2339
 6302 002a 636B     		ldr	r3, [r4, #52]
2896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6303              		.loc 1 2896 6 view .LVU2340
 6304 002c 33B1     		cbz	r3, .L382
2898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6305              		.loc 1 2898 12 view .LVU2341
 6306 002e 0120     		movs	r0, #1
 6307              	.L378:
2910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6308              		.loc 1 2910 1 view .LVU2342
 6309 0030 10BD     		pop	{r4, pc}
 6310              	.LVL492:
 6311              	.L381:
2893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6312              		.loc 1 2893 5 is_stmt 1 view .LVU2343
2893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6313              		.loc 1 2893 22 is_stmt 0 view .LVU2344
 6314 0032 2068     		ldr	r0, [r4]
 6315              	.LVL493:
2893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6316              		.loc 1 2893 22 view .LVU2345
 6317 0034 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6318              	.LVL494:
2893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6319              		.loc 1 2893 20 discriminator 1 view .LVU2346
 6320 0038 6063     		str	r0, [r4, #52]
 6321 003a F6E7     		b	.L377
 6322              	.L382:
2905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6323              		.loc 1 2905 5 is_stmt 1 view .LVU2347
 6324 003c 2046     		mov	r0, r4
 6325 003e FFF7FEFF 		bl	HAL_SD_AbortCallback
 6326              	.LVL495:
2909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6327              		.loc 1 2909 3 view .LVU2348
2909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6328              		.loc 1 2909 10 is_stmt 0 view .LVU2349
 6329 0042 0020     		movs	r0, #0
 6330 0044 F4E7     		b	.L378
 6331              	.L384:
 6332 0046 00BF     		.align	2
 6333              	.L383:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 216


 6334 0048 3A0F0018 		.word	402657082
 6335              		.cfi_endproc
 6336              	.LFE360:
 6338              		.section	.text.HAL_SDEx_Read_DMADoubleBuf0CpltCallback,"ax",%progbits
 6339              		.align	1
 6340              		.weak	HAL_SDEx_Read_DMADoubleBuf0CpltCallback
 6341              		.syntax unified
 6342              		.thumb
 6343              		.thumb_func
 6345              	HAL_SDEx_Read_DMADoubleBuf0CpltCallback:
 6346              	.LVL496:
 6347              	.LFB372:
3710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
3712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Switches the SD card to Ultra High Speed mode.
3714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         This API must be used after "Transfer State"
3715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
3716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock between 50 and 120 MHz
3717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: SD handle
3718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_UltraHighSpeed(SD_HandleTypeDef *hsd)
3721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
3723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
3724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
3725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t loop = 0 ;
3727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
3728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
3730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Standard Speed Card <= 12.5Mhz  */
3732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
3736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the Data control register */
3738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
3739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
3747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
3748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
3749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
3750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
3753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure) != HAL_OK)
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 217


3755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
3757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, SDMMC_SDR104_SWITCH_PATTERN);
3760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
3766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
3767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
3769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
3771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           SD_hs[(8U * loop) + count]  = SDMMC_ReadFIFO(hsd->Instance);
3773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         loop ++;
3775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - Timeout) >=  SDMMC_DATATIMEOUT)
3778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
3780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
3781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
3782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
3788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
3794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
3796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
3802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
3804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* No error flag set */
3810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 218


3812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
3816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((((uint8_t *)SD_hs)[13] & 2U) != 2U)
3817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
3819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback(SET);
3824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
3825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       HAL_SD_DriveTransceiver_1_8V_Callback(SET);
3826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (DLYB_SDMMC1) || defined (DLYB_SDMMC2)
3828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Enable DelayBlock Peripheral */
3829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* SDMMC_FB_CLK tuned feedback clock selected as receive clock, for SDR104 */
3830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       MODIFY_REG(hsd->Instance->CLKCR, SDMMC_CLKCR_SELCLKRX, SDMMC_CLKCR_SELCLKRX_1);
3831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (DelayBlock_Enable(SD_GET_DLYB_INSTANCE(hsd->Instance)) != HAL_OK)
3832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
3834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) || (DLYB_SDMMC2) */
3836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return errorstate;
3840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Switches the SD card to Double Data Rate (DDR) mode.
3844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         This API must be used after "Transfer State"
3845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
3846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock less than 50MHz
3847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: SD handle
3848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_DDR_Mode(SD_HandleTypeDef *hsd)
3851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
3853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
3854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
3855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t loop = 0 ;
3857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
3858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
3860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Standard Speed Card <= 12.5Mhz  */
3862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
3866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the Data control register */
3868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 219


3869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
3877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
3878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
3879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
3880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
3883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure) != HAL_OK)
3885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
3887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, SDMMC_DDR50_SWITCH_PATTERN);
3890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
3896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
3897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
3899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
3901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           SD_hs[(8U * loop) + count]  = SDMMC_ReadFIFO(hsd->Instance);
3903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         loop ++;
3905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - Timeout) >=  SDMMC_DATATIMEOUT)
3908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
3910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
3911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
3912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
3918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
3924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 220


3926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
3932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
3934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* No error flag set */
3940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Test if the switch mode  is ok */
3946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((((uint8_t *)SD_hs)[13] & 2U) != 2U)
3947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
3949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback(SET);
3954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
3955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       HAL_SD_DriveTransceiver_1_8V_Callback(SET);
3956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (DLYB_SDMMC1) || defined (DLYB_SDMMC2)
3958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Enable DelayBlock Peripheral */
3959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* SDMMC_CKin feedback clock selected as receive clock, for DDR50 */
3960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       MODIFY_REG(hsd->Instance->CLKCR, SDMMC_CLKCR_SELCLKRX, SDMMC_CLKCR_SELCLKRX_0);
3961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (DelayBlock_Enable(SD_GET_DLYB_INSTANCE(hsd->Instance)) != HAL_OK)
3962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
3964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) || (DLYB_SDMMC2) */
3966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return errorstate;
3970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
3973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Read DMA Buffer 0 Transfer completed callbacks
3976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
3977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Read_DMADoubleBuf0CpltCallback(SD_HandleTypeDef *hsd)
3980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6348              		.loc 1 3980 1 is_stmt 1 view -0
 6349              		.cfi_startproc
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 221


 6350              		@ args = 0, pretend = 0, frame = 0
 6351              		@ frame_needed = 0, uses_anonymous_args = 0
 6352              		@ link register save eliminated.
3981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
3982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 6353              		.loc 1 3982 3 view .LVU2351
3983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
3985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Read_DMADoubleBuf0CpltCallback can be implemented in the user file
3986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
3987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6354              		.loc 1 3987 1 is_stmt 0 view .LVU2352
 6355 0000 7047     		bx	lr
 6356              		.cfi_endproc
 6357              	.LFE372:
 6359              		.section	.text.HAL_SDEx_Read_DMADoubleBuf1CpltCallback,"ax",%progbits
 6360              		.align	1
 6361              		.weak	HAL_SDEx_Read_DMADoubleBuf1CpltCallback
 6362              		.syntax unified
 6363              		.thumb
 6364              		.thumb_func
 6366              	HAL_SDEx_Read_DMADoubleBuf1CpltCallback:
 6367              	.LVL497:
 6368              	.LFB373:
3988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Read DMA Buffer 1 Transfer completed callbacks
3991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
3992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Read_DMADoubleBuf1CpltCallback(SD_HandleTypeDef *hsd)
3995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6369              		.loc 1 3995 1 is_stmt 1 view -0
 6370              		.cfi_startproc
 6371              		@ args = 0, pretend = 0, frame = 0
 6372              		@ frame_needed = 0, uses_anonymous_args = 0
 6373              		@ link register save eliminated.
3996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
3997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 6374              		.loc 1 3997 3 view .LVU2354
3998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
4000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Read_DMADoubleBuf1CpltCallback can be implemented in the user file
4001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6375              		.loc 1 4002 1 is_stmt 0 view .LVU2355
 6376 0000 7047     		bx	lr
 6377              		.cfi_endproc
 6378              	.LFE373:
 6380              		.section	.text.HAL_SDEx_Write_DMADoubleBuf0CpltCallback,"ax",%progbits
 6381              		.align	1
 6382              		.weak	HAL_SDEx_Write_DMADoubleBuf0CpltCallback
 6383              		.syntax unified
 6384              		.thumb
 6385              		.thumb_func
 6387              	HAL_SDEx_Write_DMADoubleBuf0CpltCallback:
 6388              	.LVL498:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 222


 6389              	.LFB374:
4003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
4005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Write DMA Buffer 0 Transfer completed callbacks
4006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
4007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
4008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
4009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Write_DMADoubleBuf0CpltCallback(SD_HandleTypeDef *hsd)
4010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6390              		.loc 1 4010 1 is_stmt 1 view -0
 6391              		.cfi_startproc
 6392              		@ args = 0, pretend = 0, frame = 0
 6393              		@ frame_needed = 0, uses_anonymous_args = 0
 6394              		@ link register save eliminated.
4011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
4012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 6395              		.loc 1 4012 3 view .LVU2357
4013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
4015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Write_DMADoubleBuf0CpltCallback can be implemented in the user file
4016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6396              		.loc 1 4017 1 is_stmt 0 view .LVU2358
 6397 0000 7047     		bx	lr
 6398              		.cfi_endproc
 6399              	.LFE374:
 6401              		.section	.text.HAL_SDEx_Write_DMADoubleBuf1CpltCallback,"ax",%progbits
 6402              		.align	1
 6403              		.weak	HAL_SDEx_Write_DMADoubleBuf1CpltCallback
 6404              		.syntax unified
 6405              		.thumb
 6406              		.thumb_func
 6408              	HAL_SDEx_Write_DMADoubleBuf1CpltCallback:
 6409              	.LVL499:
 6410              	.LFB375:
4018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
4020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Write DMA Buffer 1 Transfer completed callbacks
4021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
4022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
4023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
4024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Write_DMADoubleBuf1CpltCallback(SD_HandleTypeDef *hsd)
4025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6411              		.loc 1 4025 1 is_stmt 1 view -0
 6412              		.cfi_startproc
 6413              		@ args = 0, pretend = 0, frame = 0
 6414              		@ frame_needed = 0, uses_anonymous_args = 0
 6415              		@ link register save eliminated.
4026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
4027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 6416              		.loc 1 4027 3 view .LVU2360
4028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
4030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Write_DMADoubleBuf1CpltCallback can be implemented in the user file
4031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6417              		.loc 1 4032 1 is_stmt 0 view .LVU2361
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 223


 6418 0000 7047     		bx	lr
 6419              		.cfi_endproc
 6420              	.LFE375:
 6422              		.section	.text.HAL_SD_IRQHandler,"ax",%progbits
 6423              		.align	1
 6424              		.global	HAL_SD_IRQHandler
 6425              		.syntax unified
 6426              		.thumb
 6427              		.thumb_func
 6429              	HAL_SD_IRQHandler:
 6430              	.LVL500:
 6431              	.LFB345:
1527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 6432              		.loc 1 1527 1 is_stmt 1 view -0
 6433              		.cfi_startproc
 6434              		@ args = 0, pretend = 0, frame = 0
 6435              		@ frame_needed = 0, uses_anonymous_args = 0
1527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 6436              		.loc 1 1527 1 is_stmt 0 view .LVU2363
 6437 0000 38B5     		push	{r3, r4, r5, lr}
 6438              	.LCFI77:
 6439              		.cfi_def_cfa_offset 16
 6440              		.cfi_offset 3, -16
 6441              		.cfi_offset 4, -12
 6442              		.cfi_offset 5, -8
 6443              		.cfi_offset 14, -4
 6444 0002 0446     		mov	r4, r0
1528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t context = hsd->Context;
 6445              		.loc 1 1528 3 is_stmt 1 view .LVU2364
1529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6446              		.loc 1 1529 3 view .LVU2365
1529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6447              		.loc 1 1529 12 is_stmt 0 view .LVU2366
 6448 0004 C56A     		ldr	r5, [r0, #44]
 6449              	.LVL501:
1532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6450              		.loc 1 1532 3 is_stmt 1 view .LVU2367
1532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6451              		.loc 1 1532 8 is_stmt 0 view .LVU2368
 6452 0006 0368     		ldr	r3, [r0]
 6453 0008 5A6B     		ldr	r2, [r3, #52]
1532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6454              		.loc 1 1532 6 view .LVU2369
 6455 000a 12F4004F 		tst	r2, #32768
 6456 000e 02D0     		beq	.L390
1532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6457              		.loc 1 1532 62 discriminator 1 view .LVU2370
 6458 0010 15F0080F 		tst	r5, #8
 6459 0014 2AD1     		bne	.L409
 6460              	.L390:
1537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6461              		.loc 1 1537 8 is_stmt 1 view .LVU2371
1537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6462              		.loc 1 1537 12 is_stmt 0 view .LVU2372
 6463 0016 5A6B     		ldr	r2, [r3, #52]
1537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6464              		.loc 1 1537 11 view .LVU2373
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 224


 6465 0018 12F4807F 		tst	r2, #256
 6466 001c 67D0     		beq	.L392
1539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6467              		.loc 1 1539 5 is_stmt 1 view .LVU2374
 6468 001e 4FF48072 		mov	r2, #256
 6469 0022 9A63     		str	r2, [r3, #56]
1541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR  | SDMMC_IT_TXFIFOHE | \
 6470              		.loc 1 1541 5 view .LVU2375
 6471 0024 2268     		ldr	r2, [r4]
 6472 0026 D16B     		ldr	r1, [r2, #60]
 6473 0028 7E4B     		ldr	r3, .L415
 6474 002a 0B40     		ands	r3, r3, r1
 6475 002c D363     		str	r3, [r2, #60]
1545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
 6476              		.loc 1 1545 5 view .LVU2376
 6477 002e 2268     		ldr	r2, [r4]
 6478 0030 D36B     		ldr	r3, [r2, #60]
 6479 0032 23F08053 		bic	r3, r3, #268435456
 6480 0036 D363     		str	r3, [r2, #60]
1546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6481              		.loc 1 1546 5 view .LVU2377
 6482 0038 2268     		ldr	r2, [r4]
 6483 003a D368     		ldr	r3, [r2, #12]
 6484 003c 23F04003 		bic	r3, r3, #64
 6485 0040 D360     		str	r3, [r2, #12]
1548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6486              		.loc 1 1548 5 view .LVU2378
1548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6487              		.loc 1 1548 8 is_stmt 0 view .LVU2379
 6488 0042 15F0080F 		tst	r5, #8
 6489 0046 25D0     		beq	.L393
1550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6490              		.loc 1 1550 7 is_stmt 1 view .LVU2380
1550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6491              		.loc 1 1550 10 is_stmt 0 view .LVU2381
 6492 0048 15F0220F 		tst	r5, #34
 6493 004c 11D1     		bne	.L410
 6494              	.LVL502:
 6495              	.L394:
1565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6496              		.loc 1 1565 7 is_stmt 1 view .LVU2382
 6497 004e 2368     		ldr	r3, [r4]
 6498 0050 754A     		ldr	r2, .L415+4
 6499 0052 9A63     		str	r2, [r3, #56]
1567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6500              		.loc 1 1567 7 view .LVU2383
1567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6501              		.loc 1 1567 18 is_stmt 0 view .LVU2384
 6502 0054 0123     		movs	r3, #1
 6503 0056 84F83030 		strb	r3, [r4, #48]
1568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
 6504              		.loc 1 1568 7 is_stmt 1 view .LVU2385
1568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
 6505              		.loc 1 1568 20 is_stmt 0 view .LVU2386
 6506 005a 0023     		movs	r3, #0
 6507 005c E362     		str	r3, [r4, #44]
1569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 225


 6508              		.loc 1 1569 7 is_stmt 1 view .LVU2387
1569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6509              		.loc 1 1569 10 is_stmt 0 view .LVU2388
 6510 005e 15F0030F 		tst	r5, #3
 6511 0062 13D0     		beq	.L395
1574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6512              		.loc 1 1574 9 is_stmt 1 view .LVU2389
 6513 0064 2046     		mov	r0, r4
 6514 0066 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 6515              	.LVL503:
 6516 006a 01E0     		b	.L389
 6517              	.LVL504:
 6518              	.L409:
1534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6519              		.loc 1 1534 5 view .LVU2390
 6520 006c FFF7FEFF 		bl	SD_Read_IT
 6521              	.LVL505:
 6522              	.L389:
1754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6523              		.loc 1 1754 1 is_stmt 0 view .LVU2391
 6524 0070 38BD     		pop	{r3, r4, r5, pc}
 6525              	.LVL506:
 6526              	.L410:
1552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6527              		.loc 1 1552 9 is_stmt 1 view .LVU2392
1552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6528              		.loc 1 1552 22 is_stmt 0 view .LVU2393
 6529 0072 2068     		ldr	r0, [r4]
 6530              	.LVL507:
1552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6531              		.loc 1 1552 22 view .LVU2394
 6532 0074 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6533              	.LVL508:
1553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6534              		.loc 1 1553 9 is_stmt 1 view .LVU2395
1553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6535              		.loc 1 1553 12 is_stmt 0 view .LVU2396
 6536 0078 0346     		mov	r3, r0
 6537 007a 0028     		cmp	r0, #0
 6538 007c E7D0     		beq	.L394
1555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6539              		.loc 1 1555 11 is_stmt 1 view .LVU2397
1555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6540              		.loc 1 1555 14 is_stmt 0 view .LVU2398
 6541 007e 626B     		ldr	r2, [r4, #52]
1555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6542              		.loc 1 1555 26 view .LVU2399
 6543 0080 1343     		orrs	r3, r3, r2
 6544 0082 6363     		str	r3, [r4, #52]
1559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6545              		.loc 1 1559 11 is_stmt 1 view .LVU2400
 6546 0084 2046     		mov	r0, r4
 6547              	.LVL509:
1559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6548              		.loc 1 1559 11 is_stmt 0 view .LVU2401
 6549 0086 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6550              	.LVL510:
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 226


 6551 008a E0E7     		b	.L394
 6552              	.LVL511:
 6553              	.L395:
1582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6554              		.loc 1 1582 9 is_stmt 1 view .LVU2402
 6555 008c 2046     		mov	r0, r4
 6556 008e FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 6557              	.LVL512:
 6558 0092 EDE7     		b	.L389
 6559              	.LVL513:
 6560              	.L393:
1586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6561              		.loc 1 1586 10 view .LVU2403
1586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6562              		.loc 1 1586 13 is_stmt 0 view .LVU2404
 6563 0094 15F0800F 		tst	r5, #128
 6564 0098 EAD0     		beq	.L389
1588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 6565              		.loc 1 1588 7 is_stmt 1 view .LVU2405
1588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 6566              		.loc 1 1588 10 is_stmt 0 view .LVU2406
 6567 009a 2268     		ldr	r2, [r4]
1588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 6568              		.loc 1 1588 27 view .LVU2407
 6569 009c 0023     		movs	r3, #0
 6570 009e 9362     		str	r3, [r2, #40]
1589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 6571              		.loc 1 1589 7 is_stmt 1 view .LVU2408
1589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 6572              		.loc 1 1589 10 is_stmt 0 view .LVU2409
 6573 00a0 2268     		ldr	r2, [r4]
1589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 6574              		.loc 1 1589 28 view .LVU2410
 6575 00a2 D362     		str	r3, [r2, #44]
1590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6576              		.loc 1 1590 7 is_stmt 1 view .LVU2411
1590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6577              		.loc 1 1590 10 is_stmt 0 view .LVU2412
 6578 00a4 2268     		ldr	r2, [r4]
1590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6579              		.loc 1 1590 31 view .LVU2413
 6580 00a6 1365     		str	r3, [r2, #80]
1593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6581              		.loc 1 1593 7 is_stmt 1 view .LVU2414
1593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6582              		.loc 1 1593 10 is_stmt 0 view .LVU2415
 6583 00a8 15F0220F 		tst	r5, #34
 6584 00ac 0ED1     		bne	.L411
 6585              	.LVL514:
 6586              	.L396:
1607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6587              		.loc 1 1607 7 is_stmt 1 view .LVU2416
1607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6588              		.loc 1 1607 18 is_stmt 0 view .LVU2417
 6589 00ae 0123     		movs	r3, #1
 6590 00b0 84F83030 		strb	r3, [r4, #48]
1608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 227


 6591              		.loc 1 1608 7 is_stmt 1 view .LVU2418
1608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
 6592              		.loc 1 1608 20 is_stmt 0 view .LVU2419
 6593 00b4 0023     		movs	r3, #0
 6594 00b6 E362     		str	r3, [r4, #44]
1609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6595              		.loc 1 1609 7 is_stmt 1 view .LVU2420
1609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6596              		.loc 1 1609 10 is_stmt 0 view .LVU2421
 6597 00b8 15F0300F 		tst	r5, #48
 6598 00bc 13D1     		bne	.L412
 6599              	.L397:
1617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6600              		.loc 1 1617 7 is_stmt 1 view .LVU2422
1617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6601              		.loc 1 1617 10 is_stmt 0 view .LVU2423
 6602 00be 15F0030F 		tst	r5, #3
 6603 00c2 D5D0     		beq	.L389
1622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6604              		.loc 1 1622 9 is_stmt 1 view .LVU2424
 6605 00c4 2046     		mov	r0, r4
 6606 00c6 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 6607              	.LVL515:
 6608 00ca D1E7     		b	.L389
 6609              	.LVL516:
 6610              	.L411:
1595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6611              		.loc 1 1595 9 view .LVU2425
1595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6612              		.loc 1 1595 22 is_stmt 0 view .LVU2426
 6613 00cc 2068     		ldr	r0, [r4]
 6614              	.LVL517:
1595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6615              		.loc 1 1595 22 view .LVU2427
 6616 00ce FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6617              	.LVL518:
1596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6618              		.loc 1 1596 9 is_stmt 1 view .LVU2428
1596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6619              		.loc 1 1596 12 is_stmt 0 view .LVU2429
 6620 00d2 0346     		mov	r3, r0
 6621 00d4 0028     		cmp	r0, #0
 6622 00d6 EAD0     		beq	.L396
1598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6623              		.loc 1 1598 11 is_stmt 1 view .LVU2430
1598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6624              		.loc 1 1598 14 is_stmt 0 view .LVU2431
 6625 00d8 626B     		ldr	r2, [r4, #52]
1598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6626              		.loc 1 1598 26 view .LVU2432
 6627 00da 1343     		orrs	r3, r3, r2
 6628 00dc 6363     		str	r3, [r4, #52]
1602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6629              		.loc 1 1602 11 is_stmt 1 view .LVU2433
 6630 00de 2046     		mov	r0, r4
 6631              	.LVL519:
1602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 228


 6632              		.loc 1 1602 11 is_stmt 0 view .LVU2434
 6633 00e0 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6634              	.LVL520:
 6635 00e4 E3E7     		b	.L396
 6636              	.LVL521:
 6637              	.L412:
1614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6638              		.loc 1 1614 9 is_stmt 1 view .LVU2435
 6639 00e6 2046     		mov	r0, r4
 6640 00e8 FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 6641              	.LVL522:
 6642 00ec E7E7     		b	.L397
 6643              	.LVL523:
 6644              	.L392:
1632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6645              		.loc 1 1632 8 view .LVU2436
1632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6646              		.loc 1 1632 13 is_stmt 0 view .LVU2437
 6647 00ee 5A6B     		ldr	r2, [r3, #52]
1632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6648              		.loc 1 1632 11 view .LVU2438
 6649 00f0 12F4804F 		tst	r2, #16384
 6650 00f4 02D0     		beq	.L398
1632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6651              		.loc 1 1632 67 discriminator 1 view .LVU2439
 6652 00f6 15F0080F 		tst	r5, #8
 6653 00fa 62D1     		bne	.L413
 6654              	.L398:
1637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
 6655              		.loc 1 1637 8 is_stmt 1 view .LVU2440
1637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
 6656              		.loc 1 1637 12 is_stmt 0 view .LVU2441
 6657 00fc 5A6B     		ldr	r2, [r3, #52]
1637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
 6658              		.loc 1 1637 11 view .LVU2442
 6659 00fe 12F03A0F 		tst	r2, #58
 6660 0102 6BD0     		beq	.L399
1641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6661              		.loc 1 1641 5 is_stmt 1 view .LVU2443
1641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6662              		.loc 1 1641 9 is_stmt 0 view .LVU2444
 6663 0104 5A6B     		ldr	r2, [r3, #52]
1641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6664              		.loc 1 1641 8 view .LVU2445
 6665 0106 12F0020F 		tst	r2, #2
 6666 010a 03D0     		beq	.L400
1643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6667              		.loc 1 1643 7 is_stmt 1 view .LVU2446
1643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6668              		.loc 1 1643 10 is_stmt 0 view .LVU2447
 6669 010c 626B     		ldr	r2, [r4, #52]
1643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6670              		.loc 1 1643 22 view .LVU2448
 6671 010e 42F00202 		orr	r2, r2, #2
 6672 0112 6263     		str	r2, [r4, #52]
 6673              	.L400:
1645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 229


 6674              		.loc 1 1645 5 is_stmt 1 view .LVU2449
1645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6675              		.loc 1 1645 9 is_stmt 0 view .LVU2450
 6676 0114 5A6B     		ldr	r2, [r3, #52]
1645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6677              		.loc 1 1645 8 view .LVU2451
 6678 0116 12F0080F 		tst	r2, #8
 6679 011a 03D0     		beq	.L401
1647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6680              		.loc 1 1647 7 is_stmt 1 view .LVU2452
1647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6681              		.loc 1 1647 10 is_stmt 0 view .LVU2453
 6682 011c 626B     		ldr	r2, [r4, #52]
1647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6683              		.loc 1 1647 22 view .LVU2454
 6684 011e 42F00802 		orr	r2, r2, #8
 6685 0122 6263     		str	r2, [r4, #52]
 6686              	.L401:
1649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6687              		.loc 1 1649 5 is_stmt 1 view .LVU2455
1649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6688              		.loc 1 1649 9 is_stmt 0 view .LVU2456
 6689 0124 5A6B     		ldr	r2, [r3, #52]
1649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6690              		.loc 1 1649 8 view .LVU2457
 6691 0126 12F0200F 		tst	r2, #32
 6692 012a 03D0     		beq	.L402
1651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6693              		.loc 1 1651 7 is_stmt 1 view .LVU2458
1651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6694              		.loc 1 1651 10 is_stmt 0 view .LVU2459
 6695 012c 626B     		ldr	r2, [r4, #52]
1651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6696              		.loc 1 1651 22 view .LVU2460
 6697 012e 42F02002 		orr	r2, r2, #32
 6698 0132 6263     		str	r2, [r4, #52]
 6699              	.L402:
1653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6700              		.loc 1 1653 5 is_stmt 1 view .LVU2461
1653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6701              		.loc 1 1653 9 is_stmt 0 view .LVU2462
 6702 0134 5A6B     		ldr	r2, [r3, #52]
1653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6703              		.loc 1 1653 8 view .LVU2463
 6704 0136 12F0100F 		tst	r2, #16
 6705 013a 03D0     		beq	.L403
1655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6706              		.loc 1 1655 7 is_stmt 1 view .LVU2464
1655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6707              		.loc 1 1655 10 is_stmt 0 view .LVU2465
 6708 013c 626B     		ldr	r2, [r4, #52]
1655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6709              		.loc 1 1655 22 view .LVU2466
 6710 013e 42F01002 		orr	r2, r2, #16
 6711 0142 6263     		str	r2, [r4, #52]
 6712              	.L403:
1659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 230


 6713              		.loc 1 1659 5 is_stmt 1 view .LVU2467
 6714 0144 384A     		ldr	r2, .L415+4
 6715 0146 9A63     		str	r2, [r3, #56]
1662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
 6716              		.loc 1 1662 5 view .LVU2468
 6717 0148 2268     		ldr	r2, [r4]
 6718 014a D36B     		ldr	r3, [r2, #60]
 6719 014c 23F49D73 		bic	r3, r3, #314
 6720 0150 D363     		str	r3, [r2, #60]
1665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
 6721              		.loc 1 1665 5 view .LVU2469
 6722 0152 2268     		ldr	r2, [r4]
 6723 0154 D368     		ldr	r3, [r2, #12]
 6724 0156 23F04003 		bic	r3, r3, #64
 6725 015a D360     		str	r3, [r2, #12]
1666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 6726              		.loc 1 1666 5 view .LVU2470
1666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 6727              		.loc 1 1666 8 is_stmt 0 view .LVU2471
 6728 015c 2268     		ldr	r2, [r4]
1666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 6729              		.loc 1 1666 18 view .LVU2472
 6730 015e D36A     		ldr	r3, [r2, #44]
1666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 6731              		.loc 1 1666 26 view .LVU2473
 6732 0160 43F40053 		orr	r3, r3, #8192
 6733 0164 D362     		str	r3, [r2, #44]
1667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 6734              		.loc 1 1667 5 is_stmt 1 view .LVU2474
1667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 6735              		.loc 1 1667 8 is_stmt 0 view .LVU2475
 6736 0166 2268     		ldr	r2, [r4]
1667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 6737              		.loc 1 1667 18 view .LVU2476
 6738 0168 D368     		ldr	r3, [r2, #12]
1667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 6739              		.loc 1 1667 24 view .LVU2477
 6740 016a 43F08003 		orr	r3, r3, #128
 6741 016e D360     		str	r3, [r2, #12]
1668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6742              		.loc 1 1668 5 is_stmt 1 view .LVU2478
1668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6743              		.loc 1 1668 23 is_stmt 0 view .LVU2479
 6744 0170 2068     		ldr	r0, [r4]
 6745              	.LVL524:
1668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6746              		.loc 1 1668 23 view .LVU2480
 6747 0172 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6748              	.LVL525:
1668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6749              		.loc 1 1668 8 discriminator 1 view .LVU2481
 6750 0176 636B     		ldr	r3, [r4, #52]
1668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6751              		.loc 1 1668 20 discriminator 1 view .LVU2482
 6752 0178 0343     		orrs	r3, r3, r0
 6753 017a 6363     		str	r3, [r4, #52]
1669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 231


 6754              		.loc 1 1669 5 is_stmt 1 view .LVU2483
1669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 6755              		.loc 1 1669 8 is_stmt 0 view .LVU2484
 6756 017c 2268     		ldr	r2, [r4]
1669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 6757              		.loc 1 1669 18 view .LVU2485
 6758 017e D368     		ldr	r3, [r2, #12]
1669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 6759              		.loc 1 1669 24 view .LVU2486
 6760 0180 23F08003 		bic	r3, r3, #128
 6761 0184 D360     		str	r3, [r2, #12]
1670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6762              		.loc 1 1670 5 is_stmt 1 view .LVU2487
 6763 0186 2368     		ldr	r3, [r4]
 6764 0188 4FF40062 		mov	r2, #2048
 6765 018c 9A63     		str	r2, [r3, #56]
1672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6766              		.loc 1 1672 5 view .LVU2488
1672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6767              		.loc 1 1672 8 is_stmt 0 view .LVU2489
 6768 018e 15F0080F 		tst	r5, #8
 6769 0192 1AD1     		bne	.L414
1683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6770              		.loc 1 1683 10 is_stmt 1 view .LVU2490
1683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6771              		.loc 1 1683 13 is_stmt 0 view .LVU2491
 6772 0194 15F0800F 		tst	r5, #128
 6773 0198 3FF46AAF 		beq	.L389
1685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6774              		.loc 1 1685 7 is_stmt 1 view .LVU2492
1685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6775              		.loc 1 1685 14 is_stmt 0 view .LVU2493
 6776 019c 636B     		ldr	r3, [r4, #52]
1685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6777              		.loc 1 1685 10 view .LVU2494
 6778 019e 002B     		cmp	r3, #0
 6779 01a0 3FF466AF 		beq	.L389
1688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 6780              		.loc 1 1688 9 is_stmt 1 view .LVU2495
 6781 01a4 2268     		ldr	r2, [r4]
 6782 01a6 D36B     		ldr	r3, [r2, #60]
 6783 01a8 23F08053 		bic	r3, r3, #268435456
 6784 01ac D363     		str	r3, [r2, #60]
1689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6785              		.loc 1 1689 9 view .LVU2496
1689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6786              		.loc 1 1689 12 is_stmt 0 view .LVU2497
 6787 01ae 2368     		ldr	r3, [r4]
1689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6788              		.loc 1 1689 33 view .LVU2498
 6789 01b0 0022     		movs	r2, #0
 6790 01b2 1A65     		str	r2, [r3, #80]
1692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6791              		.loc 1 1692 9 is_stmt 1 view .LVU2499
1692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6792              		.loc 1 1692 20 is_stmt 0 view .LVU2500
 6793 01b4 0123     		movs	r3, #1
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 232


 6794 01b6 84F83030 		strb	r3, [r4, #48]
1696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6795              		.loc 1 1696 9 is_stmt 1 view .LVU2501
 6796 01ba 2046     		mov	r0, r4
 6797 01bc FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6798              	.LVL526:
 6799 01c0 56E7     		b	.L389
 6800              	.LVL527:
 6801              	.L413:
1634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6802              		.loc 1 1634 5 view .LVU2502
 6803 01c2 2046     		mov	r0, r4
 6804              	.LVL528:
1634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6805              		.loc 1 1634 5 is_stmt 0 view .LVU2503
 6806 01c4 FFF7FEFF 		bl	SD_Write_IT
 6807              	.LVL529:
 6808 01c8 52E7     		b	.L389
 6809              	.L414:
1675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6810              		.loc 1 1675 7 is_stmt 1 view .LVU2504
1675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6811              		.loc 1 1675 18 is_stmt 0 view .LVU2505
 6812 01ca 0123     		movs	r3, #1
 6813 01cc 84F83030 		strb	r3, [r4, #48]
1676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6814              		.loc 1 1676 7 is_stmt 1 view .LVU2506
1676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6815              		.loc 1 1676 20 is_stmt 0 view .LVU2507
 6816 01d0 0023     		movs	r3, #0
 6817 01d2 E362     		str	r3, [r4, #44]
1680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6818              		.loc 1 1680 7 is_stmt 1 view .LVU2508
 6819 01d4 2046     		mov	r0, r4
 6820 01d6 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6821              	.LVL530:
 6822 01da 49E7     		b	.L389
 6823              	.LVL531:
 6824              	.L399:
1706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6825              		.loc 1 1706 8 view .LVU2509
1706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6826              		.loc 1 1706 12 is_stmt 0 view .LVU2510
 6827 01dc 5A6B     		ldr	r2, [r3, #52]
1706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6828              		.loc 1 1706 11 view .LVU2511
 6829 01de 12F0805F 		tst	r2, #268435456
 6830 01e2 3FF445AF 		beq	.L389
1708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (READ_BIT(hsd->Instance->IDMACTRL, SDMMC_IDMA_IDMABACT) == 0U)
 6831              		.loc 1 1708 5 is_stmt 1 view .LVU2512
 6832 01e6 4FF08052 		mov	r2, #268435456
 6833 01ea 9A63     		str	r2, [r3, #56]
1709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6834              		.loc 1 1709 5 view .LVU2513
1709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6835              		.loc 1 1709 9 is_stmt 0 view .LVU2514
 6836 01ec 2368     		ldr	r3, [r4]
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 233


 6837 01ee 1B6D     		ldr	r3, [r3, #80]
1709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6838              		.loc 1 1709 8 view .LVU2515
 6839 01f0 13F0040F 		tst	r3, #4
 6840 01f4 0AD1     		bne	.L405
1712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6841              		.loc 1 1712 7 is_stmt 1 view .LVU2516
1712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6842              		.loc 1 1712 10 is_stmt 0 view .LVU2517
 6843 01f6 15F0200F 		tst	r5, #32
 6844 01fa 03D0     		beq	.L406
1717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6845              		.loc 1 1717 9 is_stmt 1 view .LVU2518
 6846 01fc 2046     		mov	r0, r4
 6847              	.LVL532:
1717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6848              		.loc 1 1717 9 is_stmt 0 view .LVU2519
 6849 01fe FFF7FEFF 		bl	HAL_SDEx_Write_DMADoubleBuf1CpltCallback
 6850              	.LVL533:
 6851 0202 35E7     		b	.L389
 6852              	.LVL534:
 6853              	.L406:
1725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6854              		.loc 1 1725 9 is_stmt 1 view .LVU2520
 6855 0204 2046     		mov	r0, r4
 6856              	.LVL535:
1725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6857              		.loc 1 1725 9 is_stmt 0 view .LVU2521
 6858 0206 FFF7FEFF 		bl	HAL_SDEx_Read_DMADoubleBuf1CpltCallback
 6859              	.LVL536:
 6860 020a 31E7     		b	.L389
 6861              	.LVL537:
 6862              	.L405:
1732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6863              		.loc 1 1732 7 is_stmt 1 view .LVU2522
1732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6864              		.loc 1 1732 10 is_stmt 0 view .LVU2523
 6865 020c 15F0200F 		tst	r5, #32
 6866 0210 03D0     		beq	.L407
1737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6867              		.loc 1 1737 9 is_stmt 1 view .LVU2524
 6868 0212 2046     		mov	r0, r4
 6869              	.LVL538:
1737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6870              		.loc 1 1737 9 is_stmt 0 view .LVU2525
 6871 0214 FFF7FEFF 		bl	HAL_SDEx_Write_DMADoubleBuf0CpltCallback
 6872              	.LVL539:
 6873 0218 2AE7     		b	.L389
 6874              	.LVL540:
 6875              	.L407:
1745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6876              		.loc 1 1745 9 is_stmt 1 view .LVU2526
 6877 021a 2046     		mov	r0, r4
 6878              	.LVL541:
1745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6879              		.loc 1 1745 9 is_stmt 0 view .LVU2527
 6880 021c FFF7FEFF 		bl	HAL_SDEx_Read_DMADoubleBuf0CpltCallback
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 234


 6881              	.LVL542:
1753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6882              		.loc 1 1753 3 is_stmt 1 view .LVU2528
1754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6883              		.loc 1 1754 1 is_stmt 0 view .LVU2529
 6884 0220 26E7     		b	.L389
 6885              	.L416:
 6886 0222 00BF     		.align	2
 6887              	.L415:
 6888 0224 C53EFFFF 		.word	-49467
 6889 0228 3A0F0018 		.word	402657082
 6890              		.cfi_endproc
 6891              	.LFE345:
 6893              		.text
 6894              	.Letext0:
 6895              		.file 2 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 6896              		.file 3 "D:/armtoolchain/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/in
 6897              		.file 4 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 6898              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h7xx.h"
 6899              		.file 6 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 6900              		.file 7 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_ll_sdmmc.h"
 6901              		.file 8 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_sd.h"
 6902              		.file 9 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_rcc_ex.h"
 6903              		.file 10 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 6904              		.file 11 "<built-in>"
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 235


DEFINED SYMBOLS
                            *ABS*:00000000 stm32h7xx_hal_sd.c
C:\usertemp\ccPT1Kkv.s:20     .text.SD_PowerON:00000000 $t
C:\usertemp\ccPT1Kkv.s:25     .text.SD_PowerON:00000000 SD_PowerON
C:\usertemp\ccPT1Kkv.s:246    .text.SD_PowerON:000000c0 $d
C:\usertemp\ccPT1Kkv.s:251    .text.SD_PowerOFF:00000000 $t
C:\usertemp\ccPT1Kkv.s:256    .text.SD_PowerOFF:00000000 SD_PowerOFF
C:\usertemp\ccPT1Kkv.s:282    .text.SD_Read_IT:00000000 $t
C:\usertemp\ccPT1Kkv.s:287    .text.SD_Read_IT:00000000 SD_Read_IT
C:\usertemp\ccPT1Kkv.s:384    .text.SD_Write_IT:00000000 $t
C:\usertemp\ccPT1Kkv.s:389    .text.SD_Write_IT:00000000 SD_Write_IT
C:\usertemp\ccPT1Kkv.s:501    .text.SD_SendSDStatus:00000000 $t
C:\usertemp\ccPT1Kkv.s:506    .text.SD_SendSDStatus:00000000 SD_SendSDStatus
C:\usertemp\ccPT1Kkv.s:772    .text.SD_SendSDStatus:00000104 $d
C:\usertemp\ccPT1Kkv.s:777    .text.SD_FindSCR:00000000 $t
C:\usertemp\ccPT1Kkv.s:782    .text.SD_FindSCR:00000000 SD_FindSCR
C:\usertemp\ccPT1Kkv.s:1051   .text.SD_FindSCR:00000104 $d
C:\usertemp\ccPT1Kkv.s:1056   .text.SD_WideBus_Enable:00000000 $t
C:\usertemp\ccPT1Kkv.s:1061   .text.SD_WideBus_Enable:00000000 SD_WideBus_Enable
C:\usertemp\ccPT1Kkv.s:1156   .text.SD_WideBus_Disable:00000000 $t
C:\usertemp\ccPT1Kkv.s:1161   .text.SD_WideBus_Disable:00000000 SD_WideBus_Disable
C:\usertemp\ccPT1Kkv.s:1256   .text.SD_HighSpeed:00000000 $t
C:\usertemp\ccPT1Kkv.s:1261   .text.SD_HighSpeed:00000000 SD_HighSpeed
C:\usertemp\ccPT1Kkv.s:1532   .text.SD_HighSpeed:0000010c $d
C:\usertemp\ccPT1Kkv.s:1538   .text.SD_SendStatus:00000000 $t
C:\usertemp\ccPT1Kkv.s:1543   .text.SD_SendStatus:00000000 SD_SendStatus
C:\usertemp\ccPT1Kkv.s:1608   .text.HAL_SD_MspInit:00000000 $t
C:\usertemp\ccPT1Kkv.s:1614   .text.HAL_SD_MspInit:00000000 HAL_SD_MspInit
C:\usertemp\ccPT1Kkv.s:1629   .text.HAL_SD_MspDeInit:00000000 $t
C:\usertemp\ccPT1Kkv.s:1635   .text.HAL_SD_MspDeInit:00000000 HAL_SD_MspDeInit
C:\usertemp\ccPT1Kkv.s:1650   .text.HAL_SD_DeInit:00000000 $t
C:\usertemp\ccPT1Kkv.s:1656   .text.HAL_SD_DeInit:00000000 HAL_SD_DeInit
C:\usertemp\ccPT1Kkv.s:1710   .text.HAL_SD_ReadBlocks:00000000 $t
C:\usertemp\ccPT1Kkv.s:1716   .text.HAL_SD_ReadBlocks:00000000 HAL_SD_ReadBlocks
C:\usertemp\ccPT1Kkv.s:2196   .text.HAL_SD_ReadBlocks:000001fc $d
C:\usertemp\ccPT1Kkv.s:2202   .text.HAL_SD_WriteBlocks:00000000 $t
C:\usertemp\ccPT1Kkv.s:2208   .text.HAL_SD_WriteBlocks:00000000 HAL_SD_WriteBlocks
C:\usertemp\ccPT1Kkv.s:2702   .text.HAL_SD_WriteBlocks:0000020c $d
C:\usertemp\ccPT1Kkv.s:2708   .text.HAL_SD_ReadBlocks_IT:00000000 $t
C:\usertemp\ccPT1Kkv.s:2714   .text.HAL_SD_ReadBlocks_IT:00000000 HAL_SD_ReadBlocks_IT
C:\usertemp\ccPT1Kkv.s:2939   .text.HAL_SD_ReadBlocks_IT:000000d0 $d
C:\usertemp\ccPT1Kkv.s:2944   .text.HAL_SD_WriteBlocks_IT:00000000 $t
C:\usertemp\ccPT1Kkv.s:2950   .text.HAL_SD_WriteBlocks_IT:00000000 HAL_SD_WriteBlocks_IT
C:\usertemp\ccPT1Kkv.s:3174   .text.HAL_SD_WriteBlocks_IT:000000cc $d
C:\usertemp\ccPT1Kkv.s:3179   .text.HAL_SD_ReadBlocks_DMA:00000000 $t
C:\usertemp\ccPT1Kkv.s:3185   .text.HAL_SD_ReadBlocks_DMA:00000000 HAL_SD_ReadBlocks_DMA
C:\usertemp\ccPT1Kkv.s:3421   .text.HAL_SD_ReadBlocks_DMA:000000dc $d
C:\usertemp\ccPT1Kkv.s:3426   .text.HAL_SD_WriteBlocks_DMA:00000000 $t
C:\usertemp\ccPT1Kkv.s:3432   .text.HAL_SD_WriteBlocks_DMA:00000000 HAL_SD_WriteBlocks_DMA
C:\usertemp\ccPT1Kkv.s:3667   .text.HAL_SD_WriteBlocks_DMA:000000dc $d
C:\usertemp\ccPT1Kkv.s:3672   .text.HAL_SD_Erase:00000000 $t
C:\usertemp\ccPT1Kkv.s:3678   .text.HAL_SD_Erase:00000000 HAL_SD_Erase
C:\usertemp\ccPT1Kkv.s:3931   .text.HAL_SD_Erase:000000f4 $d
C:\usertemp\ccPT1Kkv.s:3936   .text.HAL_SD_GetState:00000000 $t
C:\usertemp\ccPT1Kkv.s:3942   .text.HAL_SD_GetState:00000000 HAL_SD_GetState
C:\usertemp\ccPT1Kkv.s:3960   .text.HAL_SD_GetError:00000000 $t
C:\usertemp\ccPT1Kkv.s:3966   .text.HAL_SD_GetError:00000000 HAL_SD_GetError
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 236


C:\usertemp\ccPT1Kkv.s:3984   .text.HAL_SD_TxCpltCallback:00000000 $t
C:\usertemp\ccPT1Kkv.s:3990   .text.HAL_SD_TxCpltCallback:00000000 HAL_SD_TxCpltCallback
C:\usertemp\ccPT1Kkv.s:4005   .text.HAL_SD_RxCpltCallback:00000000 $t
C:\usertemp\ccPT1Kkv.s:4011   .text.HAL_SD_RxCpltCallback:00000000 HAL_SD_RxCpltCallback
C:\usertemp\ccPT1Kkv.s:4026   .text.HAL_SD_ErrorCallback:00000000 $t
C:\usertemp\ccPT1Kkv.s:4032   .text.HAL_SD_ErrorCallback:00000000 HAL_SD_ErrorCallback
C:\usertemp\ccPT1Kkv.s:4047   .text.HAL_SD_AbortCallback:00000000 $t
C:\usertemp\ccPT1Kkv.s:4053   .text.HAL_SD_AbortCallback:00000000 HAL_SD_AbortCallback
C:\usertemp\ccPT1Kkv.s:4068   .text.HAL_SD_GetCardCID:00000000 $t
C:\usertemp\ccPT1Kkv.s:4074   .text.HAL_SD_GetCardCID:00000000 HAL_SD_GetCardCID
C:\usertemp\ccPT1Kkv.s:4159   .text.HAL_SD_GetCardCSD:00000000 $t
C:\usertemp\ccPT1Kkv.s:4165   .text.HAL_SD_GetCardCSD:00000000 HAL_SD_GetCardCSD
C:\usertemp\ccPT1Kkv.s:4539   .text.HAL_SD_GetCardCSD:000001b4 $d
C:\usertemp\ccPT1Kkv.s:4544   .text.SD_InitCard:00000000 $t
C:\usertemp\ccPT1Kkv.s:4549   .text.SD_InitCard:00000000 SD_InitCard
C:\usertemp\ccPT1Kkv.s:4790   .text.HAL_SD_InitCard:00000000 $t
C:\usertemp\ccPT1Kkv.s:4796   .text.HAL_SD_InitCard:00000000 HAL_SD_InitCard
C:\usertemp\ccPT1Kkv.s:5001   .text.HAL_SD_InitCard:000000b8 $d
C:\usertemp\ccPT1Kkv.s:5008   .text.HAL_SD_GetCardStatus:00000000 $t
C:\usertemp\ccPT1Kkv.s:5014   .text.HAL_SD_GetCardStatus:00000000 HAL_SD_GetCardStatus
C:\usertemp\ccPT1Kkv.s:5217   .text.HAL_SD_GetCardStatus:000000cc $d
C:\usertemp\ccPT1Kkv.s:5222   .text.HAL_SD_GetCardInfo:00000000 $t
C:\usertemp\ccPT1Kkv.s:5228   .text.HAL_SD_GetCardInfo:00000000 HAL_SD_GetCardInfo
C:\usertemp\ccPT1Kkv.s:5286   .text.HAL_SD_ConfigWideBusOperation:00000000 $t
C:\usertemp\ccPT1Kkv.s:5292   .text.HAL_SD_ConfigWideBusOperation:00000000 HAL_SD_ConfigWideBusOperation
C:\usertemp\ccPT1Kkv.s:5630   .text.HAL_SD_ConfigWideBusOperation:00000144 $d
C:\usertemp\ccPT1Kkv.s:5638   .text.HAL_SD_GetCardState:00000000 $t
C:\usertemp\ccPT1Kkv.s:5644   .text.HAL_SD_GetCardState:00000000 HAL_SD_GetCardState
C:\usertemp\ccPT1Kkv.s:5702   .text.HAL_SD_Init:00000000 $t
C:\usertemp\ccPT1Kkv.s:5708   .text.HAL_SD_Init:00000000 HAL_SD_Init
C:\usertemp\ccPT1Kkv.s:5918   .text.HAL_SD_ConfigSpeedBusOperation:00000000 $t
C:\usertemp\ccPT1Kkv.s:5924   .text.HAL_SD_ConfigSpeedBusOperation:00000000 HAL_SD_ConfigSpeedBusOperation
C:\usertemp\ccPT1Kkv.s:6152   .text.HAL_SD_ConfigSpeedBusOperation:000000dc $d
C:\usertemp\ccPT1Kkv.s:6157   .text.HAL_SD_Abort:00000000 $t
C:\usertemp\ccPT1Kkv.s:6163   .text.HAL_SD_Abort:00000000 HAL_SD_Abort
C:\usertemp\ccPT1Kkv.s:6242   .text.HAL_SD_Abort:00000044 $d
C:\usertemp\ccPT1Kkv.s:6247   .text.HAL_SD_Abort_IT:00000000 $t
C:\usertemp\ccPT1Kkv.s:6253   .text.HAL_SD_Abort_IT:00000000 HAL_SD_Abort_IT
C:\usertemp\ccPT1Kkv.s:6334   .text.HAL_SD_Abort_IT:00000048 $d
C:\usertemp\ccPT1Kkv.s:6339   .text.HAL_SDEx_Read_DMADoubleBuf0CpltCallback:00000000 $t
C:\usertemp\ccPT1Kkv.s:6345   .text.HAL_SDEx_Read_DMADoubleBuf0CpltCallback:00000000 HAL_SDEx_Read_DMADoubleBuf0CpltCallback
C:\usertemp\ccPT1Kkv.s:6360   .text.HAL_SDEx_Read_DMADoubleBuf1CpltCallback:00000000 $t
C:\usertemp\ccPT1Kkv.s:6366   .text.HAL_SDEx_Read_DMADoubleBuf1CpltCallback:00000000 HAL_SDEx_Read_DMADoubleBuf1CpltCallback
C:\usertemp\ccPT1Kkv.s:6381   .text.HAL_SDEx_Write_DMADoubleBuf0CpltCallback:00000000 $t
C:\usertemp\ccPT1Kkv.s:6387   .text.HAL_SDEx_Write_DMADoubleBuf0CpltCallback:00000000 HAL_SDEx_Write_DMADoubleBuf0CpltCallback
C:\usertemp\ccPT1Kkv.s:6402   .text.HAL_SDEx_Write_DMADoubleBuf1CpltCallback:00000000 $t
C:\usertemp\ccPT1Kkv.s:6408   .text.HAL_SDEx_Write_DMADoubleBuf1CpltCallback:00000000 HAL_SDEx_Write_DMADoubleBuf1CpltCallback
C:\usertemp\ccPT1Kkv.s:6423   .text.HAL_SD_IRQHandler:00000000 $t
C:\usertemp\ccPT1Kkv.s:6429   .text.HAL_SD_IRQHandler:00000000 HAL_SD_IRQHandler
C:\usertemp\ccPT1Kkv.s:6888   .text.HAL_SD_IRQHandler:00000224 $d

UNDEFINED SYMBOLS
SDMMC_CmdGoIdleState
SDMMC_CmdOperCond
SDMMC_CmdAppCommand
SDMMC_CmdAppOperCommand
SDMMC_GetResponse
ARM GAS  C:\usertemp\ccPT1Kkv.s 			page 237


SDMMC_PowerState_OFF
SDMMC_ReadFIFO
SDMMC_WriteFIFO
HAL_GetTick
SDMMC_CmdBlockLength
SDMMC_ConfigData
SDMMC_CmdStatusRegister
SDMMC_CmdSendSCR
SDMMC_CmdBusWidth
memset
SDMMC_CmdSwitch
SDMMC_CmdSendStatus
SDMMC_CmdReadMultiBlock
SDMMC_CmdReadSingleBlock
SDMMC_CmdStopTransfer
SDMMC_CmdWriteMultiBlock
SDMMC_CmdWriteSingleBlock
SDMMC_CmdSDEraseStartAdd
SDMMC_CmdSDEraseEndAdd
SDMMC_CmdErase
SDMMC_GetPowerState
SDMMC_CmdSetRelAdd
SDMMC_CmdSendCID
SDMMC_CmdSendCSD
SDMMC_CmdSelDesel
HAL_RCCEx_GetPeriphCLKFreq
SDMMC_Init
SDMMC_PowerState_ON
HAL_Delay
